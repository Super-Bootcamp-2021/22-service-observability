/*! For license information please see performance.js.LICENSE.txt */
(()=>{"use strict";var t={873:(t,e,n)=>{n.d(e,{_:()=>l});var r=n(655),i=n(422),o=n(343),a=n(470),s=n(597);t=n.hmd(t);var c=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],u={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},l=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:c,this._describeOperations=!("describeOperations"in t)||t.describeOperations}return e.prototype.setupOnce=function(e,n){var r;try{r=(0,i.l)(t,"mongodb").Collection}catch(t){return void o.k.error("Mongo Integration was unable to require `mongodb` package.")}this._instrumentOperations(r,this._operations,n)},e.prototype._instrumentOperations=function(t,e,n){var r=this;e.forEach((function(e){return r._patchOperation(t,e,n)}))},e.prototype._patchOperation=function(t,e,n){if(e in t.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);(0,a.hl)(t.prototype,e,(function(t){return function(){for(var o,a,c,u,l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var f=l[l.length-1],d=n().getScope(),h=null===(o=d)||void 0===o?void 0:o.getSpan();if("function"!=typeof f||"mapReduce"===e&&2===l.length){var v=null===(a=h)||void 0===a?void 0:a.startChild(i(this,e,l)),m=t.call.apply(t,(0,r.fl)([this],l));return(0,s.J8)(m)?m.then((function(t){var e;return null===(e=v)||void 0===e||e.finish(),t})):(null===(c=v)||void 0===c||c.finish(),m)}var y=null===(u=h)||void 0===u?void 0:u.startChild(i(this,e,l.slice(0,-1)));return t.call.apply(t,(0,r.fl)([this],l.slice(0,-1),[function(t,e){var n;null===(n=y)||void 0===n||n.finish(),f(t,e)}]))}}))}},e.prototype._getSpanContextFromOperationArguments=function(t,e,n){var i={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},o={op:"db",description:e,data:i},a=u[e],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!a||!s)return o;try{if("mapReduce"===e){var c=(0,r.CR)(n,2),l=c[0],p=c[1];i[a[0]]="string"==typeof l?l:l.name||"<anonymous>",i[a[1]]="string"==typeof p?p:p.name||"<anonymous>"}else for(var f=0;f<a.length;f++)i[a[f]]=JSON.stringify(n[f])}catch(t){}return o},e.id="Mongo",e}()},736:(t,e,n)=>{n.d(e,{m:()=>a});var r=n(422),i=n(343),o=n(470);t=n.hmd(t);var a=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(e,n){var a;try{a=(0,r.l)(t,"mysql/lib/Connection.js")}catch(t){return void i.k.error("Mysql Integration was unable to require `mysql` package.")}(0,o.hl)(a.prototype,"query",(function(t){return function(e,r,i){var o,a,s=null===(a=null===(o=n().getScope())||void 0===o?void 0:o.getSpan())||void 0===a?void 0:a.startChild({description:"string"==typeof e?e:e.sql,op:"db"});return"function"==typeof i?t.call(this,e,r,(function(t,e,n){var r;null===(r=s)||void 0===r||r.finish(),i(t,e,n)})):"function"==typeof r?t.call(this,e,(function(t,e,n){var i;null===(i=s)||void 0===i||i.finish(),r(t,e,n)})):t.call(this,e,r,i)}}))},e.id="Mysql",e}()},136:(t,e,n)=>{n.d(e,{E:()=>a});var r=n(422),i=n(343),o=n(470);t=n.hmd(t);var a=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(e,n){var a;try{a=(0,r.l)(t,"pg").Client}catch(t){return void i.k.error("Postgres Integration was unable to require `pg` package.")}(0,o.hl)(a.prototype,"query",(function(t){return function(e,r,i){var o,a,s=null===(a=null===(o=n().getScope())||void 0===o?void 0:o.getSpan())||void 0===a?void 0:a.startChild({description:"string"==typeof e?e:e.text,op:"db"});return"function"==typeof i?t.call(this,e,r,(function(t,e){var n;null===(n=s)||void 0===n||n.finish(),i(t,e)})):"function"==typeof r?t.call(this,e,(function(t,e){var n;null===(n=s)||void 0===n||n.finish(),r(t,e)})):t.call(this,e,r).then((function(t){var e;return null===(e=s)||void 0===e||e.finish(),t}))}}))},e.id="Postgres",e}()},464:(t,e,n)=>{n.d(e,{R:()=>i});var r=n(597);function i(t){try{for(var e=t,n=[],r=0,i=0,a=" > ".length,s=void 0;e&&r++<5&&!("html"===(s=o(e))||r>1&&i+n.length*a+s.length>=80);)n.push(s),i+=s.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function o(t){var e,n,i,o,a,s=t,c=[];if(!s||!s.tagName)return"";if(c.push(s.tagName.toLowerCase()),s.id&&c.push("#"+s.id),(e=s.className)&&(0,r.HD)(e))for(n=e.split(/\s+/),a=0;a<n.length;a++)c.push("."+n[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)i=u[a],(o=s.getAttribute(i))&&c.push("["+i+'="'+o+'"]');return c.join("")}},597:(t,e,n)=>{function r(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return v(t,Error)}}function i(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function c(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"undefined"!=typeof Event&&v(t,Event)}function p(t){return"undefined"!=typeof Element&&v(t,Element)}function f(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function d(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function h(t){return u(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function v(t,e){try{return t instanceof e}catch(t){return!1}}n.d(e,{VZ:()=>r,VW:()=>i,TX:()=>o,fm:()=>a,HD:()=>s,pt:()=>c,PO:()=>u,cO:()=>l,kK:()=>p,Kj:()=>f,J8:()=>d,Cy:()=>h,V9:()=>v})},343:(t,e,n)=>{n.d(e,{k:()=>s});var r=n(844),i=(0,r.Rf)(),o="Sentry Logger ",a=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&(0,r.Cf)((function(){i.console.log(o+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&(0,r.Cf)((function(){i.console.warn(o+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&(0,r.Cf)((function(){i.console.error(o+"[Error]: "+t.join(" "))}))},t}();i.__SENTRY__=i.__SENTRY__||{};var s=i.__SENTRY__.logger||(i.__SENTRY__.logger=new a)},844:(t,e,n)=>{n.d(e,{Rf:()=>o,DM:()=>a,en:()=>s,jH:()=>c,Cf:()=>u,Db:()=>l,EG:()=>p,l4:()=>f,JY:()=>d});var r=n(422),i={};function o(){return(0,r.K)()?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function a(){var t=o(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function s(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function c(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function u(t){var e=o();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)}));var i=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),i}function l(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function p(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(t){}}function f(){try{return document.location.href}catch(t){return""}}function d(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}},422:(t,e,n)=>{function r(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(t,e){return t.require(e)}n.d(e,{K:()=>r,l:()=>i})},470:(t,e,n)=>{n.d(e,{Jr:()=>y,zf:()=>m,hl:()=>u,Fv:()=>v,Qy:()=>f,_j:()=>l});var r=n(655),i=n(464),o=n(597),a=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t)return!0;return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}(),s=n(360),c=n(321);function u(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(t){}t[e]=i}}function l(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function p(t){if((0,o.VZ)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if((0,o.cO)(t)){var a=t,s={};s.type=a.type;try{s.target=(0,o.kK)(a.target)?(0,i.R)(a.target):Object.prototype.toString.call(a.target)}catch(t){s.target="<unknown>"}try{s.currentTarget=(0,o.kK)(a.currentTarget)?(0,i.R)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(t){s.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&(0,o.V9)(t,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a);return s}return t}function f(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r,i=v(t,e);return r=i,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(r))>n?f(t,e-1,n):i}function d(t,e){return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==n.g&&t===n.g?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,o.Cy)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+(0,s.$)(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t}function h(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new a),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=d(t);return(0,o.pt)(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var i=d(e,t);if((0,o.pt)(i))return i;var s=p(e),c=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(c[u]=h(u,s[u],n-1,r));return r.unmemoize(e),c}function v(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return h(t,n,e)})))}catch(t){return"**non-serializable**"}}function m(t,e){void 0===e&&(e=40);var n=Object.keys(p(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return(0,c.$G)(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:(0,c.$G)(i,e)}return""}function y(t){var e,n;if((0,o.PO)(t)){var i=t,a={};try{for(var s=(0,r.XA)(Object.keys(i)),c=s.next();!c.done;c=s.next()){var u=c.value;void 0!==i[u]&&(a[u]=y(i[u]))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a}return Array.isArray(t)?t.map(y):t}},360:(t,e,n)=>{n.d(e,{$:()=>i});var r="<anonymous>";function i(t){try{return t&&"function"==typeof t&&t.name||r}catch(t){return r}}},321:(t,e,n)=>{n.d(e,{$G:()=>i,nK:()=>o,zC:()=>a});var r=n(597);function i(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function a(t,e){return!!(0,r.HD)(t)&&((0,r.Kj)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}},170:(t,e,n)=>{n.d(e,{yW:()=>c,_I:()=>u,Z1:()=>l});var r=n(844),i=n(422);t=n.hmd(t);var o={nowSeconds:function(){return Date.now()/1e3}},a=(0,i.K)()?function(){try{return(0,i.l)(t,"perf_hooks").performance}catch(t){return}}():function(){var t=(0,r.Rf)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},c=o.nowSeconds.bind(o),u=s.nowSeconds.bind(s),l=function(){var t=(0,r.Rf)().performance;if(t)return t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()}()},1:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,".error {\r\n  color: red;\r\n}\r\n.primary {\r\n  color: blue;\r\n}","",{version:3,sources:["webpack://./webapp/src/performance/main.css"],names:[],mappings:"AAAA;EACE,UAAU;AACZ;AACA;EACE,WAAW;AACb",sourcesContent:[".error {\r\n  color: red;\r\n}\r\n.primary {\r\n  color: blue;\r\n}"],sourceRoot:""}]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},15:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r,i=(r=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(n,r)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],a=i[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),u="/*# ".concat(c," */"),l=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(l).concat([u]).join("\n")}return[o].join("\n")}},379:(t,e,n)=>{var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],c=e.base?s[0]+e.base:s[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var p=a(l),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(o[p].references++,o[p].updater(f)):o.push({identifier:l,updater:v(f,e),references:1}),r.push(l)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function p(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,h=0;function v(t,e){var n,r,i;if(e.singleton){var o=h++;n=d||(d=c(e)),r=p.bind(null,n,o,!1),i=p.bind(null,n,o,!0)}else n=c(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var c=s(t,e),u=0;u<n.length;u++){var l=a(n[u]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=c}}}},121:(t,e,n)=>{n.d(e,{Z:()=>r}),t=n.hmd(t);const r=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:t)},655:(t,e,n)=>{n.d(e,{ZT:()=>i,pi:()=>o,_T:()=>a,XA:()=>s,CR:()=>c,fl:()=>u});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={};n.r(t),n.d(t,{Express:()=>yp,Mongo:()=>xp._,Mysql:()=>Sp.m,Postgres:()=>wp.E});var e=Object.freeze({});function r(t){return null==t}function i(t){return null!=t}function o(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function s(t){return null!==t&&"object"==typeof t}var c=Object.prototype.toString;function u(t){return"[object Object]"===c.call(t)}function l(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function p(t){return i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function f(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function d(t){var e=parseFloat(t);return isNaN(e)?t:e}function h(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var v=h("slot,component",!0),m=h("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var g=Object.prototype.hasOwnProperty;function _(t,e){return g.call(t,e)}function b(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var w=/-(\w)/g,S=b((function(t){return t.replace(w,(function(t,e){return e?e.toUpperCase():""}))})),x=b((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),k=/\B([A-Z])/g,E=b((function(t){return t.replace(k,"-$1").toLowerCase()})),O=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function T(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function C(t,e){for(var n in e)t[n]=e[n];return t}function A(t){for(var e={},n=0;n<t.length;n++)t[n]&&C(e,t[n]);return e}function j(t,e,n){}var $=function(t,e,n){return!1},I=function(t){return t};function R(t,e){if(t===e)return!0;var n=s(t),r=s(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return R(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),c=Object.keys(e);return a.length===c.length&&a.every((function(n){return R(t[n],e[n])}))}catch(t){return!1}}function D(t,e){for(var n=0;n<t.length;n++)if(R(t[n],e))return n;return-1}function N(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var P="data-server-rendered",M=["component","directive","filter"],L=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],F={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:$,isReservedAttr:$,isUnknownElement:$,getTagNamespace:j,parsePlatformTagName:I,mustUseProp:$,async:!0,_lifecycleHooks:L},U=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function B(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var q,W=new RegExp("[^"+U.source+".$_\\d]"),z="__proto__"in{},V="undefined"!=typeof window,J="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,K=J&&WXEnvironment.platform.toLowerCase(),G=V&&window.navigator.userAgent.toLowerCase(),Y=G&&/msie|trident/.test(G),X=G&&G.indexOf("msie 9.0")>0,Z=G&&G.indexOf("edge/")>0,Q=(G&&G.indexOf("android"),G&&/iphone|ipad|ipod|ios/.test(G)||"ios"===K),tt=(G&&/chrome\/\d+/.test(G),G&&/phantomjs/.test(G),G&&G.match(/firefox\/(\d+)/)),et={}.watch,nt=!1;if(V)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){nt=!0}}),window.addEventListener("test-passive",null,rt)}catch(t){}var it=function(){return void 0===q&&(q=!V&&!J&&void 0!==n.g&&n.g.process&&"server"===n.g.process.env.VUE_ENV),q},ot=V&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function at(t){return"function"==typeof t&&/native code/.test(t.toString())}var st,ct="undefined"!=typeof Symbol&&at(Symbol)&&"undefined"!=typeof Reflect&&at(Reflect.ownKeys);st="undefined"!=typeof Set&&at(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ut=j,lt=0,pt=function(){this.id=lt++,this.subs=[]};pt.prototype.addSub=function(t){this.subs.push(t)},pt.prototype.removeSub=function(t){y(this.subs,t)},pt.prototype.depend=function(){pt.target&&pt.target.addDep(this)},pt.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},pt.target=null;var ft=[];function dt(t){ft.push(t),pt.target=t}function ht(){ft.pop(),pt.target=ft[ft.length-1]}var vt=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},mt={child:{configurable:!0}};mt.child.get=function(){return this.componentInstance},Object.defineProperties(vt.prototype,mt);var yt=function(t){void 0===t&&(t="");var e=new vt;return e.text=t,e.isComment=!0,e};function gt(t){return new vt(void 0,void 0,void 0,String(t))}function _t(t){var e=new vt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var bt=Array.prototype,wt=Object.create(bt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=bt[t];B(wt,t,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o}))}));var St=Object.getOwnPropertyNames(wt),xt=!0;function kt(t){xt=t}var Et=function(t){this.value=t,this.dep=new pt,this.vmCount=0,B(t,"__ob__",this),Array.isArray(t)?(z?function(t,e){t.__proto__=e}(t,wt):function(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];B(t,o,e[o])}}(t,wt,St),this.observeArray(t)):this.walk(t)};function Ot(t,e){var n;if(s(t)&&!(t instanceof vt))return _(t,"__ob__")&&t.__ob__ instanceof Et?n=t.__ob__:xt&&!it()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Et(t)),e&&n&&n.vmCount++,n}function Tt(t,e,n,r,i){var o=new pt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set;s&&!c||2!==arguments.length||(n=t[e]);var u=!i&&Ot(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return pt.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(e)&&jt(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!=e&&r!=r||s&&!c||(c?c.call(t,e):n=e,u=!i&&Ot(e),o.notify())}})}}function Ct(t,e,n){if(Array.isArray(t)&&l(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Tt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function At(t,e){if(Array.isArray(t)&&l(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||_(t,e)&&(delete t[e],n&&n.dep.notify())}}function jt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&jt(e)}Et.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Tt(t,e[n])},Et.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Ot(t[e])};var $t=F.optionMergeStrategies;function It(t,e){if(!e)return t;for(var n,r,i,o=ct?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(r=t[n],i=e[n],_(t,n)?r!==i&&u(r)&&u(i)&&It(r,i):Ct(t,n,i));return t}function Rt(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?It(r,i):i}:e?t?function(){return It("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Dt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Nt(t,e,n,r){var i=Object.create(t||null);return e?C(i,e):i}$t.data=function(t,e,n){return n?Rt(t,e,n):e&&"function"!=typeof e?t:Rt(t,e)},L.forEach((function(t){$t[t]=Dt})),M.forEach((function(t){$t[t+"s"]=Nt})),$t.watch=function(t,e,n,r){if(t===et&&(t=void 0),e===et&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in C(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},$t.props=$t.methods=$t.inject=$t.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return C(i,t),e&&C(i,e),i},$t.provide=Rt;var Pt=function(t,e){return void 0===e?t:e};function Mt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o[S(i)]={type:null});else if(u(n))for(var a in n)i=n[a],o[S(a)]=u(i)?i:{type:i};t.props=o}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(u(n))for(var o in n){var a=n[o];r[o]=u(a)?C({from:o},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=Mt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Mt(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)_(t,o)||s(o);function s(r){var i=$t[r]||Pt;a[r]=i(t[r],e[r],n,r)}return a}function Lt(t,e,n,r){if("string"==typeof n){var i=t[e];if(_(i,n))return i[n];var o=S(n);if(_(i,o))return i[o];var a=x(o);return _(i,a)?i[a]:i[n]||i[o]||i[a]}}function Ft(t,e,n,r){var i=e[t],o=!_(n,t),a=n[t],s=Bt(Boolean,i.type);if(s>-1)if(o&&!_(i,"default"))a=!1;else if(""===a||a===E(t)){var c=Bt(String,i.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(_(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof r&&"Function"!==Ut(e.type)?r.call(t):r}}(r,i,t);var u=xt;kt(!0),Ot(a),kt(u)}return a}function Ut(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Ht(t,e){return Ut(t)===Ut(e)}function Bt(t,e){if(!Array.isArray(e))return Ht(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Ht(e[n],t))return n;return-1}function qt(t,e,n){dt();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){zt(t,r,"errorCaptured hook")}}zt(t,e,n)}finally{ht()}}function Wt(t,e,n,r,i){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&p(o)&&!o._handled&&(o.catch((function(t){return qt(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(t){qt(t,r,i)}return o}function zt(t,e,n){if(F.errorHandler)try{return F.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Vt(e)}Vt(t)}function Vt(t,e,n){if(!V&&!J||"undefined"==typeof console)throw t;console.error(t)}var Jt,Kt=!1,Gt=[],Yt=!1;function Xt(){Yt=!1;var t=Gt.slice(0);Gt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&at(Promise)){var Zt=Promise.resolve();Jt=function(){Zt.then(Xt),Q&&setTimeout(j)},Kt=!0}else if(Y||"undefined"==typeof MutationObserver||!at(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Jt="undefined"!=typeof setImmediate&&at(setImmediate)?function(){setImmediate(Xt)}:function(){setTimeout(Xt,0)};else{var Qt=1,te=new MutationObserver(Xt),ee=document.createTextNode(String(Qt));te.observe(ee,{characterData:!0}),Jt=function(){Qt=(Qt+1)%2,ee.data=String(Qt)},Kt=!0}function ne(t,e){var n;if(Gt.push((function(){if(t)try{t.call(e)}catch(t){qt(t,e,"nextTick")}else n&&n(e)})),Yt||(Yt=!0,Jt()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}var re=new st;function ie(t){oe(t,re),re.clear()}function oe(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!s(t)||Object.isFrozen(t)||t instanceof vt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(n=t.length;n--;)oe(t[n],e);else for(n=(r=Object.keys(t)).length;n--;)oe(t[r[n]],e)}}var ae=b((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function se(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return Wt(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)Wt(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function ce(t,e,n,i,a,s){var c,u,l,p;for(c in t)u=t[c],l=e[c],p=ae(c),r(u)||(r(l)?(r(u.fns)&&(u=t[c]=se(u,s)),o(p.once)&&(u=t[c]=a(p.name,u,p.capture)),n(p.name,u,p.capture,p.passive,p.params)):u!==l&&(l.fns=u,t[c]=l));for(c in e)r(t[c])&&i((p=ae(c)).name,e[c],p.capture)}function ue(t,e,n){var a;t instanceof vt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function c(){n.apply(this,arguments),y(a.fns,c)}r(s)?a=se([c]):i(s.fns)&&o(s.merged)?(a=s).fns.push(c):a=se([s,c]),a.merged=!0,t[e]=a}function le(t,e,n,r,o){if(i(e)){if(_(e,n))return t[n]=e[n],o||delete e[n],!0;if(_(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function pe(t){return a(t)?[gt(t)]:Array.isArray(t)?de(t):void 0}function fe(t){return i(t)&&i(t.text)&&function(t){return!1===t}(t.isComment)}function de(t,e){var n,s,c,u,l=[];for(n=0;n<t.length;n++)r(s=t[n])||"boolean"==typeof s||(u=l[c=l.length-1],Array.isArray(s)?s.length>0&&(fe((s=de(s,(e||"")+"_"+n))[0])&&fe(u)&&(l[c]=gt(u.text+s[0].text),s.shift()),l.push.apply(l,s)):a(s)?fe(u)?l[c]=gt(u.text+s):""!==s&&l.push(gt(s)):fe(s)&&fe(u)?l[c]=gt(u.text+s.text):(o(t._isVList)&&i(s.tag)&&r(s.key)&&i(e)&&(s.key="__vlist"+e+"_"+n+"__"),l.push(s)));return l}function he(t,e){if(t){for(var n=Object.create(null),r=ct?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var a=t[o].from,s=e;s;){if(s._provided&&_(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in t[o]){var c=t[o].default;n[o]="function"==typeof c?c.call(e):c}}}return n}}function ve(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,c=n[s]||(n[s]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var u in n)n[u].every(me)&&delete n[u];return n}function me(t){return t.isComment&&!t.asyncFactory||" "===t.text}function ye(t,n,r){var i,o=Object.keys(n).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&r&&r!==e&&s===r.$key&&!o&&!r.$hasNormal)return r;for(var c in i={},t)t[c]&&"$"!==c[0]&&(i[c]=ge(n,c,t[c]))}else i={};for(var u in n)u in i||(i[u]=_e(n,u));return t&&Object.isExtensible(t)&&(t._normalized=i),B(i,"$stable",a),B(i,"$key",s),B(i,"$hasNormal",o),i}function ge(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:pe(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function _e(t,e){return function(){return t[e]}}function be(t,e){var n,r,o,a,c;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(s(t))if(ct&&t[Symbol.iterator]){n=[];for(var u=t[Symbol.iterator](),l=u.next();!l.done;)n.push(e(l.value,n.length)),l=u.next()}else for(a=Object.keys(t),n=new Array(a.length),r=0,o=a.length;r<o;r++)c=a[r],n[r]=e(t[c],c,r);return i(n)||(n=[]),n._isVList=!0,n}function we(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=C(C({},r),n)),i=o(n)||e):i=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function Se(t){return Lt(this.$options,"filters",t)||I}function xe(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function ke(t,e,n,r,i){var o=F.keyCodes[e]||n;return i&&r&&!F.keyCodes[e]?xe(i,r):o?xe(o,t):r?E(r)!==e:void 0}function Ee(t,e,n,r,i){if(n&&s(n)){var o;Array.isArray(n)&&(n=A(n));var a=function(a){if("class"===a||"style"===a||m(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||F.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=S(a),u=E(a);c in o||u in o||(o[a]=n[a],i&&((t.on||(t.on={}))["update:"+a]=function(t){n[a]=t}))};for(var c in n)a(c)}return t}function Oe(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||Ce(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function Te(t,e,n){return Ce(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ce(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Ae(t[r],e+"_"+r,n);else Ae(t,e,n)}function Ae(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function je(t,e){if(e&&u(e)){var n=t.on=t.on?C({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}return t}function $e(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?$e(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Ie(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Re(t,e){return"string"==typeof t?e+t:t}function De(t){t._o=Te,t._n=d,t._s=f,t._l=be,t._t=we,t._q=R,t._i=D,t._m=Oe,t._f=Se,t._k=ke,t._b=Ee,t._v=gt,t._e=yt,t._u=$e,t._g=je,t._d=Ie,t._p=Re}function Ne(t,n,r,i,a){var s,c=this,u=a.options;_(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var l=o(u._compiled),p=!l;this.data=t,this.props=n,this.children=r,this.parent=i,this.listeners=t.on||e,this.injections=he(u.inject,i),this.slots=function(){return c.$slots||ye(t.scopedSlots,c.$slots=ve(r,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ye(t.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=ye(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,r){var o=Be(s,t,e,n,r,p);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return Be(s,t,e,n,r,p)}}function Pe(t,e,n,r,i){var o=_t(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Me(t,e){for(var n in e)t[S(n)]=e[n]}De(Ne.prototype);var Le={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Le.prepatch(n,n)}else(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}(t,Qe)).$mount(e?t.elm:void 0,e)},prepatch:function(t,n){var r=n.componentOptions;!function(t,n,r,i,o){var a=i.data.scopedSlots,s=t.$scopedSlots,c=!!(a&&!a.$stable||s!==e&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),u=!!(o||t.$options._renderChildren||c);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||e,t.$listeners=r||e,n&&t.$options.props){kt(!1);for(var l=t._props,p=t.$options._propKeys||[],f=0;f<p.length;f++){var d=p[f],h=t.$options.props;l[d]=Ft(d,h,n,t)}kt(!0),t.$options.propsData=n}r=r||e;var v=t.$options._parentListeners;t.$options._parentListeners=r,Ze(t,r,v),u&&(t.$slots=ve(o,i.context),t.$forceUpdate())}(n.componentInstance=t.componentInstance,r.propsData,r.listeners,n,r.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,on(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,sn.push(e)):nn(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?rn(e,!0):e.$destroy())}},Fe=Object.keys(Le);function Ue(t,n,a,c,u){if(!r(t)){var l=a.$options._base;if(s(t)&&(t=l.extend(t)),"function"==typeof t){var f;if(r(t.cid)&&void 0===(t=function(t,e){if(o(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var n=ze;if(n&&i(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),o(t.loading)&&i(t.loadingComp))return t.loadingComp;if(n&&!i(t.owners)){var a=t.owners=[n],c=!0,u=null,l=null;n.$on("hook:destroyed",(function(){return y(a,n)}));var f=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},d=N((function(n){t.resolved=Ve(n,e),c?a.length=0:f(!0)})),h=N((function(e){i(t.errorComp)&&(t.error=!0,f(!0))})),v=t(d,h);return s(v)&&(p(v)?r(t.resolved)&&v.then(d,h):p(v.component)&&(v.component.then(d,h),i(v.error)&&(t.errorComp=Ve(v.error,e)),i(v.loading)&&(t.loadingComp=Ve(v.loading,e),0===v.delay?t.loading=!0:u=setTimeout((function(){u=null,r(t.resolved)&&r(t.error)&&(t.loading=!0,f(!1))}),v.delay||200)),i(v.timeout)&&(l=setTimeout((function(){l=null,r(t.resolved)&&h(null)}),v.timeout)))),c=!1,t.loading?t.loadingComp:t.resolved}}(f=t,l)))return function(t,e,n,r,i){var o=yt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}(f,n,a,c,u);n=n||{},On(t),i(n.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[r],s=e.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[r]=[s].concat(a)):o[r]=s}(t.options,n);var d=function(t,e,n){var o=e.options.props;if(!r(o)){var a={},s=t.attrs,c=t.props;if(i(s)||i(c))for(var u in o){var l=E(u);le(a,c,u,l,!0)||le(a,s,u,l,!1)}return a}}(n,t);if(o(t.options.functional))return function(t,n,r,o,a){var s=t.options,c={},u=s.props;if(i(u))for(var l in u)c[l]=Ft(l,u,n||e);else i(r.attrs)&&Me(c,r.attrs),i(r.props)&&Me(c,r.props);var p=new Ne(r,c,a,o,t),f=s.render.call(null,p._c,p);if(f instanceof vt)return Pe(f,r,p.parent,s);if(Array.isArray(f)){for(var d=pe(f)||[],h=new Array(d.length),v=0;v<d.length;v++)h[v]=Pe(d[v],r,p.parent,s);return h}}(t,d,n,a,c);var h=n.on;if(n.on=n.nativeOn,o(t.options.abstract)){var v=n.slot;n={},v&&(n.slot=v)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Fe.length;n++){var r=Fe[n],i=e[r],o=Le[r];i===o||i&&i._merged||(e[r]=i?He(o,i):o)}}(n);var m=t.options.name||u;return new vt("vue-component-"+t.cid+(m?"-"+m:""),n,void 0,void 0,void 0,a,{Ctor:t,propsData:d,listeners:h,tag:u,children:c},f)}}}function He(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function Be(t,e,n,r,c,u){return(Array.isArray(n)||a(n))&&(c=r,r=n,n=void 0),o(u)&&(c=2),function(t,e,n,r,o){if(i(n)&&i(n.__ob__))return yt();if(i(n)&&i(n.is)&&(e=n.is),!e)return yt();var a,c,u;(Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),2===o?r=pe(r):1===o&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r)),"string"==typeof e)?(c=t.$vnode&&t.$vnode.ns||F.getTagNamespace(e),a=F.isReservedTag(e)?new vt(F.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!i(u=Lt(t.$options,"components",e))?new vt(e,n,r,void 0,void 0,t):Ue(u,n,t,r,e)):a=Ue(e,n,t,r);return Array.isArray(a)?a:i(a)?(i(c)&&qe(a,c),i(n)&&function(t){s(t.style)&&ie(t.style),s(t.class)&&ie(t.class)}(n),a):yt()}(t,e,n,r,c)}function qe(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),i(t.children))for(var a=0,s=t.children.length;a<s;a++){var c=t.children[a];i(c.tag)&&(r(c.ns)||o(n)&&"svg"!==c.tag)&&qe(c,e,n)}}var We,ze=null;function Ve(t,e){return(t.__esModule||ct&&"Module"===t[Symbol.toStringTag])&&(t=t.default),s(t)?e.extend(t):t}function Je(t){return t.isComment&&t.asyncFactory}function Ke(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||Je(n)))return n}}function Ge(t,e){We.$on(t,e)}function Ye(t,e){We.$off(t,e)}function Xe(t,e){var n=We;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function Ze(t,e,n){We=t,ce(e,n||{},Ge,Ye,Xe,t),We=void 0}var Qe=null;function tn(t){var e=Qe;return Qe=t,function(){Qe=e}}function en(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function nn(t,e){if(e){if(t._directInactive=!1,en(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)nn(t.$children[n]);on(t,"activated")}}function rn(t,e){if(!(e&&(t._directInactive=!0,en(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)rn(t.$children[n]);on(t,"deactivated")}}function on(t,e){dt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)Wt(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),ht()}var an=[],sn=[],cn={},un=!1,ln=!1,pn=0,fn=0,dn=Date.now;if(V&&!Y){var hn=window.performance;hn&&"function"==typeof hn.now&&dn()>document.createEvent("Event").timeStamp&&(dn=function(){return hn.now()})}function vn(){var t,e;for(fn=dn(),ln=!0,an.sort((function(t,e){return t.id-e.id})),pn=0;pn<an.length;pn++)(t=an[pn]).before&&t.before(),e=t.id,cn[e]=null,t.run();var n=sn.slice(),r=an.slice();pn=an.length=sn.length=0,cn={},un=ln=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,nn(t[e],!0)}(n),function(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&on(r,"updated")}}(r),ot&&F.devtools&&ot.emit("flush")}var mn=0,yn=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++mn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new st,this.newDepIds=new st,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!W.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=j)),this.value=this.lazy?void 0:this.get()};yn.prototype.get=function(){var t;dt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;qt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ie(t),ht(),this.cleanupDeps()}return t},yn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},yn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},yn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==cn[e]){if(cn[e]=!0,ln){for(var n=an.length-1;n>pn&&an[n].id>t.id;)n--;an.splice(n+1,0,t)}else an.push(t);un||(un=!0,ne(vn))}}(this)},yn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||s(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){qt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},yn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},yn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},yn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var gn={enumerable:!0,configurable:!0,get:j,set:j};function _n(t,e,n){gn.get=function(){return this[e][n]},gn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,gn)}var bn={lazy:!0};function wn(t,e,n){var r=!it();"function"==typeof n?(gn.get=r?Sn(e):xn(n),gn.set=j):(gn.get=n.get?r&&!1!==n.cache?Sn(e):xn(n.get):j,gn.set=n.set||j),Object.defineProperty(t,e,gn)}function Sn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),pt.target&&e.depend(),e.value}}function xn(t){return function(){return t.call(this,this)}}function kn(t,e,n,r){return u(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var En=0;function On(t){var e=t.options;if(t.super){var n=On(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}(t);r&&C(t.extendOptions,r),(e=t.options=Mt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Tn(t){this._init(t)}function Cn(t){return t&&(t.Ctor.options.name||t.tag)}function An(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!function(t){return"[object RegExp]"===c.call(t)}(t)&&t.test(e)}function jn(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=Cn(a.componentOptions);s&&!e(s)&&$n(n,o,r,i)}}}function $n(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,y(n,e)}!function(t){t.prototype._init=function(t){var n=this;n._uid=En++,n._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(n,t):n.$options=Mt(On(n.constructor),t||{},n),n._renderProxy=n,n._self=n,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(n),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ze(t,e)}(n),function(t){t._vnode=null,t._staticTrees=null;var n=t.$options,r=t.$vnode=n._parentVnode,i=r&&r.context;t.$slots=ve(n._renderChildren,i),t.$scopedSlots=e,t._c=function(e,n,r,i){return Be(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return Be(t,e,n,r,i,!0)};var o=r&&r.data;Tt(t,"$attrs",o&&o.attrs||e,null,!0),Tt(t,"$listeners",n._parentListeners||e,null,!0)}(n),on(n,"beforeCreate"),function(t){var e=he(t.$options.inject,t);e&&(kt(!1),Object.keys(e).forEach((function(n){Tt(t,n,e[n])})),kt(!0))}(n),function(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[];t.$parent&&kt(!1);var o=function(o){i.push(o);var a=Ft(o,e,n,t);Tt(r,o,a),o in t||_n(t,"_props",o)};for(var a in e)o(a);kt(!0)}(t,e.props),e.methods&&function(t,e){for(var n in t.$options.props,e)t[n]="function"!=typeof e[n]?j:O(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;u(e=t._data="function"==typeof e?function(t,e){dt();try{return t.call(e,e)}catch(t){return qt(t,e,"data()"),{}}finally{ht()}}(e,t):e||{})||(e={});for(var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);i--;){var o=n[i];r&&_(r,o)||H(o)||_n(t,"_data",o)}Ot(e,!0)}(t):Ot(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=it();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;r||(n[i]=new yn(t,a||j,j,bn)),i in t||wn(t,i,o)}}(t,e.computed),e.watch&&e.watch!==et&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)kn(t,n,r[i]);else kn(t,n,r)}}(t,e.watch)}(n),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(n),on(n,"created"),n.$options.el&&n.$mount(n.$options.el)}}(Tn),function(t){Object.defineProperty(t.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(t.prototype,"$props",{get:function(){return this._props}}),t.prototype.$set=Ct,t.prototype.$delete=At,t.prototype.$watch=function(t,e,n){var r=this;if(u(e))return kn(r,t,e,n);(n=n||{}).user=!0;var i=new yn(r,t,e,n);if(n.immediate)try{e.call(r,i.value)}catch(t){qt(t,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(Tn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;for(var s=a.length;s--;)if((o=a[s])===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?T(n):n;for(var r=T(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)Wt(n[o],e,r,e,i)}return e}}(Tn),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=tn(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){on(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),on(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Tn),function(t){De(t.prototype),t.prototype.$nextTick=function(t){return ne(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=ye(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{ze=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){qt(n,e,"render"),t=e._vnode}finally{ze=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof vt||(t=yt()),t.parent=i,t}}(Tn);var In=[String,RegExp,Array],Rn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:In,exclude:In,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)$n(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){jn(t,(function(t){return An(e,t)}))})),this.$watch("exclude",(function(e){jn(t,(function(t){return!An(e,t)}))}))},render:function(){var t=this.$slots.default,e=Ke(t),n=e&&e.componentOptions;if(n){var r=Cn(n),i=this.include,o=this.exclude;if(i&&(!r||!An(i,r))||o&&r&&An(o,r))return e;var a=this.cache,s=this.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[c]?(e.componentInstance=a[c].componentInstance,y(s,c),s.push(c)):(a[c]=e,s.push(c),this.max&&s.length>parseInt(this.max)&&$n(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return F}};Object.defineProperty(t,"config",e),t.util={warn:ut,extend:C,mergeOptions:Mt,defineReactive:Tt},t.set=Ct,t.delete=At,t.nextTick=ne,t.observable=function(t){return Ot(t),t},t.options=Object.create(null),M.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,C(t.options.components,Rn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=T(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Mt(this.options,t),this}}(t),function(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name,a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=Mt(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)_n(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)wn(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,M.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=C({},a.options),i[r]=a,a}}(t),function(t){M.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(Tn),Object.defineProperty(Tn.prototype,"$isServer",{get:it}),Object.defineProperty(Tn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Tn,"FunctionalRenderContext",{value:Ne}),Tn.version="2.6.12";var Dn=h("style,class"),Nn=h("input,textarea,option,select,progress"),Pn=function(t,e,n){return"value"===n&&Nn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Mn=h("contenteditable,draggable,spellcheck"),Ln=h("events,caret,typing,plaintext-only"),Fn=h("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Un="http://www.w3.org/1999/xlink",Hn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Bn=function(t){return Hn(t)?t.slice(6,t.length):""},qn=function(t){return null==t||!1===t};function Wn(t,e){return{staticClass:zn(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function zn(t,e){return t?e?t+" "+e:t:e||""}function Vn(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=Vn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):s(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Jn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Kn=h("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Gn=h("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Yn=function(t){return Kn(t)||Gn(t)};function Xn(t){return Gn(t)?"svg":"math"===t?"math":void 0}var Zn=Object.create(null),Qn=h("text,number,password,search,email,tel,url");function tr(t){return"string"==typeof t?document.querySelector(t)||document.createElement("div"):t}var er=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Jn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),nr={create:function(t,e){rr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(rr(t,!0),rr(e))},destroy:function(t){rr(t,!0)}};function rr(t,e){var n=t.data.ref;if(i(n)){var r=t.context,o=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[n])?y(a[n],o):a[n]===o&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var ir=new vt("",{},[]),or=["create","activate","update","remove","destroy"];function ar(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||Qn(r)&&Qn(o)}(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&r(e.asyncFactory.error))}function sr(t,e,n){var r,o,a={};for(r=e;r<=n;++r)i(o=t[r].key)&&(a[o]=r);return a}var cr={create:ur,update:ur,destroy:function(t){ur(t,ir)}};function ur(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,o=t===ir,a=e===ir,s=pr(t.data.directives,t.context),c=pr(e.data.directives,e.context),u=[],l=[];for(n in c)r=s[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,dr(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(dr(i,"bind",e,t),i.def&&i.def.inserted&&u.push(i));if(u.length){var p=function(){for(var n=0;n<u.length;n++)dr(u[n],"inserted",e,t)};o?ue(e,"insert",p):p()}if(l.length&&ue(e,"postpatch",(function(){for(var n=0;n<l.length;n++)dr(l[n],"componentUpdated",e,t)})),!o)for(n in s)c[n]||dr(s[n],"unbind",t,t,a)}(t,e)}var lr=Object.create(null);function pr(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=lr),i[fr(r)]=r,r.def=Lt(e.$options,"directives",r.name);return i}function fr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function dr(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){qt(r,n.context,"directive "+t.name+" "+e+" hook")}}var hr=[nr,cr];function vr(t,e){var n=e.componentOptions;if(!(i(n)&&!1===n.Ctor.options.inheritAttrs||r(t.data.attrs)&&r(e.data.attrs))){var o,a,s=e.elm,c=t.data.attrs||{},u=e.data.attrs||{};for(o in i(u.__ob__)&&(u=e.data.attrs=C({},u)),u)a=u[o],c[o]!==a&&mr(s,o,a);for(o in(Y||Z)&&u.value!==c.value&&mr(s,"value",u.value),c)r(u[o])&&(Hn(o)?s.removeAttributeNS(Un,Bn(o)):Mn(o)||s.removeAttribute(o))}}function mr(t,e,n){t.tagName.indexOf("-")>-1?yr(t,e,n):Fn(e)?qn(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Mn(e)?t.setAttribute(e,function(t,e){return qn(e)||"false"===e?"false":"contenteditable"===t&&Ln(e)?e:"true"}(e,n)):Hn(e)?qn(n)?t.removeAttributeNS(Un,Bn(e)):t.setAttributeNS(Un,e,n):yr(t,e,n)}function yr(t,e,n){if(qn(n))t.removeAttribute(e);else{if(Y&&!X&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var gr={create:vr,update:vr};function _r(t,e){var n=e.elm,o=e.data,a=t.data;if(!(r(o.staticClass)&&r(o.class)&&(r(a)||r(a.staticClass)&&r(a.class)))){var s=function(t){for(var e=t.data,n=t,r=t;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Wn(r.data,e));for(;i(n=n.parent);)n&&n.data&&(e=Wn(e,n.data));return o=e.staticClass,a=e.class,i(o)||i(a)?zn(o,Vn(a)):"";var o,a}(e),c=n._transitionClasses;i(c)&&(s=zn(s,Vn(c))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var br,wr,Sr,xr,kr,Er,Or={create:_r,update:_r},Tr=/[\w).+\-_$\]]/;function Cr(t){var e,n,r,i,o,a=!1,s=!1,c=!1,u=!1,l=0,p=0,f=0,d=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),a)39===e&&92!==n&&(a=!1);else if(s)34===e&&92!==n&&(s=!1);else if(c)96===e&&92!==n&&(c=!1);else if(u)47===e&&92!==n&&(u=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||l||p||f){switch(e){case 34:s=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:f++;break;case 41:f--;break;case 91:p++;break;case 93:p--;break;case 123:l++;break;case 125:l--}if(47===e){for(var h=r-1,v=void 0;h>=0&&" "===(v=t.charAt(h));h--);v&&Tr.test(v)||(u=!0)}}else void 0===i?(d=r+1,i=t.slice(0,r).trim()):m();function m(){(o||(o=[])).push(t.slice(d,r).trim()),d=r+1}if(void 0===i?i=t.slice(0,r).trim():0!==d&&m(),o)for(r=0;r<o.length;r++)i=Ar(i,o[r]);return i}function Ar(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),i=e.slice(n+1);return'_f("'+r+'")('+t+(")"!==i?","+i:i)}function jr(t,e){console.error("[Vue compiler]: "+t)}function $r(t,e){return t?t.map((function(t){return t[e]})).filter((function(t){return t})):[]}function Ir(t,e,n,r,i){(t.props||(t.props=[])).push(Hr({name:e,value:n,dynamic:i},r)),t.plain=!1}function Rr(t,e,n,r,i){(i?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(Hr({name:e,value:n,dynamic:i},r)),t.plain=!1}function Dr(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(Hr({name:e,value:n},r))}function Nr(t,e,n,r,i,o,a,s){(t.directives||(t.directives=[])).push(Hr({name:e,rawName:n,value:r,arg:i,isDynamicArg:o,modifiers:a},s)),t.plain=!1}function Pr(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function Mr(t,n,r,i,o,a,s,c){var u;(i=i||e).right?c?n="("+n+")==='click'?'contextmenu':("+n+")":"click"===n&&(n="contextmenu",delete i.right):i.middle&&(c?n="("+n+")==='click'?'mouseup':("+n+")":"click"===n&&(n="mouseup")),i.capture&&(delete i.capture,n=Pr("!",n,c)),i.once&&(delete i.once,n=Pr("~",n,c)),i.passive&&(delete i.passive,n=Pr("&",n,c)),i.native?(delete i.native,u=t.nativeEvents||(t.nativeEvents={})):u=t.events||(t.events={});var l=Hr({value:r.trim(),dynamic:c},s);i!==e&&(l.modifiers=i);var p=u[n];Array.isArray(p)?o?p.unshift(l):p.push(l):u[n]=p?o?[l,p]:[p,l]:l,t.plain=!1}function Lr(t,e,n){var r=Fr(t,":"+e)||Fr(t,"v-bind:"+e);if(null!=r)return Cr(r);if(!1!==n){var i=Fr(t,e);if(null!=i)return JSON.stringify(i)}}function Fr(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===e){i.splice(o,1);break}return n&&delete t.attrsMap[e],r}function Ur(t,e){for(var n=t.attrsList,r=0,i=n.length;r<i;r++){var o=n[r];if(e.test(o.name))return n.splice(r,1),o}}function Hr(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Br(t,e,n){var r=n||{},i=r.number,o="$$v";r.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(o="_n("+o+")");var a=qr(e,o);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+a+"}"}}function qr(t,e){var n=function(t){if(t=t.trim(),br=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<br-1)return(xr=t.lastIndexOf("."))>-1?{exp:t.slice(0,xr),key:'"'+t.slice(xr+1)+'"'}:{exp:t,key:null};for(wr=t,xr=kr=Er=0;!zr();)Vr(Sr=Wr())?Kr(Sr):91===Sr&&Jr(Sr);return{exp:t.slice(0,kr),key:t.slice(kr+1,Er)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Wr(){return wr.charCodeAt(++xr)}function zr(){return xr>=br}function Vr(t){return 34===t||39===t}function Jr(t){var e=1;for(kr=xr;!zr();)if(Vr(t=Wr()))Kr(t);else if(91===t&&e++,93===t&&e--,0===e){Er=xr;break}}function Kr(t){for(var e=t;!zr()&&(t=Wr())!==e;);}var Gr;function Yr(t,e,n){var r=Gr;return function i(){var o=e.apply(null,arguments);null!==o&&Qr(t,i,n,r)}}var Xr=Kt&&!(tt&&Number(tt[1])<=53);function Zr(t,e,n,r){if(Xr){var i=fn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Gr.addEventListener(t,e,nt?{capture:n,passive:r}:n)}function Qr(t,e,n,r){(r||Gr).removeEventListener(t,e._wrapper||e,n)}function ti(t,e){if(!r(t.data.on)||!r(e.data.on)){var n=e.data.on||{},o=t.data.on||{};Gr=e.elm,function(t){if(i(t.__r)){var e=Y?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}i(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),ce(n,o,Zr,Qr,Yr,e.context),Gr=void 0}}var ei,ni={create:ti,update:ti};function ri(t,e){if(!r(t.data.domProps)||!r(e.data.domProps)){var n,o,a=e.elm,s=t.data.domProps||{},c=e.data.domProps||{};for(n in i(c.__ob__)&&(c=e.data.domProps=C({},c)),s)n in c||(a[n]="");for(n in c){if(o=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var u=r(o)?"":String(o);ii(a,u)&&(a.value=u)}else if("innerHTML"===n&&Gn(a.tagName)&&r(a.innerHTML)){(ei=ei||document.createElement("div")).innerHTML="<svg>"+o+"</svg>";for(var l=ei.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}else if(o!==s[n])try{a[n]=o}catch(t){}}}}function ii(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return d(n)!==d(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var oi={create:ri,update:ri},ai=b((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function si(t){var e=ci(t.style);return t.staticStyle?C(t.staticStyle,e):e}function ci(t){return Array.isArray(t)?A(t):"string"==typeof t?ai(t):t}var ui,li=/^--/,pi=/\s*!important$/,fi=function(t,e,n){if(li.test(e))t.style.setProperty(e,n);else if(pi.test(n))t.style.setProperty(E(e),n.replace(pi,""),"important");else{var r=hi(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},di=["Webkit","Moz","ms"],hi=b((function(t){if(ui=ui||document.createElement("div").style,"filter"!==(t=S(t))&&t in ui)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<di.length;n++){var r=di[n]+e;if(r in ui)return r}}));function vi(t,e){var n=e.data,o=t.data;if(!(r(n.staticStyle)&&r(n.style)&&r(o.staticStyle)&&r(o.style))){var a,s,c=e.elm,u=o.staticStyle,l=o.normalizedStyle||o.style||{},p=u||l,f=ci(e.data.style)||{};e.data.normalizedStyle=i(f.__ob__)?C({},f):f;var d=function(t,e){for(var n,r={},i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=si(i.data))&&C(r,n);(n=si(t.data))&&C(r,n);for(var o=t;o=o.parent;)o.data&&(n=si(o.data))&&C(r,n);return r}(e);for(s in p)r(d[s])&&fi(c,s,"");for(s in d)(a=d[s])!==p[s]&&fi(c,s,null==a?"":a)}}var mi={create:vi,update:vi},yi=/\s+/;function gi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(yi).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function _i(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(yi).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function bi(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&C(e,wi(t.name||"v")),C(e,t),e}return"string"==typeof t?wi(t):void 0}}var wi=b((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Si=V&&!X,xi="transition",ki="animation",Ei="transition",Oi="transitionend",Ti="animation",Ci="animationend";Si&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ei="WebkitTransition",Oi="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Ti="WebkitAnimation",Ci="webkitAnimationEnd"));var Ai=V?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ji(t){Ai((function(){Ai(t)}))}function $i(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),gi(t,e))}function Ii(t,e){t._transitionClasses&&y(t._transitionClasses,e),_i(t,e)}function Ri(t,e,n){var r=Ni(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===xi?Oi:Ci,c=0,u=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++c>=a&&u()};setTimeout((function(){c<a&&u()}),o+1),t.addEventListener(s,l)}var Di=/\b(transform|all)(,|$)/;function Ni(t,e){var n,r=window.getComputedStyle(t),i=(r[Ei+"Delay"]||"").split(", "),o=(r[Ei+"Duration"]||"").split(", "),a=Pi(i,o),s=(r[Ti+"Delay"]||"").split(", "),c=(r[Ti+"Duration"]||"").split(", "),u=Pi(s,c),l=0,p=0;return e===xi?a>0&&(n=xi,l=a,p=o.length):e===ki?u>0&&(n=ki,l=u,p=c.length):p=(n=(l=Math.max(a,u))>0?a>u?xi:ki:null)?n===xi?o.length:c.length:0,{type:n,timeout:l,propCount:p,hasTransform:n===xi&&Di.test(r[Ei+"Property"])}}function Pi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Mi(e)+Mi(t[n])})))}function Mi(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Li(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=bi(t.data.transition);if(!r(o)&&!i(n._enterCb)&&1===n.nodeType){for(var a=o.css,c=o.type,u=o.enterClass,l=o.enterToClass,p=o.enterActiveClass,f=o.appearClass,h=o.appearToClass,v=o.appearActiveClass,m=o.beforeEnter,y=o.enter,g=o.afterEnter,_=o.enterCancelled,b=o.beforeAppear,w=o.appear,S=o.afterAppear,x=o.appearCancelled,k=o.duration,E=Qe,O=Qe.$vnode;O&&O.parent;)E=O.context,O=O.parent;var T=!E._isMounted||!t.isRootInsert;if(!T||w||""===w){var C=T&&f?f:u,A=T&&v?v:p,j=T&&h?h:l,$=T&&b||m,I=T&&"function"==typeof w?w:y,R=T&&S||g,D=T&&x||_,P=d(s(k)?k.enter:k),M=!1!==a&&!X,L=Hi(I),F=n._enterCb=N((function(){M&&(Ii(n,j),Ii(n,A)),F.cancelled?(M&&Ii(n,C),D&&D(n)):R&&R(n),n._enterCb=null}));t.data.show||ue(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),I&&I(n,F)})),$&&$(n),M&&($i(n,C),$i(n,A),ji((function(){Ii(n,C),F.cancelled||($i(n,j),L||(Ui(P)?setTimeout(F,P):Ri(n,c,F)))}))),t.data.show&&(e&&e(),I&&I(n,F)),M||L||F()}}}function Fi(t,e){var n=t.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=bi(t.data.transition);if(r(o)||1!==n.nodeType)return e();if(!i(n._leaveCb)){var a=o.css,c=o.type,u=o.leaveClass,l=o.leaveToClass,p=o.leaveActiveClass,f=o.beforeLeave,h=o.leave,v=o.afterLeave,m=o.leaveCancelled,y=o.delayLeave,g=o.duration,_=!1!==a&&!X,b=Hi(h),w=d(s(g)?g.leave:g),S=n._leaveCb=N((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),_&&(Ii(n,l),Ii(n,p)),S.cancelled?(_&&Ii(n,u),m&&m(n)):(e(),v&&v(n)),n._leaveCb=null}));y?y(x):x()}function x(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),_&&($i(n,u),$i(n,p),ji((function(){Ii(n,u),S.cancelled||($i(n,l),b||(Ui(w)?setTimeout(S,w):Ri(n,c,S)))}))),h&&h(n,S),_||b||S())}}function Ui(t){return"number"==typeof t&&!isNaN(t)}function Hi(t){if(r(t))return!1;var e=t.fns;return i(e)?Hi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Bi(t,e){!0!==e.data.show&&Li(e)}var qi=function(t){var e,n,s={},c=t.modules,u=t.nodeOps;for(e=0;e<or.length;++e)for(s[or[e]]=[],n=0;n<c.length;++n)i(c[n][or[e]])&&s[or[e]].push(c[n][or[e]]);function l(t){var e=u.parentNode(t);i(e)&&u.removeChild(e,t)}function p(t,e,n,r,a,c,l){if(i(t.elm)&&i(c)&&(t=c[l]=_t(t)),t.isRootInsert=!a,!function(t,e,n,r){var a=t.data;if(i(a)){var c=i(t.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(t,!1),i(t.componentInstance))return f(t,e),d(n,t.elm,r),o(c)&&function(t,e,n,r){for(var o,a=t;a.componentInstance;)if(i(o=(a=a.componentInstance._vnode).data)&&i(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](ir,a);e.push(a);break}d(n,t.elm,r)}(t,e,n,r),!0}}(t,e,n,r)){var p=t.data,h=t.children,m=t.tag;i(m)?(t.elm=t.ns?u.createElementNS(t.ns,m):u.createElement(m,t),g(t),v(t,h,e),i(p)&&y(t,e),d(n,t.elm,r)):o(t.isComment)?(t.elm=u.createComment(t.text),d(n,t.elm,r)):(t.elm=u.createTextNode(t.text),d(n,t.elm,r))}}function f(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,m(t)?(y(t,e),g(t)):(rr(t),e.push(t))}function d(t,e,n){i(t)&&(i(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function v(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r);else a(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function m(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return i(t.tag)}function y(t,n){for(var r=0;r<s.create.length;++r)s.create[r](ir,t);i(e=t.data.hook)&&(i(e.create)&&e.create(ir,t),i(e.insert)&&n.push(t))}function g(t){var e;if(i(e=t.fnScopeId))u.setStyleScope(t.elm,e);else for(var n=t;n;)i(e=n.context)&&i(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent;i(e=Qe)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function _(t,e,n,r,i,o){for(;r<=i;++r)p(n[r],o,t,e,!1,n,r)}function b(t){var e,n,r=t.data;if(i(r))for(i(e=r.hook)&&i(e=e.destroy)&&e(t),e=0;e<s.destroy.length;++e)s.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function w(t,e,n){for(;e<=n;++e){var r=t[e];i(r)&&(i(r.tag)?(S(r),b(r)):l(r.elm))}}function S(t,e){if(i(e)||i(t.data)){var n,r=s.remove.length+1;for(i(e)?e.listeners+=r:e=function(t,e){function n(){0==--n.listeners&&l(t)}return n.listeners=e,n}(t.elm,r),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&S(n,e),n=0;n<s.remove.length;++n)s.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else l(t.elm)}function x(t,e,n,r){for(var o=n;o<r;o++){var a=e[o];if(i(a)&&ar(t,a))return o}}function k(t,e,n,a,c,l){if(t!==e){i(e.elm)&&i(a)&&(e=a[c]=_t(e));var f=e.elm=t.elm;if(o(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?T(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,h=e.data;i(h)&&i(d=h.hook)&&i(d=d.prepatch)&&d(t,e);var v=t.children,y=e.children;if(i(h)&&m(e)){for(d=0;d<s.update.length;++d)s.update[d](t,e);i(d=h.hook)&&i(d=d.update)&&d(t,e)}r(e.text)?i(v)&&i(y)?v!==y&&function(t,e,n,o,a){for(var s,c,l,f=0,d=0,h=e.length-1,v=e[0],m=e[h],y=n.length-1,g=n[0],b=n[y],S=!a;f<=h&&d<=y;)r(v)?v=e[++f]:r(m)?m=e[--h]:ar(v,g)?(k(v,g,o,n,d),v=e[++f],g=n[++d]):ar(m,b)?(k(m,b,o,n,y),m=e[--h],b=n[--y]):ar(v,b)?(k(v,b,o,n,y),S&&u.insertBefore(t,v.elm,u.nextSibling(m.elm)),v=e[++f],b=n[--y]):ar(m,g)?(k(m,g,o,n,d),S&&u.insertBefore(t,m.elm,v.elm),m=e[--h],g=n[++d]):(r(s)&&(s=sr(e,f,h)),r(c=i(g.key)?s[g.key]:x(g,e,f,h))?p(g,o,t,v.elm,!1,n,d):ar(l=e[c],g)?(k(l,g,o,n,d),e[c]=void 0,S&&u.insertBefore(t,l.elm,v.elm)):p(g,o,t,v.elm,!1,n,d),g=n[++d]);f>h?_(t,r(n[y+1])?null:n[y+1].elm,n,d,y,o):d>y&&w(e,f,h)}(f,v,y,n,l):i(y)?(i(t.text)&&u.setTextContent(f,""),_(f,null,y,0,y.length-1,n)):i(v)?w(v,0,v.length-1):i(t.text)&&u.setTextContent(f,""):t.text!==e.text&&u.setTextContent(f,e.text),i(h)&&i(d=h.hook)&&i(d=d.postpatch)&&d(t,e)}}}function E(t,e,n){if(o(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var O=h("attrs,class,staticClass,staticStyle,key");function T(t,e,n,r){var a,s=e.tag,c=e.data,u=e.children;if(r=r||c&&c.pre,e.elm=t,o(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(a=c.hook)&&i(a=a.init)&&a(e,!0),i(a=e.componentInstance)))return f(e,n),!0;if(i(s)){if(i(u))if(t.hasChildNodes())if(i(a=c)&&i(a=a.domProps)&&i(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var l=!0,p=t.firstChild,d=0;d<u.length;d++){if(!p||!T(p,u[d],n,r)){l=!1;break}p=p.nextSibling}if(!l||p)return!1}else v(e,u,n);if(i(c)){var h=!1;for(var m in c)if(!O(m)){h=!0,y(e,n);break}!h&&c.class&&ie(c.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!r(e)){var c,l=!1,f=[];if(r(t))l=!0,p(e,f);else{var d=i(t.nodeType);if(!d&&ar(t,e))k(t,e,f,null,null,a);else{if(d){if(1===t.nodeType&&t.hasAttribute(P)&&(t.removeAttribute(P),n=!0),o(n)&&T(t,e,f))return E(e,f,!0),t;c=t,t=new vt(u.tagName(c).toLowerCase(),{},[],void 0,c)}var h=t.elm,v=u.parentNode(h);if(p(e,f,h._leaveCb?null:v,u.nextSibling(h)),i(e.parent))for(var y=e.parent,g=m(e);y;){for(var _=0;_<s.destroy.length;++_)s.destroy[_](y);if(y.elm=e.elm,g){for(var S=0;S<s.create.length;++S)s.create[S](ir,y);var x=y.data.hook.insert;if(x.merged)for(var O=1;O<x.fns.length;O++)x.fns[O]()}else rr(y);y=y.parent}i(v)?w([t],0,0):i(t.tag)&&b(t)}}return E(e,f,l),e.elm}i(t)&&b(t)}}({nodeOps:er,modules:[gr,Or,ni,oi,mi,V?{create:Bi,activate:Bi,remove:function(t,e){!0!==t.data.show?Fi(t,e):e()}}:{}].concat(hr)});X&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Xi(t,"input")}));var Wi={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?ue(n,"postpatch",(function(){Wi.componentUpdated(t,e,n)})):zi(t,e,n.context),t._vOptions=[].map.call(t.options,Ki)):("textarea"===n.tag||Qn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Gi),t.addEventListener("compositionend",Yi),t.addEventListener("change",Yi),X&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){zi(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Ki);i.some((function(t,e){return!R(t,r[e])}))&&(t.multiple?e.value.some((function(t){return Ji(t,i)})):e.value!==e.oldValue&&Ji(e.value,i))&&Xi(t,"change")}}};function zi(t,e,n){Vi(t,e),(Y||Z)&&setTimeout((function(){Vi(t,e)}),0)}function Vi(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,c=t.options.length;s<c;s++)if(a=t.options[s],i)o=D(r,Ki(a))>-1,a.selected!==o&&(a.selected=o);else if(R(Ki(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Ji(t,e){return e.every((function(e){return!R(e,t)}))}function Ki(t){return"_value"in t?t._value:t.value}function Gi(t){t.target.composing=!0}function Yi(t){t.target.composing&&(t.target.composing=!1,Xi(t.target,"input"))}function Xi(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Zi(t){return!t.componentInstance||t.data&&t.data.transition?t:Zi(t.componentInstance._vnode)}var Qi={model:Wi,show:{bind:function(t,e,n){var r=e.value,i=(n=Zi(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Li(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Zi(n)).data&&n.data.transition?(n.data.show=!0,r?Li(n,(function(){t.style.display=t.__vOriginalDisplay})):Fi(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},to={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function eo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?eo(Ke(e.children)):t}function no(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[S(o)]=i[o];return e}function ro(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var io=function(t){return t.tag||Je(t)},oo=function(t){return"show"===t.name},ao={name:"transition",props:to,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(io)).length){var r=this.mode,i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=eo(i);if(!o)return i;if(this._leaving)return ro(t,i);var s="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?s+"comment":s+o.tag:a(o.key)?0===String(o.key).indexOf(s)?o.key:s+o.key:o.key;var c=(o.data||(o.data={})).transition=no(this),u=this._vnode,l=eo(u);if(o.data.directives&&o.data.directives.some(oo)&&(o.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,l)&&!Je(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var p=l.data.transition=C({},c);if("out-in"===r)return this._leaving=!0,ue(p,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ro(t,i);if("in-out"===r){if(Je(o))return u;var f,d=function(){f()};ue(c,"afterEnter",d),ue(c,"enterCancelled",d),ue(p,"delayLeave",(function(t){f=t}))}}return i}}},so=C({tag:String,moveClass:String},to);function co(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function uo(t){t.data.newPos=t.elm.getBoundingClientRect()}function lo(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}delete so.mode;var po={Transition:ao,TransitionGroup:{props:so,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=tn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=no(this),s=0;s<i.length;s++){var c=i[s];c.tag&&null!=c.key&&0!==String(c.key).indexOf("__vlist")&&(o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=a)}if(r){for(var u=[],l=[],p=0;p<r.length;p++){var f=r[p];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?u.push(f):l.push(f)}this.kept=t(e,null,u),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(co),t.forEach(uo),t.forEach(lo),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;$i(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Oi,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Oi,t),n._moveCb=null,Ii(n,e))})}})))},methods:{hasMove:function(t,e){if(!Si)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){_i(n,t)})),gi(n,e),n.style.display="none",this.$el.appendChild(n);var r=Ni(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};Tn.config.mustUseProp=Pn,Tn.config.isReservedTag=Yn,Tn.config.isReservedAttr=Dn,Tn.config.getTagNamespace=Xn,Tn.config.isUnknownElement=function(t){if(!V)return!0;if(Yn(t))return!1;if(t=t.toLowerCase(),null!=Zn[t])return Zn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Zn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Zn[t]=/HTMLUnknownElement/.test(e.toString())},C(Tn.options.directives,Qi),C(Tn.options.components,po),Tn.prototype.__patch__=V?qi:j,Tn.prototype.$mount=function(t,e){return function(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=yt),on(t,"beforeMount"),r=function(){t._update(t._render(),n)},new yn(t,r,j,{before:function(){t._isMounted&&!t._isDestroyed&&on(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,on(t,"mounted")),t}(this,t=t&&V?tr(t):void 0,e)},V&&setTimeout((function(){F.devtools&&ot&&ot.emit("init",Tn)}),0);var fo,ho=/\{\{((?:.|\r?\n)+?)\}\}/g,vo=/[-.*+?^${}()|[\]\/\\]/g,mo=b((function(t){var e=t[0].replace(vo,"\\$&"),n=t[1].replace(vo,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")})),yo={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Fr(t,"class");n&&(t.staticClass=JSON.stringify(n));var r=Lr(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}},go={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Fr(t,"style");n&&(t.staticStyle=JSON.stringify(ai(n)));var r=Lr(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},_o=h("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),bo=h("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),wo=h("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),So=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,xo=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,ko="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+U.source+"]*",Eo="((?:"+ko+"\\:)?"+ko+")",Oo=new RegExp("^<"+Eo),To=/^\s*(\/?)>/,Co=new RegExp("^<\\/"+Eo+"[^>]*>"),Ao=/^<!DOCTYPE [^>]+>/i,jo=/^<!\--/,$o=/^<!\[/,Io=h("script,style,textarea",!0),Ro={},Do={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},No=/&(?:lt|gt|quot|amp|#39);/g,Po=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Mo=h("pre,textarea",!0),Lo=function(t,e){return t&&Mo(t)&&"\n"===e[0]};function Fo(t,e){var n=e?Po:No;return t.replace(n,(function(t){return Do[t]}))}var Uo,Ho,Bo,qo,Wo,zo,Vo,Jo,Ko=/^@|^v-on:/,Go=/^v-|^@|^:|^#/,Yo=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Xo=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Zo=/^\(|\)$/g,Qo=/^\[.*\]$/,ta=/:(.*)$/,ea=/^:|^\.|^v-bind:/,na=/\.[^.\]]+(?=[^\]]*$)/g,ra=/^v-slot(:|$)|^#/,ia=/[\r\n]/,oa=/\s+/g,aa=b((function(t){return(fo=fo||document.createElement("div")).innerHTML=t,fo.textContent})),sa="_empty_";function ca(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:ha(e),rawAttrsMap:{},parent:n,children:[]}}function ua(t,e){var n;!function(t){var e=Lr(t,"key");e&&(t.key=e)}(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=Lr(t,"ref");e&&(t.ref=e,t.refInFor=function(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=Fr(t,"scope"),t.slotScope=e||Fr(t,"slot-scope")):(e=Fr(t,"slot-scope"))&&(t.slotScope=e);var n=Lr(t,"slot");if(n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||Rr(t,"slot",n,function(t,e){return t.rawAttrsMap[":slot"]||t.rawAttrsMap["v-bind:slot"]||t.rawAttrsMap.slot}(t))),"template"===t.tag){var r=Ur(t,ra);if(r){var i=fa(r),o=i.name,a=i.dynamic;t.slotTarget=o,t.slotTargetDynamic=a,t.slotScope=r.value||sa}}else{var s=Ur(t,ra);if(s){var c=t.scopedSlots||(t.scopedSlots={}),u=fa(s),l=u.name,p=u.dynamic,f=c[l]=ca("template",[],t);f.slotTarget=l,f.slotTargetDynamic=p,f.children=t.children.filter((function(t){if(!t.slotScope)return t.parent=f,!0})),f.slotScope=s.value||sa,t.children=[],t.plain=!1}}}(t),"slot"===(n=t).tag&&(n.slotName=Lr(n,"name")),function(t){var e;(e=Lr(t,"is"))&&(t.component=e),null!=Fr(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var r=0;r<Bo.length;r++)t=Bo[r](t,e)||t;return function(t){var e,n,r,i,o,a,s,c,u=t.attrsList;for(e=0,n=u.length;e<n;e++)if(r=i=u[e].name,o=u[e].value,Go.test(r))if(t.hasBindings=!0,(a=da(r.replace(Go,"")))&&(r=r.replace(na,"")),ea.test(r))r=r.replace(ea,""),o=Cr(o),(c=Qo.test(r))&&(r=r.slice(1,-1)),a&&(a.prop&&!c&&"innerHtml"===(r=S(r))&&(r="innerHTML"),a.camel&&!c&&(r=S(r)),a.sync&&(s=qr(o,"$event"),c?Mr(t,'"update:"+('+r+")",s,null,!1,0,u[e],!0):(Mr(t,"update:"+S(r),s,null,!1,0,u[e]),E(r)!==S(r)&&Mr(t,"update:"+E(r),s,null,!1,0,u[e])))),a&&a.prop||!t.component&&Vo(t.tag,t.attrsMap.type,r)?Ir(t,r,o,u[e],c):Rr(t,r,o,u[e],c);else if(Ko.test(r))r=r.replace(Ko,""),(c=Qo.test(r))&&(r=r.slice(1,-1)),Mr(t,r,o,a,!1,0,u[e],c);else{var l=(r=r.replace(Go,"")).match(ta),p=l&&l[1];c=!1,p&&(r=r.slice(0,-(p.length+1)),Qo.test(p)&&(p=p.slice(1,-1),c=!0)),Nr(t,r,i,o,p,c,a,u[e])}else Rr(t,r,JSON.stringify(o),u[e]),!t.component&&"muted"===r&&Vo(t.tag,t.attrsMap.type,r)&&Ir(t,r,"true",u[e])}(t),t}function la(t){var e;if(e=Fr(t,"v-for")){var n=function(t){var e=t.match(Yo);if(e){var n={};n.for=e[2].trim();var r=e[1].trim().replace(Zo,""),i=r.match(Xo);return i?(n.alias=r.replace(Xo,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r,n}}(e);n&&C(t,n)}}function pa(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function fa(t){var e=t.name.replace(ra,"");return e||"#"!==t.name[0]&&(e="default"),Qo.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function da(t){var e=t.match(na);if(e){var n={};return e.forEach((function(t){n[t.slice(1)]=!0})),n}}function ha(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}var va=/^xmlns:NS\d+/,ma=/^NS\d+:/;function ya(t){return ca(t.tag,t.attrsList.slice(),t.parent)}var ga,_a,ba,wa=[yo,go,{preTransformNode:function(t,e){if("input"===t.tag){var n,r=t.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=Lr(t,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var i=Fr(t,"v-if",!0),o=i?"&&("+i+")":"",a=null!=Fr(t,"v-else",!0),s=Fr(t,"v-else-if",!0),c=ya(t);la(c),Dr(c,"type","checkbox"),ua(c,e),c.processed=!0,c.if="("+n+")==='checkbox'"+o,pa(c,{exp:c.if,block:c});var u=ya(t);Fr(u,"v-for",!0),Dr(u,"type","radio"),ua(u,e),pa(c,{exp:"("+n+")==='radio'"+o,block:u});var l=ya(t);return Fr(l,"v-for",!0),Dr(l,":type",n),ua(l,e),pa(c,{exp:i,block:l}),a?c.else=!0:s&&(c.elseif=s),c}}}}],Sa={expectHTML:!0,modules:wa,directives:{model:function(t,e,n){var r=e.value,i=e.modifiers,o=t.tag,a=t.attrsMap.type;if(t.component)return Br(t,r,i),!1;if("select"===o)!function(t,e,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";Mr(t,"change",r=r+" "+qr(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0)}(t,r,i);else if("input"===o&&"checkbox"===a)!function(t,e,n){var r=n&&n.number,i=Lr(t,"value")||"null",o=Lr(t,"true-value")||"true",a=Lr(t,"false-value")||"false";Ir(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),Mr(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+qr(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+qr(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+qr(e,"$$c")+"}",null,!0)}(t,r,i);else if("input"===o&&"radio"===a)!function(t,e,n){var r=n&&n.number,i=Lr(t,"value")||"null";Ir(t,"checked","_q("+e+","+(i=r?"_n("+i+")":i)+")"),Mr(t,"change",qr(e,i),null,!0)}(t,r,i);else if("input"===o||"textarea"===o)!function(t,e,n){var r=t.attrsMap.type,i=n||{},o=i.lazy,a=i.number,s=i.trim,c=!o&&"range"!==r,u=o?"change":"range"===r?"__r":"input",l="$event.target.value";s&&(l="$event.target.value.trim()"),a&&(l="_n("+l+")");var p=qr(e,l);c&&(p="if($event.target.composing)return;"+p),Ir(t,"value","("+e+")"),Mr(t,u,p,null,!0),(s||a)&&Mr(t,"blur","$forceUpdate()")}(t,r,i);else if(!F.isReservedTag(o))return Br(t,r,i),!1;return!0},text:function(t,e){e.value&&Ir(t,"textContent","_s("+e.value+")",e)},html:function(t,e){e.value&&Ir(t,"innerHTML","_s("+e.value+")",e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:_o,mustUseProp:Pn,canBeLeftOpenTag:bo,isReservedTag:Yn,getTagNamespace:Xn,staticKeys:(ba=wa,ba.reduce((function(t,e){return t.concat(e.staticKeys||[])}),[]).join(","))},xa=b((function(t){return h("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}));function ka(t,e){t&&(ga=xa(e.staticKeys||""),_a=e.isReservedTag||$,Ea(t),Oa(t,!1))}function Ea(t){if(t.static=function(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||v(t.tag)||!_a(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(ga))))}(t),1===t.type){if(!_a(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];Ea(r),r.static||(t.static=!1)}if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++){var a=t.ifConditions[i].block;Ea(a),a.static||(t.static=!1)}}}function Oa(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,r=t.children.length;n<r;n++)Oa(t.children[n],e||!!t.for);if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++)Oa(t.ifConditions[i].block,e)}}var Ta=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Ca=/\([^)]*?\);*$/,Aa=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,ja={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},$a={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Ia=function(t){return"if("+t+")return null;"},Ra={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Ia("$event.target !== $event.currentTarget"),ctrl:Ia("!$event.ctrlKey"),shift:Ia("!$event.shiftKey"),alt:Ia("!$event.altKey"),meta:Ia("!$event.metaKey"),left:Ia("'button' in $event && $event.button !== 0"),middle:Ia("'button' in $event && $event.button !== 1"),right:Ia("'button' in $event && $event.button !== 2")};function Da(t,e){var n=e?"nativeOn:":"on:",r="",i="";for(var o in t){var a=Na(t[o]);t[o]&&t[o].dynamic?i+=o+","+a+",":r+='"'+o+'":'+a+","}return r="{"+r.slice(0,-1)+"}",i?n+"_d("+r+",["+i.slice(0,-1)+"])":n+r}function Na(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map((function(t){return Na(t)})).join(",")+"]";var e=Aa.test(t.value),n=Ta.test(t.value),r=Aa.test(t.value.replace(Ca,""));if(t.modifiers){var i="",o="",a=[];for(var s in t.modifiers)if(Ra[s])o+=Ra[s],ja[s]&&a.push(s);else if("exact"===s){var c=t.modifiers;o+=Ia(["ctrl","shift","alt","meta"].filter((function(t){return!c[t]})).map((function(t){return"$event."+t+"Key"})).join("||"))}else a.push(s);return a.length&&(i+=function(t){return"if(!$event.type.indexOf('key')&&"+t.map(Pa).join("&&")+")return null;"}(a)),o&&(i+=o),"function($event){"+i+(e?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":r?"return "+t.value:t.value)+"}"}return e||n?t.value:"function($event){"+(r?"return "+t.value:t.value)+"}"}function Pa(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=ja[t],r=$a[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var Ma={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:j},La=function(t){this.options=t,this.warn=t.warn||jr,this.transforms=$r(t.modules,"transformCode"),this.dataGenFns=$r(t.modules,"genData"),this.directives=C(C({},Ma),t.directives);var e=t.isReservedTag||$;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Fa(t,e){var n=new La(e);return{render:"with(this){return "+(t?Ua(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Ua(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Ha(t,e);if(t.once&&!t.onceProcessed)return Ba(t,e);if(t.for&&!t.forProcessed)return za(t,e);if(t.if&&!t.ifProcessed)return qa(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=Ga(t,e),i="_t("+n+(r?","+r:""),o=t.attrs||t.dynamicAttrs?Za((t.attrs||[]).concat(t.dynamicAttrs||[]).map((function(t){return{name:S(t.name),value:t.value,dynamic:t.dynamic}}))):null,a=t.attrsMap["v-bind"];return!o&&!a||r||(i+=",null"),o&&(i+=","+o),a&&(i+=(o?"":",null")+","+a),i+")"}(t,e);var n;if(t.component)n=function(t,e,n){var r=e.inlineTemplate?null:Ga(e,n,!0);return"_c("+t+","+Va(e,n)+(r?","+r:"")+")"}(t.component,t,e);else{var r;(!t.plain||t.pre&&e.maybeComponent(t))&&(r=Va(t,e));var i=t.inlineTemplate?null:Ga(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return Ga(t,e)||"void 0"}function Ha(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+Ua(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Ba(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return qa(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Ua(t,e)+","+e.onceId+++","+n+")":Ua(t,e)}return Ha(t,e)}function qa(t,e,n,r){return t.ifProcessed=!0,Wa(t.ifConditions.slice(),e,n,r)}function Wa(t,e,n,r){if(!t.length)return r||"_e()";var i=t.shift();return i.exp?"("+i.exp+")?"+o(i.block)+":"+Wa(t,e,n,r):""+o(i.block);function o(t){return n?n(t,e):t.once?Ba(t,e):Ua(t,e)}}function za(t,e,n,r){var i=t.for,o=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(r||"_l")+"(("+i+"),function("+o+a+s+"){return "+(n||Ua)(t,e)+"})"}function Va(t,e){var n="{",r=function(t,e){var n=t.directives;if(n){var r,i,o,a,s="directives:[",c=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var u=e.directives[o.name];u&&(a=!!u(t,o,e.warn)),a&&(c=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}return c?s.slice(0,-1)+"]":void 0}}(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:"+Za(t.attrs)+","),t.props&&(n+="domProps:"+Za(t.props)+","),t.events&&(n+=Da(t.events,!1)+","),t.nativeEvents&&(n+=Da(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e,n){var r=t.for||Object.keys(e).some((function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||Ja(n)})),i=!!t.if;if(!r)for(var o=t.parent;o;){if(o.slotScope&&o.slotScope!==sa||o.for){r=!0;break}o.if&&(i=!0),o=o.parent}var a=Object.keys(e).map((function(t){return Ka(e[t],n)})).join(",");return"scopedSlots:_u(["+a+"]"+(r?",null,true":"")+(!r&&i?",null,false,"+function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(a):"")+")"}(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=function(t,e){var n=t.children[0];if(n&&1===n.type){var r=Fa(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map((function(t){return"function(){"+t+"}"})).join(",")+"]}"}}(t,e);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+Za(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Ja(t){return 1===t.type&&("slot"===t.tag||t.children.some(Ja))}function Ka(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return qa(t,e,Ka,"null");if(t.for&&!t.forProcessed)return za(t,e,Ka);var r=t.slotScope===sa?"":String(t.slotScope),i="function("+r+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(Ga(t,e)||"undefined")+":undefined":Ga(t,e)||"undefined":Ua(t,e))+"}",o=r?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+i+o+"}"}function Ga(t,e,n,r,i){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var s=n?e.maybeComponent(a)?",1":",0":"";return""+(r||Ua)(a,e)+s}var c=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(Ya(i)||i.ifConditions&&i.ifConditions.some((function(t){return Ya(t.block)}))){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some((function(t){return e(t.block)})))&&(n=1)}}return n}(o,e.maybeComponent):0,u=i||Xa;return"["+o.map((function(t){return u(t,e)})).join(",")+"]"+(c?","+c:"")}}function Ya(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Xa(t,e){return 1===t.type?Ua(t,e):3===t.type&&t.isComment?function(t){return"_e("+JSON.stringify(t.text)+")"}(t):"_v("+(2===(n=t).type?n.expression:Qa(JSON.stringify(n.text)))+")";var n}function Za(t){for(var e="",n="",r=0;r<t.length;r++){var i=t[r],o=Qa(i.value);i.dynamic?n+=i.name+","+o+",":e+='"'+i.name+'":'+o+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function Qa(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function ts(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),j}}function es(t){var e=Object.create(null);return function(n,r,i){(r=C({},r)).warn,delete r.warn;var o=r.delimiters?String(r.delimiters)+n:n;if(e[o])return e[o];var a=t(n,r),s={},c=[];return s.render=ts(a.render,c),s.staticRenderFns=a.staticRenderFns.map((function(t){return ts(t,c)})),e[o]=s}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");var ns,rs,is=(ns=function(t,e){var n=function(t,e){Uo=e.warn||jr,zo=e.isPreTag||$,Vo=e.mustUseProp||$,Jo=e.getTagNamespace||$,e.isReservedTag,Bo=$r(e.modules,"transformNode"),qo=$r(e.modules,"preTransformNode"),Wo=$r(e.modules,"postTransformNode"),Ho=e.delimiters;var n,r,i=[],o=!1!==e.preserveWhitespace,a=e.whitespace,s=!1,c=!1;function u(t){if(l(t),s||t.processed||(t=ua(t,e)),i.length||t===n||n.if&&(t.elseif||t.else)&&pa(n,{exp:t.elseif,block:t}),r&&!t.forbidden)if(t.elseif||t.else)a=t,(u=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(r.children))&&u.if&&pa(u,{exp:a.elseif,block:a});else{if(t.slotScope){var o=t.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[o]=t}r.children.push(t),t.parent=r}var a,u;t.children=t.children.filter((function(t){return!t.slotScope})),l(t),t.pre&&(s=!1),zo(t.tag)&&(c=!1);for(var p=0;p<Wo.length;p++)Wo[p](t,e)}function l(t){if(!c)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return function(t,e){for(var n,r,i=[],o=e.expectHTML,a=e.isUnaryTag||$,s=e.canBeLeftOpenTag||$,c=0;t;){if(n=t,r&&Io(r)){var u=0,l=r.toLowerCase(),p=Ro[l]||(Ro[l]=new RegExp("([\\s\\S]*?)(</"+l+"[^>]*>)","i")),f=t.replace(p,(function(t,n,r){return u=r.length,Io(l)||"noscript"===l||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Lo(l,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""}));c+=t.length-f.length,t=f,O(l,c-u,c)}else{var d=t.indexOf("<");if(0===d){if(jo.test(t)){var h=t.indexOf("--\x3e");if(h>=0){e.shouldKeepComment&&e.comment(t.substring(4,h),c,c+h+3),x(h+3);continue}}if($o.test(t)){var v=t.indexOf("]>");if(v>=0){x(v+2);continue}}var m=t.match(Ao);if(m){x(m[0].length);continue}var y=t.match(Co);if(y){var g=c;x(y[0].length),O(y[1],g,c);continue}var _=k();if(_){E(_),Lo(_.tagName,t)&&x(1);continue}}var b=void 0,w=void 0,S=void 0;if(d>=0){for(w=t.slice(d);!(Co.test(w)||Oo.test(w)||jo.test(w)||$o.test(w)||(S=w.indexOf("<",1))<0);)d+=S,w=t.slice(d);b=t.substring(0,d)}d<0&&(b=t),b&&x(b.length),e.chars&&b&&e.chars(b,c-b.length,c)}if(t===n){e.chars&&e.chars(t);break}}function x(e){c+=e,t=t.substring(e)}function k(){var e=t.match(Oo);if(e){var n,r,i={tagName:e[1],attrs:[],start:c};for(x(e[0].length);!(n=t.match(To))&&(r=t.match(xo)||t.match(So));)r.start=c,x(r[0].length),r.end=c,i.attrs.push(r);if(n)return i.unarySlash=n[1],x(n[0].length),i.end=c,i}}function E(t){var n=t.tagName,c=t.unarySlash;o&&("p"===r&&wo(n)&&O(r),s(n)&&r===n&&O(n));for(var u=a(n)||!!c,l=t.attrs.length,p=new Array(l),f=0;f<l;f++){var d=t.attrs[f],h=d[3]||d[4]||d[5]||"",v="a"===n&&"href"===d[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;p[f]={name:d[1],value:Fo(h,v)}}u||(i.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:p,start:t.start,end:t.end}),r=n),e.start&&e.start(n,p,u,t.start,t.end)}function O(t,n,o){var a,s;if(null==n&&(n=c),null==o&&(o=c),t)for(s=t.toLowerCase(),a=i.length-1;a>=0&&i[a].lowerCasedTag!==s;a--);else a=0;if(a>=0){for(var u=i.length-1;u>=a;u--)e.end&&e.end(i[u].tag,n,o);i.length=a,r=a&&i[a-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,o):"p"===s&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}O()}(t,{warn:Uo,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,o,a,l,p){var f=r&&r.ns||Jo(t);Y&&"svg"===f&&(o=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];va.test(r.name)||(r.name=r.name.replace(ma,""),e.push(r))}return e}(o));var d,h=ca(t,o,r);f&&(h.ns=f),"style"!==(d=h).tag&&("script"!==d.tag||d.attrsMap.type&&"text/javascript"!==d.attrsMap.type)||it()||(h.forbidden=!0);for(var v=0;v<qo.length;v++)h=qo[v](h,e)||h;s||(function(t){null!=Fr(t,"v-pre")&&(t.pre=!0)}(h),h.pre&&(s=!0)),zo(h.tag)&&(c=!0),s?function(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),i=0;i<n;i++)r[i]={name:e[i].name,value:JSON.stringify(e[i].value)},null!=e[i].start&&(r[i].start=e[i].start,r[i].end=e[i].end);else t.pre||(t.plain=!0)}(h):h.processed||(la(h),function(t){var e=Fr(t,"v-if");if(e)t.if=e,pa(t,{exp:e,block:t});else{null!=Fr(t,"v-else")&&(t.else=!0);var n=Fr(t,"v-else-if");n&&(t.elseif=n)}}(h),function(t){null!=Fr(t,"v-once")&&(t.once=!0)}(h)),n||(n=h),a?u(h):(r=h,i.push(h))},end:function(t,e,n){var o=i[i.length-1];i.length-=1,r=i[i.length-1],u(o)},chars:function(t,e,n){if(r&&(!Y||"textarea"!==r.tag||r.attrsMap.placeholder!==t)){var i,u,l,p=r.children;(t=c||t.trim()?"script"===(i=r).tag||"style"===i.tag?t:aa(t):p.length?a?"condense"===a&&ia.test(t)?"":" ":o?" ":"":"")&&(c||"condense"!==a||(t=t.replace(oa," ")),!s&&" "!==t&&(u=function(t,e){var n=e?mo(e):ho;if(n.test(t)){for(var r,i,o,a=[],s=[],c=n.lastIndex=0;r=n.exec(t);){(i=r.index)>c&&(s.push(o=t.slice(c,i)),a.push(JSON.stringify(o)));var u=Cr(r[1].trim());a.push("_s("+u+")"),s.push({"@binding":u}),c=i+r[0].length}return c<t.length&&(s.push(o=t.slice(c)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}(t,Ho))?l={type:2,expression:u.expression,tokens:u.tokens,text:t}:" "===t&&p.length&&" "===p[p.length-1].text||(l={type:3,text:t}),l&&p.push(l))}},comment:function(t,e,n){if(r){var i={type:3,text:t,isComment:!0};r.children.push(i)}}}),n}(t.trim(),e);!1!==e.optimize&&ka(n,e);var r=Fa(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(t){function e(e,n){var r=Object.create(t),i=[],o=[];if(n)for(var a in n.modules&&(r.modules=(t.modules||[]).concat(n.modules)),n.directives&&(r.directives=C(Object.create(t.directives||null),n.directives)),n)"modules"!==a&&"directives"!==a&&(r[a]=n[a]);r.warn=function(t,e,n){(n?o:i).push(t)};var s=ns(e.trim(),r);return s.errors=i,s.tips=o,s}return{compile:e,compileToFunctions:es(e)}})(Sa),os=(is.compile,is.compileToFunctions);function as(t){return(rs=rs||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',rs.innerHTML.indexOf("&#10;")>0}var ss=!!V&&as(!1),cs=!!V&&as(!0),us=b((function(t){var e=tr(t);return e&&e.innerHTML})),ls=Tn.prototype.$mount;Tn.prototype.$mount=function(t,e){if((t=t&&tr(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=us(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(r){var i=os(r,{outputSourceRange:!1,shouldDecodeNewlines:ss,shouldDecodeNewlinesForHref:cs,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return ls.call(this,t,e)},Tn.compile=os;const ps=Tn,fs=ps.extend({render:t=>t("div",[t("ul",[t("li",[t("a",{domProps:{href:"worker.html"}},"pekerja")]),t("li",[t("a",{domProps:{href:"tasks.html"}},"pekerjaan")]),t("li",[t("a",{domProps:{href:"performance.html"}},"kinerja")])]),t("hr")])});function ds(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function hs(t){return!!t&&!!t[tc]}function vs(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}(t)||Array.isArray(t)||!!t[Qs]||!!t.constructor[Qs]||ws(t)||Ss(t))}function ms(t,e,n){void 0===n&&(n=!1),0===ys(t)?(n?Object.keys:ec)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function ys(t){var e=t[tc];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:ws(t)?2:Ss(t)?3:0}function gs(t,e){return 2===ys(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function _s(t,e,n){var r=ys(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function bs(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function ws(t){return Gs&&t instanceof Map}function Ss(t){return Ys&&t instanceof Set}function xs(t){return t.o||t.t}function ks(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=nc(t);delete e[tc];for(var n=ec(e),r=0;r<n.length;r++){var i=n[r],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Es(t,e){return void 0===e&&(e=!1),Ts(t)||hs(t)||!vs(t)||(ys(t)>1&&(t.set=t.add=t.clear=t.delete=Os),Object.freeze(t),e&&ms(t,(function(t,e){return Es(e,!0)}),!0)),t}function Os(){ds(2)}function Ts(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function Cs(t){var e=rc[t];return e||ds(18,t),e}function As(){return Js}function js(t,e){e&&(Cs("Patches"),t.u=[],t.s=[],t.v=e)}function $s(t){Is(t),t.p.forEach(Ds),t.p=null}function Is(t){t===Js&&(Js=t.l)}function Rs(t){return Js={p:[],l:Js,h:t,m:!0,_:0}}function Ds(t){var e=t[tc];0===e.i||1===e.i?e.j():e.g=!0}function Ns(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.O||Cs("ES5").S(e,t,r),r?(n[tc].P&&($s(e),ds(4)),vs(t)&&(t=Ps(e,t),e.l||Ls(e,t)),e.u&&Cs("Patches").M(n[tc],t,e.u,e.s)):t=Ps(e,n,[]),$s(e),e.u&&e.v(e.u,e.s),t!==Zs?t:void 0}function Ps(t,e,n){if(Ts(e))return e;var r=e[tc];if(!r)return ms(e,(function(i,o){return Ms(t,r,e,i,o,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return Ls(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=ks(r.k):r.o;ms(3===r.i?new Set(i):i,(function(e,o){return Ms(t,r,i,e,o,n)})),Ls(t,i,!1),n&&t.u&&Cs("Patches").R(r,n,t.u,t.s)}return r.o}function Ms(t,e,n,r,i,o){if(hs(i)){var a=Ps(t,i,o&&e&&3!==e.i&&!gs(e.D,r)?o.concat(r):void 0);if(_s(n,r,a),!hs(a))return;t.m=!1}if(vs(i)&&!Ts(i)){if(!t.h.N&&t._<1)return;Ps(t,i),e&&e.A.l||Ls(t,i)}}function Ls(t,e,n){void 0===n&&(n=!1),t.h.N&&t.m&&Es(e,n)}function Fs(t,e){var n=t[tc];return(n?xs(n):t)[e]}function Us(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Hs(t){t.P||(t.P=!0,t.l&&Hs(t.l))}function Bs(t){t.o||(t.o=ks(t.t))}function qs(t,e,n){var r=ws(e)?Cs("MapSet").T(e,n):Ss(e)?Cs("MapSet").F(e,n):t.O?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:As(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},i=r,o=ic;n&&(i=[r],o=oc);var a=Proxy.revocable(i,o),s=a.revoke,c=a.proxy;return r.k=c,r.j=s,c}(e,n):Cs("ES5").J(e,n);return(n?n.A:As()).p.push(r),r}function Ws(t){return hs(t)||ds(22,t),function t(e){if(!vs(e))return e;var n,r=e[tc],i=ys(e);if(r){if(!r.P&&(r.i<4||!Cs("ES5").K(r)))return r.t;r.I=!0,n=zs(e,i),r.I=!1}else n=zs(e,i);return ms(n,(function(e,i){r&&function(t,e){return 2===ys(t)?t.get(e):t[e]}(r.t,e)===i||_s(n,e,t(i))})),3===i?new Set(n):n}(t)}function zs(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return ks(t)}var Vs,Js,Ks="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Gs="undefined"!=typeof Map,Ys="undefined"!=typeof Set,Xs="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Zs=Ks?Symbol.for("immer-nothing"):((Vs={})["immer-nothing"]=!0,Vs),Qs=Ks?Symbol.for("immer-draftable"):"__$immer_draftable",tc=Ks?Symbol.for("immer-state"):"__$immer_state",ec=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames),nc=Object.getOwnPropertyDescriptors||function(t){var e={};return ec(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},rc={},ic={get:function(t,e){if(e===tc)return t;var n=xs(t);if(!gs(n,e))return function(t,e,n){var r,i=Us(e,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!vs(r)?r:r===Fs(t.t,e)?(Bs(t),t.o[e]=qs(t.A.h,r,t)):r},has:function(t,e){return e in xs(t)},ownKeys:function(t){return Reflect.ownKeys(xs(t))},set:function(t,e,n){var r=Us(xs(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Fs(xs(t),e),o=null==i?void 0:i[tc];if(o&&o.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(bs(n,i)&&(void 0!==n||gs(t.t,e)))return!0;Bs(t),Hs(t)}return t.o[e]=n,t.D[e]=!0,!0},deleteProperty:function(t,e){return void 0!==Fs(t.t,e)||e in t.t?(t.D[e]=!1,Bs(t),Hs(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=xs(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){ds(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){ds(12)}},oc={};ms(ic,(function(t,e){oc[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),oc.deleteProperty=function(t,e){return ic.deleteProperty.call(this,t[0],e)},oc.set=function(t,e,n){return ic.set.call(this,t[0],e,n,t[0])};var ac=new(function(){function t(t){this.O=Xs,this.N=!0,"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var e=t.prototype;return e.produce=function(t,e,n){if("function"==typeof t&&"function"!=typeof e){var r=e;e=t;var i=this;return function(t){var n=this;void 0===t&&(t=r);for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];return i.produce(t,(function(t){var r;return(r=e).call.apply(r,[n,t].concat(a))}))}}var o;if("function"!=typeof e&&ds(6),void 0!==n&&"function"!=typeof n&&ds(7),vs(t)){var a=Rs(this),s=qs(this,t,void 0),c=!0;try{o=e(s),c=!1}finally{c?$s(a):Is(a)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(t){return js(a,n),Ns(t,a)}),(function(t){throw $s(a),t})):(js(a,n),Ns(o,a))}if(!t||"object"!=typeof t){if((o=e(t))===Zs)return;return void 0===o&&(o=t),this.N&&Es(o,!0),o}ds(21,t)},e.produceWithPatches=function(t,e){var n,r,i=this;return"function"==typeof t?function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.produceWithPatches(e,(function(e){return t.apply(void 0,[e].concat(r))}))}:[this.produce(t,e,(function(t,e){n=t,r=e})),n,r]},e.createDraft=function(t){vs(t)||ds(8),hs(t)&&(t=Ws(t));var e=Rs(this),n=qs(this,t,void 0);return n[tc].C=!0,Is(e),n},e.finishDraft=function(t,e){var n=(t&&t[tc]).A;return js(n,e),Ns(void 0,n)},e.setAutoFreeze=function(t){this.N=t},e.setUseProxies=function(t){t&&!Xs&&ds(20),this.O=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}var i=Cs("Patches").$;return hs(t)?i(t,e):this.produce(t,(function(t){return i(t,e.slice(n+1))}))},t}()),sc=ac.produce;ac.produceWithPatches.bind(ac),ac.setAutoFreeze.bind(ac),ac.setUseProxies.bind(ac),ac.applyPatches.bind(ac),ac.createDraft.bind(ac),ac.finishDraft.bind(ac);const cc=sc;var uc=n(121),lc=function(){return Math.random().toString(36).substring(7).split("").join(".")},pc={INIT:"@@redux/INIT"+lc(),REPLACE:"@@redux/REPLACE"+lc(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+lc()}};function fc(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function dc(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(dc)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,o=e,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function p(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return u(),s.push(t),function(){if(e){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,u();var n=s.indexOf(t);s.splice(n,1),a=null}}}function f(t){if(!fc(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,o=i(o,t)}finally{c=!1}for(var e=a=s,n=0;n<e.length;n++)(0,e[n])();return t}function d(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");i=t,f({type:pc.REPLACE})}function h(){var t,e=p;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[uc.Z]=function(){return this},t}return f({type:pc.INIT}),(r={dispatch:f,subscribe:p,getState:l,replaceReducer:d})[uc.Z]=h,r}function hc(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function vc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mc(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n}function yc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mc(n,!0).forEach((function(e){vc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mc(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function _c(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return yc({},n,{dispatch:r=gc.apply(void 0,o)(n.dispatch)})}}}function bc(t,e){return t===e}function wc(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}function Sc(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}!function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r]}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bc,n=null,r=null;return function(){return wc(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}}));var xc=Sc();xc.withExtraArgument=Sc;const kc=xc;function Ec(){return(Ec=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function Oc(t){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Tc(t,e){return(Tc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function Ac(t,e,n){return(Ac=Cc()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Tc(i,n.prototype),i}).apply(null,arguments)}function jc(t){var e="function"==typeof Map?new Map:void 0;return(jc=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return Ac(t,arguments,Oc(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Tc(r,t)})(t)}var $c="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?gc:gc.apply(null,arguments)};var Ic,Rc=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.concat=function(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Ac(r,(e=t.prototype.concat).call.apply(e,[this].concat(i)))},i.prepend=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?Ac(r,e[0].concat(this)):Ac(r,e.concat(this))},r}(jc(Array));function Dc(t,e){function n(){if(e){var n=e.apply(void 0,arguments);if(!n)throw new Error("prepareAction did not return an object");return Ec({type:t,payload:n.payload},"meta"in n&&{meta:n.meta},{},"error"in n&&{error:n.error})}return{type:t,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(){function t(t,e){var n=i[t];return n?n.enumerable=e:i[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[tc];return ic.get(e,t)},set:function(e){var n=this[tc];ic.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var i=t[e][tc];if(!i.P)switch(i.i){case 5:r(i)&&Hs(i);break;case 4:n(i)&&Hs(i)}}}function n(t){for(var e=t.t,n=t.k,r=ec(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==tc){var a=e[o];if(void 0===a&&!gs(e,o))return!0;var s=n[o],c=s&&s[tc];if(c?c.t!==a:!bs(s,a))return!0}}var u=!!e[tc];return r.length!==ec(e).length+(u?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!n||n.get)}var i={};!function(t,e){rc[t]||(rc[t]=e)}("ES5",{J:function(e,n){var r=Array.isArray(e),i=function(e,n){if(e){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,t(i,!0));return r}var o=nc(n);delete o[tc];for(var a=ec(o),s=0;s<a.length;s++){var c=a[s];o[c]=t(c,e||!!o[c].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,e),o={i:r?5:4,A:n?n.A:As(),P:!1,I:!1,D:{},l:n,t:e,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,tc,{value:o,writable:!0}),i},S:function(t,n,i){i?hs(n)&&n[tc].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[tc];if(n){var i=n.t,o=n.k,a=n.D,s=n.i;if(4===s)ms(o,(function(e){e!==tc&&(void 0!==i[e]||gs(i,e)?a[e]||t(o[e]):(a[e]=!0,Hs(n)))})),ms(i,(function(t){void 0!==o[t]||gs(o,t)||(a[t]=!1,Hs(n))}));else if(5===s){if(r(n)&&(Hs(n),a.length=!0),o.length<i.length)for(var c=o.length;c<i.length;c++)a[c]=!1;else for(var u=i.length;u<o.length;u++)a[u]=!0;for(var l=Math.min(o.length,i.length),p=0;p<l;p++)void 0===a[p]&&t(o[p])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}(),function(t){t.ERROR="error",t.LOADING="loading",t.SUMMARY_LOADED="summaryLoaded"}(Ic||(Ic={}));const Nc=Dc(Ic.ERROR),Pc=Dc(Ic.LOADING),Mc=Dc(Ic.SUMMARY_LOADED),Lc=function(t){var e,n=function(t){return function(t){void 0===t&&(t={});var e=t,n=e.thunk,r=void 0===n||n,i=(e.immutableCheck,e.serializableCheck,new Rc);return r&&(function(t){return"boolean"==typeof t}(r)?i.push(kc):i.push(kc.withExtraArgument(r.extraArgument))),i}(t)},r=t||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,c=r.devTools,u=void 0===c||c,l=r.preloadedState,p=void 0===l?void 0:l,f=r.enhancers,d=void 0===f?void 0:f;if("function"==typeof o)e=o;else{if(!function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];"function"==typeof t[i]&&(n[i]=t[i])}var o,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:pc.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:pc.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+pc.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(t){o=t}return function(t,e){if(void 0===t&&(t={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var c=a[s],u=n[c],l=t[c],p=u(l,e);if(void 0===p){var f=hc(c,e);throw new Error(f)}i[c]=p,r=r||p!==l}return(r=r||a.length!==Object.keys(t).length)?i:t}}(o)}var h=_c.apply(void 0,"function"==typeof s?s(n):s),v=gc;u&&(v=$c(Ec({trace:!1},"object"==typeof u&&u)));var m=[h];return Array.isArray(d)?m=[h].concat(d):"function"==typeof d&&(m=d(m)),dc(e,p,v.apply(void 0,m))}({reducer:function(t,e,n,r){void 0===n&&(n=[]);var i="function"==typeof e?function(t){var e,n={},r=[],i={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,i},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),i},addDefaultCase:function(t){return e=t,i}};return t(i),[n,r,e]}(e):[e,n,r],o=i[0],a=i[1],s=i[2];return function(e,n){void 0===e&&(e=t);var r=[o[n.type]].concat(a.filter((function(t){return(0,t.matcher)(n)})).map((function(t){return t.reducer})));return 0===r.filter((function(t){return!!t})).length&&(r=[s]),r.reduce((function(t,e){if(e){if(hs(t)){var r=e(t,n);return void 0===r?t:r}if(vs(t))return cc(t,(function(t){return e(t,n)}));var i=e(t,n);if(void 0===i){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}return t}),e)}}({loading:!1,error:null,summary:{total_task:0,task_done:0,task_cancelled:0,total_worker:0}},{[Ic.ERROR]:function(t,e){t.loading=!1,t.error=e.payload},[Ic.LOADING]:function(t){t.loading=!0,t.error=null},[Ic.SUMMARY_LOADED]:function(t,e){return t.summary=e.payload,t.loading=!1,t.error=null,t}}),middleware:[kc]});function Fc(t,e,n){var r,i,o;return function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function*(){let a;e&&(a={"Content-Type":"application/json"});const s=Object.assign(Object.assign({method:null!==(r=null==n?void 0:n.method)&&void 0!==r?r:"GET"},null==n?void 0:n.customConf),{headers:Object.assign(Object.assign({},a),null===(i=null==n?void 0:n.customConf)||void 0===i?void 0:i.headers)});if(null==n?void 0:n.body)if(e)s.body=JSON.stringify(null==n?void 0:n.body);else{const t=new FormData;for(const e in null==n?void 0:n.body)t.append(e,null==n?void 0:n.body[e]);s.body=t}let c;try{const e=yield window.fetch(t,s);if(c=yield e.json(),!e.ok)throw new Error(null!==(o=null==c?void 0:c.statusText)&&void 0!==o?o:"Gagal request ke api");return c}catch(t){return Promise.reject(t.message||c)}}))}Fc.get=(t,e={})=>Fc(t,!0,Object.assign({method:"GET"},e)),Fc.post=(t,e,n=null,r={})=>Fc(t,n,Object.assign({method:"POST",body:e},r)),Fc.put=(t,e=null,n=null,r={})=>Fc(t,n,Object.assign({method:"PUT",body:e},r)),Fc.del=(t,e=null,n=null,r={})=>Fc(t,n,Object.assign({method:"DELETE",body:e},r));var Uc,Hc=n(655);!function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(Uc||(Uc={}));var Bc,qc=n(844),Wc=n(170),zc=n(343),Vc=n(422),Jc=n(597);!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(Bc||(Bc={}));var Kc=function(){function t(t){var e=this;this._state=Bc.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(Bc.RESOLVED,t)},this._reject=function(t){e._setResult(Bc.REJECTED,t)},this._setResult=function(t,n){e._state===Bc.PENDING&&((0,Jc.J8)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==Bc.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===Bc.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===Bc.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,r){if(Array.isArray(e))if(0!==e.length){var i=e.length,o=[];e.forEach((function(e,a){t.resolve(e).then((function(t){o[a]=t,0==(i-=1)&&n(o)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var r=this;return new t((function(t,i){r._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void i(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void i(t)}else i(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var i,o;return n.then((function(t){o=!1,i=t,e&&e()}),(function(t){o=!0,i=t,e&&e()})).then((function(){o?r(i):t(i)}))}))},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),Gc=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=(0,Hc.fl)(e._breadcrumbs),n._tags=(0,Hc.pi)({},e._tags),n._extra=(0,Hc.pi)({},e._extra),n._contexts=(0,Hc.pi)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=(0,Hc.fl)(e._eventProcessors)),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(t){return this._tags=(0,Hc.pi)((0,Hc.pi)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=(0,Hc.pi)((0,Hc.pi)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=(0,Hc.pi)((0,Hc.pi)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=(0,Hc.pi)((0,Hc.pi)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=(0,Hc.pi)((0,Hc.pi)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,r,i=this.getSpan();return(null===(t=i)||void 0===t?void 0:t.transaction)?null===(e=i)||void 0===e?void 0:e.transaction:(null===(r=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=(0,Hc.pi)((0,Hc.pi)({},this._tags),e._tags),this._extra=(0,Hc.pi)((0,Hc.pi)({},this._extra),e._extra),this._contexts=(0,Hc.pi)((0,Hc.pi)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):(0,Jc.PO)(e)&&(e=e,this._tags=(0,Hc.pi)((0,Hc.pi)({},this._tags),e.tags),this._extra=(0,Hc.pi)((0,Hc.pi)({},this._extra),e.extra),this._contexts=(0,Hc.pi)((0,Hc.pi)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=(0,Hc.pi)({timestamp:(0,Wc.yW)()},t);return this._breadcrumbs=void 0!==e&&e>=0?(0,Hc.fl)(this._breadcrumbs,[n]).slice(-e):(0,Hc.fl)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=(0,Hc.pi)((0,Hc.pi)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=(0,Hc.pi)((0,Hc.pi)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=(0,Hc.pi)((0,Hc.pi)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=(0,Hc.pi)((0,Hc.pi)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=(0,Hc.pi)({trace:this._span.getTraceContext()},t.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(t.tags=(0,Hc.pi)({transaction:r},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=(0,Hc.fl)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors((0,Hc.fl)(Yc(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,r){var i=this;return void 0===r&&(r=0),new Kc((function(o,a){var s=t[r];if(null===e||"function"!=typeof s)o(e);else{var c=s((0,Hc.pi)({},e),n);(0,Jc.J8)(c)?c.then((function(e){return i._notifyEventProcessors(t,e,n,r+1).then(o)})).then(null,a):i._notifyEventProcessors(t,c,n,r+1).then(o).then(null,a)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function Yc(){var t=(0,qc.Rf)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function Xc(t){Yc().push(t)}var Zc=n(470),Qc=function(){function t(t){this.errors=0,this.sid=(0,qc.DM)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=Uc.Ok,this.init=!0,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:(0,qc.DM)()),void 0!==t.init&&(this.init=t.init),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),"number"==typeof t.duration?this.duration=t.duration:this.duration=this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===Uc.Ok?this.update({status:Uc.Exited}):this.update()},t.prototype.toJSON=function(){return(0,Zc.Jr)({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:(0,Zc.Jr)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),tu=function(){function t(t,e,n){void 0===e&&(e=new Gc),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=Gc.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=(0,qc.DM)(),r=e;if(!e){var i=void 0;try{throw new Error("Sentry syntheticException")}catch(t){i=t}r={originalException:t,syntheticException:i}}return this._invokeClient("captureException",t,(0,Hc.pi)((0,Hc.pi)({},r),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=(0,qc.DM)(),i=n;if(!n){var o=void 0;try{throw new Error(t)}catch(t){o=t}i={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,e,(0,Hc.pi)((0,Hc.pi)({},i),{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=(0,qc.DM)();return this._invokeClient("captureEvent",t,(0,Hc.pi)((0,Hc.pi)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),r=n.scope,i=n.client;if(r&&i){var o=i.getOptions&&i.getOptions()||{},a=o.beforeBreadcrumb,s=void 0===a?null:a,c=o.maxBreadcrumbs,u=void 0===c?100:c;if(!(u<=0)){var l=(0,Wc.yW)(),p=(0,Hc.pi)({timestamp:l},t),f=s?(0,qc.Cf)((function(){return s(p,e)})):p;null!==f&&r.addBreadcrumb(f,Math.min(u,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,r=e.client;n&&r&&t(n)},t.prototype.run=function(t){var e=nu(this);try{t(this)}finally{nu(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return zc.k.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t,e,n,r,i;null===(n=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(i=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===i||i.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,r=e.client,i=r&&r.getOptions()||{},o=i.release,a=i.environment,s=new Qc((0,Hc.pi)((0,Hc.pi)({release:o,environment:a},n&&{user:n.getUser()}),t));if(n){var c=n.getSession&&n.getSession();c&&c.status===Uc.Ok&&c.update({status:Uc.Exited}),this.endSession(),n.setSession(s)}return s},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.getStackTop(),o=i.scope,a=i.client;a&&a[t]&&(e=a)[t].apply(e,(0,Hc.fl)(n,[o]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=eu(),i=r.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[t])return i.extensions[t].apply(this,e);zc.k.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function eu(){var t=(0,qc.Rf)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function nu(t){var e=eu(),n=ou(e);return au(e,t),n}function ru(){var t=eu();return iu(t)&&!ou(t).isOlderThan(3)||au(t,new tu),(0,Vc.K)()?function(t){var e,n,r;try{var i=null===(r=null===(n=null===(e=eu().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;if(!i)return ou(t);if(!iu(i)||ou(i).isOlderThan(3)){var o=ou(t).getStackTop();au(i,new tu(o.client,Gc.clone(o.scope)))}return ou(i)}catch(e){return ou(t)}}(t):ou(t)}function iu(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function ou(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new tu),t.__SENTRY__.hub}function au(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function su(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=ru();if(r&&r[t])return r[t].apply(r,(0,Hc.fl)(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function cu(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return su("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function uu(t){su("withScope",t)}const lu=t=>function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}(void 0,void 0,void 0,(function*(){t(Pc());try{const e=yield Fc.get("http://localhost:7003/summary");t(Mc(e))}catch(e){cu(new Error(e)),t(Nc("gagal memuat informasi kinerja"))}}));var pu,fu="6.1.0",du=n(321),hu=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],vu=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Xc((function(e){var n=ru();if(!n)return e;var r=n.getIntegration(t);if(r){var i=n.getClient(),o=i?i.getOptions():{},a=r._mergeOptions(o);if(r._shouldDropEvent(e,a))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(zc.k.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,qc.jH)(t)),!0):this._isIgnoredError(t,e)?(zc.k.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,qc.jH)(t)),!0):this._isDeniedUrl(t,e)?(zc.k.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,qc.jH)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(zc.k.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,qc.jH)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return(0,du.zC)(t,e)}))}))},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some((function(t){return(0,du.zC)(n,t)}))},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some((function(t){return(0,du.zC)(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:(0,Hc.fl)(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:(0,Hc.fl)(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:(0,Hc.fl)(this._options.ignoreErrors||[],t.ignoreErrors||[],hu),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=void 0===n?"":n,i=e.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(e){return zc.k.error("Cannot extract message for event "+(0,qc.jH)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return zc.k.error("Cannot extract url for event "+(0,qc.jH)(t)),null}},t.id="InboundFilters",t}(),mu=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){pu=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return pu.apply(n,t)}},t.id="FunctionToString",t}(),yu=n(360);function gu(){if(!("fetch"in(0,qc.Rf)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function _u(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function bu(){if(!gu())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}var wu,Su,xu,ku=(0,qc.Rf)(),Eu={},Ou={};function Tu(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(Eu[t.type]=Eu[t.type]||[],Eu[t.type].push(t.callback),function(t){if(!Ou[t])switch(Ou[t]=!0,t){case"console":"console"in ku&&["debug","info","warn","error","log","assert"].forEach((function(t){t in ku.console&&(0,Zc.hl)(ku.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Cu("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,ku.console,n)}}))}));break;case"dom":!function(){if("document"in ku){var t=Cu.bind(null,"dom"),e=$u(t,!0);ku.document.addEventListener("click",e,!1),ku.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=ku[e]&&ku[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,Zc.hl)(n,"addEventListener",(function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){var s=$u(t);a.handler=s,e.call(this,n,s,i)}a.refCount+=1}catch(t){}return e.call(this,n,r,i)}})),(0,Zc.hl)(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var i=this.__sentry_instrumentation_handlers__||{},o=i[e];o&&(o.refCount-=1,o.refCount<=0&&(t.call(this,e,o.handler,r),o.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}}();break;case"xhr":!function(){if("XMLHttpRequest"in ku){var t=[],e=[],n=XMLHttpRequest.prototype;(0,Zc.hl)(n,"open",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,a=r[1];o.__sentry_xhr__={method:(0,Jc.HD)(r[0])?r[0].toUpperCase():r[0],url:r[1]},(0,Jc.HD)(a)&&"POST"===o.__sentry_xhr__.method&&a.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var s=function(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(t){}try{var n=t.indexOf(o);if(-1!==n){t.splice(n);var i=e.splice(n)[0];o.__sentry_xhr__&&void 0!==i[0]&&(o.__sentry_xhr__.body=i[0])}}catch(t){}Cu("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?(0,Zc.hl)(o,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return s(),t.apply(o,e)}})):o.addEventListener("readystatechange",s),n.apply(o,r)}})),(0,Zc.hl)(n,"send",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t.push(this),e.push(r),Cu("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}}();break;case"fetch":(function(){if(!gu())return!1;var t=(0,qc.Rf)();if(_u(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=_u(r.contentWindow.fetch)),n.head.removeChild(r)}catch(t){zc.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e})()&&(0,Zc.hl)(ku,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:Au(e),url:ju(e)},startTimestamp:Date.now()};return Cu("fetch",(0,Hc.pi)({},r)),t.apply(ku,e).then((function(t){return Cu("fetch",(0,Hc.pi)((0,Hc.pi)({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw Cu("fetch",(0,Hc.pi)((0,Hc.pi)({},r),{endTimestamp:Date.now(),error:t})),t}))}}));break;case"history":!function(){if(function(){var t=(0,qc.Rf)(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}()){var t=ku.onpopstate;ku.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ku.location.href,i=wu;if(wu=r,Cu("history",{from:i,to:r}),t)return t.apply(this,e)},(0,Zc.hl)(ku.history,"pushState",e),(0,Zc.hl)(ku.history,"replaceState",e)}function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var i=wu,o=String(r);wu=o,Cu("history",{from:i,to:o})}return t.apply(this,e)}}}();break;case"error":Iu=ku.onerror,ku.onerror=function(t,e,n,r,i){return Cu("error",{column:r,error:i,line:n,msg:t,url:e}),!!Iu&&Iu.apply(this,arguments)};break;case"unhandledrejection":Ru=ku.onunhandledrejection,ku.onunhandledrejection=function(t){return Cu("unhandledrejection",t),!Ru||Ru.apply(this,arguments)};break;default:zc.k.warn("unknown instrumentation type:",t)}}(t.type))}function Cu(t,e){var n,r;if(t&&Eu[t])try{for(var i=(0,Hc.XA)(Eu[t]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(e)}catch(e){zc.k.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+(0,yu.$)(a)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Au(t){return void 0===t&&(t=[]),"Request"in ku&&(0,Jc.V9)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function ju(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in ku&&(0,Jc.V9)(t[0],Request)?t[0].url:String(t[0])}function $u(t,e){return void 0===e&&(e=!1),function(n){if(n&&xu!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===Su||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(xu,n))&&(t({event:n,name:r,global:e}),xu=n),clearTimeout(Su),Su=ku.setTimeout((function(){Su=void 0}),1e3)}}}var Iu=null,Ru=null,Du=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}),Nu=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,Du(r,n.prototype),r}return(0,Hc.ZT)(e,t),e}(Error),Pu=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,Mu=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,r=e.path,i=e.pass,o=e.port,a=e.projectId;return e.protocol+"://"+e.publicKey+(t&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+a},t.prototype._fromString=function(t){var e=Pu.exec(t);if(!e)throw new Nu("Invalid Dsn");var n=(0,Hc.CR)(e.slice(1),6),r=n[0],i=n[1],o=n[2],a=void 0===o?"":o,s=n[3],c=n[4],u=void 0===c?"":c,l="",p=n[5],f=p.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),p=f.pop()),p){var d=p.match(/^\d+/);d&&(p=d[0])}this._fromComponents({host:s,pass:a,path:l,projectId:p,port:u,protocol:r,publicKey:i})},t.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new Nu("Invalid Dsn: "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new Nu("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new Nu("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Nu("Invalid Dsn: Invalid port "+this.port)},t}(),Lu=[];var Fu,Uu=function(){function t(t,e){this._integrations={},this._processing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new Mu(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this,i=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return r._captureEvent(t,e,n)})).then((function(t){i=t}))),i},t.prototype.captureMessage=function(t,e,n,r){var i=this,o=n&&n.event_id,a=(0,Jc.pt)(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(a.then((function(t){return i._captureEvent(t,n,r)})).then((function(t){o=t}))),o},t.prototype.captureEvent=function(t,e,n){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){r=t}))),r},t.prototype.captureSession=function(t){t.release?(this._sendSession(t),t.update({init:!1})):zc.k.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return e._getBackend().getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=function(t){var e={};return function(t){var e=t.defaultIntegrations&&(0,Hc.fl)(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var i=n.map((function(t){return t.name})),o=[];e.forEach((function(t){-1===i.indexOf(t.name)&&-1===o.indexOf(t.name)&&(r.push(t),o.push(t.name))})),n.forEach((function(t){-1===o.indexOf(t.name)&&(r.push(t),o.push(t.name))}))}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=(0,Hc.fl)(e);var a=r.map((function(t){return t.name})),s="Debug";return-1!==a.indexOf(s)&&r.push.apply(r,(0,Hc.fl)(r.splice(a.indexOf(s),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===Lu.indexOf(t.name)&&(t.setupOnce(Xc,ru),Lu.push(t.name),zc.k.log("Integration installed: "+t.name))}(t)})),e}(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return zc.k.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,i,o=!1,a=!1,s=e.exception&&e.exception.values;if(s){a=!0;try{for(var c=(0,Hc.XA)(s),u=c.next();!u.done;u=c.next()){var l=u.value.mechanism;if(l&&!1===l.handled){o=!0;break}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var p=e.user;if(!t.userAgent){var f=e.request?e.request.headers:{};for(var d in f)if("user-agent"===d.toLowerCase()){i=f[d];break}}t.update((0,Hc.pi)((0,Hc.pi)({},o&&{status:Uc.Crashed}),{user:p,userAgent:i,errors:t.errors+Number(a||o)})),this.captureSession(t)},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientProcessing=function(t){var e=this;return new Kc((function(n){var r=0,i=setInterval((function(){0==e._processing?(clearInterval(i),n(!0)):(r+=1,t&&r>=t&&(clearInterval(i),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,a=(0,Hc.pi)((0,Hc.pi)({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:(0,qc.DM)()),timestamp:t.timestamp||(0,Wc.yW)()});this._applyClientOptions(a),this._applyIntegrationsMetadata(a);var s=e;n&&n.captureContext&&(s=Gc.clone(s).update(n.captureContext));var c=Kc.resolve(a);return s&&(c=s.applyToEvent(a,n)),c.then((function(t){return"number"==typeof o&&o>0?r._normalizeEvent(t,o):t}))},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=(0,Hc.pi)((0,Hc.pi)((0,Hc.pi)((0,Hc.pi)((0,Hc.pi)({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return(0,Hc.pi)((0,Hc.pi)({},t),t.data&&{data:(0,Zc.Fv)(t.data,e)})}))}),t.user&&{user:(0,Zc.Fv)(t.user,e)}),t.contexts&&{contexts:(0,Zc.Fv)(t.contexts,e)}),t.extra&&{extra:(0,Zc.Fv)(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,i=e.dist,o=e.maxValueLength,a=void 0===o?250:o;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=(0,du.$G)(t.message,a));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=(0,du.$G)(s.value,a));var c=t.request;c&&c.url&&(c.url=(0,du.$G)(c.url,a))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){zc.k.error(t)}))},t.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate;if(!this._isEnabled())return Kc.reject(new Nu("SDK not enabled, will not send event."));var s="transaction"===t.type;return!s&&"number"==typeof a&&Math.random()>a?Kc.reject(new Nu("Discarding event because it's not included in the random sample (sampling rate = "+a+")")):this._prepareEvent(t,n,e).then((function(t){if(null===t)throw new Nu("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||s||!o)return t;var n=o(t,e);if(void 0===n)throw new Nu("`beforeSend` method has to return `null` or a valid event.");return(0,Jc.J8)(n)?n.then((function(t){return t}),(function(t){throw new Nu("beforeSend rejected with "+t)})):n})).then((function(t){if(null===t)throw new Nu("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!s&&e&&r._updateSessionFromEvent(e,t),r._sendEvent(t),t})).then(null,(function(t){if(t instanceof Nu)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new Nu("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._processing+=1,t.then((function(t){return e._processing-=1,t}),(function(t){return e._processing-=1,t}))},t}();!function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(Fu||(Fu={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(Fu||(Fu={}));var Hu,Bu=function(){function t(){}return t.prototype.sendEvent=function(t){return Kc.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:Fu.Skipped})},t.prototype.close=function(t){return Kc.resolve(!0)},t}(),qu=function(){function t(t){this._options=t,this._options.dsn||zc.k.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new Nu("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new Nu("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){zc.k.error("Error while sending event: "+t)}))},t.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,(function(t){zc.k.error("Error while sending session: "+t)})):zc.k.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new Bu},t}();!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(Hu||(Hu={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(Hu||(Hu={}));var Wu="?",zu=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Vu=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ju=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ku=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Gu=/\((\S*)(?::(\d+))(?::(\d+))\)/,Yu=/Minified React error #\d+;/i;function Xu(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:Yu.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.stacktrace.split("\n"),o=[],a=0;a<i.length;a+=2){var s=null;(e=n.exec(i[a]))?s={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=r.exec(i[a]))&&(s={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),s&&(!s.func&&s.line&&(s.func=Wu),o.push(s))}return o.length?{message:Qu(t),name:t.name,stack:o}:null}(t))return Zu(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,i=[],o=t.stack.split("\n"),a=0;a<o.length;++a){if(n=zu.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=Gu.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||Wu,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Ju.exec(o[a]))r={url:n[2],func:n[1]||Wu,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Vu.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=Ku.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==a||n[5]||void 0===t.columnNumber||(i[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||Wu,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=Wu),i.push(r)}return i.length?{message:Qu(t),name:t.name,stack:i}:null}(t))return Zu(e,n)}catch(t){}return{message:Qu(t),name:t&&t.name,stack:[],failed:!0}}function Zu(t,e){try{return(0,Hc.pi)((0,Hc.pi)({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function Qu(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function tl(t){var e=nl(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function el(t){return{exception:{values:[tl(t)]}}}function nl(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function rl(t,e,n){var r;if(void 0===n&&(n={}),(0,Jc.VW)(t)&&t.error)return el(Xu(t=t.error));if((0,Jc.TX)(t)||(0,Jc.fm)(t)){var i=t,o=i.name||((0,Jc.TX)(i)?"DOMError":"DOMException"),a=i.message?o+": "+i.message:o;return r=il(a,e,n),(0,qc.Db)(r,a),"code"in i&&(r.tags=(0,Hc.pi)((0,Hc.pi)({},r.tags),{"DOMException.code":""+i.code})),r}return(0,Jc.VZ)(t)?r=el(Xu(t)):(0,Jc.PO)(t)||(0,Jc.cO)(t)?(r=function(t,e,n){var r={exception:{values:[{type:(0,Jc.cO)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,Zc.zf)(t)}]},extra:{__serialized__:(0,Zc.Qy)(t)}};if(e){var i=nl(Xu(e).stack);r.stacktrace={frames:i}}return r}(t,e,n.rejection),(0,qc.EG)(r,{synthetic:!0}),r):(r=il(t,e,n),(0,qc.Db)(r,""+t,void 0),(0,qc.EG)(r,{synthetic:!0}),r)}function il(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var i=nl(Xu(e).stack);r.stacktrace={frames:i}}return r}function ol(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function al(t,e){return e?(t.sdk=t.sdk||{name:e.name,version:e.version},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=(0,Hc.fl)(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=(0,Hc.fl)(t.sdk.packages||[],e.packages||[]),t):t}function sl(t,e){var n=ol(e);return{body:JSON.stringify((0,Hc.pi)({sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function cl(t,e){var n=ol(e),r=t.type||"event",i="transaction"===r,o=t.debug_meta||{},a=o.transactionSampling,s=(0,Hc._T)(o,["transactionSampling"]),c=a||{},u=c.method,l=c.rate;0===Object.keys(s).length?delete t.debug_meta:t.debug_meta=s;var p={body:JSON.stringify(n?al(t,e.metadata.sdk):t),type:r,url:i?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(i){var f=JSON.stringify((0,Hc.pi)({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:t.type,sample_rates:[{id:u,rate:l}]})+"\n"+p.body;p.body=f}return p}var ul=function(){function t(t,e){void 0===e&&(e={}),this.dsn=t,this._dsnObject=new Mu(t),this.metadata=e}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+e.toString()),t)if("dsn"!==i)if("user"===i){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return r.length?n+"?"+r.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype._encodedAuth=function(){var t={sentry_key:this._dsnObject.publicKey,sentry_version:"7"};return(0,Zc._j)(t)},t}(),ll=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):Kc.reject(new Nu("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new Kc((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);Kc.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},t}(),pl=function(){function t(t){this.options=t,this._buffer=new ll(30),this._rateLimits={},this._api=new ul(t.dsn,t._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new Nu("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,i=t.resolve,o=t.reject,a=Fu.fromHttpCode(n.status);this._handleRateLimit(r)&&zc.k.warn("Too many requests, backing off until: "+this._disabledUntil(e)),a!==Fu.Success?o(n):i({status:a})},t.prototype._disabledUntil=function(t){return this._rateLimits[t]||this._rateLimits.all},t.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},t.prototype._handleRateLimit=function(t){var e,n,r,i,o=Date.now(),a=t["x-sentry-rate-limits"],s=t["retry-after"];if(a){try{for(var c=(0,Hc.XA)(a.trim().split(",")),u=c.next();!u.done;u=c.next()){var l=u.value.split(":",2),p=parseInt(l[0],10),f=1e3*(isNaN(p)?60:p);try{for(var d=(r=void 0,(0,Hc.XA)(l[1].split(";"))),h=d.next();!h.done;h=d.next()){var v=h.value;this._rateLimits[v||"all"]=new Date(o+f)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return!0}return!!s&&(this._rateLimits.all=new Date(o+(0,qc.JY)(o,s)),!0)},t}(),fl=(0,qc.Rf)(),dl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Hc.ZT)(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(cl(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(sl(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:bu()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new Kc((function(e,i){fl.fetch(t.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:o,resolve:e,reject:i})})).catch(i)})))},e}(pl),hl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Hc.ZT)(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(cl(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(sl(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429}):this._buffer.add(new Kc((function(e,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:i,headers:o,resolve:e,reject:r})}},i.open("POST",t.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(t.body)})))},e}(pl),vl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Hc.ZT)(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=rl(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return(0,qc.EG)(r,{handled:!0,type:"generic"}),r.level=Hu.Error,n&&n.event_id&&(r.event_id=n.event_id),Kc.resolve(r)}(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=Hu.Info),function(t,e,n,r){void 0===n&&(n=Hu.Info);var i=il(e,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),Kc.resolve(i)}(this._options,t,e,n)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=(0,Hc.pi)((0,Hc.pi)({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(e):gu()?new dl(e):new hl(e)},e}(qu),ml=0;function yl(){return ml>0}function gl(){ml+=1,setTimeout((function(){ml-=1}))}function _l(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map((function(t){return _l(t,e)}));return t.handleEvent?t.handleEvent.apply(this,i):t.apply(this,i)}catch(t){throw gl(),uu((function(n){n.addEventProcessor((function(t){var n=(0,Hc.pi)({},t);return e.mechanism&&((0,qc.Db)(n,void 0,void 0),(0,qc.EG)(n,e.mechanism)),n.extra=(0,Hc.pi)((0,Hc.pi)({},n.extra),{arguments:r}),n})),cu(t)})),t}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch(t){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(t){}return r}var bl=n(464),wl=function(){function t(e){this.name=t.id,this._options=(0,Hc.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&ru().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,qc.jH)(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this._options.console&&Tu({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,(0,Hc.fl)(e))},type:"console"}),this._options.dom&&Tu({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,(0,Hc.fl)(e))},type:"dom"}),this._options.xhr&&Tu({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,(0,Hc.fl)(e))},type:"xhr"}),this._options.fetch&&Tu({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,(0,Hc.fl)(e))},type:"fetch"}),this._options.history&&Tu({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,(0,Hc.fl)(e))},type:"history"})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:Hu.fromString(t.level),message:(0,du.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+((0,du.nK)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}ru().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?(0,bl.R)(t.event.target):(0,bl.R)(t.event)}catch(t){e="<unknown>"}0!==e.length&&ru().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name,global:t.global})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,i=e.status_code,o=e.body;ru().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:t.xhr,input:o})}},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?ru().addBreadcrumb({category:"fetch",data:t.fetchData,level:Hu.Error,type:"http"},{data:t.error,input:t.args}):ru().addBreadcrumb({category:"fetch",data:(0,Hc.pi)((0,Hc.pi)({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=(0,qc.Rf)(),n=t.from,r=t.to,i=(0,qc.en)(e.location.href),o=(0,qc.en)(n),a=(0,qc.en)(r);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),ru().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},t.id="Breadcrumbs",t}(),Sl=function(t){function e(e){return void 0===e&&(e={}),t.call(this,vl,e)||this}return(0,Hc.ZT)(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),(0,qc.Rf)().document&&(this._isEnabled()?function(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new ul(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else zc.k.error("Missing dsn option in showReportDialog call");else zc.k.error("Missing eventId option in showReportDialog call")}((0,Hc.pi)((0,Hc.pi)({},t),{dsn:t.dsn||this.getDsn()})):zc.k.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(wl);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(Uu),xl=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],kl=function(){function t(e){this.name=t.id,this._options=(0,Hc.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=(0,qc.Rf)();this._options.setTimeout&&(0,Zc.hl)(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&(0,Zc.hl)(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&(0,Zc.hl)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,Zc.hl)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:xl).forEach(this._wrapEventTarget.bind(this))},t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=_l(r,{mechanism:{data:{function:(0,yu.$)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,_l(e,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,yu.$)(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=(0,qc.Rf)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,Zc.hl)(n,"addEventListener",(function(e){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=_l(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,yu.$)(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,_l(r,{mechanism:{data:{function:"addEventListener",handler:(0,yu.$)(r),target:t},handled:!0,type:"instrument"}}),i)}})),(0,Zc.hl)(n,"removeEventListener",(function(t){return function(e,n,r){var i,o=n;try{var a=null===(i=o)||void 0===i?void 0:i.__sentry_wrapped__;a&&t.call(this,e,a,r)}catch(t){}return t.call(this,e,o,r)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(t){t in r&&"function"==typeof r[t]&&(0,Zc.hl)(r,t,(function(e){var n={mechanism:{data:{function:t,handler:(0,yu.$)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=(0,yu.$)(e.__sentry_original__)),_l(e,n)}))})),t.apply(this,e)}},t.id="TryCatch",t}(),El=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=(0,Hc.pi)({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(zc.k.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(zc.k.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(Tu({callback:function(n){var r=n.error,i=ru(),o=i.getIntegration(t),a=r&&!0===r.__sentry_own_request__;if(o&&!yl()&&!a){var s=i.getClient(),c=(0,Jc.pt)(r)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(rl(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);(0,qc.EG)(c,{handled:!1,type:"onerror"}),i.captureEvent(c,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(Tu({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(t){}var i=ru(),o=i.getIntegration(t),a=r&&!0===r.__sentry_own_request__;if(!o||yl()||a)return!0;var s=i.getClient(),c=(0,Jc.pt)(r)?e._eventFromRejectionWithPrimitive(r):rl(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});c.level=Hu.Error,(0,qc.EG)(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var i,o=(0,Jc.VW)(t)?t.message:t;if((0,Jc.HD)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(i=a[1],o=a[2])}var s={exception:{values:[{type:i||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,e,n,r)},t.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,a=(0,Jc.HD)(e)&&e.length>0?e:(0,qc.l4)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:o}),t},t.id="GlobalHandlers",t}(),Ol=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){Xc((function(e,n){var r=ru().getIntegration(t);return r?r._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&(0,Jc.V9)(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=(0,Hc.fl)(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!(0,Jc.V9)(t[e],Error)||n.length+1>=this._limit)return n;var r=tl(Xu(t[e]));return this._walkErrorTree(t[e],e,(0,Hc.fl)([r],n))},t.id="LinkedErrors",t}(),Tl=(0,qc.Rf)(),Cl=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Xc((function(e){var n,r,i;if(ru().getIntegration(t)){if(!Tl.navigator&&!Tl.location&&!Tl.document)return e;var o=(null===(n=e.request)||void 0===n?void 0:n.url)||(null===(r=Tl.location)||void 0===r?void 0:r.href),a=(Tl.document||{}).referrer,s=(Tl.navigator||{}).userAgent,c=(0,Hc.pi)((0,Hc.pi)((0,Hc.pi)({},null===(i=e.request)||void 0===i?void 0:i.headers),a&&{Referer:a}),s&&{"User-Agent":s}),u=(0,Hc.pi)((0,Hc.pi)({},o&&{url:o}),{headers:c});return(0,Hc.pi)((0,Hc.pi)({},e),{request:u})}return e}))},t.id="UserAgent",t}(),Al=[new vu,new mu,new kl,new wl,new El,new Ol,new Cl];var jl=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;var $l,Il,Rl={activate:["activated","deactivated"],create:["beforeCreate","created"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]},Dl=/(?:^|[-_/])(\w)/g,Nl="root",Pl="anonymous component",Ml=function(){function t(t){var e=this;this._componentsCache={},this._applyTracingHooks=function(t){if(!t.$options.$_sentryPerfHook){t.$options.$_sentryPerfHook=!0;var n=e._getComponentName(t),r=n===Nl,i={},o=function(n){var r=(0,Wc._I)();e._rootSpan?e._finishRootSpan(r):t.$once("hook:"+n,(function(){var t=Ll();t&&(e._rootSpan=t.startChild({description:"Application Render",op:"Vue"}))}))},a=function(r,o){var a=Array.isArray(e._options.tracingOptions.trackComponents)?e._options.tracingOptions.trackComponents.indexOf(n)>-1:e._options.tracingOptions.trackComponents,s=e._rootSpan||Ll();if(s&&a){var c=(0,Wc._I)(),u=i[o];u?(u.finish(),e._finishRootSpan(c)):t.$once("hook:"+r,(function(){s&&(i[o]=s.startChild({description:"Vue <"+n+">",op:o}))}))}};e._options.tracingOptions.hooks.forEach((function(n){var i=Rl[n];i?i.forEach((function(i){var s=r?o.bind(e,i):a.bind(e,i,n),c=t.$options[i];Array.isArray(c)?t.$options[i]=(0,Hc.fl)([s],c):t.$options[i]="function"==typeof c?[s,c]:[s]})):zc.k.warn("Unknown hook: "+n)}))}},this._options=t}return t.prototype.setup=function(){this._attachErrorHandler(),("tracesSampleRate"in this._options||"tracesSampler"in this._options)&&this._startTracing()},t.prototype._getComponentName=function(t){if(!t)return Pl;if(t.$root===t)return Nl;if(!t.$options)return Pl;if(t.$options.name)return t.$options.name;if(t.$options._componentTag)return t.$options._componentTag;if(t.$options.__file){var e=function(t,e){var n=function(t){var e=jl.exec(t);return e?e.slice(1):[]}(t)[2];return n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n}(t.$options.__file.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"),".vue");return this._componentsCache[e]||(this._componentsCache[e]=e.replace(Dl,(function(t,e){return e?e.toUpperCase():""})))}return Pl},t.prototype._finishRootSpan=function(t){var e=this;this._rootSpanTimer&&clearTimeout(this._rootSpanTimer),this._rootSpanTimer=setTimeout((function(){e._rootSpan&&(e._rootSpan.finish(t),e._rootSpan=void 0)}),this._options.tracingOptions.timeout)},t.prototype._startTracing=function(){var t=this._applyTracingHooks,e=setTimeout((function(){zc.k.warn("Didn't apply tracing hooks, make sure you call Sentry.init before initialzing Vue!")}),500);this._options.Vue.mixin({beforeCreate:function(){clearTimeout(e),t(this)}})},t.prototype._attachErrorHandler=function(){var t=this,e=this._options.Vue.config.errorHandler;this._options.Vue.config.errorHandler=function(n,r,i){var o={};if(r)try{o.componentName=t._getComponentName(r),t._options.attachProps&&(o.propsData=r.$options.propsData)}catch(t){zc.k.warn("Unable to extract metadata from Vue component.")}i&&(o.lifecycleHook=i),setTimeout((function(){ru().withScope((function(t){t.setContext("vue",o),ru().captureException(n)}))})),"function"==typeof e&&e.call(t._options.Vue,n,r,i),t._options.logErrors&&(t._options.Vue.util&&t._options.Vue.util.warn("Error in "+i+': "'+(n&&n.toString())+'"',r),console.error(n))}},t}();function Ll(){var t;return null===(t=ru().getScope())||void 0===t?void 0:t.getTransaction()}!function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}($l||($l={})),function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(Il||(Il={})),function(t){t.fromHttpCode=function(e){if(e<400)return t.Ok;if(e>=400&&e<500)switch(e){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}}(Il||(Il={}));var Fl=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ul(t){return"tracesSampleRate"in t||"tracesSampler"in t}function Hl(t){var e,n;return void 0===t&&(t=ru()),null===(n=null===(e=t)||void 0===e?void 0:e.getScope())||void 0===n?void 0:n.getTransaction()}function Bl(t){return t/1e3}function ql(){var t=Hl();t&&(zc.k.log("[Tracing] Transaction: "+Il.InternalError+" -> Global error occured"),t.setStatus(Il.InternalError))}var Wl=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),zl=function(t){function e(e,n){var r=t.call(this,e)||this;return r._metadata={},r._measurements={},r._hub=ru(),(0,Jc.V9)(n,tu)&&(r._hub=n),r.name=e.name||"",r._trimEnd=e.trimEnd,r.transaction=r,r}return(0,Hc.ZT)(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new Wl(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=(0,Hc.pi)({},t)},e.prototype.setMetadata=function(t){this._metadata=(0,Hc.pi)((0,Hc.pi)({},this._metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(zc.k.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this._metadata};return Object.keys(this._measurements).length>0&&(zc.k.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),this._hub.captureEvent(i)}zc.k.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return(0,Zc.Jr)((0,Hc.pi)((0,Hc.pi)({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!=(n=e.name)?n:"",this._trimEnd=e.trimEnd,this},e}(function(){function t(t){if(this.traceId=(0,qc.DM)(),this.spanId=(0,qc.DM)().substring(16),this.startTimestamp=(0,Wc._I)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t((0,Hc.pi)((0,Hc.pi)({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=(0,Hc.pi)((0,Hc.pi)({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=(0,Hc.pi)((0,Hc.pi)({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=Il.fromHttpCode(t);return e!==Il.UnknownError&&this.setStatus(e),this},t.prototype.isSuccess=function(){return this.status===Il.Ok},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:(0,Wc._I)()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return(0,Zc.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,i,o;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(r=t.startTimestamp)?r:this.startTimestamp,this.status=t.status,this.tags=null!=(i=t.tags)?i:{},this.traceId=null!=(o=t.traceId)?o:this.traceId,this},t.prototype.getTraceContext=function(){return(0,Zc.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return(0,Zc.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()),Vl=function(t){function e(e,n,r,i){void 0===r&&(r="");var o=t.call(this,i)||this;return o._pushActivity=e,o._popActivity=n,o.transactionSpanId=r,o}return(0,Hc.ZT)(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:(0,Wc._I)(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(Wl),Jl=function(t){function e(e,n,r,i){void 0===r&&(r=1e3),void 0===i&&(i=!1);var o=t.call(this,e,n)||this;return o._idleHub=n,o._idleTimeout=r,o._onScope=i,o.activities={},o._heartbeatTimer=0,o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],n&&i&&(Kl(n),zc.k.log("Setting idle transaction on scope. Span ID: "+o.spanId),n.configureScope((function(t){return t.setSpan(o)}))),o._initTimeout=setTimeout((function(){o._finished||o.finish()}),o._idleTimeout),o}return(0,Hc.ZT)(e,t),e.prototype.finish=function(e){var n,r,i=this;if(void 0===e&&(e=(0,Wc._I)()),this._finished=!0,this.activities={},this.spanRecorder){zc.k.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var o=(0,Hc.XA)(this._beforeFinishCallbacks),a=o.next();!a.done;a=o.next())(0,a.value)(this,e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===i.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus(Il.Cancelled),zc.k.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||zc.k.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),zc.k.log("[Tracing] flushing IdleTransaction")}else zc.k.log("[Tracing] No active IdleTransaction");return this._onScope&&Kl(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;this.spanRecorder||(this.spanRecorder=new Vl((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),zc.k.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),zc.k.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,zc.k.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(zc.k.log("[Tracing] popActivity "+t),delete this.activities[t],zc.k.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=(0,Wc._I)()+n/1e3;setTimeout((function(){e._finished||e.finish(r)}),n)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var t=Object.keys(this.activities),e=t.length?t.reduce((function(t,e){return t+e})):"";e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(zc.k.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(Il.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;zc.k.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){t._beat()}),5e3)},e}(zl);function Kl(t){if(t){var e=t.getScope();e&&e.getTransaction()&&e.setSpan(void 0)}}function Gl(t,e,n){var r,i,o,a=t.getClient(),s=a&&a.getOptions()||{};return a&&Ul(s)?void 0!==e.sampled?(e.setMetadata({transactionSampling:{method:$l.Explicit}}),e):("function"==typeof s.tracesSampler?(i=s.tracesSampler(n),e.setMetadata({transactionSampling:{method:$l.Sampler,rate:Number(i)}})):void 0!==n.parentSampled?(i=n.parentSampled,e.setMetadata({transactionSampling:{method:$l.Inheritance}})):(i=s.tracesSampleRate,e.setMetadata({transactionSampling:{method:$l.Rate,rate:Number(i)}})),o=i,(isNaN(o)||"number"!=typeof o&&"boolean"!=typeof o?(zc.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(o)+" of type "+JSON.stringify(typeof o)+"."),0):!(o<0||o>1)||(zc.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+o+"."),0))?i?(e.sampled=Math.random()<i,e.sampled?(e.initSpanRecorder(null===(r=s._experiments)||void 0===r?void 0:r.maxSpans),zc.k.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(zc.k.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(i)+")"),e)):(zc.k.log("[Tracing] Discarding transaction because "+("function"==typeof s.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(zc.k.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e)}var Yl,Xl,Zl=(0,qc.Rf)(),Ql=function(t,e,n,r){var i;return function(){n&&e.isFinal&&n.disconnect(),e.value>=0&&(r||e.isFinal||"hidden"===document.visibilityState)&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||void 0===i)&&(t(e),i=e.value))}},tp=function(t,e){return void 0===e&&(e=-1),{name:t,value:e,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},ep=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},np=!1,rp=!1,ip=function(t){np=!t.persisted},op=function(t,e){void 0===e&&(e=!1),rp||(addEventListener("pagehide",ip),addEventListener("beforeunload",(function(){})),rp=!0),addEventListener("visibilitychange",(function(e){var n=e.timeStamp;"hidden"===document.visibilityState&&t({timeStamp:n,isUnloading:np})}),{capture:!0,once:e})},ap=function(){return void 0===Yl&&(Yl="hidden"===document.visibilityState?0:1/0,op((function(t){var e=t.timeStamp;return Yl=e}),!0)),{get timeStamp(){return Yl}}},sp=(0,qc.Rf)(),cp=(0,qc.Rf)(),up=function(){function t(){this._measurements={},this._performanceCursor=0,cp&&cp.performance&&(cp.performance.mark&&cp.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(cp&&cp.performance&&cp.performance.getEntries&&Wc.Z1){zc.k.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i,o=Bl(Wc.Z1);if(cp.document)for(var a=0;a<document.scripts.length;a++)if("true"===document.scripts[a].dataset.entry){n=document.scripts[a].src;break}if(cp.performance.getEntries().slice(this._performanceCursor).forEach((function(a){var s=Bl(a.startTime),c=Bl(a.duration);if(!("navigation"===t.op&&o+s<t.startTimestamp))switch(a.entryType){case"navigation":!function(t,e,n){lp(t,e,"unloadEvent",n),lp(t,e,"redirect",n),lp(t,e,"domContentLoadedEvent",n),lp(t,e,"loadEvent",n),lp(t,e,"connect",n),lp(t,e,"secureConnection",n,"connectEnd"),lp(t,e,"fetch",n,"domainLookupStart"),lp(t,e,"domainLookup",n),function(t,e,n){pp(t,{op:"browser",description:"request",startTimestamp:n+Bl(e.requestStart),endTimestamp:n+Bl(e.responseEnd)}),pp(t,{op:"browser",description:"response",startTimestamp:n+Bl(e.responseStart),endTimestamp:n+Bl(e.responseEnd)})}(t,e,n)}(t,a,o);break;case"mark":case"paint":case"measure":var u=function(t,e,n,r,i){var o=i+n,a=o+r;return pp(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:o}),o}(t,a,s,c,o);void 0===i&&"sentry-tracing-init"===a.name&&(i=u);var l=ap(),p=a.startTime<l.timeStamp;"first-paint"===a.name&&p&&(zc.k.log("[Measurements] Adding FP"),e._measurements.fp={value:a.startTime},e._measurements["mark.fp"]={value:u}),"first-contentful-paint"===a.name&&p&&(zc.k.log("[Measurements] Adding FCP"),e._measurements.fcp={value:a.startTime},e._measurements["mark.fcp"]={value:u});break;case"resource":var f=a.name.replace(window.location.origin,""),d=function(t,e,n,r,i,o){if("xmlhttprequest"!==e.initiatorType&&"fetch"!==e.initiatorType){var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var s=o+r,c=s+i;return pp(t,{description:n,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:s,data:a}),c}}(t,a,f,s,c,o);void 0===r&&(n||"").indexOf(f)>-1&&(r=d)}})),void 0!==r&&void 0!==i&&pp(t,{description:"evaluation",endTimestamp:i,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var s=Bl(Wc.Z1);["fcp","fp","lcp","ttfb"].forEach((function(n){if(e._measurements[n]&&!(s>=t.startTimestamp)){var r=e._measurements[n].value,i=s+Bl(r),o=Math.abs(1e3*(i-t.startTimestamp)),a=o-r;zc.k.log("[Measurements] Normalized "+n+" from "+r+" to "+o+" ("+a+")"),e._measurements[n].value=o}})),this._measurements["mark.fid"]&&this._measurements.fid&&pp(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Bl(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements)}}},t.prototype._trackCLS=function(){var t=this;!function(e,n){void 0===n&&(n=!1);var r,i=tp("CLS",0),o=function(t){t.hadRecentInput||(i.value+=t.value,i.entries.push(t),r())},a=ep("layout-shift",o);a&&(r=Ql((function(e){e.entries.pop()&&(zc.k.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value})}),i,a,n),op((function(t){var e=t.isUnloading;a.takeRecords().map(o),e&&(i.isFinal=!0),r()})))}()},t.prototype._trackNavigator=function(t){var e=cp.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),fp(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),fp(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),fp(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),fp(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackLCP=function(){var t=this;!function(t,e){void 0===e&&(e=!1);var n,r=tp("LCP"),i=ap(),o=function(t){var e=t.startTime;e<i.timeStamp?(r.value=e,r.entries.push(t)):r.isFinal=!0,n()},a=ep("largest-contentful-paint",o);if(a){n=Ql(t,r,a,e);var s=function(){r.isFinal||(a.takeRecords().map(o),r.isFinal=!0,n())};(Xl||(Xl=new Promise((function(t){return["scroll","keydown","pointerdown"].map((function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})}))}))),Xl).then(s),op(s,!0)}}((function(e){var n=e.entries.pop();if(n){var r=Bl(performance.timeOrigin),i=Bl(n.startTime);zc.k.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:r+i}}}))},t.prototype._trackFID=function(){var t,e,n,r,i,o,a=this;t=function(t){var e=t.entries.pop();if(e){var n=Bl(performance.timeOrigin),r=Bl(e.startTime);zc.k.log("[Measurements] Adding FID"),a._measurements.fid={value:t.value},a._measurements["mark.fid"]={value:n+r}}},e=tp("FID"),n=ap(),i=ep("first-input",r=function(t){t.startTime<n.timeStamp&&(e.value=t.processingStart-t.startTime,e.entries.push(t),e.isFinal=!0,o())}),o=Ql(t,e,i),i?op((function(){i.takeRecords().map(r),i.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,r){r.timeStamp<n.timeStamp&&(e.value=t,e.isFinal=!0,e.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+t}],o())}))},t.prototype._trackTTFB=function(){var t,e,n,r=this;t=function(t){var e,n=t.entries.pop();if(n){zc.k.log("[Measurements] Adding TTFB"),r._measurements.ttfb={value:t.value};var i=t.value-(e=t.entries[0],null!=e?e:n).requestStart;r._measurements["ttfb.requestTime"]={value:i}}},n=tp("TTFB"),e=function(){try{var e=sp.performance.getEntriesByType("navigation")[0]||function(){var t=sp.performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();n.value=n.delta=e.responseStart,n.entries=[e],t(n)}catch(t){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)},t}();function lp(t,e,n,r,i){var o=i?e[i]:e[n+"End"],a=e[n+"Start"];a&&o&&pp(t,{op:"browser",description:n,startTimestamp:r+Bl(a),endTimestamp:r+Bl(o)})}function pp(t,e){var n=e.startTimestamp,r=(0,Hc._T)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild((0,Hc.pi)({startTimestamp:n},r))}function fp(t){return"number"==typeof t&&isFinite(t)}var dp={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};var hp=(0,qc.Rf)(),vp=(0,Hc.pi)({idleTimeout:1e3,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),hp&&hp.location){var r,i=hp.location.href;e&&(r=t({name:hp.location.pathname,op:"pageload"})),n&&Tu({callback:function(e){var n=e.to,o=e.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(zc.k.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:hp.location.pathname,op:"navigation"}))},type:"history"})}else zc.k.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},dp),mp=function(){function t(e){this.name=t.id,this._metrics=new up,this._emitOptionsWarning=!1;var n=dp.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=(0,Hc.pi)((0,Hc.pi)((0,Hc.pi)({},vp),e),{tracingOrigins:n})}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(zc.k.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),zc.k.warn("[Tracing] We added a reasonable default for you: "+dp.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,a=r.startTransactionOnPageLoad,s=r.markBackgroundTransactions,c=r.traceFetch,u=r.traceXHR,l=r.tracingOrigins,p=r.shouldCreateSpanForRequest;i((function(t){return n._createRouteTransaction(t)}),a,o),s&&(Zl&&Zl.document?Zl.document.addEventListener("visibilitychange",(function(){var t=Hl();Zl.document.hidden&&t&&(zc.k.log("[Tracing] Transaction: "+Il.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(Il.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())})):zc.k.warn("[Tracing] Could not set up background tab detection due to lack of global document")),function(t){var e=(0,Hc.pi)((0,Hc.pi)({},dp),t),n=e.traceFetch,r=e.traceXHR,i=e.tracingOrigins,o=e.shouldCreateSpanForRequest,a={},s=function(t){if(a[t])return a[t];var e=i;return a[t]=e.some((function(e){return(0,du.zC)(t,e)}))&&!(0,du.zC)(t,"sentry_key"),a[t]},c=s;"function"==typeof o&&(c=function(t){return s(t)&&o(t)});var u={};n&&Tu({callback:function(t){!function(t,e,n){var r,i=null===(r=ru().getClient())||void 0===r?void 0:r.getOptions();if(i&&Ul(i)&&t.fetchData&&e(t.fetchData.url))if(t.endTimestamp&&t.fetchData.__span){if(s=n[t.fetchData.__span]){var o=t.response;o&&s.setHttpStatus(o.status),s.finish(),delete n[t.fetchData.__span]}}else{var a=Hl();if(a){var s=a.startChild({data:(0,Hc.pi)((0,Hc.pi)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=s.spanId,n[s.spanId]=s;var c=t.args[0]=t.args[0],u=t.args[1]=t.args[1]||{},l=u.headers;(0,Jc.V9)(c,Request)&&(l=c.headers),l?"function"==typeof l.append?l.append("sentry-trace",s.toTraceparent()):l=Array.isArray(l)?(0,Hc.fl)(l,[["sentry-trace",s.toTraceparent()]]):(0,Hc.pi)((0,Hc.pi)({},l),{"sentry-trace":s.toTraceparent()}):l={"sentry-trace":s.toTraceparent()},u.headers=l}}}(t,c,u)},type:"fetch"}),r&&Tu({callback:function(t){!function(t,e,n){var r,i=null===(r=ru().getClient())||void 0===r?void 0:r.getOptions();if(i&&Ul(i)&&t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)&&!t.xhr.__sentry_own_request__){var o=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__)(s=n[t.xhr.__sentry_xhr_span_id__])&&(s.setHttpStatus(o.status_code),s.finish(),delete n[t.xhr.__sentry_xhr_span_id__]);else{var a=Hl();if(a){var s=a.startChild({data:(0,Hc.pi)((0,Hc.pi)({},o.data),{type:"xhr",method:o.method,url:o.url}),description:o.method+" "+o.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=s.spanId,n[t.xhr.__sentry_xhr_span_id__]=s,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",s.toTraceparent())}catch(t){}}}}}(t,c,u)},type:"xhr"})}({traceFetch:c,traceXHR:u,tracingOrigins:l,shouldCreateSpanForRequest:p})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,a="pageload"===t.op?function(){var t,e=("sentry-trace",(t=document.querySelector("meta[name=sentry-trace]"))?t.getAttribute("content"):null);if(e)return function(t){var e=t.match(Fl);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}(e)}():void 0,s=(0,Hc.pi)((0,Hc.pi)((0,Hc.pi)({},t),a),{trimEnd:!0}),c="function"==typeof r?r(s):s,u=void 0===c?(0,Hc.pi)((0,Hc.pi)({},s),{sampled:!1}):c;!1===u.sampled&&zc.k.log("[Tracing] Will not send "+u.op+" transaction because of beforeNavigate."),zc.k.log("[Tracing] Starting "+u.op+" transaction on scope");var l=function(t,e,n,r,i){return Gl(t,new Jl(e,t,n,!0),(0,Hc.pi)({parentSampled:e.parentSampled,transactionContext:e},i))}(this._getCurrentHub(),u,i,0,{location:(0,qc.Rf)().location});return l.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp;n&&(r>t||r<0)&&(e.setStatus(Il.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}(function(t){return 1e3*t}(o),t,n)})),l}zc.k.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}(),yp=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){var t,e;this._router?(t=this._router,void 0===(e=this._methods)&&(e=[]),e.forEach((function(e){return function(t,e){var n=t[e];return t[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.call.apply(n,(0,Hc.fl)([this],_p(t,e)))},t}(t,e)}))):zc.k.error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function gp(t,e){var n=t.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var o=i.startChild({description:t.name,op:"middleware."+e});r.once("finish",(function(){o.finish()}))}return t.call(this,n,r)};case 3:return function(n,r,i){var o,a=null===(o=r.__sentry_transaction)||void 0===o?void 0:o.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=a)||void 0===t||t.finish(),i.call.apply(i,(0,Hc.fl)([this],e))}))};case 4:return function(n,r,i,o){var a,s=null===(a=i.__sentry_transaction)||void 0===a?void 0:a.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,i,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=s)||void 0===t||t.finish(),o.call.apply(o,(0,Hc.fl)([this],e))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function _p(t,e){return t.map((function(t){return"function"==typeof t?gp(t,e):Array.isArray(t)?t.map((function(t){return"function"==typeof t?gp(t,e):t})):t}))}var bp,wp=n(136),Sp=n(736),xp=n(873),kp=(0,Hc.pi)((0,Hc.pi)({},t),{BrowserTracing:mp});(bp=eu()).__SENTRY__&&(bp.__SENTRY__.extensions=bp.__SENTRY__.extensions||{},bp.__SENTRY__.extensions.startTransaction||(bp.__SENTRY__.extensions.startTransaction=function(t,e){return Gl(this,new zl(t,this),(0,Hc.pi)({parentSampled:t.parentSampled,transactionContext:t},e))}),bp.__SENTRY__.extensions.traceHeaders||(bp.__SENTRY__.extensions.traceHeaders=function(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}})),Tu({callback:ql,type:"error"}),Tu({callback:ql,type:"unhandledrejection"}),function(t){void 0===t&&(t={});var e=(0,Hc.pi)((0,Hc.pi)({Vue:(0,qc.Rf)().Vue,attachProps:!0,logErrors:!1,tracing:!1},t),{tracingOptions:(0,Hc.pi)({hooks:["activate","mount","update"],timeout:2e3,trackComponents:!1},t.tracingOptions)});e._metadata=e._metadata||{},e._metadata.sdk={name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:fu}],version:fu},function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=Al),void 0===t.release){var e=(0,qc.Rf)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),t._metadata=t._metadata||{},t._metadata.sdk={name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:fu}],version:fu},function(t,e){!0===e.debug&&zc.k.enable();var n=ru(),r=new t(e);n.bindClient(r)}(Sl,t),t.autoSessionTracking&&function(){if(void 0!==(0,qc.Rf)().document){var t=ru();t.startSession(),t.captureSession(),Tu({callback:function(){t.startSession(),t.captureSession()},type:"history"})}else zc.k.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}(e),void 0===e.Vue?(zc.k.warn("No Vue instance was provided. Also there is no Vue instance on the `window` object."),zc.k.warn("We will only capture global unhandled errors.")):new Ml(e).setup()}({Vue:ps,dsn:"https://8c6b0b6c784749179d544c24b9b21e8b@o527335.ingest.sentry.io/5643515",integrations:[new kp.BrowserTracing],tracesSampleRate:1});var Ep=n(379),Op=n.n(Ep),Tp=n(1);Op()(Tp.Z,{insert:"head",singleton:!1}),Tp.Z.locals,new ps({el:"#performance-app",components:{navigation:fs},render(t){return t("div",[t("navigation"),t("p",{domProps:{id:"error-text"},class:{error:!0}},this.error),this.loading?t("p",{domProps:{id:"loading-text"},class:{primary:!0}},"memuat..."):null,t("button",{on:{click:()=>Lc.dispatch(lu)}},"refresh"),t("ul",[t("li",[t("span",{domProps:{id:"workers"}},"jumlah pekerja: "+this.summary.total_worker)]),t("li",[t("span",{domProps:{id:"tasks"}},"jumlah tugas: "+this.summary.total_task)]),t("li",[t("span",{domProps:{id:"task-done"}},"jumlah yang selesai: "+this.summary.task_done)]),t("li",[t("span",{domProps:{id:"task-canceled"}},"yang dibatalkan: "+this.summary.task_cancelled)])])])},data:{summary:[],error:"",loading:!1},mounted(){const t=Lc.getState();this.loading=t.loading,this.error=t.error,this.summary=t.summary,Lc.subscribe((()=>{const t=Lc.getState();this.loading=t.loading,this.error=t.error,this.summary=t.summary,console.log(this.summary)})),Lc.dispatch(lu)}})})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9pbnRlZ3JhdGlvbnMvbW9uZ28uanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vaW50ZWdyYXRpb25zL215c3FsLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3RyYWNpbmcvZXNtL2ludGVncmF0aW9ucy9wb3N0Z3Jlcy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vaXMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdXRpbHMvZXNtL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vbWlzYy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vbm9kZS5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vbWVtby5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vb2JqZWN0LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3V0aWxzL2VzbS9zdGFja3RyYWNlLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3V0aWxzL2VzbS9zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdXRpbHMvZXNtL3RpbWUuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vd2ViYXBwL3NyYy9wZXJmb3JtYW5jZS9tYWluLmNzcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvc3ltYm9sLW9ic2VydmFibGUvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2VzL3BvbnlmaWxsLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3Rhc2stbWFuYWdlci93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3Rhc2stbWFuYWdlci93ZWJwYWNrL3J1bnRpbWUvaGFybW9ueSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL3Rhc2stbWFuYWdlci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3Rhc2stbWFuYWdlci93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy92dWUvZGlzdC92dWUuZXNtLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL3dlYmFwcC9zcmMvcGVyZm9ybWFuY2UvY29tcG9uZW50cy9uYXZpZ2F0aW9uLnRzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9pbW1lci9kaXN0L2ltbWVyLmVzbS5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvcmVkdXguanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL3Jlc2VsZWN0L2VzL2luZGV4LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9yZWR1eC10aHVuay9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHJlZHV4anMvdG9vbGtpdC9kaXN0L3JlZHV4LXRvb2xraXQuZXNtLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL3dlYmFwcC9zcmMvcGVyZm9ybWFuY2Uvc3RvcmUudHMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vd2ViYXBwL3NyYy9wZXJmb3JtYW5jZS9yZWR1Y2VyLnRzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL3dlYmFwcC9zcmMvbGliL2h0dHAtY2xpZW50LnRzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3R5cGVzL2VzbS9zZXNzaW9uLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3V0aWxzL2VzbS9zeW5jcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9odWIvZXNtL3Njb3BlLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2h1Yi9lc20vc2Vzc2lvbi5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9odWIvZXNtL2h1Yi5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9taW5pbWFsL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi93ZWJhcHAvc3JjL3BlcmZvcm1hbmNlL2FzeW5jLWFjdGlvbi50cyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi93ZWJhcHAvc3JjL3BlcmZvcm1hbmNlL3BlcmZvcm1hbmNlLmNsaWVudC50cyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9jb3JlL2VzbS92ZXJzaW9uLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL2ludGVncmF0aW9ucy9mdW5jdGlvbnRvc3RyaW5nLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL2ludGVncmF0aW9ucy9pbmJvdW5kZmlsdGVycy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vc3VwcG9ydHMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdXRpbHMvZXNtL2luc3RydW1lbnQuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdXRpbHMvZXNtL3BvbHlmaWxsLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3V0aWxzL2VzbS9lcnJvci5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vZHNuLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL2ludGVncmF0aW9uLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL2Jhc2VjbGllbnQuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHlwZXMvZXNtL3N0YXR1cy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9jb3JlL2VzbS90cmFuc3BvcnRzL25vb3AuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHlwZXMvZXNtL3NldmVyaXR5LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL2Jhc2ViYWNrZW5kLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL3RyYWNla2l0LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL3BhcnNlcnMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvYnJvd3Nlci9lc20vZXZlbnRidWlsZGVyLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL3JlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvY29yZS9lc20vYXBpLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3V0aWxzL2VzbS9wcm9taXNlYnVmZmVyLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL3RyYW5zcG9ydHMvYmFzZS5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9icm93c2VyL2VzbS90cmFuc3BvcnRzL2ZldGNoLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL3RyYW5zcG9ydHMveGhyLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL2JhY2tlbmQuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvYnJvd3Nlci9lc20vaGVscGVycy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9icm93c2VyL2VzbS9pbnRlZ3JhdGlvbnMvYnJlYWRjcnVtYnMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvYnJvd3Nlci9lc20vY2xpZW50LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL2ludGVncmF0aW9ucy90cnljYXRjaC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9icm93c2VyL2VzbS9pbnRlZ3JhdGlvbnMvZ2xvYmFsaGFuZGxlcnMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvYnJvd3Nlci9lc20vaW50ZWdyYXRpb25zL2xpbmtlZGVycm9ycy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9icm93c2VyL2VzbS9pbnRlZ3JhdGlvbnMvdXNlcmFnZW50LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL3Nkay5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vcGF0aC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS92dWUvZXNtL3Nkay5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90eXBlcy9lc20vdHJhbnNhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vc3BhbnN0YXR1cy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS91dGlscy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9lcnJvcnMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vc3Bhbi5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS90cmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9pZGxldHJhbnNhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vaHViZXh0ZW5zaW9ucy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL2JhY2tncm91bmR0YWIuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9nZXRGaXJzdEhpZGRlbi5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL3doZW5JbnB1dC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL2JpbmRSZXBvcnRlci5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL2luaXRNZXRyaWMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9nZW5lcmF0ZVVuaXF1ZUlELmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3RyYWNpbmcvZXNtL2Jyb3dzZXIvd2ViLXZpdGFscy9saWIvb2JzZXJ2ZS5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL29uSGlkZGVuLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3RyYWNpbmcvZXNtL2Jyb3dzZXIvd2ViLXZpdGFscy9nZXRUVEZCLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3RyYWNpbmcvZXNtL2Jyb3dzZXIvbWV0cmljcy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvZ2V0Q0xTLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3RyYWNpbmcvZXNtL2Jyb3dzZXIvd2ViLXZpdGFscy9nZXRMQ1AuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2dldEZJRC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL3JlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vYnJvd3Nlci9yb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vYnJvd3Nlci9icm93c2VydHJhY2luZy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9pbnRlZ3JhdGlvbnMvZXhwcmVzcy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9jb3JlL2VzbS9zZGsuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vd2ViYXBwL3NyYy9saWIvc2VudHJ5LnRzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL3dlYmFwcC9zcmMvcGVyZm9ybWFuY2UvbWFpbi5jc3M/Njg0NCIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi93ZWJhcHAvc3JjL3BlcmZvcm1hbmNlL21haW4udHMiXSwibmFtZXMiOlsiT1BFUkFUSU9OUyIsIk9QRVJBVElPTl9TSUdOQVRVUkVTIiwiYnVsa1dyaXRlIiwiY291bnREb2N1bWVudHMiLCJjcmVhdGVJbmRleCIsImNyZWF0ZUluZGV4ZXMiLCJkZWxldGVNYW55IiwiZGVsZXRlT25lIiwiZGlzdGluY3QiLCJkcm9wSW5kZXgiLCJmaW5kT25lIiwiZmluZE9uZUFuZERlbGV0ZSIsImZpbmRPbmVBbmRSZXBsYWNlIiwiZmluZE9uZUFuZFVwZGF0ZSIsImluZGV4RXhpc3RzIiwiaW5zZXJ0TWFueSIsImluc2VydE9uZSIsIm1hcFJlZHVjZSIsInJlbmFtZSIsInJlcGxhY2VPbmUiLCJ1cGRhdGVNYW55IiwidXBkYXRlT25lIiwiTW9uZ28iLCJvcHRpb25zIiwidGhpcyIsIm5hbWUiLCJpZCIsIl9vcGVyYXRpb25zIiwiQXJyYXkiLCJpc0FycmF5Iiwib3BlcmF0aW9ucyIsIl9kZXNjcmliZU9wZXJhdGlvbnMiLCJkZXNjcmliZU9wZXJhdGlvbnMiLCJwcm90b3R5cGUiLCJzZXR1cE9uY2UiLCJfIiwiZ2V0Q3VycmVudEh1YiIsImNvbGxlY3Rpb24iLCJtb2R1bGUiLCJDb2xsZWN0aW9uIiwiZSIsIl9pbnN0cnVtZW50T3BlcmF0aW9ucyIsIl90aGlzIiwiZm9yRWFjaCIsIm9wZXJhdGlvbiIsIl9wYXRjaE9wZXJhdGlvbiIsImdldFNwYW5Db250ZXh0IiwiX2dldFNwYW5Db250ZXh0RnJvbU9wZXJhdGlvbkFyZ3VtZW50cyIsImJpbmQiLCJvcmlnIiwiX2EiLCJfYiIsIl9jIiwiX2QiLCJhcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJsYXN0QXJnIiwic2NvcGUiLCJnZXRTY29wZSIsInBhcmVudFNwYW4iLCJnZXRTcGFuIiwic3Bhbl8xIiwic3RhcnRDaGlsZCIsIm1heWJlUHJvbWlzZSIsImNhbGwiLCJhcHBseSIsInRoZW4iLCJyZXMiLCJmaW5pc2giLCJzcGFuIiwic2xpY2UiLCJlcnIiLCJyZXN1bHQiLCJkYXRhIiwiY29sbGVjdGlvbk5hbWUiLCJkYk5hbWUiLCJuYW1lc3BhY2UiLCJzcGFuQ29udGV4dCIsIm9wIiwiZGVzY3JpcHRpb24iLCJzaWduYXR1cmUiLCJzaG91bGREZXNjcmliZSIsImluY2x1ZGVzIiwibWFwIiwicmVkdWNlIiwiaSIsIkpTT04iLCJzdHJpbmdpZnkiLCJfb08iLCJNeXNxbCIsImNvbm5lY3Rpb24iLCJ2YWx1ZXMiLCJjYWxsYmFjayIsInNxbCIsImZpZWxkcyIsIlBvc3RncmVzIiwiY2xpZW50IiwiQ2xpZW50IiwiY29uZmlnIiwidGV4dCIsImh0bWxUcmVlQXNTdHJpbmciLCJlbGVtIiwiY3VycmVudEVsZW0iLCJvdXQiLCJoZWlnaHQiLCJsZW4iLCJzZXBMZW5ndGgiLCJuZXh0U3RyIiwiX2h0bWxFbGVtZW50QXNTdHJpbmciLCJwdXNoIiwicGFyZW50Tm9kZSIsInJldmVyc2UiLCJqb2luIiwiZWwiLCJjbGFzc05hbWUiLCJjbGFzc2VzIiwia2V5IiwiYXR0ciIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsInNwbGl0IiwiYWxsb3dlZEF0dHJzIiwiZ2V0QXR0cmlidXRlIiwiaXNFcnJvciIsIndhdCIsIk9iamVjdCIsInRvU3RyaW5nIiwiaXNJbnN0YW5jZU9mIiwiRXJyb3IiLCJpc0Vycm9yRXZlbnQiLCJpc0RPTUVycm9yIiwiaXNET01FeGNlcHRpb24iLCJpc1N0cmluZyIsImlzUHJpbWl0aXZlIiwiaXNQbGFpbk9iamVjdCIsImlzRXZlbnQiLCJFdmVudCIsImlzRWxlbWVudCIsIkVsZW1lbnQiLCJpc1JlZ0V4cCIsImlzVGhlbmFibGUiLCJCb29sZWFuIiwiaXNTeW50aGV0aWNFdmVudCIsImJhc2UiLCJfZSIsImdsb2JhbCIsIlBSRUZJWCIsIkxvZ2dlciIsIl9lbmFibGVkIiwiZGlzYWJsZSIsImVuYWJsZSIsImxvZyIsImNvbnNvbGUiLCJ3YXJuIiwiZXJyb3IiLCJfX1NFTlRSWV9fIiwibG9nZ2VyIiwiZmFsbGJhY2tHbG9iYWxPYmplY3QiLCJnZXRHbG9iYWxPYmplY3QiLCJnIiwid2luZG93Iiwic2VsZiIsInV1aWQ0IiwiY3J5cHRvIiwibXNDcnlwdG8iLCJnZXRSYW5kb21WYWx1ZXMiLCJhcnIiLCJVaW50MTZBcnJheSIsInBhZCIsIm51bSIsInYiLCJyZXBsYWNlIiwiYyIsInIiLCJNYXRoIiwicmFuZG9tIiwicGFyc2VVcmwiLCJ1cmwiLCJtYXRjaCIsInF1ZXJ5IiwiZnJhZ21lbnQiLCJob3N0IiwicGF0aCIsInByb3RvY29sIiwicmVsYXRpdmUiLCJnZXRFdmVudERlc2NyaXB0aW9uIiwiZXZlbnQiLCJtZXNzYWdlIiwiZXhjZXB0aW9uIiwidHlwZSIsInZhbHVlIiwiZXZlbnRfaWQiLCJjb25zb2xlU2FuZGJveCIsIm9yaWdpbmFsQ29uc29sZSIsIndyYXBwZWRMZXZlbHMiLCJsZXZlbCIsIl9fc2VudHJ5X29yaWdpbmFsX18iLCJrZXlzIiwiYWRkRXhjZXB0aW9uVHlwZVZhbHVlIiwiYWRkRXhjZXB0aW9uTWVjaGFuaXNtIiwibWVjaGFuaXNtIiwiZ2V0TG9jYXRpb25IcmVmIiwiZG9jdW1lbnQiLCJsb2NhdGlvbiIsImhyZWYiLCJvTyIsInBhcnNlUmV0cnlBZnRlckhlYWRlciIsIm5vdyIsImhlYWRlciIsImhlYWRlckRlbGF5IiwicGFyc2VJbnQiLCJpc05hTiIsImhlYWRlckRhdGUiLCJEYXRlIiwicGFyc2UiLCJpc05vZGVFbnYiLCJwcm9jZXNzIiwiZHluYW1pY1JlcXVpcmUiLCJtb2QiLCJyZXF1ZXN0IiwicmVxdWlyZSIsIk1lbW8iLCJfaGFzV2Vha1NldCIsIldlYWtTZXQiLCJfaW5uZXIiLCJtZW1vaXplIiwib2JqIiwiaGFzIiwiYWRkIiwidW5tZW1vaXplIiwiZGVsZXRlIiwic3BsaWNlIiwiZmlsbCIsInNvdXJjZSIsInJlcGxhY2VtZW50RmFjdG9yeSIsIm9yaWdpbmFsIiwid3JhcHBlZCIsImRlZmluZVByb3BlcnRpZXMiLCJlbnVtZXJhYmxlIiwiX09vIiwidXJsRW5jb2RlIiwib2JqZWN0IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZ2V0V2Fsa1NvdXJjZSIsImlzIiwic3RhY2siLCJoYXNPd25Qcm9wZXJ0eSIsImV2ZW50XzEiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJub3JtYWxpemVUb1NpemUiLCJkZXB0aCIsIm1heFNpemUiLCJzZXJpYWxpemVkIiwibm9ybWFsaXplIiwiZW5jb2RlVVJJIiwidXRmOExlbmd0aCIsIm5vcm1hbGl6ZVZhbHVlIiwiX2V2ZW50cyIsIlN0cmluZyIsIndhbGsiLCJtZW1vIiwibm9ybWFsaXplZCIsInNlcmlhbGl6ZVZhbHVlIiwidG9KU09OIiwiYWNjIiwiaW5uZXJLZXkiLCJpbnB1dCIsImV4dHJhY3RFeGNlcHRpb25LZXlzRm9yTWVzc2FnZSIsIm1heExlbmd0aCIsInNvcnQiLCJpbmNsdWRlZEtleXMiLCJkcm9wVW5kZWZpbmVkS2V5cyIsInZhbCIsImVfMSIsInJ2IiwibmV4dCIsImRvbmUiLCJlXzFfMSIsInJldHVybiIsImRlZmF1bHRGdW5jdGlvbk5hbWUiLCJnZXRGdW5jdGlvbk5hbWUiLCJmbiIsInRydW5jYXRlIiwic3RyIiwibWF4Iiwic3Vic3RyIiwic2FmZUpvaW4iLCJkZWxpbWl0ZXIiLCJvdXRwdXQiLCJpc01hdGNoaW5nUGF0dGVybiIsInBhdHRlcm4iLCJ0ZXN0IiwiaW5kZXhPZiIsImRhdGVUaW1lc3RhbXBTb3VyY2UiLCJub3dTZWNvbmRzIiwicGxhdGZvcm1QZXJmb3JtYW5jZSIsInBlcmZvcm1hbmNlIiwiZ2V0Tm9kZVBlcmZvcm1hbmNlIiwidGltZU9yaWdpbiIsImdldEJyb3dzZXJQZXJmb3JtYW5jZSIsInRpbWVzdGFtcFNvdXJjZSIsInVuZGVmaW5lZCIsImRhdGVUaW1lc3RhbXBJblNlY29uZHMiLCJ0aW1lc3RhbXBXaXRoTXMiLCJicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luIiwidGltaW5nIiwibmF2aWdhdGlvblN0YXJ0IiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJpdGVtIiwiY29udGVudCIsImNvbmNhdCIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyMiIsIl9pdGVtIiwiX2FycmF5V2l0aEhvbGVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfYXJyIiwiX24iLCJfcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIm8iLCJtaW5MZW4iLCJuIiwiY29uc3RydWN0b3IiLCJmcm9tIiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlUmVzdCIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2VSb290IiwiZ2V0VGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJtb2R1bGVzVG9Eb20iLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJjb3VudCIsImluZGV4IiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImFsbCIsImF0b2IiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwicm9vdCIsIm9ic2VydmFibGUiLCJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInAiLCJfX2V4dGVuZHMiLCJfXyIsImNyZWF0ZSIsIl9fYXNzaWduIiwiYXNzaWduIiwidCIsInMiLCJfX3Jlc3QiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIl9fdmFsdWVzIiwibSIsIl9fcmVhZCIsImFyIiwiX19zcHJlYWQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImEiLCJkZWZpbml0aW9uIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJobWQiLCJjaGlsZHJlbiIsInNldCIsInByb3AiLCJ0b1N0cmluZ1RhZyIsImVtcHR5T2JqZWN0IiwiZnJlZXplIiwiaXNVbmRlZiIsImlzRGVmIiwiaXNUcnVlIiwiaXNPYmplY3QiLCJfdG9TdHJpbmciLCJpc1ZhbGlkQXJyYXlJbmRleCIsInBhcnNlRmxvYXQiLCJmbG9vciIsImlzRmluaXRlIiwiaXNQcm9taXNlIiwiY2F0Y2giLCJ0b051bWJlciIsIm1ha2VNYXAiLCJleHBlY3RzTG93ZXJDYXNlIiwiaXNCdWlsdEluVGFnIiwiaXNSZXNlcnZlZEF0dHJpYnV0ZSIsImhhc093biIsImNhY2hlZCIsImNhY2hlIiwiY2FtZWxpemVSRSIsImNhbWVsaXplIiwidG9VcHBlckNhc2UiLCJjYXBpdGFsaXplIiwiY2hhckF0IiwiaHlwaGVuYXRlUkUiLCJoeXBoZW5hdGUiLCJjdHgiLCJib3VuZEZuIiwibCIsIl9sZW5ndGgiLCJ0b0FycmF5Iiwic3RhcnQiLCJyZXQiLCJleHRlbmQiLCJ0byIsIl9mcm9tIiwidG9PYmplY3QiLCJub29wIiwibm8iLCJpZGVudGl0eSIsImxvb3NlRXF1YWwiLCJpc09iamVjdEEiLCJpc09iamVjdEIiLCJpc0FycmF5QSIsImlzQXJyYXlCIiwiZXZlcnkiLCJnZXRUaW1lIiwia2V5c0EiLCJrZXlzQiIsImxvb3NlSW5kZXhPZiIsIm9uY2UiLCJjYWxsZWQiLCJTU1JfQVRUUiIsIkFTU0VUX1RZUEVTIiwiTElGRUNZQ0xFX0hPT0tTIiwib3B0aW9uTWVyZ2VTdHJhdGVnaWVzIiwic2lsZW50IiwicHJvZHVjdGlvblRpcCIsImRldnRvb2xzIiwiZXJyb3JIYW5kbGVyIiwid2FybkhhbmRsZXIiLCJpZ25vcmVkRWxlbWVudHMiLCJrZXlDb2RlcyIsImlzUmVzZXJ2ZWRUYWciLCJpc1Jlc2VydmVkQXR0ciIsImlzVW5rbm93bkVsZW1lbnQiLCJnZXRUYWdOYW1lc3BhY2UiLCJwYXJzZVBsYXRmb3JtVGFnTmFtZSIsIm11c3RVc2VQcm9wIiwiYXN5bmMiLCJfbGlmZWN5Y2xlSG9va3MiLCJ1bmljb2RlUmVnRXhwIiwiaXNSZXNlcnZlZCIsImNoYXJDb2RlQXQiLCJkZWYiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIl9pc1NlcnZlciIsImJhaWxSRSIsIlJlZ0V4cCIsImhhc1Byb3RvIiwiaW5Ccm93c2VyIiwiaW5XZWV4IiwiV1hFbnZpcm9ubWVudCIsInBsYXRmb3JtIiwid2VleFBsYXRmb3JtIiwiVUEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpc0lFIiwiaXNJRTkiLCJpc0VkZ2UiLCJpc0lPUyIsImlzRkYiLCJuYXRpdmVXYXRjaCIsIndhdGNoIiwic3VwcG9ydHNQYXNzaXZlIiwib3B0cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJpc1NlcnZlclJlbmRlcmluZyIsImVudiIsIlZVRV9FTlYiLCJfX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fIiwiaXNOYXRpdmUiLCJDdG9yIiwiX1NldCIsImhhc1N5bWJvbCIsIlJlZmxlY3QiLCJvd25LZXlzIiwiU2V0IiwiY2xlYXIiLCJ1aWQiLCJEZXAiLCJzdWJzIiwiYWRkU3ViIiwic3ViIiwicmVtb3ZlU3ViIiwiZGVwZW5kIiwiYWRkRGVwIiwibm90aWZ5IiwidGFyZ2V0U3RhY2siLCJwdXNoVGFyZ2V0IiwicG9wVGFyZ2V0IiwicG9wIiwiVk5vZGUiLCJ0YWciLCJlbG0iLCJjb250ZXh0IiwiY29tcG9uZW50T3B0aW9ucyIsImFzeW5jRmFjdG9yeSIsIm5zIiwiZm5Db250ZXh0IiwiZm5PcHRpb25zIiwiZm5TY29wZUlkIiwiY29tcG9uZW50SW5zdGFuY2UiLCJwYXJlbnQiLCJyYXciLCJpc1N0YXRpYyIsImlzUm9vdEluc2VydCIsImlzQ29tbWVudCIsImlzQ2xvbmVkIiwiaXNPbmNlIiwiYXN5bmNNZXRhIiwiaXNBc3luY1BsYWNlaG9sZGVyIiwicHJvdG90eXBlQWNjZXNzb3JzIiwiY2hpbGQiLCJjcmVhdGVFbXB0eVZOb2RlIiwibm9kZSIsImNyZWF0ZVRleHRWTm9kZSIsImNsb25lVk5vZGUiLCJ2bm9kZSIsImNsb25lZCIsImFycmF5UHJvdG8iLCJhcnJheU1ldGhvZHMiLCJtZXRob2QiLCJpbnNlcnRlZCIsIm9iIiwiX19vYl9fIiwib2JzZXJ2ZUFycmF5IiwiZGVwIiwiYXJyYXlLZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInNob3VsZE9ic2VydmUiLCJ0b2dnbGVPYnNlcnZpbmciLCJPYnNlcnZlciIsInZtQ291bnQiLCJzcmMiLCJwcm90b0F1Z21lbnQiLCJjb3B5QXVnbWVudCIsIm9ic2VydmUiLCJhc1Jvb3REYXRhIiwiaXNFeHRlbnNpYmxlIiwiX2lzVnVlIiwiZGVmaW5lUmVhY3RpdmUkJDEiLCJjdXN0b21TZXR0ZXIiLCJzaGFsbG93IiwicHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzZXR0ZXIiLCJjaGlsZE9iIiwiZGVwZW5kQXJyYXkiLCJuZXdWYWwiLCJkZWwiLCJpdGVtcyIsInN0cmF0cyIsIm1lcmdlRGF0YSIsInRvVmFsIiwiZnJvbVZhbCIsIm1lcmdlRGF0YU9yRm4iLCJwYXJlbnRWYWwiLCJjaGlsZFZhbCIsInZtIiwiaW5zdGFuY2VEYXRhIiwiZGVmYXVsdERhdGEiLCJtZXJnZUhvb2siLCJob29rcyIsImRlZHVwZUhvb2tzIiwibWVyZ2VBc3NldHMiLCJob29rIiwia2V5JDEiLCJwcm9wcyIsIm1ldGhvZHMiLCJpbmplY3QiLCJjb21wdXRlZCIsInByb3ZpZGUiLCJkZWZhdWx0U3RyYXQiLCJtZXJnZU9wdGlvbnMiLCJub3JtYWxpemVQcm9wcyIsIm5vcm1hbGl6ZUluamVjdCIsImRpcnMiLCJkaXJlY3RpdmVzIiwiZGVmJCQxIiwibm9ybWFsaXplRGlyZWN0aXZlcyIsIl9iYXNlIiwiZXh0ZW5kcyIsIm1peGlucyIsIm1lcmdlRmllbGQiLCJzdHJhdCIsInJlc29sdmVBc3NldCIsIndhcm5NaXNzaW5nIiwiYXNzZXRzIiwiY2FtZWxpemVkSWQiLCJQYXNjYWxDYXNlSWQiLCJ2YWxpZGF0ZVByb3AiLCJwcm9wT3B0aW9ucyIsInByb3BzRGF0YSIsImFic2VudCIsImJvb2xlYW5JbmRleCIsImdldFR5cGVJbmRleCIsInN0cmluZ0luZGV4IiwiZGVmYXVsdCIsIiRvcHRpb25zIiwiX3Byb3BzIiwiZ2V0VHlwZSIsImdldFByb3BEZWZhdWx0VmFsdWUiLCJwcmV2U2hvdWxkT2JzZXJ2ZSIsImlzU2FtZVR5cGUiLCJleHBlY3RlZFR5cGVzIiwiaGFuZGxlRXJyb3IiLCJpbmZvIiwiY3VyIiwiJHBhcmVudCIsImVycm9yQ2FwdHVyZWQiLCJnbG9iYWxIYW5kbGVFcnJvciIsImludm9rZVdpdGhFcnJvckhhbmRsaW5nIiwiaGFuZGxlciIsIl9oYW5kbGVkIiwibG9nRXJyb3IiLCJ0aW1lckZ1bmMiLCJpc1VzaW5nTWljcm9UYXNrIiwiY2FsbGJhY2tzIiwicGVuZGluZyIsImZsdXNoQ2FsbGJhY2tzIiwiY29waWVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiTXV0YXRpb25PYnNlcnZlciIsInNldEltbWVkaWF0ZSIsImNvdW50ZXIiLCJvYnNlcnZlciIsInRleHROb2RlIiwiY2hhcmFjdGVyRGF0YSIsIm5leHRUaWNrIiwiY2IiLCJfcmVzb2x2ZSIsInNlZW5PYmplY3RzIiwidHJhdmVyc2UiLCJfdHJhdmVyc2UiLCJzZWVuIiwiaXNBIiwiaXNGcm96ZW4iLCJkZXBJZCIsIm5vcm1hbGl6ZUV2ZW50IiwicGFzc2l2ZSIsIm9uY2UkJDEiLCJjYXB0dXJlIiwiY3JlYXRlRm5JbnZva2VyIiwiZm5zIiwiaW52b2tlciIsImFyZ3VtZW50cyQxIiwidXBkYXRlTGlzdGVuZXJzIiwib24iLCJvbGRPbiIsInJlbW92ZSQkMSIsImNyZWF0ZU9uY2VIYW5kbGVyIiwib2xkIiwicGFyYW1zIiwibWVyZ2VWTm9kZUhvb2siLCJob29rS2V5Iiwib2xkSG9vayIsIndyYXBwZWRIb29rIiwibWVyZ2VkIiwiY2hlY2tQcm9wIiwiaGFzaCIsImFsdEtleSIsInByZXNlcnZlIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJub3JtYWxpemVBcnJheUNoaWxkcmVuIiwiaXNUZXh0Tm9kZSIsImlzRmFsc2UiLCJuZXN0ZWRJbmRleCIsImxhc3RJbmRleCIsImxhc3QiLCJzaGlmdCIsIl9pc1ZMaXN0IiwicmVzb2x2ZUluamVjdCIsInByb3ZpZGVLZXkiLCJfcHJvdmlkZWQiLCJwcm92aWRlRGVmYXVsdCIsInJlc29sdmVTbG90cyIsInNsb3RzIiwiYXR0cnMiLCJzbG90IiwibmFtZSQxIiwiaXNXaGl0ZXNwYWNlIiwibm9ybWFsaXplU2NvcGVkU2xvdHMiLCJub3JtYWxTbG90cyIsInByZXZTbG90cyIsImhhc05vcm1hbFNsb3RzIiwiaXNTdGFibGUiLCIkc3RhYmxlIiwiJGtleSIsIl9ub3JtYWxpemVkIiwiJGhhc05vcm1hbCIsIm5vcm1hbGl6ZVNjb3BlZFNsb3QiLCJrZXkkMiIsInByb3h5Tm9ybWFsU2xvdCIsInByb3h5IiwicmVuZGVyTGlzdCIsInJlbmRlciIsInJlbmRlclNsb3QiLCJmYWxsYmFjayIsImJpbmRPYmplY3QiLCJub2RlcyIsInNjb3BlZFNsb3RGbiIsIiRzY29wZWRTbG90cyIsIiRzbG90cyIsIiRjcmVhdGVFbGVtZW50IiwicmVzb2x2ZUZpbHRlciIsImlzS2V5Tm90TWF0Y2giLCJleHBlY3QiLCJhY3R1YWwiLCJjaGVja0tleUNvZGVzIiwiZXZlbnRLZXlDb2RlIiwiYnVpbHRJbktleUNvZGUiLCJldmVudEtleU5hbWUiLCJidWlsdEluS2V5TmFtZSIsIm1hcHBlZEtleUNvZGUiLCJiaW5kT2JqZWN0UHJvcHMiLCJhc1Byb3AiLCJpc1N5bmMiLCJsb29wIiwiZG9tUHJvcHMiLCJjYW1lbGl6ZWRLZXkiLCJoeXBoZW5hdGVkS2V5IiwiJGV2ZW50IiwicmVuZGVyU3RhdGljIiwiaXNJbkZvciIsIl9zdGF0aWNUcmVlcyIsInRyZWUiLCJtYXJrU3RhdGljIiwic3RhdGljUmVuZGVyRm5zIiwiX3JlbmRlclByb3h5IiwibWFya09uY2UiLCJtYXJrU3RhdGljTm9kZSIsImJpbmRPYmplY3RMaXN0ZW5lcnMiLCJleGlzdGluZyIsIm91cnMiLCJyZXNvbHZlU2NvcGVkU2xvdHMiLCJoYXNEeW5hbWljS2V5cyIsImNvbnRlbnRIYXNoS2V5IiwiYmluZER5bmFtaWNLZXlzIiwiYmFzZU9iaiIsInByZXBlbmRNb2RpZmllciIsInN5bWJvbCIsImluc3RhbGxSZW5kZXJIZWxwZXJzIiwiX28iLCJfbCIsIl90IiwiX3EiLCJfbSIsIl9mIiwiX2siLCJfdiIsIl91IiwiX2ciLCJfcCIsIkZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0IiwiY29udGV4dFZtIiwidGhpcyQxIiwiX29yaWdpbmFsIiwiaXNDb21waWxlZCIsIl9jb21waWxlZCIsIm5lZWROb3JtYWxpemF0aW9uIiwibGlzdGVuZXJzIiwiaW5qZWN0aW9ucyIsInNjb3BlZFNsb3RzIiwiX3Njb3BlSWQiLCJjbG9uZUFuZE1hcmtGdW5jdGlvbmFsUmVzdWx0IiwicmVuZGVyQ29udGV4dCIsImNsb25lIiwibWVyZ2VQcm9wcyIsImNvbXBvbmVudFZOb2RlSG9va3MiLCJpbml0IiwiaHlkcmF0aW5nIiwiX2lzRGVzdHJveWVkIiwia2VlcEFsaXZlIiwibW91bnRlZE5vZGUiLCJwcmVwYXRjaCIsIl9pc0NvbXBvbmVudCIsIl9wYXJlbnRWbm9kZSIsImlubGluZVRlbXBsYXRlIiwiY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSIsImFjdGl2ZUluc3RhbmNlIiwiJG1vdW50Iiwib2xkVm5vZGUiLCJwYXJlbnRWbm9kZSIsInJlbmRlckNoaWxkcmVuIiwibmV3U2NvcGVkU2xvdHMiLCJvbGRTY29wZWRTbG90cyIsImhhc0R5bmFtaWNTY29wZWRTbG90IiwibmVlZHNGb3JjZVVwZGF0ZSIsIl9yZW5kZXJDaGlsZHJlbiIsIiR2bm9kZSIsIl92bm9kZSIsIiRhdHRycyIsIiRsaXN0ZW5lcnMiLCJwcm9wS2V5cyIsIl9wcm9wS2V5cyIsIm9sZExpc3RlbmVycyIsIl9wYXJlbnRMaXN0ZW5lcnMiLCJ1cGRhdGVDb21wb25lbnRMaXN0ZW5lcnMiLCIkZm9yY2VVcGRhdGUiLCJ1cGRhdGVDaGlsZENvbXBvbmVudCIsIl9pc01vdW50ZWQiLCJjYWxsSG9vayIsIl9pbmFjdGl2ZSIsImFjdGl2YXRlZENoaWxkcmVuIiwiYWN0aXZhdGVDaGlsZENvbXBvbmVudCIsImRlc3Ryb3kiLCJkZWFjdGl2YXRlQ2hpbGRDb21wb25lbnQiLCIkZGVzdHJveSIsImhvb2tzVG9NZXJnZSIsImNyZWF0ZUNvbXBvbmVudCIsImJhc2VDdG9yIiwiY2lkIiwiZmFjdG9yeSIsImVycm9yQ29tcCIsInJlc29sdmVkIiwib3duZXIiLCJjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJvd25lcnMiLCJsb2FkaW5nIiwibG9hZGluZ0NvbXAiLCJzeW5jIiwidGltZXJMb2FkaW5nIiwidGltZXJUaW1lb3V0IiwiJG9uIiwiZm9yY2VSZW5kZXIiLCJyZW5kZXJDb21wbGV0ZWQiLCJjbGVhclRpbWVvdXQiLCJlbnN1cmVDdG9yIiwicmVqZWN0IiwicmVhc29uIiwiY29tcG9uZW50IiwiZGVsYXkiLCJ0aW1lb3V0IiwicmVzb2x2ZUFzeW5jQ29tcG9uZW50IiwiY3JlYXRlQXN5bmNQbGFjZWhvbGRlciIsInJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMiLCJtb2RlbCIsInRyYW5zZm9ybU1vZGVsIiwiZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YSIsImZ1bmN0aW9uYWwiLCJ2bm9kZXMiLCJjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50IiwibmF0aXZlT24iLCJhYnN0cmFjdCIsInRvTWVyZ2UiLCJfbWVyZ2VkIiwibWVyZ2VIb29rJDEiLCJpbnN0YWxsQ29tcG9uZW50SG9va3MiLCJmMSIsImYyIiwibm9ybWFsaXphdGlvblR5cGUiLCJhbHdheXNOb3JtYWxpemUiLCJzaW1wbGVOb3JtYWxpemVDaGlsZHJlbiIsInByZSIsImFwcGx5TlMiLCJjbGFzcyIsInJlZ2lzdGVyRGVlcEJpbmRpbmdzIiwiX2NyZWF0ZUVsZW1lbnQiLCJmb3JjZSIsImNvbXAiLCJnZXRGaXJzdENvbXBvbmVudENoaWxkIiwicmVtb3ZlJDEiLCIkb2ZmIiwiX3RhcmdldCIsIm9uY2VIYW5kbGVyIiwic2V0QWN0aXZlSW5zdGFuY2UiLCJwcmV2QWN0aXZlSW5zdGFuY2UiLCJpc0luSW5hY3RpdmVUcmVlIiwiZGlyZWN0IiwiX2RpcmVjdEluYWN0aXZlIiwiJGNoaWxkcmVuIiwiaGFuZGxlcnMiLCJqIiwiX2hhc0hvb2tFdmVudCIsIiRlbWl0IiwicXVldWUiLCJ3YWl0aW5nIiwiZmx1c2hpbmciLCJjdXJyZW50Rmx1c2hUaW1lc3RhbXAiLCJnZXROb3ciLCJjcmVhdGVFdmVudCIsInRpbWVTdGFtcCIsImZsdXNoU2NoZWR1bGVyUXVldWUiLCJ3YXRjaGVyIiwiYmVmb3JlIiwicnVuIiwiYWN0aXZhdGVkUXVldWUiLCJ1cGRhdGVkUXVldWUiLCJjYWxsQWN0aXZhdGVkSG9va3MiLCJfd2F0Y2hlciIsImNhbGxVcGRhdGVkSG9va3MiLCJlbWl0IiwidWlkJDIiLCJXYXRjaGVyIiwiZXhwT3JGbiIsImlzUmVuZGVyV2F0Y2hlciIsIl93YXRjaGVycyIsImRlZXAiLCJ1c2VyIiwibGF6eSIsImFjdGl2ZSIsImRpcnR5IiwiZGVwcyIsIm5ld0RlcHMiLCJkZXBJZHMiLCJuZXdEZXBJZHMiLCJleHByZXNzaW9uIiwic2VnbWVudHMiLCJwYXJzZVBhdGgiLCJjbGVhbnVwRGVwcyIsInRtcCIsInF1ZXVlV2F0Y2hlciIsIm9sZFZhbHVlIiwiZXZhbHVhdGUiLCJ0ZWFyZG93biIsIl9pc0JlaW5nRGVzdHJveWVkIiwic2hhcmVkUHJvcGVydHlEZWZpbml0aW9uIiwic291cmNlS2V5IiwiY29tcHV0ZWRXYXRjaGVyT3B0aW9ucyIsImRlZmluZUNvbXB1dGVkIiwidXNlckRlZiIsInNob3VsZENhY2hlIiwiY3JlYXRlQ29tcHV0ZWRHZXR0ZXIiLCJjcmVhdGVHZXR0ZXJJbnZva2VyIiwiX2NvbXB1dGVkV2F0Y2hlcnMiLCJjcmVhdGVXYXRjaGVyIiwiJHdhdGNoIiwidWlkJDMiLCJzdXBlciIsInN1cGVyT3B0aW9ucyIsIm1vZGlmaWVkT3B0aW9ucyIsIm1vZGlmaWVkIiwibGF0ZXN0Iiwic2VhbGVkIiwic2VhbGVkT3B0aW9ucyIsInJlc29sdmVNb2RpZmllZE9wdGlvbnMiLCJleHRlbmRPcHRpb25zIiwiY29tcG9uZW50cyIsIlZ1ZSIsIl9pbml0IiwiZ2V0Q29tcG9uZW50TmFtZSIsIm1hdGNoZXMiLCJwcnVuZUNhY2hlIiwia2VlcEFsaXZlSW5zdGFuY2UiLCJjYWNoZWROb2RlIiwicHJ1bmVDYWNoZUVudHJ5IiwiY3VycmVudCIsImNhY2hlZCQkMSIsIl91aWQiLCJ2bm9kZUNvbXBvbmVudE9wdGlvbnMiLCJfY29tcG9uZW50VGFnIiwiaW5pdEludGVybmFsQ29tcG9uZW50IiwiX3NlbGYiLCIkcm9vdCIsIiRyZWZzIiwiaW5pdExpZmVjeWNsZSIsImluaXRFdmVudHMiLCJwYXJlbnREYXRhIiwiaW5pdFJlbmRlciIsImluaXRJbmplY3Rpb25zIiwicHJvcHNPcHRpb25zIiwiaW5pdFByb3BzIiwiaW5pdE1ldGhvZHMiLCJfZGF0YSIsImdldERhdGEiLCJpbml0RGF0YSIsIndhdGNoZXJzIiwiaXNTU1IiLCJpbml0Q29tcHV0ZWQiLCJpbml0V2F0Y2giLCJpbml0U3RhdGUiLCJpbml0UHJvdmlkZSIsImluaXRNaXhpbiIsIiRzZXQiLCIkZGVsZXRlIiwiaW1tZWRpYXRlIiwic3RhdGVNaXhpbiIsImhvb2tSRSIsIiRvbmNlIiwiaSQxIiwiY2JzIiwiZXZlbnRzTWl4aW4iLCJfdXBkYXRlIiwicHJldkVsIiwiJGVsIiwicHJldlZub2RlIiwicmVzdG9yZUFjdGl2ZUluc3RhbmNlIiwiX19wYXRjaF9fIiwiX192dWVfXyIsImxpZmVjeWNsZU1peGluIiwiJG5leHRUaWNrIiwiX3JlbmRlciIsInJlZiIsInJlbmRlck1peGluIiwicGF0dGVyblR5cGVzIiwiYnVpbHRJbkNvbXBvbmVudHMiLCJLZWVwQWxpdmUiLCJpbmNsdWRlIiwiZXhjbHVkZSIsIk51bWJlciIsImNyZWF0ZWQiLCJkZXN0cm95ZWQiLCJtb3VudGVkIiwiY29uZmlnRGVmIiwidXRpbCIsImRlZmluZVJlYWN0aXZlIiwidXNlIiwicGx1Z2luIiwiaW5zdGFsbGVkUGx1Z2lucyIsIl9pbnN0YWxsZWRQbHVnaW5zIiwidW5zaGlmdCIsImluc3RhbGwiLCJpbml0VXNlIiwibWl4aW4iLCJpbml0TWl4aW4kMSIsIlN1cGVyIiwiU3VwZXJJZCIsImNhY2hlZEN0b3JzIiwiX0N0b3IiLCJTdWIiLCJDb21wIiwiaW5pdFByb3BzJDEiLCJpbml0Q29tcHV0ZWQkMSIsImluaXRFeHRlbmQiLCJpbml0QXNzZXRSZWdpc3RlcnMiLCJpbml0R2xvYmFsQVBJIiwic3NyQ29udGV4dCIsInZlcnNpb24iLCJhY2NlcHRWYWx1ZSIsImlzRW51bWVyYXRlZEF0dHIiLCJpc1ZhbGlkQ29udGVudEVkaXRhYmxlVmFsdWUiLCJpc0Jvb2xlYW5BdHRyIiwieGxpbmtOUyIsImlzWGxpbmsiLCJnZXRYbGlua1Byb3AiLCJpc0ZhbHN5QXR0clZhbHVlIiwibWVyZ2VDbGFzc0RhdGEiLCJzdGF0aWNDbGFzcyIsInN0cmluZ2lmeUNsYXNzIiwic3RyaW5naWZpZWQiLCJzdHJpbmdpZnlBcnJheSIsInN0cmluZ2lmeU9iamVjdCIsIm5hbWVzcGFjZU1hcCIsInN2ZyIsIm1hdGgiLCJpc0hUTUxUYWciLCJpc1NWRyIsInVua25vd25FbGVtZW50Q2FjaGUiLCJpc1RleHRJbnB1dFR5cGUiLCJub2RlT3BzIiwibXVsdGlwbGUiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVDb21tZW50IiwibmV3Tm9kZSIsInJlZmVyZW5jZU5vZGUiLCJuZXh0U2libGluZyIsInNldFRleHRDb250ZW50IiwidGV4dENvbnRlbnQiLCJzZXRTdHlsZVNjb3BlIiwic2NvcGVJZCIsInJlZ2lzdGVyUmVmIiwiaXNSZW1vdmFsIiwicmVmcyIsInJlZkluRm9yIiwiZW1wdHlOb2RlIiwic2FtZVZub2RlIiwidHlwZUEiLCJ0eXBlQiIsInNhbWVJbnB1dFR5cGUiLCJjcmVhdGVLZXlUb09sZElkeCIsImJlZ2luSWR4IiwiZW5kSWR4IiwidXBkYXRlRGlyZWN0aXZlcyIsIm9sZERpciIsImRpciIsImlzQ3JlYXRlIiwiaXNEZXN0cm95Iiwib2xkRGlycyIsIm5vcm1hbGl6ZURpcmVjdGl2ZXMkMSIsIm5ld0RpcnMiLCJkaXJzV2l0aEluc2VydCIsImRpcnNXaXRoUG9zdHBhdGNoIiwib2xkQXJnIiwiYXJnIiwiY2FsbEhvb2skMSIsImNvbXBvbmVudFVwZGF0ZWQiLCJjYWxsSW5zZXJ0IiwiZW1wdHlNb2RpZmllcnMiLCJtb2RpZmllcnMiLCJnZXRSYXdEaXJOYW1lIiwicmF3TmFtZSIsImJhc2VNb2R1bGVzIiwidXBkYXRlQXR0cnMiLCJpbmhlcml0QXR0cnMiLCJvbGRBdHRycyIsInNldEF0dHIiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsImJhc2VTZXRBdHRyIiwiY29udmVydEVudW1lcmF0ZWRWYWx1ZSIsInNldEF0dHJpYnV0ZU5TIiwiX19pZXBoIiwiYmxvY2tlciIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVDbGFzcyIsIm9sZERhdGEiLCJjbHMiLCJjaGlsZE5vZGUiLCJkeW5hbWljQ2xhc3MiLCJnZW5DbGFzc0ZvclZub2RlIiwidHJhbnNpdGlvbkNsYXNzIiwiX3RyYW5zaXRpb25DbGFzc2VzIiwiX3ByZXZDbGFzcyIsImNociIsImluZGV4JDEiLCJleHByZXNzaW9uUG9zIiwiZXhwcmVzc2lvbkVuZFBvcyIsImtsYXNzIiwidmFsaWREaXZpc2lvbkNoYXJSRSIsInBhcnNlRmlsdGVycyIsImV4cCIsInByZXYiLCJmaWx0ZXJzIiwiaW5TaW5nbGUiLCJpbkRvdWJsZSIsImluVGVtcGxhdGVTdHJpbmciLCJpblJlZ2V4IiwiY3VybHkiLCJzcXVhcmUiLCJwYXJlbiIsImxhc3RGaWx0ZXJJbmRleCIsInRyaW0iLCJwdXNoRmlsdGVyIiwid3JhcEZpbHRlciIsImJhc2VXYXJuIiwibXNnIiwicmFuZ2UiLCJwbHVja01vZHVsZUZ1bmN0aW9uIiwiYWRkUHJvcCIsImR5bmFtaWMiLCJyYW5nZVNldEl0ZW0iLCJwbGFpbiIsImFkZEF0dHIiLCJkeW5hbWljQXR0cnMiLCJhZGRSYXdBdHRyIiwiYXR0cnNNYXAiLCJhdHRyc0xpc3QiLCJhZGREaXJlY3RpdmUiLCJpc0R5bmFtaWNBcmciLCJwcmVwZW5kTW9kaWZpZXJNYXJrZXIiLCJhZGRIYW5kbGVyIiwiaW1wb3J0YW50IiwiZXZlbnRzIiwicmlnaHQiLCJtaWRkbGUiLCJuYXRpdmUiLCJuYXRpdmVFdmVudHMiLCJuZXdIYW5kbGVyIiwiZ2V0QmluZGluZ0F0dHIiLCJnZXRTdGF0aWMiLCJkeW5hbWljVmFsdWUiLCJnZXRBbmRSZW1vdmVBdHRyIiwic3RhdGljVmFsdWUiLCJyZW1vdmVGcm9tTWFwIiwiZ2V0QW5kUmVtb3ZlQXR0ckJ5UmVnZXgiLCJlbmQiLCJnZW5Db21wb25lbnRNb2RlbCIsIm51bWJlciIsInZhbHVlRXhwcmVzc2lvbiIsImFzc2lnbm1lbnQiLCJnZW5Bc3NpZ25tZW50Q29kZSIsImxhc3RJbmRleE9mIiwiZW9mIiwiaXNTdHJpbmdTdGFydCIsInBhcnNlU3RyaW5nIiwicGFyc2VCcmFja2V0IiwicGFyc2VNb2RlbCIsImluQnJhY2tldCIsInN0cmluZ1F1b3RlIiwidGFyZ2V0JDEiLCJjcmVhdGVPbmNlSGFuZGxlciQxIiwicmVtb3ZlJDIiLCJ1c2VNaWNyb3Rhc2tGaXgiLCJhZGQkMSIsImF0dGFjaGVkVGltZXN0YW1wIiwiX3dyYXBwZXIiLCJvd25lckRvY3VtZW50IiwidXBkYXRlRE9NTGlzdGVuZXJzIiwiY2hhbmdlIiwibm9ybWFsaXplRXZlbnRzIiwic3ZnQ29udGFpbmVyIiwidXBkYXRlRE9NUHJvcHMiLCJvbGRQcm9wcyIsIl92YWx1ZSIsInN0ckN1ciIsInNob3VsZFVwZGF0ZVZhbHVlIiwiaW5uZXJIVE1MIiwiY2hlY2tWYWwiLCJjb21wb3NpbmciLCJub3RJbkZvY3VzIiwiYWN0aXZlRWxlbWVudCIsImlzTm90SW5Gb2N1c0FuZERpcnR5IiwiX3ZNb2RpZmllcnMiLCJpc0RpcnR5V2l0aE1vZGlmaWVycyIsInBhcnNlU3R5bGVUZXh0IiwicHJvcGVydHlEZWxpbWl0ZXIiLCJub3JtYWxpemVTdHlsZURhdGEiLCJub3JtYWxpemVTdHlsZUJpbmRpbmciLCJzdGF0aWNTdHlsZSIsImJpbmRpbmdTdHlsZSIsImVtcHR5U3R5bGUiLCJjc3NWYXJSRSIsImltcG9ydGFudFJFIiwic2V0UHJvcCIsInNldFByb3BlcnR5Iiwibm9ybWFsaXplZE5hbWUiLCJ2ZW5kb3JOYW1lcyIsImNhcE5hbWUiLCJ1cGRhdGVTdHlsZSIsIm9sZFN0YXRpY1N0eWxlIiwib2xkU3R5bGVCaW5kaW5nIiwibm9ybWFsaXplZFN0eWxlIiwib2xkU3R5bGUiLCJuZXdTdHlsZSIsImNoZWNrQ2hpbGQiLCJzdHlsZURhdGEiLCJnZXRTdHlsZSIsIndoaXRlc3BhY2VSRSIsImFkZENsYXNzIiwiY2xhc3NMaXN0IiwicmVtb3ZlQ2xhc3MiLCJ0YXIiLCJyZXNvbHZlVHJhbnNpdGlvbiIsImF1dG9Dc3NUcmFuc2l0aW9uIiwiZW50ZXJDbGFzcyIsImVudGVyVG9DbGFzcyIsImVudGVyQWN0aXZlQ2xhc3MiLCJsZWF2ZUNsYXNzIiwibGVhdmVUb0NsYXNzIiwibGVhdmVBY3RpdmVDbGFzcyIsImhhc1RyYW5zaXRpb24iLCJUUkFOU0lUSU9OIiwiQU5JTUFUSU9OIiwidHJhbnNpdGlvblByb3AiLCJ0cmFuc2l0aW9uRW5kRXZlbnQiLCJhbmltYXRpb25Qcm9wIiwiYW5pbWF0aW9uRW5kRXZlbnQiLCJvbnRyYW5zaXRpb25lbmQiLCJvbndlYmtpdHRyYW5zaXRpb25lbmQiLCJvbmFuaW1hdGlvbmVuZCIsIm9ud2Via2l0YW5pbWF0aW9uZW5kIiwicmFmIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibmV4dEZyYW1lIiwiYWRkVHJhbnNpdGlvbkNsYXNzIiwidHJhbnNpdGlvbkNsYXNzZXMiLCJyZW1vdmVUcmFuc2l0aW9uQ2xhc3MiLCJ3aGVuVHJhbnNpdGlvbkVuZHMiLCJleHBlY3RlZFR5cGUiLCJnZXRUcmFuc2l0aW9uSW5mbyIsInByb3BDb3VudCIsImVuZGVkIiwib25FbmQiLCJ0cmFuc2Zvcm1SRSIsInN0eWxlcyIsImdldENvbXB1dGVkU3R5bGUiLCJ0cmFuc2l0aW9uRGVsYXlzIiwidHJhbnNpdGlvbkR1cmF0aW9ucyIsInRyYW5zaXRpb25UaW1lb3V0IiwiZ2V0VGltZW91dCIsImFuaW1hdGlvbkRlbGF5cyIsImFuaW1hdGlvbkR1cmF0aW9ucyIsImFuaW1hdGlvblRpbWVvdXQiLCJoYXNUcmFuc2Zvcm0iLCJkZWxheXMiLCJkdXJhdGlvbnMiLCJ0b01zIiwiZW50ZXIiLCJ0b2dnbGVEaXNwbGF5IiwiX2xlYXZlQ2IiLCJjYW5jZWxsZWQiLCJ0cmFuc2l0aW9uIiwiX2VudGVyQ2IiLCJub2RlVHlwZSIsImFwcGVhckNsYXNzIiwiYXBwZWFyVG9DbGFzcyIsImFwcGVhckFjdGl2ZUNsYXNzIiwiYmVmb3JlRW50ZXIiLCJhZnRlckVudGVyIiwiZW50ZXJDYW5jZWxsZWQiLCJiZWZvcmVBcHBlYXIiLCJhcHBlYXIiLCJhZnRlckFwcGVhciIsImFwcGVhckNhbmNlbGxlZCIsImR1cmF0aW9uIiwidHJhbnNpdGlvbk5vZGUiLCJpc0FwcGVhciIsInN0YXJ0Q2xhc3MiLCJhY3RpdmVDbGFzcyIsInRvQ2xhc3MiLCJiZWZvcmVFbnRlckhvb2siLCJlbnRlckhvb2siLCJhZnRlckVudGVySG9vayIsImVudGVyQ2FuY2VsbGVkSG9vayIsImV4cGxpY2l0RW50ZXJEdXJhdGlvbiIsImV4cGVjdHNDU1MiLCJ1c2VyV2FudHNDb250cm9sIiwiZ2V0SG9va0FyZ3VtZW50c0xlbmd0aCIsInNob3ciLCJwZW5kaW5nTm9kZSIsIl9wZW5kaW5nIiwiaXNWYWxpZER1cmF0aW9uIiwibGVhdmUiLCJybSIsImJlZm9yZUxlYXZlIiwiYWZ0ZXJMZWF2ZSIsImxlYXZlQ2FuY2VsbGVkIiwiZGVsYXlMZWF2ZSIsImV4cGxpY2l0TGVhdmVEdXJhdGlvbiIsInBlcmZvcm1MZWF2ZSIsImludm9rZXJGbnMiLCJfZW50ZXIiLCJwYXRjaCIsImJhY2tlbmQiLCJyZW1vdmVOb2RlIiwiY3JlYXRlRWxtIiwiaW5zZXJ0ZWRWbm9kZVF1ZXVlIiwicGFyZW50RWxtIiwicmVmRWxtIiwibmVzdGVkIiwib3duZXJBcnJheSIsImlzUmVhY3RpdmF0ZWQiLCJpbml0Q29tcG9uZW50IiwiaW5uZXJOb2RlIiwiYWN0aXZhdGUiLCJyZWFjdGl2YXRlQ29tcG9uZW50Iiwic2V0U2NvcGUiLCJjcmVhdGVDaGlsZHJlbiIsImludm9rZUNyZWF0ZUhvb2tzIiwicGVuZGluZ0luc2VydCIsImlzUGF0Y2hhYmxlIiwicmVmJCQxIiwiYW5jZXN0b3IiLCJhZGRWbm9kZXMiLCJzdGFydElkeCIsImludm9rZURlc3Ryb3lIb29rIiwicmVtb3ZlVm5vZGVzIiwiY2giLCJyZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rIiwiY2hpbGRFbG0iLCJjcmVhdGVSbUNiIiwiZmluZElkeEluT2xkIiwib2xkQ2giLCJwYXRjaFZub2RlIiwicmVtb3ZlT25seSIsImh5ZHJhdGUiLCJuZXdDaCIsIm9sZEtleVRvSWR4IiwiaWR4SW5PbGQiLCJ2bm9kZVRvTW92ZSIsIm9sZFN0YXJ0SWR4IiwibmV3U3RhcnRJZHgiLCJvbGRFbmRJZHgiLCJvbGRTdGFydFZub2RlIiwib2xkRW5kVm5vZGUiLCJuZXdFbmRJZHgiLCJuZXdTdGFydFZub2RlIiwibmV3RW5kVm5vZGUiLCJjYW5Nb3ZlIiwidXBkYXRlQ2hpbGRyZW4iLCJwb3N0cGF0Y2giLCJpbnZva2VJbnNlcnRIb29rIiwiaW5pdGlhbCIsImlzUmVuZGVyZWRNb2R1bGUiLCJpblZQcmUiLCJoYXNDaGlsZE5vZGVzIiwiY2hpbGRyZW5NYXRjaCIsImZ1bGxJbnZva2UiLCJpc0luaXRpYWxQYXRjaCIsImlzUmVhbEVsZW1lbnQiLCJoYXNBdHRyaWJ1dGUiLCJvbGRFbG0iLCJwYXRjaGFibGUiLCJpJDIiLCJjcmVhdGVQYXRjaEZ1bmN0aW9uIiwidm1vZGVsIiwidHJpZ2dlciIsImRpcmVjdGl2ZSIsImJpbmRpbmciLCJfdk9wdGlvbnMiLCJzZXRTZWxlY3RlZCIsImdldFZhbHVlIiwib25Db21wb3NpdGlvblN0YXJ0Iiwib25Db21wb3NpdGlvbkVuZCIsInByZXZPcHRpb25zIiwiY3VyT3B0aW9ucyIsInNvbWUiLCJoYXNOb01hdGNoaW5nT3B0aW9uIiwiYWN0dWFsbHlTZXRTZWxlY3RlZCIsImlzTXVsdGlwbGUiLCJzZWxlY3RlZCIsIm9wdGlvbiIsInNlbGVjdGVkSW5kZXgiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwibG9jYXRlTm9kZSIsInBsYXRmb3JtRGlyZWN0aXZlcyIsInRyYW5zaXRpb24kJDEiLCJvcmlnaW5hbERpc3BsYXkiLCJfX3ZPcmlnaW5hbERpc3BsYXkiLCJkaXNwbGF5IiwidW5iaW5kIiwidHJhbnNpdGlvblByb3BzIiwibW9kZSIsImdldFJlYWxDaGlsZCIsImNvbXBPcHRpb25zIiwiZXh0cmFjdFRyYW5zaXRpb25EYXRhIiwicGxhY2Vob2xkZXIiLCJoIiwicmF3Q2hpbGQiLCJpc05vdFRleHROb2RlIiwiaXNWU2hvd0RpcmVjdGl2ZSIsIlRyYW5zaXRpb24iLCJoYXNQYXJlbnRUcmFuc2l0aW9uIiwiX2xlYXZpbmciLCJvbGRSYXdDaGlsZCIsIm9sZENoaWxkIiwiaXNTYW1lQ2hpbGQiLCJkZWxheWVkTGVhdmUiLCJtb3ZlQ2xhc3MiLCJjYWxsUGVuZGluZ0NicyIsIl9tb3ZlQ2IiLCJyZWNvcmRQb3NpdGlvbiIsIm5ld1BvcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFwcGx5VHJhbnNsYXRpb24iLCJvbGRQb3MiLCJwb3MiLCJkeCIsImxlZnQiLCJkeSIsInRvcCIsIm1vdmVkIiwidHJhbnNmb3JtIiwiV2Via2l0VHJhbnNmb3JtIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwicGxhdGZvcm1Db21wb25lbnRzIiwiVHJhbnNpdGlvbkdyb3VwIiwiYmVmb3JlTW91bnQiLCJrZXB0IiwicHJldkNoaWxkcmVuIiwicmF3Q2hpbGRyZW4iLCJ0cmFuc2l0aW9uRGF0YSIsInJlbW92ZWQiLCJjJDEiLCJ1cGRhdGVkIiwiaGFzTW92ZSIsIl9yZWZsb3ciLCJib2R5Iiwib2Zmc2V0SGVpZ2h0IiwicHJvcGVydHlOYW1lIiwiX2hhc01vdmUiLCJjbG9uZU5vZGUiLCJIVE1MVW5rbm93bkVsZW1lbnQiLCJIVE1MRWxlbWVudCIsInVwZGF0ZUNvbXBvbmVudCIsIm1vdW50Q29tcG9uZW50IiwiZGVjb2RlciIsImRlZmF1bHRUYWdSRSIsInJlZ2V4RXNjYXBlUkUiLCJidWlsZFJlZ2V4IiwiZGVsaW1pdGVycyIsIm9wZW4iLCJjbG9zZSIsImtsYXNzJDEiLCJzdGF0aWNLZXlzIiwidHJhbnNmb3JtTm9kZSIsImNsYXNzQmluZGluZyIsImdlbkRhdGEiLCJzdHlsZSQxIiwic3R5bGVCaW5kaW5nIiwiaXNVbmFyeVRhZyIsImNhbkJlTGVmdE9wZW5UYWciLCJpc05vblBocmFzaW5nVGFnIiwiYXR0cmlidXRlIiwiZHluYW1pY0FyZ0F0dHJpYnV0ZSIsIm5jbmFtZSIsInFuYW1lQ2FwdHVyZSIsInN0YXJ0VGFnT3BlbiIsInN0YXJ0VGFnQ2xvc2UiLCJlbmRUYWciLCJkb2N0eXBlIiwiY29tbWVudCIsImNvbmRpdGlvbmFsQ29tbWVudCIsImlzUGxhaW5UZXh0RWxlbWVudCIsInJlQ2FjaGUiLCJkZWNvZGluZ01hcCIsImVuY29kZWRBdHRyIiwiZW5jb2RlZEF0dHJXaXRoTmV3TGluZXMiLCJpc0lnbm9yZU5ld2xpbmVUYWciLCJzaG91bGRJZ25vcmVGaXJzdE5ld2xpbmUiLCJodG1sIiwiZGVjb2RlQXR0ciIsInNob3VsZERlY29kZU5ld2xpbmVzIiwicmUiLCJ3YXJuJDIiLCJ0cmFuc2Zvcm1zIiwicHJlVHJhbnNmb3JtcyIsInBvc3RUcmFuc2Zvcm1zIiwicGxhdGZvcm1Jc1ByZVRhZyIsInBsYXRmb3JtTXVzdFVzZVByb3AiLCJwbGF0Zm9ybUdldFRhZ05hbWVzcGFjZSIsIm9uUkUiLCJkaXJSRSIsImZvckFsaWFzUkUiLCJmb3JJdGVyYXRvclJFIiwic3RyaXBQYXJlbnNSRSIsImR5bmFtaWNBcmdSRSIsImFyZ1JFIiwiYmluZFJFIiwibW9kaWZpZXJSRSIsInNsb3RSRSIsImxpbmVCcmVha1JFIiwid2hpdGVzcGFjZVJFJDEiLCJkZWNvZGVIVE1MQ2FjaGVkIiwiZW1wdHlTbG90U2NvcGVUb2tlbiIsImNyZWF0ZUFTVEVsZW1lbnQiLCJtYWtlQXR0cnNNYXAiLCJyYXdBdHRyc01hcCIsInByb2Nlc3NFbGVtZW50IiwiZWxlbWVudCIsInByb2Nlc3NLZXkiLCJmb3IiLCJjaGVja0luRm9yIiwicHJvY2Vzc1JlZiIsInNsb3RTY29wZSIsInNsb3RUYXJnZXQiLCJzbG90VGFyZ2V0RHluYW1pYyIsImdldFJhd0JpbmRpbmdBdHRyIiwic2xvdEJpbmRpbmciLCJnZXRTbG90TmFtZSIsInNsb3RCaW5kaW5nJDEiLCJyZWYkMSIsImR5bmFtaWMkMSIsInNsb3RDb250YWluZXIiLCJwcm9jZXNzU2xvdENvbnRlbnQiLCJzbG90TmFtZSIsInByb2Nlc3NDb21wb25lbnQiLCJzeW5jR2VuIiwiaXNEeW5hbWljIiwiaGFzQmluZGluZ3MiLCJwYXJzZU1vZGlmaWVycyIsImNhbWVsIiwiYXJnTWF0Y2giLCJwcm9jZXNzQXR0cnMiLCJwcm9jZXNzRm9yIiwiaW5NYXRjaCIsImFsaWFzIiwiaXRlcmF0b3JNYXRjaCIsIml0ZXJhdG9yMSIsIml0ZXJhdG9yMiIsInBhcnNlRm9yIiwiYWRkSWZDb25kaXRpb24iLCJjb25kaXRpb24iLCJpZkNvbmRpdGlvbnMiLCJpZU5TQnVnIiwiaWVOU1ByZWZpeCIsImNsb25lQVNURWxlbWVudCIsImlzU3RhdGljS2V5IiwiaXNQbGF0Zm9ybVJlc2VydmVkVGFnIiwibW9kdWxlcyQxIiwicHJlVHJhbnNmb3JtTm9kZSIsInR5cGVCaW5kaW5nIiwiaWZDb25kaXRpb24iLCJpZkNvbmRpdGlvbkV4dHJhIiwiaGFzRWxzZSIsImVsc2VJZkNvbmRpdGlvbiIsImJyYW5jaDAiLCJwcm9jZXNzZWQiLCJpZiIsImJsb2NrIiwiYnJhbmNoMSIsImJyYW5jaDIiLCJlbHNlIiwiZWxzZWlmIiwiYmFzZU9wdGlvbnMiLCJleHBlY3RIVE1MIiwiX3dhcm4iLCJjb2RlIiwiZ2VuU2VsZWN0IiwidmFsdWVCaW5kaW5nIiwidHJ1ZVZhbHVlQmluZGluZyIsImZhbHNlVmFsdWVCaW5kaW5nIiwiZ2VuQ2hlY2tib3hNb2RlbCIsImdlblJhZGlvTW9kZWwiLCJuZWVkQ29tcG9zaXRpb25HdWFyZCIsImdlbkRlZmF1bHRNb2RlbCIsImlzUHJlVGFnIiwiZ2VuU3RhdGljS2V5c0NhY2hlZCIsIm9wdGltaXplIiwibWFya1N0YXRpYyQxIiwibWFya1N0YXRpY1Jvb3RzIiwic3RhdGljIiwiaXNEaXJlY3RDaGlsZE9mVGVtcGxhdGVGb3IiLCJsJDEiLCJzdGF0aWNJbkZvciIsInN0YXRpY1Jvb3QiLCJmbkV4cFJFIiwiZm5JbnZva2VSRSIsInNpbXBsZVBhdGhSRSIsImVzYyIsInRhYiIsInNwYWNlIiwidXAiLCJkb3duIiwia2V5TmFtZXMiLCJnZW5HdWFyZCIsIm1vZGlmaWVyQ29kZSIsInN0b3AiLCJwcmV2ZW50IiwiY3RybCIsImFsdCIsIm1ldGEiLCJnZW5IYW5kbGVycyIsInByZWZpeCIsInN0YXRpY0hhbmRsZXJzIiwiZHluYW1pY0hhbmRsZXJzIiwiaGFuZGxlckNvZGUiLCJnZW5IYW5kbGVyIiwiaXNNZXRob2RQYXRoIiwiaXNGdW5jdGlvbkV4cHJlc3Npb24iLCJpc0Z1bmN0aW9uSW52b2NhdGlvbiIsImdlbk1vZGlmaWVyQ29kZSIsImtleU1vZGlmaWVyIiwiZ2VuRmlsdGVyQ29kZSIsImdlbktleUZpbHRlciIsImtleVZhbCIsImtleUNvZGUiLCJrZXlOYW1lIiwiYmFzZURpcmVjdGl2ZXMiLCJ3cmFwTGlzdGVuZXJzIiwid3JhcERhdGEiLCJjbG9hayIsIkNvZGVnZW5TdGF0ZSIsImRhdGFHZW5GbnMiLCJtYXliZUNvbXBvbmVudCIsIm9uY2VJZCIsImdlbmVyYXRlIiwiYXN0Iiwic3RhdGUiLCJnZW5FbGVtZW50Iiwic3RhdGljUHJvY2Vzc2VkIiwiZ2VuU3RhdGljIiwib25jZVByb2Nlc3NlZCIsImdlbk9uY2UiLCJmb3JQcm9jZXNzZWQiLCJnZW5Gb3IiLCJpZlByb2Nlc3NlZCIsImdlbklmIiwiZ2VuQ2hpbGRyZW4iLCJnZW5Qcm9wcyIsImJpbmQkJDEiLCJnZW5TbG90IiwiY29tcG9uZW50TmFtZSIsImdlbkRhdGEkMiIsImdlbkNvbXBvbmVudCIsIm9yaWdpbmFsUHJlU3RhdGUiLCJhbHRHZW4iLCJhbHRFbXB0eSIsImdlbklmQ29uZGl0aW9ucyIsImNvbmRpdGlvbnMiLCJnZW5UZXJuYXJ5RXhwIiwiYWx0SGVscGVyIiwibmVlZFJ1bnRpbWUiLCJoYXNSdW50aW1lIiwiZ2VuIiwiZ2VuRGlyZWN0aXZlcyIsImNvbnRhaW5zU2xvdENoaWxkIiwibmVlZHNLZXkiLCJnZW5lcmF0ZWRTbG90cyIsImdlblNjb3BlZFNsb3QiLCJpbmxpbmVSZW5kZXJGbnMiLCJnZW5JbmxpbmVUZW1wbGF0ZSIsImlzTGVnYWN5U3ludGF4IiwicmV2ZXJzZVByb3h5IiwiY2hlY2tTa2lwIiwiYWx0R2VuRWxlbWVudCIsImFsdEdlbk5vZGUiLCJlbCQxIiwibm9ybWFsaXphdGlvblR5cGUkMSIsIm5lZWRzTm9ybWFsaXphdGlvbiIsImdldE5vcm1hbGl6YXRpb25UeXBlIiwiZ2VuTm9kZSIsImdlbkNvbW1lbnQiLCJ0cmFuc2Zvcm1TcGVjaWFsTmV3bGluZXMiLCJzdGF0aWNQcm9wcyIsImR5bmFtaWNQcm9wcyIsImNyZWF0ZUZ1bmN0aW9uIiwiZXJyb3JzIiwiY3JlYXRlQ29tcGlsZVRvRnVuY3Rpb25GbiIsImNvbXBpbGUiLCJ0ZW1wbGF0ZSIsImNvbXBpbGVkIiwiZm5HZW5FcnJvcnMiLCJiYXNlQ29tcGlsZSIsImRpdiIsImN1cnJlbnRQYXJlbnQiLCJwcmVzZXJ2ZVdoaXRlc3BhY2UiLCJ3aGl0ZXNwYWNlT3B0aW9uIiwid2hpdGVzcGFjZSIsImluUHJlIiwiY2xvc2VFbGVtZW50IiwidHJpbUVuZGluZ1doaXRlc3BhY2UiLCJmb3JiaWRkZW4iLCJmaW5kUHJldkVsZW1lbnQiLCJsYXN0Tm9kZSIsImxhc3RUYWciLCJpc1VuYXJ5VGFnJCQxIiwiY2FuQmVMZWZ0T3BlblRhZyQkMSIsImVuZFRhZ0xlbmd0aCIsInN0YWNrZWRUYWciLCJyZVN0YWNrZWRUYWciLCJyZXN0JDEiLCJjaGFycyIsInBhcnNlRW5kVGFnIiwidGV4dEVuZCIsImNvbW1lbnRFbmQiLCJzaG91bGRLZWVwQ29tbWVudCIsInN1YnN0cmluZyIsImFkdmFuY2UiLCJjb25kaXRpb25hbEVuZCIsImRvY3R5cGVNYXRjaCIsImVuZFRhZ01hdGNoIiwiY3VySW5kZXgiLCJzdGFydFRhZ01hdGNoIiwicGFyc2VTdGFydFRhZyIsImhhbmRsZVN0YXJ0VGFnIiwicmVzdCIsInVuYXJ5U2xhc2giLCJ1bmFyeSIsInNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZiIsImxvd2VyQ2FzZWRUYWciLCJsb3dlckNhc2VkVGFnTmFtZSIsInBhcnNlSFRNTCIsImNvbW1lbnRzIiwib3V0cHV0U291cmNlUmFuZ2UiLCJzdGFydCQxIiwiZ3VhcmRJRVNWR0J1ZyIsInByb2Nlc3NQcmUiLCJwcm9jZXNzUmF3QXR0cnMiLCJwcm9jZXNzSWYiLCJwcm9jZXNzT25jZSIsImVuZCQxIiwidGFnUkUiLCJ0b2tlblZhbHVlIiwidG9rZW5zIiwicmF3VG9rZW5zIiwiZXhlYyIsInBhcnNlVGV4dCIsImZpbmFsT3B0aW9ucyIsInRpcHMiLCJ0aXAiLCJjb21waWxlVG9GdW5jdGlvbnMiLCJnZXRTaG91bGREZWNvZGUiLCJpZFRvVGVtcGxhdGUiLCJtb3VudCIsImRvY3VtZW50RWxlbWVudCIsIm91dGVySFRNTCIsImNvbnRhaW5lciIsImdldE91dGVySFRNTCIsIlEiLCJnZXRQcm90b3R5cGVPZiIsIkwiLCJaIiwidSIsImYiLCJYIiwiTWFwIiwicSIsInR0IiwieSIsIm50IiwiVSIsInciLCJTIiwiTyIsIlAiLCJNIiwieCIsIkgiLCJBIiwiSSIsImsiLCJSIiwiRCIsIk4iLCJ6IiwiRSIsIlQiLCJGIiwiQyIsInJ0IiwiZXQiLCJQcm94eSIsInJldm9jYWJsZSIsInJldm9rZSIsIkoiLCJLIiwiRyIsIlciLCJCIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlbGV0ZVByb3BlcnR5Iiwib3QiLCJ1c2VQcm94aWVzIiwic2V0VXNlUHJveGllcyIsImF1dG9GcmVlemUiLCJzZXRBdXRvRnJlZXplIiwicHJvZHVjZSIsInByb2R1Y2VXaXRoUGF0Y2hlcyIsImNyZWF0ZURyYWZ0IiwiZmluaXNoRHJhZnQiLCJhcHBseVBhdGNoZXMiLCIkIiwidXQiLCJyYW5kb21TdHJpbmciLCJBY3Rpb25UeXBlcyIsIklOSVQiLCJSRVBMQUNFIiwiUFJPQkVfVU5LTk9XTl9BQ1RJT04iLCJwcm90byIsImNyZWF0ZVN0b3JlIiwicmVkdWNlciIsInByZWxvYWRlZFN0YXRlIiwiZW5oYW5jZXIiLCJfcmVmMiIsImN1cnJlbnRSZWR1Y2VyIiwiY3VycmVudFN0YXRlIiwiY3VycmVudExpc3RlbmVycyIsIm5leHRMaXN0ZW5lcnMiLCJpc0Rpc3BhdGNoaW5nIiwiZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycyIsImdldFN0YXRlIiwic3Vic2NyaWJlIiwibGlzdGVuZXIiLCJpc1N1YnNjcmliZWQiLCJkaXNwYXRjaCIsImFjdGlvbiIsInJlcGxhY2VSZWR1Y2VyIiwibmV4dFJlZHVjZXIiLCJfcmVmIiwib3V0ZXJTdWJzY3JpYmUiLCJvYnNlcnZlU3RhdGUiLCJ1bnN1YnNjcmliZSIsImdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlIiwiYWN0aW9uVHlwZSIsIl9kZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGVPbmx5Iiwic3ltIiwiX29iamVjdFNwcmVhZDIiLCJjb21wb3NlIiwiX2xlbiIsImZ1bmNzIiwiX2tleSIsImFwcGx5TWlkZGxld2FyZSIsIm1pZGRsZXdhcmVzIiwic3RvcmUiLCJfZGlzcGF0Y2giLCJtaWRkbGV3YXJlQVBJIiwiY2hhaW4iLCJtaWRkbGV3YXJlIiwiZGVmYXVsdEVxdWFsaXR5Q2hlY2siLCJhcmVBcmd1bWVudHNTaGFsbG93bHlFcXVhbCIsImVxdWFsaXR5Q2hlY2siLCJjcmVhdGVUaHVua01pZGRsZXdhcmUiLCJleHRyYUFyZ3VtZW50IiwibWVtb2l6ZU9wdGlvbnMiLCJjcmVhdGVTZWxlY3RvckNyZWF0b3IiLCJmdW5jIiwibGFzdEFyZ3MiLCJsYXN0UmVzdWx0IiwidGh1bmsiLCJ3aXRoRXh0cmFBcmd1bWVudCIsIl9leHRlbmRzIiwiX2dldFByb3RvdHlwZU9mIiwiX3NldFByb3RvdHlwZU9mIiwiaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0IiwiY29uc3RydWN0Iiwic2hhbSIsIl9jb25zdHJ1Y3QiLCJQYXJlbnQiLCJDbGFzcyIsImluc3RhbmNlIiwiX3dyYXBOYXRpdmVTdXBlciIsIl9jYWNoZSIsIldyYXBwZXIiLCJjb21wb3NlV2l0aERldlRvb2xzIiwiX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fQ09NUE9TRV9fIiwiQWN0aW9uVHlwZSIsIk1pZGRsZXdhcmVBcnJheSIsIl9BcnJheSIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsIl9wcm90byIsIl9BcnJheSRwcm90b3R5cGUkY29uYyIsInByZXBlbmQiLCJfbGVuMiIsIl9rZXkyIiwiY3JlYXRlQWN0aW9uIiwicHJlcGFyZUFjdGlvbiIsImFjdGlvbkNyZWF0b3IiLCJwcmVwYXJlZCIsInBheWxvYWQiLCJhc3luY0l0ZXJhdG9yIiwibWluIiwiZXJyb3JBY3Rpb24iLCJFUlJPUiIsImxvYWRpbmdBY3Rpb24iLCJMT0FESU5HIiwic3VtbWFyeUxvYWRlZEFjdGlvbiIsIlNVTU1BUllfTE9BREVEIiwic3RvcmUkIiwicm9vdFJlZHVjZXIiLCJjdXJyaWVkR2V0RGVmYXVsdE1pZGRsZXdhcmUiLCJfb3B0aW9ucyIsIl9vcHRpb25zJHRodW5rIiwibWlkZGxld2FyZUFycmF5IiwiaW1tdXRhYmxlQ2hlY2siLCJzZXJpYWxpemFibGVDaGVjayIsImdldERlZmF1bHRNaWRkbGV3YXJlIiwiX3JlZiRyZWR1Y2VyIiwiX3JlZiRtaWRkbGV3YXJlIiwiX3JlZiRkZXZUb29scyIsImRldlRvb2xzIiwiX3JlZiRwcmVsb2FkZWRTdGF0ZSIsIl9yZWYkZW5oYW5jZXJzIiwiZW5oYW5jZXJzIiwicmVkdWNlcnMiLCJyZWR1Y2VyS2V5cyIsImZpbmFsUmVkdWNlcnMiLCJzaGFwZUFzc2VydGlvbkVycm9yIiwiZmluYWxSZWR1Y2VyS2V5cyIsImFzc2VydFJlZHVjZXJTaGFwZSIsImhhc0NoYW5nZWQiLCJuZXh0U3RhdGUiLCJwcmV2aW91c1N0YXRlRm9yS2V5IiwibmV4dFN0YXRlRm9yS2V5IiwiZXJyb3JNZXNzYWdlIiwiY29tYmluZVJlZHVjZXJzIiwibWlkZGxld2FyZUVuaGFuY2VyIiwiZmluYWxDb21wb3NlIiwidHJhY2UiLCJzdG9yZUVuaGFuY2VycyIsImNvbmZpZ3VyZVN0b3JlIiwiaW5pdGlhbFN0YXRlIiwibWFwT3JCdWlsZGVyQ2FsbGJhY2siLCJhY3Rpb25NYXRjaGVycyIsImRlZmF1bHRDYXNlUmVkdWNlciIsImJ1aWxkZXJDYWxsYmFjayIsImFjdGlvbnNNYXAiLCJidWlsZGVyIiwiYWRkQ2FzZSIsInR5cGVPckFjdGlvbkNyZWF0b3IiLCJhZGRNYXRjaGVyIiwibWF0Y2hlciIsImFkZERlZmF1bHRDYXNlIiwiZXhlY3V0ZVJlZHVjZXJCdWlsZGVyQ2FsbGJhY2siLCJmaW5hbEFjdGlvbk1hdGNoZXJzIiwiZmluYWxEZWZhdWx0Q2FzZVJlZHVjZXIiLCJjYXNlUmVkdWNlcnMiLCJfcmVmMyIsImNyIiwicHJldmlvdXNTdGF0ZSIsImNhc2VSZWR1Y2VyIiwiZHJhZnQiLCJfcmVzdWx0IiwiY3JlYXRlUmVkdWNlciIsInN1bW1hcnkiLCJ0b3RhbF90YXNrIiwidGFza19kb25lIiwidGFza19jYW5jZWxsZWQiLCJ0b3RhbF93b3JrZXIiLCJlbmRwb2ludCIsImpzb24iLCJoZWFkZXJzIiwiY3VzdG9tQ29uZiIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJzdGF0dXNUZXh0IiwicG9zdCIsInB1dCIsIlNlc3Npb25TdGF0dXMiLCJTdGF0ZXMiLCJTeW5jUHJvbWlzZSIsImV4ZWN1dG9yIiwiX3N0YXRlIiwiUEVORElORyIsIl9oYW5kbGVycyIsIl9zZXRSZXN1bHQiLCJSRVNPTFZFRCIsIl9yZWplY3QiLCJSRUpFQ1RFRCIsIl9leGVjdXRlSGFuZGxlcnMiLCJfYXR0YWNoSGFuZGxlciIsImNhY2hlZEhhbmRsZXJzIiwib25mdWxmaWxsZWQiLCJvbnJlamVjdGVkIiwicmVzb2x2ZWRDb2xsZWN0aW9uIiwiZmluYWxseSIsIm9uZmluYWxseSIsImlzUmVqZWN0ZWQiLCJTY29wZSIsIl9ub3RpZnlpbmdMaXN0ZW5lcnMiLCJfc2NvcGVMaXN0ZW5lcnMiLCJfZXZlbnRQcm9jZXNzb3JzIiwiX2JyZWFkY3J1bWJzIiwiX3VzZXIiLCJfdGFncyIsIl9leHRyYSIsIl9jb250ZXh0cyIsIm5ld1Njb3BlIiwiX2xldmVsIiwiX3NwYW4iLCJfc2Vzc2lvbiIsIl90cmFuc2FjdGlvbk5hbWUiLCJfZmluZ2VycHJpbnQiLCJhZGRTY29wZUxpc3RlbmVyIiwiYWRkRXZlbnRQcm9jZXNzb3IiLCJzZXRVc2VyIiwiX25vdGlmeVNjb3BlTGlzdGVuZXJzIiwiZ2V0VXNlciIsInNldFRhZ3MiLCJ0YWdzIiwic2V0VGFnIiwic2V0RXh0cmFzIiwiZXh0cmFzIiwic2V0RXh0cmEiLCJleHRyYSIsInNldEZpbmdlcnByaW50IiwiZmluZ2VycHJpbnQiLCJzZXRMZXZlbCIsInNldFRyYW5zYWN0aW9uTmFtZSIsInNldFRyYW5zYWN0aW9uIiwic2V0Q29udGV4dCIsInNldFNwYW4iLCJnZXRUcmFuc2FjdGlvbiIsInRyYW5zYWN0aW9uIiwic3BhblJlY29yZGVyIiwic3BhbnMiLCJzZXRTZXNzaW9uIiwic2Vzc2lvbiIsImdldFNlc3Npb24iLCJjYXB0dXJlQ29udGV4dCIsInVwZGF0ZWRTY29wZSIsImNvbnRleHRzIiwiYWRkQnJlYWRjcnVtYiIsImJyZWFkY3J1bWIiLCJtYXhCcmVhZGNydW1icyIsIm1lcmdlZEJyZWFkY3J1bWIiLCJ0aW1lc3RhbXAiLCJjbGVhckJyZWFkY3J1bWJzIiwiYXBwbHlUb0V2ZW50IiwiaGludCIsImdldFRyYWNlQ29udGV4dCIsInRyYW5zYWN0aW9uTmFtZSIsIl9hcHBseUZpbmdlcnByaW50IiwiYnJlYWRjcnVtYnMiLCJfbm90aWZ5RXZlbnRQcm9jZXNzb3JzIiwiZ2V0R2xvYmFsRXZlbnRQcm9jZXNzb3JzIiwicHJvY2Vzc29ycyIsInByb2Nlc3NvciIsImZpbmFsIiwiZ2xvYmFsRXZlbnRQcm9jZXNzb3JzIiwiYWRkR2xvYmFsRXZlbnRQcm9jZXNzb3IiLCJTZXNzaW9uIiwic2lkIiwic3RhcnRlZCIsInN0YXR1cyIsIk9rIiwiaXBfYWRkcmVzcyIsImlwQWRkcmVzcyIsImRpZCIsImVtYWlsIiwidXNlcm5hbWUiLCJyZWxlYXNlIiwiZW52aXJvbm1lbnQiLCJFeGl0ZWQiLCJ0b0lTT1N0cmluZyIsInVzZXJfYWdlbnQiLCJIdWIiLCJfdmVyc2lvbiIsIl9zdGFjayIsImdldFN0YWNrVG9wIiwiYmluZENsaWVudCIsImlzT2xkZXJUaGFuIiwic2V0dXBJbnRlZ3JhdGlvbnMiLCJwdXNoU2NvcGUiLCJnZXRTdGFjayIsImdldENsaWVudCIsInBvcFNjb3BlIiwid2l0aFNjb3BlIiwiY2FwdHVyZUV4Y2VwdGlvbiIsImV2ZW50SWQiLCJfbGFzdEV2ZW50SWQiLCJmaW5hbEhpbnQiLCJzeW50aGV0aWNFeGNlcHRpb24iLCJvcmlnaW5hbEV4Y2VwdGlvbiIsIl9pbnZva2VDbGllbnQiLCJjYXB0dXJlTWVzc2FnZSIsImNhcHR1cmVFdmVudCIsImxhc3RFdmVudElkIiwiZ2V0T3B0aW9ucyIsImJlZm9yZUJyZWFkY3J1bWIiLCJmaW5hbEJyZWFkY3J1bWIiLCJjb25maWd1cmVTY29wZSIsIm9sZEh1YiIsIm1ha2VNYWluIiwiZ2V0SW50ZWdyYXRpb24iLCJpbnRlZ3JhdGlvbiIsInN0YXJ0U3BhbiIsIl9jYWxsRXh0ZW5zaW9uTWV0aG9kIiwic3RhcnRUcmFuc2FjdGlvbiIsImN1c3RvbVNhbXBsaW5nQ29udGV4dCIsInRyYWNlSGVhZGVycyIsImNhcHR1cmVTZXNzaW9uIiwiZW5kU2Vzc2lvbiIsIl9zZW5kU2Vzc2lvblVwZGF0ZSIsInN0YXJ0U2Vzc2lvbiIsImN1cnJlbnRTZXNzaW9uIiwiY2FycmllciIsImdldE1haW5DYXJyaWVyIiwic2VudHJ5IiwiZXh0ZW5zaW9ucyIsImh1YiIsInJlZ2lzdHJ5IiwiZ2V0SHViRnJvbUNhcnJpZXIiLCJzZXRIdWJPbkNhcnJpZXIiLCJoYXNIdWJPbkNhcnJpZXIiLCJhY3RpdmVEb21haW4iLCJkb21haW4iLCJyZWdpc3RyeUh1YlRvcFN0YWNrIiwiZ2V0SHViRnJvbUFjdGl2ZURvbWFpbiIsImNhbGxPbkh1YiIsIm9yaWdpbmFsRnVuY3Rpb25Ub1N0cmluZyIsIlNES19WRVJTSU9OIiwiREVGQVVMVF9JR05PUkVfRVJST1JTIiwiSW5ib3VuZEZpbHRlcnMiLCJjbGllbnRPcHRpb25zIiwiX21lcmdlT3B0aW9ucyIsIl9zaG91bGREcm9wRXZlbnQiLCJfaXNTZW50cnlFcnJvciIsIl9pc0lnbm9yZWRFcnJvciIsIl9pc0RlbmllZFVybCIsIl9nZXRFdmVudEZpbHRlclVybCIsIl9pc0FsbG93ZWRVcmwiLCJpZ25vcmVJbnRlcm5hbCIsImlnbm9yZUVycm9ycyIsIl9nZXRQb3NzaWJsZUV2ZW50TWVzc2FnZXMiLCJkZW55VXJscyIsImFsbG93VXJscyIsIndoaXRlbGlzdFVybHMiLCJibGFja2xpc3RVcmxzIiwic3RhY2t0cmFjZSIsImZyYW1lc18xIiwiZnJhbWVzIiwiZmlsZW5hbWUiLCJmcmFtZXNfMiIsIkZ1bmN0aW9uVG9TdHJpbmciLCJzdXBwb3J0c0ZldGNoIiwiSGVhZGVycyIsIlJlcXVlc3QiLCJSZXNwb25zZSIsImlzTmF0aXZlRmV0Y2giLCJzdXBwb3J0c1JlZmVycmVyUG9saWN5IiwicmVmZXJyZXJQb2xpY3kiLCJsYXN0SHJlZiIsImRlYm91bmNlVGltZXJJRCIsImxhc3RDYXB0dXJlZEV2ZW50IiwiaW5zdHJ1bWVudGVkIiwiYWRkSW5zdHJ1bWVudGF0aW9uSGFuZGxlciIsIm9yaWdpbmFsQ29uc29sZUxldmVsIiwidHJpZ2dlckhhbmRsZXJzIiwidHJpZ2dlckRPTUhhbmRsZXIiLCJnbG9iYWxET01FdmVudEhhbmRsZXIiLCJtYWtlRE9NRXZlbnRIYW5kbGVyIiwib3JpZ2luYWxBZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlcnNfMSIsIl9fc2VudHJ5X2luc3RydW1lbnRhdGlvbl9oYW5kbGVyc19fIiwiaGFuZGxlckZvclR5cGUiLCJyZWZDb3VudCIsIm9yaWdpbmFsUmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZXJzXzIiLCJpbnN0cnVtZW50RE9NIiwicmVxdWVzdEtleXMiLCJyZXF1ZXN0VmFsdWVzIiwieGhycHJvdG8iLCJYTUxIdHRwUmVxdWVzdCIsIm9yaWdpbmFsT3BlbiIsInhociIsIl9fc2VudHJ5X3hocl9fIiwiX19zZW50cnlfb3duX3JlcXVlc3RfXyIsIm9ucmVhZHlzdGF0ZWNoYW5nZUhhbmRsZXIiLCJyZWFkeVN0YXRlIiwic3RhdHVzX2NvZGUiLCJyZXF1ZXN0UG9zIiwiYXJnc18xIiwiZW5kVGltZXN0YW1wIiwic3RhcnRUaW1lc3RhbXAiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlQXJncyIsIm9yaWdpbmFsU2VuZCIsImluc3RydW1lbnRYSFIiLCJkb2MiLCJzYW5kYm94IiwiaGlkZGVuIiwiY29udGVudFdpbmRvdyIsInN1cHBvcnRzTmF0aXZlRmV0Y2giLCJvcmlnaW5hbEZldGNoIiwiaGFuZGxlckRhdGEiLCJmZXRjaERhdGEiLCJnZXRGZXRjaE1ldGhvZCIsImdldEZldGNoVXJsIiwiY2hyb21lIiwiaXNDaHJvbWVQYWNrYWdlZEFwcCIsImFwcCIsInJ1bnRpbWUiLCJoYXNIaXN0b3J5QXBpIiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsInJlcGxhY2VTdGF0ZSIsInN1cHBvcnRzSGlzdG9yeSIsIm9sZE9uUG9wU3RhdGUiLCJvbnBvcHN0YXRlIiwiaGlzdG9yeVJlcGxhY2VtZW50RnVuY3Rpb24iLCJvcmlnaW5hbEhpc3RvcnlGdW5jdGlvbiIsImluc3RydW1lbnRIaXN0b3J5IiwiX29sZE9uRXJyb3JIYW5kbGVyIiwib25lcnJvciIsImxpbmUiLCJjb2x1bW4iLCJfb2xkT25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyIiwib251bmhhbmRsZWRyZWplY3Rpb24iLCJpbnN0cnVtZW50IiwiZmV0Y2hBcmdzIiwiZ2xvYmFsTGlzdGVuZXIiLCJpc0NvbnRlbnRFZGl0YWJsZSIsInNob3VsZFNraXBET01FdmVudCIsInByZXZpb3VzIiwic2hvdWxkU2hvcnRjaXJjdWl0UHJldmlvdXNEZWJvdW5jZSIsIlNlbnRyeUVycm9yIiwiX3N1cGVyIiwiX25ld1RhcmdldCIsIkRTTl9SRUdFWCIsIkRzbiIsIl9mcm9tU3RyaW5nIiwiX2Zyb21Db21wb25lbnRzIiwiX3ZhbGlkYXRlIiwid2l0aFBhc3N3b3JkIiwicGFzcyIsInBvcnQiLCJwcm9qZWN0SWQiLCJwdWJsaWNLZXkiLCJwcm9qZWN0TWF0Y2giLCJFUlJPUl9NRVNTQUdFIiwiaW5zdGFsbGVkSW50ZWdyYXRpb25zIiwiU3RhdHVzIiwiQmFzZUNsaWVudCIsImJhY2tlbmRDbGFzcyIsIl9pbnRlZ3JhdGlvbnMiLCJfcHJvY2Vzc2luZyIsIl9iYWNrZW5kIiwiZHNuIiwiX2RzbiIsIl9wcm9jZXNzIiwiX2dldEJhY2tlbmQiLCJldmVudEZyb21FeGNlcHRpb24iLCJfY2FwdHVyZUV2ZW50IiwicHJvbWlzZWRFdmVudCIsImV2ZW50RnJvbU1lc3NhZ2UiLCJfc2VuZFNlc3Npb24iLCJnZXREc24iLCJmbHVzaCIsIl9pc0NsaWVudFByb2Nlc3NpbmciLCJyZWFkeSIsImdldFRyYW5zcG9ydCIsInRyYW5zcG9ydEZsdXNoZWQiLCJlbmFibGVkIiwiX2lzRW5hYmxlZCIsImludGVncmF0aW9ucyIsImRlZmF1bHRJbnRlZ3JhdGlvbnMiLCJ1c2VySW50ZWdyYXRpb25zIiwidXNlckludGVncmF0aW9uc05hbWVzXzEiLCJwaWNrZWRJbnRlZ3JhdGlvbnNOYW1lc18xIiwiZGVmYXVsdEludGVncmF0aW9uIiwidXNlckludGVncmF0aW9uIiwiaW50ZWdyYXRpb25zTmFtZXMiLCJhbHdheXNMYXN0VG9SdW4iLCJnZXRJbnRlZ3JhdGlvbnNUb1NldHVwIiwic2V0dXBJbnRlZ3JhdGlvbiIsIl91cGRhdGVTZXNzaW9uRnJvbUV2ZW50IiwiY3Jhc2hlZCIsImVycm9yZWQiLCJleGNlcHRpb25zIiwiZXhjZXB0aW9uc18xIiwiZXhjZXB0aW9uc18xXzEiLCJoYW5kbGVkIiwiQ3Jhc2hlZCIsInNlbmRTZXNzaW9uIiwidGlja2VkIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJfcHJlcGFyZUV2ZW50Iiwibm9ybWFsaXplRGVwdGgiLCJfYXBwbHlDbGllbnRPcHRpb25zIiwiX2FwcGx5SW50ZWdyYXRpb25zTWV0YWRhdGEiLCJmaW5hbFNjb3BlIiwiZXZ0IiwiX25vcm1hbGl6ZUV2ZW50IiwiZGlzdCIsIm1heFZhbHVlTGVuZ3RoIiwic2RrSW5mbyIsInNkayIsImludGVncmF0aW9uc0FycmF5IiwiX3NlbmRFdmVudCIsInNlbmRFdmVudCIsIl9wcm9jZXNzRXZlbnQiLCJmaW5hbEV2ZW50IiwiYmVmb3JlU2VuZCIsInNhbXBsZVJhdGUiLCJpc1RyYW5zYWN0aW9uIiwiX19zZW50cnlfXyIsImJlZm9yZVNlbmRSZXN1bHQiLCJwcm9jZXNzZWRFdmVudCIsInByb21pc2UiLCJmcm9tSHR0cENvZGUiLCJTdWNjZXNzIiwiUmF0ZUxpbWl0IiwiSW52YWxpZCIsIkZhaWxlZCIsIlVua25vd24iLCJTZXZlcml0eSIsIk5vb3BUcmFuc3BvcnQiLCJTa2lwcGVkIiwiQmFzZUJhY2tlbmQiLCJfdHJhbnNwb3J0IiwiX3NldHVwVHJhbnNwb3J0IiwiX2V4Y2VwdGlvbiIsIl9oaW50IiwiX21lc3NhZ2UiLCJmcm9tU3RyaW5nIiwiRGVidWciLCJJbmZvIiwiV2FybmluZyIsIkZhdGFsIiwiQ3JpdGljYWwiLCJMb2ciLCJVTktOT1dOX0ZVTkNUSU9OIiwiZ2Vja28iLCJ3aW5qcyIsImdlY2tvRXZhbCIsImNocm9tZUV2YWwiLCJyZWFjdE1pbmlmaWVkUmVnZXhwIiwiY29tcHV0ZVN0YWNrVHJhY2UiLCJleCIsInBvcFNpemUiLCJmcmFtZXNUb1BvcCIsInBhcnRzIiwib3BlcmExMFJlZ2V4Iiwib3BlcmExMVJlZ2V4IiwibGluZXMiLCJleHRyYWN0TWVzc2FnZSIsImNvbXB1dGVTdGFja1RyYWNlRnJvbVN0YWNrdHJhY2VQcm9wIiwicG9wRnJhbWVzIiwic3VibWF0Y2giLCJjb2x1bW5OdW1iZXIiLCJjb21wdXRlU3RhY2tUcmFjZUZyb21TdGFja1Byb3AiLCJmYWlsZWQiLCJleGNlcHRpb25Gcm9tU3RhY2t0cmFjZSIsInByZXBhcmVGcmFtZXNGb3JFdmVudCIsImV2ZW50RnJvbVN0YWNrdHJhY2UiLCJsb2NhbFN0YWNrIiwiZmlyc3RGcmFtZUZ1bmN0aW9uIiwibGFzdEZyYW1lRnVuY3Rpb24iLCJmcmFtZSIsImNvbG5vIiwiZnVuY3Rpb24iLCJpbl9hcHAiLCJsaW5lbm8iLCJldmVudEZyb21Vbmtub3duSW5wdXQiLCJkb21FeGNlcHRpb24iLCJuYW1lXzEiLCJldmVudEZyb21TdHJpbmciLCJyZWplY3Rpb24iLCJfX3NlcmlhbGl6ZWRfXyIsImV2ZW50RnJvbVBsYWluT2JqZWN0Iiwic3ludGhldGljIiwiYXR0YWNoU3RhY2t0cmFjZSIsImdldFNka01ldGFkYXRhRm9yRW52ZWxvcGVIZWFkZXIiLCJhcGkiLCJtZXRhZGF0YSIsImVuaGFuY2VFdmVudFdpdGhTZGtJbmZvIiwicGFja2FnZXMiLCJzZXNzaW9uVG9TZW50cnlSZXF1ZXN0Iiwic2VudF9hdCIsImdldEVudmVsb3BlRW5kcG9pbnRXaXRoVXJsRW5jb2RlZEF1dGgiLCJldmVudFRvU2VudHJ5UmVxdWVzdCIsImV2ZW50VHlwZSIsInVzZUVudmVsb3BlIiwiZGVidWdfbWV0YSIsInRyYW5zYWN0aW9uU2FtcGxpbmciLCJzYW1wbGluZ01ldGhvZCIsInJhdGUiLCJyZXEiLCJnZXRTdG9yZUVuZHBvaW50V2l0aFVybEVuY29kZWRBdXRoIiwiZW52ZWxvcGUiLCJzYW1wbGVfcmF0ZXMiLCJBUEkiLCJfZHNuT2JqZWN0IiwiZ2V0QmFzZUFwaUVuZHBvaW50IiwiZ2V0U3RvcmVFbmRwb2ludCIsIl9nZXRJbmdlc3RFbmRwb2ludCIsIl9lbmNvZGVkQXV0aCIsIl9nZXRFbnZlbG9wZUVuZHBvaW50IiwiZ2V0U3RvcmVFbmRwb2ludFBhdGgiLCJnZXRSZXF1ZXN0SGVhZGVycyIsImNsaWVudE5hbWUiLCJjbGllbnRWZXJzaW9uIiwiZ2V0UmVwb3J0RGlhbG9nRW5kcG9pbnQiLCJkaWFsb2dPcHRpb25zIiwiZW5jb2RlZE9wdGlvbnMiLCJhdXRoIiwic2VudHJ5X2tleSIsInNlbnRyeV92ZXJzaW9uIiwiUHJvbWlzZUJ1ZmZlciIsIl9saW1pdCIsIl9idWZmZXIiLCJpc1JlYWR5IiwidGFzayIsImRyYWluIiwiY2FwdHVyZWRTZXRUaW1lb3V0IiwiQmFzZVRyYW5zcG9ydCIsIl9yYXRlTGltaXRzIiwiX2FwaSIsIl9tZXRhZGF0YSIsIl9oYW5kbGVSZXNwb25zZSIsInJlcXVlc3RUeXBlIiwiX2hhbmRsZVJhdGVMaW1pdCIsIl9kaXNhYmxlZFVudGlsIiwiY2F0ZWdvcnkiLCJfaXNSYXRlTGltaXRlZCIsImVfMiIsInJsSGVhZGVyIiwicmFIZWFkZXIiLCJwYXJhbWV0ZXJzIiwiZV8yXzEiLCJGZXRjaFRyYW5zcG9ydCIsIl9zZW5kUmVxdWVzdCIsInNlbnRyeVJlcXVlc3QiLCJvcmlnaW5hbFBheWxvYWQiLCJmZXRjaFBhcmFtZXRlcnMiLCJYSFJUcmFuc3BvcnQiLCJnZXRSZXNwb25zZUhlYWRlciIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiQnJvd3NlckJhY2tlbmQiLCJ0cmFuc3BvcnRPcHRpb25zIiwidHJhbnNwb3J0IiwiaWdub3JlT25FcnJvciIsInNob3VsZElnbm9yZU9uRXJyb3IiLCJpZ25vcmVOZXh0T25FcnJvciIsIndyYXAiLCJfX3NlbnRyeV93cmFwcGVkX18iLCJzZW50cnlXcmFwcGVkIiwid3JhcHBlZEFyZ3VtZW50cyIsImhhbmRsZUV2ZW50IiwiQnJlYWRjcnVtYnMiLCJkb20iLCJhZGRTZW50cnlCcmVhZGNydW1iIiwiX2NvbnNvbGVCcmVhZGNydW1iIiwiX2RvbUJyZWFkY3J1bWIiLCJfeGhyQnJlYWRjcnVtYiIsIl9mZXRjaEJyZWFkY3J1bWIiLCJfaGlzdG9yeUJyZWFkY3J1bWIiLCJwYXJzZWRMb2MiLCJwYXJzZWRGcm9tIiwicGFyc2VkVG8iLCJCcm93c2VyQ2xpZW50Iiwic2hvd1JlcG9ydERpYWxvZyIsInNjcmlwdCIsIm9uTG9hZCIsIm9ubG9hZCIsImluamVjdFJlcG9ydERpYWxvZyIsIkRFRkFVTFRfRVZFTlRfVEFSR0VUIiwiVHJ5Q2F0Y2giLCJldmVudFRhcmdldCIsIl93cmFwVGltZUZ1bmN0aW9uIiwiX3dyYXBSQUYiLCJfd3JhcFhIUiIsIl93cmFwRXZlbnRUYXJnZXQiLCJvcmlnaW5hbENhbGxiYWNrIiwiZXZlbnROYW1lIiwid3JhcHBlZEV2ZW50SGFuZGxlciIsIm9yaWdpbmFsRXZlbnRIYW5kbGVyIiwieG1sSHR0cFJlcXVlc3RQcm9wcyIsIndyYXBPcHRpb25zIiwiR2xvYmFsSGFuZGxlcnMiLCJfb25FcnJvckhhbmRsZXJJbnN0YWxsZWQiLCJfb25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVySW5zdGFsbGVkIiwic3RhY2tUcmFjZUxpbWl0IiwiX2luc3RhbGxHbG9iYWxPbkVycm9ySGFuZGxlciIsIl9pbnN0YWxsR2xvYmFsT25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyIiwiY3VycmVudEh1YiIsImhhc0ludGVncmF0aW9uIiwiaXNGYWlsZWRPd25EZWxpdmVyeSIsIl9ldmVudEZyb21JbmNvbXBsZXRlT25FcnJvciIsIl9lbmhhbmNlRXZlbnRXaXRoSW5pdGlhbEZyYW1lIiwiX2V2ZW50RnJvbVJlamVjdGlvbldpdGhQcmltaXRpdmUiLCJncm91cHMiLCJMaW5rZWRFcnJvcnMiLCJsaW1pdCIsIl9oYW5kbGVyIiwibGlua2VkRXJyb3JzIiwiX3dhbGtFcnJvclRyZWUiLCJVc2VyQWdlbnQiLCJyZWZlcnJlciIsIlJlZmVyZXIiLCJzcGxpdFBhdGhSZSIsIlRyYW5zYWN0aW9uU2FtcGxpbmdNZXRob2QiLCJTcGFuU3RhdHVzIiwiSE9PS1MiLCJDT01QT05FTlRfTkFNRV9SRUdFWFAiLCJST09UX0NPTVBPTkVOVF9OQU1FIiwiQU5PTllNT1VTX0NPTVBPTkVOVF9OQU1FIiwiVnVlSGVscGVyIiwiX2NvbXBvbmVudHNDYWNoZSIsIl9hcHBseVRyYWNpbmdIb29rcyIsIiRfc2VudHJ5UGVyZkhvb2siLCJfZ2V0Q29tcG9uZW50TmFtZSIsInJvb3RNb3VudCIsInJvb3RIYW5kbGVyIiwidGltZSIsIl9yb290U3BhbiIsIl9maW5pc2hSb290U3BhbiIsImFjdGl2ZVRyYW5zYWN0aW9uIiwiZ2V0QWN0aXZlVHJhbnNhY3Rpb24iLCJjaGlsZEhhbmRsZXIiLCJzaG91bGRUcmFjayIsInRyYWNpbmdPcHRpb25zIiwidHJhY2tDb21wb25lbnRzIiwiY2hpbGRPZiIsImludGVybmFsSG9va3MiLCJpbnRlcm5hbEhvb2siLCJjdXJyZW50VmFsdWUiLCJzZXR1cCIsIl9hdHRhY2hFcnJvckhhbmRsZXIiLCJfc3RhcnRUcmFjaW5nIiwiX19maWxlIiwiZXh0Iiwic3BsaXRQYXRoIiwiYmFzZW5hbWUiLCJfcm9vdFNwYW5UaW1lciIsImFwcGx5VHJhY2luZ0hvb2tzIiwiYXBwbGllZFRyYWNpbmdIb29rcyIsImJlZm9yZUNyZWF0ZSIsImN1cnJlbnRFcnJvckhhbmRsZXIiLCJhdHRhY2hQcm9wcyIsImxpZmVjeWNsZUhvb2siLCJsb2dFcnJvcnMiLCJodHRwU3RhdHVzIiwiVW5hdXRoZW50aWNhdGVkIiwiUGVybWlzc2lvbkRlbmllZCIsIk5vdEZvdW5kIiwiQWxyZWFkeUV4aXN0cyIsIkZhaWxlZFByZWNvbmRpdGlvbiIsIlJlc291cmNlRXhoYXVzdGVkIiwiSW52YWxpZEFyZ3VtZW50IiwiVW5pbXBsZW1lbnRlZCIsIlVuYXZhaWxhYmxlIiwiRGVhZGxpbmVFeGNlZWRlZCIsIkludGVybmFsRXJyb3IiLCJVbmtub3duRXJyb3IiLCJUUkFDRVBBUkVOVF9SRUdFWFAiLCJoYXNUcmFjaW5nRW5hYmxlZCIsIm1zVG9TZWMiLCJlcnJvckNhbGxiYWNrIiwic2V0U3RhdHVzIiwiU3BhblJlY29yZGVyIiwibWF4bGVuIiwiX21heGxlbiIsIlRyYW5zYWN0aW9uIiwidHJhbnNhY3Rpb25Db250ZXh0IiwiX21lYXN1cmVtZW50cyIsIl9odWIiLCJfdHJpbUVuZCIsInRyaW1FbmQiLCJzZXROYW1lIiwiaW5pdFNwYW5SZWNvcmRlciIsInNldE1lYXN1cmVtZW50cyIsIm1lYXN1cmVtZW50cyIsInNldE1ldGFkYXRhIiwibmV3TWV0YWRhdGEiLCJzYW1wbGVkIiwiZmluaXNoZWRTcGFucyIsInN0YXJ0X3RpbWVzdGFtcCIsInRvQ29udGV4dCIsInVwZGF0ZVdpdGhDb250ZXh0IiwiU3BhbiIsInRyYWNlSWQiLCJzcGFuSWQiLCJwYXJlbnRTcGFuSWQiLCJjaGlsZFNwYW4iLCJzZXREYXRhIiwic2V0SHR0cFN0YXR1cyIsInNwYW5TdGF0dXMiLCJpc1N1Y2Nlc3MiLCJ0b1RyYWNlcGFyZW50Iiwic2FtcGxlZFN0cmluZyIsInBhcmVudF9zcGFuX2lkIiwic3Bhbl9pZCIsInRyYWNlX2lkIiwiSWRsZVRyYW5zYWN0aW9uU3BhblJlY29yZGVyIiwiX3B1c2hBY3Rpdml0eSIsIl9wb3BBY3Rpdml0eSIsInRyYW5zYWN0aW9uU3BhbklkIiwiSWRsZVRyYW5zYWN0aW9uIiwiX2lkbGVIdWIiLCJfaWRsZVRpbWVvdXQiLCJfb25TY29wZSIsImFjdGl2aXRpZXMiLCJfaGVhcnRiZWF0VGltZXIiLCJfaGVhcnRiZWF0Q291bnRlciIsIl9maW5pc2hlZCIsIl9iZWZvcmVGaW5pc2hDYWxsYmFja3MiLCJjbGVhckFjdGl2ZVRyYW5zYWN0aW9uIiwiX2luaXRUaW1lb3V0IiwiQ2FuY2VsbGVkIiwia2VlcFNwYW4iLCJyZWdpc3RlckJlZm9yZUZpbmlzaENhbGxiYWNrIiwiX3BpbmdIZWFydGJlYXQiLCJlbmRfMSIsIl9iZWF0IiwiaGVhcnRiZWF0U3RyaW5nIiwiX3ByZXZIZWFydGJlYXRTdHJpbmciLCJzYW1wbGUiLCJzYW1wbGluZ0NvbnRleHQiLCJFeHBsaWNpdCIsInRyYWNlc1NhbXBsZXIiLCJTYW1wbGVyIiwicGFyZW50U2FtcGxlZCIsIkluaGVyaXRhbmNlIiwidHJhY2VzU2FtcGxlUmF0ZSIsIlJhdGUiLCJfZXhwZXJpbWVudHMiLCJtYXhTcGFucyIsImZpcnN0SGlkZGVuVGltZSIsImlucHV0UHJvbWlzZSIsImJpbmRSZXBvcnRlciIsIm1ldHJpYyIsInBvIiwib2JzZXJ2ZUFsbFVwZGF0ZXMiLCJwcmV2VmFsdWUiLCJpc0ZpbmFsIiwiZGlzY29ubmVjdCIsInZpc2liaWxpdHlTdGF0ZSIsImRlbHRhIiwiaW5pdE1ldHJpYyIsImVudHJpZXMiLCJQZXJmb3JtYW5jZU9ic2VydmVyIiwic3VwcG9ydGVkRW50cnlUeXBlcyIsImdldEVudHJpZXMiLCJidWZmZXJlZCIsImlzVW5sb2FkaW5nIiwibGlzdGVuZXJzQWRkZWQiLCJvblBhZ2VIaWRlIiwicGVyc2lzdGVkIiwib25IaWRkZW4iLCJnZXRGaXJzdEhpZGRlbiIsIkluZmluaXR5IiwiTWV0cmljc0luc3RydW1lbnRhdGlvbiIsIl9wZXJmb3JtYW5jZUN1cnNvciIsIm1hcmsiLCJfdHJhY2tDTFMiLCJfdHJhY2tMQ1AiLCJfdHJhY2tGSUQiLCJfdHJhY2tUVEZCIiwiYWRkUGVyZm9ybWFuY2VFbnRyaWVzIiwiZW50cnlTY3JpcHRTcmMiLCJlbnRyeVNjcmlwdFN0YXJ0VGltZXN0YW1wIiwidHJhY2luZ0luaXRNYXJrU3RhcnRUaW1lIiwic2NyaXB0cyIsImRhdGFzZXQiLCJlbnRyeSIsInN0YXJ0VGltZSIsImVudHJ5VHlwZSIsImFkZFBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZyIsIl9zdGFydENoaWxkIiwicmVxdWVzdFN0YXJ0IiwicmVzcG9uc2VFbmQiLCJyZXNwb25zZVN0YXJ0IiwiYWRkUmVxdWVzdCIsImFkZE5hdmlnYXRpb25TcGFucyIsIm1lYXN1cmVTdGFydFRpbWVzdGFtcCIsIm1lYXN1cmVFbmRUaW1lc3RhbXAiLCJhZGRNZWFzdXJlU3BhbnMiLCJmaXJzdEhpZGRlbiIsInNob3VsZFJlY29yZCIsInJlc291cmNlTmFtZSIsIm9yaWdpbiIsImluaXRpYXRvclR5cGUiLCJ0cmFuc2ZlclNpemUiLCJlbmNvZGVkQm9keVNpemUiLCJkZWNvZGVkQm9keVNpemUiLCJhZGRSZXNvdXJjZVNwYW5zIiwiX3RyYWNrTmF2aWdhdG9yIiwidGltZU9yaWdpbl8xIiwibWVhc3VyZW1lbnRUaW1lc3RhbXAiLCJub3JtYWxpemVkVmFsdWUiLCJhYnMiLCJvblJlcG9ydCIsInJlcG9ydEFsbENoYW5nZXMiLCJyZXBvcnQiLCJlbnRyeUhhbmRsZXIiLCJoYWRSZWNlbnRJbnB1dCIsInRha2VSZWNvcmRzIiwiZ2V0Q0xTIiwiZWZmZWN0aXZlVHlwZSIsImlzTWVhc3VyZW1lbnRWYWx1ZSIsInJ0dCIsImRvd25saW5rIiwiZGV2aWNlTWVtb3J5IiwiaGFyZHdhcmVDb25jdXJyZW5jeSIsIm9uRmluYWwiLCJnZXRMQ1AiLCJwcm9jZXNzaW5nU3RhcnQiLCJwZXJmTWV0cmljcyIsIm9uRmlyc3RJbnB1dERlbGF5IiwiY2FuY2VsYWJsZSIsInJlcXVlc3RUaW1lIiwibmF2aWdhdGlvbkVudHJ5IiwiZ2V0RW50cmllc0J5VHlwZSIsImdldE5hdmlnYXRpb25FbnRyeUZyb21QZXJmb3JtYW5jZVRpbWluZyIsImV2ZW50RW5kIiwiZGVmYXVsdFJlcXVlc3RJbnN0cnVtZW50YXRpb25PcHRpb25zIiwidHJhY2VGZXRjaCIsInRyYWNlWEhSIiwidHJhY2luZ09yaWdpbnMiLCJERUZBVUxUX0JST1dTRVJfVFJBQ0lOR19PUFRJT05TIiwiaWRsZVRpbWVvdXQiLCJtYXJrQmFja2dyb3VuZFRyYW5zYWN0aW9ucyIsIm1heFRyYW5zYWN0aW9uRHVyYXRpb24iLCJyb3V0aW5nSW5zdHJ1bWVudGF0aW9uIiwic3RhcnRUcmFuc2FjdGlvbk9uUGFnZUxvYWQiLCJzdGFydFRyYW5zYWN0aW9uT25Mb2NhdGlvbkNoYW5nZSIsInN0YXJ0aW5nVXJsIiwicGF0aG5hbWUiLCJCcm93c2VyVHJhY2luZyIsIl9tZXRyaWNzIiwiX2VtaXRPcHRpb25zV2FybmluZyIsIl9nZXRDdXJyZW50SHViIiwic2hvdWxkQ3JlYXRlU3BhbkZvclJlcXVlc3QiLCJfY3JlYXRlUm91dGVUcmFuc2FjdGlvbiIsInVybE1hcCIsImRlZmF1bHRTaG91bGRDcmVhdGVTcGFuIiwib3JpZ2lucyIsInNob3VsZENyZWF0ZVNwYW4iLCJjdXJyZW50Q2xpZW50T3B0aW9ucyIsIl9fc3BhbiIsImZldGNoQ2FsbGJhY2siLCJfX3NlbnRyeV94aHJfc3Bhbl9pZF9fIiwieGhyQ2FsbGJhY2siLCJyZWdpc3RlclJlcXVlc3RJbnN0cnVtZW50YXRpb24iLCJiZWZvcmVOYXZpZ2F0ZSIsInBhcmVudENvbnRleHRGcm9tSGVhZGVyIiwidHJhY2VwYXJlbnQiLCJleHRyYWN0VHJhY2VwYXJlbnREYXRhIiwiZ2V0SGVhZGVyQ29udGV4dCIsImV4cGFuZGVkQ29udGV4dCIsIm1vZGlmaWVkQ29udGV4dCIsImZpbmFsQ29udGV4dCIsImlkbGVUcmFuc2FjdGlvbiIsIm9uU2NvcGUiLCJzdGFydElkbGVUcmFuc2FjdGlvbiIsIm1heER1cmF0aW9uIiwiZGlmZiIsImFkanVzdFRyYW5zYWN0aW9uRHVyYXRpb24iLCJzZWNUb01zIiwiRXhwcmVzcyIsIl9yb3V0ZXIiLCJyb3V0ZXIiLCJfbWV0aG9kcyIsIndyYXBNaWRkbGV3YXJlQXJncyIsInBhdGNoTWlkZGxld2FyZSIsImFyaXR5IiwiX19zZW50cnlfdHJhbnNhY3Rpb24iLCJJbnRlZ3JhdGlvbnMiLCJ0cmFjaW5nIiwid2luZG93XzEiLCJTRU5UUllfUkVMRUFTRSIsImF1dG9TZXNzaW9uVHJhY2tpbmciLCJjbGllbnRDbGFzcyIsImRlYnVnIiwiaW5pdEFuZEJpbmQiLCJzdGFydFNlc3Npb25UcmFja2luZyIsIm5hdmlnYXRpb24iLCJwcmltYXJ5IiwiY2xpY2siXSwibWFwcGluZ3MiOiI7cUhBRUEsSUFBSUEsRUFBYSxDQUNiLFlBQ0EsWUFDQSxpQkFDQSxjQUNBLGdCQUNBLGFBQ0EsWUFDQSxXQUNBLE9BQ0EsWUFDQSxjQUNBLHlCQUNBLFVBQ0EsbUJBQ0Esb0JBQ0EsbUJBQ0EsVUFDQSxjQUNBLG1CQUNBLDBCQUNBLGFBQ0EsWUFDQSxXQUNBLFlBQ0EsVUFDQSx5QkFDQSxTQUNBLGFBQ0EsUUFDQSxhQUNBLGFBTUFDLEVBQXVCLENBR3ZCQyxVQUFXLENBQUMsY0FDWkMsZUFBZ0IsQ0FBQyxTQUNqQkMsWUFBYSxDQUFDLGVBQ2RDLGNBQWUsQ0FBQyxjQUNoQkMsV0FBWSxDQUFDLFVBQ2JDLFVBQVcsQ0FBQyxVQUNaQyxTQUFVLENBQUMsTUFBTyxTQUNsQkMsVUFBVyxDQUFDLGFBQ1pDLFFBQVMsQ0FBQyxTQUNWQyxpQkFBa0IsQ0FBQyxVQUNuQkMsa0JBQW1CLENBQUMsU0FB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QVFJLGdCQUd0QzdwRCxFQUFjLEtBQU0sQ0FDbEJBLEVBQ0UsT0FDQSxDQUFFOGEsU0FBVSxDQUFFdndCLEdBQUksVUFDbEIsaUJBQW1CRixLQUFLby9ELFFBQVFDLGNBR3BDMXBELEVBQWMsS0FBTSxDQUNsQkEsRUFDRSxPQUNBLENBQUU4YSxTQUFVLENBQUV2d0IsR0FBSSxjQUNsQix3QkFBMEJGLEtBQUtvL0QsUUFBUUUsYUFHM0MzcEQsRUFBYyxLQUFNLENBQ2xCQSxFQUNFLE9BQ0EsQ0FBRThhLFNBQVUsQ0FBRXZ3QixHQUFJLGtCQUNsQixvQkFBc0JGLEtBQUtvL0QsUUFBUUcsdUJBTTdDcDhELEtBQU0sQ0FDSmk4RCxRQUFTLEdBQ1RoM0QsTUFBTyxHQUNQeXVCLFNBQVMsR0FFWCxVQUNFLE1BQU0rekIsRUFBUWdSLEdBQU8vRSxXQUNyQjcyRCxLQUFLNjJCLFFBQVUrekIsRUFBTS96QixRQUNyQjcyQixLQUFLb0ksTUFBUXdpRCxFQUFNeGlELE1BQ25CcEksS0FBS28vRCxRQUFVeFUsRUFBTXdVLFFBQ3JCeEQsR0FBTzlFLFdBQVUsS0FDZixNQUFNbE0sRUFBUWdSLEdBQU8vRSxXQUNyQjcyRCxLQUFLNjJCLFFBQVUrekIsRUFBTS96QixRQUNyQjcyQixLQUFLb0ksTUFBUXdpRCxFQUFNeGlELE1BQ25CcEksS0FBS28vRCxRQUFVeFUsRUFBTXdVLFFBQ3JCbDNELFFBQVFELElBQUlqSSxLQUFLby9ELFlBRW5CeEQsR0FBTzNFLFNBQWNtSSxRIiwiZmlsZSI6InBlcmZvcm1hbmNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZHluYW1pY1JlcXVpcmUsIGZpbGwsIGlzVGhlbmFibGUsIGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xudmFyIE9QRVJBVElPTlMgPSBbXG4gICAgJ2FnZ3JlZ2F0ZScsXG4gICAgJ2J1bGtXcml0ZScsXG4gICAgJ2NvdW50RG9jdW1lbnRzJyxcbiAgICAnY3JlYXRlSW5kZXgnLFxuICAgICdjcmVhdGVJbmRleGVzJyxcbiAgICAnZGVsZXRlTWFueScsXG4gICAgJ2RlbGV0ZU9uZScsXG4gICAgJ2Rpc3RpbmN0JyxcbiAgICAnZHJvcCcsXG4gICAgJ2Ryb3BJbmRleCcsXG4gICAgJ2Ryb3BJbmRleGVzJyxcbiAgICAnZXN0aW1hdGVkRG9jdW1lbnRDb3VudCcsXG4gICAgJ2ZpbmRPbmUnLFxuICAgICdmaW5kT25lQW5kRGVsZXRlJyxcbiAgICAnZmluZE9uZUFuZFJlcGxhY2UnLFxuICAgICdmaW5kT25lQW5kVXBkYXRlJyxcbiAgICAnaW5kZXhlcycsXG4gICAgJ2luZGV4RXhpc3RzJyxcbiAgICAnaW5kZXhJbmZvcm1hdGlvbicsXG4gICAgJ2luaXRpYWxpemVPcmRlcmVkQnVsa09wJyxcbiAgICAnaW5zZXJ0TWFueScsXG4gICAgJ2luc2VydE9uZScsXG4gICAgJ2lzQ2FwcGVkJyxcbiAgICAnbWFwUmVkdWNlJyxcbiAgICAnb3B0aW9ucycsXG4gICAgJ3BhcmFsbGVsQ29sbGVjdGlvblNjYW4nLFxuICAgICdyZW5hbWUnLFxuICAgICdyZXBsYWNlT25lJyxcbiAgICAnc3RhdHMnLFxuICAgICd1cGRhdGVNYW55JyxcbiAgICAndXBkYXRlT25lJyxcbl07XG4vLyBBbGwgb2YgdGhlIG9wZXJhdGlvbnMgYWJvdmUgdGFrZSBgb3B0aW9uc2AgYW5kIGBjYWxsYmFja2AgYXMgdGhlaXIgZmluYWwgcGFyYW1ldGVycywgYnV0IHNvbWUgb2YgdGhlbVxuLy8gdGFrZSBhZGRpdGlvbmFsIHBhcmFtZXRlcnMgYXMgd2VsbC4gRm9yIHRob3NlIG9wZXJhdGlvbnMsIHRoaXMgaXMgYSBtYXAgb2Zcbi8vIHsgPG9wZXJhdGlvbiBuYW1lPjogIFs8bmFtZXMgb2YgYWRkaXRpb25hbCBwYXJhbWV0ZXJzPl0gfSwgYXMgYSB3YXkgdG8ga25vdyB3aGF0IHRvIGNhbGwgdGhlIG9wZXJhdGlvbidzXG4vLyBwb3NpdGlvbmFsIGFyZ3VtZW50cyB3aGVuIHdlIGFkZCB0aGVtIHRvIHRoZSBzcGFuJ3MgYGRhdGFgIG9iamVjdCBsYXRlclxudmFyIE9QRVJBVElPTl9TSUdOQVRVUkVTID0ge1xuICAgIC8vIGFnZ3JlZ2F0ZSBpbnRlbnRpb25hbGx5IG5vdCBpbmNsdWRlZCBiZWNhdXNlIGBwaXBlbGluZWAgYXJndW1lbnRzIGFyZSB0b28gY29tcGxleCB0byBzZXJpYWxpemUgd2VsbFxuICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L3B1bGwvMzEwMlxuICAgIGJ1bGtXcml0ZTogWydvcGVyYXRpb25zJ10sXG4gICAgY291bnREb2N1bWVudHM6IFsncXVlcnknXSxcbiAgICBjcmVhdGVJbmRleDogWydmaWVsZE9yU3BlYyddLFxuICAgIGNyZWF0ZUluZGV4ZXM6IFsnaW5kZXhTcGVjcyddLFxuICAgIGRlbGV0ZU1hbnk6IFsnZmlsdGVyJ10sXG4gICAgZGVsZXRlT25lOiBbJ2ZpbHRlciddLFxuICAgIGRpc3RpbmN0OiBbJ2tleScsICdxdWVyeSddLFxuICAgIGRyb3BJbmRleDogWydpbmRleE5hbWUnXSxcbiAgICBmaW5kT25lOiBbJ3F1ZXJ5J10sXG4gICAgZmluZE9uZUFuZERlbGV0ZTogWydmaWx0ZXInXSxcbiAgICBmaW5kT25lQW5kUmVwbGFjZTogWydmaWx0ZXInLCAncmVwbGFjZW1lbnQnXSxcbiAgICBmaW5kT25lQW5kVXBkYXRlOiBbJ2ZpbHRlcicsICd1cGRhdGUnXSxcbiAgICBpbmRleEV4aXN0czogWydpbmRleGVzJ10sXG4gICAgaW5zZXJ0TWFueTogWydkb2NzJ10sXG4gICAgaW5zZXJ0T25lOiBbJ2RvYyddLFxuICAgIG1hcFJlZHVjZTogWydtYXAnLCAncmVkdWNlJ10sXG4gICAgcmVuYW1lOiBbJ25ld05hbWUnXSxcbiAgICByZXBsYWNlT25lOiBbJ2ZpbHRlcicsICdkb2MnXSxcbiAgICB1cGRhdGVNYW55OiBbJ2ZpbHRlcicsICd1cGRhdGUnXSxcbiAgICB1cGRhdGVPbmU6IFsnZmlsdGVyJywgJ3VwZGF0ZSddLFxufTtcbi8qKiBUcmFjaW5nIGludGVncmF0aW9uIGZvciBtb25nbyBwYWNrYWdlICovXG52YXIgTW9uZ28gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNb25nbyhvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW5oZXJpdERvY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYW1lID0gTW9uZ28uaWQ7XG4gICAgICAgIHRoaXMuX29wZXJhdGlvbnMgPSBBcnJheS5pc0FycmF5KG9wdGlvbnMub3BlcmF0aW9ucylcbiAgICAgICAgICAgID8gb3B0aW9ucy5vcGVyYXRpb25zXG4gICAgICAgICAgICA6IE9QRVJBVElPTlM7XG4gICAgICAgIHRoaXMuX2Rlc2NyaWJlT3BlcmF0aW9ucyA9ICdkZXNjcmliZU9wZXJhdGlvbnMnIGluIG9wdGlvbnMgPyBvcHRpb25zLmRlc2NyaWJlT3BlcmF0aW9ucyA6IHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgTW9uZ28ucHJvdG90eXBlLnNldHVwT25jZSA9IGZ1bmN0aW9uIChfLCBnZXRDdXJyZW50SHViKSB7XG4gICAgICAgIHZhciBjb2xsZWN0aW9uO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG1vbmdvZGJNb2R1bGUgPSBkeW5hbWljUmVxdWlyZShtb2R1bGUsICdtb25nb2RiJyk7XG4gICAgICAgICAgICBjb2xsZWN0aW9uID0gbW9uZ29kYk1vZHVsZS5Db2xsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ01vbmdvIEludGVncmF0aW9uIHdhcyB1bmFibGUgdG8gcmVxdWlyZSBgbW9uZ29kYmAgcGFja2FnZS4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnN0cnVtZW50T3BlcmF0aW9ucyhjb2xsZWN0aW9uLCB0aGlzLl9vcGVyYXRpb25zLCBnZXRDdXJyZW50SHViKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhdGNoZXMgb3JpZ2luYWwgY29sbGVjdGlvbiBtZXRob2RzXG4gICAgICovXG4gICAgTW9uZ28ucHJvdG90eXBlLl9pbnN0cnVtZW50T3BlcmF0aW9ucyA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBvcGVyYXRpb25zLCBnZXRDdXJyZW50SHViKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIG9wZXJhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAob3BlcmF0aW9uKSB7IHJldHVybiBfdGhpcy5fcGF0Y2hPcGVyYXRpb24oY29sbGVjdGlvbiwgb3BlcmF0aW9uLCBnZXRDdXJyZW50SHViKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYXRjaGVzIG9yaWdpbmFsIGNvbGxlY3Rpb24gdG8gdXRpbGl6ZSBvdXIgdHJhY2luZyBmdW5jdGlvbmFsaXR5XG4gICAgICovXG4gICAgTW9uZ28ucHJvdG90eXBlLl9wYXRjaE9wZXJhdGlvbiA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBvcGVyYXRpb24sIGdldEN1cnJlbnRIdWIpIHtcbiAgICAgICAgaWYgKCEob3BlcmF0aW9uIGluIGNvbGxlY3Rpb24ucHJvdG90eXBlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIGdldFNwYW5Db250ZXh0ID0gdGhpcy5fZ2V0U3BhbkNvbnRleHRGcm9tT3BlcmF0aW9uQXJndW1lbnRzLmJpbmQodGhpcyk7XG4gICAgICAgIGZpbGwoY29sbGVjdGlvbi5wcm90b3R5cGUsIG9wZXJhdGlvbiwgZnVuY3Rpb24gKG9yaWcpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdEFyZyA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICB2YXIgc2NvcGUgPSBnZXRDdXJyZW50SHViKCkuZ2V0U2NvcGUoKTtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50U3BhbiA9IChfYSA9IHNjb3BlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0U3BhbigpO1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBvcGVyYXRpb24gd2FzIHBhc3NlZCBhIGNhbGxiYWNrLiAobWFwUmVkdWNlIHJlcXVpcmVzIGEgZGlmZmVyZW50IGNoZWNrLCBhc1xuICAgICAgICAgICAgICAgIC8vIGl0cyAobm9uLWNhbGxiYWNrKSBhcmd1bWVudHMgY2FuIGFsc28gYmUgZnVuY3Rpb25zLilcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxhc3RBcmcgIT09ICdmdW5jdGlvbicgfHwgKG9wZXJhdGlvbiA9PT0gJ21hcFJlZHVjZScgJiYgYXJncy5sZW5ndGggPT09IDIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGFuXzEgPSAoX2IgPSBwYXJlbnRTcGFuKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3RhcnRDaGlsZChnZXRTcGFuQ29udGV4dCh0aGlzLCBvcGVyYXRpb24sIGFyZ3MpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heWJlUHJvbWlzZSA9IG9yaWcuY2FsbC5hcHBseShvcmlnLCBfX3NwcmVhZChbdGhpc10sIGFyZ3MpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVGhlbmFibGUobWF5YmVQcm9taXNlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gc3Bhbl8xKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmluaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9jID0gc3Bhbl8xKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZmluaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF5YmVQcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBzcGFuID0gKF9kID0gcGFyZW50U3BhbikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnN0YXJ0Q2hpbGQoZ2V0U3BhbkNvbnRleHQodGhpcywgb3BlcmF0aW9uLCBhcmdzLnNsaWNlKDAsIC0xKSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnLmNhbGwuYXBwbHkob3JpZywgX19zcHJlYWQoW3RoaXNdLCBhcmdzLnNsaWNlKDAsIC0xKSwgW2Z1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gc3BhbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEFyZyhlcnIsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1dKSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZvcm0gYSBTcGFuQ29udGV4dCBiYXNlZCBvbiB0aGUgdXNlciBpbnB1dCB0byBhIGdpdmVuIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBNb25nby5wcm90b3R5cGUuX2dldFNwYW5Db250ZXh0RnJvbU9wZXJhdGlvbkFyZ3VtZW50cyA9IGZ1bmN0aW9uIChjb2xsZWN0aW9uLCBvcGVyYXRpb24sIGFyZ3MpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uTmFtZTogY29sbGVjdGlvbi5jb2xsZWN0aW9uTmFtZSxcbiAgICAgICAgICAgIGRiTmFtZTogY29sbGVjdGlvbi5kYk5hbWUsXG4gICAgICAgICAgICBuYW1lc3BhY2U6IGNvbGxlY3Rpb24ubmFtZXNwYWNlLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgc3BhbkNvbnRleHQgPSB7XG4gICAgICAgICAgICBvcDogXCJkYlwiLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IG9wZXJhdGlvbixcbiAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIH07XG4gICAgICAgIC8vIElmIHRoZSBvcGVyYXRpb24gdGFrZXMgbm8gYXJndW1lbnRzIGJlc2lkZXMgYG9wdGlvbnNgIGFuZCBgY2FsbGJhY2tgLCBvciBpZiBhcmd1bWVudFxuICAgICAgICAvLyBjb2xsZWN0aW9uIGlzIGRpc2FibGVkIGZvciB0aGlzIG9wZXJhdGlvbiwganVzdCByZXR1cm4gZWFybHkuXG4gICAgICAgIHZhciBzaWduYXR1cmUgPSBPUEVSQVRJT05fU0lHTkFUVVJFU1tvcGVyYXRpb25dO1xuICAgICAgICB2YXIgc2hvdWxkRGVzY3JpYmUgPSBBcnJheS5pc0FycmF5KHRoaXMuX2Rlc2NyaWJlT3BlcmF0aW9ucylcbiAgICAgICAgICAgID8gdGhpcy5fZGVzY3JpYmVPcGVyYXRpb25zLmluY2x1ZGVzKG9wZXJhdGlvbilcbiAgICAgICAgICAgIDogdGhpcy5fZGVzY3JpYmVPcGVyYXRpb25zO1xuICAgICAgICBpZiAoIXNpZ25hdHVyZSB8fCAhc2hvdWxkRGVzY3JpYmUpIHtcbiAgICAgICAgICAgIHJldHVybiBzcGFuQ29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIGZvciBgbWFwUmVkdWNlYCwgYXMgdGhlIG9ubHkgb25lIGFjY2VwdGluZyBmdW5jdGlvbnMgYXMgYXJndW1lbnRzLlxuICAgICAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gJ21hcFJlZHVjZScpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EgPSBfX3JlYWQoYXJncywgMiksIG1hcCA9IF9hWzBdLCByZWR1Y2UgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICBkYXRhW3NpZ25hdHVyZVswXV0gPSB0eXBlb2YgbWFwID09PSAnc3RyaW5nJyA/IG1hcCA6IG1hcC5uYW1lIHx8ICc8YW5vbnltb3VzPic7XG4gICAgICAgICAgICAgICAgZGF0YVtzaWduYXR1cmVbMV1dID0gdHlwZW9mIHJlZHVjZSA9PT0gJ3N0cmluZycgPyByZWR1Y2UgOiByZWR1Y2UubmFtZSB8fCAnPGFub255bW91cz4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaWduYXR1cmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtzaWduYXR1cmVbaV1dID0gSlNPTi5zdHJpbmdpZnkoYXJnc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfb08pIHtcbiAgICAgICAgICAgIC8vIG5vLWVtcHR5XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNwYW5Db250ZXh0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBNb25nby5pZCA9ICdNb25nbyc7XG4gICAgcmV0dXJuIE1vbmdvO1xufSgpKTtcbmV4cG9ydCB7IE1vbmdvIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb25nby5qcy5tYXAiLCJpbXBvcnQgeyBkeW5hbWljUmVxdWlyZSwgZmlsbCwgbG9nZ2VyIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG4vKiogVHJhY2luZyBpbnRlZ3JhdGlvbiBmb3Igbm9kZS1teXNxbCBwYWNrYWdlICovXG52YXIgTXlzcWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTXlzcWwoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW5oZXJpdERvY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYW1lID0gTXlzcWwuaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgTXlzcWwucHJvdG90eXBlLnNldHVwT25jZSA9IGZ1bmN0aW9uIChfLCBnZXRDdXJyZW50SHViKSB7XG4gICAgICAgIHZhciBjb25uZWN0aW9uO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVW5mb3J0dW5hdGVsbHkgbXlzcWwgaXMgdXNpbmcgc29tZSBjdXN0b20gbG9hZGluZyBzeXN0ZW0gYW5kIGBDb25uZWN0aW9uYCBpcyBub3QgZXhwb3J0ZWQgZGlyZWN0bHkuXG4gICAgICAgICAgICBjb25uZWN0aW9uID0gZHluYW1pY1JlcXVpcmUobW9kdWxlLCAnbXlzcWwvbGliL0Nvbm5lY3Rpb24uanMnKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdNeXNxbCBJbnRlZ3JhdGlvbiB3YXMgdW5hYmxlIHRvIHJlcXVpcmUgYG15c3FsYCBwYWNrYWdlLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBvcmlnaW5hbCBmdW5jdGlvbiB3aWxsIGhhdmUgb25lIG9mIHRoZXNlIHNpZ25hdHVyZXM6XG4gICAgICAgIC8vICAgIGZ1bmN0aW9uIChjYWxsYmFjaykgPT4gdm9pZFxuICAgICAgICAvLyAgICBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2spID0+IHZvaWRcbiAgICAgICAgLy8gICAgZnVuY3Rpb24gKG9wdGlvbnMsIHZhbHVlcywgY2FsbGJhY2spID0+IHZvaWRcbiAgICAgICAgZmlsbChjb25uZWN0aW9uLnByb3RvdHlwZSwgJ3F1ZXJ5JywgZnVuY3Rpb24gKG9yaWcpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucywgdmFsdWVzLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgdmFyIHNjb3BlID0gZ2V0Q3VycmVudEh1YigpLmdldFNjb3BlKCk7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFNwYW4gPSAoX2EgPSBzY29wZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFNwYW4oKTtcbiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IChfYiA9IHBhcmVudFNwYW4pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdGFydENoaWxkKHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJyA/IG9wdGlvbnMgOiBvcHRpb25zLnNxbCxcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiZGJcIixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnLmNhbGwodGhpcywgb3B0aW9ucywgdmFsdWVzLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQsIGZpZWxkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gc3BhbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyLCByZXN1bHQsIGZpZWxkcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5jYWxsKHRoaXMsIG9wdGlvbnMsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCwgZmllbGRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBzcGFuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmluaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMoZXJyLCByZXN1bHQsIGZpZWxkcyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5jYWxsKHRoaXMsIG9wdGlvbnMsIHZhbHVlcywgY2FsbGJhY2spO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIE15c3FsLmlkID0gJ015c3FsJztcbiAgICByZXR1cm4gTXlzcWw7XG59KCkpO1xuZXhwb3J0IHsgTXlzcWwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW15c3FsLmpzLm1hcCIsImltcG9ydCB7IGR5bmFtaWNSZXF1aXJlLCBmaWxsLCBsb2dnZXIgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbi8qKiBUcmFjaW5nIGludGVncmF0aW9uIGZvciBub2RlLXBvc3RncmVzIHBhY2thZ2UgKi9cbnZhciBQb3N0Z3JlcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQb3N0Z3JlcygpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbmhlcml0RG9jXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBQb3N0Z3Jlcy5pZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBQb3N0Z3Jlcy5wcm90b3R5cGUuc2V0dXBPbmNlID0gZnVuY3Rpb24gKF8sIGdldEN1cnJlbnRIdWIpIHtcbiAgICAgICAgdmFyIGNsaWVudDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBwZ01vZHVsZSA9IGR5bmFtaWNSZXF1aXJlKG1vZHVsZSwgJ3BnJyk7XG4gICAgICAgICAgICBjbGllbnQgPSBwZ01vZHVsZS5DbGllbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignUG9zdGdyZXMgSW50ZWdyYXRpb24gd2FzIHVuYWJsZSB0byByZXF1aXJlIGBwZ2AgcGFja2FnZS4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogZnVuY3Rpb24gKHF1ZXJ5LCBjYWxsYmFjaykgPT4gdm9pZFxuICAgICAgICAgKiBmdW5jdGlvbiAocXVlcnksIHBhcmFtcywgY2FsbGJhY2spID0+IHZvaWRcbiAgICAgICAgICogZnVuY3Rpb24gKHF1ZXJ5KSA9PiBQcm9taXNlXG4gICAgICAgICAqIGZ1bmN0aW9uIChxdWVyeSwgcGFyYW1zKSA9PiBQcm9taXNlXG4gICAgICAgICAqL1xuICAgICAgICBmaWxsKGNsaWVudC5wcm90b3R5cGUsICdxdWVyeScsIGZ1bmN0aW9uIChvcmlnKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNvbmZpZywgdmFsdWVzLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgICAgICAgICAgdmFyIHNjb3BlID0gZ2V0Q3VycmVudEh1YigpLmdldFNjb3BlKCk7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFNwYW4gPSAoX2EgPSBzY29wZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFNwYW4oKTtcbiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IChfYiA9IHBhcmVudFNwYW4pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdGFydENoaWxkKHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnID8gY29uZmlnIDogY29uZmlnLnRleHQsXG4gICAgICAgICAgICAgICAgICAgIG9wOiBcImRiXCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5jYWxsKHRoaXMsIGNvbmZpZywgdmFsdWVzLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IHNwYW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maW5pc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnLmNhbGwodGhpcywgY29uZmlnLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IHNwYW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maW5pc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyhlcnIsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5jYWxsKHRoaXMsIGNvbmZpZywgdmFsdWVzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAoX2EgPSBzcGFuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmluaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgUG9zdGdyZXMuaWQgPSAnUG9zdGdyZXMnO1xuICAgIHJldHVybiBQb3N0Z3Jlcztcbn0oKSk7XG5leHBvcnQgeyBQb3N0Z3JlcyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cG9zdGdyZXMuanMubWFwIiwiaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICcuL2lzJztcbi8qKlxuICogR2l2ZW4gYSBjaGlsZCBET00gZWxlbWVudCwgcmV0dXJucyBhIHF1ZXJ5LXNlbGVjdG9yIHN0YXRlbWVudCBkZXNjcmliaW5nIHRoYXRcbiAqIGFuZCBpdHMgYW5jZXN0b3JzXG4gKiBlLmcuIFtIVE1MRWxlbWVudF0gPT4gYm9keSA+IGRpdiA+IGlucHV0I2Zvby5idG5bbmFtZT1iYXpdXG4gKiBAcmV0dXJucyBnZW5lcmF0ZWQgRE9NIHBhdGhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGh0bWxUcmVlQXNTdHJpbmcoZWxlbSkge1xuICAgIC8vIHRyeS9jYXRjaCBib3RoOlxuICAgIC8vIC0gYWNjZXNzaW5nIGV2ZW50LnRhcmdldCAoc2VlIGdldHNlbnRyeS9yYXZlbi1qcyM4MzgsICM3NjgpXG4gICAgLy8gLSBgaHRtbFRyZWVBc1N0cmluZ2AgYmVjYXVzZSBpdCdzIGNvbXBsZXgsIGFuZCBqdXN0IGFjY2Vzc2luZyB0aGUgRE9NIGluY29ycmVjdGx5XG4gICAgLy8gLSBjYW4gdGhyb3cgYW4gZXhjZXB0aW9uIGluIHNvbWUgY2lyY3Vtc3RhbmNlcy5cbiAgICB0cnkge1xuICAgICAgICB2YXIgY3VycmVudEVsZW0gPSBlbGVtO1xuICAgICAgICB2YXIgTUFYX1RSQVZFUlNFX0hFSUdIVCA9IDU7XG4gICAgICAgIHZhciBNQVhfT1VUUFVUX0xFTiA9IDgwO1xuICAgICAgICB2YXIgb3V0ID0gW107XG4gICAgICAgIHZhciBoZWlnaHQgPSAwO1xuICAgICAgICB2YXIgbGVuID0gMDtcbiAgICAgICAgdmFyIHNlcGFyYXRvciA9ICcgPiAnO1xuICAgICAgICB2YXIgc2VwTGVuZ3RoID0gc2VwYXJhdG9yLmxlbmd0aDtcbiAgICAgICAgdmFyIG5leHRTdHIgPSB2b2lkIDA7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wbHVzcGx1c1xuICAgICAgICB3aGlsZSAoY3VycmVudEVsZW0gJiYgaGVpZ2h0KysgPCBNQVhfVFJBVkVSU0VfSEVJR0hUKSB7XG4gICAgICAgICAgICBuZXh0U3RyID0gX2h0bWxFbGVtZW50QXNTdHJpbmcoY3VycmVudEVsZW0pO1xuICAgICAgICAgICAgLy8gYmFpbCBvdXQgaWZcbiAgICAgICAgICAgIC8vIC0gbmV4dFN0ciBpcyB0aGUgJ2h0bWwnIGVsZW1lbnRcbiAgICAgICAgICAgIC8vIC0gdGhlIGxlbmd0aCBvZiB0aGUgc3RyaW5nIHRoYXQgd291bGQgYmUgY3JlYXRlZCBleGNlZWRzIE1BWF9PVVRQVVRfTEVOXG4gICAgICAgICAgICAvLyAgIChpZ25vcmUgdGhpcyBsaW1pdCBpZiB3ZSBhcmUgb24gdGhlIGZpcnN0IGl0ZXJhdGlvbilcbiAgICAgICAgICAgIGlmIChuZXh0U3RyID09PSAnaHRtbCcgfHwgKGhlaWdodCA+IDEgJiYgbGVuICsgb3V0Lmxlbmd0aCAqIHNlcExlbmd0aCArIG5leHRTdHIubGVuZ3RoID49IE1BWF9PVVRQVVRfTEVOKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3V0LnB1c2gobmV4dFN0cik7XG4gICAgICAgICAgICBsZW4gKz0gbmV4dFN0ci5sZW5ndGg7XG4gICAgICAgICAgICBjdXJyZW50RWxlbSA9IGN1cnJlbnRFbGVtLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dC5yZXZlcnNlKCkuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICBjYXRjaCAoX29PKSB7XG4gICAgICAgIHJldHVybiAnPHVua25vd24+JztcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgYSBzaW1wbGUsIHF1ZXJ5LXNlbGVjdG9yIHJlcHJlc2VudGF0aW9uIG9mIGEgRE9NIGVsZW1lbnRcbiAqIGUuZy4gW0hUTUxFbGVtZW50XSA9PiBpbnB1dCNmb28uYnRuW25hbWU9YmF6XVxuICogQHJldHVybnMgZ2VuZXJhdGVkIERPTSBwYXRoXG4gKi9cbmZ1bmN0aW9uIF9odG1sRWxlbWVudEFzU3RyaW5nKGVsKSB7XG4gICAgdmFyIGVsZW0gPSBlbDtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgdmFyIGNsYXNzTmFtZTtcbiAgICB2YXIgY2xhc3NlcztcbiAgICB2YXIga2V5O1xuICAgIHZhciBhdHRyO1xuICAgIHZhciBpO1xuICAgIGlmICghZWxlbSB8fCAhZWxlbS50YWdOYW1lKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgb3V0LnB1c2goZWxlbS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICAgIGlmIChlbGVtLmlkKSB7XG4gICAgICAgIG91dC5wdXNoKFwiI1wiICsgZWxlbS5pZCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItY29uc3RcbiAgICBjbGFzc05hbWUgPSBlbGVtLmNsYXNzTmFtZTtcbiAgICBpZiAoY2xhc3NOYW1lICYmIGlzU3RyaW5nKGNsYXNzTmFtZSkpIHtcbiAgICAgICAgY2xhc3NlcyA9IGNsYXNzTmFtZS5zcGxpdCgvXFxzKy8pO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgb3V0LnB1c2goXCIuXCIgKyBjbGFzc2VzW2ldKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgYWxsb3dlZEF0dHJzID0gWyd0eXBlJywgJ25hbWUnLCAndGl0bGUnLCAnYWx0J107XG4gICAgZm9yIChpID0gMDsgaSA8IGFsbG93ZWRBdHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgICBrZXkgPSBhbGxvd2VkQXR0cnNbaV07XG4gICAgICAgIGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZShrZXkpO1xuICAgICAgICBpZiAoYXR0cikge1xuICAgICAgICAgICAgb3V0LnB1c2goXCJbXCIgKyBrZXkgKyBcIj1cXFwiXCIgKyBhdHRyICsgXCJcXFwiXVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0LmpvaW4oJycpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3Nlci5qcy5tYXAiLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBvbmUgb2YgYSBmZXcgRXJyb3Igb3IgRXJyb3ItbGlrZVxuICoge0BsaW5rIGlzRXJyb3J9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFcnJvcih3YXQpIHtcbiAgICBzd2l0Y2ggKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3YXQpKSB7XG4gICAgICAgIGNhc2UgJ1tvYmplY3QgRXJyb3JdJzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlICdbb2JqZWN0IEV4Y2VwdGlvbl0nOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgJ1tvYmplY3QgRE9NRXhjZXB0aW9uXSc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBpc0luc3RhbmNlT2Yod2F0LCBFcnJvcik7XG4gICAgfVxufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgRXJyb3JFdmVudFxuICoge0BsaW5rIGlzRXJyb3JFdmVudH0uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Vycm9yRXZlbnQod2F0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3YXQpID09PSAnW29iamVjdCBFcnJvckV2ZW50XSc7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBET01FcnJvclxuICoge0BsaW5rIGlzRE9NRXJyb3J9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNET01FcnJvcih3YXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdhdCkgPT09ICdbb2JqZWN0IERPTUVycm9yXSc7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBET01FeGNlcHRpb25cbiAqIHtAbGluayBpc0RPTUV4Y2VwdGlvbn0uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RPTUV4Y2VwdGlvbih3YXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdhdCkgPT09ICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYSBzdHJpbmdcbiAqIHtAbGluayBpc1N0cmluZ30uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh3YXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdhdCkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIGlzIGEgcHJpbWl0aXZlICh1bmRlZmluZWQsIG51bGwsIG51bWJlciwgYm9vbGVhbiwgc3RyaW5nLCBiaWdpbnQsIHN5bWJvbClcbiAqIHtAbGluayBpc1ByaW1pdGl2ZX0uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ByaW1pdGl2ZSh3YXQpIHtcbiAgICByZXR1cm4gd2F0ID09PSBudWxsIHx8ICh0eXBlb2Ygd2F0ICE9PSAnb2JqZWN0JyAmJiB0eXBlb2Ygd2F0ICE9PSAnZnVuY3Rpb24nKTtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGFuIG9iamVjdCBsaXRlcmFsXG4gKiB7QGxpbmsgaXNQbGFpbk9iamVjdH0uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHdhdCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2F0KSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBhbiBFdmVudCBpbnN0YW5jZVxuICoge0BsaW5rIGlzRXZlbnR9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFdmVudCh3YXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIEV2ZW50ICE9PSAndW5kZWZpbmVkJyAmJiBpc0luc3RhbmNlT2Yod2F0LCBFdmVudCk7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBhbiBFbGVtZW50IGluc3RhbmNlXG4gKiB7QGxpbmsgaXNFbGVtZW50fS5cbiAqXG4gKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC5cbiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbWVudCh3YXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIEVsZW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGlzSW5zdGFuY2VPZih3YXQsIEVsZW1lbnQpO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYW4gcmVnZXhwXG4gKiB7QGxpbmsgaXNSZWdFeHB9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNSZWdFeHAod2F0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3YXQpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUgaGFzIGEgdGhlbiBmdW5jdGlvbi5cbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNUaGVuYWJsZSh3YXQpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgcmV0dXJuIEJvb2xlYW4od2F0ICYmIHdhdC50aGVuICYmIHR5cGVvZiB3YXQudGhlbiA9PT0gJ2Z1bmN0aW9uJyk7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBhIFN5bnRoZXRpY0V2ZW50XG4gKiB7QGxpbmsgaXNTeW50aGV0aWNFdmVudH0uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N5bnRoZXRpY0V2ZW50KHdhdCkge1xuICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHdhdCkgJiYgJ25hdGl2ZUV2ZW50JyBpbiB3YXQgJiYgJ3ByZXZlbnREZWZhdWx0JyBpbiB3YXQgJiYgJ3N0b3BQcm9wYWdhdGlvbicgaW4gd2F0O1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYW4gaW5zdGFuY2Ugb2YgcHJvdmlkZWQgY29uc3RydWN0b3IuXG4gKiB7QGxpbmsgaXNJbnN0YW5jZU9mfS5cbiAqXG4gKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC5cbiAqIEBwYXJhbSBiYXNlIEEgY29uc3RydWN0b3IgdG8gYmUgdXNlZCBpbiBhIGNoZWNrLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNJbnN0YW5jZU9mKHdhdCwgYmFzZSkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiB3YXQgaW5zdGFuY2VvZiBiYXNlO1xuICAgIH1cbiAgICBjYXRjaCAoX2UpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLmpzLm1hcCIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmltcG9ydCB7IGNvbnNvbGVTYW5kYm94LCBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICcuL21pc2MnO1xuLy8gVE9ETzogSW1wbGVtZW50IGRpZmZlcmVudCBsb2dnZXJzIGZvciBkaWZmZXJlbnQgZW52aXJvbm1lbnRzXG52YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4vKiogUHJlZml4IGZvciBsb2dnaW5nIHN0cmluZ3MgKi9cbnZhciBQUkVGSVggPSAnU2VudHJ5IExvZ2dlciAnO1xuLyoqIEpTRG9jICovXG52YXIgTG9nZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIGZ1bmN0aW9uIExvZ2dlcigpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKiogSlNEb2MgKi9cbiAgICBMb2dnZXIucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIExvZ2dlci5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIExvZ2dlci5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGVTYW5kYm94KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGdsb2JhbC5jb25zb2xlLmxvZyhQUkVGSVggKyBcIltMb2ddOiBcIiArIGFyZ3Muam9pbignICcpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBMb2dnZXIucHJvdG90eXBlLndhcm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZVNhbmRib3goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZ2xvYmFsLmNvbnNvbGUud2FybihQUkVGSVggKyBcIltXYXJuXTogXCIgKyBhcmdzLmpvaW4oJyAnKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlU2FuZGJveChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBnbG9iYWwuY29uc29sZS5lcnJvcihQUkVGSVggKyBcIltFcnJvcl06IFwiICsgYXJncy5qb2luKCcgJykpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBMb2dnZXI7XG59KCkpO1xuLy8gRW5zdXJlIHdlIG9ubHkgaGF2ZSBhIHNpbmdsZSBsb2dnZXIgaW5zdGFuY2UsIGV2ZW4gaWYgbXVsdGlwbGUgdmVyc2lvbnMgb2YgQHNlbnRyeS91dGlscyBhcmUgYmVpbmcgdXNlZFxuZ2xvYmFsLl9fU0VOVFJZX18gPSBnbG9iYWwuX19TRU5UUllfXyB8fCB7fTtcbnZhciBsb2dnZXIgPSBnbG9iYWwuX19TRU5UUllfXy5sb2dnZXIgfHwgKGdsb2JhbC5fX1NFTlRSWV9fLmxvZ2dlciA9IG5ldyBMb2dnZXIoKSk7XG5leHBvcnQgeyBsb2dnZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZ2dlci5qcy5tYXAiLCJpbXBvcnQgeyBpc05vZGVFbnYgfSBmcm9tICcuL25vZGUnO1xuaW1wb3J0IHsgc25pcExpbmUgfSBmcm9tICcuL3N0cmluZyc7XG52YXIgZmFsbGJhY2tHbG9iYWxPYmplY3QgPSB7fTtcbi8qKlxuICogU2FmZWx5IGdldCBnbG9iYWwgc2NvcGUgb2JqZWN0XG4gKlxuICogQHJldHVybnMgR2xvYmFsIHNjb3BlIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsT2JqZWN0KCkge1xuICAgIHJldHVybiAoaXNOb2RlRW52KClcbiAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyB3aW5kb3dcbiAgICAgICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyBzZWxmXG4gICAgICAgICAgICAgICAgOiBmYWxsYmFja0dsb2JhbE9iamVjdCk7XG59XG4vKipcbiAqIFVVSUQ0IGdlbmVyYXRvclxuICpcbiAqIEByZXR1cm5zIHN0cmluZyBHZW5lcmF0ZWQgVVVJRDQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1dWlkNCgpIHtcbiAgICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4gICAgdmFyIGNyeXB0byA9IGdsb2JhbC5jcnlwdG8gfHwgZ2xvYmFsLm1zQ3J5cHRvO1xuICAgIGlmICghKGNyeXB0byA9PT0gdm9pZCAwKSAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICAgIC8vIFVzZSB3aW5kb3cuY3J5cHRvIEFQSSBpZiBhdmFpbGFibGVcbiAgICAgICAgdmFyIGFyciA9IG5ldyBVaW50MTZBcnJheSg4KTtcbiAgICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhhcnIpO1xuICAgICAgICAvLyBzZXQgNCBpbiBieXRlIDdcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICAgICAgYXJyWzNdID0gKGFyclszXSAmIDB4ZmZmKSB8IDB4NDAwMDtcbiAgICAgICAgLy8gc2V0IDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIG9mIGJ5dGUgOSB0byAnMTAnXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICAgIGFycls0XSA9IChhcnJbNF0gJiAweDNmZmYpIHwgMHg4MDAwO1xuICAgICAgICB2YXIgcGFkID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICAgICAgdmFyIHYgPSBudW0udG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgd2hpbGUgKHYubGVuZ3RoIDwgNCkge1xuICAgICAgICAgICAgICAgIHYgPSBcIjBcIiArIHY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChwYWQoYXJyWzBdKSArIHBhZChhcnJbMV0pICsgcGFkKGFyclsyXSkgKyBwYWQoYXJyWzNdKSArIHBhZChhcnJbNF0pICsgcGFkKGFycls1XSkgKyBwYWQoYXJyWzZdKSArIHBhZChhcnJbN10pKTtcbiAgICB9XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvaG93LXRvLWNyZWF0ZS1hLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0LzIxMTc1MjMjMjExNzUyM1xuICAgIHJldHVybiAneHh4eHh4eHh4eHh4NHh4eHl4eHh4eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICAgICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDA7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICAgIHZhciB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBQYXJzZXMgc3RyaW5nIGZvcm0gb2YgVVJMIGludG8gYW4gb2JqZWN0XG4gKiAvLyBib3Jyb3dlZCBmcm9tIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I2FwcGVuZGl4LUJcbiAqIC8vIGludGVudGlvbmFsbHkgdXNpbmcgcmVnZXggYW5kIG5vdCA8YS8+IGhyZWYgcGFyc2luZyB0cmljayBiZWNhdXNlIFJlYWN0IE5hdGl2ZSBhbmQgb3RoZXJcbiAqIC8vIGVudmlyb25tZW50cyB3aGVyZSBET00gbWlnaHQgbm90IGJlIGF2YWlsYWJsZVxuICogQHJldHVybnMgcGFyc2VkIFVSTCBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXJsKHVybCkge1xuICAgIGlmICghdXJsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgdmFyIG1hdGNoID0gdXJsLm1hdGNoKC9eKChbXjovPyNdKyk6KT8oXFwvXFwvKFteLz8jXSopKT8oW14/I10qKShcXD8oW14jXSopKT8oIyguKikpPyQvKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgLy8gY29lcmNlIHRvIHVuZGVmaW5lZCB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5nIHNvIHdlIGRvbid0IGdldCAndW5kZWZpbmVkJ1xuICAgIHZhciBxdWVyeSA9IG1hdGNoWzZdIHx8ICcnO1xuICAgIHZhciBmcmFnbWVudCA9IG1hdGNoWzhdIHx8ICcnO1xuICAgIHJldHVybiB7XG4gICAgICAgIGhvc3Q6IG1hdGNoWzRdLFxuICAgICAgICBwYXRoOiBtYXRjaFs1XSxcbiAgICAgICAgcHJvdG9jb2w6IG1hdGNoWzJdLFxuICAgICAgICByZWxhdGl2ZTogbWF0Y2hbNV0gKyBxdWVyeSArIGZyYWdtZW50LFxuICAgIH07XG59XG4vKipcbiAqIEV4dHJhY3RzIGVpdGhlciBtZXNzYWdlIG9yIHR5cGUrdmFsdWUgZnJvbSBhbiBldmVudCB0aGF0IGNhbiBiZSB1c2VkIGZvciB1c2VyLWZhY2luZyBsb2dzXG4gKiBAcmV0dXJucyBldmVudCdzIGRlc2NyaXB0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudERlc2NyaXB0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50Lm1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50Lm1lc3NhZ2U7XG4gICAgfVxuICAgIGlmIChldmVudC5leGNlcHRpb24gJiYgZXZlbnQuZXhjZXB0aW9uLnZhbHVlcyAmJiBldmVudC5leGNlcHRpb24udmFsdWVzWzBdKSB7XG4gICAgICAgIHZhciBleGNlcHRpb24gPSBldmVudC5leGNlcHRpb24udmFsdWVzWzBdO1xuICAgICAgICBpZiAoZXhjZXB0aW9uLnR5cGUgJiYgZXhjZXB0aW9uLnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhjZXB0aW9uLnR5cGUgKyBcIjogXCIgKyBleGNlcHRpb24udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4Y2VwdGlvbi50eXBlIHx8IGV4Y2VwdGlvbi52YWx1ZSB8fCBldmVudC5ldmVudF9pZCB8fCAnPHVua25vd24+JztcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50LmV2ZW50X2lkIHx8ICc8dW5rbm93bj4nO1xufVxuLyoqIEpTRG9jICovXG5leHBvcnQgZnVuY3Rpb24gY29uc29sZVNhbmRib3goY2FsbGJhY2spIHtcbiAgICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4gICAgdmFyIGxldmVscyA9IFsnZGVidWcnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJywgJ2xvZycsICdhc3NlcnQnXTtcbiAgICBpZiAoISgnY29uc29sZScgaW4gZ2xvYmFsKSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgIHZhciBvcmlnaW5hbENvbnNvbGUgPSBnbG9iYWwuY29uc29sZTtcbiAgICB2YXIgd3JhcHBlZExldmVscyA9IHt9O1xuICAgIC8vIFJlc3RvcmUgYWxsIHdyYXBwZWQgY29uc29sZSBtZXRob2RzXG4gICAgbGV2ZWxzLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgaWYgKGxldmVsIGluIGdsb2JhbC5jb25zb2xlICYmIG9yaWdpbmFsQ29uc29sZVtsZXZlbF0uX19zZW50cnlfb3JpZ2luYWxfXykge1xuICAgICAgICAgICAgd3JhcHBlZExldmVsc1tsZXZlbF0gPSBvcmlnaW5hbENvbnNvbGVbbGV2ZWxdO1xuICAgICAgICAgICAgb3JpZ2luYWxDb25zb2xlW2xldmVsXSA9IG9yaWdpbmFsQ29uc29sZVtsZXZlbF0uX19zZW50cnlfb3JpZ2luYWxfXztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFBlcmZvcm0gY2FsbGJhY2sgbWFuaXB1bGF0aW9uc1xuICAgIHZhciByZXN1bHQgPSBjYWxsYmFjaygpO1xuICAgIC8vIFJldmVydCByZXN0b3JhdGlvbiB0byB3cmFwcGVkIHN0YXRlXG4gICAgT2JqZWN0LmtleXMod3JhcHBlZExldmVscykuZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgb3JpZ2luYWxDb25zb2xlW2xldmVsXSA9IHdyYXBwZWRMZXZlbHNbbGV2ZWxdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEFkZHMgZXhjZXB0aW9uIHZhbHVlcywgdHlwZSBhbmQgdmFsdWUgdG8gYW4gc3ludGhldGljIEV4Y2VwdGlvbi5cbiAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIG9mIHRoZSBleGNlcHRpb24uXG4gKiBAcGFyYW0gdHlwZSBUeXBlIG9mIHRoZSBleGNlcHRpb24uXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFeGNlcHRpb25UeXBlVmFsdWUoZXZlbnQsIHZhbHVlLCB0eXBlKSB7XG4gICAgZXZlbnQuZXhjZXB0aW9uID0gZXZlbnQuZXhjZXB0aW9uIHx8IHt9O1xuICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXMgPSBldmVudC5leGNlcHRpb24udmFsdWVzIHx8IFtdO1xuICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0gPSBldmVudC5leGNlcHRpb24udmFsdWVzWzBdIHx8IHt9O1xuICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0udmFsdWUgPSBldmVudC5leGNlcHRpb24udmFsdWVzWzBdLnZhbHVlIHx8IHZhbHVlIHx8ICcnO1xuICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0udHlwZSA9IGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0udHlwZSB8fCB0eXBlIHx8ICdFcnJvcic7XG59XG4vKipcbiAqIEFkZHMgZXhjZXB0aW9uIG1lY2hhbmlzbSB0byBhIGdpdmVuIGV2ZW50LlxuICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCB0byBtb2RpZnkuXG4gKiBAcGFyYW0gbWVjaGFuaXNtIE1lY2hhbmlzbSBvZiB0aGUgbWVjaGFuaXNtLlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXhjZXB0aW9uTWVjaGFuaXNtKGV2ZW50LCBtZWNoYW5pc20pIHtcbiAgICBpZiAobWVjaGFuaXNtID09PSB2b2lkIDApIHsgbWVjaGFuaXNtID0ge307IH1cbiAgICAvLyBUT0RPOiBVc2UgcmVhbCB0eXBlIHdpdGggYGtleW9mIE1lY2hhbmlzbWAgdGhpbmd5IGFuZCBtYXliZSBtYWtlIGl0IGJldHRlcj9cbiAgICB0cnkge1xuICAgICAgICAvLyBAdHMtaWdub3JlIFR5cGUgJ01lY2hhbmlzbSB8IHt9JyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdNZWNoYW5pc20gfCB1bmRlZmluZWQnXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0ubWVjaGFuaXNtID0gZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXS5tZWNoYW5pc20gfHwge307XG4gICAgICAgIE9iamVjdC5rZXlzKG1lY2hhbmlzbSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIE1lY2hhbmlzbSBoYXMgbm8gaW5kZXggc2lnbmF0dXJlXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXS5tZWNoYW5pc21ba2V5XSA9IG1lY2hhbmlzbVtrZXldO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKF9vTykge1xuICAgICAgICAvLyBuby1lbXB0eVxuICAgIH1cbn1cbi8qKlxuICogQSBzYWZlIGZvcm0gb2YgbG9jYXRpb24uaHJlZlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYXRpb25IcmVmKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuICAgIH1cbiAgICBjYXRjaCAob08pIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn1cbi8vIGh0dHBzOi8vc2VtdmVyLm9yZy8jaXMtdGhlcmUtYS1zdWdnZXN0ZWQtcmVndWxhci1leHByZXNzaW9uLXJlZ2V4LXRvLWNoZWNrLWEtc2VtdmVyLXN0cmluZ1xudmFyIFNFTVZFUl9SRUdFWFAgPSAvXigwfFsxLTldXFxkKilcXC4oMHxbMS05XVxcZCopXFwuKDB8WzEtOV1cXGQqKSg/Oi0oKD86MHxbMS05XVxcZCp8XFxkKlthLXpBLVotXVswLTlhLXpBLVotXSopKD86XFwuKD86MHxbMS05XVxcZCp8XFxkKlthLXpBLVotXVswLTlhLXpBLVotXSopKSopKT8oPzpcXCsoWzAtOWEtekEtWi1dKyg/OlxcLlswLTlhLXpBLVotXSspKikpPyQvO1xuLyoqXG4gKiBQYXJzZXMgaW5wdXQgaW50byBhIFNlbVZlciBpbnRlcmZhY2VcbiAqIEBwYXJhbSBpbnB1dCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZW12ZXIgdmVyc2lvblxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTZW12ZXIoaW5wdXQpIHtcbiAgICB2YXIgbWF0Y2ggPSBpbnB1dC5tYXRjaChTRU1WRVJfUkVHRVhQKSB8fCBbXTtcbiAgICB2YXIgbWFqb3IgPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgIHZhciBtaW5vciA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG4gICAgdmFyIHBhdGNoID0gcGFyc2VJbnQobWF0Y2hbM10sIDEwKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBidWlsZG1ldGFkYXRhOiBtYXRjaFs1XSxcbiAgICAgICAgbWFqb3I6IGlzTmFOKG1ham9yKSA/IHVuZGVmaW5lZCA6IG1ham9yLFxuICAgICAgICBtaW5vcjogaXNOYU4obWlub3IpID8gdW5kZWZpbmVkIDogbWlub3IsXG4gICAgICAgIHBhdGNoOiBpc05hTihwYXRjaCkgPyB1bmRlZmluZWQgOiBwYXRjaCxcbiAgICAgICAgcHJlcmVsZWFzZTogbWF0Y2hbNF0sXG4gICAgfTtcbn1cbnZhciBkZWZhdWx0UmV0cnlBZnRlciA9IDYwICogMTAwMDsgLy8gNjAgc2Vjb25kc1xuLyoqXG4gKiBFeHRyYWN0cyBSZXRyeS1BZnRlciB2YWx1ZSBmcm9tIHRoZSByZXF1ZXN0IGhlYWRlciBvciByZXR1cm5zIGRlZmF1bHQgdmFsdWVcbiAqIEBwYXJhbSBub3cgY3VycmVudCB1bml4IHRpbWVzdGFtcFxuICogQHBhcmFtIGhlYWRlciBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgJ1JldHJ5LUFmdGVyJyBoZWFkZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmV0cnlBZnRlckhlYWRlcihub3csIGhlYWRlcikge1xuICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0UmV0cnlBZnRlcjtcbiAgICB9XG4gICAgdmFyIGhlYWRlckRlbGF5ID0gcGFyc2VJbnQoXCJcIiArIGhlYWRlciwgMTApO1xuICAgIGlmICghaXNOYU4oaGVhZGVyRGVsYXkpKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXJEZWxheSAqIDEwMDA7XG4gICAgfVxuICAgIHZhciBoZWFkZXJEYXRlID0gRGF0ZS5wYXJzZShcIlwiICsgaGVhZGVyKTtcbiAgICBpZiAoIWlzTmFOKGhlYWRlckRhdGUpKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXJEYXRlIC0gbm93O1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFJldHJ5QWZ0ZXI7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWRkcyBjb250ZXh0IChwcmUvcG9zdC9saW5lKSBsaW5lcyB0byB0aGUgcHJvdmlkZWQgZnJhbWVcbiAqXG4gKiBAcGFyYW0gbGluZXMgc3RyaW5nW10gY29udGFpbmluZyBhbGwgbGluZXNcbiAqIEBwYXJhbSBmcmFtZSBTdGFja0ZyYW1lIHRoYXQgd2lsbCBiZSBtdXRhdGVkXG4gKiBAcGFyYW0gbGluZXNPZkNvbnRleHQgbnVtYmVyIG9mIGNvbnRleHQgbGluZXMgd2Ugd2FudCB0byBhZGQgcHJlL3Bvc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbnRleHRUb0ZyYW1lKGxpbmVzLCBmcmFtZSwgbGluZXNPZkNvbnRleHQpIHtcbiAgICBpZiAobGluZXNPZkNvbnRleHQgPT09IHZvaWQgMCkgeyBsaW5lc09mQ29udGV4dCA9IDU7IH1cbiAgICB2YXIgbGluZW5vID0gZnJhbWUubGluZW5vIHx8IDA7XG4gICAgdmFyIG1heExpbmVzID0gbGluZXMubGVuZ3RoO1xuICAgIHZhciBzb3VyY2VMaW5lID0gTWF0aC5tYXgoTWF0aC5taW4obWF4TGluZXMsIGxpbmVubyAtIDEpLCAwKTtcbiAgICBmcmFtZS5wcmVfY29udGV4dCA9IGxpbmVzXG4gICAgICAgIC5zbGljZShNYXRoLm1heCgwLCBzb3VyY2VMaW5lIC0gbGluZXNPZkNvbnRleHQpLCBzb3VyY2VMaW5lKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChsaW5lKSB7IHJldHVybiBzbmlwTGluZShsaW5lLCAwKTsgfSk7XG4gICAgZnJhbWUuY29udGV4dF9saW5lID0gc25pcExpbmUobGluZXNbTWF0aC5taW4obWF4TGluZXMgLSAxLCBzb3VyY2VMaW5lKV0sIGZyYW1lLmNvbG5vIHx8IDApO1xuICAgIGZyYW1lLnBvc3RfY29udGV4dCA9IGxpbmVzXG4gICAgICAgIC5zbGljZShNYXRoLm1pbihzb3VyY2VMaW5lICsgMSwgbWF4TGluZXMpLCBzb3VyY2VMaW5lICsgMSArIGxpbmVzT2ZDb250ZXh0KVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChsaW5lKSB7IHJldHVybiBzbmlwTGluZShsaW5lLCAwKTsgfSk7XG59XG4vKipcbiAqIFN0cmlwIHRoZSBxdWVyeSBzdHJpbmcgYW5kIGZyYWdtZW50IG9mZiBvZiBhIGdpdmVuIFVSTCBvciBwYXRoIChpZiBwcmVzZW50KVxuICpcbiAqIEBwYXJhbSB1cmxQYXRoIEZ1bGwgVVJMIG9yIHBhdGgsIGluY2x1ZGluZyBwb3NzaWJsZSBxdWVyeSBzdHJpbmcgYW5kL29yIGZyYWdtZW50XG4gKiBAcmV0dXJucyBVUkwgb3IgcGF0aCB3aXRob3V0IHF1ZXJ5IHN0cmluZyBvciBmcmFnbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBVcmxRdWVyeUFuZEZyYWdtZW50KHVybFBhdGgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICByZXR1cm4gdXJsUGF0aC5zcGxpdCgvW1xcPyNdLywgMSlbMF07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXNjLmpzLm1hcCIsIi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgd2UncmUgaW4gdGhlIE5vZGUuanMgb3IgQnJvd3NlciBlbnZpcm9ubWVudFxuICpcbiAqIEByZXR1cm5zIEFuc3dlciB0byBnaXZlbiBxdWVzdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOb2RlRW52KCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnID8gcHJvY2VzcyA6IDApID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG59XG4vKipcbiAqIFJlcXVpcmVzIGEgbW9kdWxlIHdoaWNoIGlzIHByb3RlY3RlZCBhZ2FpbnN0IGJ1bmRsZXIgbWluaWZpY2F0aW9uLlxuICpcbiAqIEBwYXJhbSByZXF1ZXN0IFRoZSBtb2R1bGUgcGF0aCB0byByZXNvbHZlXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gZHluYW1pY1JlcXVpcmUobW9kLCByZXF1ZXN0KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgIHJldHVybiBtb2QucmVxdWlyZShyZXF1ZXN0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vZGUuanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4vKipcbiAqIE1lbW8gY2xhc3MgdXNlZCBmb3IgZGVjeWNsZSBqc29uIG9iamVjdHMuIFVzZXMgV2Vha1NldCBpZiBhdmFpbGFibGUgb3RoZXJ3aXNlIGFycmF5LlxuICovXG52YXIgTWVtbyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNZW1vKCkge1xuICAgICAgICB0aGlzLl9oYXNXZWFrU2V0ID0gdHlwZW9mIFdlYWtTZXQgPT09ICdmdW5jdGlvbic7XG4gICAgICAgIHRoaXMuX2lubmVyID0gdGhpcy5faGFzV2Vha1NldCA/IG5ldyBXZWFrU2V0KCkgOiBbXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyBvYmogdG8gcmVtZW1iZXIuXG4gICAgICogQHBhcmFtIG9iaiBPYmplY3QgdG8gcmVtZW1iZXJcbiAgICAgKi9cbiAgICBNZW1vLnByb3RvdHlwZS5tZW1vaXplID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICBpZiAodGhpcy5faGFzV2Vha1NldCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lubmVyLmhhcyhvYmopKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9pbm5lci5hZGQob2JqKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1mb3Itb2ZcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pbm5lci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5faW5uZXJbaV07XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IG9iaikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2lubmVyLnB1c2gob2JqKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBvYmplY3QgZnJvbSBpbnRlcm5hbCBzdG9yYWdlLlxuICAgICAqIEBwYXJhbSBvYmogT2JqZWN0IHRvIGZvcmdldFxuICAgICAqL1xuICAgIE1lbW8ucHJvdG90eXBlLnVubWVtb2l6ZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc1dlYWtTZXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2lubmVyLmRlbGV0ZShvYmopO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9pbm5lci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9pbm5lcltpXSA9PT0gb2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2lubmVyLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gTWVtbztcbn0oKSk7XG5leHBvcnQgeyBNZW1vIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZW1vLmpzLm1hcCIsImltcG9ydCB7IF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBodG1sVHJlZUFzU3RyaW5nIH0gZnJvbSAnLi9icm93c2VyJztcbmltcG9ydCB7IGlzRWxlbWVudCwgaXNFcnJvciwgaXNFdmVudCwgaXNJbnN0YW5jZU9mLCBpc1BsYWluT2JqZWN0LCBpc1ByaW1pdGl2ZSwgaXNTeW50aGV0aWNFdmVudCB9IGZyb20gJy4vaXMnO1xuaW1wb3J0IHsgTWVtbyB9IGZyb20gJy4vbWVtbyc7XG5pbXBvcnQgeyBnZXRGdW5jdGlvbk5hbWUgfSBmcm9tICcuL3N0YWNrdHJhY2UnO1xuaW1wb3J0IHsgdHJ1bmNhdGUgfSBmcm9tICcuL3N0cmluZyc7XG4vKipcbiAqIFdyYXAgYSBnaXZlbiBvYmplY3QgbWV0aG9kIHdpdGggYSBoaWdoZXItb3JkZXIgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0gc291cmNlIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbWV0aG9kIHRvIGJlIHdyYXBwZWQuXG4gKiBAcGFyYW0gbmFtZSBBIG5hbWUgb2YgbWV0aG9kIHRvIGJlIHdyYXBwZWQuXG4gKiBAcGFyYW0gcmVwbGFjZW1lbnRGYWN0b3J5IEEgZnVuY3Rpb24gdGhhdCBzaG91bGQgYmUgdXNlZCB0byB3cmFwIGEgZ2l2ZW4gbWV0aG9kLCByZXR1cm5pbmcgdGhlIHdyYXBwZWQgbWV0aG9kIHdoaWNoXG4gKiB3aWxsIGJlIHN1YnN0aXR1dGVkIGluIGZvciBgc291cmNlW25hbWVdYC5cbiAqIEByZXR1cm5zIHZvaWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbGwoc291cmNlLCBuYW1lLCByZXBsYWNlbWVudEZhY3RvcnkpIHtcbiAgICBpZiAoIShuYW1lIGluIHNvdXJjZSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgb3JpZ2luYWwgPSBzb3VyY2VbbmFtZV07XG4gICAgdmFyIHdyYXBwZWQgPSByZXBsYWNlbWVudEZhY3Rvcnkob3JpZ2luYWwpO1xuICAgIC8vIE1ha2Ugc3VyZSBpdCdzIGEgZnVuY3Rpb24gZmlyc3QsIGFzIHdlIG5lZWQgdG8gYXR0YWNoIGFuIGVtcHR5IHByb3RvdHlwZSBmb3IgYGRlZmluZVByb3BlcnRpZXNgIHRvIHdvcmtcbiAgICAvLyBvdGhlcndpc2UgaXQnbGwgdGhyb3cgXCJUeXBlRXJyb3I6IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIGNhbGxlZCBvbiBub24tb2JqZWN0XCJcbiAgICBpZiAodHlwZW9mIHdyYXBwZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdyYXBwZWQucHJvdG90eXBlID0gd3JhcHBlZC5wcm90b3R5cGUgfHwge307XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3cmFwcGVkLCB7XG4gICAgICAgICAgICAgICAgX19zZW50cnlfb3JpZ2luYWxfXzoge1xuICAgICAgICAgICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9yaWdpbmFsLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX09vKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGNhbiB0aHJvdyBpZiBtdWx0aXBsZSBmaWxsIGhhcHBlbnMgb24gYSBnbG9iYWwgb2JqZWN0IGxpa2UgWE1MSHR0cFJlcXVlc3RcbiAgICAgICAgICAgIC8vIEZpeGVzIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvc2VudHJ5LWphdmFzY3JpcHQvaXNzdWVzLzIwNDNcbiAgICAgICAgfVxuICAgIH1cbiAgICBzb3VyY2VbbmFtZV0gPSB3cmFwcGVkO1xufVxuLyoqXG4gKiBFbmNvZGVzIGdpdmVuIG9iamVjdCBpbnRvIHVybC1mcmllbmRseSBmb3JtYXRcbiAqXG4gKiBAcGFyYW0gb2JqZWN0IEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHNlcmlhbGl6YWJsZSB2YWx1ZXNcbiAqIEByZXR1cm5zIHN0cmluZyBFbmNvZGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cmxFbmNvZGUob2JqZWN0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iamVjdClcbiAgICAgICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG9iamVjdFtrZXldKTsgfSlcbiAgICAgICAgLmpvaW4oJyYnKTtcbn1cbi8qKlxuICogVHJhbnNmb3JtcyBhbnkgb2JqZWN0IGludG8gYW4gb2JqZWN0IGxpdGVyYWwgd2l0aCBhbGwgaXRzIGF0dHJpYnV0ZXNcbiAqIGF0dGFjaGVkIHRvIGl0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBJbml0aWFsIHNvdXJjZSB0aGF0IHdlIGhhdmUgdG8gdHJhbnNmb3JtIGluIG9yZGVyIGZvciBpdCB0byBiZSB1c2FibGUgYnkgdGhlIHNlcmlhbGl6ZXJcbiAqL1xuZnVuY3Rpb24gZ2V0V2Fsa1NvdXJjZSh2YWx1ZSkge1xuICAgIGlmIChpc0Vycm9yKHZhbHVlKSkge1xuICAgICAgICB2YXIgZXJyb3IgPSB2YWx1ZTtcbiAgICAgICAgdmFyIGVyciA9IHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICBuYW1lOiBlcnJvci5uYW1lLFxuICAgICAgICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpIGluIGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGVycm9yLCBpKSkge1xuICAgICAgICAgICAgICAgIGVycltpXSA9IGVycm9yW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcnI7XG4gICAgfVxuICAgIGlmIChpc0V2ZW50KHZhbHVlKSkge1xuICAgICAgICB2YXIgZXZlbnRfMSA9IHZhbHVlO1xuICAgICAgICB2YXIgc291cmNlID0ge307XG4gICAgICAgIHNvdXJjZS50eXBlID0gZXZlbnRfMS50eXBlO1xuICAgICAgICAvLyBBY2Nlc3NpbmcgZXZlbnQudGFyZ2V0IGNhbiB0aHJvdyAoc2VlIGdldHNlbnRyeS9yYXZlbi1qcyM4MzgsICM3NjgpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzb3VyY2UudGFyZ2V0ID0gaXNFbGVtZW50KGV2ZW50XzEudGFyZ2V0KVxuICAgICAgICAgICAgICAgID8gaHRtbFRyZWVBc1N0cmluZyhldmVudF8xLnRhcmdldClcbiAgICAgICAgICAgICAgICA6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChldmVudF8xLnRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9vTykge1xuICAgICAgICAgICAgc291cmNlLnRhcmdldCA9ICc8dW5rbm93bj4nO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzb3VyY2UuY3VycmVudFRhcmdldCA9IGlzRWxlbWVudChldmVudF8xLmN1cnJlbnRUYXJnZXQpXG4gICAgICAgICAgICAgICAgPyBodG1sVHJlZUFzU3RyaW5nKGV2ZW50XzEuY3VycmVudFRhcmdldClcbiAgICAgICAgICAgICAgICA6IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChldmVudF8xLmN1cnJlbnRUYXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfb08pIHtcbiAgICAgICAgICAgIHNvdXJjZS5jdXJyZW50VGFyZ2V0ID0gJzx1bmtub3duPic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBDdXN0b21FdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNJbnN0YW5jZU9mKHZhbHVlLCBDdXN0b21FdmVudCkpIHtcbiAgICAgICAgICAgIHNvdXJjZS5kZXRhaWwgPSBldmVudF8xLmRldGFpbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpIGluIGV2ZW50XzEpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZXZlbnRfMSwgaSkpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VbaV0gPSBldmVudF8xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3VyY2U7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKiBDYWxjdWxhdGVzIGJ5dGVzIHNpemUgb2YgaW5wdXQgc3RyaW5nICovXG5mdW5jdGlvbiB1dGY4TGVuZ3RoKHZhbHVlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICByZXR1cm4gfi1lbmNvZGVVUkkodmFsdWUpLnNwbGl0KC8lLi58Li8pLmxlbmd0aDtcbn1cbi8qKiBDYWxjdWxhdGVzIGJ5dGVzIHNpemUgb2YgaW5wdXQgb2JqZWN0ICovXG5mdW5jdGlvbiBqc29uU2l6ZSh2YWx1ZSkge1xuICAgIHJldHVybiB1dGY4TGVuZ3RoKEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG59XG4vKiogSlNEb2MgKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVUb1NpemUob2JqZWN0LCBcbi8vIERlZmF1bHQgTm9kZS5qcyBSRVBMIGRlcHRoXG5kZXB0aCwgXG4vLyAxMDBrQiwgYXMgMjAwa0IgaXMgbWF4IHBheWxvYWQgc2l6ZSwgc28gaGFsZiBzb3VuZHMgcmVhc29uYWJsZVxubWF4U2l6ZSkge1xuICAgIGlmIChkZXB0aCA9PT0gdm9pZCAwKSB7IGRlcHRoID0gMzsgfVxuICAgIGlmIChtYXhTaXplID09PSB2b2lkIDApIHsgbWF4U2l6ZSA9IDEwMCAqIDEwMjQ7IH1cbiAgICB2YXIgc2VyaWFsaXplZCA9IG5vcm1hbGl6ZShvYmplY3QsIGRlcHRoKTtcbiAgICBpZiAoanNvblNpemUoc2VyaWFsaXplZCkgPiBtYXhTaXplKSB7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVUb1NpemUob2JqZWN0LCBkZXB0aCAtIDEsIG1heFNpemUpO1xuICAgIH1cbiAgICByZXR1cm4gc2VyaWFsaXplZDtcbn1cbi8qKlxuICogVHJhbnNmb3JtIGFueSBub24tcHJpbWl0aXZlLCBCaWdJbnQsIG9yIFN5bWJvbC10eXBlIHZhbHVlIGludG8gYSBzdHJpbmcuIEFjdHMgYXMgYSBuby1vcCBvbiBzdHJpbmdzLCBudW1iZXJzLFxuICogYm9vbGVhbnMsIG51bGwsIGFuZCB1bmRlZmluZWQuXG4gKlxuICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBzdHJpbmdpZnlcbiAqIEByZXR1cm5zIEZvciBub24tcHJpbWl0aXZlLCBCaWdJbnQsIGFuZCBTeW1ib2wtdHlwZSB2YWx1ZXMsIGEgc3RyaW5nIGRlbm90aW5nIHRoZSB2YWx1ZSdzIHR5cGUsIHR5cGUgYW5kIHZhbHVlLCBvclxuICogIHR5cGUgYW5kIGBkZXNjcmlwdGlvbmAgcHJvcGVydHksIHJlc3BlY3RpdmVseS4gRm9yIG5vbi1CaWdJbnQsIG5vbi1TeW1ib2wgcHJpbWl0aXZlcywgcmV0dXJucyB0aGUgb3JpZ2luYWwgdmFsdWUsXG4gKiAgdW5jaGFuZ2VkLlxuICovXG5mdW5jdGlvbiBzZXJpYWxpemVWYWx1ZSh2YWx1ZSkge1xuICAgIHZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgICAvLyBOb2RlLmpzIFJFUEwgbm90YXRpb25cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnW29iamVjdCBPYmplY3RdJykge1xuICAgICAgICByZXR1cm4gJ1tPYmplY3RdJztcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgICAgcmV0dXJuICdbQXJyYXldJztcbiAgICB9XG4gICAgdmFyIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgcmV0dXJuIGlzUHJpbWl0aXZlKG5vcm1hbGl6ZWQpID8gbm9ybWFsaXplZCA6IHR5cGU7XG59XG4vKipcbiAqIG5vcm1hbGl6ZVZhbHVlKClcbiAqXG4gKiBUYWtlcyB1bnNlcmlhbGl6YWJsZSBpbnB1dCBhbmQgbWFrZSBpdCBzZXJpYWxpemFibGUgZnJpZW5kbHlcbiAqXG4gKiAtIHRyYW5zbGF0ZXMgdW5kZWZpbmVkL05hTiB2YWx1ZXMgdG8gXCJbdW5kZWZpbmVkXVwiL1wiW05hTl1cIiByZXNwZWN0aXZlbHksXG4gKiAtIHNlcmlhbGl6ZXMgRXJyb3Igb2JqZWN0c1xuICogLSBmaWx0ZXIgZ2xvYmFsIG9iamVjdHNcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUsIGtleSkge1xuICAgIGlmIChrZXkgPT09ICdkb21haW4nICYmIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUuX2V2ZW50cykge1xuICAgICAgICByZXR1cm4gJ1tEb21haW5dJztcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ2RvbWFpbkVtaXR0ZXInKSB7XG4gICAgICAgIHJldHVybiAnW0RvbWFpbkVtaXR0ZXJdJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlID09PSBnbG9iYWwpIHtcbiAgICAgICAgcmV0dXJuICdbR2xvYmFsXSc7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSA9PT0gd2luZG93KSB7XG4gICAgICAgIHJldHVybiAnW1dpbmRvd10nO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSA9PT0gZG9jdW1lbnQpIHtcbiAgICAgICAgcmV0dXJuICdbRG9jdW1lbnRdJztcbiAgICB9XG4gICAgLy8gUmVhY3QncyBTeW50aGV0aWNFdmVudCB0aGluZ3lcbiAgICBpZiAoaXNTeW50aGV0aWNFdmVudCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICdbU3ludGhldGljRXZlbnRdJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgdmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiAnW05hTl0nO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgICByZXR1cm4gJ1t1bmRlZmluZWRdJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gXCJbRnVuY3Rpb246IFwiICsgZ2V0RnVuY3Rpb25OYW1lKHZhbHVlKSArIFwiXVwiO1xuICAgIH1cbiAgICAvLyBzeW1ib2xzIGFuZCBiaWdpbnRzIGFyZSBjb25zaWRlcmVkIHByaW1pdGl2ZXMgYnkgVFMsIGJ1dCBhcmVuJ3QgbmF0aXZlbHkgSlNPTi1zZXJpbGFpemFibGVcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3ltYm9sJykge1xuICAgICAgICByZXR1cm4gXCJbXCIgKyBTdHJpbmcodmFsdWUpICsgXCJdXCI7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdiaWdpbnQnKSB7XG4gICAgICAgIHJldHVybiBcIltCaWdJbnQ6IFwiICsgU3RyaW5nKHZhbHVlKSArIFwiXVwiO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKipcbiAqIFdhbGtzIGFuIG9iamVjdCB0byBwZXJmb3JtIGEgbm9ybWFsaXphdGlvbiBvbiBpdFxuICpcbiAqIEBwYXJhbSBrZXkgb2Ygb2JqZWN0IHRoYXQncyB3YWxrZWQgaW4gY3VycmVudCBpdGVyYXRpb25cbiAqIEBwYXJhbSB2YWx1ZSBvYmplY3QgdG8gYmUgd2Fsa2VkXG4gKiBAcGFyYW0gZGVwdGggT3B0aW9uYWwgbnVtYmVyIGluZGljYXRpbmcgaG93IGRlZXAgc2hvdWxkIHdhbGtpbmcgYmUgcGVyZm9ybWVkXG4gKiBAcGFyYW0gbWVtbyBPcHRpb25hbCBNZW1vIGNsYXNzIGhhbmRsaW5nIGRlY3ljbGluZ1xuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZXhwb3J0IGZ1bmN0aW9uIHdhbGsoa2V5LCB2YWx1ZSwgZGVwdGgsIG1lbW8pIHtcbiAgICBpZiAoZGVwdGggPT09IHZvaWQgMCkgeyBkZXB0aCA9ICtJbmZpbml0eTsgfVxuICAgIGlmIChtZW1vID09PSB2b2lkIDApIHsgbWVtbyA9IG5ldyBNZW1vKCk7IH1cbiAgICAvLyBJZiB3ZSByZWFjaCB0aGUgbWF4aW11bSBkZXB0aCwgc2VyaWFsaXplIHdoYXRldmVyIGhhcyBsZWZ0XG4gICAgaWYgKGRlcHRoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVWYWx1ZSh2YWx1ZSk7XG4gICAgfVxuICAgIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2VzcyAqL1xuICAgIC8vIElmIHZhbHVlIGltcGxlbWVudHMgYHRvSlNPTmAgbWV0aG9kLCBjYWxsIGl0IGFuZCByZXR1cm4gZWFybHlcbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgdmFsdWUudG9KU09OID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS50b0pTT04oKTtcbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MgKi9cbiAgICAvLyBJZiBub3JtYWxpemVkIHZhbHVlIGlzIGEgcHJpbWl0aXZlLCB0aGVyZSBhcmUgbm8gYnJhbmNoZXMgbGVmdCB0byB3YWxrLCBzbyB3ZSBjYW4ganVzdCBiYWlsIG91dCwgYXMgdGhlcmVzIG5vIHBvaW50IGluIGdvaW5nIGRvd24gdGhhdCBicmFuY2ggYW55IGZ1cnRoZXJcbiAgICB2YXIgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlLCBrZXkpO1xuICAgIGlmIChpc1ByaW1pdGl2ZShub3JtYWxpemVkKSkge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgICB9XG4gICAgLy8gQ3JlYXRlIHNvdXJjZSB0aGF0IHdlIHdpbGwgdXNlIGZvciBuZXh0IGl0dGVyYXRpb25zLCBlaXRoZXIgb2JqZWN0aWZpZWQgZXJyb3Igb2JqZWN0IChFcnJvciB0eXBlIHdpdGggZXh0cmFjdGVkIGtleXM6dmFsdWUgcGFpcnMpIG9yIHRoZSBpbnB1dCBpdHNlbGZcbiAgICB2YXIgc291cmNlID0gZ2V0V2Fsa1NvdXJjZSh2YWx1ZSk7XG4gICAgLy8gQ3JlYXRlIGFuIGFjY3VtdWxhdG9yIHRoYXQgd2lsbCBhY3QgYXMgYSBwYXJlbnQgZm9yIGFsbCBmdXR1cmUgaXR0ZXJhdGlvbnMgb2YgdGhhdCBicmFuY2hcbiAgICB2YXIgYWNjID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyBbXSA6IHt9O1xuICAgIC8vIElmIHdlIGFscmVhZHkgd2Fsa2VkIHRoYXQgYnJhbmNoLCBiYWlsIG91dCwgYXMgaXQncyBjaXJjdWxhciByZWZlcmVuY2VcbiAgICBpZiAobWVtby5tZW1vaXplKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gJ1tDaXJjdWxhciB+XSc7XG4gICAgfVxuICAgIC8vIFdhbGsgYWxsIGtleXMgb2YgdGhlIHNvdXJjZVxuICAgIGZvciAodmFyIGlubmVyS2V5IGluIHNvdXJjZSkge1xuICAgICAgICAvLyBBdm9pZCBpdGVyYXRpbmcgb3ZlciBmaWVsZHMgaW4gdGhlIHByb3RvdHlwZSBpZiB0aGV5J3ZlIHNvbWVob3cgYmVlbiBleHBvc2VkIHRvIGVudW1lcmF0aW9uLlxuICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGlubmVyS2V5KSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgd2FsayB0aHJvdWdoIGFsbCB0aGUgY2hpbGQgbm9kZXNcbiAgICAgICAgYWNjW2lubmVyS2V5XSA9IHdhbGsoaW5uZXJLZXksIHNvdXJjZVtpbm5lcktleV0sIGRlcHRoIC0gMSwgbWVtbyk7XG4gICAgfVxuICAgIC8vIE9uY2Ugd2Fsa2VkIHRocm91Z2ggYWxsIHRoZSBicmFuY2hlcywgcmVtb3ZlIHRoZSBwYXJlbnQgZnJvbSBtZW1vIHN0b3JhZ2VcbiAgICBtZW1vLnVubWVtb2l6ZSh2YWx1ZSk7XG4gICAgLy8gUmV0dXJuIGFjY3VtdWxhdGVkIHZhbHVlc1xuICAgIHJldHVybiBhY2M7XG59XG4vKipcbiAqIG5vcm1hbGl6ZSgpXG4gKlxuICogLSBDcmVhdGVzIGEgY29weSB0byBwcmV2ZW50IG9yaWdpbmFsIGlucHV0IG11dGF0aW9uXG4gKiAtIFNraXAgbm9uLWVudW1lcmFibGVyc1xuICogLSBDYWxscyBgdG9KU09OYCBpZiBpbXBsZW1lbnRlZFxuICogLSBSZW1vdmVzIGNpcmN1bGFyIHJlZmVyZW5jZXNcbiAqIC0gVHJhbnNsYXRlcyBub24tc2VyaWFsaXplYWJsZSB2YWx1ZXMgKHVuZGVmaW5lZC9OYU4vRnVuY3Rpb25zKSB0byBzZXJpYWxpemFibGUgZm9ybWF0XG4gKiAtIFRyYW5zbGF0ZXMga25vd24gZ2xvYmFsIG9iamVjdHMvQ2xhc3NlcyB0byBhIHN0cmluZyByZXByZXNlbnRhdGlvbnNcbiAqIC0gVGFrZXMgY2FyZSBvZiBFcnJvciBvYmplY3RzIHNlcmlhbGl6YXRpb25cbiAqIC0gT3B0aW9uYWxseSBsaW1pdCBkZXB0aCBvZiBmaW5hbCBvdXRwdXRcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUoaW5wdXQsIGRlcHRoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoaW5wdXQsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7IHJldHVybiB3YWxrKGtleSwgdmFsdWUsIGRlcHRoKTsgfSkpO1xuICAgIH1cbiAgICBjYXRjaCAoX29PKSB7XG4gICAgICAgIHJldHVybiAnKipub24tc2VyaWFsaXphYmxlKionO1xuICAgIH1cbn1cbi8qKlxuICogR2l2ZW4gYW55IGNhcHR1cmVkIGV4Y2VwdGlvbiwgZXh0cmFjdCBpdHMga2V5cyBhbmQgY3JlYXRlIGEgc29ydGVkXG4gKiBhbmQgdHJ1bmNhdGVkIGxpc3QgdGhhdCB3aWxsIGJlIHVzZWQgaW5zaWRlIHRoZSBldmVudCBtZXNzYWdlLlxuICogZWcuIGBOb24tZXJyb3IgZXhjZXB0aW9uIGNhcHR1cmVkIHdpdGgga2V5czogZm9vLCBiYXIsIGJhemBcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0RXhjZXB0aW9uS2V5c0Zvck1lc3NhZ2UoZXhjZXB0aW9uLCBtYXhMZW5ndGgpIHtcbiAgICBpZiAobWF4TGVuZ3RoID09PSB2b2lkIDApIHsgbWF4TGVuZ3RoID0gNDA7IH1cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGdldFdhbGtTb3VyY2UoZXhjZXB0aW9uKSk7XG4gICAga2V5cy5zb3J0KCk7XG4gICAgaWYgKCFrZXlzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gJ1tvYmplY3QgaGFzIG5vIGtleXNdJztcbiAgICB9XG4gICAgaWYgKGtleXNbMF0ubGVuZ3RoID49IG1heExlbmd0aCkge1xuICAgICAgICByZXR1cm4gdHJ1bmNhdGUoa2V5c1swXSwgbWF4TGVuZ3RoKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaW5jbHVkZWRLZXlzID0ga2V5cy5sZW5ndGg7IGluY2x1ZGVkS2V5cyA+IDA7IGluY2x1ZGVkS2V5cy0tKSB7XG4gICAgICAgIHZhciBzZXJpYWxpemVkID0ga2V5cy5zbGljZSgwLCBpbmNsdWRlZEtleXMpLmpvaW4oJywgJyk7XG4gICAgICAgIGlmIChzZXJpYWxpemVkLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluY2x1ZGVkS2V5cyA9PT0ga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzZXJpYWxpemVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVuY2F0ZShzZXJpYWxpemVkLCBtYXhMZW5ndGgpO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG59XG4vKipcbiAqIEdpdmVuIGFueSBvYmplY3QsIHJldHVybiB0aGUgbmV3IG9iamVjdCB3aXRoIHJlbW92ZWQga2V5cyB0aGF0IHZhbHVlIHdhcyBgdW5kZWZpbmVkYC5cbiAqIFdvcmtzIHJlY3Vyc2l2ZWx5IG9uIG9iamVjdHMgYW5kIGFycmF5cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyb3BVbmRlZmluZWRLZXlzKHZhbCkge1xuICAgIHZhciBlXzEsIF9hO1xuICAgIGlmIChpc1BsYWluT2JqZWN0KHZhbCkpIHtcbiAgICAgICAgdmFyIG9iaiA9IHZhbDtcbiAgICAgICAgdmFyIHJ2ID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKE9iamVjdC5rZXlzKG9iaikpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJ2W2tleV0gPSBkcm9wVW5kZWZpbmVkS2V5cyhvYmpba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJ2O1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAgIHJldHVybiB2YWwubWFwKGRyb3BVbmRlZmluZWRLZXlzKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9iamVjdC5qcy5tYXAiLCJ2YXIgZGVmYXVsdEZ1bmN0aW9uTmFtZSA9ICc8YW5vbnltb3VzPic7XG4vKipcbiAqIFNhZmVseSBleHRyYWN0IGZ1bmN0aW9uIG5hbWUgZnJvbSBpdHNlbGZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bmN0aW9uTmFtZShmbikge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICghZm4gfHwgdHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdEZ1bmN0aW9uTmFtZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4ubmFtZSB8fCBkZWZhdWx0RnVuY3Rpb25OYW1lO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBKdXN0IGFjY2Vzc2luZyBjdXN0b20gcHJvcHMgaW4gc29tZSBTZWxlbml1bSBlbnZpcm9ubWVudHNcbiAgICAgICAgLy8gY2FuIGNhdXNlIGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGV4Y2VwdGlvbiAoc2VlIHJhdmVuLWpzIzQ5NSkuXG4gICAgICAgIHJldHVybiBkZWZhdWx0RnVuY3Rpb25OYW1lO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YWNrdHJhY2UuanMubWFwIiwiaW1wb3J0IHsgaXNSZWdFeHAsIGlzU3RyaW5nIH0gZnJvbSAnLi9pcyc7XG4vKipcbiAqIFRydW5jYXRlcyBnaXZlbiBzdHJpbmcgdG8gdGhlIG1heGltdW0gY2hhcmFjdGVycyBjb3VudFxuICpcbiAqIEBwYXJhbSBzdHIgQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgc2VyaWFsaXphYmxlIHZhbHVlc1xuICogQHBhcmFtIG1heCBNYXhpbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIGluIHRydW5jYXRlZCBzdHJpbmcgKDAgPSB1bmxpbWl0ZWQpXG4gKiBAcmV0dXJucyBzdHJpbmcgRW5jb2RlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJ1bmNhdGUoc3RyLCBtYXgpIHtcbiAgICBpZiAobWF4ID09PSB2b2lkIDApIHsgbWF4ID0gMDsgfVxuICAgIGlmICh0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJyB8fCBtYXggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgcmV0dXJuIHN0ci5sZW5ndGggPD0gbWF4ID8gc3RyIDogc3RyLnN1YnN0cigwLCBtYXgpICsgXCIuLi5cIjtcbn1cbi8qKlxuICogVGhpcyBpcyBiYXNpY2FsbHkganVzdCBgdHJpbV9saW5lYCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS9ibG9iL21hc3Rlci9zcmMvc2VudHJ5L2xhbmcvamF2YXNjcmlwdC9wcm9jZXNzb3IucHkjTDY3XG4gKlxuICogQHBhcmFtIHN0ciBBbiBvYmplY3QgdGhhdCBjb250YWlucyBzZXJpYWxpemFibGUgdmFsdWVzXG4gKiBAcGFyYW0gbWF4IE1heGltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgaW4gdHJ1bmNhdGVkIHN0cmluZ1xuICogQHJldHVybnMgc3RyaW5nIEVuY29kZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNuaXBMaW5lKGxpbmUsIGNvbG5vKSB7XG4gICAgdmFyIG5ld0xpbmUgPSBsaW5lO1xuICAgIHZhciBsbCA9IG5ld0xpbmUubGVuZ3RoO1xuICAgIGlmIChsbCA8PSAxNTApIHtcbiAgICAgICAgcmV0dXJuIG5ld0xpbmU7XG4gICAgfVxuICAgIGlmIChjb2xubyA+IGxsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgICBjb2xubyA9IGxsO1xuICAgIH1cbiAgICB2YXIgc3RhcnQgPSBNYXRoLm1heChjb2xubyAtIDYwLCAwKTtcbiAgICBpZiAoc3RhcnQgPCA1KSB7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICB9XG4gICAgdmFyIGVuZCA9IE1hdGgubWluKHN0YXJ0ICsgMTQwLCBsbCk7XG4gICAgaWYgKGVuZCA+IGxsIC0gNSkge1xuICAgICAgICBlbmQgPSBsbDtcbiAgICB9XG4gICAgaWYgKGVuZCA9PT0gbGwpIHtcbiAgICAgICAgc3RhcnQgPSBNYXRoLm1heChlbmQgLSAxNDAsIDApO1xuICAgIH1cbiAgICBuZXdMaW5lID0gbmV3TGluZS5zbGljZShzdGFydCwgZW5kKTtcbiAgICBpZiAoc3RhcnQgPiAwKSB7XG4gICAgICAgIG5ld0xpbmUgPSBcIid7c25pcH0gXCIgKyBuZXdMaW5lO1xuICAgIH1cbiAgICBpZiAoZW5kIDwgbGwpIHtcbiAgICAgICAgbmV3TGluZSArPSAnIHtzbmlwfSc7XG4gICAgfVxuICAgIHJldHVybiBuZXdMaW5lO1xufVxuLyoqXG4gKiBKb2luIHZhbHVlcyBpbiBhcnJheVxuICogQHBhcmFtIGlucHV0IGFycmF5IG9mIHZhbHVlcyB0byBiZSBqb2luZWQgdG9nZXRoZXJcbiAqIEBwYXJhbSBkZWxpbWl0ZXIgc3RyaW5nIHRvIGJlIHBsYWNlZCBpbi1iZXR3ZWVuIHZhbHVlc1xuICogQHJldHVybnMgSm9pbmVkIHZhbHVlc1xuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVKb2luKGlucHV0LCBkZWxpbWl0ZXIpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgdmFyIG91dHB1dCA9IFtdO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcHJlZmVyLWZvci1vZlxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaW5wdXRbaV07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBvdXRwdXQucHVzaChTdHJpbmcodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgb3V0cHV0LnB1c2goJ1t2YWx1ZSBjYW5ub3QgYmUgc2VyaWFsaXplZF0nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0LmpvaW4oZGVsaW1pdGVyKTtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSB2YWx1ZSBtYXRjaGVzIGEgcmVnZXggb3IgaW5jbHVkZXMgdGhlIHN0cmluZ1xuICogQHBhcmFtIHZhbHVlIFRoZSBzdHJpbmcgdmFsdWUgdG8gYmUgY2hlY2tlZCBhZ2FpbnN0XG4gKiBAcGFyYW0gcGF0dGVybiBFaXRoZXIgYSByZWdleCBvciBhIHN0cmluZyB0aGF0IG11c3QgYmUgY29udGFpbmVkIGluIHZhbHVlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc01hdGNoaW5nUGF0dGVybih2YWx1ZSwgcGF0dGVybikge1xuICAgIGlmICghaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7XG4gICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QodmFsdWUpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZS5pbmRleE9mKHBhdHRlcm4pICE9PSAtMTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RyaW5nLmpzLm1hcCIsImltcG9ydCB7IGdldEdsb2JhbE9iamVjdCB9IGZyb20gJy4vbWlzYyc7XG5pbXBvcnQgeyBkeW5hbWljUmVxdWlyZSwgaXNOb2RlRW52IH0gZnJvbSAnLi9ub2RlJztcbi8qKlxuICogQSBUaW1lc3RhbXBTb3VyY2UgaW1wbGVtZW50YXRpb24gZm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBzdXBwb3J0IHRoZSBQZXJmb3JtYW5jZSBXZWIgQVBJIG5hdGl2ZWx5LlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIFRpbWVzdGFtcFNvdXJjZSBkb2VzIG5vdCB1c2UgYSBtb25vdG9uaWMgY2xvY2suIEEgY2FsbCB0byBgbm93U2Vjb25kc2AgbWF5IHJldHVybiBhIHRpbWVzdGFtcCBlYXJsaWVyXG4gKiB0aGFuIGEgcHJldmlvdXNseSByZXR1cm5lZCB2YWx1ZS4gV2UgZG8gbm90IHRyeSB0byBlbXVsYXRlIGEgbW9ub3RvbmljIGJlaGF2aW9yIGluIG9yZGVyIHRvIGZhY2lsaXRhdGUgZGVidWdnaW5nLiBJdFxuICogaXMgbW9yZSBvYnZpb3VzIHRvIGV4cGxhaW4gXCJ3aHkgZG9lcyBteSBzcGFuIGhhdmUgbmVnYXRpdmUgZHVyYXRpb25cIiB0aGFuIFwid2h5IG15IHNwYW5zIGhhdmUgemVybyBkdXJhdGlvblwiLlxuICovXG52YXIgZGF0ZVRpbWVzdGFtcFNvdXJjZSA9IHtcbiAgICBub3dTZWNvbmRzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBEYXRlLm5vdygpIC8gMTAwMDsgfSxcbn07XG4vKipcbiAqIFJldHVybnMgYSB3cmFwcGVyIGFyb3VuZCB0aGUgbmF0aXZlIFBlcmZvcm1hbmNlIEFQSSBicm93c2VyIGltcGxlbWVudGF0aW9uLCBvciB1bmRlZmluZWQgZm9yIGJyb3dzZXJzIHRoYXQgZG8gbm90XG4gKiBzdXBwb3J0IHRoZSBBUEkuXG4gKlxuICogV3JhcHBpbmcgdGhlIG5hdGl2ZSBBUEkgd29ya3MgYXJvdW5kIGRpZmZlcmVuY2VzIGluIGJlaGF2aW9yIGZyb20gZGlmZmVyZW50IGJyb3dzZXJzLlxuICovXG5mdW5jdGlvbiBnZXRCcm93c2VyUGVyZm9ybWFuY2UoKSB7XG4gICAgdmFyIHBlcmZvcm1hbmNlID0gZ2V0R2xvYmFsT2JqZWN0KCkucGVyZm9ybWFuY2U7XG4gICAgaWYgKCFwZXJmb3JtYW5jZSB8fCAhcGVyZm9ybWFuY2Uubm93KSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIFJlcGxhY2UgcGVyZm9ybWFuY2UudGltZU9yaWdpbiB3aXRoIG91ciBvd24gdGltZU9yaWdpbiBiYXNlZCBvbiBEYXRlLm5vdygpLlxuICAgIC8vXG4gICAgLy8gVGhpcyBpcyBhIHBhcnRpYWwgd29ya2Fyb3VuZCBmb3IgYnJvd3NlcnMgcmVwb3J0aW5nIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gc3VjaCB0aGF0IHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gK1xuICAgIC8vIHBlcmZvcm1hbmNlLm5vdygpIGdpdmVzIGEgZGF0ZSBhcmJpdHJhcmlseSBpbiB0aGUgcGFzdC5cbiAgICAvL1xuICAgIC8vIEFkZGl0aW9uYWxseSwgY29tcHV0aW5nIHRpbWVPcmlnaW4gaW4gdGhpcyB3YXkgZmlsbHMgdGhlIGdhcCBmb3IgYnJvd3NlcnMgd2hlcmUgcGVyZm9ybWFuY2UudGltZU9yaWdpbiBpc1xuICAgIC8vIHVuZGVmaW5lZC5cbiAgICAvL1xuICAgIC8vIFRoZSBhc3N1bXB0aW9uIHRoYXQgcGVyZm9ybWFuY2UudGltZU9yaWdpbiArIHBlcmZvcm1hbmNlLm5vdygpIH49IERhdGUubm93KCkgaXMgZmxhd2VkLCBidXQgd2UgZGVwZW5kIG9uIGl0IHRvXG4gICAgLy8gaW50ZXJhY3Qgd2l0aCBkYXRhIGNvbWluZyBvdXQgb2YgcGVyZm9ybWFuY2UgZW50cmllcy5cbiAgICAvL1xuICAgIC8vIE5vdGUgdGhhdCBkZXNwaXRlIHJlY29tbWVuZGF0aW9ucyBhZ2FpbnN0IGl0IGluIHRoZSBzcGVjLCBicm93c2VycyBpbXBsZW1lbnQgdGhlIFBlcmZvcm1hbmNlIEFQSSB3aXRoIGEgY2xvY2sgdGhhdFxuICAgIC8vIG1pZ2h0IHN0b3Agd2hlbiB0aGUgY29tcHV0ZXIgaXMgYXNsZWVwIChhbmQgcGVyaGFwcyB1bmRlciBvdGhlciBjaXJjdW1zdGFuY2VzKS4gU3VjaCBiZWhhdmlvciBjYXVzZXNcbiAgICAvLyBwZXJmb3JtYW5jZS50aW1lT3JpZ2luICsgcGVyZm9ybWFuY2Uubm93KCkgdG8gaGF2ZSBhbiBhcmJpdHJhcnkgc2tldyBvdmVyIERhdGUubm93KCkuIEluIGxhcHRvcCBjb21wdXRlcnMsIHdlIGhhdmVcbiAgICAvLyBvYnNlcnZlZCBza2V3cyB0aGF0IGNhbiBiZSBhcyBsb25nIGFzIGRheXMsIHdlZWtzIG9yIG1vbnRocy5cbiAgICAvL1xuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy8yNTkwLlxuICAgIC8vXG4gICAgLy8gQlVHOiBkZXNwaXRlIG91ciBiZXN0IGludGVudGlvbnMsIHRoaXMgd29ya2Fyb3VuZCBoYXMgaXRzIGxpbWl0YXRpb25zLiBJdCBtb3N0bHkgYWRkcmVzc2VzIHRpbWluZ3Mgb2YgcGFnZWxvYWRcbiAgICAvLyB0cmFuc2FjdGlvbnMsIGJ1dCBpZ25vcmVzIHRoZSBza2V3IGJ1aWx0IHVwIG92ZXIgdGltZSB0aGF0IGNhbiBhdmVyc2VseSBhZmZlY3QgdGltZXN0YW1wcyBvZiBuYXZpZ2F0aW9uXG4gICAgLy8gdHJhbnNhY3Rpb25zIG9mIGxvbmctbGl2ZWQgd2ViIHBhZ2VzLlxuICAgIHZhciB0aW1lT3JpZ2luID0gRGF0ZS5ub3coKSAtIHBlcmZvcm1hbmNlLm5vdygpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5vdzogZnVuY3Rpb24gKCkgeyByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7IH0sXG4gICAgICAgIHRpbWVPcmlnaW46IHRpbWVPcmlnaW4sXG4gICAgfTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbmF0aXZlIFBlcmZvcm1hbmNlIEFQSSBpbXBsZW1lbnRhdGlvbiBmcm9tIE5vZGUuanMuIFJldHVybnMgdW5kZWZpbmVkIGluIG9sZCBOb2RlLmpzIHZlcnNpb25zIHRoYXQgZG9uJ3RcbiAqIGltcGxlbWVudCB0aGUgQVBJLlxuICovXG5mdW5jdGlvbiBnZXROb2RlUGVyZm9ybWFuY2UoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHBlcmZIb29rcyA9IGR5bmFtaWNSZXF1aXJlKG1vZHVsZSwgJ3BlcmZfaG9va3MnKTtcbiAgICAgICAgcmV0dXJuIHBlcmZIb29rcy5wZXJmb3JtYW5jZTtcbiAgICB9XG4gICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4vKipcbiAqIFRoZSBQZXJmb3JtYW5jZSBBUEkgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBjdXJyZW50IHBsYXRmb3JtLCBpZiBhdmFpbGFibGUuXG4gKi9cbnZhciBwbGF0Zm9ybVBlcmZvcm1hbmNlID0gaXNOb2RlRW52KCkgPyBnZXROb2RlUGVyZm9ybWFuY2UoKSA6IGdldEJyb3dzZXJQZXJmb3JtYW5jZSgpO1xudmFyIHRpbWVzdGFtcFNvdXJjZSA9IHBsYXRmb3JtUGVyZm9ybWFuY2UgPT09IHVuZGVmaW5lZFxuICAgID8gZGF0ZVRpbWVzdGFtcFNvdXJjZVxuICAgIDoge1xuICAgICAgICBub3dTZWNvbmRzOiBmdW5jdGlvbiAoKSB7IHJldHVybiAocGxhdGZvcm1QZXJmb3JtYW5jZS50aW1lT3JpZ2luICsgcGxhdGZvcm1QZXJmb3JtYW5jZS5ub3coKSkgLyAxMDAwOyB9LFxuICAgIH07XG4vKipcbiAqIFJldHVybnMgYSB0aW1lc3RhbXAgaW4gc2Vjb25kcyBzaW5jZSB0aGUgVU5JWCBlcG9jaCB1c2luZyB0aGUgRGF0ZSBBUEkuXG4gKi9cbmV4cG9ydCB2YXIgZGF0ZVRpbWVzdGFtcEluU2Vjb25kcyA9IGRhdGVUaW1lc3RhbXBTb3VyY2Uubm93U2Vjb25kcy5iaW5kKGRhdGVUaW1lc3RhbXBTb3VyY2UpO1xuLyoqXG4gKiBSZXR1cm5zIGEgdGltZXN0YW1wIGluIHNlY29uZHMgc2luY2UgdGhlIFVOSVggZXBvY2ggdXNpbmcgZWl0aGVyIHRoZSBQZXJmb3JtYW5jZSBvciBEYXRlIEFQSXMsIGRlcGVuZGluZyBvbiB0aGVcbiAqIGF2YWlsYWJpbGl0eSBvZiB0aGUgUGVyZm9ybWFuY2UgQVBJLlxuICpcbiAqIFNlZSBgdXNpbmdQZXJmb3JtYW5jZUFQSWAgdG8gdGVzdCB3aGV0aGVyIHRoZSBQZXJmb3JtYW5jZSBBUEkgaXMgdXNlZC5cbiAqXG4gKiBCVUc6IE5vdGUgdGhhdCBiZWNhdXNlIG9mIGhvdyBicm93c2VycyBpbXBsZW1lbnQgdGhlIFBlcmZvcm1hbmNlIEFQSSwgdGhlIGNsb2NrIG1pZ2h0IHN0b3Agd2hlbiB0aGUgY29tcHV0ZXIgaXNcbiAqIGFzbGVlcC4gVGhpcyBjcmVhdGVzIGEgc2tldyBiZXR3ZWVuIGBkYXRlVGltZXN0YW1wSW5TZWNvbmRzYCBhbmQgYHRpbWVzdGFtcEluU2Vjb25kc2AuIFRoZVxuICogc2tldyBjYW4gZ3JvdyB0byBhcmJpdHJhcnkgYW1vdW50cyBsaWtlIGRheXMsIHdlZWtzIG9yIG1vbnRocy5cbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy8yNTkwLlxuICovXG5leHBvcnQgdmFyIHRpbWVzdGFtcEluU2Vjb25kcyA9IHRpbWVzdGFtcFNvdXJjZS5ub3dTZWNvbmRzLmJpbmQodGltZXN0YW1wU291cmNlKTtcbi8vIFJlLWV4cG9ydGVkIHdpdGggYW4gb2xkIG5hbWUgZm9yIGJhY2t3YXJkcy1jb21wYXRpYmlsaXR5LlxuZXhwb3J0IHZhciB0aW1lc3RhbXBXaXRoTXMgPSB0aW1lc3RhbXBJblNlY29uZHM7XG4vKipcbiAqIEEgYm9vbGVhbiB0aGF0IGlzIHRydWUgd2hlbiB0aW1lc3RhbXBJblNlY29uZHMgdXNlcyB0aGUgUGVyZm9ybWFuY2UgQVBJIHRvIHByb2R1Y2UgbW9ub3RvbmljIHRpbWVzdGFtcHMuXG4gKi9cbmV4cG9ydCB2YXIgdXNpbmdQZXJmb3JtYW5jZUFQSSA9IHBsYXRmb3JtUGVyZm9ybWFuY2UgIT09IHVuZGVmaW5lZDtcbi8qKlxuICogVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgdGhlIFVOSVggZXBvY2guIFRoaXMgdmFsdWUgaXMgb25seSB1c2FibGUgaW4gYSBicm93c2VyLCBhbmQgb25seSB3aGVuIHRoZVxuICogcGVyZm9ybWFuY2UgQVBJIGlzIGF2YWlsYWJsZS5cbiAqL1xuZXhwb3J0IHZhciBicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGVyZm9ybWFuY2UgPSBnZXRHbG9iYWxPYmplY3QoKS5wZXJmb3JtYW5jZTtcbiAgICBpZiAoIXBlcmZvcm1hbmNlKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChwZXJmb3JtYW5jZS50aW1lT3JpZ2luKSB7XG4gICAgICAgIHJldHVybiBwZXJmb3JtYW5jZS50aW1lT3JpZ2luO1xuICAgIH1cbiAgICAvLyBXaGlsZSBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0IGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgcGVyZm9ybWFuY2UudGltZU9yaWdpbiwgcGVyZm9ybWFuY2UudGltZU9yaWdpblxuICAgIC8vIGlzIG5vdCBhcyB3aWRlbHkgc3VwcG9ydGVkLiBOYW1lbHksIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gaXMgdW5kZWZpbmVkIGluIFNhZmFyaSBhcyBvZiB3cml0aW5nLlxuICAgIC8vIEFsc28gYXMgb2Ygd3JpdGluZywgcGVyZm9ybWFuY2UudGltaW5nIGlzIG5vdCBhdmFpbGFibGUgaW4gV2ViIFdvcmtlcnMgaW4gbWFpbnN0cmVhbSBicm93c2Vycywgc28gaXQgaXMgbm90IGFsd2F5c1xuICAgIC8vIGEgdmFsaWQgZmFsbGJhY2suIEluIHRoZSBhYnNlbmNlIG9mIGFuIGluaXRpYWwgdGltZSBwcm92aWRlZCBieSB0aGUgYnJvd3NlciwgZmFsbGJhY2sgdG8gdGhlIGN1cnJlbnQgdGltZSBmcm9tIHRoZVxuICAgIC8vIERhdGUgQVBJLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgIHJldHVybiAocGVyZm9ybWFuY2UudGltaW5nICYmIHBlcmZvcm1hbmNlLnRpbWluZy5uYXZpZ2F0aW9uU3RhcnQpIHx8IERhdGUubm93KCk7XG59KSgpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZS5qcy5tYXAiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi5lcnJvciB7XFxyXFxuICBjb2xvcjogcmVkO1xcclxcbn1cXHJcXG4ucHJpbWFyeSB7XFxyXFxuICBjb2xvcjogYmx1ZTtcXHJcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vd2ViYXBwL3NyYy9wZXJmb3JtYW5jZS9tYWluLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtFQUNFLFVBQVU7QUFDWjtBQUNBO0VBQ0UsV0FBVztBQUNiXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5lcnJvciB7XFxyXFxuICBjb2xvcjogcmVkO1xcclxcbn1cXHJcXG4ucHJpbWFyeSB7XFxyXFxuICBjb2xvcjogYmx1ZTtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KGFyciwgaSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKGFycikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KGFyciwgaSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KGFyciwgaSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8ICEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSAhPSBudWxsKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH1cblxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKGFycikgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gYXJyOyB9XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKSB7XG4gIHZhciBfaXRlbSA9IF9zbGljZWRUb0FycmF5KGl0ZW0sIDQpLFxuICAgICAgY29udGVudCA9IF9pdGVtWzFdLFxuICAgICAgY3NzTWFwcGluZyA9IF9pdGVtWzNdO1xuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIi8qIGdsb2JhbCB3aW5kb3cgKi9cbmltcG9ydCBwb255ZmlsbCBmcm9tICcuL3BvbnlmaWxsLmpzJztcblxudmFyIHJvb3Q7XG5cbmlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHNlbGY7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSB3aW5kb3c7XG59IGVsc2UgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBnbG9iYWw7XG59IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gIHJvb3QgPSBtb2R1bGU7XG59IGVsc2Uge1xuICByb290ID0gRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbn1cblxudmFyIHJlc3VsdCA9IHBvbnlmaWxsKHJvb3QpO1xuZXhwb3J0IGRlZmF1bHQgcmVzdWx0O1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc3ltYm9sT2JzZXJ2YWJsZVBvbnlmaWxsKHJvb3QpIHtcblx0dmFyIHJlc3VsdDtcblx0dmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5cdGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0aWYgKFN5bWJvbC5vYnNlcnZhYmxlKSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2wub2JzZXJ2YWJsZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0ID0gU3ltYm9sKCdvYnNlcnZhYmxlJyk7XG5cdFx0XHRTeW1ib2wub2JzZXJ2YWJsZSA9IHJlc3VsdDtcblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0cmVzdWx0ID0gJ0BAb2JzZXJ2YWJsZSc7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufTtcbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHRsb2FkZWQ6IGZhbHNlLFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcblx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5obWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZSA9IE9iamVjdC5jcmVhdGUobW9kdWxlKTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCAnZXhwb3J0cycsIHtcblx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdHNldDogKCkgPT4ge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFUyBNb2R1bGVzIG1heSBub3QgYXNzaWduIG1vZHVsZS5leHBvcnRzIG9yIGV4cG9ydHMuKiwgVXNlIEVTTSBleHBvcnQgc3ludGF4LCBpbnN0ZWFkOiAnICsgbW9kdWxlLmlkKTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiLyohXG4gKiBWdWUuanMgdjIuNi4xMlxuICogKGMpIDIwMTQtMjAyMCBFdmFuIFlvdVxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG4vKiAgKi9cblxudmFyIGVtcHR5T2JqZWN0ID0gT2JqZWN0LmZyZWV6ZSh7fSk7XG5cbi8vIFRoZXNlIGhlbHBlcnMgcHJvZHVjZSBiZXR0ZXIgVk0gY29kZSBpbiBKUyBlbmdpbmVzIGR1ZSB0byB0aGVpclxuLy8gZXhwbGljaXRuZXNzIGFuZCBmdW5jdGlvbiBpbmxpbmluZy5cbmZ1bmN0aW9uIGlzVW5kZWYgKHYpIHtcbiAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSBudWxsXG59XG5cbmZ1bmN0aW9uIGlzRGVmICh2KSB7XG4gIHJldHVybiB2ICE9PSB1bmRlZmluZWQgJiYgdiAhPT0gbnVsbFxufVxuXG5mdW5jdGlvbiBpc1RydWUgKHYpIHtcbiAgcmV0dXJuIHYgPT09IHRydWVcbn1cblxuZnVuY3Rpb24gaXNGYWxzZSAodikge1xuICByZXR1cm4gdiA9PT0gZmFsc2Vcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB2YWx1ZSBpcyBwcmltaXRpdmUuXG4gKi9cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlICh2YWx1ZSkge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHxcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8XG4gICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXG4gICAgdHlwZW9mIHZhbHVlID09PSAnc3ltYm9sJyB8fFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nXG4gIClcbn1cblxuLyoqXG4gKiBRdWljayBvYmplY3QgY2hlY2sgLSB0aGlzIGlzIHByaW1hcmlseSB1c2VkIHRvIHRlbGxcbiAqIE9iamVjdHMgZnJvbSBwcmltaXRpdmUgdmFsdWVzIHdoZW4gd2Uga25vdyB0aGUgdmFsdWVcbiAqIGlzIGEgSlNPTi1jb21wbGlhbnQgdHlwZS5cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QgKG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnXG59XG5cbi8qKlxuICogR2V0IHRoZSByYXcgdHlwZSBzdHJpbmcgb2YgYSB2YWx1ZSwgZS5nLiwgW29iamVjdCBPYmplY3RdLlxuICovXG52YXIgX3RvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuZnVuY3Rpb24gdG9SYXdUeXBlICh2YWx1ZSkge1xuICByZXR1cm4gX3RvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKVxufVxuXG4vKipcbiAqIFN0cmljdCBvYmplY3QgdHlwZSBjaGVjay4gT25seSByZXR1cm5zIHRydWVcbiAqIGZvciBwbGFpbiBKYXZhU2NyaXB0IG9iamVjdHMuXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QgKG9iaikge1xuICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSdcbn1cblxuZnVuY3Rpb24gaXNSZWdFeHAgKHYpIHtcbiAgcmV0dXJuIF90b1N0cmluZy5jYWxsKHYpID09PSAnW29iamVjdCBSZWdFeHBdJ1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHZhbCBpcyBhIHZhbGlkIGFycmF5IGluZGV4LlxuICovXG5mdW5jdGlvbiBpc1ZhbGlkQXJyYXlJbmRleCAodmFsKSB7XG4gIHZhciBuID0gcGFyc2VGbG9hdChTdHJpbmcodmFsKSk7XG4gIHJldHVybiBuID49IDAgJiYgTWF0aC5mbG9vcihuKSA9PT0gbiAmJiBpc0Zpbml0ZSh2YWwpXG59XG5cbmZ1bmN0aW9uIGlzUHJvbWlzZSAodmFsKSB7XG4gIHJldHVybiAoXG4gICAgaXNEZWYodmFsKSAmJlxuICAgIHR5cGVvZiB2YWwudGhlbiA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiB2YWwuY2F0Y2ggPT09ICdmdW5jdGlvbidcbiAgKVxufVxuXG4vKipcbiAqIENvbnZlcnQgYSB2YWx1ZSB0byBhIHN0cmluZyB0aGF0IGlzIGFjdHVhbGx5IHJlbmRlcmVkLlxuICovXG5mdW5jdGlvbiB0b1N0cmluZyAodmFsKSB7XG4gIHJldHVybiB2YWwgPT0gbnVsbFxuICAgID8gJydcbiAgICA6IEFycmF5LmlzQXJyYXkodmFsKSB8fCAoaXNQbGFpbk9iamVjdCh2YWwpICYmIHZhbC50b1N0cmluZyA9PT0gX3RvU3RyaW5nKVxuICAgICAgPyBKU09OLnN0cmluZ2lmeSh2YWwsIG51bGwsIDIpXG4gICAgICA6IFN0cmluZyh2YWwpXG59XG5cbi8qKlxuICogQ29udmVydCBhbiBpbnB1dCB2YWx1ZSB0byBhIG51bWJlciBmb3IgcGVyc2lzdGVuY2UuXG4gKiBJZiB0aGUgY29udmVyc2lvbiBmYWlscywgcmV0dXJuIG9yaWdpbmFsIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIgKHZhbCkge1xuICB2YXIgbiA9IHBhcnNlRmxvYXQodmFsKTtcbiAgcmV0dXJuIGlzTmFOKG4pID8gdmFsIDogblxufVxuXG4vKipcbiAqIE1ha2UgYSBtYXAgYW5kIHJldHVybiBhIGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhIGtleVxuICogaXMgaW4gdGhhdCBtYXAuXG4gKi9cbmZ1bmN0aW9uIG1ha2VNYXAgKFxuICBzdHIsXG4gIGV4cGVjdHNMb3dlckNhc2Vcbikge1xuICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIGxpc3QgPSBzdHIuc3BsaXQoJywnKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgbWFwW2xpc3RbaV1dID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZXhwZWN0c0xvd2VyQ2FzZVxuICAgID8gZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbC50b0xvd2VyQ2FzZSgpXTsgfVxuICAgIDogZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbF07IH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHRhZyBpcyBhIGJ1aWx0LWluIHRhZy5cbiAqL1xudmFyIGlzQnVpbHRJblRhZyA9IG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50JywgdHJ1ZSk7XG5cbi8qKlxuICogQ2hlY2sgaWYgYW4gYXR0cmlidXRlIGlzIGEgcmVzZXJ2ZWQgYXR0cmlidXRlLlxuICovXG52YXIgaXNSZXNlcnZlZEF0dHJpYnV0ZSA9IG1ha2VNYXAoJ2tleSxyZWYsc2xvdCxzbG90LXNjb3BlLGlzJyk7XG5cbi8qKlxuICogUmVtb3ZlIGFuIGl0ZW0gZnJvbSBhbiBhcnJheS5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlIChhcnIsIGl0ZW0pIHtcbiAgaWYgKGFyci5sZW5ndGgpIHtcbiAgICB2YXIgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgcmV0dXJuIGFyci5zcGxpY2UoaW5kZXgsIDEpXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciBhbiBvYmplY3QgaGFzIHRoZSBwcm9wZXJ0eS5cbiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmZ1bmN0aW9uIGhhc093biAob2JqLCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpXG59XG5cbi8qKlxuICogQ3JlYXRlIGEgY2FjaGVkIHZlcnNpb24gb2YgYSBwdXJlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjYWNoZWQgKGZuKSB7XG4gIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAoZnVuY3Rpb24gY2FjaGVkRm4gKHN0cikge1xuICAgIHZhciBoaXQgPSBjYWNoZVtzdHJdO1xuICAgIHJldHVybiBoaXQgfHwgKGNhY2hlW3N0cl0gPSBmbihzdHIpKVxuICB9KVxufVxuXG4vKipcbiAqIENhbWVsaXplIGEgaHlwaGVuLWRlbGltaXRlZCBzdHJpbmcuXG4gKi9cbnZhciBjYW1lbGl6ZVJFID0gLy0oXFx3KS9nO1xudmFyIGNhbWVsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIGZ1bmN0aW9uIChfLCBjKSB7IHJldHVybiBjID8gYy50b1VwcGVyQ2FzZSgpIDogJyc7IH0pXG59KTtcblxuLyoqXG4gKiBDYXBpdGFsaXplIGEgc3RyaW5nLlxuICovXG52YXIgY2FwaXRhbGl6ZSA9IGNhY2hlZChmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSlcbn0pO1xuXG4vKipcbiAqIEh5cGhlbmF0ZSBhIGNhbWVsQ2FzZSBzdHJpbmcuXG4gKi9cbnZhciBoeXBoZW5hdGVSRSA9IC9cXEIoW0EtWl0pL2c7XG52YXIgaHlwaGVuYXRlID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnLSQxJykudG9Mb3dlckNhc2UoKVxufSk7XG5cbi8qKlxuICogU2ltcGxlIGJpbmQgcG9seWZpbGwgZm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBzdXBwb3J0IGl0LFxuICogZS5nLiwgUGhhbnRvbUpTIDEueC4gVGVjaG5pY2FsbHksIHdlIGRvbid0IG5lZWQgdGhpcyBhbnltb3JlXG4gKiBzaW5jZSBuYXRpdmUgYmluZCBpcyBub3cgcGVyZm9ybWFudCBlbm91Z2ggaW4gbW9zdCBicm93c2Vycy5cbiAqIEJ1dCByZW1vdmluZyBpdCB3b3VsZCBtZWFuIGJyZWFraW5nIGNvZGUgdGhhdCB3YXMgYWJsZSB0byBydW4gaW5cbiAqIFBoYW50b21KUyAxLngsIHNvIHRoaXMgbXVzdCBiZSBrZXB0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LlxuICovXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBwb2x5ZmlsbEJpbmQgKGZuLCBjdHgpIHtcbiAgZnVuY3Rpb24gYm91bmRGbiAoYSkge1xuICAgIHZhciBsID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICByZXR1cm4gbFxuICAgICAgPyBsID4gMVxuICAgICAgICA/IGZuLmFwcGx5KGN0eCwgYXJndW1lbnRzKVxuICAgICAgICA6IGZuLmNhbGwoY3R4LCBhKVxuICAgICAgOiBmbi5jYWxsKGN0eClcbiAgfVxuXG4gIGJvdW5kRm4uX2xlbmd0aCA9IGZuLmxlbmd0aDtcbiAgcmV0dXJuIGJvdW5kRm5cbn1cblxuZnVuY3Rpb24gbmF0aXZlQmluZCAoZm4sIGN0eCkge1xuICByZXR1cm4gZm4uYmluZChjdHgpXG59XG5cbnZhciBiaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcbiAgPyBuYXRpdmVCaW5kXG4gIDogcG9seWZpbGxCaW5kO1xuXG4vKipcbiAqIENvbnZlcnQgYW4gQXJyYXktbGlrZSBvYmplY3QgdG8gYSByZWFsIEFycmF5LlxuICovXG5mdW5jdGlvbiB0b0FycmF5IChsaXN0LCBzdGFydCkge1xuICBzdGFydCA9IHN0YXJ0IHx8IDA7XG4gIHZhciBpID0gbGlzdC5sZW5ndGggLSBzdGFydDtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSkge1xuICAgIHJldFtpXSA9IGxpc3RbaSArIHN0YXJ0XTtcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbi8qKlxuICogTWl4IHByb3BlcnRpZXMgaW50byB0YXJnZXQgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBleHRlbmQgKHRvLCBfZnJvbSkge1xuICBmb3IgKHZhciBrZXkgaW4gX2Zyb20pIHtcbiAgICB0b1trZXldID0gX2Zyb21ba2V5XTtcbiAgfVxuICByZXR1cm4gdG9cbn1cblxuLyoqXG4gKiBNZXJnZSBhbiBBcnJheSBvZiBPYmplY3RzIGludG8gYSBzaW5nbGUgT2JqZWN0LlxuICovXG5mdW5jdGlvbiB0b09iamVjdCAoYXJyKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYXJyW2ldKSB7XG4gICAgICBleHRlbmQocmVzLCBhcnJbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cbi8qKlxuICogUGVyZm9ybSBubyBvcGVyYXRpb24uXG4gKiBTdHViYmluZyBhcmdzIHRvIG1ha2UgRmxvdyBoYXBweSB3aXRob3V0IGxlYXZpbmcgdXNlbGVzcyB0cmFuc3BpbGVkIGNvZGVcbiAqIHdpdGggLi4ucmVzdCAoaHR0cHM6Ly9mbG93Lm9yZy9ibG9nLzIwMTcvMDUvMDcvU3RyaWN0LUZ1bmN0aW9uLUNhbGwtQXJpdHkvKS5cbiAqL1xuZnVuY3Rpb24gbm9vcCAoYSwgYiwgYykge31cblxuLyoqXG4gKiBBbHdheXMgcmV0dXJuIGZhbHNlLlxuICovXG52YXIgbm8gPSBmdW5jdGlvbiAoYSwgYiwgYykgeyByZXR1cm4gZmFsc2U7IH07XG5cbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHNhbWUgdmFsdWUuXG4gKi9cbnZhciBpZGVudGl0eSA9IGZ1bmN0aW9uIChfKSB7IHJldHVybiBfOyB9O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgc3RyaW5nIGNvbnRhaW5pbmcgc3RhdGljIGtleXMgZnJvbSBjb21waWxlciBtb2R1bGVzLlxuICovXG5mdW5jdGlvbiBnZW5TdGF0aWNLZXlzIChtb2R1bGVzKSB7XG4gIHJldHVybiBtb2R1bGVzLnJlZHVjZShmdW5jdGlvbiAoa2V5cywgbSkge1xuICAgIHJldHVybiBrZXlzLmNvbmNhdChtLnN0YXRpY0tleXMgfHwgW10pXG4gIH0sIFtdKS5qb2luKCcsJylcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gdmFsdWVzIGFyZSBsb29zZWx5IGVxdWFsIC0gdGhhdCBpcyxcbiAqIGlmIHRoZXkgYXJlIHBsYWluIG9iamVjdHMsIGRvIHRoZXkgaGF2ZSB0aGUgc2FtZSBzaGFwZT9cbiAqL1xuZnVuY3Rpb24gbG9vc2VFcXVhbCAoYSwgYikge1xuICBpZiAoYSA9PT0gYikgeyByZXR1cm4gdHJ1ZSB9XG4gIHZhciBpc09iamVjdEEgPSBpc09iamVjdChhKTtcbiAgdmFyIGlzT2JqZWN0QiA9IGlzT2JqZWN0KGIpO1xuICBpZiAoaXNPYmplY3RBICYmIGlzT2JqZWN0Qikge1xuICAgIHRyeSB7XG4gICAgICB2YXIgaXNBcnJheUEgPSBBcnJheS5pc0FycmF5KGEpO1xuICAgICAgdmFyIGlzQXJyYXlCID0gQXJyYXkuaXNBcnJheShiKTtcbiAgICAgIGlmIChpc0FycmF5QSAmJiBpc0FycmF5Qikge1xuICAgICAgICByZXR1cm4gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoZnVuY3Rpb24gKGUsIGkpIHtcbiAgICAgICAgICByZXR1cm4gbG9vc2VFcXVhbChlLCBiW2ldKVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgRGF0ZSAmJiBiIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpXG4gICAgICB9IGVsc2UgaWYgKCFpc0FycmF5QSAmJiAhaXNBcnJheUIpIHtcbiAgICAgICAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMoYSk7XG4gICAgICAgIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKGIpO1xuICAgICAgICByZXR1cm4ga2V5c0EubGVuZ3RoID09PSBrZXlzQi5sZW5ndGggJiYga2V5c0EuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHJldHVybiBsb29zZUVxdWFsKGFba2V5XSwgYltrZXldKVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSBlbHNlIGlmICghaXNPYmplY3RBICYmICFpc09iamVjdEIpIHtcbiAgICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiB0aGUgZmlyc3QgaW5kZXggYXQgd2hpY2ggYSBsb29zZWx5IGVxdWFsIHZhbHVlIGNhbiBiZVxuICogZm91bmQgaW4gdGhlIGFycmF5IChpZiB2YWx1ZSBpcyBhIHBsYWluIG9iamVjdCwgdGhlIGFycmF5IG11c3RcbiAqIGNvbnRhaW4gYW4gb2JqZWN0IG9mIHRoZSBzYW1lIHNoYXBlKSwgb3IgLTEgaWYgaXQgaXMgbm90IHByZXNlbnQuXG4gKi9cbmZ1bmN0aW9uIGxvb3NlSW5kZXhPZiAoYXJyLCB2YWwpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobG9vc2VFcXVhbChhcnJbaV0sIHZhbCkpIHsgcmV0dXJuIGkgfVxuICB9XG4gIHJldHVybiAtMVxufVxuXG4vKipcbiAqIEVuc3VyZSBhIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbmx5IG9uY2UuXG4gKi9cbmZ1bmN0aW9uIG9uY2UgKGZuKSB7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG59XG5cbnZhciBTU1JfQVRUUiA9ICdkYXRhLXNlcnZlci1yZW5kZXJlZCc7XG5cbnZhciBBU1NFVF9UWVBFUyA9IFtcbiAgJ2NvbXBvbmVudCcsXG4gICdkaXJlY3RpdmUnLFxuICAnZmlsdGVyJ1xuXTtcblxudmFyIExJRkVDWUNMRV9IT09LUyA9IFtcbiAgJ2JlZm9yZUNyZWF0ZScsXG4gICdjcmVhdGVkJyxcbiAgJ2JlZm9yZU1vdW50JyxcbiAgJ21vdW50ZWQnLFxuICAnYmVmb3JlVXBkYXRlJyxcbiAgJ3VwZGF0ZWQnLFxuICAnYmVmb3JlRGVzdHJveScsXG4gICdkZXN0cm95ZWQnLFxuICAnYWN0aXZhdGVkJyxcbiAgJ2RlYWN0aXZhdGVkJyxcbiAgJ2Vycm9yQ2FwdHVyZWQnLFxuICAnc2VydmVyUHJlZmV0Y2gnXG5dO1xuXG4vKiAgKi9cblxuXG5cbnZhciBjb25maWcgPSAoe1xuICAvKipcbiAgICogT3B0aW9uIG1lcmdlIHN0cmF0ZWdpZXMgKHVzZWQgaW4gY29yZS91dGlsL29wdGlvbnMpXG4gICAqL1xuICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHN1cHByZXNzIHdhcm5pbmdzLlxuICAgKi9cbiAgc2lsZW50OiBmYWxzZSxcblxuICAvKipcbiAgICogU2hvdyBwcm9kdWN0aW9uIG1vZGUgdGlwIG1lc3NhZ2Ugb24gYm9vdD9cbiAgICovXG4gIHByb2R1Y3Rpb25UaXA6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIGRldnRvb2xzXG4gICAqL1xuICBkZXZ0b29sczogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyxcblxuICAvKipcbiAgICogV2hldGhlciB0byByZWNvcmQgcGVyZlxuICAgKi9cbiAgcGVyZm9ybWFuY2U6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBFcnJvciBoYW5kbGVyIGZvciB3YXRjaGVyIGVycm9yc1xuICAgKi9cbiAgZXJyb3JIYW5kbGVyOiBudWxsLFxuXG4gIC8qKlxuICAgKiBXYXJuIGhhbmRsZXIgZm9yIHdhdGNoZXIgd2FybnNcbiAgICovXG4gIHdhcm5IYW5kbGVyOiBudWxsLFxuXG4gIC8qKlxuICAgKiBJZ25vcmUgY2VydGFpbiBjdXN0b20gZWxlbWVudHNcbiAgICovXG4gIGlnbm9yZWRFbGVtZW50czogW10sXG5cbiAgLyoqXG4gICAqIEN1c3RvbSB1c2VyIGtleSBhbGlhc2VzIGZvciB2LW9uXG4gICAqL1xuICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAga2V5Q29kZXM6IE9iamVjdC5jcmVhdGUobnVsbCksXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdGFnIGlzIHJlc2VydmVkIHNvIHRoYXQgaXQgY2Fubm90IGJlIHJlZ2lzdGVyZWQgYXMgYVxuICAgKiBjb21wb25lbnQuIFRoaXMgaXMgcGxhdGZvcm0tZGVwZW5kZW50IGFuZCBtYXkgYmUgb3ZlcndyaXR0ZW4uXG4gICAqL1xuICBpc1Jlc2VydmVkVGFnOiBubyxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gYXR0cmlidXRlIGlzIHJlc2VydmVkIHNvIHRoYXQgaXQgY2Fubm90IGJlIHVzZWQgYXMgYSBjb21wb25lbnRcbiAgICogcHJvcC4gVGhpcyBpcyBwbGF0Zm9ybS1kZXBlbmRlbnQgYW5kIG1heSBiZSBvdmVyd3JpdHRlbi5cbiAgICovXG4gIGlzUmVzZXJ2ZWRBdHRyOiBubyxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB0YWcgaXMgYW4gdW5rbm93biBlbGVtZW50LlxuICAgKiBQbGF0Zm9ybS1kZXBlbmRlbnQuXG4gICAqL1xuICBpc1Vua25vd25FbGVtZW50OiBubyxcblxuICAvKipcbiAgICogR2V0IHRoZSBuYW1lc3BhY2Ugb2YgYW4gZWxlbWVudFxuICAgKi9cbiAgZ2V0VGFnTmFtZXNwYWNlOiBub29wLFxuXG4gIC8qKlxuICAgKiBQYXJzZSB0aGUgcmVhbCB0YWcgbmFtZSBmb3IgdGhlIHNwZWNpZmljIHBsYXRmb3JtLlxuICAgKi9cbiAgcGFyc2VQbGF0Zm9ybVRhZ05hbWU6IGlkZW50aXR5LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBhdHRyaWJ1dGUgbXVzdCBiZSBib3VuZCB1c2luZyBwcm9wZXJ0eSwgZS5nLiB2YWx1ZVxuICAgKiBQbGF0Zm9ybS1kZXBlbmRlbnQuXG4gICAqL1xuICBtdXN0VXNlUHJvcDogbm8sXG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gdXBkYXRlcyBhc3luY2hyb25vdXNseS4gSW50ZW5kZWQgdG8gYmUgdXNlZCBieSBWdWUgVGVzdCBVdGlsc1xuICAgKiBUaGlzIHdpbGwgc2lnbmlmaWNhbnRseSByZWR1Y2UgcGVyZm9ybWFuY2UgaWYgc2V0IHRvIGZhbHNlLlxuICAgKi9cbiAgYXN5bmM6IHRydWUsXG5cbiAgLyoqXG4gICAqIEV4cG9zZWQgZm9yIGxlZ2FjeSByZWFzb25zXG4gICAqL1xuICBfbGlmZWN5Y2xlSG9va3M6IExJRkVDWUNMRV9IT09LU1xufSk7XG5cbi8qICAqL1xuXG4vKipcbiAqIHVuaWNvZGUgbGV0dGVycyB1c2VkIGZvciBwYXJzaW5nIGh0bWwgdGFncywgY29tcG9uZW50IG5hbWVzIGFuZCBwcm9wZXJ0eSBwYXRocy5cbiAqIHVzaW5nIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNTMvc2VtYW50aWNzLXNjcmlwdGluZy5odG1sI3BvdGVudGlhbGN1c3RvbWVsZW1lbnRuYW1lXG4gKiBza2lwcGluZyBcXHUxMDAwMC1cXHVFRkZGRiBkdWUgdG8gaXQgZnJlZXppbmcgdXAgUGhhbnRvbUpTXG4gKi9cbnZhciB1bmljb2RlUmVnRXhwID0gL2EtekEtWlxcdTAwQjdcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDNGLVxcdTIwNDBcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkQvO1xuXG4vKipcbiAqIENoZWNrIGlmIGEgc3RyaW5nIHN0YXJ0cyB3aXRoICQgb3IgX1xuICovXG5mdW5jdGlvbiBpc1Jlc2VydmVkIChzdHIpIHtcbiAgdmFyIGMgPSAoc3RyICsgJycpLmNoYXJDb2RlQXQoMCk7XG4gIHJldHVybiBjID09PSAweDI0IHx8IGMgPT09IDB4NUZcbn1cblxuLyoqXG4gKiBEZWZpbmUgYSBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gZGVmIChvYmosIGtleSwgdmFsLCBlbnVtZXJhYmxlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIHZhbHVlOiB2YWwsXG4gICAgZW51bWVyYWJsZTogISFlbnVtZXJhYmxlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuLyoqXG4gKiBQYXJzZSBzaW1wbGUgcGF0aC5cbiAqL1xudmFyIGJhaWxSRSA9IG5ldyBSZWdFeHAoKFwiW15cIiArICh1bmljb2RlUmVnRXhwLnNvdXJjZSkgKyBcIi4kX1xcXFxkXVwiKSk7XG5mdW5jdGlvbiBwYXJzZVBhdGggKHBhdGgpIHtcbiAgaWYgKGJhaWxSRS50ZXN0KHBhdGgpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghb2JqKSB7IHJldHVybiB9XG4gICAgICBvYmogPSBvYmpbc2VnbWVudHNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gb2JqXG4gIH1cbn1cblxuLyogICovXG5cbi8vIGNhbiB3ZSB1c2UgX19wcm90b19fP1xudmFyIGhhc1Byb3RvID0gJ19fcHJvdG9fXycgaW4ge307XG5cbi8vIEJyb3dzZXIgZW52aXJvbm1lbnQgc25pZmZpbmdcbnZhciBpbkJyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbnZhciBpbldlZXggPSB0eXBlb2YgV1hFbnZpcm9ubWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgISFXWEVudmlyb25tZW50LnBsYXRmb3JtO1xudmFyIHdlZXhQbGF0Zm9ybSA9IGluV2VleCAmJiBXWEVudmlyb25tZW50LnBsYXRmb3JtLnRvTG93ZXJDYXNlKCk7XG52YXIgVUEgPSBpbkJyb3dzZXIgJiYgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbnZhciBpc0lFID0gVUEgJiYgL21zaWV8dHJpZGVudC8udGVzdChVQSk7XG52YXIgaXNJRTkgPSBVQSAmJiBVQS5pbmRleE9mKCdtc2llIDkuMCcpID4gMDtcbnZhciBpc0VkZ2UgPSBVQSAmJiBVQS5pbmRleE9mKCdlZGdlLycpID4gMDtcbnZhciBpc0FuZHJvaWQgPSAoVUEgJiYgVUEuaW5kZXhPZignYW5kcm9pZCcpID4gMCkgfHwgKHdlZXhQbGF0Zm9ybSA9PT0gJ2FuZHJvaWQnKTtcbnZhciBpc0lPUyA9IChVQSAmJiAvaXBob25lfGlwYWR8aXBvZHxpb3MvLnRlc3QoVUEpKSB8fCAod2VleFBsYXRmb3JtID09PSAnaW9zJyk7XG52YXIgaXNDaHJvbWUgPSBVQSAmJiAvY2hyb21lXFwvXFxkKy8udGVzdChVQSkgJiYgIWlzRWRnZTtcbnZhciBpc1BoYW50b21KUyA9IFVBICYmIC9waGFudG9tanMvLnRlc3QoVUEpO1xudmFyIGlzRkYgPSBVQSAmJiBVQS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pO1xuXG4vLyBGaXJlZm94IGhhcyBhIFwid2F0Y2hcIiBmdW5jdGlvbiBvbiBPYmplY3QucHJvdG90eXBlLi4uXG52YXIgbmF0aXZlV2F0Y2ggPSAoe30pLndhdGNoO1xuXG52YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG5pZiAoaW5Ccm93c2VyKSB7XG4gIHRyeSB7XG4gICAgdmFyIG9wdHMgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3B0cywgJ3Bhc3NpdmUnLCAoe1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQgKCkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzI4NVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0LXBhc3NpdmUnLCBudWxsLCBvcHRzKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuLy8gdGhpcyBuZWVkcyB0byBiZSBsYXp5LWV2YWxlZCBiZWNhdXNlIHZ1ZSBtYXkgYmUgcmVxdWlyZWQgYmVmb3JlXG4vLyB2dWUtc2VydmVyLXJlbmRlcmVyIGNhbiBzZXQgVlVFX0VOVlxudmFyIF9pc1NlcnZlcjtcbnZhciBpc1NlcnZlclJlbmRlcmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKF9pc1NlcnZlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFpbkJyb3dzZXIgJiYgIWluV2VleCAmJiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZGV0ZWN0IHByZXNlbmNlIG9mIHZ1ZS1zZXJ2ZXItcmVuZGVyZXIgYW5kIGF2b2lkXG4gICAgICAvLyBXZWJwYWNrIHNoaW1taW5nIHRoZSBwcm9jZXNzXG4gICAgICBfaXNTZXJ2ZXIgPSBnbG9iYWxbJ3Byb2Nlc3MnXSAmJiBnbG9iYWxbJ3Byb2Nlc3MnXS5lbnYuVlVFX0VOViA9PT0gJ3NlcnZlcic7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9pc1NlcnZlciA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gX2lzU2VydmVyXG59O1xuXG4vLyBkZXRlY3QgZGV2dG9vbHNcbnZhciBkZXZ0b29scyA9IGluQnJvd3NlciAmJiB3aW5kb3cuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGlzTmF0aXZlIChDdG9yKSB7XG4gIHJldHVybiB0eXBlb2YgQ3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoQ3Rvci50b1N0cmluZygpKVxufVxuXG52YXIgaGFzU3ltYm9sID1cbiAgdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoU3ltYm9sKSAmJlxuICB0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUmVmbGVjdC5vd25LZXlzKTtcblxudmFyIF9TZXQ7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8gLy8gJGZsb3ctZGlzYWJsZS1saW5lXG5pZiAodHlwZW9mIFNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoU2V0KSkge1xuICAvLyB1c2UgbmF0aXZlIFNldCB3aGVuIGF2YWlsYWJsZS5cbiAgX1NldCA9IFNldDtcbn0gZWxzZSB7XG4gIC8vIGEgbm9uLXN0YW5kYXJkIFNldCBwb2x5ZmlsbCB0aGF0IG9ubHkgd29ya3Mgd2l0aCBwcmltaXRpdmUga2V5cy5cbiAgX1NldCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNldCAoKSB7XG4gICAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gaGFzIChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldFtrZXldID09PSB0cnVlXG4gICAgfTtcbiAgICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCAoa2V5KSB7XG4gICAgICB0aGlzLnNldFtrZXldID0gdHJ1ZTtcbiAgICB9O1xuICAgIFNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfTtcblxuICAgIHJldHVybiBTZXQ7XG4gIH0oKSk7XG59XG5cbi8qICAqL1xuXG52YXIgd2FybiA9IG5vb3A7XG52YXIgdGlwID0gbm9vcDtcbnZhciBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlID0gKG5vb3ApOyAvLyB3b3JrIGFyb3VuZCBmbG93IGNoZWNrXG52YXIgZm9ybWF0Q29tcG9uZW50TmFtZSA9IChub29wKTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIGhhc0NvbnNvbGUgPSB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCc7XG4gIHZhciBjbGFzc2lmeVJFID0gLyg/Ol58Wy1fXSkoXFx3KS9nO1xuICB2YXIgY2xhc3NpZnkgPSBmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBzdHJcbiAgICAucmVwbGFjZShjbGFzc2lmeVJFLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50b1VwcGVyQ2FzZSgpOyB9KVxuICAgIC5yZXBsYWNlKC9bLV9dL2csICcnKTsgfTtcblxuICB3YXJuID0gZnVuY3Rpb24gKG1zZywgdm0pIHtcbiAgICB2YXIgdHJhY2UgPSB2bSA/IGdlbmVyYXRlQ29tcG9uZW50VHJhY2Uodm0pIDogJyc7XG5cbiAgICBpZiAoY29uZmlnLndhcm5IYW5kbGVyKSB7XG4gICAgICBjb25maWcud2FybkhhbmRsZXIuY2FsbChudWxsLCBtc2csIHZtLCB0cmFjZSk7XG4gICAgfSBlbHNlIGlmIChoYXNDb25zb2xlICYmICghY29uZmlnLnNpbGVudCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW1Z1ZSB3YXJuXTogXCIgKyBtc2cgKyB0cmFjZSkpO1xuICAgIH1cbiAgfTtcblxuICB0aXAgPSBmdW5jdGlvbiAobXNnLCB2bSkge1xuICAgIGlmIChoYXNDb25zb2xlICYmICghY29uZmlnLnNpbGVudCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltWdWUgdGlwXTogXCIgKyBtc2cgKyAoXG4gICAgICAgIHZtID8gZ2VuZXJhdGVDb21wb25lbnRUcmFjZSh2bSkgOiAnJ1xuICAgICAgKSk7XG4gICAgfVxuICB9O1xuXG4gIGZvcm1hdENvbXBvbmVudE5hbWUgPSBmdW5jdGlvbiAodm0sIGluY2x1ZGVGaWxlKSB7XG4gICAgaWYgKHZtLiRyb290ID09PSB2bSkge1xuICAgICAgcmV0dXJuICc8Um9vdD4nXG4gICAgfVxuICAgIHZhciBvcHRpb25zID0gdHlwZW9mIHZtID09PSAnZnVuY3Rpb24nICYmIHZtLmNpZCAhPSBudWxsXG4gICAgICA/IHZtLm9wdGlvbnNcbiAgICAgIDogdm0uX2lzVnVlXG4gICAgICAgID8gdm0uJG9wdGlvbnMgfHwgdm0uY29uc3RydWN0b3Iub3B0aW9uc1xuICAgICAgICA6IHZtO1xuICAgIHZhciBuYW1lID0gb3B0aW9ucy5uYW1lIHx8IG9wdGlvbnMuX2NvbXBvbmVudFRhZztcbiAgICB2YXIgZmlsZSA9IG9wdGlvbnMuX19maWxlO1xuICAgIGlmICghbmFtZSAmJiBmaWxlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBmaWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLnZ1ZSQvKTtcbiAgICAgIG5hbWUgPSBtYXRjaCAmJiBtYXRjaFsxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgKG5hbWUgPyAoXCI8XCIgKyAoY2xhc3NpZnkobmFtZSkpICsgXCI+XCIpIDogXCI8QW5vbnltb3VzPlwiKSArXG4gICAgICAoZmlsZSAmJiBpbmNsdWRlRmlsZSAhPT0gZmFsc2UgPyAoXCIgYXQgXCIgKyBmaWxlKSA6ICcnKVxuICAgIClcbiAgfTtcblxuICB2YXIgcmVwZWF0ID0gZnVuY3Rpb24gKHN0ciwgbikge1xuICAgIHZhciByZXMgPSAnJztcbiAgICB3aGlsZSAobikge1xuICAgICAgaWYgKG4gJSAyID09PSAxKSB7IHJlcyArPSBzdHI7IH1cbiAgICAgIGlmIChuID4gMSkgeyBzdHIgKz0gc3RyOyB9XG4gICAgICBuID4+PSAxO1xuICAgIH1cbiAgICByZXR1cm4gcmVzXG4gIH07XG5cbiAgZ2VuZXJhdGVDb21wb25lbnRUcmFjZSA9IGZ1bmN0aW9uICh2bSkge1xuICAgIGlmICh2bS5faXNWdWUgJiYgdm0uJHBhcmVudCkge1xuICAgICAgdmFyIHRyZWUgPSBbXTtcbiAgICAgIHZhciBjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2UgPSAwO1xuICAgICAgd2hpbGUgKHZtKSB7XG4gICAgICAgIGlmICh0cmVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2YXIgbGFzdCA9IHRyZWVbdHJlZS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBpZiAobGFzdC5jb25zdHJ1Y3RvciA9PT0gdm0uY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSsrO1xuICAgICAgICAgICAgdm0gPSB2bS4kcGFyZW50O1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSA+IDApIHtcbiAgICAgICAgICAgIHRyZWVbdHJlZS5sZW5ndGggLSAxXSA9IFtsYXN0LCBjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2VdO1xuICAgICAgICAgICAgY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJlZS5wdXNoKHZtKTtcbiAgICAgICAgdm0gPSB2bS4kcGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuICdcXG5cXG5mb3VuZCBpblxcblxcbicgKyB0cmVlXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKHZtLCBpKSB7IHJldHVybiAoXCJcIiArIChpID09PSAwID8gJy0tLT4gJyA6IHJlcGVhdCgnICcsIDUgKyBpICogMikpICsgKEFycmF5LmlzQXJyYXkodm0pXG4gICAgICAgICAgICA/ICgoZm9ybWF0Q29tcG9uZW50TmFtZSh2bVswXSkpICsgXCIuLi4gKFwiICsgKHZtWzFdKSArIFwiIHJlY3Vyc2l2ZSBjYWxscylcIilcbiAgICAgICAgICAgIDogZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpKTsgfSlcbiAgICAgICAgLmpvaW4oJ1xcbicpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXCJcXG5cXG4oZm91bmQgaW4gXCIgKyAoZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpICsgXCIpXCIpXG4gICAgfVxuICB9O1xufVxuXG4vKiAgKi9cblxudmFyIHVpZCA9IDA7XG5cbi8qKlxuICogQSBkZXAgaXMgYW4gb2JzZXJ2YWJsZSB0aGF0IGNhbiBoYXZlIG11bHRpcGxlXG4gKiBkaXJlY3RpdmVzIHN1YnNjcmliaW5nIHRvIGl0LlxuICovXG52YXIgRGVwID0gZnVuY3Rpb24gRGVwICgpIHtcbiAgdGhpcy5pZCA9IHVpZCsrO1xuICB0aGlzLnN1YnMgPSBbXTtcbn07XG5cbkRlcC5wcm90b3R5cGUuYWRkU3ViID0gZnVuY3Rpb24gYWRkU3ViIChzdWIpIHtcbiAgdGhpcy5zdWJzLnB1c2goc3ViKTtcbn07XG5cbkRlcC5wcm90b3R5cGUucmVtb3ZlU3ViID0gZnVuY3Rpb24gcmVtb3ZlU3ViIChzdWIpIHtcbiAgcmVtb3ZlKHRoaXMuc3Vicywgc3ViKTtcbn07XG5cbkRlcC5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gZGVwZW5kICgpIHtcbiAgaWYgKERlcC50YXJnZXQpIHtcbiAgICBEZXAudGFyZ2V0LmFkZERlcCh0aGlzKTtcbiAgfVxufTtcblxuRGVwLnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiBub3RpZnkgKCkge1xuICAvLyBzdGFiaWxpemUgdGhlIHN1YnNjcmliZXIgbGlzdCBmaXJzdFxuICB2YXIgc3VicyA9IHRoaXMuc3Vicy5zbGljZSgpO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhY29uZmlnLmFzeW5jKSB7XG4gICAgLy8gc3VicyBhcmVuJ3Qgc29ydGVkIGluIHNjaGVkdWxlciBpZiBub3QgcnVubmluZyBhc3luY1xuICAgIC8vIHdlIG5lZWQgdG8gc29ydCB0aGVtIG5vdyB0byBtYWtlIHN1cmUgdGhleSBmaXJlIGluIGNvcnJlY3RcbiAgICAvLyBvcmRlclxuICAgIHN1YnMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5pZCAtIGIuaWQ7IH0pO1xuICB9XG4gIGZvciAodmFyIGkgPSAwLCBsID0gc3Vicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBzdWJzW2ldLnVwZGF0ZSgpO1xuICB9XG59O1xuXG4vLyBUaGUgY3VycmVudCB0YXJnZXQgd2F0Y2hlciBiZWluZyBldmFsdWF0ZWQuXG4vLyBUaGlzIGlzIGdsb2JhbGx5IHVuaXF1ZSBiZWNhdXNlIG9ubHkgb25lIHdhdGNoZXJcbi8vIGNhbiBiZSBldmFsdWF0ZWQgYXQgYSB0aW1lLlxuRGVwLnRhcmdldCA9IG51bGw7XG52YXIgdGFyZ2V0U3RhY2sgPSBbXTtcblxuZnVuY3Rpb24gcHVzaFRhcmdldCAodGFyZ2V0KSB7XG4gIHRhcmdldFN0YWNrLnB1c2godGFyZ2V0KTtcbiAgRGVwLnRhcmdldCA9IHRhcmdldDtcbn1cblxuZnVuY3Rpb24gcG9wVGFyZ2V0ICgpIHtcbiAgdGFyZ2V0U3RhY2sucG9wKCk7XG4gIERlcC50YXJnZXQgPSB0YXJnZXRTdGFja1t0YXJnZXRTdGFjay5sZW5ndGggLSAxXTtcbn1cblxuLyogICovXG5cbnZhciBWTm9kZSA9IGZ1bmN0aW9uIFZOb2RlIChcbiAgdGFnLFxuICBkYXRhLFxuICBjaGlsZHJlbixcbiAgdGV4dCxcbiAgZWxtLFxuICBjb250ZXh0LFxuICBjb21wb25lbnRPcHRpb25zLFxuICBhc3luY0ZhY3Rvcnlcbikge1xuICB0aGlzLnRhZyA9IHRhZztcbiAgdGhpcy5kYXRhID0gZGF0YTtcbiAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB0aGlzLnRleHQgPSB0ZXh0O1xuICB0aGlzLmVsbSA9IGVsbTtcbiAgdGhpcy5ucyA9IHVuZGVmaW5lZDtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5mbkNvbnRleHQgPSB1bmRlZmluZWQ7XG4gIHRoaXMuZm5PcHRpb25zID0gdW5kZWZpbmVkO1xuICB0aGlzLmZuU2NvcGVJZCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5rZXkgPSBkYXRhICYmIGRhdGEua2V5O1xuICB0aGlzLmNvbXBvbmVudE9wdGlvbnMgPSBjb21wb25lbnRPcHRpb25zO1xuICB0aGlzLmNvbXBvbmVudEluc3RhbmNlID0gdW5kZWZpbmVkO1xuICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5yYXcgPSBmYWxzZTtcbiAgdGhpcy5pc1N0YXRpYyA9IGZhbHNlO1xuICB0aGlzLmlzUm9vdEluc2VydCA9IHRydWU7XG4gIHRoaXMuaXNDb21tZW50ID0gZmFsc2U7XG4gIHRoaXMuaXNDbG9uZWQgPSBmYWxzZTtcbiAgdGhpcy5pc09uY2UgPSBmYWxzZTtcbiAgdGhpcy5hc3luY0ZhY3RvcnkgPSBhc3luY0ZhY3Rvcnk7XG4gIHRoaXMuYXN5bmNNZXRhID0gdW5kZWZpbmVkO1xuICB0aGlzLmlzQXN5bmNQbGFjZWhvbGRlciA9IGZhbHNlO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgY2hpbGQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLy8gREVQUkVDQVRFRDogYWxpYXMgZm9yIGNvbXBvbmVudEluc3RhbmNlIGZvciBiYWNrd2FyZHMgY29tcGF0LlxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5jaGlsZC5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmNvbXBvbmVudEluc3RhbmNlXG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggVk5vZGUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxudmFyIGNyZWF0ZUVtcHR5Vk5vZGUgPSBmdW5jdGlvbiAodGV4dCkge1xuICBpZiAoIHRleHQgPT09IHZvaWQgMCApIHRleHQgPSAnJztcblxuICB2YXIgbm9kZSA9IG5ldyBWTm9kZSgpO1xuICBub2RlLnRleHQgPSB0ZXh0O1xuICBub2RlLmlzQ29tbWVudCA9IHRydWU7XG4gIHJldHVybiBub2RlXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUgKHZhbCkge1xuICByZXR1cm4gbmV3IFZOb2RlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFN0cmluZyh2YWwpKVxufVxuXG4vLyBvcHRpbWl6ZWQgc2hhbGxvdyBjbG9uZVxuLy8gdXNlZCBmb3Igc3RhdGljIG5vZGVzIGFuZCBzbG90IG5vZGVzIGJlY2F1c2UgdGhleSBtYXkgYmUgcmV1c2VkIGFjcm9zc1xuLy8gbXVsdGlwbGUgcmVuZGVycywgY2xvbmluZyB0aGVtIGF2b2lkcyBlcnJvcnMgd2hlbiBET00gbWFuaXB1bGF0aW9ucyByZWx5XG4vLyBvbiB0aGVpciBlbG0gcmVmZXJlbmNlLlxuZnVuY3Rpb24gY2xvbmVWTm9kZSAodm5vZGUpIHtcbiAgdmFyIGNsb25lZCA9IG5ldyBWTm9kZShcbiAgICB2bm9kZS50YWcsXG4gICAgdm5vZGUuZGF0YSxcbiAgICAvLyAjNzk3NVxuICAgIC8vIGNsb25lIGNoaWxkcmVuIGFycmF5IHRvIGF2b2lkIG11dGF0aW5nIG9yaWdpbmFsIGluIGNhc2Ugb2YgY2xvbmluZ1xuICAgIC8vIGEgY2hpbGQuXG4gICAgdm5vZGUuY2hpbGRyZW4gJiYgdm5vZGUuY2hpbGRyZW4uc2xpY2UoKSxcbiAgICB2bm9kZS50ZXh0LFxuICAgIHZub2RlLmVsbSxcbiAgICB2bm9kZS5jb250ZXh0LFxuICAgIHZub2RlLmNvbXBvbmVudE9wdGlvbnMsXG4gICAgdm5vZGUuYXN5bmNGYWN0b3J5XG4gICk7XG4gIGNsb25lZC5ucyA9IHZub2RlLm5zO1xuICBjbG9uZWQuaXNTdGF0aWMgPSB2bm9kZS5pc1N0YXRpYztcbiAgY2xvbmVkLmtleSA9IHZub2RlLmtleTtcbiAgY2xvbmVkLmlzQ29tbWVudCA9IHZub2RlLmlzQ29tbWVudDtcbiAgY2xvbmVkLmZuQ29udGV4dCA9IHZub2RlLmZuQ29udGV4dDtcbiAgY2xvbmVkLmZuT3B0aW9ucyA9IHZub2RlLmZuT3B0aW9ucztcbiAgY2xvbmVkLmZuU2NvcGVJZCA9IHZub2RlLmZuU2NvcGVJZDtcbiAgY2xvbmVkLmFzeW5jTWV0YSA9IHZub2RlLmFzeW5jTWV0YTtcbiAgY2xvbmVkLmlzQ2xvbmVkID0gdHJ1ZTtcbiAgcmV0dXJuIGNsb25lZFxufVxuXG4vKlxuICogbm90IHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2UgZmxvdyBkb2Vzbid0IHBsYXkgd2VsbCB3aXRoXG4gKiBkeW5hbWljYWxseSBhY2Nlc3NpbmcgbWV0aG9kcyBvbiBBcnJheSBwcm90b3R5cGVcbiAqL1xuXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcbnZhciBhcnJheU1ldGhvZHMgPSBPYmplY3QuY3JlYXRlKGFycmF5UHJvdG8pO1xuXG52YXIgbWV0aG9kc1RvUGF0Y2ggPSBbXG4gICdwdXNoJyxcbiAgJ3BvcCcsXG4gICdzaGlmdCcsXG4gICd1bnNoaWZ0JyxcbiAgJ3NwbGljZScsXG4gICdzb3J0JyxcbiAgJ3JldmVyc2UnXG5dO1xuXG4vKipcbiAqIEludGVyY2VwdCBtdXRhdGluZyBtZXRob2RzIGFuZCBlbWl0IGV2ZW50c1xuICovXG5tZXRob2RzVG9QYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgLy8gY2FjaGUgb3JpZ2luYWwgbWV0aG9kXG4gIHZhciBvcmlnaW5hbCA9IGFycmF5UHJvdG9bbWV0aG9kXTtcbiAgZGVmKGFycmF5TWV0aG9kcywgbWV0aG9kLCBmdW5jdGlvbiBtdXRhdG9yICgpIHtcbiAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICB2YXIgcmVzdWx0ID0gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgdmFyIG9iID0gdGhpcy5fX29iX187XG4gICAgdmFyIGluc2VydGVkO1xuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICBjYXNlICdwdXNoJzpcbiAgICAgIGNhc2UgJ3Vuc2hpZnQnOlxuICAgICAgICBpbnNlcnRlZCA9IGFyZ3M7XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzcGxpY2UnOlxuICAgICAgICBpbnNlcnRlZCA9IGFyZ3Muc2xpY2UoMik7XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIGlmIChpbnNlcnRlZCkgeyBvYi5vYnNlcnZlQXJyYXkoaW5zZXJ0ZWQpOyB9XG4gICAgLy8gbm90aWZ5IGNoYW5nZVxuICAgIG9iLmRlcC5ub3RpZnkoKTtcbiAgICByZXR1cm4gcmVzdWx0XG4gIH0pO1xufSk7XG5cbi8qICAqL1xuXG52YXIgYXJyYXlLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYXJyYXlNZXRob2RzKTtcblxuLyoqXG4gKiBJbiBzb21lIGNhc2VzIHdlIG1heSB3YW50IHRvIGRpc2FibGUgb2JzZXJ2YXRpb24gaW5zaWRlIGEgY29tcG9uZW50J3NcbiAqIHVwZGF0ZSBjb21wdXRhdGlvbi5cbiAqL1xudmFyIHNob3VsZE9ic2VydmUgPSB0cnVlO1xuXG5mdW5jdGlvbiB0b2dnbGVPYnNlcnZpbmcgKHZhbHVlKSB7XG4gIHNob3VsZE9ic2VydmUgPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBPYnNlcnZlciBjbGFzcyB0aGF0IGlzIGF0dGFjaGVkIHRvIGVhY2ggb2JzZXJ2ZWRcbiAqIG9iamVjdC4gT25jZSBhdHRhY2hlZCwgdGhlIG9ic2VydmVyIGNvbnZlcnRzIHRoZSB0YXJnZXRcbiAqIG9iamVjdCdzIHByb3BlcnR5IGtleXMgaW50byBnZXR0ZXIvc2V0dGVycyB0aGF0XG4gKiBjb2xsZWN0IGRlcGVuZGVuY2llcyBhbmQgZGlzcGF0Y2ggdXBkYXRlcy5cbiAqL1xudmFyIE9ic2VydmVyID0gZnVuY3Rpb24gT2JzZXJ2ZXIgKHZhbHVlKSB7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgdGhpcy5kZXAgPSBuZXcgRGVwKCk7XG4gIHRoaXMudm1Db3VudCA9IDA7XG4gIGRlZih2YWx1ZSwgJ19fb2JfXycsIHRoaXMpO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBpZiAoaGFzUHJvdG8pIHtcbiAgICAgIHByb3RvQXVnbWVudCh2YWx1ZSwgYXJyYXlNZXRob2RzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29weUF1Z21lbnQodmFsdWUsIGFycmF5TWV0aG9kcywgYXJyYXlLZXlzKTtcbiAgICB9XG4gICAgdGhpcy5vYnNlcnZlQXJyYXkodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMud2Fsayh2YWx1ZSk7XG4gIH1cbn07XG5cbi8qKlxuICogV2FsayB0aHJvdWdoIGFsbCBwcm9wZXJ0aWVzIGFuZCBjb252ZXJ0IHRoZW0gaW50b1xuICogZ2V0dGVyL3NldHRlcnMuIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuXG4gKiB2YWx1ZSB0eXBlIGlzIE9iamVjdC5cbiAqL1xuT2JzZXJ2ZXIucHJvdG90eXBlLndhbGsgPSBmdW5jdGlvbiB3YWxrIChvYmopIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBkZWZpbmVSZWFjdGl2ZSQkMShvYmosIGtleXNbaV0pO1xuICB9XG59O1xuXG4vKipcbiAqIE9ic2VydmUgYSBsaXN0IG9mIEFycmF5IGl0ZW1zLlxuICovXG5PYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZUFycmF5ID0gZnVuY3Rpb24gb2JzZXJ2ZUFycmF5IChpdGVtcykge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGl0ZW1zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIG9ic2VydmUoaXRlbXNbaV0pO1xuICB9XG59O1xuXG4vLyBoZWxwZXJzXG5cbi8qKlxuICogQXVnbWVudCBhIHRhcmdldCBPYmplY3Qgb3IgQXJyYXkgYnkgaW50ZXJjZXB0aW5nXG4gKiB0aGUgcHJvdG90eXBlIGNoYWluIHVzaW5nIF9fcHJvdG9fX1xuICovXG5mdW5jdGlvbiBwcm90b0F1Z21lbnQgKHRhcmdldCwgc3JjKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG4gIHRhcmdldC5fX3Byb3RvX18gPSBzcmM7XG4gIC8qIGVzbGludC1lbmFibGUgbm8tcHJvdG8gKi9cbn1cblxuLyoqXG4gKiBBdWdtZW50IGEgdGFyZ2V0IE9iamVjdCBvciBBcnJheSBieSBkZWZpbmluZ1xuICogaGlkZGVuIHByb3BlcnRpZXMuXG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBjb3B5QXVnbWVudCAodGFyZ2V0LCBzcmMsIGtleXMpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIGRlZih0YXJnZXQsIGtleSwgc3JjW2tleV0pO1xuICB9XG59XG5cbi8qKlxuICogQXR0ZW1wdCB0byBjcmVhdGUgYW4gb2JzZXJ2ZXIgaW5zdGFuY2UgZm9yIGEgdmFsdWUsXG4gKiByZXR1cm5zIHRoZSBuZXcgb2JzZXJ2ZXIgaWYgc3VjY2Vzc2Z1bGx5IG9ic2VydmVkLFxuICogb3IgdGhlIGV4aXN0aW5nIG9ic2VydmVyIGlmIHRoZSB2YWx1ZSBhbHJlYWR5IGhhcyBvbmUuXG4gKi9cbmZ1bmN0aW9uIG9ic2VydmUgKHZhbHVlLCBhc1Jvb3REYXRhKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IHZhbHVlIGluc3RhbmNlb2YgVk5vZGUpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgb2I7XG4gIGlmIChoYXNPd24odmFsdWUsICdfX29iX18nKSAmJiB2YWx1ZS5fX29iX18gaW5zdGFuY2VvZiBPYnNlcnZlcikge1xuICAgIG9iID0gdmFsdWUuX19vYl9fO1xuICB9IGVsc2UgaWYgKFxuICAgIHNob3VsZE9ic2VydmUgJiZcbiAgICAhaXNTZXJ2ZXJSZW5kZXJpbmcoKSAmJlxuICAgIChBcnJheS5pc0FycmF5KHZhbHVlKSB8fCBpc1BsYWluT2JqZWN0KHZhbHVlKSkgJiZcbiAgICBPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKSAmJlxuICAgICF2YWx1ZS5faXNWdWVcbiAgKSB7XG4gICAgb2IgPSBuZXcgT2JzZXJ2ZXIodmFsdWUpO1xuICB9XG4gIGlmIChhc1Jvb3REYXRhICYmIG9iKSB7XG4gICAgb2Iudm1Db3VudCsrO1xuICB9XG4gIHJldHVybiBvYlxufVxuXG4vKipcbiAqIERlZmluZSBhIHJlYWN0aXZlIHByb3BlcnR5IG9uIGFuIE9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZGVmaW5lUmVhY3RpdmUkJDEgKFxuICBvYmosXG4gIGtleSxcbiAgdmFsLFxuICBjdXN0b21TZXR0ZXIsXG4gIHNoYWxsb3dcbikge1xuICB2YXIgZGVwID0gbmV3IERlcCgpO1xuXG4gIHZhciBwcm9wZXJ0eSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpO1xuICBpZiAocHJvcGVydHkgJiYgcHJvcGVydHkuY29uZmlndXJhYmxlID09PSBmYWxzZSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLy8gY2F0ZXIgZm9yIHByZS1kZWZpbmVkIGdldHRlci9zZXR0ZXJzXG4gIHZhciBnZXR0ZXIgPSBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5nZXQ7XG4gIHZhciBzZXR0ZXIgPSBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5zZXQ7XG4gIGlmICgoIWdldHRlciB8fCBzZXR0ZXIpICYmIGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICB2YWwgPSBvYmpba2V5XTtcbiAgfVxuXG4gIHZhciBjaGlsZE9iID0gIXNoYWxsb3cgJiYgb2JzZXJ2ZSh2YWwpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIHJlYWN0aXZlR2V0dGVyICgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7XG4gICAgICBpZiAoRGVwLnRhcmdldCkge1xuICAgICAgICBkZXAuZGVwZW5kKCk7XG4gICAgICAgIGlmIChjaGlsZE9iKSB7XG4gICAgICAgICAgY2hpbGRPYi5kZXAuZGVwZW5kKCk7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBkZXBlbmRBcnJheSh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gcmVhY3RpdmVTZXR0ZXIgKG5ld1ZhbCkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IHZhbDtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuICAgICAgaWYgKG5ld1ZhbCA9PT0gdmFsdWUgfHwgKG5ld1ZhbCAhPT0gbmV3VmFsICYmIHZhbHVlICE9PSB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY3VzdG9tU2V0dGVyKSB7XG4gICAgICAgIGN1c3RvbVNldHRlcigpO1xuICAgICAgfVxuICAgICAgLy8gIzc5ODE6IGZvciBhY2Nlc3NvciBwcm9wZXJ0aWVzIHdpdGhvdXQgc2V0dGVyXG4gICAgICBpZiAoZ2V0dGVyICYmICFzZXR0ZXIpIHsgcmV0dXJuIH1cbiAgICAgIGlmIChzZXR0ZXIpIHtcbiAgICAgICAgc2V0dGVyLmNhbGwob2JqLCBuZXdWYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gbmV3VmFsO1xuICAgICAgfVxuICAgICAgY2hpbGRPYiA9ICFzaGFsbG93ICYmIG9ic2VydmUobmV3VmFsKTtcbiAgICAgIGRlcC5ub3RpZnkoKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFNldCBhIHByb3BlcnR5IG9uIGFuIG9iamVjdC4gQWRkcyB0aGUgbmV3IHByb3BlcnR5IGFuZFxuICogdHJpZ2dlcnMgY2hhbmdlIG5vdGlmaWNhdGlvbiBpZiB0aGUgcHJvcGVydHkgZG9lc24ndFxuICogYWxyZWFkeSBleGlzdC5cbiAqL1xuZnVuY3Rpb24gc2V0ICh0YXJnZXQsIGtleSwgdmFsKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgKGlzVW5kZWYodGFyZ2V0KSB8fCBpc1ByaW1pdGl2ZSh0YXJnZXQpKVxuICApIHtcbiAgICB3YXJuKChcIkNhbm5vdCBzZXQgcmVhY3RpdmUgcHJvcGVydHkgb24gdW5kZWZpbmVkLCBudWxsLCBvciBwcmltaXRpdmUgdmFsdWU6IFwiICsgKCh0YXJnZXQpKSkpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkgJiYgaXNWYWxpZEFycmF5SW5kZXgoa2V5KSkge1xuICAgIHRhcmdldC5sZW5ndGggPSBNYXRoLm1heCh0YXJnZXQubGVuZ3RoLCBrZXkpO1xuICAgIHRhcmdldC5zcGxpY2Uoa2V5LCAxLCB2YWwpO1xuICAgIHJldHVybiB2YWxcbiAgfVxuICBpZiAoa2V5IGluIHRhcmdldCAmJiAhKGtleSBpbiBPYmplY3QucHJvdG90eXBlKSkge1xuICAgIHRhcmdldFtrZXldID0gdmFsO1xuICAgIHJldHVybiB2YWxcbiAgfVxuICB2YXIgb2IgPSAodGFyZ2V0KS5fX29iX187XG4gIGlmICh0YXJnZXQuX2lzVnVlIHx8IChvYiAmJiBvYi52bUNvdW50KSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICdBdm9pZCBhZGRpbmcgcmVhY3RpdmUgcHJvcGVydGllcyB0byBhIFZ1ZSBpbnN0YW5jZSBvciBpdHMgcm9vdCAkZGF0YSAnICtcbiAgICAgICdhdCBydW50aW1lIC0gZGVjbGFyZSBpdCB1cGZyb250IGluIHRoZSBkYXRhIG9wdGlvbi4nXG4gICAgKTtcbiAgICByZXR1cm4gdmFsXG4gIH1cbiAgaWYgKCFvYikge1xuICAgIHRhcmdldFtrZXldID0gdmFsO1xuICAgIHJldHVybiB2YWxcbiAgfVxuICBkZWZpbmVSZWFjdGl2ZSQkMShvYi52YWx1ZSwga2V5LCB2YWwpO1xuICBvYi5kZXAubm90aWZ5KCk7XG4gIHJldHVybiB2YWxcbn1cblxuLyoqXG4gKiBEZWxldGUgYSBwcm9wZXJ0eSBhbmQgdHJpZ2dlciBjaGFuZ2UgaWYgbmVjZXNzYXJ5LlxuICovXG5mdW5jdGlvbiBkZWwgKHRhcmdldCwga2V5KSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgKGlzVW5kZWYodGFyZ2V0KSB8fCBpc1ByaW1pdGl2ZSh0YXJnZXQpKVxuICApIHtcbiAgICB3YXJuKChcIkNhbm5vdCBkZWxldGUgcmVhY3RpdmUgcHJvcGVydHkgb24gdW5kZWZpbmVkLCBudWxsLCBvciBwcmltaXRpdmUgdmFsdWU6IFwiICsgKCh0YXJnZXQpKSkpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkgJiYgaXNWYWxpZEFycmF5SW5kZXgoa2V5KSkge1xuICAgIHRhcmdldC5zcGxpY2Uoa2V5LCAxKTtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgb2IgPSAodGFyZ2V0KS5fX29iX187XG4gIGlmICh0YXJnZXQuX2lzVnVlIHx8IChvYiAmJiBvYi52bUNvdW50KSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICdBdm9pZCBkZWxldGluZyBwcm9wZXJ0aWVzIG9uIGEgVnVlIGluc3RhbmNlIG9yIGl0cyByb290ICRkYXRhICcgK1xuICAgICAgJy0ganVzdCBzZXQgaXQgdG8gbnVsbC4nXG4gICAgKTtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoIWhhc093bih0YXJnZXQsIGtleSkpIHtcbiAgICByZXR1cm5cbiAgfVxuICBkZWxldGUgdGFyZ2V0W2tleV07XG4gIGlmICghb2IpIHtcbiAgICByZXR1cm5cbiAgfVxuICBvYi5kZXAubm90aWZ5KCk7XG59XG5cbi8qKlxuICogQ29sbGVjdCBkZXBlbmRlbmNpZXMgb24gYXJyYXkgZWxlbWVudHMgd2hlbiB0aGUgYXJyYXkgaXMgdG91Y2hlZCwgc2luY2VcbiAqIHdlIGNhbm5vdCBpbnRlcmNlcHQgYXJyYXkgZWxlbWVudCBhY2Nlc3MgbGlrZSBwcm9wZXJ0eSBnZXR0ZXJzLlxuICovXG5mdW5jdGlvbiBkZXBlbmRBcnJheSAodmFsdWUpIHtcbiAgZm9yICh2YXIgZSA9ICh2b2lkIDApLCBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGUgPSB2YWx1ZVtpXTtcbiAgICBlICYmIGUuX19vYl9fICYmIGUuX19vYl9fLmRlcC5kZXBlbmQoKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgICAgZGVwZW5kQXJyYXkoZSk7XG4gICAgfVxuICB9XG59XG5cbi8qICAqL1xuXG4vKipcbiAqIE9wdGlvbiBvdmVyd3JpdGluZyBzdHJhdGVnaWVzIGFyZSBmdW5jdGlvbnMgdGhhdCBoYW5kbGVcbiAqIGhvdyB0byBtZXJnZSBhIHBhcmVudCBvcHRpb24gdmFsdWUgYW5kIGEgY2hpbGQgb3B0aW9uXG4gKiB2YWx1ZSBpbnRvIHRoZSBmaW5hbCB2YWx1ZS5cbiAqL1xudmFyIHN0cmF0cyA9IGNvbmZpZy5vcHRpb25NZXJnZVN0cmF0ZWdpZXM7XG5cbi8qKlxuICogT3B0aW9ucyB3aXRoIHJlc3RyaWN0aW9uc1xuICovXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBzdHJhdHMuZWwgPSBzdHJhdHMucHJvcHNEYXRhID0gZnVuY3Rpb24gKHBhcmVudCwgY2hpbGQsIHZtLCBrZXkpIHtcbiAgICBpZiAoIXZtKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBcIm9wdGlvbiBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgaW5zdGFuY2UgXCIgK1xuICAgICAgICAnY3JlYXRpb24gd2l0aCB0aGUgYG5ld2Aga2V5d29yZC4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFN0cmF0KHBhcmVudCwgY2hpbGQpXG4gIH07XG59XG5cbi8qKlxuICogSGVscGVyIHRoYXQgcmVjdXJzaXZlbHkgbWVyZ2VzIHR3byBkYXRhIG9iamVjdHMgdG9nZXRoZXIuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlRGF0YSAodG8sIGZyb20pIHtcbiAgaWYgKCFmcm9tKSB7IHJldHVybiB0byB9XG4gIHZhciBrZXksIHRvVmFsLCBmcm9tVmFsO1xuXG4gIHZhciBrZXlzID0gaGFzU3ltYm9sXG4gICAgPyBSZWZsZWN0Lm93bktleXMoZnJvbSlcbiAgICA6IE9iamVjdC5rZXlzKGZyb20pO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IGtleXNbaV07XG4gICAgLy8gaW4gY2FzZSB0aGUgb2JqZWN0IGlzIGFscmVhZHkgb2JzZXJ2ZWQuLi5cbiAgICBpZiAoa2V5ID09PSAnX19vYl9fJykgeyBjb250aW51ZSB9XG4gICAgdG9WYWwgPSB0b1trZXldO1xuICAgIGZyb21WYWwgPSBmcm9tW2tleV07XG4gICAgaWYgKCFoYXNPd24odG8sIGtleSkpIHtcbiAgICAgIHNldCh0bywga2V5LCBmcm9tVmFsKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdG9WYWwgIT09IGZyb21WYWwgJiZcbiAgICAgIGlzUGxhaW5PYmplY3QodG9WYWwpICYmXG4gICAgICBpc1BsYWluT2JqZWN0KGZyb21WYWwpXG4gICAgKSB7XG4gICAgICBtZXJnZURhdGEodG9WYWwsIGZyb21WYWwpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdG9cbn1cblxuLyoqXG4gKiBEYXRhXG4gKi9cbmZ1bmN0aW9uIG1lcmdlRGF0YU9yRm4gKFxuICBwYXJlbnRWYWwsXG4gIGNoaWxkVmFsLFxuICB2bVxuKSB7XG4gIGlmICghdm0pIHtcbiAgICAvLyBpbiBhIFZ1ZS5leHRlbmQgbWVyZ2UsIGJvdGggc2hvdWxkIGJlIGZ1bmN0aW9uc1xuICAgIGlmICghY2hpbGRWYWwpIHtcbiAgICAgIHJldHVybiBwYXJlbnRWYWxcbiAgICB9XG4gICAgaWYgKCFwYXJlbnRWYWwpIHtcbiAgICAgIHJldHVybiBjaGlsZFZhbFxuICAgIH1cbiAgICAvLyB3aGVuIHBhcmVudFZhbCAmIGNoaWxkVmFsIGFyZSBib3RoIHByZXNlbnQsXG4gICAgLy8gd2UgbmVlZCB0byByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4gICAgLy8gbWVyZ2VkIHJlc3VsdCBvZiBib3RoIGZ1bmN0aW9ucy4uLiBubyBuZWVkIHRvXG4gICAgLy8gY2hlY2sgaWYgcGFyZW50VmFsIGlzIGEgZnVuY3Rpb24gaGVyZSBiZWNhdXNlXG4gICAgLy8gaXQgaGFzIHRvIGJlIGEgZnVuY3Rpb24gdG8gcGFzcyBwcmV2aW91cyBtZXJnZXMuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZERhdGFGbiAoKSB7XG4gICAgICByZXR1cm4gbWVyZ2VEYXRhKFxuICAgICAgICB0eXBlb2YgY2hpbGRWYWwgPT09ICdmdW5jdGlvbicgPyBjaGlsZFZhbC5jYWxsKHRoaXMsIHRoaXMpIDogY2hpbGRWYWwsXG4gICAgICAgIHR5cGVvZiBwYXJlbnRWYWwgPT09ICdmdW5jdGlvbicgPyBwYXJlbnRWYWwuY2FsbCh0aGlzLCB0aGlzKSA6IHBhcmVudFZhbFxuICAgICAgKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkSW5zdGFuY2VEYXRhRm4gKCkge1xuICAgICAgLy8gaW5zdGFuY2UgbWVyZ2VcbiAgICAgIHZhciBpbnN0YW5jZURhdGEgPSB0eXBlb2YgY2hpbGRWYWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBjaGlsZFZhbC5jYWxsKHZtLCB2bSlcbiAgICAgICAgOiBjaGlsZFZhbDtcbiAgICAgIHZhciBkZWZhdWx0RGF0YSA9IHR5cGVvZiBwYXJlbnRWYWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBwYXJlbnRWYWwuY2FsbCh2bSwgdm0pXG4gICAgICAgIDogcGFyZW50VmFsO1xuICAgICAgaWYgKGluc3RhbmNlRGF0YSkge1xuICAgICAgICByZXR1cm4gbWVyZ2VEYXRhKGluc3RhbmNlRGF0YSwgZGVmYXVsdERhdGEpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVmYXVsdERhdGFcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuc3RyYXRzLmRhdGEgPSBmdW5jdGlvbiAoXG4gIHBhcmVudFZhbCxcbiAgY2hpbGRWYWwsXG4gIHZtXG4pIHtcbiAgaWYgKCF2bSkge1xuICAgIGlmIChjaGlsZFZhbCAmJiB0eXBlb2YgY2hpbGRWYWwgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgJ1RoZSBcImRhdGFcIiBvcHRpb24gc2hvdWxkIGJlIGEgZnVuY3Rpb24gJyArXG4gICAgICAgICd0aGF0IHJldHVybnMgYSBwZXItaW5zdGFuY2UgdmFsdWUgaW4gY29tcG9uZW50ICcgK1xuICAgICAgICAnZGVmaW5pdGlvbnMuJyxcbiAgICAgICAgdm1cbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBwYXJlbnRWYWxcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlRGF0YU9yRm4ocGFyZW50VmFsLCBjaGlsZFZhbClcbiAgfVxuXG4gIHJldHVybiBtZXJnZURhdGFPckZuKHBhcmVudFZhbCwgY2hpbGRWYWwsIHZtKVxufTtcblxuLyoqXG4gKiBIb29rcyBhbmQgcHJvcHMgYXJlIG1lcmdlZCBhcyBhcnJheXMuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlSG9vayAoXG4gIHBhcmVudFZhbCxcbiAgY2hpbGRWYWxcbikge1xuICB2YXIgcmVzID0gY2hpbGRWYWxcbiAgICA/IHBhcmVudFZhbFxuICAgICAgPyBwYXJlbnRWYWwuY29uY2F0KGNoaWxkVmFsKVxuICAgICAgOiBBcnJheS5pc0FycmF5KGNoaWxkVmFsKVxuICAgICAgICA/IGNoaWxkVmFsXG4gICAgICAgIDogW2NoaWxkVmFsXVxuICAgIDogcGFyZW50VmFsO1xuICByZXR1cm4gcmVzXG4gICAgPyBkZWR1cGVIb29rcyhyZXMpXG4gICAgOiByZXNcbn1cblxuZnVuY3Rpb24gZGVkdXBlSG9va3MgKGhvb2tzKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChyZXMuaW5kZXhPZihob29rc1tpXSkgPT09IC0xKSB7XG4gICAgICByZXMucHVzaChob29rc1tpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuTElGRUNZQ0xFX0hPT0tTLmZvckVhY2goZnVuY3Rpb24gKGhvb2spIHtcbiAgc3RyYXRzW2hvb2tdID0gbWVyZ2VIb29rO1xufSk7XG5cbi8qKlxuICogQXNzZXRzXG4gKlxuICogV2hlbiBhIHZtIGlzIHByZXNlbnQgKGluc3RhbmNlIGNyZWF0aW9uKSwgd2UgbmVlZCB0byBkb1xuICogYSB0aHJlZS13YXkgbWVyZ2UgYmV0d2VlbiBjb25zdHJ1Y3RvciBvcHRpb25zLCBpbnN0YW5jZVxuICogb3B0aW9ucyBhbmQgcGFyZW50IG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlQXNzZXRzIChcbiAgcGFyZW50VmFsLFxuICBjaGlsZFZhbCxcbiAgdm0sXG4gIGtleVxuKSB7XG4gIHZhciByZXMgPSBPYmplY3QuY3JlYXRlKHBhcmVudFZhbCB8fCBudWxsKTtcbiAgaWYgKGNoaWxkVmFsKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBhc3NlcnRPYmplY3RUeXBlKGtleSwgY2hpbGRWYWwsIHZtKTtcbiAgICByZXR1cm4gZXh0ZW5kKHJlcywgY2hpbGRWYWwpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlc1xuICB9XG59XG5cbkFTU0VUX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgc3RyYXRzW3R5cGUgKyAncyddID0gbWVyZ2VBc3NldHM7XG59KTtcblxuLyoqXG4gKiBXYXRjaGVycy5cbiAqXG4gKiBXYXRjaGVycyBoYXNoZXMgc2hvdWxkIG5vdCBvdmVyd3JpdGUgb25lXG4gKiBhbm90aGVyLCBzbyB3ZSBtZXJnZSB0aGVtIGFzIGFycmF5cy5cbiAqL1xuc3RyYXRzLndhdGNoID0gZnVuY3Rpb24gKFxuICBwYXJlbnRWYWwsXG4gIGNoaWxkVmFsLFxuICB2bSxcbiAga2V5XG4pIHtcbiAgLy8gd29yayBhcm91bmQgRmlyZWZveCdzIE9iamVjdC5wcm90b3R5cGUud2F0Y2guLi5cbiAgaWYgKHBhcmVudFZhbCA9PT0gbmF0aXZlV2F0Y2gpIHsgcGFyZW50VmFsID0gdW5kZWZpbmVkOyB9XG4gIGlmIChjaGlsZFZhbCA9PT0gbmF0aXZlV2F0Y2gpIHsgY2hpbGRWYWwgPSB1bmRlZmluZWQ7IH1cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghY2hpbGRWYWwpIHsgcmV0dXJuIE9iamVjdC5jcmVhdGUocGFyZW50VmFsIHx8IG51bGwpIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBhc3NlcnRPYmplY3RUeXBlKGtleSwgY2hpbGRWYWwsIHZtKTtcbiAgfVxuICBpZiAoIXBhcmVudFZhbCkgeyByZXR1cm4gY2hpbGRWYWwgfVxuICB2YXIgcmV0ID0ge307XG4gIGV4dGVuZChyZXQsIHBhcmVudFZhbCk7XG4gIGZvciAodmFyIGtleSQxIGluIGNoaWxkVmFsKSB7XG4gICAgdmFyIHBhcmVudCA9IHJldFtrZXkkMV07XG4gICAgdmFyIGNoaWxkID0gY2hpbGRWYWxba2V5JDFdO1xuICAgIGlmIChwYXJlbnQgJiYgIUFycmF5LmlzQXJyYXkocGFyZW50KSkge1xuICAgICAgcGFyZW50ID0gW3BhcmVudF07XG4gICAgfVxuICAgIHJldFtrZXkkMV0gPSBwYXJlbnRcbiAgICAgID8gcGFyZW50LmNvbmNhdChjaGlsZClcbiAgICAgIDogQXJyYXkuaXNBcnJheShjaGlsZCkgPyBjaGlsZCA6IFtjaGlsZF07XG4gIH1cbiAgcmV0dXJuIHJldFxufTtcblxuLyoqXG4gKiBPdGhlciBvYmplY3QgaGFzaGVzLlxuICovXG5zdHJhdHMucHJvcHMgPVxuc3RyYXRzLm1ldGhvZHMgPVxuc3RyYXRzLmluamVjdCA9XG5zdHJhdHMuY29tcHV0ZWQgPSBmdW5jdGlvbiAoXG4gIHBhcmVudFZhbCxcbiAgY2hpbGRWYWwsXG4gIHZtLFxuICBrZXlcbikge1xuICBpZiAoY2hpbGRWYWwgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGFzc2VydE9iamVjdFR5cGUoa2V5LCBjaGlsZFZhbCwgdm0pO1xuICB9XG4gIGlmICghcGFyZW50VmFsKSB7IHJldHVybiBjaGlsZFZhbCB9XG4gIHZhciByZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBleHRlbmQocmV0LCBwYXJlbnRWYWwpO1xuICBpZiAoY2hpbGRWYWwpIHsgZXh0ZW5kKHJldCwgY2hpbGRWYWwpOyB9XG4gIHJldHVybiByZXRcbn07XG5zdHJhdHMucHJvdmlkZSA9IG1lcmdlRGF0YU9yRm47XG5cbi8qKlxuICogRGVmYXVsdCBzdHJhdGVneS5cbiAqL1xudmFyIGRlZmF1bHRTdHJhdCA9IGZ1bmN0aW9uIChwYXJlbnRWYWwsIGNoaWxkVmFsKSB7XG4gIHJldHVybiBjaGlsZFZhbCA9PT0gdW5kZWZpbmVkXG4gICAgPyBwYXJlbnRWYWxcbiAgICA6IGNoaWxkVmFsXG59O1xuXG4vKipcbiAqIFZhbGlkYXRlIGNvbXBvbmVudCBuYW1lc1xuICovXG5mdW5jdGlvbiBjaGVja0NvbXBvbmVudHMgKG9wdGlvbnMpIHtcbiAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMuY29tcG9uZW50cykge1xuICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShrZXkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZSAobmFtZSkge1xuICBpZiAoIW5ldyBSZWdFeHAoKFwiXlthLXpBLVpdW1xcXFwtXFxcXC4wLTlfXCIgKyAodW5pY29kZVJlZ0V4cC5zb3VyY2UpICsgXCJdKiRcIikpLnRlc3QobmFtZSkpIHtcbiAgICB3YXJuKFxuICAgICAgJ0ludmFsaWQgY29tcG9uZW50IG5hbWU6IFwiJyArIG5hbWUgKyAnXCIuIENvbXBvbmVudCBuYW1lcyAnICtcbiAgICAgICdzaG91bGQgY29uZm9ybSB0byB2YWxpZCBjdXN0b20gZWxlbWVudCBuYW1lIGluIGh0bWw1IHNwZWNpZmljYXRpb24uJ1xuICAgICk7XG4gIH1cbiAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBjb25maWcuaXNSZXNlcnZlZFRhZyhuYW1lKSkge1xuICAgIHdhcm4oXG4gICAgICAnRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCAnICtcbiAgICAgICdpZDogJyArIG5hbWVcbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogRW5zdXJlIGFsbCBwcm9wcyBvcHRpb24gc3ludGF4IGFyZSBub3JtYWxpemVkIGludG8gdGhlXG4gKiBPYmplY3QtYmFzZWQgZm9ybWF0LlxuICovXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyAob3B0aW9ucywgdm0pIHtcbiAgdmFyIHByb3BzID0gb3B0aW9ucy5wcm9wcztcbiAgaWYgKCFwcm9wcykgeyByZXR1cm4gfVxuICB2YXIgcmVzID0ge307XG4gIHZhciBpLCB2YWwsIG5hbWU7XG4gIGlmIChBcnJheS5pc0FycmF5KHByb3BzKSkge1xuICAgIGkgPSBwcm9wcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdmFsID0gcHJvcHNbaV07XG4gICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbmFtZSA9IGNhbWVsaXplKHZhbCk7XG4gICAgICAgIHJlc1tuYW1lXSA9IHsgdHlwZTogbnVsbCB9O1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHdhcm4oJ3Byb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChwcm9wcykpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICAgIHZhbCA9IHByb3BzW2tleV07XG4gICAgICBuYW1lID0gY2FtZWxpemUoa2V5KTtcbiAgICAgIHJlc1tuYW1lXSA9IGlzUGxhaW5PYmplY3QodmFsKVxuICAgICAgICA/IHZhbFxuICAgICAgICA6IHsgdHlwZTogdmFsIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB3YXJuKFxuICAgICAgXCJJbnZhbGlkIHZhbHVlIGZvciBvcHRpb24gXFxcInByb3BzXFxcIjogZXhwZWN0ZWQgYW4gQXJyYXkgb3IgYW4gT2JqZWN0LCBcIiArXG4gICAgICBcImJ1dCBnb3QgXCIgKyAodG9SYXdUeXBlKHByb3BzKSkgKyBcIi5cIixcbiAgICAgIHZtXG4gICAgKTtcbiAgfVxuICBvcHRpb25zLnByb3BzID0gcmVzO1xufVxuXG4vKipcbiAqIE5vcm1hbGl6ZSBhbGwgaW5qZWN0aW9ucyBpbnRvIE9iamVjdC1iYXNlZCBmb3JtYXRcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplSW5qZWN0IChvcHRpb25zLCB2bSkge1xuICB2YXIgaW5qZWN0ID0gb3B0aW9ucy5pbmplY3Q7XG4gIGlmICghaW5qZWN0KSB7IHJldHVybiB9XG4gIHZhciBub3JtYWxpemVkID0gb3B0aW9ucy5pbmplY3QgPSB7fTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoaW5qZWN0KSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5qZWN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBub3JtYWxpemVkW2luamVjdFtpXV0gPSB7IGZyb206IGluamVjdFtpXSB9O1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGluamVjdCkpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gaW5qZWN0KSB7XG4gICAgICB2YXIgdmFsID0gaW5qZWN0W2tleV07XG4gICAgICBub3JtYWxpemVkW2tleV0gPSBpc1BsYWluT2JqZWN0KHZhbClcbiAgICAgICAgPyBleHRlbmQoeyBmcm9tOiBrZXkgfSwgdmFsKVxuICAgICAgICA6IHsgZnJvbTogdmFsIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB3YXJuKFxuICAgICAgXCJJbnZhbGlkIHZhbHVlIGZvciBvcHRpb24gXFxcImluamVjdFxcXCI6IGV4cGVjdGVkIGFuIEFycmF5IG9yIGFuIE9iamVjdCwgXCIgK1xuICAgICAgXCJidXQgZ290IFwiICsgKHRvUmF3VHlwZShpbmplY3QpKSArIFwiLlwiLFxuICAgICAgdm1cbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogTm9ybWFsaXplIHJhdyBmdW5jdGlvbiBkaXJlY3RpdmVzIGludG8gb2JqZWN0IGZvcm1hdC5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplRGlyZWN0aXZlcyAob3B0aW9ucykge1xuICB2YXIgZGlycyA9IG9wdGlvbnMuZGlyZWN0aXZlcztcbiAgaWYgKGRpcnMpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gZGlycykge1xuICAgICAgdmFyIGRlZiQkMSA9IGRpcnNba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgZGVmJCQxID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRpcnNba2V5XSA9IHsgYmluZDogZGVmJCQxLCB1cGRhdGU6IGRlZiQkMSB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRPYmplY3RUeXBlIChuYW1lLCB2YWx1ZSwgdm0pIHtcbiAgaWYgKCFpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgIHdhcm4oXG4gICAgICBcIkludmFsaWQgdmFsdWUgZm9yIG9wdGlvbiBcXFwiXCIgKyBuYW1lICsgXCJcXFwiOiBleHBlY3RlZCBhbiBPYmplY3QsIFwiICtcbiAgICAgIFwiYnV0IGdvdCBcIiArICh0b1Jhd1R5cGUodmFsdWUpKSArIFwiLlwiLFxuICAgICAgdm1cbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogTWVyZ2UgdHdvIG9wdGlvbiBvYmplY3RzIGludG8gYSBuZXcgb25lLlxuICogQ29yZSB1dGlsaXR5IHVzZWQgaW4gYm90aCBpbnN0YW50aWF0aW9uIGFuZCBpbmhlcml0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VPcHRpb25zIChcbiAgcGFyZW50LFxuICBjaGlsZCxcbiAgdm1cbikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNoZWNrQ29tcG9uZW50cyhjaGlsZCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGNoaWxkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2hpbGQgPSBjaGlsZC5vcHRpb25zO1xuICB9XG5cbiAgbm9ybWFsaXplUHJvcHMoY2hpbGQsIHZtKTtcbiAgbm9ybWFsaXplSW5qZWN0KGNoaWxkLCB2bSk7XG4gIG5vcm1hbGl6ZURpcmVjdGl2ZXMoY2hpbGQpO1xuXG4gIC8vIEFwcGx5IGV4dGVuZHMgYW5kIG1peGlucyBvbiB0aGUgY2hpbGQgb3B0aW9ucyxcbiAgLy8gYnV0IG9ubHkgaWYgaXQgaXMgYSByYXcgb3B0aW9ucyBvYmplY3QgdGhhdCBpc24ndFxuICAvLyB0aGUgcmVzdWx0IG9mIGFub3RoZXIgbWVyZ2VPcHRpb25zIGNhbGwuXG4gIC8vIE9ubHkgbWVyZ2VkIG9wdGlvbnMgaGFzIHRoZSBfYmFzZSBwcm9wZXJ0eS5cbiAgaWYgKCFjaGlsZC5fYmFzZSkge1xuICAgIGlmIChjaGlsZC5leHRlbmRzKSB7XG4gICAgICBwYXJlbnQgPSBtZXJnZU9wdGlvbnMocGFyZW50LCBjaGlsZC5leHRlbmRzLCB2bSk7XG4gICAgfVxuICAgIGlmIChjaGlsZC5taXhpbnMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGQubWl4aW5zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBwYXJlbnQgPSBtZXJnZU9wdGlvbnMocGFyZW50LCBjaGlsZC5taXhpbnNbaV0sIHZtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgb3B0aW9ucyA9IHt9O1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBwYXJlbnQpIHtcbiAgICBtZXJnZUZpZWxkKGtleSk7XG4gIH1cbiAgZm9yIChrZXkgaW4gY2hpbGQpIHtcbiAgICBpZiAoIWhhc093bihwYXJlbnQsIGtleSkpIHtcbiAgICAgIG1lcmdlRmllbGQoa2V5KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWVyZ2VGaWVsZCAoa2V5KSB7XG4gICAgdmFyIHN0cmF0ID0gc3RyYXRzW2tleV0gfHwgZGVmYXVsdFN0cmF0O1xuICAgIG9wdGlvbnNba2V5XSA9IHN0cmF0KHBhcmVudFtrZXldLCBjaGlsZFtrZXldLCB2bSwga2V5KTtcbiAgfVxuICByZXR1cm4gb3B0aW9uc1xufVxuXG4vKipcbiAqIFJlc29sdmUgYW4gYXNzZXQuXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYmVjYXVzZSBjaGlsZCBpbnN0YW5jZXMgbmVlZCBhY2Nlc3NcbiAqIHRvIGFzc2V0cyBkZWZpbmVkIGluIGl0cyBhbmNlc3RvciBjaGFpbi5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUFzc2V0IChcbiAgb3B0aW9ucyxcbiAgdHlwZSxcbiAgaWQsXG4gIHdhcm5NaXNzaW5nXG4pIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGFzc2V0cyA9IG9wdGlvbnNbdHlwZV07XG4gIC8vIGNoZWNrIGxvY2FsIHJlZ2lzdHJhdGlvbiB2YXJpYXRpb25zIGZpcnN0XG4gIGlmIChoYXNPd24oYXNzZXRzLCBpZCkpIHsgcmV0dXJuIGFzc2V0c1tpZF0gfVxuICB2YXIgY2FtZWxpemVkSWQgPSBjYW1lbGl6ZShpZCk7XG4gIGlmIChoYXNPd24oYXNzZXRzLCBjYW1lbGl6ZWRJZCkpIHsgcmV0dXJuIGFzc2V0c1tjYW1lbGl6ZWRJZF0gfVxuICB2YXIgUGFzY2FsQ2FzZUlkID0gY2FwaXRhbGl6ZShjYW1lbGl6ZWRJZCk7XG4gIGlmIChoYXNPd24oYXNzZXRzLCBQYXNjYWxDYXNlSWQpKSB7IHJldHVybiBhc3NldHNbUGFzY2FsQ2FzZUlkXSB9XG4gIC8vIGZhbGxiYWNrIHRvIHByb3RvdHlwZSBjaGFpblxuICB2YXIgcmVzID0gYXNzZXRzW2lkXSB8fCBhc3NldHNbY2FtZWxpemVkSWRdIHx8IGFzc2V0c1tQYXNjYWxDYXNlSWRdO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuTWlzc2luZyAmJiAhcmVzKSB7XG4gICAgd2FybihcbiAgICAgICdGYWlsZWQgdG8gcmVzb2x2ZSAnICsgdHlwZS5zbGljZSgwLCAtMSkgKyAnOiAnICsgaWQsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qICAqL1xuXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wIChcbiAga2V5LFxuICBwcm9wT3B0aW9ucyxcbiAgcHJvcHNEYXRhLFxuICB2bVxuKSB7XG4gIHZhciBwcm9wID0gcHJvcE9wdGlvbnNba2V5XTtcbiAgdmFyIGFic2VudCA9ICFoYXNPd24ocHJvcHNEYXRhLCBrZXkpO1xuICB2YXIgdmFsdWUgPSBwcm9wc0RhdGFba2V5XTtcbiAgLy8gYm9vbGVhbiBjYXN0aW5nXG4gIHZhciBib29sZWFuSW5kZXggPSBnZXRUeXBlSW5kZXgoQm9vbGVhbiwgcHJvcC50eXBlKTtcbiAgaWYgKGJvb2xlYW5JbmRleCA+IC0xKSB7XG4gICAgaWYgKGFic2VudCAmJiAhaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcbiAgICAgIHZhbHVlID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSB7XG4gICAgICAvLyBvbmx5IGNhc3QgZW1wdHkgc3RyaW5nIC8gc2FtZSBuYW1lIHRvIGJvb2xlYW4gaWZcbiAgICAgIC8vIGJvb2xlYW4gaGFzIGhpZ2hlciBwcmlvcml0eVxuICAgICAgdmFyIHN0cmluZ0luZGV4ID0gZ2V0VHlwZUluZGV4KFN0cmluZywgcHJvcC50eXBlKTtcbiAgICAgIGlmIChzdHJpbmdJbmRleCA8IDAgfHwgYm9vbGVhbkluZGV4IDwgc3RyaW5nSW5kZXgpIHtcbiAgICAgICAgdmFsdWUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBjaGVjayBkZWZhdWx0IHZhbHVlXG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFsdWUgPSBnZXRQcm9wRGVmYXVsdFZhbHVlKHZtLCBwcm9wLCBrZXkpO1xuICAgIC8vIHNpbmNlIHRoZSBkZWZhdWx0IHZhbHVlIGlzIGEgZnJlc2ggY29weSxcbiAgICAvLyBtYWtlIHN1cmUgdG8gb2JzZXJ2ZSBpdC5cbiAgICB2YXIgcHJldlNob3VsZE9ic2VydmUgPSBzaG91bGRPYnNlcnZlO1xuICAgIHRvZ2dsZU9ic2VydmluZyh0cnVlKTtcbiAgICBvYnNlcnZlKHZhbHVlKTtcbiAgICB0b2dnbGVPYnNlcnZpbmcocHJldlNob3VsZE9ic2VydmUpO1xuICB9XG4gIGlmIChcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgLy8gc2tpcCB2YWxpZGF0aW9uIGZvciB3ZWV4IHJlY3ljbGUtbGlzdCBjaGlsZCBjb21wb25lbnQgcHJvcHNcbiAgICAhKGZhbHNlKVxuICApIHtcbiAgICBhc3NlcnRQcm9wKHByb3AsIGtleSwgdmFsdWUsIHZtLCBhYnNlbnQpO1xuICB9XG4gIHJldHVybiB2YWx1ZVxufVxuXG4vKipcbiAqIEdldCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhIHByb3AuXG4gKi9cbmZ1bmN0aW9uIGdldFByb3BEZWZhdWx0VmFsdWUgKHZtLCBwcm9wLCBrZXkpIHtcbiAgLy8gbm8gZGVmYXVsdCwgcmV0dXJuIHVuZGVmaW5lZFxuICBpZiAoIWhhc093bihwcm9wLCAnZGVmYXVsdCcpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG4gIHZhciBkZWYgPSBwcm9wLmRlZmF1bHQ7XG4gIC8vIHdhcm4gYWdhaW5zdCBub24tZmFjdG9yeSBkZWZhdWx0cyBmb3IgT2JqZWN0ICYgQXJyYXlcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaXNPYmplY3QoZGVmKSkge1xuICAgIHdhcm4oXG4gICAgICAnSW52YWxpZCBkZWZhdWx0IHZhbHVlIGZvciBwcm9wIFwiJyArIGtleSArICdcIjogJyArXG4gICAgICAnUHJvcHMgd2l0aCB0eXBlIE9iamVjdC9BcnJheSBtdXN0IHVzZSBhIGZhY3RvcnkgZnVuY3Rpb24gJyArXG4gICAgICAndG8gcmV0dXJuIHRoZSBkZWZhdWx0IHZhbHVlLicsXG4gICAgICB2bVxuICAgICk7XG4gIH1cbiAgLy8gdGhlIHJhdyBwcm9wIHZhbHVlIHdhcyBhbHNvIHVuZGVmaW5lZCBmcm9tIHByZXZpb3VzIHJlbmRlcixcbiAgLy8gcmV0dXJuIHByZXZpb3VzIGRlZmF1bHQgdmFsdWUgdG8gYXZvaWQgdW5uZWNlc3Nhcnkgd2F0Y2hlciB0cmlnZ2VyXG4gIGlmICh2bSAmJiB2bS4kb3B0aW9ucy5wcm9wc0RhdGEgJiZcbiAgICB2bS4kb3B0aW9ucy5wcm9wc0RhdGFba2V5XSA9PT0gdW5kZWZpbmVkICYmXG4gICAgdm0uX3Byb3BzW2tleV0gIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICByZXR1cm4gdm0uX3Byb3BzW2tleV1cbiAgfVxuICAvLyBjYWxsIGZhY3RvcnkgZnVuY3Rpb24gZm9yIG5vbi1GdW5jdGlvbiB0eXBlc1xuICAvLyBhIHZhbHVlIGlzIEZ1bmN0aW9uIGlmIGl0cyBwcm90b3R5cGUgaXMgZnVuY3Rpb24gZXZlbiBhY3Jvc3MgZGlmZmVyZW50IGV4ZWN1dGlvbiBjb250ZXh0XG4gIHJldHVybiB0eXBlb2YgZGVmID09PSAnZnVuY3Rpb24nICYmIGdldFR5cGUocHJvcC50eXBlKSAhPT0gJ0Z1bmN0aW9uJ1xuICAgID8gZGVmLmNhbGwodm0pXG4gICAgOiBkZWZcbn1cblxuLyoqXG4gKiBBc3NlcnQgd2hldGhlciBhIHByb3AgaXMgdmFsaWQuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFByb3AgKFxuICBwcm9wLFxuICBuYW1lLFxuICB2YWx1ZSxcbiAgdm0sXG4gIGFic2VudFxuKSB7XG4gIGlmIChwcm9wLnJlcXVpcmVkICYmIGFic2VudCkge1xuICAgIHdhcm4oXG4gICAgICAnTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyxcbiAgICAgIHZtXG4gICAgKTtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcHJvcC5yZXF1aXJlZCkge1xuICAgIHJldHVyblxuICB9XG4gIHZhciB0eXBlID0gcHJvcC50eXBlO1xuICB2YXIgdmFsaWQgPSAhdHlwZSB8fCB0eXBlID09PSB0cnVlO1xuICB2YXIgZXhwZWN0ZWRUeXBlcyA9IFtdO1xuICBpZiAodHlwZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgdHlwZSA9IFt0eXBlXTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aCAmJiAhdmFsaWQ7IGkrKykge1xuICAgICAgdmFyIGFzc2VydGVkVHlwZSA9IGFzc2VydFR5cGUodmFsdWUsIHR5cGVbaV0pO1xuICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGFzc2VydGVkVHlwZS5leHBlY3RlZFR5cGUgfHwgJycpO1xuICAgICAgdmFsaWQgPSBhc3NlcnRlZFR5cGUudmFsaWQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKCF2YWxpZCkge1xuICAgIHdhcm4oXG4gICAgICBnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpLFxuICAgICAgdm1cbiAgICApO1xuICAgIHJldHVyblxuICB9XG4gIHZhciB2YWxpZGF0b3IgPSBwcm9wLnZhbGlkYXRvcjtcbiAgaWYgKHZhbGlkYXRvcikge1xuICAgIGlmICghdmFsaWRhdG9yKHZhbHVlKSkge1xuICAgICAgd2FybihcbiAgICAgICAgJ0ludmFsaWQgcHJvcDogY3VzdG9tIHZhbGlkYXRvciBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nLFxuICAgICAgICB2bVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHNpbXBsZUNoZWNrUkUgPSAvXihTdHJpbmd8TnVtYmVyfEJvb2xlYW58RnVuY3Rpb258U3ltYm9sKSQvO1xuXG5mdW5jdGlvbiBhc3NlcnRUeXBlICh2YWx1ZSwgdHlwZSkge1xuICB2YXIgdmFsaWQ7XG4gIHZhciBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpO1xuICBpZiAoc2ltcGxlQ2hlY2tSRS50ZXN0KGV4cGVjdGVkVHlwZSkpIHtcbiAgICB2YXIgdCA9IHR5cGVvZiB2YWx1ZTtcbiAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIC8vIGZvciBwcmltaXRpdmUgd3JhcHBlciBvYmplY3RzXG4gICAgaWYgKCF2YWxpZCAmJiB0ID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ09iamVjdCcpIHtcbiAgICB2YWxpZCA9IGlzUGxhaW5PYmplY3QodmFsdWUpO1xuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ0FycmF5Jykge1xuICAgIHZhbGlkID0gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB2YWxpZDogdmFsaWQsXG4gICAgZXhwZWN0ZWRUeXBlOiBleHBlY3RlZFR5cGVcbiAgfVxufVxuXG4vKipcbiAqIFVzZSBmdW5jdGlvbiBzdHJpbmcgbmFtZSB0byBjaGVjayBidWlsdC1pbiB0eXBlcyxcbiAqIGJlY2F1c2UgYSBzaW1wbGUgZXF1YWxpdHkgY2hlY2sgd2lsbCBmYWlsIHdoZW4gcnVubmluZ1xuICogYWNyb3NzIGRpZmZlcmVudCB2bXMgLyBpZnJhbWVzLlxuICovXG5mdW5jdGlvbiBnZXRUeXBlIChmbikge1xuICB2YXIgbWF0Y2ggPSBmbiAmJiBmbi50b1N0cmluZygpLm1hdGNoKC9eXFxzKmZ1bmN0aW9uIChcXHcrKS8pO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6ICcnXG59XG5cbmZ1bmN0aW9uIGlzU2FtZVR5cGUgKGEsIGIpIHtcbiAgcmV0dXJuIGdldFR5cGUoYSkgPT09IGdldFR5cGUoYilcbn1cblxuZnVuY3Rpb24gZ2V0VHlwZUluZGV4ICh0eXBlLCBleHBlY3RlZFR5cGVzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFR5cGVzKSkge1xuICAgIHJldHVybiBpc1NhbWVUeXBlKGV4cGVjdGVkVHlwZXMsIHR5cGUpID8gMCA6IC0xXG4gIH1cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV4cGVjdGVkVHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoaXNTYW1lVHlwZShleHBlY3RlZFR5cGVzW2ldLCB0eXBlKSkge1xuICAgICAgcmV0dXJuIGlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xXG59XG5cbmZ1bmN0aW9uIGdldEludmFsaWRUeXBlTWVzc2FnZSAobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpIHtcbiAgdmFyIG1lc3NhZ2UgPSBcIkludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXFxcIlwiICsgbmFtZSArIFwiXFxcIi5cIiArXG4gICAgXCIgRXhwZWN0ZWQgXCIgKyAoZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbignLCAnKSk7XG4gIHZhciBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdO1xuICB2YXIgcmVjZWl2ZWRUeXBlID0gdG9SYXdUeXBlKHZhbHVlKTtcbiAgdmFyIGV4cGVjdGVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCBleHBlY3RlZFR5cGUpO1xuICB2YXIgcmVjZWl2ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSk7XG4gIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSBleHBlY3RlZCB2YWx1ZVxuICBpZiAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPT09IDEgJiZcbiAgICAgIGlzRXhwbGljYWJsZShleHBlY3RlZFR5cGUpICYmXG4gICAgICAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xuICAgIG1lc3NhZ2UgKz0gXCIgd2l0aCB2YWx1ZSBcIiArIGV4cGVjdGVkVmFsdWU7XG4gIH1cbiAgbWVzc2FnZSArPSBcIiwgZ290IFwiICsgcmVjZWl2ZWRUeXBlICsgXCIgXCI7XG4gIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSByZWNlaXZlZCB2YWx1ZVxuICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHtcbiAgICBtZXNzYWdlICs9IFwid2l0aCB2YWx1ZSBcIiArIHJlY2VpdmVkVmFsdWUgKyBcIi5cIjtcbiAgfVxuICByZXR1cm4gbWVzc2FnZVxufVxuXG5mdW5jdGlvbiBzdHlsZVZhbHVlICh2YWx1ZSwgdHlwZSkge1xuICBpZiAodHlwZSA9PT0gJ1N0cmluZycpIHtcbiAgICByZXR1cm4gKFwiXFxcIlwiICsgdmFsdWUgKyBcIlxcXCJcIilcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnTnVtYmVyJykge1xuICAgIHJldHVybiAoXCJcIiArIChOdW1iZXIodmFsdWUpKSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFwiXCIgKyB2YWx1ZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0V4cGxpY2FibGUgKHZhbHVlKSB7XG4gIHZhciBleHBsaWNpdFR5cGVzID0gWydzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nXTtcbiAgcmV0dXJuIGV4cGxpY2l0VHlwZXMuc29tZShmdW5jdGlvbiAoZWxlbSkgeyByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbTsgfSlcbn1cblxuZnVuY3Rpb24gaXNCb29sZWFuICgpIHtcbiAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICByZXR1cm4gYXJncy5zb21lKGZ1bmN0aW9uIChlbGVtKSB7IHJldHVybiBlbGVtLnRvTG93ZXJDYXNlKCkgPT09ICdib29sZWFuJzsgfSlcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGhhbmRsZUVycm9yIChlcnIsIHZtLCBpbmZvKSB7XG4gIC8vIERlYWN0aXZhdGUgZGVwcyB0cmFja2luZyB3aGlsZSBwcm9jZXNzaW5nIGVycm9yIGhhbmRsZXIgdG8gYXZvaWQgcG9zc2libGUgaW5maW5pdGUgcmVuZGVyaW5nLlxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWV4L2lzc3Vlcy8xNTA1XG4gIHB1c2hUYXJnZXQoKTtcbiAgdHJ5IHtcbiAgICBpZiAodm0pIHtcbiAgICAgIHZhciBjdXIgPSB2bTtcbiAgICAgIHdoaWxlICgoY3VyID0gY3VyLiRwYXJlbnQpKSB7XG4gICAgICAgIHZhciBob29rcyA9IGN1ci4kb3B0aW9ucy5lcnJvckNhcHR1cmVkO1xuICAgICAgICBpZiAoaG9va3MpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB2YXIgY2FwdHVyZSA9IGhvb2tzW2ldLmNhbGwoY3VyLCBlcnIsIHZtLCBpbmZvKSA9PT0gZmFsc2U7XG4gICAgICAgICAgICAgIGlmIChjYXB0dXJlKSB7IHJldHVybiB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGdsb2JhbEhhbmRsZUVycm9yKGUsIGN1ciwgJ2Vycm9yQ2FwdHVyZWQgaG9vaycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBnbG9iYWxIYW5kbGVFcnJvcihlcnIsIHZtLCBpbmZvKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBwb3BUYXJnZXQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyAoXG4gIGhhbmRsZXIsXG4gIGNvbnRleHQsXG4gIGFyZ3MsXG4gIHZtLFxuICBpbmZvXG4pIHtcbiAgdmFyIHJlcztcbiAgdHJ5IHtcbiAgICByZXMgPSBhcmdzID8gaGFuZGxlci5hcHBseShjb250ZXh0LCBhcmdzKSA6IGhhbmRsZXIuY2FsbChjb250ZXh0KTtcbiAgICBpZiAocmVzICYmICFyZXMuX2lzVnVlICYmIGlzUHJvbWlzZShyZXMpICYmICFyZXMuX2hhbmRsZWQpIHtcbiAgICAgIHJlcy5jYXRjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZSwgdm0sIGluZm8gKyBcIiAoUHJvbWlzZS9hc3luYylcIik7IH0pO1xuICAgICAgLy8gaXNzdWUgIzk1MTFcbiAgICAgIC8vIGF2b2lkIGNhdGNoIHRyaWdnZXJpbmcgbXVsdGlwbGUgdGltZXMgd2hlbiBuZXN0ZWQgY2FsbHNcbiAgICAgIHJlcy5faGFuZGxlZCA9IHRydWU7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaGFuZGxlRXJyb3IoZSwgdm0sIGluZm8pO1xuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gZ2xvYmFsSGFuZGxlRXJyb3IgKGVyciwgdm0sIGluZm8pIHtcbiAgaWYgKGNvbmZpZy5lcnJvckhhbmRsZXIpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGNvbmZpZy5lcnJvckhhbmRsZXIuY2FsbChudWxsLCBlcnIsIHZtLCBpbmZvKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGlmIHRoZSB1c2VyIGludGVudGlvbmFsbHkgdGhyb3dzIHRoZSBvcmlnaW5hbCBlcnJvciBpbiB0aGUgaGFuZGxlcixcbiAgICAgIC8vIGRvIG5vdCBsb2cgaXQgdHdpY2VcbiAgICAgIGlmIChlICE9PSBlcnIpIHtcbiAgICAgICAgbG9nRXJyb3IoZSwgbnVsbCwgJ2NvbmZpZy5lcnJvckhhbmRsZXInKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbG9nRXJyb3IoZXJyLCB2bSwgaW5mbyk7XG59XG5cbmZ1bmN0aW9uIGxvZ0Vycm9yIChlcnIsIHZtLCBpbmZvKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgd2FybigoXCJFcnJvciBpbiBcIiArIGluZm8gKyBcIjogXFxcIlwiICsgKGVyci50b1N0cmluZygpKSArIFwiXFxcIlwiKSwgdm0pO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmICgoaW5Ccm93c2VyIHx8IGluV2VleCkgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IGVyclxuICB9XG59XG5cbi8qICAqL1xuXG52YXIgaXNVc2luZ01pY3JvVGFzayA9IGZhbHNlO1xuXG52YXIgY2FsbGJhY2tzID0gW107XG52YXIgcGVuZGluZyA9IGZhbHNlO1xuXG5mdW5jdGlvbiBmbHVzaENhbGxiYWNrcyAoKSB7XG4gIHBlbmRpbmcgPSBmYWxzZTtcbiAgdmFyIGNvcGllcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcbiAgY2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY29waWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29waWVzW2ldKCk7XG4gIH1cbn1cblxuLy8gSGVyZSB3ZSBoYXZlIGFzeW5jIGRlZmVycmluZyB3cmFwcGVycyB1c2luZyBtaWNyb3Rhc2tzLlxuLy8gSW4gMi41IHdlIHVzZWQgKG1hY3JvKSB0YXNrcyAoaW4gY29tYmluYXRpb24gd2l0aCBtaWNyb3Rhc2tzKS5cbi8vIEhvd2V2ZXIsIGl0IGhhcyBzdWJ0bGUgcHJvYmxlbXMgd2hlbiBzdGF0ZSBpcyBjaGFuZ2VkIHJpZ2h0IGJlZm9yZSByZXBhaW50XG4vLyAoZS5nLiAjNjgxMywgb3V0LWluIHRyYW5zaXRpb25zKS5cbi8vIEFsc28sIHVzaW5nIChtYWNybykgdGFza3MgaW4gZXZlbnQgaGFuZGxlciB3b3VsZCBjYXVzZSBzb21lIHdlaXJkIGJlaGF2aW9yc1xuLy8gdGhhdCBjYW5ub3QgYmUgY2lyY3VtdmVudGVkIChlLmcuICM3MTA5LCAjNzE1MywgIzc1NDYsICM3ODM0LCAjODEwOSkuXG4vLyBTbyB3ZSBub3cgdXNlIG1pY3JvdGFza3MgZXZlcnl3aGVyZSwgYWdhaW4uXG4vLyBBIG1ham9yIGRyYXdiYWNrIG9mIHRoaXMgdHJhZGVvZmYgaXMgdGhhdCB0aGVyZSBhcmUgc29tZSBzY2VuYXJpb3Ncbi8vIHdoZXJlIG1pY3JvdGFza3MgaGF2ZSB0b28gaGlnaCBhIHByaW9yaXR5IGFuZCBmaXJlIGluIGJldHdlZW4gc3VwcG9zZWRseVxuLy8gc2VxdWVudGlhbCBldmVudHMgKGUuZy4gIzQ1MjEsICM2NjkwLCB3aGljaCBoYXZlIHdvcmthcm91bmRzKVxuLy8gb3IgZXZlbiBiZXR3ZWVuIGJ1YmJsaW5nIG9mIHRoZSBzYW1lIGV2ZW50ICgjNjU2NikuXG52YXIgdGltZXJGdW5jO1xuXG4vLyBUaGUgbmV4dFRpY2sgYmVoYXZpb3IgbGV2ZXJhZ2VzIHRoZSBtaWNyb3Rhc2sgcXVldWUsIHdoaWNoIGNhbiBiZSBhY2Nlc3NlZFxuLy8gdmlhIGVpdGhlciBuYXRpdmUgUHJvbWlzZS50aGVuIG9yIE11dGF0aW9uT2JzZXJ2ZXIuXG4vLyBNdXRhdGlvbk9ic2VydmVyIGhhcyB3aWRlciBzdXBwb3J0LCBob3dldmVyIGl0IGlzIHNlcmlvdXNseSBidWdnZWQgaW5cbi8vIFVJV2ViVmlldyBpbiBpT1MgPj0gOS4zLjMgd2hlbiB0cmlnZ2VyZWQgaW4gdG91Y2ggZXZlbnQgaGFuZGxlcnMuIEl0XG4vLyBjb21wbGV0ZWx5IHN0b3BzIHdvcmtpbmcgYWZ0ZXIgdHJpZ2dlcmluZyBhIGZldyB0aW1lcy4uLiBzbywgaWYgbmF0aXZlXG4vLyBQcm9taXNlIGlzIGF2YWlsYWJsZSwgd2Ugd2lsbCB1c2UgaXQ6XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCwgJGZsb3ctZGlzYWJsZS1saW5lICovXG5pZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKFByb21pc2UpKSB7XG4gIHZhciBwID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICBwLnRoZW4oZmx1c2hDYWxsYmFja3MpO1xuICAgIC8vIEluIHByb2JsZW1hdGljIFVJV2ViVmlld3MsIFByb21pc2UudGhlbiBkb2Vzbid0IGNvbXBsZXRlbHkgYnJlYWssIGJ1dFxuICAgIC8vIGl0IGNhbiBnZXQgc3R1Y2sgaW4gYSB3ZWlyZCBzdGF0ZSB3aGVyZSBjYWxsYmFja3MgYXJlIHB1c2hlZCBpbnRvIHRoZVxuICAgIC8vIG1pY3JvdGFzayBxdWV1ZSBidXQgdGhlIHF1ZXVlIGlzbid0IGJlaW5nIGZsdXNoZWQsIHVudGlsIHRoZSBicm93c2VyXG4gICAgLy8gbmVlZHMgdG8gZG8gc29tZSBvdGhlciB3b3JrLCBlLmcuIGhhbmRsZSBhIHRpbWVyLiBUaGVyZWZvcmUgd2UgY2FuXG4gICAgLy8gXCJmb3JjZVwiIHRoZSBtaWNyb3Rhc2sgcXVldWUgdG8gYmUgZmx1c2hlZCBieSBhZGRpbmcgYW4gZW1wdHkgdGltZXIuXG4gICAgaWYgKGlzSU9TKSB7IHNldFRpbWVvdXQobm9vcCk7IH1cbiAgfTtcbiAgaXNVc2luZ01pY3JvVGFzayA9IHRydWU7XG59IGVsc2UgaWYgKCFpc0lFICYmIHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSAndW5kZWZpbmVkJyAmJiAoXG4gIGlzTmF0aXZlKE11dGF0aW9uT2JzZXJ2ZXIpIHx8XG4gIC8vIFBoYW50b21KUyBhbmQgaU9TIDcueFxuICBNdXRhdGlvbk9ic2VydmVyLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3Rvcl0nXG4pKSB7XG4gIC8vIFVzZSBNdXRhdGlvbk9ic2VydmVyIHdoZXJlIG5hdGl2ZSBQcm9taXNlIGlzIG5vdCBhdmFpbGFibGUsXG4gIC8vIGUuZy4gUGhhbnRvbUpTLCBpT1M3LCBBbmRyb2lkIDQuNFxuICAvLyAoIzY0NjYgTXV0YXRpb25PYnNlcnZlciBpcyB1bnJlbGlhYmxlIGluIElFMTEpXG4gIHZhciBjb3VudGVyID0gMTtcbiAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZmx1c2hDYWxsYmFja3MpO1xuICB2YXIgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcoY291bnRlcikpO1xuICBvYnNlcnZlci5vYnNlcnZlKHRleHROb2RlLCB7XG4gICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxuICB9KTtcbiAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgIGNvdW50ZXIgPSAoY291bnRlciArIDEpICUgMjtcbiAgICB0ZXh0Tm9kZS5kYXRhID0gU3RyaW5nKGNvdW50ZXIpO1xuICB9O1xuICBpc1VzaW5nTWljcm9UYXNrID0gdHJ1ZTtcbn0gZWxzZSBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoc2V0SW1tZWRpYXRlKSkge1xuICAvLyBGYWxsYmFjayB0byBzZXRJbW1lZGlhdGUuXG4gIC8vIFRlY2huaWNhbGx5IGl0IGxldmVyYWdlcyB0aGUgKG1hY3JvKSB0YXNrIHF1ZXVlLFxuICAvLyBidXQgaXQgaXMgc3RpbGwgYSBiZXR0ZXIgY2hvaWNlIHRoYW4gc2V0VGltZW91dC5cbiAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgIHNldEltbWVkaWF0ZShmbHVzaENhbGxiYWNrcyk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBGYWxsYmFjayB0byBzZXRUaW1lb3V0LlxuICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dChmbHVzaENhbGxiYWNrcywgMCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG5leHRUaWNrIChjYiwgY3R4KSB7XG4gIHZhciBfcmVzb2x2ZTtcbiAgY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2IuY2FsbChjdHgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBoYW5kbGVFcnJvcihlLCBjdHgsICduZXh0VGljaycpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoX3Jlc29sdmUpIHtcbiAgICAgIF9yZXNvbHZlKGN0eCk7XG4gICAgfVxuICB9KTtcbiAgaWYgKCFwZW5kaW5nKSB7XG4gICAgcGVuZGluZyA9IHRydWU7XG4gICAgdGltZXJGdW5jKCk7XG4gIH1cbiAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXG4gIGlmICghY2IgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICBfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgfSlcbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIG1hcms7XG52YXIgbWVhc3VyZTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIHBlcmYgPSBpbkJyb3dzZXIgJiYgd2luZG93LnBlcmZvcm1hbmNlO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKFxuICAgIHBlcmYgJiZcbiAgICBwZXJmLm1hcmsgJiZcbiAgICBwZXJmLm1lYXN1cmUgJiZcbiAgICBwZXJmLmNsZWFyTWFya3MgJiZcbiAgICBwZXJmLmNsZWFyTWVhc3VyZXNcbiAgKSB7XG4gICAgbWFyayA9IGZ1bmN0aW9uICh0YWcpIHsgcmV0dXJuIHBlcmYubWFyayh0YWcpOyB9O1xuICAgIG1lYXN1cmUgPSBmdW5jdGlvbiAobmFtZSwgc3RhcnRUYWcsIGVuZFRhZykge1xuICAgICAgcGVyZi5tZWFzdXJlKG5hbWUsIHN0YXJ0VGFnLCBlbmRUYWcpO1xuICAgICAgcGVyZi5jbGVhck1hcmtzKHN0YXJ0VGFnKTtcbiAgICAgIHBlcmYuY2xlYXJNYXJrcyhlbmRUYWcpO1xuICAgICAgLy8gcGVyZi5jbGVhck1lYXN1cmVzKG5hbWUpXG4gICAgfTtcbiAgfVxufVxuXG4vKiBub3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgcGxheSB3ZWxsIHdpdGggUHJveHkgKi9cblxudmFyIGluaXRQcm94eTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIGFsbG93ZWRHbG9iYWxzID0gbWFrZU1hcChcbiAgICAnSW5maW5pdHksdW5kZWZpbmVkLE5hTixpc0Zpbml0ZSxpc05hTiwnICtcbiAgICAncGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsJyArXG4gICAgJ01hdGgsTnVtYmVyLERhdGUsQXJyYXksT2JqZWN0LEJvb2xlYW4sU3RyaW5nLFJlZ0V4cCxNYXAsU2V0LEpTT04sSW50bCwnICtcbiAgICAncmVxdWlyZScgLy8gZm9yIFdlYnBhY2svQnJvd3NlcmlmeVxuICApO1xuXG4gIHZhciB3YXJuTm9uUHJlc2VudCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgIHdhcm4oXG4gICAgICBcIlByb3BlcnR5IG9yIG1ldGhvZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaXMgbm90IGRlZmluZWQgb24gdGhlIGluc3RhbmNlIGJ1dCBcIiArXG4gICAgICAncmVmZXJlbmNlZCBkdXJpbmcgcmVuZGVyLiBNYWtlIHN1cmUgdGhhdCB0aGlzIHByb3BlcnR5IGlzIHJlYWN0aXZlLCAnICtcbiAgICAgICdlaXRoZXIgaW4gdGhlIGRhdGEgb3B0aW9uLCBvciBmb3IgY2xhc3MtYmFzZWQgY29tcG9uZW50cywgYnkgJyArXG4gICAgICAnaW5pdGlhbGl6aW5nIHRoZSBwcm9wZXJ0eS4gJyArXG4gICAgICAnU2VlOiBodHRwczovL3Z1ZWpzLm9yZy92Mi9ndWlkZS9yZWFjdGl2aXR5Lmh0bWwjRGVjbGFyaW5nLVJlYWN0aXZlLVByb3BlcnRpZXMuJyxcbiAgICAgIHRhcmdldFxuICAgICk7XG4gIH07XG5cbiAgdmFyIHdhcm5SZXNlcnZlZFByZWZpeCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgIHdhcm4oXG4gICAgICBcIlByb3BlcnR5IFxcXCJcIiArIGtleSArIFwiXFxcIiBtdXN0IGJlIGFjY2Vzc2VkIHdpdGggXFxcIiRkYXRhLlwiICsga2V5ICsgXCJcXFwiIGJlY2F1c2UgXCIgK1xuICAgICAgJ3Byb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCBcIiRcIiBvciBcIl9cIiBhcmUgbm90IHByb3hpZWQgaW4gdGhlIFZ1ZSBpbnN0YW5jZSB0byAnICtcbiAgICAgICdwcmV2ZW50IGNvbmZsaWN0cyB3aXRoIFZ1ZSBpbnRlcm5hbHMuICcgK1xuICAgICAgJ1NlZTogaHR0cHM6Ly92dWVqcy5vcmcvdjIvYXBpLyNkYXRhJyxcbiAgICAgIHRhcmdldFxuICAgICk7XG4gIH07XG5cbiAgdmFyIGhhc1Byb3h5ID1cbiAgICB0eXBlb2YgUHJveHkgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKFByb3h5KTtcblxuICBpZiAoaGFzUHJveHkpIHtcbiAgICB2YXIgaXNCdWlsdEluTW9kaWZpZXIgPSBtYWtlTWFwKCdzdG9wLHByZXZlbnQsc2VsZixjdHJsLHNoaWZ0LGFsdCxtZXRhLGV4YWN0Jyk7XG4gICAgY29uZmlnLmtleUNvZGVzID0gbmV3IFByb3h5KGNvbmZpZy5rZXlDb2Rlcywge1xuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQgKHRhcmdldCwga2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaXNCdWlsdEluTW9kaWZpZXIoa2V5KSkge1xuICAgICAgICAgIHdhcm4oKFwiQXZvaWQgb3ZlcndyaXRpbmcgYnVpbHQtaW4gbW9kaWZpZXIgaW4gY29uZmlnLmtleUNvZGVzOiAuXCIgKyBrZXkpKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBoYXNIYW5kbGVyID0ge1xuICAgIGhhczogZnVuY3Rpb24gaGFzICh0YXJnZXQsIGtleSkge1xuICAgICAgdmFyIGhhcyA9IGtleSBpbiB0YXJnZXQ7XG4gICAgICB2YXIgaXNBbGxvd2VkID0gYWxsb3dlZEdsb2JhbHMoa2V5KSB8fFxuICAgICAgICAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5LmNoYXJBdCgwKSA9PT0gJ18nICYmICEoa2V5IGluIHRhcmdldC4kZGF0YSkpO1xuICAgICAgaWYgKCFoYXMgJiYgIWlzQWxsb3dlZCkge1xuICAgICAgICBpZiAoa2V5IGluIHRhcmdldC4kZGF0YSkgeyB3YXJuUmVzZXJ2ZWRQcmVmaXgodGFyZ2V0LCBrZXkpOyB9XG4gICAgICAgIGVsc2UgeyB3YXJuTm9uUHJlc2VudCh0YXJnZXQsIGtleSk7IH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXMgfHwgIWlzQWxsb3dlZFxuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0SGFuZGxlciA9IHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCAodGFyZ2V0LCBrZXkpIHtcbiAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiAhKGtleSBpbiB0YXJnZXQpKSB7XG4gICAgICAgIGlmIChrZXkgaW4gdGFyZ2V0LiRkYXRhKSB7IHdhcm5SZXNlcnZlZFByZWZpeCh0YXJnZXQsIGtleSk7IH1cbiAgICAgICAgZWxzZSB7IHdhcm5Ob25QcmVzZW50KHRhcmdldCwga2V5KTsgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldFtrZXldXG4gICAgfVxuICB9O1xuXG4gIGluaXRQcm94eSA9IGZ1bmN0aW9uIGluaXRQcm94eSAodm0pIHtcbiAgICBpZiAoaGFzUHJveHkpIHtcbiAgICAgIC8vIGRldGVybWluZSB3aGljaCBwcm94eSBoYW5kbGVyIHRvIHVzZVxuICAgICAgdmFyIG9wdGlvbnMgPSB2bS4kb3B0aW9ucztcbiAgICAgIHZhciBoYW5kbGVycyA9IG9wdGlvbnMucmVuZGVyICYmIG9wdGlvbnMucmVuZGVyLl93aXRoU3RyaXBwZWRcbiAgICAgICAgPyBnZXRIYW5kbGVyXG4gICAgICAgIDogaGFzSGFuZGxlcjtcbiAgICAgIHZtLl9yZW5kZXJQcm94eSA9IG5ldyBQcm94eSh2bSwgaGFuZGxlcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS5fcmVuZGVyUHJveHkgPSB2bTtcbiAgICB9XG4gIH07XG59XG5cbi8qICAqL1xuXG52YXIgc2Vlbk9iamVjdHMgPSBuZXcgX1NldCgpO1xuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIGFuIG9iamVjdCB0byBldm9rZSBhbGwgY29udmVydGVkXG4gKiBnZXR0ZXJzLCBzbyB0aGF0IGV2ZXJ5IG5lc3RlZCBwcm9wZXJ0eSBpbnNpZGUgdGhlIG9iamVjdFxuICogaXMgY29sbGVjdGVkIGFzIGEgXCJkZWVwXCIgZGVwZW5kZW5jeS5cbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2UgKHZhbCkge1xuICBfdHJhdmVyc2UodmFsLCBzZWVuT2JqZWN0cyk7XG4gIHNlZW5PYmplY3RzLmNsZWFyKCk7XG59XG5cbmZ1bmN0aW9uIF90cmF2ZXJzZSAodmFsLCBzZWVuKSB7XG4gIHZhciBpLCBrZXlzO1xuICB2YXIgaXNBID0gQXJyYXkuaXNBcnJheSh2YWwpO1xuICBpZiAoKCFpc0EgJiYgIWlzT2JqZWN0KHZhbCkpIHx8IE9iamVjdC5pc0Zyb3plbih2YWwpIHx8IHZhbCBpbnN0YW5jZW9mIFZOb2RlKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKHZhbC5fX29iX18pIHtcbiAgICB2YXIgZGVwSWQgPSB2YWwuX19vYl9fLmRlcC5pZDtcbiAgICBpZiAoc2Vlbi5oYXMoZGVwSWQpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgc2Vlbi5hZGQoZGVwSWQpO1xuICB9XG4gIGlmIChpc0EpIHtcbiAgICBpID0gdmFsLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7IF90cmF2ZXJzZSh2YWxbaV0sIHNlZW4pOyB9XG4gIH0gZWxzZSB7XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHZhbCk7XG4gICAgaSA9IGtleXMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHsgX3RyYXZlcnNlKHZhbFtrZXlzW2ldXSwgc2Vlbik7IH1cbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIG5vcm1hbGl6ZUV2ZW50ID0gY2FjaGVkKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciBwYXNzaXZlID0gbmFtZS5jaGFyQXQoMCkgPT09ICcmJztcbiAgbmFtZSA9IHBhc3NpdmUgPyBuYW1lLnNsaWNlKDEpIDogbmFtZTtcbiAgdmFyIG9uY2UkJDEgPSBuYW1lLmNoYXJBdCgwKSA9PT0gJ34nOyAvLyBQcmVmaXhlZCBsYXN0LCBjaGVja2VkIGZpcnN0XG4gIG5hbWUgPSBvbmNlJCQxID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7XG4gIHZhciBjYXB0dXJlID0gbmFtZS5jaGFyQXQoMCkgPT09ICchJztcbiAgbmFtZSA9IGNhcHR1cmUgPyBuYW1lLnNsaWNlKDEpIDogbmFtZTtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIG9uY2U6IG9uY2UkJDEsXG4gICAgY2FwdHVyZTogY2FwdHVyZSxcbiAgICBwYXNzaXZlOiBwYXNzaXZlXG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVGbkludm9rZXIgKGZucywgdm0pIHtcbiAgZnVuY3Rpb24gaW52b2tlciAoKSB7XG4gICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgdmFyIGZucyA9IGludm9rZXIuZm5zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZucykpIHtcbiAgICAgIHZhciBjbG9uZWQgPSBmbnMuc2xpY2UoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xvbmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGNsb25lZFtpXSwgbnVsbCwgYXJndW1lbnRzJDEsIHZtLCBcInYtb24gaGFuZGxlclwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmV0dXJuIGhhbmRsZXIgcmV0dXJuIHZhbHVlIGZvciBzaW5nbGUgaGFuZGxlcnNcbiAgICAgIHJldHVybiBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhmbnMsIG51bGwsIGFyZ3VtZW50cywgdm0sIFwidi1vbiBoYW5kbGVyXCIpXG4gICAgfVxuICB9XG4gIGludm9rZXIuZm5zID0gZm5zO1xuICByZXR1cm4gaW52b2tlclxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaXN0ZW5lcnMgKFxuICBvbixcbiAgb2xkT24sXG4gIGFkZCxcbiAgcmVtb3ZlJCQxLFxuICBjcmVhdGVPbmNlSGFuZGxlcixcbiAgdm1cbikge1xuICB2YXIgbmFtZSwgZGVmJCQxLCBjdXIsIG9sZCwgZXZlbnQ7XG4gIGZvciAobmFtZSBpbiBvbikge1xuICAgIGRlZiQkMSA9IGN1ciA9IG9uW25hbWVdO1xuICAgIG9sZCA9IG9sZE9uW25hbWVdO1xuICAgIGV2ZW50ID0gbm9ybWFsaXplRXZlbnQobmFtZSk7XG4gICAgaWYgKGlzVW5kZWYoY3VyKSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICBcIkludmFsaWQgaGFuZGxlciBmb3IgZXZlbnQgXFxcIlwiICsgKGV2ZW50Lm5hbWUpICsgXCJcXFwiOiBnb3QgXCIgKyBTdHJpbmcoY3VyKSxcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChpc1VuZGVmKG9sZCkpIHtcbiAgICAgIGlmIChpc1VuZGVmKGN1ci5mbnMpKSB7XG4gICAgICAgIGN1ciA9IG9uW25hbWVdID0gY3JlYXRlRm5JbnZva2VyKGN1ciwgdm0pO1xuICAgICAgfVxuICAgICAgaWYgKGlzVHJ1ZShldmVudC5vbmNlKSkge1xuICAgICAgICBjdXIgPSBvbltuYW1lXSA9IGNyZWF0ZU9uY2VIYW5kbGVyKGV2ZW50Lm5hbWUsIGN1ciwgZXZlbnQuY2FwdHVyZSk7XG4gICAgICB9XG4gICAgICBhZGQoZXZlbnQubmFtZSwgY3VyLCBldmVudC5jYXB0dXJlLCBldmVudC5wYXNzaXZlLCBldmVudC5wYXJhbXMpO1xuICAgIH0gZWxzZSBpZiAoY3VyICE9PSBvbGQpIHtcbiAgICAgIG9sZC5mbnMgPSBjdXI7XG4gICAgICBvbltuYW1lXSA9IG9sZDtcbiAgICB9XG4gIH1cbiAgZm9yIChuYW1lIGluIG9sZE9uKSB7XG4gICAgaWYgKGlzVW5kZWYob25bbmFtZV0pKSB7XG4gICAgICBldmVudCA9IG5vcm1hbGl6ZUV2ZW50KG5hbWUpO1xuICAgICAgcmVtb3ZlJCQxKGV2ZW50Lm5hbWUsIG9sZE9uW25hbWVdLCBldmVudC5jYXB0dXJlKTtcbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIG1lcmdlVk5vZGVIb29rIChkZWYsIGhvb2tLZXksIGhvb2spIHtcbiAgaWYgKGRlZiBpbnN0YW5jZW9mIFZOb2RlKSB7XG4gICAgZGVmID0gZGVmLmRhdGEuaG9vayB8fCAoZGVmLmRhdGEuaG9vayA9IHt9KTtcbiAgfVxuICB2YXIgaW52b2tlcjtcbiAgdmFyIG9sZEhvb2sgPSBkZWZbaG9va0tleV07XG5cbiAgZnVuY3Rpb24gd3JhcHBlZEhvb2sgKCkge1xuICAgIGhvb2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAvLyBpbXBvcnRhbnQ6IHJlbW92ZSBtZXJnZWQgaG9vayB0byBlbnN1cmUgaXQncyBjYWxsZWQgb25seSBvbmNlXG4gICAgLy8gYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtcbiAgICByZW1vdmUoaW52b2tlci5mbnMsIHdyYXBwZWRIb29rKTtcbiAgfVxuXG4gIGlmIChpc1VuZGVmKG9sZEhvb2spKSB7XG4gICAgLy8gbm8gZXhpc3RpbmcgaG9va1xuICAgIGludm9rZXIgPSBjcmVhdGVGbkludm9rZXIoW3dyYXBwZWRIb29rXSk7XG4gIH0gZWxzZSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGlzRGVmKG9sZEhvb2suZm5zKSAmJiBpc1RydWUob2xkSG9vay5tZXJnZWQpKSB7XG4gICAgICAvLyBhbHJlYWR5IGEgbWVyZ2VkIGludm9rZXJcbiAgICAgIGludm9rZXIgPSBvbGRIb29rO1xuICAgICAgaW52b2tlci5mbnMucHVzaCh3cmFwcGVkSG9vayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGV4aXN0aW5nIHBsYWluIGhvb2tcbiAgICAgIGludm9rZXIgPSBjcmVhdGVGbkludm9rZXIoW29sZEhvb2ssIHdyYXBwZWRIb29rXSk7XG4gICAgfVxuICB9XG5cbiAgaW52b2tlci5tZXJnZWQgPSB0cnVlO1xuICBkZWZbaG9va0tleV0gPSBpbnZva2VyO1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YSAoXG4gIGRhdGEsXG4gIEN0b3IsXG4gIHRhZ1xuKSB7XG4gIC8vIHdlIGFyZSBvbmx5IGV4dHJhY3RpbmcgcmF3IHZhbHVlcyBoZXJlLlxuICAvLyB2YWxpZGF0aW9uIGFuZCBkZWZhdWx0IHZhbHVlcyBhcmUgaGFuZGxlZCBpbiB0aGUgY2hpbGRcbiAgLy8gY29tcG9uZW50IGl0c2VsZi5cbiAgdmFyIHByb3BPcHRpb25zID0gQ3Rvci5vcHRpb25zLnByb3BzO1xuICBpZiAoaXNVbmRlZihwcm9wT3B0aW9ucykpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgcmVzID0ge307XG4gIHZhciBhdHRycyA9IGRhdGEuYXR0cnM7XG4gIHZhciBwcm9wcyA9IGRhdGEucHJvcHM7XG4gIGlmIChpc0RlZihhdHRycykgfHwgaXNEZWYocHJvcHMpKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHByb3BPcHRpb25zKSB7XG4gICAgICB2YXIgYWx0S2V5ID0gaHlwaGVuYXRlKGtleSk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YXIga2V5SW5Mb3dlckNhc2UgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGtleSAhPT0ga2V5SW5Mb3dlckNhc2UgJiZcbiAgICAgICAgICBhdHRycyAmJiBoYXNPd24oYXR0cnMsIGtleUluTG93ZXJDYXNlKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aXAoXG4gICAgICAgICAgICBcIlByb3AgXFxcIlwiICsga2V5SW5Mb3dlckNhc2UgKyBcIlxcXCIgaXMgcGFzc2VkIHRvIGNvbXBvbmVudCBcIiArXG4gICAgICAgICAgICAoZm9ybWF0Q29tcG9uZW50TmFtZSh0YWcgfHwgQ3RvcikpICsgXCIsIGJ1dCB0aGUgZGVjbGFyZWQgcHJvcCBuYW1lIGlzXCIgK1xuICAgICAgICAgICAgXCIgXFxcIlwiICsga2V5ICsgXCJcXFwiLiBcIiArXG4gICAgICAgICAgICBcIk5vdGUgdGhhdCBIVE1MIGF0dHJpYnV0ZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgYW5kIGNhbWVsQ2FzZWQgXCIgK1xuICAgICAgICAgICAgXCJwcm9wcyBuZWVkIHRvIHVzZSB0aGVpciBrZWJhYi1jYXNlIGVxdWl2YWxlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIFwiICtcbiAgICAgICAgICAgIFwidGVtcGxhdGVzLiBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcXFwiXCIgKyBhbHRLZXkgKyBcIlxcXCIgaW5zdGVhZCBvZiBcXFwiXCIgKyBrZXkgKyBcIlxcXCIuXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjaGVja1Byb3AocmVzLCBwcm9wcywga2V5LCBhbHRLZXksIHRydWUpIHx8XG4gICAgICBjaGVja1Byb3AocmVzLCBhdHRycywga2V5LCBhbHRLZXksIGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBjaGVja1Byb3AgKFxuICByZXMsXG4gIGhhc2gsXG4gIGtleSxcbiAgYWx0S2V5LFxuICBwcmVzZXJ2ZVxuKSB7XG4gIGlmIChpc0RlZihoYXNoKSkge1xuICAgIGlmIChoYXNPd24oaGFzaCwga2V5KSkge1xuICAgICAgcmVzW2tleV0gPSBoYXNoW2tleV07XG4gICAgICBpZiAoIXByZXNlcnZlKSB7XG4gICAgICAgIGRlbGV0ZSBoYXNoW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSBpZiAoaGFzT3duKGhhc2gsIGFsdEtleSkpIHtcbiAgICAgIHJlc1trZXldID0gaGFzaFthbHRLZXldO1xuICAgICAgaWYgKCFwcmVzZXJ2ZSkge1xuICAgICAgICBkZWxldGUgaGFzaFthbHRLZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8qICAqL1xuXG4vLyBUaGUgdGVtcGxhdGUgY29tcGlsZXIgYXR0ZW1wdHMgdG8gbWluaW1pemUgdGhlIG5lZWQgZm9yIG5vcm1hbGl6YXRpb24gYnlcbi8vIHN0YXRpY2FsbHkgYW5hbHl6aW5nIHRoZSB0ZW1wbGF0ZSBhdCBjb21waWxlIHRpbWUuXG4vL1xuLy8gRm9yIHBsYWluIEhUTUwgbWFya3VwLCBub3JtYWxpemF0aW9uIGNhbiBiZSBjb21wbGV0ZWx5IHNraXBwZWQgYmVjYXVzZSB0aGVcbi8vIGdlbmVyYXRlZCByZW5kZXIgZnVuY3Rpb24gaXMgZ3VhcmFudGVlZCB0byByZXR1cm4gQXJyYXk8Vk5vZGU+LiBUaGVyZSBhcmVcbi8vIHR3byBjYXNlcyB3aGVyZSBleHRyYSBub3JtYWxpemF0aW9uIGlzIG5lZWRlZDpcblxuLy8gMS4gV2hlbiB0aGUgY2hpbGRyZW4gY29udGFpbnMgY29tcG9uZW50cyAtIGJlY2F1c2UgYSBmdW5jdGlvbmFsIGNvbXBvbmVudFxuLy8gbWF5IHJldHVybiBhbiBBcnJheSBpbnN0ZWFkIG9mIGEgc2luZ2xlIHJvb3QuIEluIHRoaXMgY2FzZSwganVzdCBhIHNpbXBsZVxuLy8gbm9ybWFsaXphdGlvbiBpcyBuZWVkZWQgLSBpZiBhbnkgY2hpbGQgaXMgYW4gQXJyYXksIHdlIGZsYXR0ZW4gdGhlIHdob2xlXG4vLyB0aGluZyB3aXRoIEFycmF5LnByb3RvdHlwZS5jb25jYXQuIEl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgb25seSAxLWxldmVsIGRlZXBcbi8vIGJlY2F1c2UgZnVuY3Rpb25hbCBjb21wb25lbnRzIGFscmVhZHkgbm9ybWFsaXplIHRoZWlyIG93biBjaGlsZHJlbi5cbmZ1bmN0aW9uIHNpbXBsZU5vcm1hbGl6ZUNoaWxkcmVuIChjaGlsZHJlbikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW5baV0pKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgY2hpbGRyZW4pXG4gICAgfVxuICB9XG4gIHJldHVybiBjaGlsZHJlblxufVxuXG4vLyAyLiBXaGVuIHRoZSBjaGlsZHJlbiBjb250YWlucyBjb25zdHJ1Y3RzIHRoYXQgYWx3YXlzIGdlbmVyYXRlZCBuZXN0ZWQgQXJyYXlzLFxuLy8gZS5nLiA8dGVtcGxhdGU+LCA8c2xvdD4sIHYtZm9yLCBvciB3aGVuIHRoZSBjaGlsZHJlbiBpcyBwcm92aWRlZCBieSB1c2VyXG4vLyB3aXRoIGhhbmQtd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zIC8gSlNYLiBJbiBzdWNoIGNhc2VzIGEgZnVsbCBub3JtYWxpemF0aW9uXG4vLyBpcyBuZWVkZWQgdG8gY2F0ZXIgdG8gYWxsIHBvc3NpYmxlIHR5cGVzIG9mIGNoaWxkcmVuIHZhbHVlcy5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuIChjaGlsZHJlbikge1xuICByZXR1cm4gaXNQcmltaXRpdmUoY2hpbGRyZW4pXG4gICAgPyBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV1cbiAgICA6IEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pXG4gICAgICA/IG5vcm1hbGl6ZUFycmF5Q2hpbGRyZW4oY2hpbGRyZW4pXG4gICAgICA6IHVuZGVmaW5lZFxufVxuXG5mdW5jdGlvbiBpc1RleHROb2RlIChub2RlKSB7XG4gIHJldHVybiBpc0RlZihub2RlKSAmJiBpc0RlZihub2RlLnRleHQpICYmIGlzRmFsc2Uobm9kZS5pc0NvbW1lbnQpXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5Q2hpbGRyZW4gKGNoaWxkcmVuLCBuZXN0ZWRJbmRleCkge1xuICB2YXIgcmVzID0gW107XG4gIHZhciBpLCBjLCBsYXN0SW5kZXgsIGxhc3Q7XG4gIGZvciAoaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGMgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoaXNVbmRlZihjKSB8fCB0eXBlb2YgYyA9PT0gJ2Jvb2xlYW4nKSB7IGNvbnRpbnVlIH1cbiAgICBsYXN0SW5kZXggPSByZXMubGVuZ3RoIC0gMTtcbiAgICBsYXN0ID0gcmVzW2xhc3RJbmRleF07XG4gICAgLy8gIG5lc3RlZFxuICAgIGlmIChBcnJheS5pc0FycmF5KGMpKSB7XG4gICAgICBpZiAoYy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGMgPSBub3JtYWxpemVBcnJheUNoaWxkcmVuKGMsICgobmVzdGVkSW5kZXggfHwgJycpICsgXCJfXCIgKyBpKSk7XG4gICAgICAgIC8vIG1lcmdlIGFkamFjZW50IHRleHQgbm9kZXNcbiAgICAgICAgaWYgKGlzVGV4dE5vZGUoY1swXSkgJiYgaXNUZXh0Tm9kZShsYXN0KSkge1xuICAgICAgICAgIHJlc1tsYXN0SW5kZXhdID0gY3JlYXRlVGV4dFZOb2RlKGxhc3QudGV4dCArIChjWzBdKS50ZXh0KTtcbiAgICAgICAgICBjLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnB1c2guYXBwbHkocmVzLCBjKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzUHJpbWl0aXZlKGMpKSB7XG4gICAgICBpZiAoaXNUZXh0Tm9kZShsYXN0KSkge1xuICAgICAgICAvLyBtZXJnZSBhZGphY2VudCB0ZXh0IG5vZGVzXG4gICAgICAgIC8vIHRoaXMgaXMgbmVjZXNzYXJ5IGZvciBTU1IgaHlkcmF0aW9uIGJlY2F1c2UgdGV4dCBub2RlcyBhcmVcbiAgICAgICAgLy8gZXNzZW50aWFsbHkgbWVyZ2VkIHdoZW4gcmVuZGVyZWQgdG8gSFRNTCBzdHJpbmdzXG4gICAgICAgIHJlc1tsYXN0SW5kZXhdID0gY3JlYXRlVGV4dFZOb2RlKGxhc3QudGV4dCArIGMpO1xuICAgICAgfSBlbHNlIGlmIChjICE9PSAnJykge1xuICAgICAgICAvLyBjb252ZXJ0IHByaW1pdGl2ZSB0byB2bm9kZVxuICAgICAgICByZXMucHVzaChjcmVhdGVUZXh0Vk5vZGUoYykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNUZXh0Tm9kZShjKSAmJiBpc1RleHROb2RlKGxhc3QpKSB7XG4gICAgICAgIC8vIG1lcmdlIGFkamFjZW50IHRleHQgbm9kZXNcbiAgICAgICAgcmVzW2xhc3RJbmRleF0gPSBjcmVhdGVUZXh0Vk5vZGUobGFzdC50ZXh0ICsgYy50ZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRlZmF1bHQga2V5IGZvciBuZXN0ZWQgYXJyYXkgY2hpbGRyZW4gKGxpa2VseSBnZW5lcmF0ZWQgYnkgdi1mb3IpXG4gICAgICAgIGlmIChpc1RydWUoY2hpbGRyZW4uX2lzVkxpc3QpICYmXG4gICAgICAgICAgaXNEZWYoYy50YWcpICYmXG4gICAgICAgICAgaXNVbmRlZihjLmtleSkgJiZcbiAgICAgICAgICBpc0RlZihuZXN0ZWRJbmRleCkpIHtcbiAgICAgICAgICBjLmtleSA9IFwiX192bGlzdFwiICsgbmVzdGVkSW5kZXggKyBcIl9cIiArIGkgKyBcIl9fXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnB1c2goYyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRQcm92aWRlICh2bSkge1xuICB2YXIgcHJvdmlkZSA9IHZtLiRvcHRpb25zLnByb3ZpZGU7XG4gIGlmIChwcm92aWRlKSB7XG4gICAgdm0uX3Byb3ZpZGVkID0gdHlwZW9mIHByb3ZpZGUgPT09ICdmdW5jdGlvbidcbiAgICAgID8gcHJvdmlkZS5jYWxsKHZtKVxuICAgICAgOiBwcm92aWRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRJbmplY3Rpb25zICh2bSkge1xuICB2YXIgcmVzdWx0ID0gcmVzb2x2ZUluamVjdCh2bS4kb3B0aW9ucy5pbmplY3QsIHZtKTtcbiAgaWYgKHJlc3VsdCkge1xuICAgIHRvZ2dsZU9ic2VydmluZyhmYWxzZSk7XG4gICAgT2JqZWN0LmtleXMocmVzdWx0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwga2V5LCByZXN1bHRba2V5XSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICBcIkF2b2lkIG11dGF0aW5nIGFuIGluamVjdGVkIHZhbHVlIGRpcmVjdGx5IHNpbmNlIHRoZSBjaGFuZ2VzIHdpbGwgYmUgXCIgK1xuICAgICAgICAgICAgXCJvdmVyd3JpdHRlbiB3aGVuZXZlciB0aGUgcHJvdmlkZWQgY29tcG9uZW50IHJlLXJlbmRlcnMuIFwiICtcbiAgICAgICAgICAgIFwiaW5qZWN0aW9uIGJlaW5nIG11dGF0ZWQ6IFxcXCJcIiArIGtleSArIFwiXFxcIlwiLFxuICAgICAgICAgICAgdm1cbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmluZVJlYWN0aXZlJCQxKHZtLCBrZXksIHJlc3VsdFtrZXldKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0b2dnbGVPYnNlcnZpbmcodHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUluamVjdCAoaW5qZWN0LCB2bSkge1xuICBpZiAoaW5qZWN0KSB7XG4gICAgLy8gaW5qZWN0IGlzIDphbnkgYmVjYXVzZSBmbG93IGlzIG5vdCBzbWFydCBlbm91Z2ggdG8gZmlndXJlIG91dCBjYWNoZWRcbiAgICB2YXIgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB2YXIga2V5cyA9IGhhc1N5bWJvbFxuICAgICAgPyBSZWZsZWN0Lm93bktleXMoaW5qZWN0KVxuICAgICAgOiBPYmplY3Qua2V5cyhpbmplY3QpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIC8vICM2NTc0IGluIGNhc2UgdGhlIGluamVjdCBvYmplY3QgaXMgb2JzZXJ2ZWQuLi5cbiAgICAgIGlmIChrZXkgPT09ICdfX29iX18nKSB7IGNvbnRpbnVlIH1cbiAgICAgIHZhciBwcm92aWRlS2V5ID0gaW5qZWN0W2tleV0uZnJvbTtcbiAgICAgIHZhciBzb3VyY2UgPSB2bTtcbiAgICAgIHdoaWxlIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKHNvdXJjZS5fcHJvdmlkZWQgJiYgaGFzT3duKHNvdXJjZS5fcHJvdmlkZWQsIHByb3ZpZGVLZXkpKSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSBzb3VyY2UuX3Byb3ZpZGVkW3Byb3ZpZGVLZXldO1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgc291cmNlID0gc291cmNlLiRwYXJlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICBpZiAoJ2RlZmF1bHQnIGluIGluamVjdFtrZXldKSB7XG4gICAgICAgICAgdmFyIHByb3ZpZGVEZWZhdWx0ID0gaW5qZWN0W2tleV0uZGVmYXVsdDtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHR5cGVvZiBwcm92aWRlRGVmYXVsdCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBwcm92aWRlRGVmYXVsdC5jYWxsKHZtKVxuICAgICAgICAgICAgOiBwcm92aWRlRGVmYXVsdDtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgd2FybigoXCJJbmplY3Rpb24gXFxcIlwiICsga2V5ICsgXCJcXFwiIG5vdCBmb3VuZFwiKSwgdm0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuXG4vKiAgKi9cblxuXG5cbi8qKlxuICogUnVudGltZSBoZWxwZXIgZm9yIHJlc29sdmluZyByYXcgY2hpbGRyZW4gVk5vZGVzIGludG8gYSBzbG90IG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVNsb3RzIChcbiAgY2hpbGRyZW4sXG4gIGNvbnRleHRcbikge1xuICBpZiAoIWNoaWxkcmVuIHx8ICFjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICByZXR1cm4ge31cbiAgfVxuICB2YXIgc2xvdHMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICB2YXIgZGF0YSA9IGNoaWxkLmRhdGE7XG4gICAgLy8gcmVtb3ZlIHNsb3QgYXR0cmlidXRlIGlmIHRoZSBub2RlIGlzIHJlc29sdmVkIGFzIGEgVnVlIHNsb3Qgbm9kZVxuICAgIGlmIChkYXRhICYmIGRhdGEuYXR0cnMgJiYgZGF0YS5hdHRycy5zbG90KSB7XG4gICAgICBkZWxldGUgZGF0YS5hdHRycy5zbG90O1xuICAgIH1cbiAgICAvLyBuYW1lZCBzbG90cyBzaG91bGQgb25seSBiZSByZXNwZWN0ZWQgaWYgdGhlIHZub2RlIHdhcyByZW5kZXJlZCBpbiB0aGVcbiAgICAvLyBzYW1lIGNvbnRleHQuXG4gICAgaWYgKChjaGlsZC5jb250ZXh0ID09PSBjb250ZXh0IHx8IGNoaWxkLmZuQ29udGV4dCA9PT0gY29udGV4dCkgJiZcbiAgICAgIGRhdGEgJiYgZGF0YS5zbG90ICE9IG51bGxcbiAgICApIHtcbiAgICAgIHZhciBuYW1lID0gZGF0YS5zbG90O1xuICAgICAgdmFyIHNsb3QgPSAoc2xvdHNbbmFtZV0gfHwgKHNsb3RzW25hbWVdID0gW10pKTtcbiAgICAgIGlmIChjaGlsZC50YWcgPT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgICAgc2xvdC5wdXNoLmFwcGx5KHNsb3QsIGNoaWxkLmNoaWxkcmVuIHx8IFtdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsb3QucHVzaChjaGlsZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIChzbG90cy5kZWZhdWx0IHx8IChzbG90cy5kZWZhdWx0ID0gW10pKS5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgLy8gaWdub3JlIHNsb3RzIHRoYXQgY29udGFpbnMgb25seSB3aGl0ZXNwYWNlXG4gIGZvciAodmFyIG5hbWUkMSBpbiBzbG90cykge1xuICAgIGlmIChzbG90c1tuYW1lJDFdLmV2ZXJ5KGlzV2hpdGVzcGFjZSkpIHtcbiAgICAgIGRlbGV0ZSBzbG90c1tuYW1lJDFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2xvdHNcbn1cblxuZnVuY3Rpb24gaXNXaGl0ZXNwYWNlIChub2RlKSB7XG4gIHJldHVybiAobm9kZS5pc0NvbW1lbnQgJiYgIW5vZGUuYXN5bmNGYWN0b3J5KSB8fCBub2RlLnRleHQgPT09ICcgJ1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gbm9ybWFsaXplU2NvcGVkU2xvdHMgKFxuICBzbG90cyxcbiAgbm9ybWFsU2xvdHMsXG4gIHByZXZTbG90c1xuKSB7XG4gIHZhciByZXM7XG4gIHZhciBoYXNOb3JtYWxTbG90cyA9IE9iamVjdC5rZXlzKG5vcm1hbFNsb3RzKS5sZW5ndGggPiAwO1xuICB2YXIgaXNTdGFibGUgPSBzbG90cyA/ICEhc2xvdHMuJHN0YWJsZSA6ICFoYXNOb3JtYWxTbG90cztcbiAgdmFyIGtleSA9IHNsb3RzICYmIHNsb3RzLiRrZXk7XG4gIGlmICghc2xvdHMpIHtcbiAgICByZXMgPSB7fTtcbiAgfSBlbHNlIGlmIChzbG90cy5fbm9ybWFsaXplZCkge1xuICAgIC8vIGZhc3QgcGF0aCAxOiBjaGlsZCBjb21wb25lbnQgcmUtcmVuZGVyIG9ubHksIHBhcmVudCBkaWQgbm90IGNoYW5nZVxuICAgIHJldHVybiBzbG90cy5fbm9ybWFsaXplZFxuICB9IGVsc2UgaWYgKFxuICAgIGlzU3RhYmxlICYmXG4gICAgcHJldlNsb3RzICYmXG4gICAgcHJldlNsb3RzICE9PSBlbXB0eU9iamVjdCAmJlxuICAgIGtleSA9PT0gcHJldlNsb3RzLiRrZXkgJiZcbiAgICAhaGFzTm9ybWFsU2xvdHMgJiZcbiAgICAhcHJldlNsb3RzLiRoYXNOb3JtYWxcbiAgKSB7XG4gICAgLy8gZmFzdCBwYXRoIDI6IHN0YWJsZSBzY29wZWQgc2xvdHMgdy8gbm8gbm9ybWFsIHNsb3RzIHRvIHByb3h5LFxuICAgIC8vIG9ubHkgbmVlZCB0byBub3JtYWxpemUgb25jZVxuICAgIHJldHVybiBwcmV2U2xvdHNcbiAgfSBlbHNlIHtcbiAgICByZXMgPSB7fTtcbiAgICBmb3IgKHZhciBrZXkkMSBpbiBzbG90cykge1xuICAgICAgaWYgKHNsb3RzW2tleSQxXSAmJiBrZXkkMVswXSAhPT0gJyQnKSB7XG4gICAgICAgIHJlc1trZXkkMV0gPSBub3JtYWxpemVTY29wZWRTbG90KG5vcm1hbFNsb3RzLCBrZXkkMSwgc2xvdHNba2V5JDFdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gZXhwb3NlIG5vcm1hbCBzbG90cyBvbiBzY29wZWRTbG90c1xuICBmb3IgKHZhciBrZXkkMiBpbiBub3JtYWxTbG90cykge1xuICAgIGlmICghKGtleSQyIGluIHJlcykpIHtcbiAgICAgIHJlc1trZXkkMl0gPSBwcm94eU5vcm1hbFNsb3Qobm9ybWFsU2xvdHMsIGtleSQyKTtcbiAgICB9XG4gIH1cbiAgLy8gYXZvcmlheiBzZWVtcyB0byBtb2NrIGEgbm9uLWV4dGVuc2libGUgJHNjb3BlZFNsb3RzIG9iamVjdFxuICAvLyBhbmQgd2hlbiB0aGF0IGlzIHBhc3NlZCBkb3duIHRoaXMgd291bGQgY2F1c2UgYW4gZXJyb3JcbiAgaWYgKHNsb3RzICYmIE9iamVjdC5pc0V4dGVuc2libGUoc2xvdHMpKSB7XG4gICAgKHNsb3RzKS5fbm9ybWFsaXplZCA9IHJlcztcbiAgfVxuICBkZWYocmVzLCAnJHN0YWJsZScsIGlzU3RhYmxlKTtcbiAgZGVmKHJlcywgJyRrZXknLCBrZXkpO1xuICBkZWYocmVzLCAnJGhhc05vcm1hbCcsIGhhc05vcm1hbFNsb3RzKTtcbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTY29wZWRTbG90KG5vcm1hbFNsb3RzLCBrZXksIGZuKSB7XG4gIHZhciBub3JtYWxpemVkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXMgPSBhcmd1bWVudHMubGVuZ3RoID8gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKSA6IGZuKHt9KTtcbiAgICByZXMgPSByZXMgJiYgdHlwZW9mIHJlcyA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkocmVzKVxuICAgICAgPyBbcmVzXSAvLyBzaW5nbGUgdm5vZGVcbiAgICAgIDogbm9ybWFsaXplQ2hpbGRyZW4ocmVzKTtcbiAgICByZXR1cm4gcmVzICYmIChcbiAgICAgIHJlcy5sZW5ndGggPT09IDAgfHxcbiAgICAgIChyZXMubGVuZ3RoID09PSAxICYmIHJlc1swXS5pc0NvbW1lbnQpIC8vICM5NjU4XG4gICAgKSA/IHVuZGVmaW5lZFxuICAgICAgOiByZXNcbiAgfTtcbiAgLy8gdGhpcyBpcyBhIHNsb3QgdXNpbmcgdGhlIG5ldyB2LXNsb3Qgc3ludGF4IHdpdGhvdXQgc2NvcGUuIGFsdGhvdWdoIGl0IGlzXG4gIC8vIGNvbXBpbGVkIGFzIGEgc2NvcGVkIHNsb3QsIHJlbmRlciBmbiB1c2VycyB3b3VsZCBleHBlY3QgaXQgdG8gYmUgcHJlc2VudFxuICAvLyBvbiB0aGlzLiRzbG90cyBiZWNhdXNlIHRoZSB1c2FnZSBpcyBzZW1hbnRpY2FsbHkgYSBub3JtYWwgc2xvdC5cbiAgaWYgKGZuLnByb3h5KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vcm1hbFNsb3RzLCBrZXksIHtcbiAgICAgIGdldDogbm9ybWFsaXplZCxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZFxufVxuXG5mdW5jdGlvbiBwcm94eU5vcm1hbFNsb3Qoc2xvdHMsIGtleSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gc2xvdHNba2V5XTsgfVxufVxuXG4vKiAgKi9cblxuLyoqXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgcmVuZGVyaW5nIHYtZm9yIGxpc3RzLlxuICovXG5mdW5jdGlvbiByZW5kZXJMaXN0IChcbiAgdmFsLFxuICByZW5kZXJcbikge1xuICB2YXIgcmV0LCBpLCBsLCBrZXlzLCBrZXk7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbCkgfHwgdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXQgPSBuZXcgQXJyYXkodmFsLmxlbmd0aCk7XG4gICAgZm9yIChpID0gMCwgbCA9IHZhbC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHJldFtpXSA9IHJlbmRlcih2YWxbaV0sIGkpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHJldCA9IG5ldyBBcnJheSh2YWwpO1xuICAgIGZvciAoaSA9IDA7IGkgPCB2YWw7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVyKGkgKyAxLCBpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSkge1xuICAgIGlmIChoYXNTeW1ib2wgJiYgdmFsW1N5bWJvbC5pdGVyYXRvcl0pIHtcbiAgICAgIHJldCA9IFtdO1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdmFsW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgIHZhciByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICB3aGlsZSAoIXJlc3VsdC5kb25lKSB7XG4gICAgICAgIHJldC5wdXNoKHJlbmRlcihyZXN1bHQudmFsdWUsIHJldC5sZW5ndGgpKTtcbiAgICAgICAgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBrZXlzID0gT2JqZWN0LmtleXModmFsKTtcbiAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgcmV0W2ldID0gcmVuZGVyKHZhbFtrZXldLCBrZXksIGkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoIWlzRGVmKHJldCkpIHtcbiAgICByZXQgPSBbXTtcbiAgfVxuICAocmV0KS5faXNWTGlzdCA9IHRydWU7XG4gIHJldHVybiByZXRcbn1cblxuLyogICovXG5cbi8qKlxuICogUnVudGltZSBoZWxwZXIgZm9yIHJlbmRlcmluZyA8c2xvdD5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyU2xvdCAoXG4gIG5hbWUsXG4gIGZhbGxiYWNrLFxuICBwcm9wcyxcbiAgYmluZE9iamVjdFxuKSB7XG4gIHZhciBzY29wZWRTbG90Rm4gPSB0aGlzLiRzY29wZWRTbG90c1tuYW1lXTtcbiAgdmFyIG5vZGVzO1xuICBpZiAoc2NvcGVkU2xvdEZuKSB7IC8vIHNjb3BlZCBzbG90XG4gICAgcHJvcHMgPSBwcm9wcyB8fCB7fTtcbiAgICBpZiAoYmluZE9iamVjdCkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWlzT2JqZWN0KGJpbmRPYmplY3QpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgJ3Nsb3Qgdi1iaW5kIHdpdGhvdXQgYXJndW1lbnQgZXhwZWN0cyBhbiBPYmplY3QnLFxuICAgICAgICAgIHRoaXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHByb3BzID0gZXh0ZW5kKGV4dGVuZCh7fSwgYmluZE9iamVjdCksIHByb3BzKTtcbiAgICB9XG4gICAgbm9kZXMgPSBzY29wZWRTbG90Rm4ocHJvcHMpIHx8IGZhbGxiYWNrO1xuICB9IGVsc2Uge1xuICAgIG5vZGVzID0gdGhpcy4kc2xvdHNbbmFtZV0gfHwgZmFsbGJhY2s7XG4gIH1cblxuICB2YXIgdGFyZ2V0ID0gcHJvcHMgJiYgcHJvcHMuc2xvdDtcbiAgaWYgKHRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScsIHsgc2xvdDogdGFyZ2V0IH0sIG5vZGVzKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBub2Rlc1xuICB9XG59XG5cbi8qICAqL1xuXG4vKipcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciByZXNvbHZpbmcgZmlsdGVyc1xuICovXG5mdW5jdGlvbiByZXNvbHZlRmlsdGVyIChpZCkge1xuICByZXR1cm4gcmVzb2x2ZUFzc2V0KHRoaXMuJG9wdGlvbnMsICdmaWx0ZXJzJywgaWQsIHRydWUpIHx8IGlkZW50aXR5XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpc0tleU5vdE1hdGNoIChleHBlY3QsIGFjdHVhbCkge1xuICBpZiAoQXJyYXkuaXNBcnJheShleHBlY3QpKSB7XG4gICAgcmV0dXJuIGV4cGVjdC5pbmRleE9mKGFjdHVhbCkgPT09IC0xXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV4cGVjdCAhPT0gYWN0dWFsXG4gIH1cbn1cblxuLyoqXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgY2hlY2tpbmcga2V5Q29kZXMgZnJvbSBjb25maWcuXG4gKiBleHBvc2VkIGFzIFZ1ZS5wcm90b3R5cGUuX2tcbiAqIHBhc3NpbmcgaW4gZXZlbnRLZXlOYW1lIGFzIGxhc3QgYXJndW1lbnQgc2VwYXJhdGVseSBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICovXG5mdW5jdGlvbiBjaGVja0tleUNvZGVzIChcbiAgZXZlbnRLZXlDb2RlLFxuICBrZXksXG4gIGJ1aWx0SW5LZXlDb2RlLFxuICBldmVudEtleU5hbWUsXG4gIGJ1aWx0SW5LZXlOYW1lXG4pIHtcbiAgdmFyIG1hcHBlZEtleUNvZGUgPSBjb25maWcua2V5Q29kZXNba2V5XSB8fCBidWlsdEluS2V5Q29kZTtcbiAgaWYgKGJ1aWx0SW5LZXlOYW1lICYmIGV2ZW50S2V5TmFtZSAmJiAhY29uZmlnLmtleUNvZGVzW2tleV0pIHtcbiAgICByZXR1cm4gaXNLZXlOb3RNYXRjaChidWlsdEluS2V5TmFtZSwgZXZlbnRLZXlOYW1lKVxuICB9IGVsc2UgaWYgKG1hcHBlZEtleUNvZGUpIHtcbiAgICByZXR1cm4gaXNLZXlOb3RNYXRjaChtYXBwZWRLZXlDb2RlLCBldmVudEtleUNvZGUpXG4gIH0gZWxzZSBpZiAoZXZlbnRLZXlOYW1lKSB7XG4gICAgcmV0dXJuIGh5cGhlbmF0ZShldmVudEtleU5hbWUpICE9PSBrZXlcbiAgfVxufVxuXG4vKiAgKi9cblxuLyoqXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgbWVyZ2luZyB2LWJpbmQ9XCJvYmplY3RcIiBpbnRvIGEgVk5vZGUncyBkYXRhLlxuICovXG5mdW5jdGlvbiBiaW5kT2JqZWN0UHJvcHMgKFxuICBkYXRhLFxuICB0YWcsXG4gIHZhbHVlLFxuICBhc1Byb3AsXG4gIGlzU3luY1xuKSB7XG4gIGlmICh2YWx1ZSkge1xuICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgICd2LWJpbmQgd2l0aG91dCBhcmd1bWVudCBleHBlY3RzIGFuIE9iamVjdCBvciBBcnJheSB2YWx1ZScsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IHRvT2JqZWN0KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHZhciBoYXNoO1xuICAgICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGtleSApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGtleSA9PT0gJ2NsYXNzJyB8fFxuICAgICAgICAgIGtleSA9PT0gJ3N0eWxlJyB8fFxuICAgICAgICAgIGlzUmVzZXJ2ZWRBdHRyaWJ1dGUoa2V5KVxuICAgICAgICApIHtcbiAgICAgICAgICBoYXNoID0gZGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuYXR0cnMgJiYgZGF0YS5hdHRycy50eXBlO1xuICAgICAgICAgIGhhc2ggPSBhc1Byb3AgfHwgY29uZmlnLm11c3RVc2VQcm9wKHRhZywgdHlwZSwga2V5KVxuICAgICAgICAgICAgPyBkYXRhLmRvbVByb3BzIHx8IChkYXRhLmRvbVByb3BzID0ge30pXG4gICAgICAgICAgICA6IGRhdGEuYXR0cnMgfHwgKGRhdGEuYXR0cnMgPSB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbWVsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICAgIHZhciBoeXBoZW5hdGVkS2V5ID0gaHlwaGVuYXRlKGtleSk7XG4gICAgICAgIGlmICghKGNhbWVsaXplZEtleSBpbiBoYXNoKSAmJiAhKGh5cGhlbmF0ZWRLZXkgaW4gaGFzaCkpIHtcbiAgICAgICAgICBoYXNoW2tleV0gPSB2YWx1ZVtrZXldO1xuXG4gICAgICAgICAgaWYgKGlzU3luYykge1xuICAgICAgICAgICAgdmFyIG9uID0gZGF0YS5vbiB8fCAoZGF0YS5vbiA9IHt9KTtcbiAgICAgICAgICAgIG9uWyhcInVwZGF0ZTpcIiArIGtleSldID0gZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICB2YWx1ZVtrZXldID0gJGV2ZW50O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkgbG9vcCgga2V5ICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhXG59XG5cbi8qICAqL1xuXG4vKipcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciByZW5kZXJpbmcgc3RhdGljIHRyZWVzLlxuICovXG5mdW5jdGlvbiByZW5kZXJTdGF0aWMgKFxuICBpbmRleCxcbiAgaXNJbkZvclxuKSB7XG4gIHZhciBjYWNoZWQgPSB0aGlzLl9zdGF0aWNUcmVlcyB8fCAodGhpcy5fc3RhdGljVHJlZXMgPSBbXSk7XG4gIHZhciB0cmVlID0gY2FjaGVkW2luZGV4XTtcbiAgLy8gaWYgaGFzIGFscmVhZHktcmVuZGVyZWQgc3RhdGljIHRyZWUgYW5kIG5vdCBpbnNpZGUgdi1mb3IsXG4gIC8vIHdlIGNhbiByZXVzZSB0aGUgc2FtZSB0cmVlLlxuICBpZiAodHJlZSAmJiAhaXNJbkZvcikge1xuICAgIHJldHVybiB0cmVlXG4gIH1cbiAgLy8gb3RoZXJ3aXNlLCByZW5kZXIgYSBmcmVzaCB0cmVlLlxuICB0cmVlID0gY2FjaGVkW2luZGV4XSA9IHRoaXMuJG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zW2luZGV4XS5jYWxsKFxuICAgIHRoaXMuX3JlbmRlclByb3h5LFxuICAgIG51bGwsXG4gICAgdGhpcyAvLyBmb3IgcmVuZGVyIGZucyBnZW5lcmF0ZWQgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50IHRlbXBsYXRlc1xuICApO1xuICBtYXJrU3RhdGljKHRyZWUsIChcIl9fc3RhdGljX19cIiArIGluZGV4KSwgZmFsc2UpO1xuICByZXR1cm4gdHJlZVxufVxuXG4vKipcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciB2LW9uY2UuXG4gKiBFZmZlY3RpdmVseSBpdCBtZWFucyBtYXJraW5nIHRoZSBub2RlIGFzIHN0YXRpYyB3aXRoIGEgdW5pcXVlIGtleS5cbiAqL1xuZnVuY3Rpb24gbWFya09uY2UgKFxuICB0cmVlLFxuICBpbmRleCxcbiAga2V5XG4pIHtcbiAgbWFya1N0YXRpYyh0cmVlLCAoXCJfX29uY2VfX1wiICsgaW5kZXggKyAoa2V5ID8gKFwiX1wiICsga2V5KSA6IFwiXCIpKSwgdHJ1ZSk7XG4gIHJldHVybiB0cmVlXG59XG5cbmZ1bmN0aW9uIG1hcmtTdGF0aWMgKFxuICB0cmVlLFxuICBrZXksXG4gIGlzT25jZVxuKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHRyZWUpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodHJlZVtpXSAmJiB0eXBlb2YgdHJlZVtpXSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgbWFya1N0YXRpY05vZGUodHJlZVtpXSwgKGtleSArIFwiX1wiICsgaSksIGlzT25jZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG1hcmtTdGF0aWNOb2RlKHRyZWUsIGtleSwgaXNPbmNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXJrU3RhdGljTm9kZSAobm9kZSwga2V5LCBpc09uY2UpIHtcbiAgbm9kZS5pc1N0YXRpYyA9IHRydWU7XG4gIG5vZGUua2V5ID0ga2V5O1xuICBub2RlLmlzT25jZSA9IGlzT25jZTtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGJpbmRPYmplY3RMaXN0ZW5lcnMgKGRhdGEsIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSkge1xuICAgIGlmICghaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgJ3Ytb24gd2l0aG91dCBhcmd1bWVudCBleHBlY3RzIGFuIE9iamVjdCB2YWx1ZScsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBvbiA9IGRhdGEub24gPSBkYXRhLm9uID8gZXh0ZW5kKHt9LCBkYXRhLm9uKSA6IHt9O1xuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIHZhciBleGlzdGluZyA9IG9uW2tleV07XG4gICAgICAgIHZhciBvdXJzID0gdmFsdWVba2V5XTtcbiAgICAgICAgb25ba2V5XSA9IGV4aXN0aW5nID8gW10uY29uY2F0KGV4aXN0aW5nLCBvdXJzKSA6IG91cnM7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiByZXNvbHZlU2NvcGVkU2xvdHMgKFxuICBmbnMsIC8vIHNlZSBmbG93L3Zub2RlXG4gIHJlcyxcbiAgLy8gdGhlIGZvbGxvd2luZyBhcmUgYWRkZWQgaW4gMi42XG4gIGhhc0R5bmFtaWNLZXlzLFxuICBjb250ZW50SGFzaEtleVxuKSB7XG4gIHJlcyA9IHJlcyB8fCB7ICRzdGFibGU6ICFoYXNEeW5hbWljS2V5cyB9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGZucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzbG90ID0gZm5zW2ldO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNsb3QpKSB7XG4gICAgICByZXNvbHZlU2NvcGVkU2xvdHMoc2xvdCwgcmVzLCBoYXNEeW5hbWljS2V5cyk7XG4gICAgfSBlbHNlIGlmIChzbG90KSB7XG4gICAgICAvLyBtYXJrZXIgZm9yIHJldmVyc2UgcHJveHlpbmcgdi1zbG90IHdpdGhvdXQgc2NvcGUgb24gdGhpcy4kc2xvdHNcbiAgICAgIGlmIChzbG90LnByb3h5KSB7XG4gICAgICAgIHNsb3QuZm4ucHJveHkgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmVzW3Nsb3Qua2V5XSA9IHNsb3QuZm47XG4gICAgfVxuICB9XG4gIGlmIChjb250ZW50SGFzaEtleSkge1xuICAgIChyZXMpLiRrZXkgPSBjb250ZW50SGFzaEtleTtcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBiaW5kRHluYW1pY0tleXMgKGJhc2VPYmosIHZhbHVlcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHZhciBrZXkgPSB2YWx1ZXNbaV07XG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGtleSkge1xuICAgICAgYmFzZU9ialt2YWx1ZXNbaV1dID0gdmFsdWVzW2kgKyAxXTtcbiAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYga2V5ICE9PSAnJyAmJiBrZXkgIT09IG51bGwpIHtcbiAgICAgIC8vIG51bGwgaXMgYSBzcGVjaWFsIHZhbHVlIGZvciBleHBsaWNpdGx5IHJlbW92aW5nIGEgYmluZGluZ1xuICAgICAgd2FybihcbiAgICAgICAgKFwiSW52YWxpZCB2YWx1ZSBmb3IgZHluYW1pYyBkaXJlY3RpdmUgYXJndW1lbnQgKGV4cGVjdGVkIHN0cmluZyBvciBudWxsKTogXCIgKyBrZXkpLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYmFzZU9ialxufVxuXG4vLyBoZWxwZXIgdG8gZHluYW1pY2FsbHkgYXBwZW5kIG1vZGlmaWVyIHJ1bnRpbWUgbWFya2VycyB0byBldmVudCBuYW1lcy5cbi8vIGVuc3VyZSBvbmx5IGFwcGVuZCB3aGVuIHZhbHVlIGlzIGFscmVhZHkgc3RyaW5nLCBvdGhlcndpc2UgaXQgd2lsbCBiZSBjYXN0XG4vLyB0byBzdHJpbmcgYW5kIGNhdXNlIHRoZSB0eXBlIGNoZWNrIHRvIG1pc3MuXG5mdW5jdGlvbiBwcmVwZW5kTW9kaWZpZXIgKHZhbHVlLCBzeW1ib2wpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBzeW1ib2wgKyB2YWx1ZSA6IHZhbHVlXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbnN0YWxsUmVuZGVySGVscGVycyAodGFyZ2V0KSB7XG4gIHRhcmdldC5fbyA9IG1hcmtPbmNlO1xuICB0YXJnZXQuX24gPSB0b051bWJlcjtcbiAgdGFyZ2V0Ll9zID0gdG9TdHJpbmc7XG4gIHRhcmdldC5fbCA9IHJlbmRlckxpc3Q7XG4gIHRhcmdldC5fdCA9IHJlbmRlclNsb3Q7XG4gIHRhcmdldC5fcSA9IGxvb3NlRXF1YWw7XG4gIHRhcmdldC5faSA9IGxvb3NlSW5kZXhPZjtcbiAgdGFyZ2V0Ll9tID0gcmVuZGVyU3RhdGljO1xuICB0YXJnZXQuX2YgPSByZXNvbHZlRmlsdGVyO1xuICB0YXJnZXQuX2sgPSBjaGVja0tleUNvZGVzO1xuICB0YXJnZXQuX2IgPSBiaW5kT2JqZWN0UHJvcHM7XG4gIHRhcmdldC5fdiA9IGNyZWF0ZVRleHRWTm9kZTtcbiAgdGFyZ2V0Ll9lID0gY3JlYXRlRW1wdHlWTm9kZTtcbiAgdGFyZ2V0Ll91ID0gcmVzb2x2ZVNjb3BlZFNsb3RzO1xuICB0YXJnZXQuX2cgPSBiaW5kT2JqZWN0TGlzdGVuZXJzO1xuICB0YXJnZXQuX2QgPSBiaW5kRHluYW1pY0tleXM7XG4gIHRhcmdldC5fcCA9IHByZXBlbmRNb2RpZmllcjtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0IChcbiAgZGF0YSxcbiAgcHJvcHMsXG4gIGNoaWxkcmVuLFxuICBwYXJlbnQsXG4gIEN0b3Jcbikge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucztcbiAgLy8gZW5zdXJlIHRoZSBjcmVhdGVFbGVtZW50IGZ1bmN0aW9uIGluIGZ1bmN0aW9uYWwgY29tcG9uZW50c1xuICAvLyBnZXRzIGEgdW5pcXVlIGNvbnRleHQgLSB0aGlzIGlzIG5lY2Vzc2FyeSBmb3IgY29ycmVjdCBuYW1lZCBzbG90IGNoZWNrXG4gIHZhciBjb250ZXh0Vm07XG4gIGlmIChoYXNPd24ocGFyZW50LCAnX3VpZCcpKSB7XG4gICAgY29udGV4dFZtID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQpO1xuICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxuICAgIGNvbnRleHRWbS5fb3JpZ2luYWwgPSBwYXJlbnQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gdGhlIGNvbnRleHQgdm0gcGFzc2VkIGluIGlzIGEgZnVuY3Rpb25hbCBjb250ZXh0IGFzIHdlbGwuXG4gICAgLy8gaW4gdGhpcyBjYXNlIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHdlIGFyZSBhYmxlIHRvIGdldCBhIGhvbGQgdG8gdGhlXG4gICAgLy8gcmVhbCBjb250ZXh0IGluc3RhbmNlLlxuICAgIGNvbnRleHRWbSA9IHBhcmVudDtcbiAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAgICBwYXJlbnQgPSBwYXJlbnQuX29yaWdpbmFsO1xuICB9XG4gIHZhciBpc0NvbXBpbGVkID0gaXNUcnVlKG9wdGlvbnMuX2NvbXBpbGVkKTtcbiAgdmFyIG5lZWROb3JtYWxpemF0aW9uID0gIWlzQ29tcGlsZWQ7XG5cbiAgdGhpcy5kYXRhID0gZGF0YTtcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICB0aGlzLmxpc3RlbmVycyA9IGRhdGEub24gfHwgZW1wdHlPYmplY3Q7XG4gIHRoaXMuaW5qZWN0aW9ucyA9IHJlc29sdmVJbmplY3Qob3B0aW9ucy5pbmplY3QsIHBhcmVudCk7XG4gIHRoaXMuc2xvdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzJDEuJHNsb3RzKSB7XG4gICAgICBub3JtYWxpemVTY29wZWRTbG90cyhcbiAgICAgICAgZGF0YS5zY29wZWRTbG90cyxcbiAgICAgICAgdGhpcyQxLiRzbG90cyA9IHJlc29sdmVTbG90cyhjaGlsZHJlbiwgcGFyZW50KVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMkMS4kc2xvdHNcbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Njb3BlZFNsb3RzJywgKHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0ICgpIHtcbiAgICAgIHJldHVybiBub3JtYWxpemVTY29wZWRTbG90cyhkYXRhLnNjb3BlZFNsb3RzLCB0aGlzLnNsb3RzKCkpXG4gICAgfVxuICB9KSk7XG5cbiAgLy8gc3VwcG9ydCBmb3IgY29tcGlsZWQgZnVuY3Rpb25hbCB0ZW1wbGF0ZVxuICBpZiAoaXNDb21waWxlZCkge1xuICAgIC8vIGV4cG9zaW5nICRvcHRpb25zIGZvciByZW5kZXJTdGF0aWMoKVxuICAgIHRoaXMuJG9wdGlvbnMgPSBvcHRpb25zO1xuICAgIC8vIHByZS1yZXNvbHZlIHNsb3RzIGZvciByZW5kZXJTbG90KClcbiAgICB0aGlzLiRzbG90cyA9IHRoaXMuc2xvdHMoKTtcbiAgICB0aGlzLiRzY29wZWRTbG90cyA9IG5vcm1hbGl6ZVNjb3BlZFNsb3RzKGRhdGEuc2NvcGVkU2xvdHMsIHRoaXMuJHNsb3RzKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLl9zY29wZUlkKSB7XG4gICAgdGhpcy5fYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7XG4gICAgICB2YXIgdm5vZGUgPSBjcmVhdGVFbGVtZW50KGNvbnRleHRWbSwgYSwgYiwgYywgZCwgbmVlZE5vcm1hbGl6YXRpb24pO1xuICAgICAgaWYgKHZub2RlICYmICFBcnJheS5pc0FycmF5KHZub2RlKSkge1xuICAgICAgICB2bm9kZS5mblNjb3BlSWQgPSBvcHRpb25zLl9zY29wZUlkO1xuICAgICAgICB2bm9kZS5mbkNvbnRleHQgPSBwYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm5vZGVcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2MgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgeyByZXR1cm4gY3JlYXRlRWxlbWVudChjb250ZXh0Vm0sIGEsIGIsIGMsIGQsIG5lZWROb3JtYWxpemF0aW9uKTsgfTtcbiAgfVxufVxuXG5pbnN0YWxsUmVuZGVySGVscGVycyhGdW5jdGlvbmFsUmVuZGVyQ29udGV4dC5wcm90b3R5cGUpO1xuXG5mdW5jdGlvbiBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50IChcbiAgQ3RvcixcbiAgcHJvcHNEYXRhLFxuICBkYXRhLFxuICBjb250ZXh0Vm0sXG4gIGNoaWxkcmVuXG4pIHtcbiAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7XG4gIHZhciBwcm9wcyA9IHt9O1xuICB2YXIgcHJvcE9wdGlvbnMgPSBvcHRpb25zLnByb3BzO1xuICBpZiAoaXNEZWYocHJvcE9wdGlvbnMpKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHByb3BPcHRpb25zKSB7XG4gICAgICBwcm9wc1trZXldID0gdmFsaWRhdGVQcm9wKGtleSwgcHJvcE9wdGlvbnMsIHByb3BzRGF0YSB8fCBlbXB0eU9iamVjdCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0RlZihkYXRhLmF0dHJzKSkgeyBtZXJnZVByb3BzKHByb3BzLCBkYXRhLmF0dHJzKTsgfVxuICAgIGlmIChpc0RlZihkYXRhLnByb3BzKSkgeyBtZXJnZVByb3BzKHByb3BzLCBkYXRhLnByb3BzKTsgfVxuICB9XG5cbiAgdmFyIHJlbmRlckNvbnRleHQgPSBuZXcgRnVuY3Rpb25hbFJlbmRlckNvbnRleHQoXG4gICAgZGF0YSxcbiAgICBwcm9wcyxcbiAgICBjaGlsZHJlbixcbiAgICBjb250ZXh0Vm0sXG4gICAgQ3RvclxuICApO1xuXG4gIHZhciB2bm9kZSA9IG9wdGlvbnMucmVuZGVyLmNhbGwobnVsbCwgcmVuZGVyQ29udGV4dC5fYywgcmVuZGVyQ29udGV4dCk7XG5cbiAgaWYgKHZub2RlIGluc3RhbmNlb2YgVk5vZGUpIHtcbiAgICByZXR1cm4gY2xvbmVBbmRNYXJrRnVuY3Rpb25hbFJlc3VsdCh2bm9kZSwgZGF0YSwgcmVuZGVyQ29udGV4dC5wYXJlbnQsIG9wdGlvbnMsIHJlbmRlckNvbnRleHQpXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2bm9kZSkpIHtcbiAgICB2YXIgdm5vZGVzID0gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUpIHx8IFtdO1xuICAgIHZhciByZXMgPSBuZXcgQXJyYXkodm5vZGVzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlc1tpXSA9IGNsb25lQW5kTWFya0Z1bmN0aW9uYWxSZXN1bHQodm5vZGVzW2ldLCBkYXRhLCByZW5kZXJDb250ZXh0LnBhcmVudCwgb3B0aW9ucywgcmVuZGVyQ29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiByZXNcbiAgfVxufVxuXG5mdW5jdGlvbiBjbG9uZUFuZE1hcmtGdW5jdGlvbmFsUmVzdWx0ICh2bm9kZSwgZGF0YSwgY29udGV4dFZtLCBvcHRpb25zLCByZW5kZXJDb250ZXh0KSB7XG4gIC8vICM3ODE3IGNsb25lIG5vZGUgYmVmb3JlIHNldHRpbmcgZm5Db250ZXh0LCBvdGhlcndpc2UgaWYgdGhlIG5vZGUgaXMgcmV1c2VkXG4gIC8vIChlLmcuIGl0IHdhcyBmcm9tIGEgY2FjaGVkIG5vcm1hbCBzbG90KSB0aGUgZm5Db250ZXh0IGNhdXNlcyBuYW1lZCBzbG90c1xuICAvLyB0aGF0IHNob3VsZCBub3QgYmUgbWF0Y2hlZCB0byBtYXRjaC5cbiAgdmFyIGNsb25lID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gIGNsb25lLmZuQ29udGV4dCA9IGNvbnRleHRWbTtcbiAgY2xvbmUuZm5PcHRpb25zID0gb3B0aW9ucztcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAoY2xvbmUuZGV2dG9vbHNNZXRhID0gY2xvbmUuZGV2dG9vbHNNZXRhIHx8IHt9KS5yZW5kZXJDb250ZXh0ID0gcmVuZGVyQ29udGV4dDtcbiAgfVxuICBpZiAoZGF0YS5zbG90KSB7XG4gICAgKGNsb25lLmRhdGEgfHwgKGNsb25lLmRhdGEgPSB7fSkpLnNsb3QgPSBkYXRhLnNsb3Q7XG4gIH1cbiAgcmV0dXJuIGNsb25lXG59XG5cbmZ1bmN0aW9uIG1lcmdlUHJvcHMgKHRvLCBmcm9tKSB7XG4gIGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG4gICAgdG9bY2FtZWxpemUoa2V5KV0gPSBmcm9tW2tleV07XG4gIH1cbn1cblxuLyogICovXG5cbi8qICAqL1xuXG4vKiAgKi9cblxuLyogICovXG5cbi8vIGlubGluZSBob29rcyB0byBiZSBpbnZva2VkIG9uIGNvbXBvbmVudCBWTm9kZXMgZHVyaW5nIHBhdGNoXG52YXIgY29tcG9uZW50Vk5vZGVIb29rcyA9IHtcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCAodm5vZGUsIGh5ZHJhdGluZykge1xuICAgIGlmIChcbiAgICAgIHZub2RlLmNvbXBvbmVudEluc3RhbmNlICYmXG4gICAgICAhdm5vZGUuY29tcG9uZW50SW5zdGFuY2UuX2lzRGVzdHJveWVkICYmXG4gICAgICB2bm9kZS5kYXRhLmtlZXBBbGl2ZVxuICAgICkge1xuICAgICAgLy8ga2VwdC1hbGl2ZSBjb21wb25lbnRzLCB0cmVhdCBhcyBhIHBhdGNoXG4gICAgICB2YXIgbW91bnRlZE5vZGUgPSB2bm9kZTsgLy8gd29yayBhcm91bmQgZmxvd1xuICAgICAgY29tcG9uZW50Vk5vZGVIb29rcy5wcmVwYXRjaChtb3VudGVkTm9kZSwgbW91bnRlZE5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY2hpbGQgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlRm9yVm5vZGUoXG4gICAgICAgIHZub2RlLFxuICAgICAgICBhY3RpdmVJbnN0YW5jZVxuICAgICAgKTtcbiAgICAgIGNoaWxkLiRtb3VudChoeWRyYXRpbmcgPyB2bm9kZS5lbG0gOiB1bmRlZmluZWQsIGh5ZHJhdGluZyk7XG4gICAgfVxuICB9LFxuXG4gIHByZXBhdGNoOiBmdW5jdGlvbiBwcmVwYXRjaCAob2xkVm5vZGUsIHZub2RlKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB2bm9kZS5jb21wb25lbnRPcHRpb25zO1xuICAgIHZhciBjaGlsZCA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlID0gb2xkVm5vZGUuY29tcG9uZW50SW5zdGFuY2U7XG4gICAgdXBkYXRlQ2hpbGRDb21wb25lbnQoXG4gICAgICBjaGlsZCxcbiAgICAgIG9wdGlvbnMucHJvcHNEYXRhLCAvLyB1cGRhdGVkIHByb3BzXG4gICAgICBvcHRpb25zLmxpc3RlbmVycywgLy8gdXBkYXRlZCBsaXN0ZW5lcnNcbiAgICAgIHZub2RlLCAvLyBuZXcgcGFyZW50IHZub2RlXG4gICAgICBvcHRpb25zLmNoaWxkcmVuIC8vIG5ldyBjaGlsZHJlblxuICAgICk7XG4gIH0sXG5cbiAgaW5zZXJ0OiBmdW5jdGlvbiBpbnNlcnQgKHZub2RlKSB7XG4gICAgdmFyIGNvbnRleHQgPSB2bm9kZS5jb250ZXh0O1xuICAgIHZhciBjb21wb25lbnRJbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlO1xuICAgIGlmICghY29tcG9uZW50SW5zdGFuY2UuX2lzTW91bnRlZCkge1xuICAgICAgY29tcG9uZW50SW5zdGFuY2UuX2lzTW91bnRlZCA9IHRydWU7XG4gICAgICBjYWxsSG9vayhjb21wb25lbnRJbnN0YW5jZSwgJ21vdW50ZWQnKTtcbiAgICB9XG4gICAgaWYgKHZub2RlLmRhdGEua2VlcEFsaXZlKSB7XG4gICAgICBpZiAoY29udGV4dC5faXNNb3VudGVkKSB7XG4gICAgICAgIC8vIHZ1ZS1yb3V0ZXIjMTIxMlxuICAgICAgICAvLyBEdXJpbmcgdXBkYXRlcywgYSBrZXB0LWFsaXZlIGNvbXBvbmVudCdzIGNoaWxkIGNvbXBvbmVudHMgbWF5XG4gICAgICAgIC8vIGNoYW5nZSwgc28gZGlyZWN0bHkgd2Fsa2luZyB0aGUgdHJlZSBoZXJlIG1heSBjYWxsIGFjdGl2YXRlZCBob29rc1xuICAgICAgICAvLyBvbiBpbmNvcnJlY3QgY2hpbGRyZW4uIEluc3RlYWQgd2UgcHVzaCB0aGVtIGludG8gYSBxdWV1ZSB3aGljaCB3aWxsXG4gICAgICAgIC8vIGJlIHByb2Nlc3NlZCBhZnRlciB0aGUgd2hvbGUgcGF0Y2ggcHJvY2VzcyBlbmRlZC5cbiAgICAgICAgcXVldWVBY3RpdmF0ZWRDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZhdGVDaGlsZENvbXBvbmVudChjb21wb25lbnRJbnN0YW5jZSwgdHJ1ZSAvKiBkaXJlY3QgKi8pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95ICh2bm9kZSkge1xuICAgIHZhciBjb21wb25lbnRJbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlO1xuICAgIGlmICghY29tcG9uZW50SW5zdGFuY2UuX2lzRGVzdHJveWVkKSB7XG4gICAgICBpZiAoIXZub2RlLmRhdGEua2VlcEFsaXZlKSB7XG4gICAgICAgIGNvbXBvbmVudEluc3RhbmNlLiRkZXN0cm95KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWFjdGl2YXRlQ2hpbGRDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UsIHRydWUgLyogZGlyZWN0ICovKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbnZhciBob29rc1RvTWVyZ2UgPSBPYmplY3Qua2V5cyhjb21wb25lbnRWTm9kZUhvb2tzKTtcblxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50IChcbiAgQ3RvcixcbiAgZGF0YSxcbiAgY29udGV4dCxcbiAgY2hpbGRyZW4sXG4gIHRhZ1xuKSB7XG4gIGlmIChpc1VuZGVmKEN0b3IpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgYmFzZUN0b3IgPSBjb250ZXh0LiRvcHRpb25zLl9iYXNlO1xuXG4gIC8vIHBsYWluIG9wdGlvbnMgb2JqZWN0OiB0dXJuIGl0IGludG8gYSBjb25zdHJ1Y3RvclxuICBpZiAoaXNPYmplY3QoQ3RvcikpIHtcbiAgICBDdG9yID0gYmFzZUN0b3IuZXh0ZW5kKEN0b3IpO1xuICB9XG5cbiAgLy8gaWYgYXQgdGhpcyBzdGFnZSBpdCdzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIGFuIGFzeW5jIGNvbXBvbmVudCBmYWN0b3J5LFxuICAvLyByZWplY3QuXG4gIGlmICh0eXBlb2YgQ3RvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXJuKChcIkludmFsaWQgQ29tcG9uZW50IGRlZmluaXRpb246IFwiICsgKFN0cmluZyhDdG9yKSkpLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBhc3luYyBjb21wb25lbnRcbiAgdmFyIGFzeW5jRmFjdG9yeTtcbiAgaWYgKGlzVW5kZWYoQ3Rvci5jaWQpKSB7XG4gICAgYXN5bmNGYWN0b3J5ID0gQ3RvcjtcbiAgICBDdG9yID0gcmVzb2x2ZUFzeW5jQ29tcG9uZW50KGFzeW5jRmFjdG9yeSwgYmFzZUN0b3IpO1xuICAgIGlmIChDdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIHJldHVybiBhIHBsYWNlaG9sZGVyIG5vZGUgZm9yIGFzeW5jIGNvbXBvbmVudCwgd2hpY2ggaXMgcmVuZGVyZWRcbiAgICAgIC8vIGFzIGEgY29tbWVudCBub2RlIGJ1dCBwcmVzZXJ2ZXMgYWxsIHRoZSByYXcgaW5mb3JtYXRpb24gZm9yIHRoZSBub2RlLlxuICAgICAgLy8gdGhlIGluZm9ybWF0aW9uIHdpbGwgYmUgdXNlZCBmb3IgYXN5bmMgc2VydmVyLXJlbmRlcmluZyBhbmQgaHlkcmF0aW9uLlxuICAgICAgcmV0dXJuIGNyZWF0ZUFzeW5jUGxhY2Vob2xkZXIoXG4gICAgICAgIGFzeW5jRmFjdG9yeSxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgIHRhZ1xuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGRhdGEgPSBkYXRhIHx8IHt9O1xuXG4gIC8vIHJlc29sdmUgY29uc3RydWN0b3Igb3B0aW9ucyBpbiBjYXNlIGdsb2JhbCBtaXhpbnMgYXJlIGFwcGxpZWQgYWZ0ZXJcbiAgLy8gY29tcG9uZW50IGNvbnN0cnVjdG9yIGNyZWF0aW9uXG4gIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMoQ3Rvcik7XG5cbiAgLy8gdHJhbnNmb3JtIGNvbXBvbmVudCB2LW1vZGVsIGRhdGEgaW50byBwcm9wcyAmIGV2ZW50c1xuICBpZiAoaXNEZWYoZGF0YS5tb2RlbCkpIHtcbiAgICB0cmFuc2Zvcm1Nb2RlbChDdG9yLm9wdGlvbnMsIGRhdGEpO1xuICB9XG5cbiAgLy8gZXh0cmFjdCBwcm9wc1xuICB2YXIgcHJvcHNEYXRhID0gZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YShkYXRhLCBDdG9yLCB0YWcpO1xuXG4gIC8vIGZ1bmN0aW9uYWwgY29tcG9uZW50XG4gIGlmIChpc1RydWUoQ3Rvci5vcHRpb25zLmZ1bmN0aW9uYWwpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQoQ3RvciwgcHJvcHNEYXRhLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbilcbiAgfVxuXG4gIC8vIGV4dHJhY3QgbGlzdGVuZXJzLCBzaW5jZSB0aGVzZSBuZWVkcyB0byBiZSB0cmVhdGVkIGFzXG4gIC8vIGNoaWxkIGNvbXBvbmVudCBsaXN0ZW5lcnMgaW5zdGVhZCBvZiBET00gbGlzdGVuZXJzXG4gIHZhciBsaXN0ZW5lcnMgPSBkYXRhLm9uO1xuICAvLyByZXBsYWNlIHdpdGggbGlzdGVuZXJzIHdpdGggLm5hdGl2ZSBtb2RpZmllclxuICAvLyBzbyBpdCBnZXRzIHByb2Nlc3NlZCBkdXJpbmcgcGFyZW50IGNvbXBvbmVudCBwYXRjaC5cbiAgZGF0YS5vbiA9IGRhdGEubmF0aXZlT247XG5cbiAgaWYgKGlzVHJ1ZShDdG9yLm9wdGlvbnMuYWJzdHJhY3QpKSB7XG4gICAgLy8gYWJzdHJhY3QgY29tcG9uZW50cyBkbyBub3Qga2VlcCBhbnl0aGluZ1xuICAgIC8vIG90aGVyIHRoYW4gcHJvcHMgJiBsaXN0ZW5lcnMgJiBzbG90XG5cbiAgICAvLyB3b3JrIGFyb3VuZCBmbG93XG4gICAgdmFyIHNsb3QgPSBkYXRhLnNsb3Q7XG4gICAgZGF0YSA9IHt9O1xuICAgIGlmIChzbG90KSB7XG4gICAgICBkYXRhLnNsb3QgPSBzbG90O1xuICAgIH1cbiAgfVxuXG4gIC8vIGluc3RhbGwgY29tcG9uZW50IG1hbmFnZW1lbnQgaG9va3Mgb250byB0aGUgcGxhY2Vob2xkZXIgbm9kZVxuICBpbnN0YWxsQ29tcG9uZW50SG9va3MoZGF0YSk7XG5cbiAgLy8gcmV0dXJuIGEgcGxhY2Vob2xkZXIgdm5vZGVcbiAgdmFyIG5hbWUgPSBDdG9yLm9wdGlvbnMubmFtZSB8fCB0YWc7XG4gIHZhciB2bm9kZSA9IG5ldyBWTm9kZShcbiAgICAoXCJ2dWUtY29tcG9uZW50LVwiICsgKEN0b3IuY2lkKSArIChuYW1lID8gKFwiLVwiICsgbmFtZSkgOiAnJykpLFxuICAgIGRhdGEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQsXG4gICAgeyBDdG9yOiBDdG9yLCBwcm9wc0RhdGE6IHByb3BzRGF0YSwgbGlzdGVuZXJzOiBsaXN0ZW5lcnMsIHRhZzogdGFnLCBjaGlsZHJlbjogY2hpbGRyZW4gfSxcbiAgICBhc3luY0ZhY3RvcnlcbiAgKTtcblxuICByZXR1cm4gdm5vZGVcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSAoXG4gIHZub2RlLCAvLyB3ZSBrbm93IGl0J3MgTW91bnRlZENvbXBvbmVudFZOb2RlIGJ1dCBmbG93IGRvZXNuJ3RcbiAgcGFyZW50IC8vIGFjdGl2ZUluc3RhbmNlIGluIGxpZmVjeWNsZSBzdGF0ZVxuKSB7XG4gIHZhciBvcHRpb25zID0ge1xuICAgIF9pc0NvbXBvbmVudDogdHJ1ZSxcbiAgICBfcGFyZW50Vm5vZGU6IHZub2RlLFxuICAgIHBhcmVudDogcGFyZW50XG4gIH07XG4gIC8vIGNoZWNrIGlubGluZS10ZW1wbGF0ZSByZW5kZXIgZnVuY3Rpb25zXG4gIHZhciBpbmxpbmVUZW1wbGF0ZSA9IHZub2RlLmRhdGEuaW5saW5lVGVtcGxhdGU7XG4gIGlmIChpc0RlZihpbmxpbmVUZW1wbGF0ZSkpIHtcbiAgICBvcHRpb25zLnJlbmRlciA9IGlubGluZVRlbXBsYXRlLnJlbmRlcjtcbiAgICBvcHRpb25zLnN0YXRpY1JlbmRlckZucyA9IGlubGluZVRlbXBsYXRlLnN0YXRpY1JlbmRlckZucztcbiAgfVxuICByZXR1cm4gbmV3IHZub2RlLmNvbXBvbmVudE9wdGlvbnMuQ3RvcihvcHRpb25zKVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsQ29tcG9uZW50SG9va3MgKGRhdGEpIHtcbiAgdmFyIGhvb2tzID0gZGF0YS5ob29rIHx8IChkYXRhLmhvb2sgPSB7fSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaG9va3NUb01lcmdlLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGhvb2tzVG9NZXJnZVtpXTtcbiAgICB2YXIgZXhpc3RpbmcgPSBob29rc1trZXldO1xuICAgIHZhciB0b01lcmdlID0gY29tcG9uZW50Vk5vZGVIb29rc1trZXldO1xuICAgIGlmIChleGlzdGluZyAhPT0gdG9NZXJnZSAmJiAhKGV4aXN0aW5nICYmIGV4aXN0aW5nLl9tZXJnZWQpKSB7XG4gICAgICBob29rc1trZXldID0gZXhpc3RpbmcgPyBtZXJnZUhvb2skMSh0b01lcmdlLCBleGlzdGluZykgOiB0b01lcmdlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtZXJnZUhvb2skMSAoZjEsIGYyKSB7XG4gIHZhciBtZXJnZWQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIC8vIGZsb3cgY29tcGxhaW5zIGFib3V0IGV4dHJhIGFyZ3Mgd2hpY2ggaXMgd2h5IHdlIHVzZSBhbnlcbiAgICBmMShhLCBiKTtcbiAgICBmMihhLCBiKTtcbiAgfTtcbiAgbWVyZ2VkLl9tZXJnZWQgPSB0cnVlO1xuICByZXR1cm4gbWVyZ2VkXG59XG5cbi8vIHRyYW5zZm9ybSBjb21wb25lbnQgdi1tb2RlbCBpbmZvICh2YWx1ZSBhbmQgY2FsbGJhY2spIGludG9cbi8vIHByb3AgYW5kIGV2ZW50IGhhbmRsZXIgcmVzcGVjdGl2ZWx5LlxuZnVuY3Rpb24gdHJhbnNmb3JtTW9kZWwgKG9wdGlvbnMsIGRhdGEpIHtcbiAgdmFyIHByb3AgPSAob3B0aW9ucy5tb2RlbCAmJiBvcHRpb25zLm1vZGVsLnByb3ApIHx8ICd2YWx1ZSc7XG4gIHZhciBldmVudCA9IChvcHRpb25zLm1vZGVsICYmIG9wdGlvbnMubW9kZWwuZXZlbnQpIHx8ICdpbnB1dCdcbiAgOyhkYXRhLmF0dHJzIHx8IChkYXRhLmF0dHJzID0ge30pKVtwcm9wXSA9IGRhdGEubW9kZWwudmFsdWU7XG4gIHZhciBvbiA9IGRhdGEub24gfHwgKGRhdGEub24gPSB7fSk7XG4gIHZhciBleGlzdGluZyA9IG9uW2V2ZW50XTtcbiAgdmFyIGNhbGxiYWNrID0gZGF0YS5tb2RlbC5jYWxsYmFjaztcbiAgaWYgKGlzRGVmKGV4aXN0aW5nKSkge1xuICAgIGlmIChcbiAgICAgIEFycmF5LmlzQXJyYXkoZXhpc3RpbmcpXG4gICAgICAgID8gZXhpc3RpbmcuaW5kZXhPZihjYWxsYmFjaykgPT09IC0xXG4gICAgICAgIDogZXhpc3RpbmcgIT09IGNhbGxiYWNrXG4gICAgKSB7XG4gICAgICBvbltldmVudF0gPSBbY2FsbGJhY2tdLmNvbmNhdChleGlzdGluZyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG9uW2V2ZW50XSA9IGNhbGxiYWNrO1xuICB9XG59XG5cbi8qICAqL1xuXG52YXIgU0lNUExFX05PUk1BTElaRSA9IDE7XG52YXIgQUxXQVlTX05PUk1BTElaRSA9IDI7XG5cbi8vIHdyYXBwZXIgZnVuY3Rpb24gZm9yIHByb3ZpZGluZyBhIG1vcmUgZmxleGlibGUgaW50ZXJmYWNlXG4vLyB3aXRob3V0IGdldHRpbmcgeWVsbGVkIGF0IGJ5IGZsb3dcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQgKFxuICBjb250ZXh0LFxuICB0YWcsXG4gIGRhdGEsXG4gIGNoaWxkcmVuLFxuICBub3JtYWxpemF0aW9uVHlwZSxcbiAgYWx3YXlzTm9ybWFsaXplXG4pIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkgfHwgaXNQcmltaXRpdmUoZGF0YSkpIHtcbiAgICBub3JtYWxpemF0aW9uVHlwZSA9IGNoaWxkcmVuO1xuICAgIGNoaWxkcmVuID0gZGF0YTtcbiAgICBkYXRhID0gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChpc1RydWUoYWx3YXlzTm9ybWFsaXplKSkge1xuICAgIG5vcm1hbGl6YXRpb25UeXBlID0gQUxXQVlTX05PUk1BTElaRTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUVsZW1lbnQoY29udGV4dCwgdGFnLCBkYXRhLCBjaGlsZHJlbiwgbm9ybWFsaXphdGlvblR5cGUpXG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50IChcbiAgY29udGV4dCxcbiAgdGFnLFxuICBkYXRhLFxuICBjaGlsZHJlbixcbiAgbm9ybWFsaXphdGlvblR5cGVcbikge1xuICBpZiAoaXNEZWYoZGF0YSkgJiYgaXNEZWYoKGRhdGEpLl9fb2JfXykpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICBcIkF2b2lkIHVzaW5nIG9ic2VydmVkIGRhdGEgb2JqZWN0IGFzIHZub2RlIGRhdGE6IFwiICsgKEpTT04uc3RyaW5naWZ5KGRhdGEpKSArIFwiXFxuXCIgK1xuICAgICAgJ0Fsd2F5cyBjcmVhdGUgZnJlc2ggdm5vZGUgZGF0YSBvYmplY3RzIGluIGVhY2ggcmVuZGVyIScsXG4gICAgICBjb250ZXh0XG4gICAgKTtcbiAgICByZXR1cm4gY3JlYXRlRW1wdHlWTm9kZSgpXG4gIH1cbiAgLy8gb2JqZWN0IHN5bnRheCBpbiB2LWJpbmRcbiAgaWYgKGlzRGVmKGRhdGEpICYmIGlzRGVmKGRhdGEuaXMpKSB7XG4gICAgdGFnID0gZGF0YS5pcztcbiAgfVxuICBpZiAoIXRhZykge1xuICAgIC8vIGluIGNhc2Ugb2YgY29tcG9uZW50IDppcyBzZXQgdG8gZmFsc3kgdmFsdWVcbiAgICByZXR1cm4gY3JlYXRlRW1wdHlWTm9kZSgpXG4gIH1cbiAgLy8gd2FybiBhZ2FpbnN0IG5vbi1wcmltaXRpdmUga2V5XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgaXNEZWYoZGF0YSkgJiYgaXNEZWYoZGF0YS5rZXkpICYmICFpc1ByaW1pdGl2ZShkYXRhLmtleSlcbiAgKSB7XG4gICAge1xuICAgICAgd2FybihcbiAgICAgICAgJ0F2b2lkIHVzaW5nIG5vbi1wcmltaXRpdmUgdmFsdWUgYXMga2V5LCAnICtcbiAgICAgICAgJ3VzZSBzdHJpbmcvbnVtYmVyIHZhbHVlIGluc3RlYWQuJyxcbiAgICAgICAgY29udGV4dFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgLy8gc3VwcG9ydCBzaW5nbGUgZnVuY3Rpb24gY2hpbGRyZW4gYXMgZGVmYXVsdCBzY29wZWQgc2xvdFxuICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiZcbiAgICB0eXBlb2YgY2hpbGRyZW5bMF0gPT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgZGF0YSA9IGRhdGEgfHwge307XG4gICAgZGF0YS5zY29wZWRTbG90cyA9IHsgZGVmYXVsdDogY2hpbGRyZW5bMF0gfTtcbiAgICBjaGlsZHJlbi5sZW5ndGggPSAwO1xuICB9XG4gIGlmIChub3JtYWxpemF0aW9uVHlwZSA9PT0gQUxXQVlTX05PUk1BTElaRSkge1xuICAgIGNoaWxkcmVuID0gbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pO1xuICB9IGVsc2UgaWYgKG5vcm1hbGl6YXRpb25UeXBlID09PSBTSU1QTEVfTk9STUFMSVpFKSB7XG4gICAgY2hpbGRyZW4gPSBzaW1wbGVOb3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbik7XG4gIH1cbiAgdmFyIHZub2RlLCBucztcbiAgaWYgKHR5cGVvZiB0YWcgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIEN0b3I7XG4gICAgbnMgPSAoY29udGV4dC4kdm5vZGUgJiYgY29udGV4dC4kdm5vZGUubnMpIHx8IGNvbmZpZy5nZXRUYWdOYW1lc3BhY2UodGFnKTtcbiAgICBpZiAoY29uZmlnLmlzUmVzZXJ2ZWRUYWcodGFnKSkge1xuICAgICAgLy8gcGxhdGZvcm0gYnVpbHQtaW4gZWxlbWVudHNcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGlzRGVmKGRhdGEpICYmIGlzRGVmKGRhdGEubmF0aXZlT24pKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgKFwiVGhlIC5uYXRpdmUgbW9kaWZpZXIgZm9yIHYtb24gaXMgb25seSB2YWxpZCBvbiBjb21wb25lbnRzIGJ1dCBpdCB3YXMgdXNlZCBvbiA8XCIgKyB0YWcgKyBcIj4uXCIpLFxuICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZub2RlID0gbmV3IFZOb2RlKFxuICAgICAgICBjb25maWcucGFyc2VQbGF0Zm9ybVRhZ05hbWUodGFnKSwgZGF0YSwgY2hpbGRyZW4sXG4gICAgICAgIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjb250ZXh0XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoKCFkYXRhIHx8ICFkYXRhLnByZSkgJiYgaXNEZWYoQ3RvciA9IHJlc29sdmVBc3NldChjb250ZXh0LiRvcHRpb25zLCAnY29tcG9uZW50cycsIHRhZykpKSB7XG4gICAgICAvLyBjb21wb25lbnRcbiAgICAgIHZub2RlID0gY3JlYXRlQ29tcG9uZW50KEN0b3IsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuLCB0YWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1bmtub3duIG9yIHVubGlzdGVkIG5hbWVzcGFjZWQgZWxlbWVudHNcbiAgICAgIC8vIGNoZWNrIGF0IHJ1bnRpbWUgYmVjYXVzZSBpdCBtYXkgZ2V0IGFzc2lnbmVkIGEgbmFtZXNwYWNlIHdoZW4gaXRzXG4gICAgICAvLyBwYXJlbnQgbm9ybWFsaXplcyBjaGlsZHJlblxuICAgICAgdm5vZGUgPSBuZXcgVk5vZGUoXG4gICAgICAgIHRhZywgZGF0YSwgY2hpbGRyZW4sXG4gICAgICAgIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjb250ZXh0XG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBkaXJlY3QgY29tcG9uZW50IG9wdGlvbnMgLyBjb25zdHJ1Y3RvclxuICAgIHZub2RlID0gY3JlYXRlQ29tcG9uZW50KHRhZywgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4pO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZub2RlKSkge1xuICAgIHJldHVybiB2bm9kZVxuICB9IGVsc2UgaWYgKGlzRGVmKHZub2RlKSkge1xuICAgIGlmIChpc0RlZihucykpIHsgYXBwbHlOUyh2bm9kZSwgbnMpOyB9XG4gICAgaWYgKGlzRGVmKGRhdGEpKSB7IHJlZ2lzdGVyRGVlcEJpbmRpbmdzKGRhdGEpOyB9XG4gICAgcmV0dXJuIHZub2RlXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVtcHR5Vk5vZGUoKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5TlMgKHZub2RlLCBucywgZm9yY2UpIHtcbiAgdm5vZGUubnMgPSBucztcbiAgaWYgKHZub2RlLnRhZyA9PT0gJ2ZvcmVpZ25PYmplY3QnKSB7XG4gICAgLy8gdXNlIGRlZmF1bHQgbmFtZXNwYWNlIGluc2lkZSBmb3JlaWduT2JqZWN0XG4gICAgbnMgPSB1bmRlZmluZWQ7XG4gICAgZm9yY2UgPSB0cnVlO1xuICB9XG4gIGlmIChpc0RlZih2bm9kZS5jaGlsZHJlbikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gdm5vZGUuY2hpbGRyZW5baV07XG4gICAgICBpZiAoaXNEZWYoY2hpbGQudGFnKSAmJiAoXG4gICAgICAgIGlzVW5kZWYoY2hpbGQubnMpIHx8IChpc1RydWUoZm9yY2UpICYmIGNoaWxkLnRhZyAhPT0gJ3N2ZycpKSkge1xuICAgICAgICBhcHBseU5TKGNoaWxkLCBucywgZm9yY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyByZWYgIzUzMThcbi8vIG5lY2Vzc2FyeSB0byBlbnN1cmUgcGFyZW50IHJlLXJlbmRlciB3aGVuIGRlZXAgYmluZGluZ3MgbGlrZSA6c3R5bGUgYW5kXG4vLyA6Y2xhc3MgYXJlIHVzZWQgb24gc2xvdCBub2Rlc1xuZnVuY3Rpb24gcmVnaXN0ZXJEZWVwQmluZGluZ3MgKGRhdGEpIHtcbiAgaWYgKGlzT2JqZWN0KGRhdGEuc3R5bGUpKSB7XG4gICAgdHJhdmVyc2UoZGF0YS5zdHlsZSk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KGRhdGEuY2xhc3MpKSB7XG4gICAgdHJhdmVyc2UoZGF0YS5jbGFzcyk7XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRSZW5kZXIgKHZtKSB7XG4gIHZtLl92bm9kZSA9IG51bGw7IC8vIHRoZSByb290IG9mIHRoZSBjaGlsZCB0cmVlXG4gIHZtLl9zdGF0aWNUcmVlcyA9IG51bGw7IC8vIHYtb25jZSBjYWNoZWQgdHJlZXNcbiAgdmFyIG9wdGlvbnMgPSB2bS4kb3B0aW9ucztcbiAgdmFyIHBhcmVudFZub2RlID0gdm0uJHZub2RlID0gb3B0aW9ucy5fcGFyZW50Vm5vZGU7IC8vIHRoZSBwbGFjZWhvbGRlciBub2RlIGluIHBhcmVudCB0cmVlXG4gIHZhciByZW5kZXJDb250ZXh0ID0gcGFyZW50Vm5vZGUgJiYgcGFyZW50Vm5vZGUuY29udGV4dDtcbiAgdm0uJHNsb3RzID0gcmVzb2x2ZVNsb3RzKG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuLCByZW5kZXJDb250ZXh0KTtcbiAgdm0uJHNjb3BlZFNsb3RzID0gZW1wdHlPYmplY3Q7XG4gIC8vIGJpbmQgdGhlIGNyZWF0ZUVsZW1lbnQgZm4gdG8gdGhpcyBpbnN0YW5jZVxuICAvLyBzbyB0aGF0IHdlIGdldCBwcm9wZXIgcmVuZGVyIGNvbnRleHQgaW5zaWRlIGl0LlxuICAvLyBhcmdzIG9yZGVyOiB0YWcsIGRhdGEsIGNoaWxkcmVuLCBub3JtYWxpemF0aW9uVHlwZSwgYWx3YXlzTm9ybWFsaXplXG4gIC8vIGludGVybmFsIHZlcnNpb24gaXMgdXNlZCBieSByZW5kZXIgZnVuY3Rpb25zIGNvbXBpbGVkIGZyb20gdGVtcGxhdGVzXG4gIHZtLl9jID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsgcmV0dXJuIGNyZWF0ZUVsZW1lbnQodm0sIGEsIGIsIGMsIGQsIGZhbHNlKTsgfTtcbiAgLy8gbm9ybWFsaXphdGlvbiBpcyBhbHdheXMgYXBwbGllZCBmb3IgdGhlIHB1YmxpYyB2ZXJzaW9uLCB1c2VkIGluXG4gIC8vIHVzZXItd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zLlxuICB2bS4kY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7IHJldHVybiBjcmVhdGVFbGVtZW50KHZtLCBhLCBiLCBjLCBkLCB0cnVlKTsgfTtcblxuICAvLyAkYXR0cnMgJiAkbGlzdGVuZXJzIGFyZSBleHBvc2VkIGZvciBlYXNpZXIgSE9DIGNyZWF0aW9uLlxuICAvLyB0aGV5IG5lZWQgdG8gYmUgcmVhY3RpdmUgc28gdGhhdCBIT0NzIHVzaW5nIHRoZW0gYXJlIGFsd2F5cyB1cGRhdGVkXG4gIHZhciBwYXJlbnREYXRhID0gcGFyZW50Vm5vZGUgJiYgcGFyZW50Vm5vZGUuZGF0YTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGRlZmluZVJlYWN0aXZlJCQxKHZtLCAnJGF0dHJzJywgcGFyZW50RGF0YSAmJiBwYXJlbnREYXRhLmF0dHJzIHx8IGVtcHR5T2JqZWN0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAhaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50ICYmIHdhcm4oXCIkYXR0cnMgaXMgcmVhZG9ubHkuXCIsIHZtKTtcbiAgICB9LCB0cnVlKTtcbiAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwgJyRsaXN0ZW5lcnMnLCBvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnMgfHwgZW1wdHlPYmplY3QsIGZ1bmN0aW9uICgpIHtcbiAgICAgICFpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgJiYgd2FybihcIiRsaXN0ZW5lcnMgaXMgcmVhZG9ubHkuXCIsIHZtKTtcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwgJyRhdHRycycsIHBhcmVudERhdGEgJiYgcGFyZW50RGF0YS5hdHRycyB8fCBlbXB0eU9iamVjdCwgbnVsbCwgdHJ1ZSk7XG4gICAgZGVmaW5lUmVhY3RpdmUkJDEodm0sICckbGlzdGVuZXJzJywgb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0LCBudWxsLCB0cnVlKTtcbiAgfVxufVxuXG52YXIgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gbnVsbDtcblxuZnVuY3Rpb24gcmVuZGVyTWl4aW4gKFZ1ZSkge1xuICAvLyBpbnN0YWxsIHJ1bnRpbWUgY29udmVuaWVuY2UgaGVscGVyc1xuICBpbnN0YWxsUmVuZGVySGVscGVycyhWdWUucHJvdG90eXBlKTtcblxuICBWdWUucHJvdG90eXBlLiRuZXh0VGljayA9IGZ1bmN0aW9uIChmbikge1xuICAgIHJldHVybiBuZXh0VGljayhmbiwgdGhpcylcbiAgfTtcblxuICBWdWUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2YXIgcmVmID0gdm0uJG9wdGlvbnM7XG4gICAgdmFyIHJlbmRlciA9IHJlZi5yZW5kZXI7XG4gICAgdmFyIF9wYXJlbnRWbm9kZSA9IHJlZi5fcGFyZW50Vm5vZGU7XG5cbiAgICBpZiAoX3BhcmVudFZub2RlKSB7XG4gICAgICB2bS4kc2NvcGVkU2xvdHMgPSBub3JtYWxpemVTY29wZWRTbG90cyhcbiAgICAgICAgX3BhcmVudFZub2RlLmRhdGEuc2NvcGVkU2xvdHMsXG4gICAgICAgIHZtLiRzbG90cyxcbiAgICAgICAgdm0uJHNjb3BlZFNsb3RzXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIHNldCBwYXJlbnQgdm5vZGUuIHRoaXMgYWxsb3dzIHJlbmRlciBmdW5jdGlvbnMgdG8gaGF2ZSBhY2Nlc3NcbiAgICAvLyB0byB0aGUgZGF0YSBvbiB0aGUgcGxhY2Vob2xkZXIgbm9kZS5cbiAgICB2bS4kdm5vZGUgPSBfcGFyZW50Vm5vZGU7XG4gICAgLy8gcmVuZGVyIHNlbGZcbiAgICB2YXIgdm5vZGU7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRoZXJlJ3Mgbm8gbmVlZCB0byBtYWludGFpbiBhIHN0YWNrIGJlY2F1c2UgYWxsIHJlbmRlciBmbnMgYXJlIGNhbGxlZFxuICAgICAgLy8gc2VwYXJhdGVseSBmcm9tIG9uZSBhbm90aGVyLiBOZXN0ZWQgY29tcG9uZW50J3MgcmVuZGVyIGZucyBhcmUgY2FsbGVkXG4gICAgICAvLyB3aGVuIHBhcmVudCBjb21wb25lbnQgaXMgcGF0Y2hlZC5cbiAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IHZtO1xuICAgICAgdm5vZGUgPSByZW5kZXIuY2FsbCh2bS5fcmVuZGVyUHJveHksIHZtLiRjcmVhdGVFbGVtZW50KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBoYW5kbGVFcnJvcihlLCB2bSwgXCJyZW5kZXJcIik7XG4gICAgICAvLyByZXR1cm4gZXJyb3IgcmVuZGVyIHJlc3VsdCxcbiAgICAgIC8vIG9yIHByZXZpb3VzIHZub2RlIHRvIHByZXZlbnQgcmVuZGVyIGVycm9yIGNhdXNpbmcgYmxhbmsgY29tcG9uZW50XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdm0uJG9wdGlvbnMucmVuZGVyRXJyb3IpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2bm9kZSA9IHZtLiRvcHRpb25zLnJlbmRlckVycm9yLmNhbGwodm0uX3JlbmRlclByb3h5LCB2bS4kY3JlYXRlRWxlbWVudCwgZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBoYW5kbGVFcnJvcihlLCB2bSwgXCJyZW5kZXJFcnJvclwiKTtcbiAgICAgICAgICB2bm9kZSA9IHZtLl92bm9kZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm5vZGUgPSB2bS5fdm5vZGU7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7XG4gICAgfVxuICAgIC8vIGlmIHRoZSByZXR1cm5lZCBhcnJheSBjb250YWlucyBvbmx5IGEgc2luZ2xlIG5vZGUsIGFsbG93IGl0XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodm5vZGUpICYmIHZub2RlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdm5vZGUgPSB2bm9kZVswXTtcbiAgICB9XG4gICAgLy8gcmV0dXJuIGVtcHR5IHZub2RlIGluIGNhc2UgdGhlIHJlbmRlciBmdW5jdGlvbiBlcnJvcmVkIG91dFxuICAgIGlmICghKHZub2RlIGluc3RhbmNlb2YgVk5vZGUpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBBcnJheS5pc0FycmF5KHZub2RlKSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgICdNdWx0aXBsZSByb290IG5vZGVzIHJldHVybmVkIGZyb20gcmVuZGVyIGZ1bmN0aW9uLiBSZW5kZXIgZnVuY3Rpb24gJyArXG4gICAgICAgICAgJ3Nob3VsZCByZXR1cm4gYSBzaW5nbGUgcm9vdCBub2RlLicsXG4gICAgICAgICAgdm1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZub2RlID0gY3JlYXRlRW1wdHlWTm9kZSgpO1xuICAgIH1cbiAgICAvLyBzZXQgcGFyZW50XG4gICAgdm5vZGUucGFyZW50ID0gX3BhcmVudFZub2RlO1xuICAgIHJldHVybiB2bm9kZVxuICB9O1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gZW5zdXJlQ3RvciAoY29tcCwgYmFzZSkge1xuICBpZiAoXG4gICAgY29tcC5fX2VzTW9kdWxlIHx8XG4gICAgKGhhc1N5bWJvbCAmJiBjb21wW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnKVxuICApIHtcbiAgICBjb21wID0gY29tcC5kZWZhdWx0O1xuICB9XG4gIHJldHVybiBpc09iamVjdChjb21wKVxuICAgID8gYmFzZS5leHRlbmQoY29tcClcbiAgICA6IGNvbXBcbn1cblxuZnVuY3Rpb24gY3JlYXRlQXN5bmNQbGFjZWhvbGRlciAoXG4gIGZhY3RvcnksXG4gIGRhdGEsXG4gIGNvbnRleHQsXG4gIGNoaWxkcmVuLFxuICB0YWdcbikge1xuICB2YXIgbm9kZSA9IGNyZWF0ZUVtcHR5Vk5vZGUoKTtcbiAgbm9kZS5hc3luY0ZhY3RvcnkgPSBmYWN0b3J5O1xuICBub2RlLmFzeW5jTWV0YSA9IHsgZGF0YTogZGF0YSwgY29udGV4dDogY29udGV4dCwgY2hpbGRyZW46IGNoaWxkcmVuLCB0YWc6IHRhZyB9O1xuICByZXR1cm4gbm9kZVxufVxuXG5mdW5jdGlvbiByZXNvbHZlQXN5bmNDb21wb25lbnQgKFxuICBmYWN0b3J5LFxuICBiYXNlQ3RvclxuKSB7XG4gIGlmIChpc1RydWUoZmFjdG9yeS5lcnJvcikgJiYgaXNEZWYoZmFjdG9yeS5lcnJvckNvbXApKSB7XG4gICAgcmV0dXJuIGZhY3RvcnkuZXJyb3JDb21wXG4gIH1cblxuICBpZiAoaXNEZWYoZmFjdG9yeS5yZXNvbHZlZCkpIHtcbiAgICByZXR1cm4gZmFjdG9yeS5yZXNvbHZlZFxuICB9XG5cbiAgdmFyIG93bmVyID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICBpZiAob3duZXIgJiYgaXNEZWYoZmFjdG9yeS5vd25lcnMpICYmIGZhY3Rvcnkub3duZXJzLmluZGV4T2Yob3duZXIpID09PSAtMSkge1xuICAgIC8vIGFscmVhZHkgcGVuZGluZ1xuICAgIGZhY3Rvcnkub3duZXJzLnB1c2gob3duZXIpO1xuICB9XG5cbiAgaWYgKGlzVHJ1ZShmYWN0b3J5LmxvYWRpbmcpICYmIGlzRGVmKGZhY3RvcnkubG9hZGluZ0NvbXApKSB7XG4gICAgcmV0dXJuIGZhY3RvcnkubG9hZGluZ0NvbXBcbiAgfVxuXG4gIGlmIChvd25lciAmJiAhaXNEZWYoZmFjdG9yeS5vd25lcnMpKSB7XG4gICAgdmFyIG93bmVycyA9IGZhY3Rvcnkub3duZXJzID0gW293bmVyXTtcbiAgICB2YXIgc3luYyA9IHRydWU7XG4gICAgdmFyIHRpbWVyTG9hZGluZyA9IG51bGw7XG4gICAgdmFyIHRpbWVyVGltZW91dCA9IG51bGxcblxuICAgIDsob3duZXIpLiRvbignaG9vazpkZXN0cm95ZWQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiByZW1vdmUob3duZXJzLCBvd25lcik7IH0pO1xuXG4gICAgdmFyIGZvcmNlUmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlckNvbXBsZXRlZCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvd25lcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIChvd25lcnNbaV0pLiRmb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVuZGVyQ29tcGxldGVkKSB7XG4gICAgICAgIG93bmVycy5sZW5ndGggPSAwO1xuICAgICAgICBpZiAodGltZXJMb2FkaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyTG9hZGluZyk7XG4gICAgICAgICAgdGltZXJMb2FkaW5nID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyVGltZW91dCk7XG4gICAgICAgICAgdGltZXJUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcmVzb2x2ZSA9IG9uY2UoZnVuY3Rpb24gKHJlcykge1xuICAgICAgLy8gY2FjaGUgcmVzb2x2ZWRcbiAgICAgIGZhY3RvcnkucmVzb2x2ZWQgPSBlbnN1cmVDdG9yKHJlcywgYmFzZUN0b3IpO1xuICAgICAgLy8gaW52b2tlIGNhbGxiYWNrcyBvbmx5IGlmIHRoaXMgaXMgbm90IGEgc3luY2hyb25vdXMgcmVzb2x2ZVxuICAgICAgLy8gKGFzeW5jIHJlc29sdmVzIGFyZSBzaGltbWVkIGFzIHN5bmNocm9ub3VzIGR1cmluZyBTU1IpXG4gICAgICBpZiAoIXN5bmMpIHtcbiAgICAgICAgZm9yY2VSZW5kZXIodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvd25lcnMubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciByZWplY3QgPSBvbmNlKGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgXCJGYWlsZWQgdG8gcmVzb2x2ZSBhc3luYyBjb21wb25lbnQ6IFwiICsgKFN0cmluZyhmYWN0b3J5KSkgK1xuICAgICAgICAocmVhc29uID8gKFwiXFxuUmVhc29uOiBcIiArIHJlYXNvbikgOiAnJylcbiAgICAgICk7XG4gICAgICBpZiAoaXNEZWYoZmFjdG9yeS5lcnJvckNvbXApKSB7XG4gICAgICAgIGZhY3RvcnkuZXJyb3IgPSB0cnVlO1xuICAgICAgICBmb3JjZVJlbmRlcih0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciByZXMgPSBmYWN0b3J5KHJlc29sdmUsIHJlamVjdCk7XG5cbiAgICBpZiAoaXNPYmplY3QocmVzKSkge1xuICAgICAgaWYgKGlzUHJvbWlzZShyZXMpKSB7XG4gICAgICAgIC8vICgpID0+IFByb21pc2VcbiAgICAgICAgaWYgKGlzVW5kZWYoZmFjdG9yeS5yZXNvbHZlZCkpIHtcbiAgICAgICAgICByZXMudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZShyZXMuY29tcG9uZW50KSkge1xuICAgICAgICByZXMuY29tcG9uZW50LnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcblxuICAgICAgICBpZiAoaXNEZWYocmVzLmVycm9yKSkge1xuICAgICAgICAgIGZhY3RvcnkuZXJyb3JDb21wID0gZW5zdXJlQ3RvcihyZXMuZXJyb3IsIGJhc2VDdG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZihyZXMubG9hZGluZykpIHtcbiAgICAgICAgICBmYWN0b3J5LmxvYWRpbmdDb21wID0gZW5zdXJlQ3RvcihyZXMubG9hZGluZywgYmFzZUN0b3IpO1xuICAgICAgICAgIGlmIChyZXMuZGVsYXkgPT09IDApIHtcbiAgICAgICAgICAgIGZhY3RvcnkubG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVyTG9hZGluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB0aW1lckxvYWRpbmcgPSBudWxsO1xuICAgICAgICAgICAgICBpZiAoaXNVbmRlZihmYWN0b3J5LnJlc29sdmVkKSAmJiBpc1VuZGVmKGZhY3RvcnkuZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgZmFjdG9yeS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3JjZVJlbmRlcihmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlcy5kZWxheSB8fCAyMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZihyZXMudGltZW91dCkpIHtcbiAgICAgICAgICB0aW1lclRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRpbWVyVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaXNVbmRlZihmYWN0b3J5LnJlc29sdmVkKSkge1xuICAgICAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJ1xuICAgICAgICAgICAgICAgICAgPyAoXCJ0aW1lb3V0IChcIiArIChyZXMudGltZW91dCkgKyBcIm1zKVwiKVxuICAgICAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgcmVzLnRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3luYyA9IGZhbHNlO1xuICAgIC8vIHJldHVybiBpbiBjYXNlIHJlc29sdmVkIHN5bmNocm9ub3VzbHlcbiAgICByZXR1cm4gZmFjdG9yeS5sb2FkaW5nXG4gICAgICA/IGZhY3RvcnkubG9hZGluZ0NvbXBcbiAgICAgIDogZmFjdG9yeS5yZXNvbHZlZFxuICB9XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpc0FzeW5jUGxhY2Vob2xkZXIgKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuaXNDb21tZW50ICYmIG5vZGUuYXN5bmNGYWN0b3J5XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBnZXRGaXJzdENvbXBvbmVudENoaWxkIChjaGlsZHJlbikge1xuICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IGNoaWxkcmVuW2ldO1xuICAgICAgaWYgKGlzRGVmKGMpICYmIChpc0RlZihjLmNvbXBvbmVudE9wdGlvbnMpIHx8IGlzQXN5bmNQbGFjZWhvbGRlcihjKSkpIHtcbiAgICAgICAgcmV0dXJuIGNcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0RXZlbnRzICh2bSkge1xuICB2bS5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdm0uX2hhc0hvb2tFdmVudCA9IGZhbHNlO1xuICAvLyBpbml0IHBhcmVudCBhdHRhY2hlZCBldmVudHNcbiAgdmFyIGxpc3RlbmVycyA9IHZtLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XG4gIGlmIChsaXN0ZW5lcnMpIHtcbiAgICB1cGRhdGVDb21wb25lbnRMaXN0ZW5lcnModm0sIGxpc3RlbmVycyk7XG4gIH1cbn1cblxudmFyIHRhcmdldDtcblxuZnVuY3Rpb24gYWRkIChldmVudCwgZm4pIHtcbiAgdGFyZ2V0LiRvbihldmVudCwgZm4pO1xufVxuXG5mdW5jdGlvbiByZW1vdmUkMSAoZXZlbnQsIGZuKSB7XG4gIHRhcmdldC4kb2ZmKGV2ZW50LCBmbik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU9uY2VIYW5kbGVyIChldmVudCwgZm4pIHtcbiAgdmFyIF90YXJnZXQgPSB0YXJnZXQ7XG4gIHJldHVybiBmdW5jdGlvbiBvbmNlSGFuZGxlciAoKSB7XG4gICAgdmFyIHJlcyA9IGZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHJlcyAhPT0gbnVsbCkge1xuICAgICAgX3RhcmdldC4kb2ZmKGV2ZW50LCBvbmNlSGFuZGxlcik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudExpc3RlbmVycyAoXG4gIHZtLFxuICBsaXN0ZW5lcnMsXG4gIG9sZExpc3RlbmVyc1xuKSB7XG4gIHRhcmdldCA9IHZtO1xuICB1cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMgfHwge30sIGFkZCwgcmVtb3ZlJDEsIGNyZWF0ZU9uY2VIYW5kbGVyLCB2bSk7XG4gIHRhcmdldCA9IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZXZlbnRzTWl4aW4gKFZ1ZSkge1xuICB2YXIgaG9va1JFID0gL15ob29rOi87XG4gIFZ1ZS5wcm90b3R5cGUuJG9uID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnQpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGV2ZW50Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2bS4kb24oZXZlbnRbaV0sIGZuKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgKHZtLl9ldmVudHNbZXZlbnRdIHx8ICh2bS5fZXZlbnRzW2V2ZW50XSA9IFtdKSkucHVzaChmbik7XG4gICAgICAvLyBvcHRpbWl6ZSBob29rOmV2ZW50IGNvc3QgYnkgdXNpbmcgYSBib29sZWFuIGZsYWcgbWFya2VkIGF0IHJlZ2lzdHJhdGlvblxuICAgICAgLy8gaW5zdGVhZCBvZiBhIGhhc2ggbG9va3VwXG4gICAgICBpZiAoaG9va1JFLnRlc3QoZXZlbnQpKSB7XG4gICAgICAgIHZtLl9oYXNIb29rRXZlbnQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdm1cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLiRvbmNlID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgZnVuY3Rpb24gb24gKCkge1xuICAgICAgdm0uJG9mZihldmVudCwgb24pO1xuICAgICAgZm4uYXBwbHkodm0sIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIG9uLmZuID0gZm47XG4gICAgdm0uJG9uKGV2ZW50LCBvbik7XG4gICAgcmV0dXJuIHZtXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS4kb2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgLy8gYWxsXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICB2bS5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIHJldHVybiB2bVxuICAgIH1cbiAgICAvLyBhcnJheSBvZiBldmVudHNcbiAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudCkpIHtcbiAgICAgIGZvciAodmFyIGkkMSA9IDAsIGwgPSBldmVudC5sZW5ndGg7IGkkMSA8IGw7IGkkMSsrKSB7XG4gICAgICAgIHZtLiRvZmYoZXZlbnRbaSQxXSwgZm4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZtXG4gICAgfVxuICAgIC8vIHNwZWNpZmljIGV2ZW50XG4gICAgdmFyIGNicyA9IHZtLl9ldmVudHNbZXZlbnRdO1xuICAgIGlmICghY2JzKSB7XG4gICAgICByZXR1cm4gdm1cbiAgICB9XG4gICAgaWYgKCFmbikge1xuICAgICAgdm0uX2V2ZW50c1tldmVudF0gPSBudWxsO1xuICAgICAgcmV0dXJuIHZtXG4gICAgfVxuICAgIC8vIHNwZWNpZmljIGhhbmRsZXJcbiAgICB2YXIgY2I7XG4gICAgdmFyIGkgPSBjYnMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGNiID0gY2JzW2ldO1xuICAgICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcbiAgICAgICAgY2JzLnNwbGljZShpLCAxKTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZtXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS4kZW1pdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBsb3dlckNhc2VFdmVudCA9IGV2ZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAobG93ZXJDYXNlRXZlbnQgIT09IGV2ZW50ICYmIHZtLl9ldmVudHNbbG93ZXJDYXNlRXZlbnRdKSB7XG4gICAgICAgIHRpcChcbiAgICAgICAgICBcIkV2ZW50IFxcXCJcIiArIGxvd2VyQ2FzZUV2ZW50ICsgXCJcXFwiIGlzIGVtaXR0ZWQgaW4gY29tcG9uZW50IFwiICtcbiAgICAgICAgICAoZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpICsgXCIgYnV0IHRoZSBoYW5kbGVyIGlzIHJlZ2lzdGVyZWQgZm9yIFxcXCJcIiArIGV2ZW50ICsgXCJcXFwiLiBcIiArXG4gICAgICAgICAgXCJOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCB5b3UgY2Fubm90IHVzZSBcIiArXG4gICAgICAgICAgXCJ2LW9uIHRvIGxpc3RlbiB0byBjYW1lbENhc2UgZXZlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIHRlbXBsYXRlcy4gXCIgK1xuICAgICAgICAgIFwiWW91IHNob3VsZCBwcm9iYWJseSB1c2UgXFxcIlwiICsgKGh5cGhlbmF0ZShldmVudCkpICsgXCJcXFwiIGluc3RlYWQgb2YgXFxcIlwiICsgZXZlbnQgKyBcIlxcXCIuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNicyA9IHZtLl9ldmVudHNbZXZlbnRdO1xuICAgIGlmIChjYnMpIHtcbiAgICAgIGNicyA9IGNicy5sZW5ndGggPiAxID8gdG9BcnJheShjYnMpIDogY2JzO1xuICAgICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7XG4gICAgICB2YXIgaW5mbyA9IFwiZXZlbnQgaGFuZGxlciBmb3IgXFxcIlwiICsgZXZlbnQgKyBcIlxcXCJcIjtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhjYnNbaV0sIHZtLCBhcmdzLCB2bSwgaW5mbyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2bVxuICB9O1xufVxuXG4vKiAgKi9cblxudmFyIGFjdGl2ZUluc3RhbmNlID0gbnVsbDtcbnZhciBpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgPSBmYWxzZTtcblxuZnVuY3Rpb24gc2V0QWN0aXZlSW5zdGFuY2Uodm0pIHtcbiAgdmFyIHByZXZBY3RpdmVJbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlO1xuICBhY3RpdmVJbnN0YW5jZSA9IHZtO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGFjdGl2ZUluc3RhbmNlID0gcHJldkFjdGl2ZUluc3RhbmNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRMaWZlY3ljbGUgKHZtKSB7XG4gIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XG5cbiAgLy8gbG9jYXRlIGZpcnN0IG5vbi1hYnN0cmFjdCBwYXJlbnRcbiAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50O1xuICBpZiAocGFyZW50ICYmICFvcHRpb25zLmFic3RyYWN0KSB7XG4gICAgd2hpbGUgKHBhcmVudC4kb3B0aW9ucy5hYnN0cmFjdCAmJiBwYXJlbnQuJHBhcmVudCkge1xuICAgICAgcGFyZW50ID0gcGFyZW50LiRwYXJlbnQ7XG4gICAgfVxuICAgIHBhcmVudC4kY2hpbGRyZW4ucHVzaCh2bSk7XG4gIH1cblxuICB2bS4kcGFyZW50ID0gcGFyZW50O1xuICB2bS4kcm9vdCA9IHBhcmVudCA/IHBhcmVudC4kcm9vdCA6IHZtO1xuXG4gIHZtLiRjaGlsZHJlbiA9IFtdO1xuICB2bS4kcmVmcyA9IHt9O1xuXG4gIHZtLl93YXRjaGVyID0gbnVsbDtcbiAgdm0uX2luYWN0aXZlID0gbnVsbDtcbiAgdm0uX2RpcmVjdEluYWN0aXZlID0gZmFsc2U7XG4gIHZtLl9pc01vdW50ZWQgPSBmYWxzZTtcbiAgdm0uX2lzRGVzdHJveWVkID0gZmFsc2U7XG4gIHZtLl9pc0JlaW5nRGVzdHJveWVkID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGxpZmVjeWNsZU1peGluIChWdWUpIHtcbiAgVnVlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKHZub2RlLCBoeWRyYXRpbmcpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZhciBwcmV2RWwgPSB2bS4kZWw7XG4gICAgdmFyIHByZXZWbm9kZSA9IHZtLl92bm9kZTtcbiAgICB2YXIgcmVzdG9yZUFjdGl2ZUluc3RhbmNlID0gc2V0QWN0aXZlSW5zdGFuY2Uodm0pO1xuICAgIHZtLl92bm9kZSA9IHZub2RlO1xuICAgIC8vIFZ1ZS5wcm90b3R5cGUuX19wYXRjaF9fIGlzIGluamVjdGVkIGluIGVudHJ5IHBvaW50c1xuICAgIC8vIGJhc2VkIG9uIHRoZSByZW5kZXJpbmcgYmFja2VuZCB1c2VkLlxuICAgIGlmICghcHJldlZub2RlKSB7XG4gICAgICAvLyBpbml0aWFsIHJlbmRlclxuICAgICAgdm0uJGVsID0gdm0uX19wYXRjaF9fKHZtLiRlbCwgdm5vZGUsIGh5ZHJhdGluZywgZmFsc2UgLyogcmVtb3ZlT25seSAqLyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVwZGF0ZXNcbiAgICAgIHZtLiRlbCA9IHZtLl9fcGF0Y2hfXyhwcmV2Vm5vZGUsIHZub2RlKTtcbiAgICB9XG4gICAgcmVzdG9yZUFjdGl2ZUluc3RhbmNlKCk7XG4gICAgLy8gdXBkYXRlIF9fdnVlX18gcmVmZXJlbmNlXG4gICAgaWYgKHByZXZFbCkge1xuICAgICAgcHJldkVsLl9fdnVlX18gPSBudWxsO1xuICAgIH1cbiAgICBpZiAodm0uJGVsKSB7XG4gICAgICB2bS4kZWwuX192dWVfXyA9IHZtO1xuICAgIH1cbiAgICAvLyBpZiBwYXJlbnQgaXMgYW4gSE9DLCB1cGRhdGUgaXRzICRlbCBhcyB3ZWxsXG4gICAgaWYgKHZtLiR2bm9kZSAmJiB2bS4kcGFyZW50ICYmIHZtLiR2bm9kZSA9PT0gdm0uJHBhcmVudC5fdm5vZGUpIHtcbiAgICAgIHZtLiRwYXJlbnQuJGVsID0gdm0uJGVsO1xuICAgIH1cbiAgICAvLyB1cGRhdGVkIGhvb2sgaXMgY2FsbGVkIGJ5IHRoZSBzY2hlZHVsZXIgdG8gZW5zdXJlIHRoYXQgY2hpbGRyZW4gYXJlXG4gICAgLy8gdXBkYXRlZCBpbiBhIHBhcmVudCdzIHVwZGF0ZWQgaG9vay5cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLiRmb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIGlmICh2bS5fd2F0Y2hlcikge1xuICAgICAgdm0uX3dhdGNoZXIudXBkYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIFZ1ZS5wcm90b3R5cGUuJGRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICBpZiAodm0uX2lzQmVpbmdEZXN0cm95ZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZURlc3Ryb3knKTtcbiAgICB2bS5faXNCZWluZ0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSBwYXJlbnRcbiAgICB2YXIgcGFyZW50ID0gdm0uJHBhcmVudDtcbiAgICBpZiAocGFyZW50ICYmICFwYXJlbnQuX2lzQmVpbmdEZXN0cm95ZWQgJiYgIXZtLiRvcHRpb25zLmFic3RyYWN0KSB7XG4gICAgICByZW1vdmUocGFyZW50LiRjaGlsZHJlbiwgdm0pO1xuICAgIH1cbiAgICAvLyB0ZWFyZG93biB3YXRjaGVyc1xuICAgIGlmICh2bS5fd2F0Y2hlcikge1xuICAgICAgdm0uX3dhdGNoZXIudGVhcmRvd24oKTtcbiAgICB9XG4gICAgdmFyIGkgPSB2bS5fd2F0Y2hlcnMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHZtLl93YXRjaGVyc1tpXS50ZWFyZG93bigpO1xuICAgIH1cbiAgICAvLyByZW1vdmUgcmVmZXJlbmNlIGZyb20gZGF0YSBvYlxuICAgIC8vIGZyb3plbiBvYmplY3QgbWF5IG5vdCBoYXZlIG9ic2VydmVyLlxuICAgIGlmICh2bS5fZGF0YS5fX29iX18pIHtcbiAgICAgIHZtLl9kYXRhLl9fb2JfXy52bUNvdW50LS07XG4gICAgfVxuICAgIC8vIGNhbGwgdGhlIGxhc3QgaG9vay4uLlxuICAgIHZtLl9pc0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgLy8gaW52b2tlIGRlc3Ryb3kgaG9va3Mgb24gY3VycmVudCByZW5kZXJlZCB0cmVlXG4gICAgdm0uX19wYXRjaF9fKHZtLl92bm9kZSwgbnVsbCk7XG4gICAgLy8gZmlyZSBkZXN0cm95ZWQgaG9va1xuICAgIGNhbGxIb29rKHZtLCAnZGVzdHJveWVkJyk7XG4gICAgLy8gdHVybiBvZmYgYWxsIGluc3RhbmNlIGxpc3RlbmVycy5cbiAgICB2bS4kb2ZmKCk7XG4gICAgLy8gcmVtb3ZlIF9fdnVlX18gcmVmZXJlbmNlXG4gICAgaWYgKHZtLiRlbCkge1xuICAgICAgdm0uJGVsLl9fdnVlX18gPSBudWxsO1xuICAgIH1cbiAgICAvLyByZWxlYXNlIGNpcmN1bGFyIHJlZmVyZW5jZSAoIzY3NTkpXG4gICAgaWYgKHZtLiR2bm9kZSkge1xuICAgICAgdm0uJHZub2RlLnBhcmVudCA9IG51bGw7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBtb3VudENvbXBvbmVudCAoXG4gIHZtLFxuICBlbCxcbiAgaHlkcmF0aW5nXG4pIHtcbiAgdm0uJGVsID0gZWw7XG4gIGlmICghdm0uJG9wdGlvbnMucmVuZGVyKSB7XG4gICAgdm0uJG9wdGlvbnMucmVuZGVyID0gY3JlYXRlRW1wdHlWTm9kZTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoKHZtLiRvcHRpb25zLnRlbXBsYXRlICYmIHZtLiRvcHRpb25zLnRlbXBsYXRlLmNoYXJBdCgwKSAhPT0gJyMnKSB8fFxuICAgICAgICB2bS4kb3B0aW9ucy5lbCB8fCBlbCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgICdZb3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQgb2YgVnVlIHdoZXJlIHRoZSB0ZW1wbGF0ZSAnICtcbiAgICAgICAgICAnY29tcGlsZXIgaXMgbm90IGF2YWlsYWJsZS4gRWl0aGVyIHByZS1jb21waWxlIHRoZSB0ZW1wbGF0ZXMgaW50byAnICtcbiAgICAgICAgICAncmVuZGVyIGZ1bmN0aW9ucywgb3IgdXNlIHRoZSBjb21waWxlci1pbmNsdWRlZCBidWlsZC4nLFxuICAgICAgICAgIHZtXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgICdGYWlsZWQgdG8gbW91bnQgY29tcG9uZW50OiB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb24gbm90IGRlZmluZWQuJyxcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjYWxsSG9vayh2bSwgJ2JlZm9yZU1vdW50Jyk7XG5cbiAgdmFyIHVwZGF0ZUNvbXBvbmVudDtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGNvbmZpZy5wZXJmb3JtYW5jZSAmJiBtYXJrKSB7XG4gICAgdXBkYXRlQ29tcG9uZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG5hbWUgPSB2bS5fbmFtZTtcbiAgICAgIHZhciBpZCA9IHZtLl91aWQ7XG4gICAgICB2YXIgc3RhcnRUYWcgPSBcInZ1ZS1wZXJmLXN0YXJ0OlwiICsgaWQ7XG4gICAgICB2YXIgZW5kVGFnID0gXCJ2dWUtcGVyZi1lbmQ6XCIgKyBpZDtcblxuICAgICAgbWFyayhzdGFydFRhZyk7XG4gICAgICB2YXIgdm5vZGUgPSB2bS5fcmVuZGVyKCk7XG4gICAgICBtYXJrKGVuZFRhZyk7XG4gICAgICBtZWFzdXJlKChcInZ1ZSBcIiArIG5hbWUgKyBcIiByZW5kZXJcIiksIHN0YXJ0VGFnLCBlbmRUYWcpO1xuXG4gICAgICBtYXJrKHN0YXJ0VGFnKTtcbiAgICAgIHZtLl91cGRhdGUodm5vZGUsIGh5ZHJhdGluZyk7XG4gICAgICBtYXJrKGVuZFRhZyk7XG4gICAgICBtZWFzdXJlKChcInZ1ZSBcIiArIG5hbWUgKyBcIiBwYXRjaFwiKSwgc3RhcnRUYWcsIGVuZFRhZyk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB1cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2bS5fdXBkYXRlKHZtLl9yZW5kZXIoKSwgaHlkcmF0aW5nKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gd2Ugc2V0IHRoaXMgdG8gdm0uX3dhdGNoZXIgaW5zaWRlIHRoZSB3YXRjaGVyJ3MgY29uc3RydWN0b3JcbiAgLy8gc2luY2UgdGhlIHdhdGNoZXIncyBpbml0aWFsIHBhdGNoIG1heSBjYWxsICRmb3JjZVVwZGF0ZSAoZS5nLiBpbnNpZGUgY2hpbGRcbiAgLy8gY29tcG9uZW50J3MgbW91bnRlZCBob29rKSwgd2hpY2ggcmVsaWVzIG9uIHZtLl93YXRjaGVyIGJlaW5nIGFscmVhZHkgZGVmaW5lZFxuICBuZXcgV2F0Y2hlcih2bSwgdXBkYXRlQ29tcG9uZW50LCBub29wLCB7XG4gICAgYmVmb3JlOiBmdW5jdGlvbiBiZWZvcmUgKCkge1xuICAgICAgaWYgKHZtLl9pc01vdW50ZWQgJiYgIXZtLl9pc0Rlc3Ryb3llZCkge1xuICAgICAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZVVwZGF0ZScpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgdHJ1ZSAvKiBpc1JlbmRlcldhdGNoZXIgKi8pO1xuICBoeWRyYXRpbmcgPSBmYWxzZTtcblxuICAvLyBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlLCBjYWxsIG1vdW50ZWQgb24gc2VsZlxuICAvLyBtb3VudGVkIGlzIGNhbGxlZCBmb3IgcmVuZGVyLWNyZWF0ZWQgY2hpbGQgY29tcG9uZW50cyBpbiBpdHMgaW5zZXJ0ZWQgaG9va1xuICBpZiAodm0uJHZub2RlID09IG51bGwpIHtcbiAgICB2bS5faXNNb3VudGVkID0gdHJ1ZTtcbiAgICBjYWxsSG9vayh2bSwgJ21vdW50ZWQnKTtcbiAgfVxuICByZXR1cm4gdm1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQ2hpbGRDb21wb25lbnQgKFxuICB2bSxcbiAgcHJvcHNEYXRhLFxuICBsaXN0ZW5lcnMsXG4gIHBhcmVudFZub2RlLFxuICByZW5kZXJDaGlsZHJlblxuKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50ID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIGRldGVybWluZSB3aGV0aGVyIGNvbXBvbmVudCBoYXMgc2xvdCBjaGlsZHJlblxuICAvLyB3ZSBuZWVkIHRvIGRvIHRoaXMgYmVmb3JlIG92ZXJ3cml0aW5nICRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbi5cblxuICAvLyBjaGVjayBpZiB0aGVyZSBhcmUgZHluYW1pYyBzY29wZWRTbG90cyAoaGFuZC13cml0dGVuIG9yIGNvbXBpbGVkIGJ1dCB3aXRoXG4gIC8vIGR5bmFtaWMgc2xvdCBuYW1lcykuIFN0YXRpYyBzY29wZWQgc2xvdHMgY29tcGlsZWQgZnJvbSB0ZW1wbGF0ZSBoYXMgdGhlXG4gIC8vIFwiJHN0YWJsZVwiIG1hcmtlci5cbiAgdmFyIG5ld1Njb3BlZFNsb3RzID0gcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cztcbiAgdmFyIG9sZFNjb3BlZFNsb3RzID0gdm0uJHNjb3BlZFNsb3RzO1xuICB2YXIgaGFzRHluYW1pY1Njb3BlZFNsb3QgPSAhIShcbiAgICAobmV3U2NvcGVkU2xvdHMgJiYgIW5ld1Njb3BlZFNsb3RzLiRzdGFibGUpIHx8XG4gICAgKG9sZFNjb3BlZFNsb3RzICE9PSBlbXB0eU9iamVjdCAmJiAhb2xkU2NvcGVkU2xvdHMuJHN0YWJsZSkgfHxcbiAgICAobmV3U2NvcGVkU2xvdHMgJiYgdm0uJHNjb3BlZFNsb3RzLiRrZXkgIT09IG5ld1Njb3BlZFNsb3RzLiRrZXkpXG4gICk7XG5cbiAgLy8gQW55IHN0YXRpYyBzbG90IGNoaWxkcmVuIGZyb20gdGhlIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGR1cmluZyBwYXJlbnQnc1xuICAvLyB1cGRhdGUuIER5bmFtaWMgc2NvcGVkIHNsb3RzIG1heSBhbHNvIGhhdmUgY2hhbmdlZC4gSW4gc3VjaCBjYXNlcywgYSBmb3JjZWRcbiAgLy8gdXBkYXRlIGlzIG5lY2Vzc2FyeSB0byBlbnN1cmUgY29ycmVjdG5lc3MuXG4gIHZhciBuZWVkc0ZvcmNlVXBkYXRlID0gISEoXG4gICAgcmVuZGVyQ2hpbGRyZW4gfHwgICAgICAgICAgICAgICAvLyBoYXMgbmV3IHN0YXRpYyBzbG90c1xuICAgIHZtLiRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiB8fCAgLy8gaGFzIG9sZCBzdGF0aWMgc2xvdHNcbiAgICBoYXNEeW5hbWljU2NvcGVkU2xvdFxuICApO1xuXG4gIHZtLiRvcHRpb25zLl9wYXJlbnRWbm9kZSA9IHBhcmVudFZub2RlO1xuICB2bS4kdm5vZGUgPSBwYXJlbnRWbm9kZTsgLy8gdXBkYXRlIHZtJ3MgcGxhY2Vob2xkZXIgbm9kZSB3aXRob3V0IHJlLXJlbmRlclxuXG4gIGlmICh2bS5fdm5vZGUpIHsgLy8gdXBkYXRlIGNoaWxkIHRyZWUncyBwYXJlbnRcbiAgICB2bS5fdm5vZGUucGFyZW50ID0gcGFyZW50Vm5vZGU7XG4gIH1cbiAgdm0uJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuID0gcmVuZGVyQ2hpbGRyZW47XG5cbiAgLy8gdXBkYXRlICRhdHRycyBhbmQgJGxpc3RlbmVycyBoYXNoXG4gIC8vIHRoZXNlIGFyZSBhbHNvIHJlYWN0aXZlIHNvIHRoZXkgbWF5IHRyaWdnZXIgY2hpbGQgdXBkYXRlIGlmIHRoZSBjaGlsZFxuICAvLyB1c2VkIHRoZW0gZHVyaW5nIHJlbmRlclxuICB2bS4kYXR0cnMgPSBwYXJlbnRWbm9kZS5kYXRhLmF0dHJzIHx8IGVtcHR5T2JqZWN0O1xuICB2bS4kbGlzdGVuZXJzID0gbGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0O1xuXG4gIC8vIHVwZGF0ZSBwcm9wc1xuICBpZiAocHJvcHNEYXRhICYmIHZtLiRvcHRpb25zLnByb3BzKSB7XG4gICAgdG9nZ2xlT2JzZXJ2aW5nKGZhbHNlKTtcbiAgICB2YXIgcHJvcHMgPSB2bS5fcHJvcHM7XG4gICAgdmFyIHByb3BLZXlzID0gdm0uJG9wdGlvbnMuX3Byb3BLZXlzIHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBwcm9wS2V5c1tpXTtcbiAgICAgIHZhciBwcm9wT3B0aW9ucyA9IHZtLiRvcHRpb25zLnByb3BzOyAvLyB3dGYgZmxvdz9cbiAgICAgIHByb3BzW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wT3B0aW9ucywgcHJvcHNEYXRhLCB2bSk7XG4gICAgfVxuICAgIHRvZ2dsZU9ic2VydmluZyh0cnVlKTtcbiAgICAvLyBrZWVwIGEgY29weSBvZiByYXcgcHJvcHNEYXRhXG4gICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhID0gcHJvcHNEYXRhO1xuICB9XG5cbiAgLy8gdXBkYXRlIGxpc3RlbmVyc1xuICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMgfHwgZW1wdHlPYmplY3Q7XG4gIHZhciBvbGRMaXN0ZW5lcnMgPSB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuICB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzID0gbGlzdGVuZXJzO1xuICB1cGRhdGVDb21wb25lbnRMaXN0ZW5lcnModm0sIGxpc3RlbmVycywgb2xkTGlzdGVuZXJzKTtcblxuICAvLyByZXNvbHZlIHNsb3RzICsgZm9yY2UgdXBkYXRlIGlmIGhhcyBjaGlsZHJlblxuICBpZiAobmVlZHNGb3JjZVVwZGF0ZSkge1xuICAgIHZtLiRzbG90cyA9IHJlc29sdmVTbG90cyhyZW5kZXJDaGlsZHJlbiwgcGFyZW50Vm5vZGUuY29udGV4dCk7XG4gICAgdm0uJGZvcmNlVXBkYXRlKCk7XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlzVXBkYXRpbmdDaGlsZENvbXBvbmVudCA9IGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzSW5JbmFjdGl2ZVRyZWUgKHZtKSB7XG4gIHdoaWxlICh2bSAmJiAodm0gPSB2bS4kcGFyZW50KSkge1xuICAgIGlmICh2bS5faW5hY3RpdmUpIHsgcmV0dXJuIHRydWUgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBhY3RpdmF0ZUNoaWxkQ29tcG9uZW50ICh2bSwgZGlyZWN0KSB7XG4gIGlmIChkaXJlY3QpIHtcbiAgICB2bS5fZGlyZWN0SW5hY3RpdmUgPSBmYWxzZTtcbiAgICBpZiAoaXNJbkluYWN0aXZlVHJlZSh2bSkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgfSBlbHNlIGlmICh2bS5fZGlyZWN0SW5hY3RpdmUpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodm0uX2luYWN0aXZlIHx8IHZtLl9pbmFjdGl2ZSA9PT0gbnVsbCkge1xuICAgIHZtLl9pbmFjdGl2ZSA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uJGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KHZtLiRjaGlsZHJlbltpXSk7XG4gICAgfVxuICAgIGNhbGxIb29rKHZtLCAnYWN0aXZhdGVkJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVhY3RpdmF0ZUNoaWxkQ29tcG9uZW50ICh2bSwgZGlyZWN0KSB7XG4gIGlmIChkaXJlY3QpIHtcbiAgICB2bS5fZGlyZWN0SW5hY3RpdmUgPSB0cnVlO1xuICAgIGlmIChpc0luSW5hY3RpdmVUcmVlKHZtKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICB9XG4gIGlmICghdm0uX2luYWN0aXZlKSB7XG4gICAgdm0uX2luYWN0aXZlID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLiRjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgZGVhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KHZtLiRjaGlsZHJlbltpXSk7XG4gICAgfVxuICAgIGNhbGxIb29rKHZtLCAnZGVhY3RpdmF0ZWQnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWxsSG9vayAodm0sIGhvb2spIHtcbiAgLy8gIzc1NzMgZGlzYWJsZSBkZXAgY29sbGVjdGlvbiB3aGVuIGludm9raW5nIGxpZmVjeWNsZSBob29rc1xuICBwdXNoVGFyZ2V0KCk7XG4gIHZhciBoYW5kbGVycyA9IHZtLiRvcHRpb25zW2hvb2tdO1xuICB2YXIgaW5mbyA9IGhvb2sgKyBcIiBob29rXCI7XG4gIGlmIChoYW5kbGVycykge1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhoYW5kbGVyc1tpXSwgdm0sIG51bGwsIHZtLCBpbmZvKTtcbiAgICB9XG4gIH1cbiAgaWYgKHZtLl9oYXNIb29rRXZlbnQpIHtcbiAgICB2bS4kZW1pdCgnaG9vazonICsgaG9vayk7XG4gIH1cbiAgcG9wVGFyZ2V0KCk7XG59XG5cbi8qICAqL1xuXG52YXIgTUFYX1VQREFURV9DT1VOVCA9IDEwMDtcblxudmFyIHF1ZXVlID0gW107XG52YXIgYWN0aXZhdGVkQ2hpbGRyZW4gPSBbXTtcbnZhciBoYXMgPSB7fTtcbnZhciBjaXJjdWxhciA9IHt9O1xudmFyIHdhaXRpbmcgPSBmYWxzZTtcbnZhciBmbHVzaGluZyA9IGZhbHNlO1xudmFyIGluZGV4ID0gMDtcblxuLyoqXG4gKiBSZXNldCB0aGUgc2NoZWR1bGVyJ3Mgc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIHJlc2V0U2NoZWR1bGVyU3RhdGUgKCkge1xuICBpbmRleCA9IHF1ZXVlLmxlbmd0aCA9IGFjdGl2YXRlZENoaWxkcmVuLmxlbmd0aCA9IDA7XG4gIGhhcyA9IHt9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNpcmN1bGFyID0ge307XG4gIH1cbiAgd2FpdGluZyA9IGZsdXNoaW5nID0gZmFsc2U7XG59XG5cbi8vIEFzeW5jIGVkZ2UgY2FzZSAjNjU2NiByZXF1aXJlcyBzYXZpbmcgdGhlIHRpbWVzdGFtcCB3aGVuIGV2ZW50IGxpc3RlbmVycyBhcmVcbi8vIGF0dGFjaGVkLiBIb3dldmVyLCBjYWxsaW5nIHBlcmZvcm1hbmNlLm5vdygpIGhhcyBhIHBlcmYgb3ZlcmhlYWQgZXNwZWNpYWxseVxuLy8gaWYgdGhlIHBhZ2UgaGFzIHRob3VzYW5kcyBvZiBldmVudCBsaXN0ZW5lcnMuIEluc3RlYWQsIHdlIHRha2UgYSB0aW1lc3RhbXBcbi8vIGV2ZXJ5IHRpbWUgdGhlIHNjaGVkdWxlciBmbHVzaGVzIGFuZCB1c2UgdGhhdCBmb3IgYWxsIGV2ZW50IGxpc3RlbmVyc1xuLy8gYXR0YWNoZWQgZHVyaW5nIHRoYXQgZmx1c2guXG52YXIgY3VycmVudEZsdXNoVGltZXN0YW1wID0gMDtcblxuLy8gQXN5bmMgZWRnZSBjYXNlIGZpeCByZXF1aXJlcyBzdG9yaW5nIGFuIGV2ZW50IGxpc3RlbmVyJ3MgYXR0YWNoIHRpbWVzdGFtcC5cbnZhciBnZXROb3cgPSBEYXRlLm5vdztcblxuLy8gRGV0ZXJtaW5lIHdoYXQgZXZlbnQgdGltZXN0YW1wIHRoZSBicm93c2VyIGlzIHVzaW5nLiBBbm5veWluZ2x5LCB0aGVcbi8vIHRpbWVzdGFtcCBjYW4gZWl0aGVyIGJlIGhpLXJlcyAocmVsYXRpdmUgdG8gcGFnZSBsb2FkKSBvciBsb3ctcmVzXG4vLyAocmVsYXRpdmUgdG8gVU5JWCBlcG9jaCksIHNvIGluIG9yZGVyIHRvIGNvbXBhcmUgdGltZSB3ZSBoYXZlIHRvIHVzZSB0aGVcbi8vIHNhbWUgdGltZXN0YW1wIHR5cGUgd2hlbiBzYXZpbmcgdGhlIGZsdXNoIHRpbWVzdGFtcC5cbi8vIEFsbCBJRSB2ZXJzaW9ucyB1c2UgbG93LXJlcyBldmVudCB0aW1lc3RhbXBzLCBhbmQgaGF2ZSBwcm9ibGVtYXRpYyBjbG9ja1xuLy8gaW1wbGVtZW50YXRpb25zICgjOTYzMilcbmlmIChpbkJyb3dzZXIgJiYgIWlzSUUpIHtcbiAgdmFyIHBlcmZvcm1hbmNlID0gd2luZG93LnBlcmZvcm1hbmNlO1xuICBpZiAoXG4gICAgcGVyZm9ybWFuY2UgJiZcbiAgICB0eXBlb2YgcGVyZm9ybWFuY2Uubm93ID09PSAnZnVuY3Rpb24nICYmXG4gICAgZ2V0Tm93KCkgPiBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKS50aW1lU3RhbXBcbiAgKSB7XG4gICAgLy8gaWYgdGhlIGV2ZW50IHRpbWVzdGFtcCwgYWx0aG91Z2ggZXZhbHVhdGVkIEFGVEVSIHRoZSBEYXRlLm5vdygpLCBpc1xuICAgIC8vIHNtYWxsZXIgdGhhbiBpdCwgaXQgbWVhbnMgdGhlIGV2ZW50IGlzIHVzaW5nIGEgaGktcmVzIHRpbWVzdGFtcCxcbiAgICAvLyBhbmQgd2UgbmVlZCB0byB1c2UgdGhlIGhpLXJlcyB2ZXJzaW9uIGZvciBldmVudCBsaXN0ZW5lciB0aW1lc3RhbXBzIGFzXG4gICAgLy8gd2VsbC5cbiAgICBnZXROb3cgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTsgfTtcbiAgfVxufVxuXG4vKipcbiAqIEZsdXNoIGJvdGggcXVldWVzIGFuZCBydW4gdGhlIHdhdGNoZXJzLlxuICovXG5mdW5jdGlvbiBmbHVzaFNjaGVkdWxlclF1ZXVlICgpIHtcbiAgY3VycmVudEZsdXNoVGltZXN0YW1wID0gZ2V0Tm93KCk7XG4gIGZsdXNoaW5nID0gdHJ1ZTtcbiAgdmFyIHdhdGNoZXIsIGlkO1xuXG4gIC8vIFNvcnQgcXVldWUgYmVmb3JlIGZsdXNoLlxuICAvLyBUaGlzIGVuc3VyZXMgdGhhdDpcbiAgLy8gMS4gQ29tcG9uZW50cyBhcmUgdXBkYXRlZCBmcm9tIHBhcmVudCB0byBjaGlsZC4gKGJlY2F1c2UgcGFyZW50IGlzIGFsd2F5c1xuICAvLyAgICBjcmVhdGVkIGJlZm9yZSB0aGUgY2hpbGQpXG4gIC8vIDIuIEEgY29tcG9uZW50J3MgdXNlciB3YXRjaGVycyBhcmUgcnVuIGJlZm9yZSBpdHMgcmVuZGVyIHdhdGNoZXIgKGJlY2F1c2VcbiAgLy8gICAgdXNlciB3YXRjaGVycyBhcmUgY3JlYXRlZCBiZWZvcmUgdGhlIHJlbmRlciB3YXRjaGVyKVxuICAvLyAzLiBJZiBhIGNvbXBvbmVudCBpcyBkZXN0cm95ZWQgZHVyaW5nIGEgcGFyZW50IGNvbXBvbmVudCdzIHdhdGNoZXIgcnVuLFxuICAvLyAgICBpdHMgd2F0Y2hlcnMgY2FuIGJlIHNraXBwZWQuXG4gIHF1ZXVlLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuaWQgLSBiLmlkOyB9KTtcblxuICAvLyBkbyBub3QgY2FjaGUgbGVuZ3RoIGJlY2F1c2UgbW9yZSB3YXRjaGVycyBtaWdodCBiZSBwdXNoZWRcbiAgLy8gYXMgd2UgcnVuIGV4aXN0aW5nIHdhdGNoZXJzXG4gIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHF1ZXVlLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIHdhdGNoZXIgPSBxdWV1ZVtpbmRleF07XG4gICAgaWYgKHdhdGNoZXIuYmVmb3JlKSB7XG4gICAgICB3YXRjaGVyLmJlZm9yZSgpO1xuICAgIH1cbiAgICBpZCA9IHdhdGNoZXIuaWQ7XG4gICAgaGFzW2lkXSA9IG51bGw7XG4gICAgd2F0Y2hlci5ydW4oKTtcbiAgICAvLyBpbiBkZXYgYnVpbGQsIGNoZWNrIGFuZCBzdG9wIGNpcmN1bGFyIHVwZGF0ZXMuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaGFzW2lkXSAhPSBudWxsKSB7XG4gICAgICBjaXJjdWxhcltpZF0gPSAoY2lyY3VsYXJbaWRdIHx8IDApICsgMTtcbiAgICAgIGlmIChjaXJjdWxhcltpZF0gPiBNQVhfVVBEQVRFX0NPVU5UKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgJ1lvdSBtYXkgaGF2ZSBhbiBpbmZpbml0ZSB1cGRhdGUgbG9vcCAnICsgKFxuICAgICAgICAgICAgd2F0Y2hlci51c2VyXG4gICAgICAgICAgICAgID8gKFwiaW4gd2F0Y2hlciB3aXRoIGV4cHJlc3Npb24gXFxcIlwiICsgKHdhdGNoZXIuZXhwcmVzc2lvbikgKyBcIlxcXCJcIilcbiAgICAgICAgICAgICAgOiBcImluIGEgY29tcG9uZW50IHJlbmRlciBmdW5jdGlvbi5cIlxuICAgICAgICAgICksXG4gICAgICAgICAgd2F0Y2hlci52bVxuICAgICAgICApO1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGtlZXAgY29waWVzIG9mIHBvc3QgcXVldWVzIGJlZm9yZSByZXNldHRpbmcgc3RhdGVcbiAgdmFyIGFjdGl2YXRlZFF1ZXVlID0gYWN0aXZhdGVkQ2hpbGRyZW4uc2xpY2UoKTtcbiAgdmFyIHVwZGF0ZWRRdWV1ZSA9IHF1ZXVlLnNsaWNlKCk7XG5cbiAgcmVzZXRTY2hlZHVsZXJTdGF0ZSgpO1xuXG4gIC8vIGNhbGwgY29tcG9uZW50IHVwZGF0ZWQgYW5kIGFjdGl2YXRlZCBob29rc1xuICBjYWxsQWN0aXZhdGVkSG9va3MoYWN0aXZhdGVkUXVldWUpO1xuICBjYWxsVXBkYXRlZEhvb2tzKHVwZGF0ZWRRdWV1ZSk7XG5cbiAgLy8gZGV2dG9vbCBob29rXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoZGV2dG9vbHMgJiYgY29uZmlnLmRldnRvb2xzKSB7XG4gICAgZGV2dG9vbHMuZW1pdCgnZmx1c2gnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWxsVXBkYXRlZEhvb2tzIChxdWV1ZSkge1xuICB2YXIgaSA9IHF1ZXVlLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIHZhciB3YXRjaGVyID0gcXVldWVbaV07XG4gICAgdmFyIHZtID0gd2F0Y2hlci52bTtcbiAgICBpZiAodm0uX3dhdGNoZXIgPT09IHdhdGNoZXIgJiYgdm0uX2lzTW91bnRlZCAmJiAhdm0uX2lzRGVzdHJveWVkKSB7XG4gICAgICBjYWxsSG9vayh2bSwgJ3VwZGF0ZWQnKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBRdWV1ZSBhIGtlcHQtYWxpdmUgY29tcG9uZW50IHRoYXQgd2FzIGFjdGl2YXRlZCBkdXJpbmcgcGF0Y2guXG4gKiBUaGUgcXVldWUgd2lsbCBiZSBwcm9jZXNzZWQgYWZ0ZXIgdGhlIGVudGlyZSB0cmVlIGhhcyBiZWVuIHBhdGNoZWQuXG4gKi9cbmZ1bmN0aW9uIHF1ZXVlQWN0aXZhdGVkQ29tcG9uZW50ICh2bSkge1xuICAvLyBzZXR0aW5nIF9pbmFjdGl2ZSB0byBmYWxzZSBoZXJlIHNvIHRoYXQgYSByZW5kZXIgZnVuY3Rpb24gY2FuXG4gIC8vIHJlbHkgb24gY2hlY2tpbmcgd2hldGhlciBpdCdzIGluIGFuIGluYWN0aXZlIHRyZWUgKGUuZy4gcm91dGVyLXZpZXcpXG4gIHZtLl9pbmFjdGl2ZSA9IGZhbHNlO1xuICBhY3RpdmF0ZWRDaGlsZHJlbi5wdXNoKHZtKTtcbn1cblxuZnVuY3Rpb24gY2FsbEFjdGl2YXRlZEhvb2tzIChxdWV1ZSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgcXVldWVbaV0uX2luYWN0aXZlID0gdHJ1ZTtcbiAgICBhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KHF1ZXVlW2ldLCB0cnVlIC8qIHRydWUgKi8pO1xuICB9XG59XG5cbi8qKlxuICogUHVzaCBhIHdhdGNoZXIgaW50byB0aGUgd2F0Y2hlciBxdWV1ZS5cbiAqIEpvYnMgd2l0aCBkdXBsaWNhdGUgSURzIHdpbGwgYmUgc2tpcHBlZCB1bmxlc3MgaXQnc1xuICogcHVzaGVkIHdoZW4gdGhlIHF1ZXVlIGlzIGJlaW5nIGZsdXNoZWQuXG4gKi9cbmZ1bmN0aW9uIHF1ZXVlV2F0Y2hlciAod2F0Y2hlcikge1xuICB2YXIgaWQgPSB3YXRjaGVyLmlkO1xuICBpZiAoaGFzW2lkXSA9PSBudWxsKSB7XG4gICAgaGFzW2lkXSA9IHRydWU7XG4gICAgaWYgKCFmbHVzaGluZykge1xuICAgICAgcXVldWUucHVzaCh3YXRjaGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgYWxyZWFkeSBmbHVzaGluZywgc3BsaWNlIHRoZSB3YXRjaGVyIGJhc2VkIG9uIGl0cyBpZFxuICAgICAgLy8gaWYgYWxyZWFkeSBwYXN0IGl0cyBpZCwgaXQgd2lsbCBiZSBydW4gbmV4dCBpbW1lZGlhdGVseS5cbiAgICAgIHZhciBpID0gcXVldWUubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlIChpID4gaW5kZXggJiYgcXVldWVbaV0uaWQgPiB3YXRjaGVyLmlkKSB7XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnNwbGljZShpICsgMSwgMCwgd2F0Y2hlcik7XG4gICAgfVxuICAgIC8vIHF1ZXVlIHRoZSBmbHVzaFxuICAgIGlmICghd2FpdGluZykge1xuICAgICAgd2FpdGluZyA9IHRydWU7XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFjb25maWcuYXN5bmMpIHtcbiAgICAgICAgZmx1c2hTY2hlZHVsZXJRdWV1ZSgpO1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIG5leHRUaWNrKGZsdXNoU2NoZWR1bGVyUXVldWUpO1xuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cblxuXG5cbnZhciB1aWQkMiA9IDA7XG5cbi8qKlxuICogQSB3YXRjaGVyIHBhcnNlcyBhbiBleHByZXNzaW9uLCBjb2xsZWN0cyBkZXBlbmRlbmNpZXMsXG4gKiBhbmQgZmlyZXMgY2FsbGJhY2sgd2hlbiB0aGUgZXhwcmVzc2lvbiB2YWx1ZSBjaGFuZ2VzLlxuICogVGhpcyBpcyB1c2VkIGZvciBib3RoIHRoZSAkd2F0Y2goKSBhcGkgYW5kIGRpcmVjdGl2ZXMuXG4gKi9cbnZhciBXYXRjaGVyID0gZnVuY3Rpb24gV2F0Y2hlciAoXG4gIHZtLFxuICBleHBPckZuLFxuICBjYixcbiAgb3B0aW9ucyxcbiAgaXNSZW5kZXJXYXRjaGVyXG4pIHtcbiAgdGhpcy52bSA9IHZtO1xuICBpZiAoaXNSZW5kZXJXYXRjaGVyKSB7XG4gICAgdm0uX3dhdGNoZXIgPSB0aGlzO1xuICB9XG4gIHZtLl93YXRjaGVycy5wdXNoKHRoaXMpO1xuICAvLyBvcHRpb25zXG4gIGlmIChvcHRpb25zKSB7XG4gICAgdGhpcy5kZWVwID0gISFvcHRpb25zLmRlZXA7XG4gICAgdGhpcy51c2VyID0gISFvcHRpb25zLnVzZXI7XG4gICAgdGhpcy5sYXp5ID0gISFvcHRpb25zLmxhenk7XG4gICAgdGhpcy5zeW5jID0gISFvcHRpb25zLnN5bmM7XG4gICAgdGhpcy5iZWZvcmUgPSBvcHRpb25zLmJlZm9yZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmRlZXAgPSB0aGlzLnVzZXIgPSB0aGlzLmxhenkgPSB0aGlzLnN5bmMgPSBmYWxzZTtcbiAgfVxuICB0aGlzLmNiID0gY2I7XG4gIHRoaXMuaWQgPSArK3VpZCQyOyAvLyB1aWQgZm9yIGJhdGNoaW5nXG4gIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgdGhpcy5kaXJ0eSA9IHRoaXMubGF6eTsgLy8gZm9yIGxhenkgd2F0Y2hlcnNcbiAgdGhpcy5kZXBzID0gW107XG4gIHRoaXMubmV3RGVwcyA9IFtdO1xuICB0aGlzLmRlcElkcyA9IG5ldyBfU2V0KCk7XG4gIHRoaXMubmV3RGVwSWRzID0gbmV3IF9TZXQoKTtcbiAgdGhpcy5leHByZXNzaW9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJ1xuICAgID8gZXhwT3JGbi50b1N0cmluZygpXG4gICAgOiAnJztcbiAgLy8gcGFyc2UgZXhwcmVzc2lvbiBmb3IgZ2V0dGVyXG4gIGlmICh0eXBlb2YgZXhwT3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRoaXMuZ2V0dGVyID0gZXhwT3JGbjtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmdldHRlciA9IHBhcnNlUGF0aChleHBPckZuKTtcbiAgICBpZiAoIXRoaXMuZ2V0dGVyKSB7XG4gICAgICB0aGlzLmdldHRlciA9IG5vb3A7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgIFwiRmFpbGVkIHdhdGNoaW5nIHBhdGg6IFxcXCJcIiArIGV4cE9yRm4gKyBcIlxcXCIgXCIgK1xuICAgICAgICAnV2F0Y2hlciBvbmx5IGFjY2VwdHMgc2ltcGxlIGRvdC1kZWxpbWl0ZWQgcGF0aHMuICcgK1xuICAgICAgICAnRm9yIGZ1bGwgY29udHJvbCwgdXNlIGEgZnVuY3Rpb24gaW5zdGVhZC4nLFxuICAgICAgICB2bVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgdGhpcy52YWx1ZSA9IHRoaXMubGF6eVxuICAgID8gdW5kZWZpbmVkXG4gICAgOiB0aGlzLmdldCgpO1xufTtcblxuLyoqXG4gKiBFdmFsdWF0ZSB0aGUgZ2V0dGVyLCBhbmQgcmUtY29sbGVjdCBkZXBlbmRlbmNpZXMuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoKSB7XG4gIHB1c2hUYXJnZXQodGhpcyk7XG4gIHZhciB2YWx1ZTtcbiAgdmFyIHZtID0gdGhpcy52bTtcbiAgdHJ5IHtcbiAgICB2YWx1ZSA9IHRoaXMuZ2V0dGVyLmNhbGwodm0sIHZtKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0aGlzLnVzZXIpIHtcbiAgICAgIGhhbmRsZUVycm9yKGUsIHZtLCAoXCJnZXR0ZXIgZm9yIHdhdGNoZXIgXFxcIlwiICsgKHRoaXMuZXhwcmVzc2lvbikgKyBcIlxcXCJcIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBlXG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIC8vIFwidG91Y2hcIiBldmVyeSBwcm9wZXJ0eSBzbyB0aGV5IGFyZSBhbGwgdHJhY2tlZCBhc1xuICAgIC8vIGRlcGVuZGVuY2llcyBmb3IgZGVlcCB3YXRjaGluZ1xuICAgIGlmICh0aGlzLmRlZXApIHtcbiAgICAgIHRyYXZlcnNlKHZhbHVlKTtcbiAgICB9XG4gICAgcG9wVGFyZ2V0KCk7XG4gICAgdGhpcy5jbGVhbnVwRGVwcygpO1xuICB9XG4gIHJldHVybiB2YWx1ZVxufTtcblxuLyoqXG4gKiBBZGQgYSBkZXBlbmRlbmN5IHRvIHRoaXMgZGlyZWN0aXZlLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS5hZGREZXAgPSBmdW5jdGlvbiBhZGREZXAgKGRlcCkge1xuICB2YXIgaWQgPSBkZXAuaWQ7XG4gIGlmICghdGhpcy5uZXdEZXBJZHMuaGFzKGlkKSkge1xuICAgIHRoaXMubmV3RGVwSWRzLmFkZChpZCk7XG4gICAgdGhpcy5uZXdEZXBzLnB1c2goZGVwKTtcbiAgICBpZiAoIXRoaXMuZGVwSWRzLmhhcyhpZCkpIHtcbiAgICAgIGRlcC5hZGRTdWIodGhpcyk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIENsZWFuIHVwIGZvciBkZXBlbmRlbmN5IGNvbGxlY3Rpb24uXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmNsZWFudXBEZXBzID0gZnVuY3Rpb24gY2xlYW51cERlcHMgKCkge1xuICB2YXIgaSA9IHRoaXMuZGVwcy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICB2YXIgZGVwID0gdGhpcy5kZXBzW2ldO1xuICAgIGlmICghdGhpcy5uZXdEZXBJZHMuaGFzKGRlcC5pZCkpIHtcbiAgICAgIGRlcC5yZW1vdmVTdWIodGhpcyk7XG4gICAgfVxuICB9XG4gIHZhciB0bXAgPSB0aGlzLmRlcElkcztcbiAgdGhpcy5kZXBJZHMgPSB0aGlzLm5ld0RlcElkcztcbiAgdGhpcy5uZXdEZXBJZHMgPSB0bXA7XG4gIHRoaXMubmV3RGVwSWRzLmNsZWFyKCk7XG4gIHRtcCA9IHRoaXMuZGVwcztcbiAgdGhpcy5kZXBzID0gdGhpcy5uZXdEZXBzO1xuICB0aGlzLm5ld0RlcHMgPSB0bXA7XG4gIHRoaXMubmV3RGVwcy5sZW5ndGggPSAwO1xufTtcblxuLyoqXG4gKiBTdWJzY3JpYmVyIGludGVyZmFjZS5cbiAqIFdpbGwgYmUgY2FsbGVkIHdoZW4gYSBkZXBlbmRlbmN5IGNoYW5nZXMuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmICh0aGlzLmxhenkpIHtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfSBlbHNlIGlmICh0aGlzLnN5bmMpIHtcbiAgICB0aGlzLnJ1bigpO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlV2F0Y2hlcih0aGlzKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTY2hlZHVsZXIgam9iIGludGVyZmFjZS5cbiAqIFdpbGwgYmUgY2FsbGVkIGJ5IHRoZSBzY2hlZHVsZXIuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIHJ1biAoKSB7XG4gIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0KCk7XG4gICAgaWYgKFxuICAgICAgdmFsdWUgIT09IHRoaXMudmFsdWUgfHxcbiAgICAgIC8vIERlZXAgd2F0Y2hlcnMgYW5kIHdhdGNoZXJzIG9uIE9iamVjdC9BcnJheXMgc2hvdWxkIGZpcmUgZXZlblxuICAgICAgLy8gd2hlbiB0aGUgdmFsdWUgaXMgdGhlIHNhbWUsIGJlY2F1c2UgdGhlIHZhbHVlIG1heVxuICAgICAgLy8gaGF2ZSBtdXRhdGVkLlxuICAgICAgaXNPYmplY3QodmFsdWUpIHx8XG4gICAgICB0aGlzLmRlZXBcbiAgICApIHtcbiAgICAgIC8vIHNldCBuZXcgdmFsdWVcbiAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICBpZiAodGhpcy51c2VyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMudm0sIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBoYW5kbGVFcnJvcihlLCB0aGlzLnZtLCAoXCJjYWxsYmFjayBmb3Igd2F0Y2hlciBcXFwiXCIgKyAodGhpcy5leHByZXNzaW9uKSArIFwiXFxcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnZtLCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBFdmFsdWF0ZSB0aGUgdmFsdWUgb2YgdGhlIHdhdGNoZXIuXG4gKiBUaGlzIG9ubHkgZ2V0cyBjYWxsZWQgZm9yIGxhenkgd2F0Y2hlcnMuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24gZXZhbHVhdGUgKCkge1xuICB0aGlzLnZhbHVlID0gdGhpcy5nZXQoKTtcbiAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiBEZXBlbmQgb24gYWxsIGRlcHMgY29sbGVjdGVkIGJ5IHRoaXMgd2F0Y2hlci5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gZGVwZW5kICgpIHtcbiAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgdGhpcy5kZXBzW2ldLmRlcGVuZCgpO1xuICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZSBzZWxmIGZyb20gYWxsIGRlcGVuZGVuY2llcycgc3Vic2NyaWJlciBsaXN0LlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS50ZWFyZG93biA9IGZ1bmN0aW9uIHRlYXJkb3duICgpIHtcbiAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSB2bSdzIHdhdGNoZXIgbGlzdFxuICAgIC8vIHRoaXMgaXMgYSBzb21ld2hhdCBleHBlbnNpdmUgb3BlcmF0aW9uIHNvIHdlIHNraXAgaXRcbiAgICAvLyBpZiB0aGUgdm0gaXMgYmVpbmcgZGVzdHJveWVkLlxuICAgIGlmICghdGhpcy52bS5faXNCZWluZ0Rlc3Ryb3llZCkge1xuICAgICAgcmVtb3ZlKHRoaXMudm0uX3dhdGNoZXJzLCB0aGlzKTtcbiAgICB9XG4gICAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHRoaXMuZGVwc1tpXS5yZW1vdmVTdWIodGhpcyk7XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gIH1cbn07XG5cbi8qICAqL1xuXG52YXIgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uID0ge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGdldDogbm9vcCxcbiAgc2V0OiBub29wXG59O1xuXG5mdW5jdGlvbiBwcm94eSAodGFyZ2V0LCBzb3VyY2VLZXksIGtleSkge1xuICBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24uZ2V0ID0gZnVuY3Rpb24gcHJveHlHZXR0ZXIgKCkge1xuICAgIHJldHVybiB0aGlzW3NvdXJjZUtleV1ba2V5XVxuICB9O1xuICBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24uc2V0ID0gZnVuY3Rpb24gcHJveHlTZXR0ZXIgKHZhbCkge1xuICAgIHRoaXNbc291cmNlS2V5XVtrZXldID0gdmFsO1xuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbik7XG59XG5cbmZ1bmN0aW9uIGluaXRTdGF0ZSAodm0pIHtcbiAgdm0uX3dhdGNoZXJzID0gW107XG4gIHZhciBvcHRzID0gdm0uJG9wdGlvbnM7XG4gIGlmIChvcHRzLnByb3BzKSB7IGluaXRQcm9wcyh2bSwgb3B0cy5wcm9wcyk7IH1cbiAgaWYgKG9wdHMubWV0aG9kcykgeyBpbml0TWV0aG9kcyh2bSwgb3B0cy5tZXRob2RzKTsgfVxuICBpZiAob3B0cy5kYXRhKSB7XG4gICAgaW5pdERhdGEodm0pO1xuICB9IGVsc2Uge1xuICAgIG9ic2VydmUodm0uX2RhdGEgPSB7fSwgdHJ1ZSAvKiBhc1Jvb3REYXRhICovKTtcbiAgfVxuICBpZiAob3B0cy5jb21wdXRlZCkgeyBpbml0Q29tcHV0ZWQodm0sIG9wdHMuY29tcHV0ZWQpOyB9XG4gIGlmIChvcHRzLndhdGNoICYmIG9wdHMud2F0Y2ggIT09IG5hdGl2ZVdhdGNoKSB7XG4gICAgaW5pdFdhdGNoKHZtLCBvcHRzLndhdGNoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0UHJvcHMgKHZtLCBwcm9wc09wdGlvbnMpIHtcbiAgdmFyIHByb3BzRGF0YSA9IHZtLiRvcHRpb25zLnByb3BzRGF0YSB8fCB7fTtcbiAgdmFyIHByb3BzID0gdm0uX3Byb3BzID0ge307XG4gIC8vIGNhY2hlIHByb3Aga2V5cyBzbyB0aGF0IGZ1dHVyZSBwcm9wcyB1cGRhdGVzIGNhbiBpdGVyYXRlIHVzaW5nIEFycmF5XG4gIC8vIGluc3RlYWQgb2YgZHluYW1pYyBvYmplY3Qga2V5IGVudW1lcmF0aW9uLlxuICB2YXIga2V5cyA9IHZtLiRvcHRpb25zLl9wcm9wS2V5cyA9IFtdO1xuICB2YXIgaXNSb290ID0gIXZtLiRwYXJlbnQ7XG4gIC8vIHJvb3QgaW5zdGFuY2UgcHJvcHMgc2hvdWxkIGJlIGNvbnZlcnRlZFxuICBpZiAoIWlzUm9vdCkge1xuICAgIHRvZ2dsZU9ic2VydmluZyhmYWxzZSk7XG4gIH1cbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGtleSApIHtcbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB2YXIgdmFsdWUgPSB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wc09wdGlvbnMsIHByb3BzRGF0YSwgdm0pO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBoeXBoZW5hdGVkS2V5ID0gaHlwaGVuYXRlKGtleSk7XG4gICAgICBpZiAoaXNSZXNlcnZlZEF0dHJpYnV0ZShoeXBoZW5hdGVkS2V5KSB8fFxuICAgICAgICAgIGNvbmZpZy5pc1Jlc2VydmVkQXR0cihoeXBoZW5hdGVkS2V5KSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIChcIlxcXCJcIiArIGh5cGhlbmF0ZWRLZXkgKyBcIlxcXCIgaXMgYSByZXNlcnZlZCBhdHRyaWJ1dGUgYW5kIGNhbm5vdCBiZSB1c2VkIGFzIGNvbXBvbmVudCBwcm9wLlwiKSxcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZGVmaW5lUmVhY3RpdmUkJDEocHJvcHMsIGtleSwgdmFsdWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFpc1Jvb3QgJiYgIWlzVXBkYXRpbmdDaGlsZENvbXBvbmVudCkge1xuICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICBcIkF2b2lkIG11dGF0aW5nIGEgcHJvcCBkaXJlY3RseSBzaW5jZSB0aGUgdmFsdWUgd2lsbCBiZSBcIiArXG4gICAgICAgICAgICBcIm92ZXJ3cml0dGVuIHdoZW5ldmVyIHRoZSBwYXJlbnQgY29tcG9uZW50IHJlLXJlbmRlcnMuIFwiICtcbiAgICAgICAgICAgIFwiSW5zdGVhZCwgdXNlIGEgZGF0YSBvciBjb21wdXRlZCBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcHJvcCdzIFwiICtcbiAgICAgICAgICAgIFwidmFsdWUuIFByb3AgYmVpbmcgbXV0YXRlZDogXFxcIlwiICsga2V5ICsgXCJcXFwiXCIsXG4gICAgICAgICAgICB2bVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZpbmVSZWFjdGl2ZSQkMShwcm9wcywga2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIC8vIHN0YXRpYyBwcm9wcyBhcmUgYWxyZWFkeSBwcm94aWVkIG9uIHRoZSBjb21wb25lbnQncyBwcm90b3R5cGVcbiAgICAvLyBkdXJpbmcgVnVlLmV4dGVuZCgpLiBXZSBvbmx5IG5lZWQgdG8gcHJveHkgcHJvcHMgZGVmaW5lZCBhdFxuICAgIC8vIGluc3RhbnRpYXRpb24gaGVyZS5cbiAgICBpZiAoIShrZXkgaW4gdm0pKSB7XG4gICAgICBwcm94eSh2bSwgXCJfcHJvcHNcIiwga2V5KTtcbiAgICB9XG4gIH07XG5cbiAgZm9yICh2YXIga2V5IGluIHByb3BzT3B0aW9ucykgbG9vcCgga2V5ICk7XG4gIHRvZ2dsZU9ic2VydmluZyh0cnVlKTtcbn1cblxuZnVuY3Rpb24gaW5pdERhdGEgKHZtKSB7XG4gIHZhciBkYXRhID0gdm0uJG9wdGlvbnMuZGF0YTtcbiAgZGF0YSA9IHZtLl9kYXRhID0gdHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbidcbiAgICA/IGdldERhdGEoZGF0YSwgdm0pXG4gICAgOiBkYXRhIHx8IHt9O1xuICBpZiAoIWlzUGxhaW5PYmplY3QoZGF0YSkpIHtcbiAgICBkYXRhID0ge307XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgJ2RhdGEgZnVuY3Rpb25zIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0OlxcbicgK1xuICAgICAgJ2h0dHBzOi8vdnVlanMub3JnL3YyL2d1aWRlL2NvbXBvbmVudHMuaHRtbCNkYXRhLU11c3QtQmUtYS1GdW5jdGlvbicsXG4gICAgICB2bVxuICAgICk7XG4gIH1cbiAgLy8gcHJveHkgZGF0YSBvbiBpbnN0YW5jZVxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wcztcbiAgdmFyIG1ldGhvZHMgPSB2bS4kb3B0aW9ucy5tZXRob2RzO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmIChtZXRob2RzICYmIGhhc093bihtZXRob2RzLCBrZXkpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgKFwiTWV0aG9kIFxcXCJcIiArIGtleSArIFwiXFxcIiBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQgYXMgYSBkYXRhIHByb3BlcnR5LlwiKSxcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvcHMgJiYgaGFzT3duKHByb3BzLCBrZXkpKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgIFwiVGhlIGRhdGEgcHJvcGVydHkgXFxcIlwiICsga2V5ICsgXCJcXFwiIGlzIGFscmVhZHkgZGVjbGFyZWQgYXMgYSBwcm9wLiBcIiArXG4gICAgICAgIFwiVXNlIHByb3AgZGVmYXVsdCB2YWx1ZSBpbnN0ZWFkLlwiLFxuICAgICAgICB2bVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKCFpc1Jlc2VydmVkKGtleSkpIHtcbiAgICAgIHByb3h5KHZtLCBcIl9kYXRhXCIsIGtleSk7XG4gICAgfVxuICB9XG4gIC8vIG9ic2VydmUgZGF0YVxuICBvYnNlcnZlKGRhdGEsIHRydWUgLyogYXNSb290RGF0YSAqLyk7XG59XG5cbmZ1bmN0aW9uIGdldERhdGEgKGRhdGEsIHZtKSB7XG4gIC8vICM3NTczIGRpc2FibGUgZGVwIGNvbGxlY3Rpb24gd2hlbiBpbnZva2luZyBkYXRhIGdldHRlcnNcbiAgcHVzaFRhcmdldCgpO1xuICB0cnkge1xuICAgIHJldHVybiBkYXRhLmNhbGwodm0sIHZtKVxuICB9IGNhdGNoIChlKSB7XG4gICAgaGFuZGxlRXJyb3IoZSwgdm0sIFwiZGF0YSgpXCIpO1xuICAgIHJldHVybiB7fVxuICB9IGZpbmFsbHkge1xuICAgIHBvcFRhcmdldCgpO1xuICB9XG59XG5cbnZhciBjb21wdXRlZFdhdGNoZXJPcHRpb25zID0geyBsYXp5OiB0cnVlIH07XG5cbmZ1bmN0aW9uIGluaXRDb21wdXRlZCAodm0sIGNvbXB1dGVkKSB7XG4gIC8vICRmbG93LWRpc2FibGUtbGluZVxuICB2YXIgd2F0Y2hlcnMgPSB2bS5fY29tcHV0ZWRXYXRjaGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIC8vIGNvbXB1dGVkIHByb3BlcnRpZXMgYXJlIGp1c3QgZ2V0dGVycyBkdXJpbmcgU1NSXG4gIHZhciBpc1NTUiA9IGlzU2VydmVyUmVuZGVyaW5nKCk7XG5cbiAgZm9yICh2YXIga2V5IGluIGNvbXB1dGVkKSB7XG4gICAgdmFyIHVzZXJEZWYgPSBjb21wdXRlZFtrZXldO1xuICAgIHZhciBnZXR0ZXIgPSB0eXBlb2YgdXNlckRlZiA9PT0gJ2Z1bmN0aW9uJyA/IHVzZXJEZWYgOiB1c2VyRGVmLmdldDtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBnZXR0ZXIgPT0gbnVsbCkge1xuICAgICAgd2FybihcbiAgICAgICAgKFwiR2V0dGVyIGlzIG1pc3NpbmcgZm9yIGNvbXB1dGVkIHByb3BlcnR5IFxcXCJcIiArIGtleSArIFwiXFxcIi5cIiksXG4gICAgICAgIHZtXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghaXNTU1IpIHtcbiAgICAgIC8vIGNyZWF0ZSBpbnRlcm5hbCB3YXRjaGVyIGZvciB0aGUgY29tcHV0ZWQgcHJvcGVydHkuXG4gICAgICB3YXRjaGVyc1trZXldID0gbmV3IFdhdGNoZXIoXG4gICAgICAgIHZtLFxuICAgICAgICBnZXR0ZXIgfHwgbm9vcCxcbiAgICAgICAgbm9vcCxcbiAgICAgICAgY29tcHV0ZWRXYXRjaGVyT3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBjb21wb25lbnQtZGVmaW5lZCBjb21wdXRlZCBwcm9wZXJ0aWVzIGFyZSBhbHJlYWR5IGRlZmluZWQgb24gdGhlXG4gICAgLy8gY29tcG9uZW50IHByb3RvdHlwZS4gV2Ugb25seSBuZWVkIHRvIGRlZmluZSBjb21wdXRlZCBwcm9wZXJ0aWVzIGRlZmluZWRcbiAgICAvLyBhdCBpbnN0YW50aWF0aW9uIGhlcmUuXG4gICAgaWYgKCEoa2V5IGluIHZtKSkge1xuICAgICAgZGVmaW5lQ29tcHV0ZWQodm0sIGtleSwgdXNlckRlZik7XG4gICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoa2V5IGluIHZtLiRkYXRhKSB7XG4gICAgICAgIHdhcm4oKFwiVGhlIGNvbXB1dGVkIHByb3BlcnR5IFxcXCJcIiArIGtleSArIFwiXFxcIiBpcyBhbHJlYWR5IGRlZmluZWQgaW4gZGF0YS5cIiksIHZtKTtcbiAgICAgIH0gZWxzZSBpZiAodm0uJG9wdGlvbnMucHJvcHMgJiYga2V5IGluIHZtLiRvcHRpb25zLnByb3BzKSB7XG4gICAgICAgIHdhcm4oKFwiVGhlIGNvbXB1dGVkIHByb3BlcnR5IFxcXCJcIiArIGtleSArIFwiXFxcIiBpcyBhbHJlYWR5IGRlZmluZWQgYXMgYSBwcm9wLlwiKSwgdm0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZpbmVDb21wdXRlZCAoXG4gIHRhcmdldCxcbiAga2V5LFxuICB1c2VyRGVmXG4pIHtcbiAgdmFyIHNob3VsZENhY2hlID0gIWlzU2VydmVyUmVuZGVyaW5nKCk7XG4gIGlmICh0eXBlb2YgdXNlckRlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5nZXQgPSBzaG91bGRDYWNoZVxuICAgICAgPyBjcmVhdGVDb21wdXRlZEdldHRlcihrZXkpXG4gICAgICA6IGNyZWF0ZUdldHRlckludm9rZXIodXNlckRlZik7XG4gICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IG5vb3A7XG4gIH0gZWxzZSB7XG4gICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLmdldCA9IHVzZXJEZWYuZ2V0XG4gICAgICA/IHNob3VsZENhY2hlICYmIHVzZXJEZWYuY2FjaGUgIT09IGZhbHNlXG4gICAgICAgID8gY3JlYXRlQ29tcHV0ZWRHZXR0ZXIoa2V5KVxuICAgICAgICA6IGNyZWF0ZUdldHRlckludm9rZXIodXNlckRlZi5nZXQpXG4gICAgICA6IG5vb3A7XG4gICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IHVzZXJEZWYuc2V0IHx8IG5vb3A7XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5zZXQgPT09IG5vb3ApIHtcbiAgICBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24uc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgd2FybihcbiAgICAgICAgKFwiQ29tcHV0ZWQgcHJvcGVydHkgXFxcIlwiICsga2V5ICsgXCJcXFwiIHdhcyBhc3NpZ25lZCB0byBidXQgaXQgaGFzIG5vIHNldHRlci5cIiksXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbXB1dGVkR2V0dGVyIChrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbXB1dGVkR2V0dGVyICgpIHtcbiAgICB2YXIgd2F0Y2hlciA9IHRoaXMuX2NvbXB1dGVkV2F0Y2hlcnMgJiYgdGhpcy5fY29tcHV0ZWRXYXRjaGVyc1trZXldO1xuICAgIGlmICh3YXRjaGVyKSB7XG4gICAgICBpZiAod2F0Y2hlci5kaXJ0eSkge1xuICAgICAgICB3YXRjaGVyLmV2YWx1YXRlKCk7XG4gICAgICB9XG4gICAgICBpZiAoRGVwLnRhcmdldCkge1xuICAgICAgICB3YXRjaGVyLmRlcGVuZCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdhdGNoZXIudmFsdWVcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlR2V0dGVySW52b2tlcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIgKCkge1xuICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIHRoaXMpXG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdE1ldGhvZHMgKHZtLCBtZXRob2RzKSB7XG4gIHZhciBwcm9wcyA9IHZtLiRvcHRpb25zLnByb3BzO1xuICBmb3IgKHZhciBrZXkgaW4gbWV0aG9kcykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodHlwZW9mIG1ldGhvZHNba2V5XSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiTWV0aG9kIFxcXCJcIiArIGtleSArIFwiXFxcIiBoYXMgdHlwZSBcXFwiXCIgKyAodHlwZW9mIG1ldGhvZHNba2V5XSkgKyBcIlxcXCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBcIiArXG4gICAgICAgICAgXCJEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P1wiLFxuICAgICAgICAgIHZtXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAocHJvcHMgJiYgaGFzT3duKHByb3BzLCBrZXkpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgKFwiTWV0aG9kIFxcXCJcIiArIGtleSArIFwiXFxcIiBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQgYXMgYSBwcm9wLlwiKSxcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKChrZXkgaW4gdm0pICYmIGlzUmVzZXJ2ZWQoa2V5KSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiTWV0aG9kIFxcXCJcIiArIGtleSArIFwiXFxcIiBjb25mbGljdHMgd2l0aCBhbiBleGlzdGluZyBWdWUgaW5zdGFuY2UgbWV0aG9kLiBcIiArXG4gICAgICAgICAgXCJBdm9pZCBkZWZpbmluZyBjb21wb25lbnQgbWV0aG9kcyB0aGF0IHN0YXJ0IHdpdGggXyBvciAkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHZtW2tleV0gPSB0eXBlb2YgbWV0aG9kc1trZXldICE9PSAnZnVuY3Rpb24nID8gbm9vcCA6IGJpbmQobWV0aG9kc1trZXldLCB2bSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdFdhdGNoICh2bSwgd2F0Y2gpIHtcbiAgZm9yICh2YXIga2V5IGluIHdhdGNoKSB7XG4gICAgdmFyIGhhbmRsZXIgPSB3YXRjaFtrZXldO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGhhbmRsZXIpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhhbmRsZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3JlYXRlV2F0Y2hlcih2bSwga2V5LCBoYW5kbGVyW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3JlYXRlV2F0Y2hlcih2bSwga2V5LCBoYW5kbGVyKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlV2F0Y2hlciAoXG4gIHZtLFxuICBleHBPckZuLFxuICBoYW5kbGVyLFxuICBvcHRpb25zXG4pIHtcbiAgaWYgKGlzUGxhaW5PYmplY3QoaGFuZGxlcikpIHtcbiAgICBvcHRpb25zID0gaGFuZGxlcjtcbiAgICBoYW5kbGVyID0gaGFuZGxlci5oYW5kbGVyO1xuICB9XG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ3N0cmluZycpIHtcbiAgICBoYW5kbGVyID0gdm1baGFuZGxlcl07XG4gIH1cbiAgcmV0dXJuIHZtLiR3YXRjaChleHBPckZuLCBoYW5kbGVyLCBvcHRpb25zKVxufVxuXG5mdW5jdGlvbiBzdGF0ZU1peGluIChWdWUpIHtcbiAgLy8gZmxvdyBzb21laG93IGhhcyBwcm9ibGVtcyB3aXRoIGRpcmVjdGx5IGRlY2xhcmVkIGRlZmluaXRpb24gb2JqZWN0XG4gIC8vIHdoZW4gdXNpbmcgT2JqZWN0LmRlZmluZVByb3BlcnR5LCBzbyB3ZSBoYXZlIHRvIHByb2NlZHVyYWxseSBidWlsZCB1cFxuICAvLyB0aGUgb2JqZWN0IGhlcmUuXG4gIHZhciBkYXRhRGVmID0ge307XG4gIGRhdGFEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fZGF0YSB9O1xuICB2YXIgcHJvcHNEZWYgPSB7fTtcbiAgcHJvcHNEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fcHJvcHMgfTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBkYXRhRGVmLnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICdBdm9pZCByZXBsYWNpbmcgaW5zdGFuY2Ugcm9vdCAkZGF0YS4gJyArXG4gICAgICAgICdVc2UgbmVzdGVkIGRhdGEgcHJvcGVydGllcyBpbnN0ZWFkLicsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfTtcbiAgICBwcm9wc0RlZi5zZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB3YXJuKFwiJHByb3BzIGlzIHJlYWRvbmx5LlwiLCB0aGlzKTtcbiAgICB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGRhdGEnLCBkYXRhRGVmKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsICckcHJvcHMnLCBwcm9wc0RlZik7XG5cbiAgVnVlLnByb3RvdHlwZS4kc2V0ID0gc2V0O1xuICBWdWUucHJvdG90eXBlLiRkZWxldGUgPSBkZWw7XG5cbiAgVnVlLnByb3RvdHlwZS4kd2F0Y2ggPSBmdW5jdGlvbiAoXG4gICAgZXhwT3JGbixcbiAgICBjYixcbiAgICBvcHRpb25zXG4gICkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QoY2IpKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV2F0Y2hlcih2bSwgZXhwT3JGbiwgY2IsIG9wdGlvbnMpXG4gICAgfVxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudXNlciA9IHRydWU7XG4gICAgdmFyIHdhdGNoZXIgPSBuZXcgV2F0Y2hlcih2bSwgZXhwT3JGbiwgY2IsIG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLmltbWVkaWF0ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2IuY2FsbCh2bSwgd2F0Y2hlci52YWx1ZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvciwgdm0sIChcImNhbGxiYWNrIGZvciBpbW1lZGlhdGUgd2F0Y2hlciBcXFwiXCIgKyAod2F0Y2hlci5leHByZXNzaW9uKSArIFwiXFxcIlwiKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiB1bndhdGNoRm4gKCkge1xuICAgICAgd2F0Y2hlci50ZWFyZG93bigpO1xuICAgIH1cbiAgfTtcbn1cblxuLyogICovXG5cbnZhciB1aWQkMyA9IDA7XG5cbmZ1bmN0aW9uIGluaXRNaXhpbiAoVnVlKSB7XG4gIFZ1ZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgLy8gYSB1aWRcbiAgICB2bS5fdWlkID0gdWlkJDMrKztcblxuICAgIHZhciBzdGFydFRhZywgZW5kVGFnO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGNvbmZpZy5wZXJmb3JtYW5jZSAmJiBtYXJrKSB7XG4gICAgICBzdGFydFRhZyA9IFwidnVlLXBlcmYtc3RhcnQ6XCIgKyAodm0uX3VpZCk7XG4gICAgICBlbmRUYWcgPSBcInZ1ZS1wZXJmLWVuZDpcIiArICh2bS5fdWlkKTtcbiAgICAgIG1hcmsoc3RhcnRUYWcpO1xuICAgIH1cblxuICAgIC8vIGEgZmxhZyB0byBhdm9pZCB0aGlzIGJlaW5nIG9ic2VydmVkXG4gICAgdm0uX2lzVnVlID0gdHJ1ZTtcbiAgICAvLyBtZXJnZSBvcHRpb25zXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5faXNDb21wb25lbnQpIHtcbiAgICAgIC8vIG9wdGltaXplIGludGVybmFsIGNvbXBvbmVudCBpbnN0YW50aWF0aW9uXG4gICAgICAvLyBzaW5jZSBkeW5hbWljIG9wdGlvbnMgbWVyZ2luZyBpcyBwcmV0dHkgc2xvdywgYW5kIG5vbmUgb2YgdGhlXG4gICAgICAvLyBpbnRlcm5hbCBjb21wb25lbnQgb3B0aW9ucyBuZWVkcyBzcGVjaWFsIHRyZWF0bWVudC5cbiAgICAgIGluaXRJbnRlcm5hbENvbXBvbmVudCh2bSwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZtLiRvcHRpb25zID0gbWVyZ2VPcHRpb25zKFxuICAgICAgICByZXNvbHZlQ29uc3RydWN0b3JPcHRpb25zKHZtLmNvbnN0cnVjdG9yKSxcbiAgICAgICAgb3B0aW9ucyB8fCB7fSxcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGluaXRQcm94eSh2bSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZtLl9yZW5kZXJQcm94eSA9IHZtO1xuICAgIH1cbiAgICAvLyBleHBvc2UgcmVhbCBzZWxmXG4gICAgdm0uX3NlbGYgPSB2bTtcbiAgICBpbml0TGlmZWN5Y2xlKHZtKTtcbiAgICBpbml0RXZlbnRzKHZtKTtcbiAgICBpbml0UmVuZGVyKHZtKTtcbiAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZUNyZWF0ZScpO1xuICAgIGluaXRJbmplY3Rpb25zKHZtKTsgLy8gcmVzb2x2ZSBpbmplY3Rpb25zIGJlZm9yZSBkYXRhL3Byb3BzXG4gICAgaW5pdFN0YXRlKHZtKTtcbiAgICBpbml0UHJvdmlkZSh2bSk7IC8vIHJlc29sdmUgcHJvdmlkZSBhZnRlciBkYXRhL3Byb3BzXG4gICAgY2FsbEhvb2sodm0sICdjcmVhdGVkJyk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjb25maWcucGVyZm9ybWFuY2UgJiYgbWFyaykge1xuICAgICAgdm0uX25hbWUgPSBmb3JtYXRDb21wb25lbnROYW1lKHZtLCBmYWxzZSk7XG4gICAgICBtYXJrKGVuZFRhZyk7XG4gICAgICBtZWFzdXJlKChcInZ1ZSBcIiArICh2bS5fbmFtZSkgKyBcIiBpbml0XCIpLCBzdGFydFRhZywgZW5kVGFnKTtcbiAgICB9XG5cbiAgICBpZiAodm0uJG9wdGlvbnMuZWwpIHtcbiAgICAgIHZtLiRtb3VudCh2bS4kb3B0aW9ucy5lbCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbml0SW50ZXJuYWxDb21wb25lbnQgKHZtLCBvcHRpb25zKSB7XG4gIHZhciBvcHRzID0gdm0uJG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKHZtLmNvbnN0cnVjdG9yLm9wdGlvbnMpO1xuICAvLyBkb2luZyB0aGlzIGJlY2F1c2UgaXQncyBmYXN0ZXIgdGhhbiBkeW5hbWljIGVudW1lcmF0aW9uLlxuICB2YXIgcGFyZW50Vm5vZGUgPSBvcHRpb25zLl9wYXJlbnRWbm9kZTtcbiAgb3B0cy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcbiAgb3B0cy5fcGFyZW50Vm5vZGUgPSBwYXJlbnRWbm9kZTtcblxuICB2YXIgdm5vZGVDb21wb25lbnRPcHRpb25zID0gcGFyZW50Vm5vZGUuY29tcG9uZW50T3B0aW9ucztcbiAgb3B0cy5wcm9wc0RhdGEgPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMucHJvcHNEYXRhO1xuICBvcHRzLl9wYXJlbnRMaXN0ZW5lcnMgPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMubGlzdGVuZXJzO1xuICBvcHRzLl9yZW5kZXJDaGlsZHJlbiA9IHZub2RlQ29tcG9uZW50T3B0aW9ucy5jaGlsZHJlbjtcbiAgb3B0cy5fY29tcG9uZW50VGFnID0gdm5vZGVDb21wb25lbnRPcHRpb25zLnRhZztcblxuICBpZiAob3B0aW9ucy5yZW5kZXIpIHtcbiAgICBvcHRzLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyO1xuICAgIG9wdHMuc3RhdGljUmVuZGVyRm5zID0gb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnM7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyAoQ3Rvcikge1xuICB2YXIgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucztcbiAgaWYgKEN0b3Iuc3VwZXIpIHtcbiAgICB2YXIgc3VwZXJPcHRpb25zID0gcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyhDdG9yLnN1cGVyKTtcbiAgICB2YXIgY2FjaGVkU3VwZXJPcHRpb25zID0gQ3Rvci5zdXBlck9wdGlvbnM7XG4gICAgaWYgKHN1cGVyT3B0aW9ucyAhPT0gY2FjaGVkU3VwZXJPcHRpb25zKSB7XG4gICAgICAvLyBzdXBlciBvcHRpb24gY2hhbmdlZCxcbiAgICAgIC8vIG5lZWQgdG8gcmVzb2x2ZSBuZXcgb3B0aW9ucy5cbiAgICAgIEN0b3Iuc3VwZXJPcHRpb25zID0gc3VwZXJPcHRpb25zO1xuICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgYXJlIGFueSBsYXRlLW1vZGlmaWVkL2F0dGFjaGVkIG9wdGlvbnMgKCM0OTc2KVxuICAgICAgdmFyIG1vZGlmaWVkT3B0aW9ucyA9IHJlc29sdmVNb2RpZmllZE9wdGlvbnMoQ3Rvcik7XG4gICAgICAvLyB1cGRhdGUgYmFzZSBleHRlbmQgb3B0aW9uc1xuICAgICAgaWYgKG1vZGlmaWVkT3B0aW9ucykge1xuICAgICAgICBleHRlbmQoQ3Rvci5leHRlbmRPcHRpb25zLCBtb2RpZmllZE9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhzdXBlck9wdGlvbnMsIEN0b3IuZXh0ZW5kT3B0aW9ucyk7XG4gICAgICBpZiAob3B0aW9ucy5uYW1lKSB7XG4gICAgICAgIG9wdGlvbnMuY29tcG9uZW50c1tvcHRpb25zLm5hbWVdID0gQ3RvcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnNcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZU1vZGlmaWVkT3B0aW9ucyAoQ3Rvcikge1xuICB2YXIgbW9kaWZpZWQ7XG4gIHZhciBsYXRlc3QgPSBDdG9yLm9wdGlvbnM7XG4gIHZhciBzZWFsZWQgPSBDdG9yLnNlYWxlZE9wdGlvbnM7XG4gIGZvciAodmFyIGtleSBpbiBsYXRlc3QpIHtcbiAgICBpZiAobGF0ZXN0W2tleV0gIT09IHNlYWxlZFtrZXldKSB7XG4gICAgICBpZiAoIW1vZGlmaWVkKSB7IG1vZGlmaWVkID0ge307IH1cbiAgICAgIG1vZGlmaWVkW2tleV0gPSBsYXRlc3Rba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1vZGlmaWVkXG59XG5cbmZ1bmN0aW9uIFZ1ZSAob3B0aW9ucykge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICEodGhpcyBpbnN0YW5jZW9mIFZ1ZSlcbiAgKSB7XG4gICAgd2FybignVnVlIGlzIGEgY29uc3RydWN0b3IgYW5kIHNob3VsZCBiZSBjYWxsZWQgd2l0aCB0aGUgYG5ld2Aga2V5d29yZCcpO1xuICB9XG4gIHRoaXMuX2luaXQob3B0aW9ucyk7XG59XG5cbmluaXRNaXhpbihWdWUpO1xuc3RhdGVNaXhpbihWdWUpO1xuZXZlbnRzTWl4aW4oVnVlKTtcbmxpZmVjeWNsZU1peGluKFZ1ZSk7XG5yZW5kZXJNaXhpbihWdWUpO1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5pdFVzZSAoVnVlKSB7XG4gIFZ1ZS51c2UgPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgdmFyIGluc3RhbGxlZFBsdWdpbnMgPSAodGhpcy5faW5zdGFsbGVkUGx1Z2lucyB8fCAodGhpcy5faW5zdGFsbGVkUGx1Z2lucyA9IFtdKSk7XG4gICAgaWYgKGluc3RhbGxlZFBsdWdpbnMuaW5kZXhPZihwbHVnaW4pID4gLTEpIHtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLy8gYWRkaXRpb25hbCBwYXJhbWV0ZXJzXG4gICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7XG4gICAgYXJncy51bnNoaWZ0KHRoaXMpO1xuICAgIGlmICh0eXBlb2YgcGx1Z2luLmluc3RhbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHBsdWdpbi5pbnN0YWxsLmFwcGx5KHBsdWdpbiwgYXJncyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGx1Z2luID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwbHVnaW4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgfVxuICAgIGluc3RhbGxlZFBsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgIHJldHVybiB0aGlzXG4gIH07XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0TWl4aW4kMSAoVnVlKSB7XG4gIFZ1ZS5taXhpbiA9IGZ1bmN0aW9uIChtaXhpbikge1xuICAgIHRoaXMub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsIG1peGluKTtcbiAgICByZXR1cm4gdGhpc1xuICB9O1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5pdEV4dGVuZCAoVnVlKSB7XG4gIC8qKlxuICAgKiBFYWNoIGluc3RhbmNlIGNvbnN0cnVjdG9yLCBpbmNsdWRpbmcgVnVlLCBoYXMgYSB1bmlxdWVcbiAgICogY2lkLiBUaGlzIGVuYWJsZXMgdXMgdG8gY3JlYXRlIHdyYXBwZWQgXCJjaGlsZFxuICAgKiBjb25zdHJ1Y3RvcnNcIiBmb3IgcHJvdG90eXBhbCBpbmhlcml0YW5jZSBhbmQgY2FjaGUgdGhlbS5cbiAgICovXG4gIFZ1ZS5jaWQgPSAwO1xuICB2YXIgY2lkID0gMTtcblxuICAvKipcbiAgICogQ2xhc3MgaW5oZXJpdGFuY2VcbiAgICovXG4gIFZ1ZS5leHRlbmQgPSBmdW5jdGlvbiAoZXh0ZW5kT3B0aW9ucykge1xuICAgIGV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zIHx8IHt9O1xuICAgIHZhciBTdXBlciA9IHRoaXM7XG4gICAgdmFyIFN1cGVySWQgPSBTdXBlci5jaWQ7XG4gICAgdmFyIGNhY2hlZEN0b3JzID0gZXh0ZW5kT3B0aW9ucy5fQ3RvciB8fCAoZXh0ZW5kT3B0aW9ucy5fQ3RvciA9IHt9KTtcbiAgICBpZiAoY2FjaGVkQ3RvcnNbU3VwZXJJZF0pIHtcbiAgICAgIHJldHVybiBjYWNoZWRDdG9yc1tTdXBlcklkXVxuICAgIH1cblxuICAgIHZhciBuYW1lID0gZXh0ZW5kT3B0aW9ucy5uYW1lIHx8IFN1cGVyLm9wdGlvbnMubmFtZTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBuYW1lKSB7XG4gICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIFN1YiA9IGZ1bmN0aW9uIFZ1ZUNvbXBvbmVudCAob3B0aW9ucykge1xuICAgICAgdGhpcy5faW5pdChvcHRpb25zKTtcbiAgICB9O1xuICAgIFN1Yi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN1cGVyLnByb3RvdHlwZSk7XG4gICAgU3ViLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN1YjtcbiAgICBTdWIuY2lkID0gY2lkKys7XG4gICAgU3ViLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoXG4gICAgICBTdXBlci5vcHRpb25zLFxuICAgICAgZXh0ZW5kT3B0aW9uc1xuICAgICk7XG4gICAgU3ViWydzdXBlciddID0gU3VwZXI7XG5cbiAgICAvLyBGb3IgcHJvcHMgYW5kIGNvbXB1dGVkIHByb3BlcnRpZXMsIHdlIGRlZmluZSB0aGUgcHJveHkgZ2V0dGVycyBvblxuICAgIC8vIHRoZSBWdWUgaW5zdGFuY2VzIGF0IGV4dGVuc2lvbiB0aW1lLCBvbiB0aGUgZXh0ZW5kZWQgcHJvdG90eXBlLiBUaGlzXG4gICAgLy8gYXZvaWRzIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxscyBmb3IgZWFjaCBpbnN0YW5jZSBjcmVhdGVkLlxuICAgIGlmIChTdWIub3B0aW9ucy5wcm9wcykge1xuICAgICAgaW5pdFByb3BzJDEoU3ViKTtcbiAgICB9XG4gICAgaWYgKFN1Yi5vcHRpb25zLmNvbXB1dGVkKSB7XG4gICAgICBpbml0Q29tcHV0ZWQkMShTdWIpO1xuICAgIH1cblxuICAgIC8vIGFsbG93IGZ1cnRoZXIgZXh0ZW5zaW9uL21peGluL3BsdWdpbiB1c2FnZVxuICAgIFN1Yi5leHRlbmQgPSBTdXBlci5leHRlbmQ7XG4gICAgU3ViLm1peGluID0gU3VwZXIubWl4aW47XG4gICAgU3ViLnVzZSA9IFN1cGVyLnVzZTtcblxuICAgIC8vIGNyZWF0ZSBhc3NldCByZWdpc3RlcnMsIHNvIGV4dGVuZGVkIGNsYXNzZXNcbiAgICAvLyBjYW4gaGF2ZSB0aGVpciBwcml2YXRlIGFzc2V0cyB0b28uXG4gICAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgU3ViW3R5cGVdID0gU3VwZXJbdHlwZV07XG4gICAgfSk7XG4gICAgLy8gZW5hYmxlIHJlY3Vyc2l2ZSBzZWxmLWxvb2t1cFxuICAgIGlmIChuYW1lKSB7XG4gICAgICBTdWIub3B0aW9ucy5jb21wb25lbnRzW25hbWVdID0gU3ViO1xuICAgIH1cblxuICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHN1cGVyIG9wdGlvbnMgYXQgZXh0ZW5zaW9uIHRpbWUuXG4gICAgLy8gbGF0ZXIgYXQgaW5zdGFudGlhdGlvbiB3ZSBjYW4gY2hlY2sgaWYgU3VwZXIncyBvcHRpb25zIGhhdmVcbiAgICAvLyBiZWVuIHVwZGF0ZWQuXG4gICAgU3ViLnN1cGVyT3B0aW9ucyA9IFN1cGVyLm9wdGlvbnM7XG4gICAgU3ViLmV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zO1xuICAgIFN1Yi5zZWFsZWRPcHRpb25zID0gZXh0ZW5kKHt9LCBTdWIub3B0aW9ucyk7XG5cbiAgICAvLyBjYWNoZSBjb25zdHJ1Y3RvclxuICAgIGNhY2hlZEN0b3JzW1N1cGVySWRdID0gU3ViO1xuICAgIHJldHVybiBTdWJcbiAgfTtcbn1cblxuZnVuY3Rpb24gaW5pdFByb3BzJDEgKENvbXApIHtcbiAgdmFyIHByb3BzID0gQ29tcC5vcHRpb25zLnByb3BzO1xuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICBwcm94eShDb21wLnByb3RvdHlwZSwgXCJfcHJvcHNcIiwga2V5KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0Q29tcHV0ZWQkMSAoQ29tcCkge1xuICB2YXIgY29tcHV0ZWQgPSBDb21wLm9wdGlvbnMuY29tcHV0ZWQ7XG4gIGZvciAodmFyIGtleSBpbiBjb21wdXRlZCkge1xuICAgIGRlZmluZUNvbXB1dGVkKENvbXAucHJvdG90eXBlLCBrZXksIGNvbXB1dGVkW2tleV0pO1xuICB9XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0QXNzZXRSZWdpc3RlcnMgKFZ1ZSkge1xuICAvKipcbiAgICogQ3JlYXRlIGFzc2V0IHJlZ2lzdHJhdGlvbiBtZXRob2RzLlxuICAgKi9cbiAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIFZ1ZVt0eXBlXSA9IGZ1bmN0aW9uIChcbiAgICAgIGlkLFxuICAgICAgZGVmaW5pdGlvblxuICAgICkge1xuICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdHlwZSArICdzJ11baWRdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZSA9PT0gJ2NvbXBvbmVudCcpIHtcbiAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnY29tcG9uZW50JyAmJiBpc1BsYWluT2JqZWN0KGRlZmluaXRpb24pKSB7XG4gICAgICAgICAgZGVmaW5pdGlvbi5uYW1lID0gZGVmaW5pdGlvbi5uYW1lIHx8IGlkO1xuICAgICAgICAgIGRlZmluaXRpb24gPSB0aGlzLm9wdGlvbnMuX2Jhc2UuZXh0ZW5kKGRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnZGlyZWN0aXZlJyAmJiB0eXBlb2YgZGVmaW5pdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGRlZmluaXRpb24gPSB7IGJpbmQ6IGRlZmluaXRpb24sIHVwZGF0ZTogZGVmaW5pdGlvbiB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3B0aW9uc1t0eXBlICsgJ3MnXVtpZF0gPSBkZWZpbml0aW9uO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvblxuICAgICAgfVxuICAgIH07XG4gIH0pO1xufVxuXG4vKiAgKi9cblxuXG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUgKG9wdHMpIHtcbiAgcmV0dXJuIG9wdHMgJiYgKG9wdHMuQ3Rvci5vcHRpb25zLm5hbWUgfHwgb3B0cy50YWcpXG59XG5cbmZ1bmN0aW9uIG1hdGNoZXMgKHBhdHRlcm4sIG5hbWUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocGF0dGVybikpIHtcbiAgICByZXR1cm4gcGF0dGVybi5pbmRleE9mKG5hbWUpID4gLTFcbiAgfSBlbHNlIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcGF0dGVybi5zcGxpdCgnLCcpLmluZGV4T2YobmFtZSkgPiAtMVxuICB9IGVsc2UgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4udGVzdChuYW1lKVxuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBwcnVuZUNhY2hlIChrZWVwQWxpdmVJbnN0YW5jZSwgZmlsdGVyKSB7XG4gIHZhciBjYWNoZSA9IGtlZXBBbGl2ZUluc3RhbmNlLmNhY2hlO1xuICB2YXIga2V5cyA9IGtlZXBBbGl2ZUluc3RhbmNlLmtleXM7XG4gIHZhciBfdm5vZGUgPSBrZWVwQWxpdmVJbnN0YW5jZS5fdm5vZGU7XG4gIGZvciAodmFyIGtleSBpbiBjYWNoZSkge1xuICAgIHZhciBjYWNoZWROb2RlID0gY2FjaGVba2V5XTtcbiAgICBpZiAoY2FjaGVkTm9kZSkge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNhY2hlZE5vZGUuY29tcG9uZW50T3B0aW9ucyk7XG4gICAgICBpZiAobmFtZSAmJiAhZmlsdGVyKG5hbWUpKSB7XG4gICAgICAgIHBydW5lQ2FjaGVFbnRyeShjYWNoZSwga2V5LCBrZXlzLCBfdm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkgKFxuICBjYWNoZSxcbiAga2V5LFxuICBrZXlzLFxuICBjdXJyZW50XG4pIHtcbiAgdmFyIGNhY2hlZCQkMSA9IGNhY2hlW2tleV07XG4gIGlmIChjYWNoZWQkJDEgJiYgKCFjdXJyZW50IHx8IGNhY2hlZCQkMS50YWcgIT09IGN1cnJlbnQudGFnKSkge1xuICAgIGNhY2hlZCQkMS5jb21wb25lbnRJbnN0YW5jZS4kZGVzdHJveSgpO1xuICB9XG4gIGNhY2hlW2tleV0gPSBudWxsO1xuICByZW1vdmUoa2V5cywga2V5KTtcbn1cblxudmFyIHBhdHRlcm5UeXBlcyA9IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldO1xuXG52YXIgS2VlcEFsaXZlID0ge1xuICBuYW1lOiAna2VlcC1hbGl2ZScsXG4gIGFic3RyYWN0OiB0cnVlLFxuXG4gIHByb3BzOiB7XG4gICAgaW5jbHVkZTogcGF0dGVyblR5cGVzLFxuICAgIGV4Y2x1ZGU6IHBhdHRlcm5UeXBlcyxcbiAgICBtYXg6IFtTdHJpbmcsIE51bWJlcl1cbiAgfSxcblxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkICgpIHtcbiAgICB0aGlzLmNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLmtleXMgPSBbXTtcbiAgfSxcblxuICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCAoKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuY2FjaGUpIHtcbiAgICAgIHBydW5lQ2FjaGVFbnRyeSh0aGlzLmNhY2hlLCBrZXksIHRoaXMua2V5cyk7XG4gICAgfVxuICB9LFxuXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQgKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdGhpcy4kd2F0Y2goJ2luY2x1ZGUnLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBwcnVuZUNhY2hlKHRoaXMkMSwgZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIG1hdGNoZXModmFsLCBuYW1lKTsgfSk7XG4gICAgfSk7XG4gICAgdGhpcy4kd2F0Y2goJ2V4Y2x1ZGUnLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBwcnVuZUNhY2hlKHRoaXMkMSwgZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuICFtYXRjaGVzKHZhbCwgbmFtZSk7IH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyICgpIHtcbiAgICB2YXIgc2xvdCA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7XG4gICAgdmFyIHZub2RlID0gZ2V0Rmlyc3RDb21wb25lbnRDaGlsZChzbG90KTtcbiAgICB2YXIgY29tcG9uZW50T3B0aW9ucyA9IHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG4gICAgaWYgKGNvbXBvbmVudE9wdGlvbnMpIHtcbiAgICAgIC8vIGNoZWNrIHBhdHRlcm5cbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnRPcHRpb25zKTtcbiAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgdmFyIGluY2x1ZGUgPSByZWYuaW5jbHVkZTtcbiAgICAgIHZhciBleGNsdWRlID0gcmVmLmV4Y2x1ZGU7XG4gICAgICBpZiAoXG4gICAgICAgIC8vIG5vdCBpbmNsdWRlZFxuICAgICAgICAoaW5jbHVkZSAmJiAoIW5hbWUgfHwgIW1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpKSB8fFxuICAgICAgICAvLyBleGNsdWRlZFxuICAgICAgICAoZXhjbHVkZSAmJiBuYW1lICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHZub2RlXG4gICAgICB9XG5cbiAgICAgIHZhciByZWYkMSA9IHRoaXM7XG4gICAgICB2YXIgY2FjaGUgPSByZWYkMS5jYWNoZTtcbiAgICAgIHZhciBrZXlzID0gcmVmJDEua2V5cztcbiAgICAgIHZhciBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbFxuICAgICAgICAvLyBzYW1lIGNvbnN0cnVjdG9yIG1heSBnZXQgcmVnaXN0ZXJlZCBhcyBkaWZmZXJlbnQgbG9jYWwgY29tcG9uZW50c1xuICAgICAgICAvLyBzbyBjaWQgYWxvbmUgaXMgbm90IGVub3VnaCAoIzMyNjkpXG4gICAgICAgID8gY29tcG9uZW50T3B0aW9ucy5DdG9yLmNpZCArIChjb21wb25lbnRPcHRpb25zLnRhZyA/IChcIjo6XCIgKyAoY29tcG9uZW50T3B0aW9ucy50YWcpKSA6ICcnKVxuICAgICAgICA6IHZub2RlLmtleTtcbiAgICAgIGlmIChjYWNoZVtrZXldKSB7XG4gICAgICAgIHZub2RlLmNvbXBvbmVudEluc3RhbmNlID0gY2FjaGVba2V5XS5jb21wb25lbnRJbnN0YW5jZTtcbiAgICAgICAgLy8gbWFrZSBjdXJyZW50IGtleSBmcmVzaGVzdFxuICAgICAgICByZW1vdmUoa2V5cywga2V5KTtcbiAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWNoZVtrZXldID0gdm5vZGU7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAvLyBwcnVuZSBvbGRlc3QgZW50cnlcbiAgICAgICAgaWYgKHRoaXMubWF4ICYmIGtleXMubGVuZ3RoID4gcGFyc2VJbnQodGhpcy5tYXgpKSB7XG4gICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGNhY2hlLCBrZXlzWzBdLCBrZXlzLCB0aGlzLl92bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdm5vZGUuZGF0YS5rZWVwQWxpdmUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGUgfHwgKHNsb3QgJiYgc2xvdFswXSlcbiAgfVxufTtcblxudmFyIGJ1aWx0SW5Db21wb25lbnRzID0ge1xuICBLZWVwQWxpdmU6IEtlZXBBbGl2ZVxufTtcblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRHbG9iYWxBUEkgKFZ1ZSkge1xuICAvLyBjb25maWdcbiAgdmFyIGNvbmZpZ0RlZiA9IHt9O1xuICBjb25maWdEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZmlnOyB9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNvbmZpZ0RlZi5zZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB3YXJuKFxuICAgICAgICAnRG8gbm90IHJlcGxhY2UgdGhlIFZ1ZS5jb25maWcgb2JqZWN0LCBzZXQgaW5kaXZpZHVhbCBmaWVsZHMgaW5zdGVhZC4nXG4gICAgICApO1xuICAgIH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZSwgJ2NvbmZpZycsIGNvbmZpZ0RlZik7XG5cbiAgLy8gZXhwb3NlZCB1dGlsIG1ldGhvZHMuXG4gIC8vIE5PVEU6IHRoZXNlIGFyZSBub3QgY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJIC0gYXZvaWQgcmVseWluZyBvblxuICAvLyB0aGVtIHVubGVzcyB5b3UgYXJlIGF3YXJlIG9mIHRoZSByaXNrLlxuICBWdWUudXRpbCA9IHtcbiAgICB3YXJuOiB3YXJuLFxuICAgIGV4dGVuZDogZXh0ZW5kLFxuICAgIG1lcmdlT3B0aW9uczogbWVyZ2VPcHRpb25zLFxuICAgIGRlZmluZVJlYWN0aXZlOiBkZWZpbmVSZWFjdGl2ZSQkMVxuICB9O1xuXG4gIFZ1ZS5zZXQgPSBzZXQ7XG4gIFZ1ZS5kZWxldGUgPSBkZWw7XG4gIFZ1ZS5uZXh0VGljayA9IG5leHRUaWNrO1xuXG4gIC8vIDIuNiBleHBsaWNpdCBvYnNlcnZhYmxlIEFQSVxuICBWdWUub2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICBvYnNlcnZlKG9iaik7XG4gICAgcmV0dXJuIG9ialxuICB9O1xuXG4gIFZ1ZS5vcHRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIFZ1ZS5vcHRpb25zW3R5cGUgKyAncyddID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfSk7XG5cbiAgLy8gdGhpcyBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoZSBcImJhc2VcIiBjb25zdHJ1Y3RvciB0byBleHRlbmQgYWxsIHBsYWluLW9iamVjdFxuICAvLyBjb21wb25lbnRzIHdpdGggaW4gV2VleCdzIG11bHRpLWluc3RhbmNlIHNjZW5hcmlvcy5cbiAgVnVlLm9wdGlvbnMuX2Jhc2UgPSBWdWU7XG5cbiAgZXh0ZW5kKFZ1ZS5vcHRpb25zLmNvbXBvbmVudHMsIGJ1aWx0SW5Db21wb25lbnRzKTtcblxuICBpbml0VXNlKFZ1ZSk7XG4gIGluaXRNaXhpbiQxKFZ1ZSk7XG4gIGluaXRFeHRlbmQoVnVlKTtcbiAgaW5pdEFzc2V0UmVnaXN0ZXJzKFZ1ZSk7XG59XG5cbmluaXRHbG9iYWxBUEkoVnVlKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsICckaXNTZXJ2ZXInLCB7XG4gIGdldDogaXNTZXJ2ZXJSZW5kZXJpbmdcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLnByb3RvdHlwZSwgJyRzc3JDb250ZXh0Jywge1xuICBnZXQ6IGZ1bmN0aW9uIGdldCAoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdGhpcy4kdm5vZGUgJiYgdGhpcy4kdm5vZGUuc3NyQ29udGV4dFxuICB9XG59KTtcblxuLy8gZXhwb3NlIEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0IGZvciBzc3IgcnVudGltZSBoZWxwZXIgaW5zdGFsbGF0aW9uXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLCAnRnVuY3Rpb25hbFJlbmRlckNvbnRleHQnLCB7XG4gIHZhbHVlOiBGdW5jdGlvbmFsUmVuZGVyQ29udGV4dFxufSk7XG5cblZ1ZS52ZXJzaW9uID0gJzIuNi4xMic7XG5cbi8qICAqL1xuXG4vLyB0aGVzZSBhcmUgcmVzZXJ2ZWQgZm9yIHdlYiBiZWNhdXNlIHRoZXkgYXJlIGRpcmVjdGx5IGNvbXBpbGVkIGF3YXlcbi8vIGR1cmluZyB0ZW1wbGF0ZSBjb21waWxhdGlvblxudmFyIGlzUmVzZXJ2ZWRBdHRyID0gbWFrZU1hcCgnc3R5bGUsY2xhc3MnKTtcblxuLy8gYXR0cmlidXRlcyB0aGF0IHNob3VsZCBiZSB1c2luZyBwcm9wcyBmb3IgYmluZGluZ1xudmFyIGFjY2VwdFZhbHVlID0gbWFrZU1hcCgnaW5wdXQsdGV4dGFyZWEsb3B0aW9uLHNlbGVjdCxwcm9ncmVzcycpO1xudmFyIG11c3RVc2VQcm9wID0gZnVuY3Rpb24gKHRhZywgdHlwZSwgYXR0cikge1xuICByZXR1cm4gKFxuICAgIChhdHRyID09PSAndmFsdWUnICYmIGFjY2VwdFZhbHVlKHRhZykpICYmIHR5cGUgIT09ICdidXR0b24nIHx8XG4gICAgKGF0dHIgPT09ICdzZWxlY3RlZCcgJiYgdGFnID09PSAnb3B0aW9uJykgfHxcbiAgICAoYXR0ciA9PT0gJ2NoZWNrZWQnICYmIHRhZyA9PT0gJ2lucHV0JykgfHxcbiAgICAoYXR0ciA9PT0gJ211dGVkJyAmJiB0YWcgPT09ICd2aWRlbycpXG4gIClcbn07XG5cbnZhciBpc0VudW1lcmF0ZWRBdHRyID0gbWFrZU1hcCgnY29udGVudGVkaXRhYmxlLGRyYWdnYWJsZSxzcGVsbGNoZWNrJyk7XG5cbnZhciBpc1ZhbGlkQ29udGVudEVkaXRhYmxlVmFsdWUgPSBtYWtlTWFwKCdldmVudHMsY2FyZXQsdHlwaW5nLHBsYWludGV4dC1vbmx5Jyk7XG5cbnZhciBjb252ZXJ0RW51bWVyYXRlZFZhbHVlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpIHx8IHZhbHVlID09PSAnZmFsc2UnXG4gICAgPyAnZmFsc2UnXG4gICAgLy8gYWxsb3cgYXJiaXRyYXJ5IHN0cmluZyB2YWx1ZSBmb3IgY29udGVudGVkaXRhYmxlXG4gICAgOiBrZXkgPT09ICdjb250ZW50ZWRpdGFibGUnICYmIGlzVmFsaWRDb250ZW50RWRpdGFibGVWYWx1ZSh2YWx1ZSlcbiAgICAgID8gdmFsdWVcbiAgICAgIDogJ3RydWUnXG59O1xuXG52YXIgaXNCb29sZWFuQXR0ciA9IG1ha2VNYXAoXG4gICdhbGxvd2Z1bGxzY3JlZW4sYXN5bmMsYXV0b2ZvY3VzLGF1dG9wbGF5LGNoZWNrZWQsY29tcGFjdCxjb250cm9scyxkZWNsYXJlLCcgK1xuICAnZGVmYXVsdCxkZWZhdWx0Y2hlY2tlZCxkZWZhdWx0bXV0ZWQsZGVmYXVsdHNlbGVjdGVkLGRlZmVyLGRpc2FibGVkLCcgK1xuICAnZW5hYmxlZCxmb3Jtbm92YWxpZGF0ZSxoaWRkZW4saW5kZXRlcm1pbmF0ZSxpbmVydCxpc21hcCxpdGVtc2NvcGUsbG9vcCxtdWx0aXBsZSwnICtcbiAgJ211dGVkLG5vaHJlZixub3Jlc2l6ZSxub3NoYWRlLG5vdmFsaWRhdGUsbm93cmFwLG9wZW4scGF1c2VvbmV4aXQscmVhZG9ubHksJyArXG4gICdyZXF1aXJlZCxyZXZlcnNlZCxzY29wZWQsc2VhbWxlc3Msc2VsZWN0ZWQsc29ydGFibGUsdHJhbnNsYXRlLCcgK1xuICAndHJ1ZXNwZWVkLHR5cGVtdXN0bWF0Y2gsdmlzaWJsZSdcbik7XG5cbnZhciB4bGlua05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xuXG52YXIgaXNYbGluayA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBuYW1lLmNoYXJBdCg1KSA9PT0gJzonICYmIG5hbWUuc2xpY2UoMCwgNSkgPT09ICd4bGluaydcbn07XG5cbnZhciBnZXRYbGlua1Byb3AgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gaXNYbGluayhuYW1lKSA/IG5hbWUuc2xpY2UoNiwgbmFtZS5sZW5ndGgpIDogJydcbn07XG5cbnZhciBpc0ZhbHN5QXR0clZhbHVlID0gZnVuY3Rpb24gKHZhbCkge1xuICByZXR1cm4gdmFsID09IG51bGwgfHwgdmFsID09PSBmYWxzZVxufTtcblxuLyogICovXG5cbmZ1bmN0aW9uIGdlbkNsYXNzRm9yVm5vZGUgKHZub2RlKSB7XG4gIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTtcbiAgdmFyIGNoaWxkTm9kZSA9IHZub2RlO1xuICB3aGlsZSAoaXNEZWYoY2hpbGROb2RlLmNvbXBvbmVudEluc3RhbmNlKSkge1xuICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGU7XG4gICAgaWYgKGNoaWxkTm9kZSAmJiBjaGlsZE5vZGUuZGF0YSkge1xuICAgICAgZGF0YSA9IG1lcmdlQ2xhc3NEYXRhKGNoaWxkTm9kZS5kYXRhLCBkYXRhKTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKGlzRGVmKHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudCkpIHtcbiAgICBpZiAocGFyZW50Tm9kZSAmJiBwYXJlbnROb2RlLmRhdGEpIHtcbiAgICAgIGRhdGEgPSBtZXJnZUNsYXNzRGF0YShkYXRhLCBwYXJlbnROb2RlLmRhdGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVuZGVyQ2xhc3MoZGF0YS5zdGF0aWNDbGFzcywgZGF0YS5jbGFzcylcbn1cblxuZnVuY3Rpb24gbWVyZ2VDbGFzc0RhdGEgKGNoaWxkLCBwYXJlbnQpIHtcbiAgcmV0dXJuIHtcbiAgICBzdGF0aWNDbGFzczogY29uY2F0KGNoaWxkLnN0YXRpY0NsYXNzLCBwYXJlbnQuc3RhdGljQ2xhc3MpLFxuICAgIGNsYXNzOiBpc0RlZihjaGlsZC5jbGFzcylcbiAgICAgID8gW2NoaWxkLmNsYXNzLCBwYXJlbnQuY2xhc3NdXG4gICAgICA6IHBhcmVudC5jbGFzc1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNsYXNzIChcbiAgc3RhdGljQ2xhc3MsXG4gIGR5bmFtaWNDbGFzc1xuKSB7XG4gIGlmIChpc0RlZihzdGF0aWNDbGFzcykgfHwgaXNEZWYoZHluYW1pY0NsYXNzKSkge1xuICAgIHJldHVybiBjb25jYXQoc3RhdGljQ2xhc3MsIHN0cmluZ2lmeUNsYXNzKGR5bmFtaWNDbGFzcykpXG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgcmV0dXJuICcnXG59XG5cbmZ1bmN0aW9uIGNvbmNhdCAoYSwgYikge1xuICByZXR1cm4gYSA/IGIgPyAoYSArICcgJyArIGIpIDogYSA6IChiIHx8ICcnKVxufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnlDbGFzcyAodmFsdWUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeUFycmF5KHZhbHVlKVxuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3RyaW5naWZ5T2JqZWN0KHZhbHVlKVxuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgcmV0dXJuICcnXG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeUFycmF5ICh2YWx1ZSkge1xuICB2YXIgcmVzID0gJyc7XG4gIHZhciBzdHJpbmdpZmllZDtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoaXNEZWYoc3RyaW5naWZpZWQgPSBzdHJpbmdpZnlDbGFzcyh2YWx1ZVtpXSkpICYmIHN0cmluZ2lmaWVkICE9PSAnJykge1xuICAgICAgaWYgKHJlcykgeyByZXMgKz0gJyAnOyB9XG4gICAgICByZXMgKz0gc3RyaW5naWZpZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5T2JqZWN0ICh2YWx1ZSkge1xuICB2YXIgcmVzID0gJyc7XG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZVtrZXldKSB7XG4gICAgICBpZiAocmVzKSB7IHJlcyArPSAnICc7IH1cbiAgICAgIHJlcyArPSBrZXk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuLyogICovXG5cbnZhciBuYW1lc3BhY2VNYXAgPSB7XG4gIHN2ZzogJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyxcbiAgbWF0aDogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnXG59O1xuXG52YXIgaXNIVE1MVGFnID0gbWFrZU1hcChcbiAgJ2h0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLCcgK1xuICAnYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGZvb3RlcixoZWFkZXIsaDEsaDIsaDMsaDQsaDUsaDYsaGdyb3VwLG5hdixzZWN0aW9uLCcgK1xuICAnZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsJyArXG4gICdhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSxkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnRjLHJ1YnksJyArXG4gICdzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCx0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbywnICtcbiAgJ2VtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLCcgK1xuICAnY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsJyArXG4gICdidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsb3B0aW9uLCcgK1xuICAnb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSwnICtcbiAgJ2RldGFpbHMsZGlhbG9nLG1lbnUsbWVudWl0ZW0sc3VtbWFyeSwnICtcbiAgJ2NvbnRlbnQsZWxlbWVudCxzaGFkb3csdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3QnXG4pO1xuXG4vLyB0aGlzIG1hcCBpcyBpbnRlbnRpb25hbGx5IHNlbGVjdGl2ZSwgb25seSBjb3ZlcmluZyBTVkcgZWxlbWVudHMgdGhhdCBtYXlcbi8vIGNvbnRhaW4gY2hpbGQgZWxlbWVudHMuXG52YXIgaXNTVkcgPSBtYWtlTWFwKFxuICAnc3ZnLGFuaW1hdGUsY2lyY2xlLGNsaXBwYXRoLGN1cnNvcixkZWZzLGRlc2MsZWxsaXBzZSxmaWx0ZXIsZm9udC1mYWNlLCcgK1xuICAnZm9yZWlnbk9iamVjdCxnLGdseXBoLGltYWdlLGxpbmUsbWFya2VyLG1hc2ssbWlzc2luZy1nbHlwaCxwYXRoLHBhdHRlcm4sJyArXG4gICdwb2x5Z29uLHBvbHlsaW5lLHJlY3Qsc3dpdGNoLHN5bWJvbCx0ZXh0LHRleHRwYXRoLHRzcGFuLHVzZSx2aWV3JyxcbiAgdHJ1ZVxuKTtcblxudmFyIGlzUHJlVGFnID0gZnVuY3Rpb24gKHRhZykgeyByZXR1cm4gdGFnID09PSAncHJlJzsgfTtcblxudmFyIGlzUmVzZXJ2ZWRUYWcgPSBmdW5jdGlvbiAodGFnKSB7XG4gIHJldHVybiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWRyh0YWcpXG59O1xuXG5mdW5jdGlvbiBnZXRUYWdOYW1lc3BhY2UgKHRhZykge1xuICBpZiAoaXNTVkcodGFnKSkge1xuICAgIHJldHVybiAnc3ZnJ1xuICB9XG4gIC8vIGJhc2ljIHN1cHBvcnQgZm9yIE1hdGhNTFxuICAvLyBub3RlIGl0IGRvZXNuJ3Qgc3VwcG9ydCBvdGhlciBNYXRoTUwgZWxlbWVudHMgYmVpbmcgY29tcG9uZW50IHJvb3RzXG4gIGlmICh0YWcgPT09ICdtYXRoJykge1xuICAgIHJldHVybiAnbWF0aCdcbiAgfVxufVxuXG52YXIgdW5rbm93bkVsZW1lbnRDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiBpc1Vua25vd25FbGVtZW50ICh0YWcpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghaW5Ccm93c2VyKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBpZiAoaXNSZXNlcnZlZFRhZyh0YWcpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgdGFnID0gdGFnLnRvTG93ZXJDYXNlKCk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddICE9IG51bGwpIHtcbiAgICByZXR1cm4gdW5rbm93bkVsZW1lbnRDYWNoZVt0YWddXG4gIH1cbiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICBpZiAodGFnLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjgyMTAzNjQvMTA3MDI0NFxuICAgIHJldHVybiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddID0gKFxuICAgICAgZWwuY29uc3RydWN0b3IgPT09IHdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnQgfHxcbiAgICAgIGVsLmNvbnN0cnVjdG9yID09PSB3aW5kb3cuSFRNTEVsZW1lbnRcbiAgICApKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddID0gL0hUTUxVbmtub3duRWxlbWVudC8udGVzdChlbC50b1N0cmluZygpKSlcbiAgfVxufVxuXG52YXIgaXNUZXh0SW5wdXRUeXBlID0gbWFrZU1hcCgndGV4dCxudW1iZXIscGFzc3dvcmQsc2VhcmNoLGVtYWlsLHRlbCx1cmwnKTtcblxuLyogICovXG5cbi8qKlxuICogUXVlcnkgYW4gZWxlbWVudCBzZWxlY3RvciBpZiBpdCdzIG5vdCBhbiBlbGVtZW50IGFscmVhZHkuXG4gKi9cbmZ1bmN0aW9uIHF1ZXJ5IChlbCkge1xuICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykge1xuICAgIHZhciBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWwpO1xuICAgIGlmICghc2VsZWN0ZWQpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgJ0Nhbm5vdCBmaW5kIGVsZW1lbnQ6ICcgKyBlbFxuICAgICAgKTtcbiAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0ZWRcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZWxcbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCQxICh0YWdOYW1lLCB2bm9kZSkge1xuICB2YXIgZWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgaWYgKHRhZ05hbWUgIT09ICdzZWxlY3QnKSB7XG4gICAgcmV0dXJuIGVsbVxuICB9XG4gIC8vIGZhbHNlIG9yIG51bGwgd2lsbCByZW1vdmUgdGhlIGF0dHJpYnV0ZSBidXQgdW5kZWZpbmVkIHdpbGwgbm90XG4gIGlmICh2bm9kZS5kYXRhICYmIHZub2RlLmRhdGEuYXR0cnMgJiYgdm5vZGUuZGF0YS5hdHRycy5tdWx0aXBsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZWxtLnNldEF0dHJpYnV0ZSgnbXVsdGlwbGUnLCAnbXVsdGlwbGUnKTtcbiAgfVxuICByZXR1cm4gZWxtXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROUyAobmFtZXNwYWNlLCB0YWdOYW1lKSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlTWFwW25hbWVzcGFjZV0sIHRhZ05hbWUpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlICh0ZXh0KSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KVxufVxuXG5mdW5jdGlvbiBjcmVhdGVDb21tZW50ICh0ZXh0KSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRleHQpXG59XG5cbmZ1bmN0aW9uIGluc2VydEJlZm9yZSAocGFyZW50Tm9kZSwgbmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGQgKG5vZGUsIGNoaWxkKSB7XG4gIG5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRDaGlsZCAobm9kZSwgY2hpbGQpIHtcbiAgbm9kZS5hcHBlbmRDaGlsZChjaGlsZCk7XG59XG5cbmZ1bmN0aW9uIHBhcmVudE5vZGUgKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUucGFyZW50Tm9kZVxufVxuXG5mdW5jdGlvbiBuZXh0U2libGluZyAobm9kZSkge1xuICByZXR1cm4gbm9kZS5uZXh0U2libGluZ1xufVxuXG5mdW5jdGlvbiB0YWdOYW1lIChub2RlKSB7XG4gIHJldHVybiBub2RlLnRhZ05hbWVcbn1cblxuZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQgKG5vZGUsIHRleHQpIHtcbiAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG59XG5cbmZ1bmN0aW9uIHNldFN0eWxlU2NvcGUgKG5vZGUsIHNjb3BlSWQpIHtcbiAgbm9kZS5zZXRBdHRyaWJ1dGUoc2NvcGVJZCwgJycpO1xufVxuXG52YXIgbm9kZU9wcyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCQxLFxuICBjcmVhdGVFbGVtZW50TlM6IGNyZWF0ZUVsZW1lbnROUyxcbiAgY3JlYXRlVGV4dE5vZGU6IGNyZWF0ZVRleHROb2RlLFxuICBjcmVhdGVDb21tZW50OiBjcmVhdGVDb21tZW50LFxuICBpbnNlcnRCZWZvcmU6IGluc2VydEJlZm9yZSxcbiAgcmVtb3ZlQ2hpbGQ6IHJlbW92ZUNoaWxkLFxuICBhcHBlbmRDaGlsZDogYXBwZW5kQ2hpbGQsXG4gIHBhcmVudE5vZGU6IHBhcmVudE5vZGUsXG4gIG5leHRTaWJsaW5nOiBuZXh0U2libGluZyxcbiAgdGFnTmFtZTogdGFnTmFtZSxcbiAgc2V0VGV4dENvbnRlbnQ6IHNldFRleHRDb250ZW50LFxuICBzZXRTdHlsZVNjb3BlOiBzZXRTdHlsZVNjb3BlXG59KTtcblxuLyogICovXG5cbnZhciByZWYgPSB7XG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlIChfLCB2bm9kZSkge1xuICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUgKG9sZFZub2RlLCB2bm9kZSkge1xuICAgIGlmIChvbGRWbm9kZS5kYXRhLnJlZiAhPT0gdm5vZGUuZGF0YS5yZWYpIHtcbiAgICAgIHJlZ2lzdGVyUmVmKG9sZFZub2RlLCB0cnVlKTtcbiAgICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcbiAgICB9XG4gIH0sXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3kgKHZub2RlKSB7XG4gICAgcmVnaXN0ZXJSZWYodm5vZGUsIHRydWUpO1xuICB9XG59O1xuXG5mdW5jdGlvbiByZWdpc3RlclJlZiAodm5vZGUsIGlzUmVtb3ZhbCkge1xuICB2YXIga2V5ID0gdm5vZGUuZGF0YS5yZWY7XG4gIGlmICghaXNEZWYoa2V5KSkgeyByZXR1cm4gfVxuXG4gIHZhciB2bSA9IHZub2RlLmNvbnRleHQ7XG4gIHZhciByZWYgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSB8fCB2bm9kZS5lbG07XG4gIHZhciByZWZzID0gdm0uJHJlZnM7XG4gIGlmIChpc1JlbW92YWwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZWZzW2tleV0pKSB7XG4gICAgICByZW1vdmUocmVmc1trZXldLCByZWYpO1xuICAgIH0gZWxzZSBpZiAocmVmc1trZXldID09PSByZWYpIHtcbiAgICAgIHJlZnNba2V5XSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZub2RlLmRhdGEucmVmSW5Gb3IpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZWZzW2tleV0pKSB7XG4gICAgICAgIHJlZnNba2V5XSA9IFtyZWZdO1xuICAgICAgfSBlbHNlIGlmIChyZWZzW2tleV0uaW5kZXhPZihyZWYpIDwgMCkge1xuICAgICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAgICAgICAgcmVmc1trZXldLnB1c2gocmVmKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVmc1trZXldID0gcmVmO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFZpcnR1YWwgRE9NIHBhdGNoaW5nIGFsZ29yaXRobSBiYXNlZCBvbiBTbmFiYmRvbSBieVxuICogU2ltb24gRnJpaXMgVmluZHVtIChAcGFsZGVwaW5kKVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGFsZGVwaW5kL3NuYWJiZG9tL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqXG4gKiBtb2RpZmllZCBieSBFdmFuIFlvdSAoQHl5eDk5MDgwMylcbiAqXG4gKiBOb3QgdHlwZS1jaGVja2luZyB0aGlzIGJlY2F1c2UgdGhpcyBmaWxlIGlzIHBlcmYtY3JpdGljYWwgYW5kIHRoZSBjb3N0XG4gKiBvZiBtYWtpbmcgZmxvdyB1bmRlcnN0YW5kIGl0IGlzIG5vdCB3b3J0aCBpdC5cbiAqL1xuXG52YXIgZW1wdHlOb2RlID0gbmV3IFZOb2RlKCcnLCB7fSwgW10pO1xuXG52YXIgaG9va3MgPSBbJ2NyZWF0ZScsICdhY3RpdmF0ZScsICd1cGRhdGUnLCAncmVtb3ZlJywgJ2Rlc3Ryb3knXTtcblxuZnVuY3Rpb24gc2FtZVZub2RlIChhLCBiKSB7XG4gIHJldHVybiAoXG4gICAgYS5rZXkgPT09IGIua2V5ICYmIChcbiAgICAgIChcbiAgICAgICAgYS50YWcgPT09IGIudGFnICYmXG4gICAgICAgIGEuaXNDb21tZW50ID09PSBiLmlzQ29tbWVudCAmJlxuICAgICAgICBpc0RlZihhLmRhdGEpID09PSBpc0RlZihiLmRhdGEpICYmXG4gICAgICAgIHNhbWVJbnB1dFR5cGUoYSwgYilcbiAgICAgICkgfHwgKFxuICAgICAgICBpc1RydWUoYS5pc0FzeW5jUGxhY2Vob2xkZXIpICYmXG4gICAgICAgIGEuYXN5bmNGYWN0b3J5ID09PSBiLmFzeW5jRmFjdG9yeSAmJlxuICAgICAgICBpc1VuZGVmKGIuYXN5bmNGYWN0b3J5LmVycm9yKVxuICAgICAgKVxuICAgIClcbiAgKVxufVxuXG5mdW5jdGlvbiBzYW1lSW5wdXRUeXBlIChhLCBiKSB7XG4gIGlmIChhLnRhZyAhPT0gJ2lucHV0JykgeyByZXR1cm4gdHJ1ZSB9XG4gIHZhciBpO1xuICB2YXIgdHlwZUEgPSBpc0RlZihpID0gYS5kYXRhKSAmJiBpc0RlZihpID0gaS5hdHRycykgJiYgaS50eXBlO1xuICB2YXIgdHlwZUIgPSBpc0RlZihpID0gYi5kYXRhKSAmJiBpc0RlZihpID0gaS5hdHRycykgJiYgaS50eXBlO1xuICByZXR1cm4gdHlwZUEgPT09IHR5cGVCIHx8IGlzVGV4dElucHV0VHlwZSh0eXBlQSkgJiYgaXNUZXh0SW5wdXRUeXBlKHR5cGVCKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXlUb09sZElkeCAoY2hpbGRyZW4sIGJlZ2luSWR4LCBlbmRJZHgpIHtcbiAgdmFyIGksIGtleTtcbiAgdmFyIG1hcCA9IHt9O1xuICBmb3IgKGkgPSBiZWdpbklkeDsgaSA8PSBlbmRJZHg7ICsraSkge1xuICAgIGtleSA9IGNoaWxkcmVuW2ldLmtleTtcbiAgICBpZiAoaXNEZWYoa2V5KSkgeyBtYXBba2V5XSA9IGk7IH1cbiAgfVxuICByZXR1cm4gbWFwXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhdGNoRnVuY3Rpb24gKGJhY2tlbmQpIHtcbiAgdmFyIGksIGo7XG4gIHZhciBjYnMgPSB7fTtcblxuICB2YXIgbW9kdWxlcyA9IGJhY2tlbmQubW9kdWxlcztcbiAgdmFyIG5vZGVPcHMgPSBiYWNrZW5kLm5vZGVPcHM7XG5cbiAgZm9yIChpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgKytpKSB7XG4gICAgY2JzW2hvb2tzW2ldXSA9IFtdO1xuICAgIGZvciAoaiA9IDA7IGogPCBtb2R1bGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICBpZiAoaXNEZWYobW9kdWxlc1tqXVtob29rc1tpXV0pKSB7XG4gICAgICAgIGNic1tob29rc1tpXV0ucHVzaChtb2R1bGVzW2pdW2hvb2tzW2ldXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZW1wdHlOb2RlQXQgKGVsbSkge1xuICAgIHJldHVybiBuZXcgVk5vZGUobm9kZU9wcy50YWdOYW1lKGVsbSkudG9Mb3dlckNhc2UoKSwge30sIFtdLCB1bmRlZmluZWQsIGVsbSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJtQ2IgKGNoaWxkRWxtLCBsaXN0ZW5lcnMpIHtcbiAgICBmdW5jdGlvbiByZW1vdmUkJDEgKCkge1xuICAgICAgaWYgKC0tcmVtb3ZlJCQxLmxpc3RlbmVycyA9PT0gMCkge1xuICAgICAgICByZW1vdmVOb2RlKGNoaWxkRWxtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlJCQxLmxpc3RlbmVycyA9IGxpc3RlbmVycztcbiAgICByZXR1cm4gcmVtb3ZlJCQxXG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVOb2RlIChlbCkge1xuICAgIHZhciBwYXJlbnQgPSBub2RlT3BzLnBhcmVudE5vZGUoZWwpO1xuICAgIC8vIGVsZW1lbnQgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWQgZHVlIHRvIHYtaHRtbCAvIHYtdGV4dFxuICAgIGlmIChpc0RlZihwYXJlbnQpKSB7XG4gICAgICBub2RlT3BzLnJlbW92ZUNoaWxkKHBhcmVudCwgZWwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVW5rbm93bkVsZW1lbnQkJDEgKHZub2RlLCBpblZQcmUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIWluVlByZSAmJlxuICAgICAgIXZub2RlLm5zICYmXG4gICAgICAhKFxuICAgICAgICBjb25maWcuaWdub3JlZEVsZW1lbnRzLmxlbmd0aCAmJlxuICAgICAgICBjb25maWcuaWdub3JlZEVsZW1lbnRzLnNvbWUoZnVuY3Rpb24gKGlnbm9yZSkge1xuICAgICAgICAgIHJldHVybiBpc1JlZ0V4cChpZ25vcmUpXG4gICAgICAgICAgICA/IGlnbm9yZS50ZXN0KHZub2RlLnRhZylcbiAgICAgICAgICAgIDogaWdub3JlID09PSB2bm9kZS50YWdcbiAgICAgICAgfSlcbiAgICAgICkgJiZcbiAgICAgIGNvbmZpZy5pc1Vua25vd25FbGVtZW50KHZub2RlLnRhZylcbiAgICApXG4gIH1cblxuICB2YXIgY3JlYXRpbmdFbG1JblZQcmUgPSAwO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsbSAoXG4gICAgdm5vZGUsXG4gICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLFxuICAgIHBhcmVudEVsbSxcbiAgICByZWZFbG0sXG4gICAgbmVzdGVkLFxuICAgIG93bmVyQXJyYXksXG4gICAgaW5kZXhcbiAgKSB7XG4gICAgaWYgKGlzRGVmKHZub2RlLmVsbSkgJiYgaXNEZWYob3duZXJBcnJheSkpIHtcbiAgICAgIC8vIFRoaXMgdm5vZGUgd2FzIHVzZWQgaW4gYSBwcmV2aW91cyByZW5kZXIhXG4gICAgICAvLyBub3cgaXQncyB1c2VkIGFzIGEgbmV3IG5vZGUsIG92ZXJ3cml0aW5nIGl0cyBlbG0gd291bGQgY2F1c2VcbiAgICAgIC8vIHBvdGVudGlhbCBwYXRjaCBlcnJvcnMgZG93biB0aGUgcm9hZCB3aGVuIGl0J3MgdXNlZCBhcyBhbiBpbnNlcnRpb25cbiAgICAgIC8vIHJlZmVyZW5jZSBub2RlLiBJbnN0ZWFkLCB3ZSBjbG9uZSB0aGUgbm9kZSBvbi1kZW1hbmQgYmVmb3JlIGNyZWF0aW5nXG4gICAgICAvLyBhc3NvY2lhdGVkIERPTSBlbGVtZW50IGZvciBpdC5cbiAgICAgIHZub2RlID0gb3duZXJBcnJheVtpbmRleF0gPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICB9XG5cbiAgICB2bm9kZS5pc1Jvb3RJbnNlcnQgPSAhbmVzdGVkOyAvLyBmb3IgdHJhbnNpdGlvbiBlbnRlciBjaGVja1xuICAgIGlmIChjcmVhdGVDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0pKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgdmFyIGNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gICAgdmFyIHRhZyA9IHZub2RlLnRhZztcbiAgICBpZiAoaXNEZWYodGFnKSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5wcmUpIHtcbiAgICAgICAgICBjcmVhdGluZ0VsbUluVlByZSsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Vua25vd25FbGVtZW50JCQxKHZub2RlLCBjcmVhdGluZ0VsbUluVlByZSkpIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgJ1Vua25vd24gY3VzdG9tIGVsZW1lbnQ6IDwnICsgdGFnICsgJz4gLSBkaWQgeW91ICcgK1xuICAgICAgICAgICAgJ3JlZ2lzdGVyIHRoZSBjb21wb25lbnQgY29ycmVjdGx5PyBGb3IgcmVjdXJzaXZlIGNvbXBvbmVudHMsICcgK1xuICAgICAgICAgICAgJ21ha2Ugc3VyZSB0byBwcm92aWRlIHRoZSBcIm5hbWVcIiBvcHRpb24uJyxcbiAgICAgICAgICAgIHZub2RlLmNvbnRleHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZub2RlLmVsbSA9IHZub2RlLm5zXG4gICAgICAgID8gbm9kZU9wcy5jcmVhdGVFbGVtZW50TlModm5vZGUubnMsIHRhZylcbiAgICAgICAgOiBub2RlT3BzLmNyZWF0ZUVsZW1lbnQodGFnLCB2bm9kZSk7XG4gICAgICBzZXRTY29wZSh2bm9kZSk7XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAge1xuICAgICAgICBjcmVhdGVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIGlmIChpc0RlZihkYXRhKSkge1xuICAgICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICB9XG4gICAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZGF0YSAmJiBkYXRhLnByZSkge1xuICAgICAgICBjcmVhdGluZ0VsbUluVlByZS0tO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNUcnVlKHZub2RlLmlzQ29tbWVudCkpIHtcbiAgICAgIHZub2RlLmVsbSA9IG5vZGVPcHMuY3JlYXRlQ29tbWVudCh2bm9kZS50ZXh0KTtcbiAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm5vZGUuZWxtID0gbm9kZU9wcy5jcmVhdGVUZXh0Tm9kZSh2bm9kZS50ZXh0KTtcbiAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQgKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgcmVmRWxtKSB7XG4gICAgdmFyIGkgPSB2bm9kZS5kYXRhO1xuICAgIGlmIChpc0RlZihpKSkge1xuICAgICAgdmFyIGlzUmVhY3RpdmF0ZWQgPSBpc0RlZih2bm9kZS5jb21wb25lbnRJbnN0YW5jZSkgJiYgaS5rZWVwQWxpdmU7XG4gICAgICBpZiAoaXNEZWYoaSA9IGkuaG9vaykgJiYgaXNEZWYoaSA9IGkuaW5pdCkpIHtcbiAgICAgICAgaSh2bm9kZSwgZmFsc2UgLyogaHlkcmF0aW5nICovKTtcbiAgICAgIH1cbiAgICAgIC8vIGFmdGVyIGNhbGxpbmcgdGhlIGluaXQgaG9vaywgaWYgdGhlIHZub2RlIGlzIGEgY2hpbGQgY29tcG9uZW50XG4gICAgICAvLyBpdCBzaG91bGQndmUgY3JlYXRlZCBhIGNoaWxkIGluc3RhbmNlIGFuZCBtb3VudGVkIGl0LiB0aGUgY2hpbGRcbiAgICAgIC8vIGNvbXBvbmVudCBhbHNvIGhhcyBzZXQgdGhlIHBsYWNlaG9sZGVyIHZub2RlJ3MgZWxtLlxuICAgICAgLy8gaW4gdGhhdCBjYXNlIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgZWxlbWVudCBhbmQgYmUgZG9uZS5cbiAgICAgIGlmIChpc0RlZih2bm9kZS5jb21wb25lbnRJbnN0YW5jZSkpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgaW5zZXJ0KHBhcmVudEVsbSwgdm5vZGUuZWxtLCByZWZFbG0pO1xuICAgICAgICBpZiAoaXNUcnVlKGlzUmVhY3RpdmF0ZWQpKSB7XG4gICAgICAgICAgcmVhY3RpdmF0ZUNvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIHJlZkVsbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q29tcG9uZW50ICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgaWYgKGlzRGVmKHZub2RlLmRhdGEucGVuZGluZ0luc2VydCkpIHtcbiAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoLmFwcGx5KGluc2VydGVkVm5vZGVRdWV1ZSwgdm5vZGUuZGF0YS5wZW5kaW5nSW5zZXJ0KTtcbiAgICAgIHZub2RlLmRhdGEucGVuZGluZ0luc2VydCA9IG51bGw7XG4gICAgfVxuICAgIHZub2RlLmVsbSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlLiRlbDtcbiAgICBpZiAoaXNQYXRjaGFibGUodm5vZGUpKSB7XG4gICAgICBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgIHNldFNjb3BlKHZub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZW1wdHkgY29tcG9uZW50IHJvb3QuXG4gICAgICAvLyBza2lwIGFsbCBlbGVtZW50LXJlbGF0ZWQgbW9kdWxlcyBleGNlcHQgZm9yIHJlZiAoIzM0NTUpXG4gICAgICByZWdpc3RlclJlZih2bm9kZSk7XG4gICAgICAvLyBtYWtlIHN1cmUgdG8gaW52b2tlIHRoZSBpbnNlcnQgaG9va1xuICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2godm5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWN0aXZhdGVDb21wb25lbnQgKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgcmVmRWxtKSB7XG4gICAgdmFyIGk7XG4gICAgLy8gaGFjayBmb3IgIzQzMzk6IGEgcmVhY3RpdmF0ZWQgY29tcG9uZW50IHdpdGggaW5uZXIgdHJhbnNpdGlvblxuICAgIC8vIGRvZXMgbm90IHRyaWdnZXIgYmVjYXVzZSB0aGUgaW5uZXIgbm9kZSdzIGNyZWF0ZWQgaG9va3MgYXJlIG5vdCBjYWxsZWRcbiAgICAvLyBhZ2Fpbi4gSXQncyBub3QgaWRlYWwgdG8gaW52b2x2ZSBtb2R1bGUtc3BlY2lmaWMgbG9naWMgaW4gaGVyZSBidXRcbiAgICAvLyB0aGVyZSBkb2Vzbid0IHNlZW0gdG8gYmUgYSBiZXR0ZXIgd2F5IHRvIGRvIGl0LlxuICAgIHZhciBpbm5lck5vZGUgPSB2bm9kZTtcbiAgICB3aGlsZSAoaW5uZXJOb2RlLmNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgICBpbm5lck5vZGUgPSBpbm5lck5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlO1xuICAgICAgaWYgKGlzRGVmKGkgPSBpbm5lck5vZGUuZGF0YSkgJiYgaXNEZWYoaSA9IGkudHJhbnNpdGlvbikpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5hY3RpdmF0ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGNicy5hY3RpdmF0ZVtpXShlbXB0eU5vZGUsIGlubmVyTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2goaW5uZXJOb2RlKTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gdW5saWtlIGEgbmV3bHkgY3JlYXRlZCBjb21wb25lbnQsXG4gICAgLy8gYSByZWFjdGl2YXRlZCBrZWVwLWFsaXZlIGNvbXBvbmVudCBkb2Vzbid0IGluc2VydCBpdHNlbGZcbiAgICBpbnNlcnQocGFyZW50RWxtLCB2bm9kZS5lbG0sIHJlZkVsbSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbnNlcnQgKHBhcmVudCwgZWxtLCByZWYkJDEpIHtcbiAgICBpZiAoaXNEZWYocGFyZW50KSkge1xuICAgICAgaWYgKGlzRGVmKHJlZiQkMSkpIHtcbiAgICAgICAgaWYgKG5vZGVPcHMucGFyZW50Tm9kZShyZWYkJDEpID09PSBwYXJlbnQpIHtcbiAgICAgICAgICBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnQsIGVsbSwgcmVmJCQxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZU9wcy5hcHBlbmRDaGlsZChwYXJlbnQsIGVsbSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ2hpbGRyZW4gKHZub2RlLCBjaGlsZHJlbiwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBjaGVja0R1cGxpY2F0ZUtleXMoY2hpbGRyZW4pO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICBjcmVhdGVFbG0oY2hpbGRyZW5baV0sIGluc2VydGVkVm5vZGVRdWV1ZSwgdm5vZGUuZWxtLCBudWxsLCB0cnVlLCBjaGlsZHJlbiwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ByaW1pdGl2ZSh2bm9kZS50ZXh0KSkge1xuICAgICAgbm9kZU9wcy5hcHBlbmRDaGlsZCh2bm9kZS5lbG0sIG5vZGVPcHMuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKHZub2RlLnRleHQpKSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNQYXRjaGFibGUgKHZub2RlKSB7XG4gICAgd2hpbGUgKHZub2RlLmNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgICB2bm9kZSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGlzRGVmKHZub2RlLnRhZylcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUNyZWF0ZUhvb2tzICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSQxKSB7XG4gICAgICBjYnMuY3JlYXRlW2kkMV0oZW1wdHlOb2RlLCB2bm9kZSk7XG4gICAgfVxuICAgIGkgPSB2bm9kZS5kYXRhLmhvb2s7IC8vIFJldXNlIHZhcmlhYmxlXG4gICAgaWYgKGlzRGVmKGkpKSB7XG4gICAgICBpZiAoaXNEZWYoaS5jcmVhdGUpKSB7IGkuY3JlYXRlKGVtcHR5Tm9kZSwgdm5vZGUpOyB9XG4gICAgICBpZiAoaXNEZWYoaS5pbnNlcnQpKSB7IGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoKHZub2RlKTsgfVxuICAgIH1cbiAgfVxuXG4gIC8vIHNldCBzY29wZSBpZCBhdHRyaWJ1dGUgZm9yIHNjb3BlZCBDU1MuXG4gIC8vIHRoaXMgaXMgaW1wbGVtZW50ZWQgYXMgYSBzcGVjaWFsIGNhc2UgdG8gYXZvaWQgdGhlIG92ZXJoZWFkXG4gIC8vIG9mIGdvaW5nIHRocm91Z2ggdGhlIG5vcm1hbCBhdHRyaWJ1dGUgcGF0Y2hpbmcgcHJvY2Vzcy5cbiAgZnVuY3Rpb24gc2V0U2NvcGUgKHZub2RlKSB7XG4gICAgdmFyIGk7XG4gICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5mblNjb3BlSWQpKSB7XG4gICAgICBub2RlT3BzLnNldFN0eWxlU2NvcGUodm5vZGUuZWxtLCBpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFuY2VzdG9yID0gdm5vZGU7XG4gICAgICB3aGlsZSAoYW5jZXN0b3IpIHtcbiAgICAgICAgaWYgKGlzRGVmKGkgPSBhbmNlc3Rvci5jb250ZXh0KSAmJiBpc0RlZihpID0gaS4kb3B0aW9ucy5fc2NvcGVJZCkpIHtcbiAgICAgICAgICBub2RlT3BzLnNldFN0eWxlU2NvcGUodm5vZGUuZWxtLCBpKTtcbiAgICAgICAgfVxuICAgICAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gZm9yIHNsb3QgY29udGVudCB0aGV5IHNob3VsZCBhbHNvIGdldCB0aGUgc2NvcGVJZCBmcm9tIHRoZSBob3N0IGluc3RhbmNlLlxuICAgIGlmIChpc0RlZihpID0gYWN0aXZlSW5zdGFuY2UpICYmXG4gICAgICBpICE9PSB2bm9kZS5jb250ZXh0ICYmXG4gICAgICBpICE9PSB2bm9kZS5mbkNvbnRleHQgJiZcbiAgICAgIGlzRGVmKGkgPSBpLiRvcHRpb25zLl9zY29wZUlkKVxuICAgICkge1xuICAgICAgbm9kZU9wcy5zZXRTdHlsZVNjb3BlKHZub2RlLmVsbSwgaSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkVm5vZGVzIChwYXJlbnRFbG0sIHJlZkVsbSwgdm5vZGVzLCBzdGFydElkeCwgZW5kSWR4LCBpbnNlcnRlZFZub2RlUXVldWUpIHtcbiAgICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgICBjcmVhdGVFbG0odm5vZGVzW3N0YXJ0SWR4XSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIHJlZkVsbSwgZmFsc2UsIHZub2Rlcywgc3RhcnRJZHgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZURlc3Ryb3lIb29rICh2bm9kZSkge1xuICAgIHZhciBpLCBqO1xuICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgICBpZiAoaXNEZWYoZGF0YSkpIHtcbiAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5kZXN0cm95KSkgeyBpKHZub2RlKTsgfVxuICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5kZXN0cm95Lmxlbmd0aDsgKytpKSB7IGNicy5kZXN0cm95W2ldKHZub2RlKTsgfVxuICAgIH1cbiAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmNoaWxkcmVuKSkge1xuICAgICAgZm9yIChqID0gMDsgaiA8IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIGludm9rZURlc3Ryb3lIb29rKHZub2RlLmNoaWxkcmVuW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVWbm9kZXMgKHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCkge1xuICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICAgIHZhciBjaCA9IHZub2Rlc1tzdGFydElkeF07XG4gICAgICBpZiAoaXNEZWYoY2gpKSB7XG4gICAgICAgIGlmIChpc0RlZihjaC50YWcpKSB7XG4gICAgICAgICAgcmVtb3ZlQW5kSW52b2tlUmVtb3ZlSG9vayhjaCk7XG4gICAgICAgICAgaW52b2tlRGVzdHJveUhvb2soY2gpO1xuICAgICAgICB9IGVsc2UgeyAvLyBUZXh0IG5vZGVcbiAgICAgICAgICByZW1vdmVOb2RlKGNoLmVsbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rICh2bm9kZSwgcm0pIHtcbiAgICBpZiAoaXNEZWYocm0pIHx8IGlzRGVmKHZub2RlLmRhdGEpKSB7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBjYnMucmVtb3ZlLmxlbmd0aCArIDE7XG4gICAgICBpZiAoaXNEZWYocm0pKSB7XG4gICAgICAgIC8vIHdlIGhhdmUgYSByZWN1cnNpdmVseSBwYXNzZWQgZG93biBybSBjYWxsYmFja1xuICAgICAgICAvLyBpbmNyZWFzZSB0aGUgbGlzdGVuZXJzIGNvdW50XG4gICAgICAgIHJtLmxpc3RlbmVycyArPSBsaXN0ZW5lcnM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkaXJlY3RseSByZW1vdmluZ1xuICAgICAgICBybSA9IGNyZWF0ZVJtQ2Iodm5vZGUuZWxtLCBsaXN0ZW5lcnMpO1xuICAgICAgfVxuICAgICAgLy8gcmVjdXJzaXZlbHkgaW52b2tlIGhvb2tzIG9uIGNoaWxkIGNvbXBvbmVudCByb290IG5vZGVcbiAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UpICYmIGlzRGVmKGkgPSBpLl92bm9kZSkgJiYgaXNEZWYoaS5kYXRhKSkge1xuICAgICAgICByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rKGksIHJtKTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMucmVtb3ZlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNicy5yZW1vdmVbaV0odm5vZGUsIHJtKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5yZW1vdmUpKSB7XG4gICAgICAgIGkodm5vZGUsIHJtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJtKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZU5vZGUodm5vZGUuZWxtKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVDaGlsZHJlbiAocGFyZW50RWxtLCBvbGRDaCwgbmV3Q2gsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSkge1xuICAgIHZhciBvbGRTdGFydElkeCA9IDA7XG4gICAgdmFyIG5ld1N0YXJ0SWR4ID0gMDtcbiAgICB2YXIgb2xkRW5kSWR4ID0gb2xkQ2gubGVuZ3RoIC0gMTtcbiAgICB2YXIgb2xkU3RhcnRWbm9kZSA9IG9sZENoWzBdO1xuICAgIHZhciBvbGRFbmRWbm9kZSA9IG9sZENoW29sZEVuZElkeF07XG4gICAgdmFyIG5ld0VuZElkeCA9IG5ld0NoLmxlbmd0aCAtIDE7XG4gICAgdmFyIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFswXTtcbiAgICB2YXIgbmV3RW5kVm5vZGUgPSBuZXdDaFtuZXdFbmRJZHhdO1xuICAgIHZhciBvbGRLZXlUb0lkeCwgaWR4SW5PbGQsIHZub2RlVG9Nb3ZlLCByZWZFbG07XG5cbiAgICAvLyByZW1vdmVPbmx5IGlzIGEgc3BlY2lhbCBmbGFnIHVzZWQgb25seSBieSA8dHJhbnNpdGlvbi1ncm91cD5cbiAgICAvLyB0byBlbnN1cmUgcmVtb3ZlZCBlbGVtZW50cyBzdGF5IGluIGNvcnJlY3QgcmVsYXRpdmUgcG9zaXRpb25zXG4gICAgLy8gZHVyaW5nIGxlYXZpbmcgdHJhbnNpdGlvbnNcbiAgICB2YXIgY2FuTW92ZSA9ICFyZW1vdmVPbmx5O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNoZWNrRHVwbGljYXRlS2V5cyhuZXdDaCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICAgIGlmIChpc1VuZGVmKG9sZFN0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTsgLy8gVm5vZGUgaGFzIGJlZW4gbW92ZWQgbGVmdFxuICAgICAgfSBlbHNlIGlmIChpc1VuZGVmKG9sZEVuZFZub2RlKSkge1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpO1xuICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbmV3Q2gsIG5ld0VuZElkeCk7XG4gICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlKSkgeyAvLyBWbm9kZSBtb3ZlZCByaWdodFxuICAgICAgICBwYXRjaFZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdFbmRJZHgpO1xuICAgICAgICBjYW5Nb3ZlICYmIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIG5vZGVPcHMubmV4dFNpYmxpbmcob2xkRW5kVm5vZGUuZWxtKSk7XG4gICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHsgLy8gVm5vZGUgbW92ZWQgbGVmdFxuICAgICAgICBwYXRjaFZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdTdGFydElkeCk7XG4gICAgICAgIGNhbk1vdmUgJiYgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBvbGRFbmRWbm9kZS5lbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcbiAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1VuZGVmKG9sZEtleVRvSWR4KSkgeyBvbGRLZXlUb0lkeCA9IGNyZWF0ZUtleVRvT2xkSWR4KG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTsgfVxuICAgICAgICBpZHhJbk9sZCA9IGlzRGVmKG5ld1N0YXJ0Vm5vZGUua2V5KVxuICAgICAgICAgID8gb2xkS2V5VG9JZHhbbmV3U3RhcnRWbm9kZS5rZXldXG4gICAgICAgICAgOiBmaW5kSWR4SW5PbGQobmV3U3RhcnRWbm9kZSwgb2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgICAgICBpZiAoaXNVbmRlZihpZHhJbk9sZCkpIHsgLy8gTmV3IGVsZW1lbnRcbiAgICAgICAgICBjcmVhdGVFbG0obmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtLCBmYWxzZSwgbmV3Q2gsIG5ld1N0YXJ0SWR4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bm9kZVRvTW92ZSA9IG9sZENoW2lkeEluT2xkXTtcbiAgICAgICAgICBpZiAoc2FtZVZub2RlKHZub2RlVG9Nb3ZlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgICAgICAgcGF0Y2hWbm9kZSh2bm9kZVRvTW92ZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpO1xuICAgICAgICAgICAgb2xkQ2hbaWR4SW5PbGRdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIHZub2RlVG9Nb3ZlLmVsbSwgb2xkU3RhcnRWbm9kZS5lbG0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzYW1lIGtleSBidXQgZGlmZmVyZW50IGVsZW1lbnQuIHRyZWF0IGFzIG5ldyBlbGVtZW50XG4gICAgICAgICAgICBjcmVhdGVFbG0obmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtLCBmYWxzZSwgbmV3Q2gsIG5ld1N0YXJ0SWR4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob2xkU3RhcnRJZHggPiBvbGRFbmRJZHgpIHtcbiAgICAgIHJlZkVsbSA9IGlzVW5kZWYobmV3Q2hbbmV3RW5kSWR4ICsgMV0pID8gbnVsbCA6IG5ld0NoW25ld0VuZElkeCArIDFdLmVsbTtcbiAgICAgIGFkZFZub2RlcyhwYXJlbnRFbG0sIHJlZkVsbSwgbmV3Q2gsIG5ld1N0YXJ0SWR4LCBuZXdFbmRJZHgsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgfSBlbHNlIGlmIChuZXdTdGFydElkeCA+IG5ld0VuZElkeCkge1xuICAgICAgcmVtb3ZlVm5vZGVzKG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0R1cGxpY2F0ZUtleXMgKGNoaWxkcmVuKSB7XG4gICAgdmFyIHNlZW5LZXlzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZub2RlID0gY2hpbGRyZW5baV07XG4gICAgICB2YXIga2V5ID0gdm5vZGUua2V5O1xuICAgICAgaWYgKGlzRGVmKGtleSkpIHtcbiAgICAgICAgaWYgKHNlZW5LZXlzW2tleV0pIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgKFwiRHVwbGljYXRlIGtleXMgZGV0ZWN0ZWQ6ICdcIiArIGtleSArIFwiJy4gVGhpcyBtYXkgY2F1c2UgYW4gdXBkYXRlIGVycm9yLlwiKSxcbiAgICAgICAgICAgIHZub2RlLmNvbnRleHRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlZW5LZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmluZElkeEluT2xkIChub2RlLCBvbGRDaCwgc3RhcnQsIGVuZCkge1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IG9sZENoW2ldO1xuICAgICAgaWYgKGlzRGVmKGMpICYmIHNhbWVWbm9kZShub2RlLCBjKSkgeyByZXR1cm4gaSB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF0Y2hWbm9kZSAoXG4gICAgb2xkVm5vZGUsXG4gICAgdm5vZGUsXG4gICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLFxuICAgIG93bmVyQXJyYXksXG4gICAgaW5kZXgsXG4gICAgcmVtb3ZlT25seVxuICApIHtcbiAgICBpZiAob2xkVm5vZGUgPT09IHZub2RlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoaXNEZWYodm5vZGUuZWxtKSAmJiBpc0RlZihvd25lckFycmF5KSkge1xuICAgICAgLy8gY2xvbmUgcmV1c2VkIHZub2RlXG4gICAgICB2bm9kZSA9IG93bmVyQXJyYXlbaW5kZXhdID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgfVxuXG4gICAgdmFyIGVsbSA9IHZub2RlLmVsbSA9IG9sZFZub2RlLmVsbTtcblxuICAgIGlmIChpc1RydWUob2xkVm5vZGUuaXNBc3luY1BsYWNlaG9sZGVyKSkge1xuICAgICAgaWYgKGlzRGVmKHZub2RlLmFzeW5jRmFjdG9yeS5yZXNvbHZlZCkpIHtcbiAgICAgICAgaHlkcmF0ZShvbGRWbm9kZS5lbG0sIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm5vZGUuaXNBc3luY1BsYWNlaG9sZGVyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIHJldXNlIGVsZW1lbnQgZm9yIHN0YXRpYyB0cmVlcy5cbiAgICAvLyBub3RlIHdlIG9ubHkgZG8gdGhpcyBpZiB0aGUgdm5vZGUgaXMgY2xvbmVkIC1cbiAgICAvLyBpZiB0aGUgbmV3IG5vZGUgaXMgbm90IGNsb25lZCBpdCBtZWFucyB0aGUgcmVuZGVyIGZ1bmN0aW9ucyBoYXZlIGJlZW5cbiAgICAvLyByZXNldCBieSB0aGUgaG90LXJlbG9hZC1hcGkgYW5kIHdlIG5lZWQgdG8gZG8gYSBwcm9wZXIgcmUtcmVuZGVyLlxuICAgIGlmIChpc1RydWUodm5vZGUuaXNTdGF0aWMpICYmXG4gICAgICBpc1RydWUob2xkVm5vZGUuaXNTdGF0aWMpICYmXG4gICAgICB2bm9kZS5rZXkgPT09IG9sZFZub2RlLmtleSAmJlxuICAgICAgKGlzVHJ1ZSh2bm9kZS5pc0Nsb25lZCkgfHwgaXNUcnVlKHZub2RlLmlzT25jZSkpXG4gICAgKSB7XG4gICAgICB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IG9sZFZub2RlLmNvbXBvbmVudEluc3RhbmNlO1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIGk7XG4gICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICAgIGlmIChpc0RlZihkYXRhKSAmJiBpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5wcmVwYXRjaCkpIHtcbiAgICAgIGkob2xkVm5vZGUsIHZub2RlKTtcbiAgICB9XG5cbiAgICB2YXIgb2xkQ2ggPSBvbGRWbm9kZS5jaGlsZHJlbjtcbiAgICB2YXIgY2ggPSB2bm9kZS5jaGlsZHJlbjtcbiAgICBpZiAoaXNEZWYoZGF0YSkgJiYgaXNQYXRjaGFibGUodm5vZGUpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLnVwZGF0ZS5sZW5ndGg7ICsraSkgeyBjYnMudXBkYXRlW2ldKG9sZFZub2RlLCB2bm9kZSk7IH1cbiAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS51cGRhdGUpKSB7IGkob2xkVm5vZGUsIHZub2RlKTsgfVxuICAgIH1cbiAgICBpZiAoaXNVbmRlZih2bm9kZS50ZXh0KSkge1xuICAgICAgaWYgKGlzRGVmKG9sZENoKSAmJiBpc0RlZihjaCkpIHtcbiAgICAgICAgaWYgKG9sZENoICE9PSBjaCkgeyB1cGRhdGVDaGlsZHJlbihlbG0sIG9sZENoLCBjaCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KTsgfVxuICAgICAgfSBlbHNlIGlmIChpc0RlZihjaCkpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjaGVja0R1cGxpY2F0ZUtleXMoY2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0RlZihvbGRWbm9kZS50ZXh0KSkgeyBub2RlT3BzLnNldFRleHRDb250ZW50KGVsbSwgJycpOyB9XG4gICAgICAgIGFkZFZub2RlcyhlbG0sIG51bGwsIGNoLCAwLCBjaC5sZW5ndGggLSAxLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRDaCkpIHtcbiAgICAgICAgcmVtb3ZlVm5vZGVzKG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNEZWYob2xkVm5vZGUudGV4dCkpIHtcbiAgICAgICAgbm9kZU9wcy5zZXRUZXh0Q29udGVudChlbG0sICcnKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9sZFZub2RlLnRleHQgIT09IHZub2RlLnRleHQpIHtcbiAgICAgIG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCB2bm9kZS50ZXh0KTtcbiAgICB9XG4gICAgaWYgKGlzRGVmKGRhdGEpKSB7XG4gICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkucG9zdHBhdGNoKSkgeyBpKG9sZFZub2RlLCB2bm9kZSk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VJbnNlcnRIb29rICh2bm9kZSwgcXVldWUsIGluaXRpYWwpIHtcbiAgICAvLyBkZWxheSBpbnNlcnQgaG9va3MgZm9yIGNvbXBvbmVudCByb290IG5vZGVzLCBpbnZva2UgdGhlbSBhZnRlciB0aGVcbiAgICAvLyBlbGVtZW50IGlzIHJlYWxseSBpbnNlcnRlZFxuICAgIGlmIChpc1RydWUoaW5pdGlhbCkgJiYgaXNEZWYodm5vZGUucGFyZW50KSkge1xuICAgICAgdm5vZGUucGFyZW50LmRhdGEucGVuZGluZ0luc2VydCA9IHF1ZXVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHF1ZXVlW2ldLmRhdGEuaG9vay5pbnNlcnQocXVldWVbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBoeWRyYXRpb25CYWlsZWQgPSBmYWxzZTtcbiAgLy8gbGlzdCBvZiBtb2R1bGVzIHRoYXQgY2FuIHNraXAgY3JlYXRlIGhvb2sgZHVyaW5nIGh5ZHJhdGlvbiBiZWNhdXNlIHRoZXlcbiAgLy8gYXJlIGFscmVhZHkgcmVuZGVyZWQgb24gdGhlIGNsaWVudCBvciBoYXMgbm8gbmVlZCBmb3IgaW5pdGlhbGl6YXRpb25cbiAgLy8gTm90ZTogc3R5bGUgaXMgZXhjbHVkZWQgYmVjYXVzZSBpdCByZWxpZXMgb24gaW5pdGlhbCBjbG9uZSBmb3IgZnV0dXJlXG4gIC8vIGRlZXAgdXBkYXRlcyAoIzcwNjMpLlxuICB2YXIgaXNSZW5kZXJlZE1vZHVsZSA9IG1ha2VNYXAoJ2F0dHJzLGNsYXNzLHN0YXRpY0NsYXNzLHN0YXRpY1N0eWxlLGtleScpO1xuXG4gIC8vIE5vdGU6IHRoaXMgaXMgYSBicm93c2VyLW9ubHkgZnVuY3Rpb24gc28gd2UgY2FuIGFzc3VtZSBlbG1zIGFyZSBET00gbm9kZXMuXG4gIGZ1bmN0aW9uIGh5ZHJhdGUgKGVsbSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgaW5WUHJlKSB7XG4gICAgdmFyIGk7XG4gICAgdmFyIHRhZyA9IHZub2RlLnRhZztcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgdmFyIGNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gICAgaW5WUHJlID0gaW5WUHJlIHx8IChkYXRhICYmIGRhdGEucHJlKTtcbiAgICB2bm9kZS5lbG0gPSBlbG07XG5cbiAgICBpZiAoaXNUcnVlKHZub2RlLmlzQ29tbWVudCkgJiYgaXNEZWYodm5vZGUuYXN5bmNGYWN0b3J5KSkge1xuICAgICAgdm5vZGUuaXNBc3luY1BsYWNlaG9sZGVyID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIC8vIGFzc2VydCBub2RlIG1hdGNoXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICghYXNzZXJ0Tm9kZU1hdGNoKGVsbSwgdm5vZGUsIGluVlByZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0RlZihkYXRhKSkge1xuICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLmluaXQpKSB7IGkodm5vZGUsIHRydWUgLyogaHlkcmF0aW5nICovKTsgfVxuICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSkpIHtcbiAgICAgICAgLy8gY2hpbGQgY29tcG9uZW50LiBpdCBzaG91bGQgaGF2ZSBoeWRyYXRlZCBpdHMgb3duIHRyZWUuXG4gICAgICAgIGluaXRDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0RlZih0YWcpKSB7XG4gICAgICBpZiAoaXNEZWYoY2hpbGRyZW4pKSB7XG4gICAgICAgIC8vIGVtcHR5IGVsZW1lbnQsIGFsbG93IGNsaWVudCB0byBwaWNrIHVwIGFuZCBwb3B1bGF0ZSBjaGlsZHJlblxuICAgICAgICBpZiAoIWVsbS5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICBjcmVhdGVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdi1odG1sIGFuZCBkb21Qcm9wczogaW5uZXJIVE1MXG4gICAgICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhKSAmJiBpc0RlZihpID0gaS5kb21Qcm9wcykgJiYgaXNEZWYoaSA9IGkuaW5uZXJIVE1MKSkge1xuICAgICAgICAgICAgaWYgKGkgIT09IGVsbS5pbm5lckhUTUwpIHtcbiAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICAgIWh5ZHJhdGlvbkJhaWxlZFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBoeWRyYXRpb25CYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignUGFyZW50OiAnLCBlbG0pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybignc2VydmVyIGlubmVySFRNTDogJywgaSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdjbGllbnQgaW5uZXJIVE1MOiAnLCBlbG0uaW5uZXJIVE1MKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaXRlcmF0ZSBhbmQgY29tcGFyZSBjaGlsZHJlbiBsaXN0c1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuTWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGNoaWxkTm9kZSA9IGVsbS5maXJzdENoaWxkO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2hpbGRyZW4ubGVuZ3RoOyBpJDErKykge1xuICAgICAgICAgICAgICBpZiAoIWNoaWxkTm9kZSB8fCAhaHlkcmF0ZShjaGlsZE5vZGUsIGNoaWxkcmVuW2kkMV0sIGluc2VydGVkVm5vZGVRdWV1ZSwgaW5WUHJlKSkge1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuTWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGNoaWxkTm9kZSBpcyBub3QgbnVsbCwgaXQgbWVhbnMgdGhlIGFjdHVhbCBjaGlsZE5vZGVzIGxpc3QgaXNcbiAgICAgICAgICAgIC8vIGxvbmdlciB0aGFuIHRoZSB2aXJ0dWFsIGNoaWxkcmVuIGxpc3QuXG4gICAgICAgICAgICBpZiAoIWNoaWxkcmVuTWF0Y2ggfHwgY2hpbGROb2RlKSB7XG4gICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgICAgICFoeWRyYXRpb25CYWlsZWRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaHlkcmF0aW9uQmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BhcmVudDogJywgZWxtKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ01pc21hdGNoaW5nIGNoaWxkTm9kZXMgdnMuIFZOb2RlczogJywgZWxtLmNoaWxkTm9kZXMsIGNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0RlZihkYXRhKSkge1xuICAgICAgICB2YXIgZnVsbEludm9rZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgIGlmICghaXNSZW5kZXJlZE1vZHVsZShrZXkpKSB7XG4gICAgICAgICAgICBmdWxsSW52b2tlID0gdHJ1ZTtcbiAgICAgICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmdWxsSW52b2tlICYmIGRhdGFbJ2NsYXNzJ10pIHtcbiAgICAgICAgICAvLyBlbnN1cmUgY29sbGVjdGluZyBkZXBzIGZvciBkZWVwIGNsYXNzIGJpbmRpbmdzIGZvciBmdXR1cmUgdXBkYXRlc1xuICAgICAgICAgIHRyYXZlcnNlKGRhdGFbJ2NsYXNzJ10pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbG0uZGF0YSAhPT0gdm5vZGUudGV4dCkge1xuICAgICAgZWxtLmRhdGEgPSB2bm9kZS50ZXh0O1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gYXNzZXJ0Tm9kZU1hdGNoIChub2RlLCB2bm9kZSwgaW5WUHJlKSB7XG4gICAgaWYgKGlzRGVmKHZub2RlLnRhZykpIHtcbiAgICAgIHJldHVybiB2bm9kZS50YWcuaW5kZXhPZigndnVlLWNvbXBvbmVudCcpID09PSAwIHx8IChcbiAgICAgICAgIWlzVW5rbm93bkVsZW1lbnQkJDEodm5vZGUsIGluVlByZSkgJiZcbiAgICAgICAgdm5vZGUudGFnLnRvTG93ZXJDYXNlKCkgPT09IChub2RlLnRhZ05hbWUgJiYgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAodm5vZGUuaXNDb21tZW50ID8gOCA6IDMpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHBhdGNoIChvbGRWbm9kZSwgdm5vZGUsIGh5ZHJhdGluZywgcmVtb3ZlT25seSkge1xuICAgIGlmIChpc1VuZGVmKHZub2RlKSkge1xuICAgICAgaWYgKGlzRGVmKG9sZFZub2RlKSkgeyBpbnZva2VEZXN0cm95SG9vayhvbGRWbm9kZSk7IH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHZhciBpc0luaXRpYWxQYXRjaCA9IGZhbHNlO1xuICAgIHZhciBpbnNlcnRlZFZub2RlUXVldWUgPSBbXTtcblxuICAgIGlmIChpc1VuZGVmKG9sZFZub2RlKSkge1xuICAgICAgLy8gZW1wdHkgbW91bnQgKGxpa2VseSBhcyBjb21wb25lbnQpLCBjcmVhdGUgbmV3IHJvb3QgZWxlbWVudFxuICAgICAgaXNJbml0aWFsUGF0Y2ggPSB0cnVlO1xuICAgICAgY3JlYXRlRWxtKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXNSZWFsRWxlbWVudCA9IGlzRGVmKG9sZFZub2RlLm5vZGVUeXBlKTtcbiAgICAgIGlmICghaXNSZWFsRWxlbWVudCAmJiBzYW1lVm5vZGUob2xkVm5vZGUsIHZub2RlKSkge1xuICAgICAgICAvLyBwYXRjaCBleGlzdGluZyByb290IG5vZGVcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbnVsbCwgbnVsbCwgcmVtb3ZlT25seSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNSZWFsRWxlbWVudCkge1xuICAgICAgICAgIC8vIG1vdW50aW5nIHRvIGEgcmVhbCBlbGVtZW50XG4gICAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBzZXJ2ZXItcmVuZGVyZWQgY29udGVudCBhbmQgaWYgd2UgY2FuIHBlcmZvcm1cbiAgICAgICAgICAvLyBhIHN1Y2Nlc3NmdWwgaHlkcmF0aW9uLlxuICAgICAgICAgIGlmIChvbGRWbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBvbGRWbm9kZS5oYXNBdHRyaWJ1dGUoU1NSX0FUVFIpKSB7XG4gICAgICAgICAgICBvbGRWbm9kZS5yZW1vdmVBdHRyaWJ1dGUoU1NSX0FUVFIpO1xuICAgICAgICAgICAgaHlkcmF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzVHJ1ZShoeWRyYXRpbmcpKSB7XG4gICAgICAgICAgICBpZiAoaHlkcmF0ZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkpIHtcbiAgICAgICAgICAgICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG9sZFZub2RlXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgd2FybihcbiAgICAgICAgICAgICAgICAnVGhlIGNsaWVudC1zaWRlIHJlbmRlcmVkIHZpcnR1YWwgRE9NIHRyZWUgaXMgbm90IG1hdGNoaW5nICcgK1xuICAgICAgICAgICAgICAgICdzZXJ2ZXItcmVuZGVyZWQgY29udGVudC4gVGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IGluY29ycmVjdCAnICtcbiAgICAgICAgICAgICAgICAnSFRNTCBtYXJrdXAsIGZvciBleGFtcGxlIG5lc3RpbmcgYmxvY2stbGV2ZWwgZWxlbWVudHMgaW5zaWRlICcgK1xuICAgICAgICAgICAgICAgICc8cD4sIG9yIG1pc3NpbmcgPHRib2R5Pi4gQmFpbGluZyBoeWRyYXRpb24gYW5kIHBlcmZvcm1pbmcgJyArXG4gICAgICAgICAgICAgICAgJ2Z1bGwgY2xpZW50LXNpZGUgcmVuZGVyLidcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZWl0aGVyIG5vdCBzZXJ2ZXItcmVuZGVyZWQsIG9yIGh5ZHJhdGlvbiBmYWlsZWQuXG4gICAgICAgICAgLy8gY3JlYXRlIGFuIGVtcHR5IG5vZGUgYW5kIHJlcGxhY2UgaXRcbiAgICAgICAgICBvbGRWbm9kZSA9IGVtcHR5Tm9kZUF0KG9sZFZub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlcGxhY2luZyBleGlzdGluZyBlbGVtZW50XG4gICAgICAgIHZhciBvbGRFbG0gPSBvbGRWbm9kZS5lbG07XG4gICAgICAgIHZhciBwYXJlbnRFbG0gPSBub2RlT3BzLnBhcmVudE5vZGUob2xkRWxtKTtcblxuICAgICAgICAvLyBjcmVhdGUgbmV3IG5vZGVcbiAgICAgICAgY3JlYXRlRWxtKFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIGluc2VydGVkVm5vZGVRdWV1ZSxcbiAgICAgICAgICAvLyBleHRyZW1lbHkgcmFyZSBlZGdlIGNhc2U6IGRvIG5vdCBpbnNlcnQgaWYgb2xkIGVsZW1lbnQgaXMgaW4gYVxuICAgICAgICAgIC8vIGxlYXZpbmcgdHJhbnNpdGlvbi4gT25seSBoYXBwZW5zIHdoZW4gY29tYmluaW5nIHRyYW5zaXRpb24gK1xuICAgICAgICAgIC8vIGtlZXAtYWxpdmUgKyBIT0NzLiAoIzQ1OTApXG4gICAgICAgICAgb2xkRWxtLl9sZWF2ZUNiID8gbnVsbCA6IHBhcmVudEVsbSxcbiAgICAgICAgICBub2RlT3BzLm5leHRTaWJsaW5nKG9sZEVsbSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyB1cGRhdGUgcGFyZW50IHBsYWNlaG9sZGVyIG5vZGUgZWxlbWVudCwgcmVjdXJzaXZlbHlcbiAgICAgICAgaWYgKGlzRGVmKHZub2RlLnBhcmVudCkpIHtcbiAgICAgICAgICB2YXIgYW5jZXN0b3IgPSB2bm9kZS5wYXJlbnQ7XG4gICAgICAgICAgdmFyIHBhdGNoYWJsZSA9IGlzUGF0Y2hhYmxlKHZub2RlKTtcbiAgICAgICAgICB3aGlsZSAoYW5jZXN0b3IpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2JzLmRlc3Ryb3kubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgY2JzLmRlc3Ryb3lbaV0oYW5jZXN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5jZXN0b3IuZWxtID0gdm5vZGUuZWxtO1xuICAgICAgICAgICAgaWYgKHBhdGNoYWJsZSkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBjYnMuY3JlYXRlLmxlbmd0aDsgKytpJDEpIHtcbiAgICAgICAgICAgICAgICBjYnMuY3JlYXRlW2kkMV0oZW1wdHlOb2RlLCBhbmNlc3Rvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gIzY1MTNcbiAgICAgICAgICAgICAgLy8gaW52b2tlIGluc2VydCBob29rcyB0aGF0IG1heSBoYXZlIGJlZW4gbWVyZ2VkIGJ5IGNyZWF0ZSBob29rcy5cbiAgICAgICAgICAgICAgLy8gZS5nLiBmb3IgZGlyZWN0aXZlcyB0aGF0IHVzZXMgdGhlIFwiaW5zZXJ0ZWRcIiBob29rLlxuICAgICAgICAgICAgICB2YXIgaW5zZXJ0ID0gYW5jZXN0b3IuZGF0YS5ob29rLmluc2VydDtcbiAgICAgICAgICAgICAgaWYgKGluc2VydC5tZXJnZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBhdCBpbmRleCAxIHRvIGF2b2lkIHJlLWludm9raW5nIGNvbXBvbmVudCBtb3VudGVkIGhvb2tcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpJDIgPSAxOyBpJDIgPCBpbnNlcnQuZm5zLmxlbmd0aDsgaSQyKyspIHtcbiAgICAgICAgICAgICAgICAgIGluc2VydC5mbnNbaSQyXSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVnaXN0ZXJSZWYoYW5jZXN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGVzdHJveSBvbGQgbm9kZVxuICAgICAgICBpZiAoaXNEZWYocGFyZW50RWxtKSkge1xuICAgICAgICAgIHJlbW92ZVZub2Rlcyhbb2xkVm5vZGVdLCAwLCAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRWbm9kZS50YWcpKSB7XG4gICAgICAgICAgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpc0luaXRpYWxQYXRjaCk7XG4gICAgcmV0dXJuIHZub2RlLmVsbVxuICB9XG59XG5cbi8qICAqL1xuXG52YXIgZGlyZWN0aXZlcyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVEaXJlY3RpdmVzLFxuICB1cGRhdGU6IHVwZGF0ZURpcmVjdGl2ZXMsXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIHVuYmluZERpcmVjdGl2ZXMgKHZub2RlKSB7XG4gICAgdXBkYXRlRGlyZWN0aXZlcyh2bm9kZSwgZW1wdHlOb2RlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gdXBkYXRlRGlyZWN0aXZlcyAob2xkVm5vZGUsIHZub2RlKSB7XG4gIGlmIChvbGRWbm9kZS5kYXRhLmRpcmVjdGl2ZXMgfHwgdm5vZGUuZGF0YS5kaXJlY3RpdmVzKSB7XG4gICAgX3VwZGF0ZShvbGRWbm9kZSwgdm5vZGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF91cGRhdGUgKG9sZFZub2RlLCB2bm9kZSkge1xuICB2YXIgaXNDcmVhdGUgPSBvbGRWbm9kZSA9PT0gZW1wdHlOb2RlO1xuICB2YXIgaXNEZXN0cm95ID0gdm5vZGUgPT09IGVtcHR5Tm9kZTtcbiAgdmFyIG9sZERpcnMgPSBub3JtYWxpemVEaXJlY3RpdmVzJDEob2xkVm5vZGUuZGF0YS5kaXJlY3RpdmVzLCBvbGRWbm9kZS5jb250ZXh0KTtcbiAgdmFyIG5ld0RpcnMgPSBub3JtYWxpemVEaXJlY3RpdmVzJDEodm5vZGUuZGF0YS5kaXJlY3RpdmVzLCB2bm9kZS5jb250ZXh0KTtcblxuICB2YXIgZGlyc1dpdGhJbnNlcnQgPSBbXTtcbiAgdmFyIGRpcnNXaXRoUG9zdHBhdGNoID0gW107XG5cbiAgdmFyIGtleSwgb2xkRGlyLCBkaXI7XG4gIGZvciAoa2V5IGluIG5ld0RpcnMpIHtcbiAgICBvbGREaXIgPSBvbGREaXJzW2tleV07XG4gICAgZGlyID0gbmV3RGlyc1trZXldO1xuICAgIGlmICghb2xkRGlyKSB7XG4gICAgICAvLyBuZXcgZGlyZWN0aXZlLCBiaW5kXG4gICAgICBjYWxsSG9vayQxKGRpciwgJ2JpbmQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgaWYgKGRpci5kZWYgJiYgZGlyLmRlZi5pbnNlcnRlZCkge1xuICAgICAgICBkaXJzV2l0aEluc2VydC5wdXNoKGRpcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGV4aXN0aW5nIGRpcmVjdGl2ZSwgdXBkYXRlXG4gICAgICBkaXIub2xkVmFsdWUgPSBvbGREaXIudmFsdWU7XG4gICAgICBkaXIub2xkQXJnID0gb2xkRGlyLmFyZztcbiAgICAgIGNhbGxIb29rJDEoZGlyLCAndXBkYXRlJywgdm5vZGUsIG9sZFZub2RlKTtcbiAgICAgIGlmIChkaXIuZGVmICYmIGRpci5kZWYuY29tcG9uZW50VXBkYXRlZCkge1xuICAgICAgICBkaXJzV2l0aFBvc3RwYXRjaC5wdXNoKGRpcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGRpcnNXaXRoSW5zZXJ0Lmxlbmd0aCkge1xuICAgIHZhciBjYWxsSW5zZXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzV2l0aEluc2VydC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYWxsSG9vayQxKGRpcnNXaXRoSW5zZXJ0W2ldLCAnaW5zZXJ0ZWQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGlzQ3JlYXRlKSB7XG4gICAgICBtZXJnZVZOb2RlSG9vayh2bm9kZSwgJ2luc2VydCcsIGNhbGxJbnNlcnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsSW5zZXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRpcnNXaXRoUG9zdHBhdGNoLmxlbmd0aCkge1xuICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAncG9zdHBhdGNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzV2l0aFBvc3RwYXRjaC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYWxsSG9vayQxKGRpcnNXaXRoUG9zdHBhdGNoW2ldLCAnY29tcG9uZW50VXBkYXRlZCcsIHZub2RlLCBvbGRWbm9kZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoIWlzQ3JlYXRlKSB7XG4gICAgZm9yIChrZXkgaW4gb2xkRGlycykge1xuICAgICAgaWYgKCFuZXdEaXJzW2tleV0pIHtcbiAgICAgICAgLy8gbm8gbG9uZ2VyIHByZXNlbnQsIHVuYmluZFxuICAgICAgICBjYWxsSG9vayQxKG9sZERpcnNba2V5XSwgJ3VuYmluZCcsIG9sZFZub2RlLCBvbGRWbm9kZSwgaXNEZXN0cm95KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxudmFyIGVtcHR5TW9kaWZpZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplRGlyZWN0aXZlcyQxIChcbiAgZGlycyxcbiAgdm1cbikge1xuICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgaWYgKCFkaXJzKSB7XG4gICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXG4gICAgcmV0dXJuIHJlc1xuICB9XG4gIHZhciBpLCBkaXI7XG4gIGZvciAoaSA9IDA7IGkgPCBkaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgZGlyID0gZGlyc1tpXTtcbiAgICBpZiAoIWRpci5tb2RpZmllcnMpIHtcbiAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxuICAgICAgZGlyLm1vZGlmaWVycyA9IGVtcHR5TW9kaWZpZXJzO1xuICAgIH1cbiAgICByZXNbZ2V0UmF3RGlyTmFtZShkaXIpXSA9IGRpcjtcbiAgICBkaXIuZGVmID0gcmVzb2x2ZUFzc2V0KHZtLiRvcHRpb25zLCAnZGlyZWN0aXZlcycsIGRpci5uYW1lLCB0cnVlKTtcbiAgfVxuICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBnZXRSYXdEaXJOYW1lIChkaXIpIHtcbiAgcmV0dXJuIGRpci5yYXdOYW1lIHx8ICgoZGlyLm5hbWUpICsgXCIuXCIgKyAoT2JqZWN0LmtleXMoZGlyLm1vZGlmaWVycyB8fCB7fSkuam9pbignLicpKSlcbn1cblxuZnVuY3Rpb24gY2FsbEhvb2skMSAoZGlyLCBob29rLCB2bm9kZSwgb2xkVm5vZGUsIGlzRGVzdHJveSkge1xuICB2YXIgZm4gPSBkaXIuZGVmICYmIGRpci5kZWZbaG9va107XG4gIGlmIChmbikge1xuICAgIHRyeSB7XG4gICAgICBmbih2bm9kZS5lbG0sIGRpciwgdm5vZGUsIG9sZFZub2RlLCBpc0Rlc3Ryb3kpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGhhbmRsZUVycm9yKGUsIHZub2RlLmNvbnRleHQsIChcImRpcmVjdGl2ZSBcIiArIChkaXIubmFtZSkgKyBcIiBcIiArIGhvb2sgKyBcIiBob29rXCIpKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIGJhc2VNb2R1bGVzID0gW1xuICByZWYsXG4gIGRpcmVjdGl2ZXNcbl07XG5cbi8qICAqL1xuXG5mdW5jdGlvbiB1cGRhdGVBdHRycyAob2xkVm5vZGUsIHZub2RlKSB7XG4gIHZhciBvcHRzID0gdm5vZGUuY29tcG9uZW50T3B0aW9ucztcbiAgaWYgKGlzRGVmKG9wdHMpICYmIG9wdHMuQ3Rvci5vcHRpb25zLmluaGVyaXRBdHRycyA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoaXNVbmRlZihvbGRWbm9kZS5kYXRhLmF0dHJzKSAmJiBpc1VuZGVmKHZub2RlLmRhdGEuYXR0cnMpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGtleSwgY3VyLCBvbGQ7XG4gIHZhciBlbG0gPSB2bm9kZS5lbG07XG4gIHZhciBvbGRBdHRycyA9IG9sZFZub2RlLmRhdGEuYXR0cnMgfHwge307XG4gIHZhciBhdHRycyA9IHZub2RlLmRhdGEuYXR0cnMgfHwge307XG4gIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdFxuICBpZiAoaXNEZWYoYXR0cnMuX19vYl9fKSkge1xuICAgIGF0dHJzID0gdm5vZGUuZGF0YS5hdHRycyA9IGV4dGVuZCh7fSwgYXR0cnMpO1xuICB9XG5cbiAgZm9yIChrZXkgaW4gYXR0cnMpIHtcbiAgICBjdXIgPSBhdHRyc1trZXldO1xuICAgIG9sZCA9IG9sZEF0dHJzW2tleV07XG4gICAgaWYgKG9sZCAhPT0gY3VyKSB7XG4gICAgICBzZXRBdHRyKGVsbSwga2V5LCBjdXIpO1xuICAgIH1cbiAgfVxuICAvLyAjNDM5MTogaW4gSUU5LCBzZXR0aW5nIHR5cGUgY2FuIHJlc2V0IHZhbHVlIGZvciBpbnB1dFt0eXBlPXJhZGlvXVxuICAvLyAjNjY2NjogSUUvRWRnZSBmb3JjZXMgcHJvZ3Jlc3MgdmFsdWUgZG93biB0byAxIGJlZm9yZSBzZXR0aW5nIGEgbWF4XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoKGlzSUUgfHwgaXNFZGdlKSAmJiBhdHRycy52YWx1ZSAhPT0gb2xkQXR0cnMudmFsdWUpIHtcbiAgICBzZXRBdHRyKGVsbSwgJ3ZhbHVlJywgYXR0cnMudmFsdWUpO1xuICB9XG4gIGZvciAoa2V5IGluIG9sZEF0dHJzKSB7XG4gICAgaWYgKGlzVW5kZWYoYXR0cnNba2V5XSkpIHtcbiAgICAgIGlmIChpc1hsaW5rKGtleSkpIHtcbiAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGdldFhsaW5rUHJvcChrZXkpKTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzRW51bWVyYXRlZEF0dHIoa2V5KSkge1xuICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNldEF0dHIgKGVsLCBrZXksIHZhbHVlKSB7XG4gIGlmIChlbC50YWdOYW1lLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgYmFzZVNldEF0dHIoZWwsIGtleSwgdmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkge1xuICAgIC8vIHNldCBhdHRyaWJ1dGUgZm9yIGJsYW5rIHZhbHVlXG4gICAgLy8gZS5nLiA8b3B0aW9uIGRpc2FibGVkPlNlbGVjdCBvbmU8L29wdGlvbj5cbiAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0ZWNobmljYWxseSBhbGxvd2Z1bGxzY3JlZW4gaXMgYSBib29sZWFuIGF0dHJpYnV0ZSBmb3IgPGlmcmFtZT4sXG4gICAgICAvLyBidXQgRmxhc2ggZXhwZWN0cyBhIHZhbHVlIG9mIFwidHJ1ZVwiIHdoZW4gdXNlZCBvbiA8ZW1iZWQ+IHRhZ1xuICAgICAgdmFsdWUgPSBrZXkgPT09ICdhbGxvd2Z1bGxzY3JlZW4nICYmIGVsLnRhZ05hbWUgPT09ICdFTUJFRCdcbiAgICAgICAgPyAndHJ1ZSdcbiAgICAgICAgOiBrZXk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRW51bWVyYXRlZEF0dHIoa2V5KSkge1xuICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGNvbnZlcnRFbnVtZXJhdGVkVmFsdWUoa2V5LCB2YWx1ZSkpO1xuICB9IGVsc2UgaWYgKGlzWGxpbmsoa2V5KSkge1xuICAgIGlmIChpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywgZ2V0WGxpbmtQcm9wKGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXksIHZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYmFzZVNldEF0dHIoZWwsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2VTZXRBdHRyIChlbCwga2V5LCB2YWx1ZSkge1xuICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcbiAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgfSBlbHNlIHtcbiAgICAvLyAjNzEzODogSUUxMCAmIDExIGZpcmVzIGlucHV0IGV2ZW50IHdoZW4gc2V0dGluZyBwbGFjZWhvbGRlciBvblxuICAgIC8vIDx0ZXh0YXJlYT4uLi4gYmxvY2sgdGhlIGZpcnN0IGlucHV0IGV2ZW50IGFuZCByZW1vdmUgdGhlIGJsb2NrZXJcbiAgICAvLyBpbW1lZGlhdGVseS5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoXG4gICAgICBpc0lFICYmICFpc0lFOSAmJlxuICAgICAgZWwudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJyAmJlxuICAgICAga2V5ID09PSAncGxhY2Vob2xkZXInICYmIHZhbHVlICE9PSAnJyAmJiAhZWwuX19pZXBoXG4gICAgKSB7XG4gICAgICB2YXIgYmxvY2tlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgYmxvY2tlcik7XG4gICAgICB9O1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBibG9ja2VyKTtcbiAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxuICAgICAgZWwuX19pZXBoID0gdHJ1ZTsgLyogSUUgcGxhY2Vob2xkZXIgcGF0Y2hlZCAqL1xuICAgIH1cbiAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxudmFyIGF0dHJzID0ge1xuICBjcmVhdGU6IHVwZGF0ZUF0dHJzLFxuICB1cGRhdGU6IHVwZGF0ZUF0dHJzXG59O1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gdXBkYXRlQ2xhc3MgKG9sZFZub2RlLCB2bm9kZSkge1xuICB2YXIgZWwgPSB2bm9kZS5lbG07XG4gIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhO1xuICBpZiAoXG4gICAgaXNVbmRlZihkYXRhLnN0YXRpY0NsYXNzKSAmJlxuICAgIGlzVW5kZWYoZGF0YS5jbGFzcykgJiYgKFxuICAgICAgaXNVbmRlZihvbGREYXRhKSB8fCAoXG4gICAgICAgIGlzVW5kZWYob2xkRGF0YS5zdGF0aWNDbGFzcykgJiZcbiAgICAgICAgaXNVbmRlZihvbGREYXRhLmNsYXNzKVxuICAgICAgKVxuICAgIClcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY2xzID0gZ2VuQ2xhc3NGb3JWbm9kZSh2bm9kZSk7XG5cbiAgLy8gaGFuZGxlIHRyYW5zaXRpb24gY2xhc3Nlc1xuICB2YXIgdHJhbnNpdGlvbkNsYXNzID0gZWwuX3RyYW5zaXRpb25DbGFzc2VzO1xuICBpZiAoaXNEZWYodHJhbnNpdGlvbkNsYXNzKSkge1xuICAgIGNscyA9IGNvbmNhdChjbHMsIHN0cmluZ2lmeUNsYXNzKHRyYW5zaXRpb25DbGFzcykpO1xuICB9XG5cbiAgLy8gc2V0IHRoZSBjbGFzc1xuICBpZiAoY2xzICE9PSBlbC5fcHJldkNsYXNzKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGNscyk7XG4gICAgZWwuX3ByZXZDbGFzcyA9IGNscztcbiAgfVxufVxuXG52YXIga2xhc3MgPSB7XG4gIGNyZWF0ZTogdXBkYXRlQ2xhc3MsXG4gIHVwZGF0ZTogdXBkYXRlQ2xhc3Ncbn07XG5cbi8qICAqL1xuXG52YXIgdmFsaWREaXZpc2lvbkNoYXJSRSA9IC9bXFx3KS4rXFwtXyRcXF1dLztcblxuZnVuY3Rpb24gcGFyc2VGaWx0ZXJzIChleHApIHtcbiAgdmFyIGluU2luZ2xlID0gZmFsc2U7XG4gIHZhciBpbkRvdWJsZSA9IGZhbHNlO1xuICB2YXIgaW5UZW1wbGF0ZVN0cmluZyA9IGZhbHNlO1xuICB2YXIgaW5SZWdleCA9IGZhbHNlO1xuICB2YXIgY3VybHkgPSAwO1xuICB2YXIgc3F1YXJlID0gMDtcbiAgdmFyIHBhcmVuID0gMDtcbiAgdmFyIGxhc3RGaWx0ZXJJbmRleCA9IDA7XG4gIHZhciBjLCBwcmV2LCBpLCBleHByZXNzaW9uLCBmaWx0ZXJzO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBleHAubGVuZ3RoOyBpKyspIHtcbiAgICBwcmV2ID0gYztcbiAgICBjID0gZXhwLmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGluU2luZ2xlKSB7XG4gICAgICBpZiAoYyA9PT0gMHgyNyAmJiBwcmV2ICE9PSAweDVDKSB7IGluU2luZ2xlID0gZmFsc2U7IH1cbiAgICB9IGVsc2UgaWYgKGluRG91YmxlKSB7XG4gICAgICBpZiAoYyA9PT0gMHgyMiAmJiBwcmV2ICE9PSAweDVDKSB7IGluRG91YmxlID0gZmFsc2U7IH1cbiAgICB9IGVsc2UgaWYgKGluVGVtcGxhdGVTdHJpbmcpIHtcbiAgICAgIGlmIChjID09PSAweDYwICYmIHByZXYgIT09IDB4NUMpIHsgaW5UZW1wbGF0ZVN0cmluZyA9IGZhbHNlOyB9XG4gICAgfSBlbHNlIGlmIChpblJlZ2V4KSB7XG4gICAgICBpZiAoYyA9PT0gMHgyZiAmJiBwcmV2ICE9PSAweDVDKSB7IGluUmVnZXggPSBmYWxzZTsgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBjID09PSAweDdDICYmIC8vIHBpcGVcbiAgICAgIGV4cC5jaGFyQ29kZUF0KGkgKyAxKSAhPT0gMHg3QyAmJlxuICAgICAgZXhwLmNoYXJDb2RlQXQoaSAtIDEpICE9PSAweDdDICYmXG4gICAgICAhY3VybHkgJiYgIXNxdWFyZSAmJiAhcGFyZW5cbiAgICApIHtcbiAgICAgIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gZmlyc3QgZmlsdGVyLCBlbmQgb2YgZXhwcmVzc2lvblxuICAgICAgICBsYXN0RmlsdGVySW5kZXggPSBpICsgMTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV4cC5zbGljZSgwLCBpKS50cmltKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwdXNoRmlsdGVyKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICBjYXNlIDB4MjI6IGluRG91YmxlID0gdHJ1ZTsgYnJlYWsgICAgICAgICAvLyBcIlxuICAgICAgICBjYXNlIDB4Mjc6IGluU2luZ2xlID0gdHJ1ZTsgYnJlYWsgICAgICAgICAvLyAnXG4gICAgICAgIGNhc2UgMHg2MDogaW5UZW1wbGF0ZVN0cmluZyA9IHRydWU7IGJyZWFrIC8vIGBcbiAgICAgICAgY2FzZSAweDI4OiBwYXJlbisrOyBicmVhayAgICAgICAgICAgICAgICAgLy8gKFxuICAgICAgICBjYXNlIDB4Mjk6IHBhcmVuLS07IGJyZWFrICAgICAgICAgICAgICAgICAvLyApXG4gICAgICAgIGNhc2UgMHg1Qjogc3F1YXJlKys7IGJyZWFrICAgICAgICAgICAgICAgIC8vIFtcbiAgICAgICAgY2FzZSAweDVEOiBzcXVhcmUtLTsgYnJlYWsgICAgICAgICAgICAgICAgLy8gXVxuICAgICAgICBjYXNlIDB4N0I6IGN1cmx5Kys7IGJyZWFrICAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgIGNhc2UgMHg3RDogY3VybHktLTsgYnJlYWsgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgIH1cbiAgICAgIGlmIChjID09PSAweDJmKSB7IC8vIC9cbiAgICAgICAgdmFyIGogPSBpIC0gMTtcbiAgICAgICAgdmFyIHAgPSAodm9pZCAwKTtcbiAgICAgICAgLy8gZmluZCBmaXJzdCBub24td2hpdGVzcGFjZSBwcmV2IGNoYXJcbiAgICAgICAgZm9yICg7IGogPj0gMDsgai0tKSB7XG4gICAgICAgICAgcCA9IGV4cC5jaGFyQXQoaik7XG4gICAgICAgICAgaWYgKHAgIT09ICcgJykgeyBicmVhayB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwIHx8ICF2YWxpZERpdmlzaW9uQ2hhclJFLnRlc3QocCkpIHtcbiAgICAgICAgICBpblJlZ2V4ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICBleHByZXNzaW9uID0gZXhwLnNsaWNlKDAsIGkpLnRyaW0oKTtcbiAgfSBlbHNlIGlmIChsYXN0RmlsdGVySW5kZXggIT09IDApIHtcbiAgICBwdXNoRmlsdGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoRmlsdGVyICgpIHtcbiAgICAoZmlsdGVycyB8fCAoZmlsdGVycyA9IFtdKSkucHVzaChleHAuc2xpY2UobGFzdEZpbHRlckluZGV4LCBpKS50cmltKCkpO1xuICAgIGxhc3RGaWx0ZXJJbmRleCA9IGkgKyAxO1xuICB9XG5cbiAgaWYgKGZpbHRlcnMpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgZXhwcmVzc2lvbiA9IHdyYXBGaWx0ZXIoZXhwcmVzc2lvbiwgZmlsdGVyc1tpXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGV4cHJlc3Npb25cbn1cblxuZnVuY3Rpb24gd3JhcEZpbHRlciAoZXhwLCBmaWx0ZXIpIHtcbiAgdmFyIGkgPSBmaWx0ZXIuaW5kZXhPZignKCcpO1xuICBpZiAoaSA8IDApIHtcbiAgICAvLyBfZjogcmVzb2x2ZUZpbHRlclxuICAgIHJldHVybiAoXCJfZihcXFwiXCIgKyBmaWx0ZXIgKyBcIlxcXCIpKFwiICsgZXhwICsgXCIpXCIpXG4gIH0gZWxzZSB7XG4gICAgdmFyIG5hbWUgPSBmaWx0ZXIuc2xpY2UoMCwgaSk7XG4gICAgdmFyIGFyZ3MgPSBmaWx0ZXIuc2xpY2UoaSArIDEpO1xuICAgIHJldHVybiAoXCJfZihcXFwiXCIgKyBuYW1lICsgXCJcXFwiKShcIiArIGV4cCArIChhcmdzICE9PSAnKScgPyAnLCcgKyBhcmdzIDogYXJncykpXG4gIH1cbn1cblxuLyogICovXG5cblxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gYmFzZVdhcm4gKG1zZywgcmFuZ2UpIHtcbiAgY29uc29sZS5lcnJvcigoXCJbVnVlIGNvbXBpbGVyXTogXCIgKyBtc2cpKTtcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuZnVuY3Rpb24gcGx1Y2tNb2R1bGVGdW5jdGlvbiAoXG4gIG1vZHVsZXMsXG4gIGtleVxuKSB7XG4gIHJldHVybiBtb2R1bGVzXG4gICAgPyBtb2R1bGVzLm1hcChmdW5jdGlvbiAobSkgeyByZXR1cm4gbVtrZXldOyB9KS5maWx0ZXIoZnVuY3Rpb24gKF8pIHsgcmV0dXJuIF87IH0pXG4gICAgOiBbXVxufVxuXG5mdW5jdGlvbiBhZGRQcm9wIChlbCwgbmFtZSwgdmFsdWUsIHJhbmdlLCBkeW5hbWljKSB7XG4gIChlbC5wcm9wcyB8fCAoZWwucHJvcHMgPSBbXSkpLnB1c2gocmFuZ2VTZXRJdGVtKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlLCBkeW5hbWljOiBkeW5hbWljIH0sIHJhbmdlKSk7XG4gIGVsLnBsYWluID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHIgKGVsLCBuYW1lLCB2YWx1ZSwgcmFuZ2UsIGR5bmFtaWMpIHtcbiAgdmFyIGF0dHJzID0gZHluYW1pY1xuICAgID8gKGVsLmR5bmFtaWNBdHRycyB8fCAoZWwuZHluYW1pY0F0dHJzID0gW10pKVxuICAgIDogKGVsLmF0dHJzIHx8IChlbC5hdHRycyA9IFtdKSk7XG4gIGF0dHJzLnB1c2gocmFuZ2VTZXRJdGVtKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlLCBkeW5hbWljOiBkeW5hbWljIH0sIHJhbmdlKSk7XG4gIGVsLnBsYWluID0gZmFsc2U7XG59XG5cbi8vIGFkZCBhIHJhdyBhdHRyICh1c2UgdGhpcyBpbiBwcmVUcmFuc2Zvcm1zKVxuZnVuY3Rpb24gYWRkUmF3QXR0ciAoZWwsIG5hbWUsIHZhbHVlLCByYW5nZSkge1xuICBlbC5hdHRyc01hcFtuYW1lXSA9IHZhbHVlO1xuICBlbC5hdHRyc0xpc3QucHVzaChyYW5nZVNldEl0ZW0oeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUgfSwgcmFuZ2UpKTtcbn1cblxuZnVuY3Rpb24gYWRkRGlyZWN0aXZlIChcbiAgZWwsXG4gIG5hbWUsXG4gIHJhd05hbWUsXG4gIHZhbHVlLFxuICBhcmcsXG4gIGlzRHluYW1pY0FyZyxcbiAgbW9kaWZpZXJzLFxuICByYW5nZVxuKSB7XG4gIChlbC5kaXJlY3RpdmVzIHx8IChlbC5kaXJlY3RpdmVzID0gW10pKS5wdXNoKHJhbmdlU2V0SXRlbSh7XG4gICAgbmFtZTogbmFtZSxcbiAgICByYXdOYW1lOiByYXdOYW1lLFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBhcmc6IGFyZyxcbiAgICBpc0R5bmFtaWNBcmc6IGlzRHluYW1pY0FyZyxcbiAgICBtb2RpZmllcnM6IG1vZGlmaWVyc1xuICB9LCByYW5nZSkpO1xuICBlbC5wbGFpbiA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBwcmVwZW5kTW9kaWZpZXJNYXJrZXIgKHN5bWJvbCwgbmFtZSwgZHluYW1pYykge1xuICByZXR1cm4gZHluYW1pY1xuICAgID8gKFwiX3AoXCIgKyBuYW1lICsgXCIsXFxcIlwiICsgc3ltYm9sICsgXCJcXFwiKVwiKVxuICAgIDogc3ltYm9sICsgbmFtZSAvLyBtYXJrIHRoZSBldmVudCBhcyBjYXB0dXJlZFxufVxuXG5mdW5jdGlvbiBhZGRIYW5kbGVyIChcbiAgZWwsXG4gIG5hbWUsXG4gIHZhbHVlLFxuICBtb2RpZmllcnMsXG4gIGltcG9ydGFudCxcbiAgd2FybixcbiAgcmFuZ2UsXG4gIGR5bmFtaWNcbikge1xuICBtb2RpZmllcnMgPSBtb2RpZmllcnMgfHwgZW1wdHlPYmplY3Q7XG4gIC8vIHdhcm4gcHJldmVudCBhbmQgcGFzc2l2ZSBtb2RpZmllclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKFxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybiAmJlxuICAgIG1vZGlmaWVycy5wcmV2ZW50ICYmIG1vZGlmaWVycy5wYXNzaXZlXG4gICkge1xuICAgIHdhcm4oXG4gICAgICAncGFzc2l2ZSBhbmQgcHJldmVudCBjYW5cXCd0IGJlIHVzZWQgdG9nZXRoZXIuICcgK1xuICAgICAgJ1Bhc3NpdmUgaGFuZGxlciBjYW5cXCd0IHByZXZlbnQgZGVmYXVsdCBldmVudC4nLFxuICAgICAgcmFuZ2VcbiAgICApO1xuICB9XG5cbiAgLy8gbm9ybWFsaXplIGNsaWNrLnJpZ2h0IGFuZCBjbGljay5taWRkbGUgc2luY2UgdGhleSBkb24ndCBhY3R1YWxseSBmaXJlXG4gIC8vIHRoaXMgaXMgdGVjaG5pY2FsbHkgYnJvd3Nlci1zcGVjaWZpYywgYnV0IGF0IGxlYXN0IGZvciBub3cgYnJvd3NlcnMgYXJlXG4gIC8vIHRoZSBvbmx5IHRhcmdldCBlbnZzIHRoYXQgaGF2ZSByaWdodC9taWRkbGUgY2xpY2tzLlxuICBpZiAobW9kaWZpZXJzLnJpZ2h0KSB7XG4gICAgaWYgKGR5bmFtaWMpIHtcbiAgICAgIG5hbWUgPSBcIihcIiArIG5hbWUgKyBcIik9PT0nY2xpY2snPydjb250ZXh0bWVudSc6KFwiICsgbmFtZSArIFwiKVwiO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2NsaWNrJykge1xuICAgICAgbmFtZSA9ICdjb250ZXh0bWVudSc7XG4gICAgICBkZWxldGUgbW9kaWZpZXJzLnJpZ2h0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChtb2RpZmllcnMubWlkZGxlKSB7XG4gICAgaWYgKGR5bmFtaWMpIHtcbiAgICAgIG5hbWUgPSBcIihcIiArIG5hbWUgKyBcIik9PT0nY2xpY2snPydtb3VzZXVwJzooXCIgKyBuYW1lICsgXCIpXCI7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnY2xpY2snKSB7XG4gICAgICBuYW1lID0gJ21vdXNldXAnO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNoZWNrIGNhcHR1cmUgbW9kaWZpZXJcbiAgaWYgKG1vZGlmaWVycy5jYXB0dXJlKSB7XG4gICAgZGVsZXRlIG1vZGlmaWVycy5jYXB0dXJlO1xuICAgIG5hbWUgPSBwcmVwZW5kTW9kaWZpZXJNYXJrZXIoJyEnLCBuYW1lLCBkeW5hbWljKTtcbiAgfVxuICBpZiAobW9kaWZpZXJzLm9uY2UpIHtcbiAgICBkZWxldGUgbW9kaWZpZXJzLm9uY2U7XG4gICAgbmFtZSA9IHByZXBlbmRNb2RpZmllck1hcmtlcignficsIG5hbWUsIGR5bmFtaWMpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAobW9kaWZpZXJzLnBhc3NpdmUpIHtcbiAgICBkZWxldGUgbW9kaWZpZXJzLnBhc3NpdmU7XG4gICAgbmFtZSA9IHByZXBlbmRNb2RpZmllck1hcmtlcignJicsIG5hbWUsIGR5bmFtaWMpO1xuICB9XG5cbiAgdmFyIGV2ZW50cztcbiAgaWYgKG1vZGlmaWVycy5uYXRpdmUpIHtcbiAgICBkZWxldGUgbW9kaWZpZXJzLm5hdGl2ZTtcbiAgICBldmVudHMgPSBlbC5uYXRpdmVFdmVudHMgfHwgKGVsLm5hdGl2ZUV2ZW50cyA9IHt9KTtcbiAgfSBlbHNlIHtcbiAgICBldmVudHMgPSBlbC5ldmVudHMgfHwgKGVsLmV2ZW50cyA9IHt9KTtcbiAgfVxuXG4gIHZhciBuZXdIYW5kbGVyID0gcmFuZ2VTZXRJdGVtKHsgdmFsdWU6IHZhbHVlLnRyaW0oKSwgZHluYW1pYzogZHluYW1pYyB9LCByYW5nZSk7XG4gIGlmIChtb2RpZmllcnMgIT09IGVtcHR5T2JqZWN0KSB7XG4gICAgbmV3SGFuZGxlci5tb2RpZmllcnMgPSBtb2RpZmllcnM7XG4gIH1cblxuICB2YXIgaGFuZGxlcnMgPSBldmVudHNbbmFtZV07XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVycykpIHtcbiAgICBpbXBvcnRhbnQgPyBoYW5kbGVycy51bnNoaWZ0KG5ld0hhbmRsZXIpIDogaGFuZGxlcnMucHVzaChuZXdIYW5kbGVyKTtcbiAgfSBlbHNlIGlmIChoYW5kbGVycykge1xuICAgIGV2ZW50c1tuYW1lXSA9IGltcG9ydGFudCA/IFtuZXdIYW5kbGVyLCBoYW5kbGVyc10gOiBbaGFuZGxlcnMsIG5ld0hhbmRsZXJdO1xuICB9IGVsc2Uge1xuICAgIGV2ZW50c1tuYW1lXSA9IG5ld0hhbmRsZXI7XG4gIH1cblxuICBlbC5wbGFpbiA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRSYXdCaW5kaW5nQXR0ciAoXG4gIGVsLFxuICBuYW1lXG4pIHtcbiAgcmV0dXJuIGVsLnJhd0F0dHJzTWFwWyc6JyArIG5hbWVdIHx8XG4gICAgZWwucmF3QXR0cnNNYXBbJ3YtYmluZDonICsgbmFtZV0gfHxcbiAgICBlbC5yYXdBdHRyc01hcFtuYW1lXVxufVxuXG5mdW5jdGlvbiBnZXRCaW5kaW5nQXR0ciAoXG4gIGVsLFxuICBuYW1lLFxuICBnZXRTdGF0aWNcbikge1xuICB2YXIgZHluYW1pY1ZhbHVlID1cbiAgICBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnOicgKyBuYW1lKSB8fFxuICAgIGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWJpbmQ6JyArIG5hbWUpO1xuICBpZiAoZHluYW1pY1ZhbHVlICE9IG51bGwpIHtcbiAgICByZXR1cm4gcGFyc2VGaWx0ZXJzKGR5bmFtaWNWYWx1ZSlcbiAgfSBlbHNlIGlmIChnZXRTdGF0aWMgIT09IGZhbHNlKSB7XG4gICAgdmFyIHN0YXRpY1ZhbHVlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgbmFtZSk7XG4gICAgaWYgKHN0YXRpY1ZhbHVlICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzdGF0aWNWYWx1ZSlcbiAgICB9XG4gIH1cbn1cblxuLy8gbm90ZTogdGhpcyBvbmx5IHJlbW92ZXMgdGhlIGF0dHIgZnJvbSB0aGUgQXJyYXkgKGF0dHJzTGlzdCkgc28gdGhhdCBpdFxuLy8gZG9lc24ndCBnZXQgcHJvY2Vzc2VkIGJ5IHByb2Nlc3NBdHRycy5cbi8vIEJ5IGRlZmF1bHQgaXQgZG9lcyBOT1QgcmVtb3ZlIGl0IGZyb20gdGhlIG1hcCAoYXR0cnNNYXApIGJlY2F1c2UgdGhlIG1hcCBpc1xuLy8gbmVlZGVkIGR1cmluZyBjb2RlZ2VuLlxuZnVuY3Rpb24gZ2V0QW5kUmVtb3ZlQXR0ciAoXG4gIGVsLFxuICBuYW1lLFxuICByZW1vdmVGcm9tTWFwXG4pIHtcbiAgdmFyIHZhbDtcbiAgaWYgKCh2YWwgPSBlbC5hdHRyc01hcFtuYW1lXSkgIT0gbnVsbCkge1xuICAgIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0O1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChsaXN0W2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChyZW1vdmVGcm9tTWFwKSB7XG4gICAgZGVsZXRlIGVsLmF0dHJzTWFwW25hbWVdO1xuICB9XG4gIHJldHVybiB2YWxcbn1cblxuZnVuY3Rpb24gZ2V0QW5kUmVtb3ZlQXR0ckJ5UmVnZXggKFxuICBlbCxcbiAgbmFtZVxuKSB7XG4gIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0O1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdmFyIGF0dHIgPSBsaXN0W2ldO1xuICAgIGlmIChuYW1lLnRlc3QoYXR0ci5uYW1lKSkge1xuICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICByZXR1cm4gYXR0clxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByYW5nZVNldEl0ZW0gKFxuICBpdGVtLFxuICByYW5nZVxuKSB7XG4gIGlmIChyYW5nZSkge1xuICAgIGlmIChyYW5nZS5zdGFydCAhPSBudWxsKSB7XG4gICAgICBpdGVtLnN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7XG4gICAgfVxuICAgIGlmIChyYW5nZS5lbmQgIT0gbnVsbCkge1xuICAgICAgaXRlbS5lbmQgPSByYW5nZS5lbmQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBpdGVtXG59XG5cbi8qICAqL1xuXG4vKipcbiAqIENyb3NzLXBsYXRmb3JtIGNvZGUgZ2VuZXJhdGlvbiBmb3IgY29tcG9uZW50IHYtbW9kZWxcbiAqL1xuZnVuY3Rpb24gZ2VuQ29tcG9uZW50TW9kZWwgKFxuICBlbCxcbiAgdmFsdWUsXG4gIG1vZGlmaWVyc1xuKSB7XG4gIHZhciByZWYgPSBtb2RpZmllcnMgfHwge307XG4gIHZhciBudW1iZXIgPSByZWYubnVtYmVyO1xuICB2YXIgdHJpbSA9IHJlZi50cmltO1xuXG4gIHZhciBiYXNlVmFsdWVFeHByZXNzaW9uID0gJyQkdic7XG4gIHZhciB2YWx1ZUV4cHJlc3Npb24gPSBiYXNlVmFsdWVFeHByZXNzaW9uO1xuICBpZiAodHJpbSkge1xuICAgIHZhbHVlRXhwcmVzc2lvbiA9XG4gICAgICBcIih0eXBlb2YgXCIgKyBiYXNlVmFsdWVFeHByZXNzaW9uICsgXCIgPT09ICdzdHJpbmcnXCIgK1xuICAgICAgXCI/IFwiICsgYmFzZVZhbHVlRXhwcmVzc2lvbiArIFwiLnRyaW0oKVwiICtcbiAgICAgIFwiOiBcIiArIGJhc2VWYWx1ZUV4cHJlc3Npb24gKyBcIilcIjtcbiAgfVxuICBpZiAobnVtYmVyKSB7XG4gICAgdmFsdWVFeHByZXNzaW9uID0gXCJfbihcIiArIHZhbHVlRXhwcmVzc2lvbiArIFwiKVwiO1xuICB9XG4gIHZhciBhc3NpZ25tZW50ID0gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIHZhbHVlRXhwcmVzc2lvbik7XG5cbiAgZWwubW9kZWwgPSB7XG4gICAgdmFsdWU6IChcIihcIiArIHZhbHVlICsgXCIpXCIpLFxuICAgIGV4cHJlc3Npb246IEpTT04uc3RyaW5naWZ5KHZhbHVlKSxcbiAgICBjYWxsYmFjazogKFwiZnVuY3Rpb24gKFwiICsgYmFzZVZhbHVlRXhwcmVzc2lvbiArIFwiKSB7XCIgKyBhc3NpZ25tZW50ICsgXCJ9XCIpXG4gIH07XG59XG5cbi8qKlxuICogQ3Jvc3MtcGxhdGZvcm0gY29kZWdlbiBoZWxwZXIgZm9yIGdlbmVyYXRpbmcgdi1tb2RlbCB2YWx1ZSBhc3NpZ25tZW50IGNvZGUuXG4gKi9cbmZ1bmN0aW9uIGdlbkFzc2lnbm1lbnRDb2RlIChcbiAgdmFsdWUsXG4gIGFzc2lnbm1lbnRcbikge1xuICB2YXIgcmVzID0gcGFyc2VNb2RlbCh2YWx1ZSk7XG4gIGlmIChyZXMua2V5ID09PSBudWxsKSB7XG4gICAgcmV0dXJuICh2YWx1ZSArIFwiPVwiICsgYXNzaWdubWVudClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFwiJHNldChcIiArIChyZXMuZXhwKSArIFwiLCBcIiArIChyZXMua2V5KSArIFwiLCBcIiArIGFzc2lnbm1lbnQgKyBcIilcIilcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIGEgdi1tb2RlbCBleHByZXNzaW9uIGludG8gYSBiYXNlIHBhdGggYW5kIGEgZmluYWwga2V5IHNlZ21lbnQuXG4gKiBIYW5kbGVzIGJvdGggZG90LXBhdGggYW5kIHBvc3NpYmxlIHNxdWFyZSBicmFja2V0cy5cbiAqXG4gKiBQb3NzaWJsZSBjYXNlczpcbiAqXG4gKiAtIHRlc3RcbiAqIC0gdGVzdFtrZXldXG4gKiAtIHRlc3RbdGVzdDFba2V5XV1cbiAqIC0gdGVzdFtcImFcIl1ba2V5XVxuICogLSB4eHgudGVzdFthW2FdLnRlc3QxW2tleV1dXG4gKiAtIHRlc3QueHh4LmFbXCJhc2FcIl1bdGVzdDFba2V5XV1cbiAqXG4gKi9cblxudmFyIGxlbiwgc3RyLCBjaHIsIGluZGV4JDEsIGV4cHJlc3Npb25Qb3MsIGV4cHJlc3Npb25FbmRQb3M7XG5cblxuXG5mdW5jdGlvbiBwYXJzZU1vZGVsICh2YWwpIHtcbiAgLy8gRml4IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUvcHVsbC83NzMwXG4gIC8vIGFsbG93IHYtbW9kZWw9XCJvYmoudmFsIFwiICh0cmFpbGluZyB3aGl0ZXNwYWNlKVxuICB2YWwgPSB2YWwudHJpbSgpO1xuICBsZW4gPSB2YWwubGVuZ3RoO1xuXG4gIGlmICh2YWwuaW5kZXhPZignWycpIDwgMCB8fCB2YWwubGFzdEluZGV4T2YoJ10nKSA8IGxlbiAtIDEpIHtcbiAgICBpbmRleCQxID0gdmFsLmxhc3RJbmRleE9mKCcuJyk7XG4gICAgaWYgKGluZGV4JDEgPiAtMSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXhwOiB2YWwuc2xpY2UoMCwgaW5kZXgkMSksXG4gICAgICAgIGtleTogJ1wiJyArIHZhbC5zbGljZShpbmRleCQxICsgMSkgKyAnXCInXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGV4cDogdmFsLFxuICAgICAgICBrZXk6IG51bGxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdHIgPSB2YWw7XG4gIGluZGV4JDEgPSBleHByZXNzaW9uUG9zID0gZXhwcmVzc2lvbkVuZFBvcyA9IDA7XG5cbiAgd2hpbGUgKCFlb2YoKSkge1xuICAgIGNociA9IG5leHQoKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXNTdHJpbmdTdGFydChjaHIpKSB7XG4gICAgICBwYXJzZVN0cmluZyhjaHIpO1xuICAgIH0gZWxzZSBpZiAoY2hyID09PSAweDVCKSB7XG4gICAgICBwYXJzZUJyYWNrZXQoY2hyKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGV4cDogdmFsLnNsaWNlKDAsIGV4cHJlc3Npb25Qb3MpLFxuICAgIGtleTogdmFsLnNsaWNlKGV4cHJlc3Npb25Qb3MgKyAxLCBleHByZXNzaW9uRW5kUG9zKVxuICB9XG59XG5cbmZ1bmN0aW9uIG5leHQgKCkge1xuICByZXR1cm4gc3RyLmNoYXJDb2RlQXQoKytpbmRleCQxKVxufVxuXG5mdW5jdGlvbiBlb2YgKCkge1xuICByZXR1cm4gaW5kZXgkMSA+PSBsZW5cbn1cblxuZnVuY3Rpb24gaXNTdHJpbmdTdGFydCAoY2hyKSB7XG4gIHJldHVybiBjaHIgPT09IDB4MjIgfHwgY2hyID09PSAweDI3XG59XG5cbmZ1bmN0aW9uIHBhcnNlQnJhY2tldCAoY2hyKSB7XG4gIHZhciBpbkJyYWNrZXQgPSAxO1xuICBleHByZXNzaW9uUG9zID0gaW5kZXgkMTtcbiAgd2hpbGUgKCFlb2YoKSkge1xuICAgIGNociA9IG5leHQoKTtcbiAgICBpZiAoaXNTdHJpbmdTdGFydChjaHIpKSB7XG4gICAgICBwYXJzZVN0cmluZyhjaHIpO1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgaWYgKGNociA9PT0gMHg1QikgeyBpbkJyYWNrZXQrKzsgfVxuICAgIGlmIChjaHIgPT09IDB4NUQpIHsgaW5CcmFja2V0LS07IH1cbiAgICBpZiAoaW5CcmFja2V0ID09PSAwKSB7XG4gICAgICBleHByZXNzaW9uRW5kUG9zID0gaW5kZXgkMTtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlU3RyaW5nIChjaHIpIHtcbiAgdmFyIHN0cmluZ1F1b3RlID0gY2hyO1xuICB3aGlsZSAoIWVvZigpKSB7XG4gICAgY2hyID0gbmV4dCgpO1xuICAgIGlmIChjaHIgPT09IHN0cmluZ1F1b3RlKSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIHdhcm4kMTtcblxuLy8gaW4gc29tZSBjYXNlcywgdGhlIGV2ZW50IHVzZWQgaGFzIHRvIGJlIGRldGVybWluZWQgYXQgcnVudGltZVxuLy8gc28gd2UgdXNlZCBzb21lIHJlc2VydmVkIHRva2VucyBkdXJpbmcgY29tcGlsZS5cbnZhciBSQU5HRV9UT0tFTiA9ICdfX3InO1xudmFyIENIRUNLQk9YX1JBRElPX1RPS0VOID0gJ19fYyc7XG5cbmZ1bmN0aW9uIG1vZGVsIChcbiAgZWwsXG4gIGRpcixcbiAgX3dhcm5cbikge1xuICB3YXJuJDEgPSBfd2FybjtcbiAgdmFyIHZhbHVlID0gZGlyLnZhbHVlO1xuICB2YXIgbW9kaWZpZXJzID0gZGlyLm1vZGlmaWVycztcbiAgdmFyIHRhZyA9IGVsLnRhZztcbiAgdmFyIHR5cGUgPSBlbC5hdHRyc01hcC50eXBlO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gaW5wdXRzIHdpdGggdHlwZT1cImZpbGVcIiBhcmUgcmVhZCBvbmx5IGFuZCBzZXR0aW5nIHRoZSBpbnB1dCdzXG4gICAgLy8gdmFsdWUgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICBpZiAodGFnID09PSAnaW5wdXQnICYmIHR5cGUgPT09ICdmaWxlJykge1xuICAgICAgd2FybiQxKFxuICAgICAgICBcIjxcIiArIChlbC50YWcpICsgXCIgdi1tb2RlbD1cXFwiXCIgKyB2YWx1ZSArIFwiXFxcIiB0eXBlPVxcXCJmaWxlXFxcIj46XFxuXCIgK1xuICAgICAgICBcIkZpbGUgaW5wdXRzIGFyZSByZWFkIG9ubHkuIFVzZSBhIHYtb246Y2hhbmdlIGxpc3RlbmVyIGluc3RlYWQuXCIsXG4gICAgICAgIGVsLnJhd0F0dHJzTWFwWyd2LW1vZGVsJ11cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGVsLmNvbXBvbmVudCkge1xuICAgIGdlbkNvbXBvbmVudE1vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcbiAgICAvLyBjb21wb25lbnQgdi1tb2RlbCBkb2Vzbid0IG5lZWQgZXh0cmEgcnVudGltZVxuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2UgaWYgKHRhZyA9PT0gJ3NlbGVjdCcpIHtcbiAgICBnZW5TZWxlY3QoZWwsIHZhbHVlLCBtb2RpZmllcnMpO1xuICB9IGVsc2UgaWYgKHRhZyA9PT0gJ2lucHV0JyAmJiB0eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgZ2VuQ2hlY2tib3hNb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycyk7XG4gIH0gZWxzZSBpZiAodGFnID09PSAnaW5wdXQnICYmIHR5cGUgPT09ICdyYWRpbycpIHtcbiAgICBnZW5SYWRpb01vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcbiAgfSBlbHNlIGlmICh0YWcgPT09ICdpbnB1dCcgfHwgdGFnID09PSAndGV4dGFyZWEnKSB7XG4gICAgZ2VuRGVmYXVsdE1vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcbiAgfSBlbHNlIGlmICghY29uZmlnLmlzUmVzZXJ2ZWRUYWcodGFnKSkge1xuICAgIGdlbkNvbXBvbmVudE1vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcbiAgICAvLyBjb21wb25lbnQgdi1tb2RlbCBkb2Vzbid0IG5lZWQgZXh0cmEgcnVudGltZVxuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB3YXJuJDEoXG4gICAgICBcIjxcIiArIChlbC50YWcpICsgXCIgdi1tb2RlbD1cXFwiXCIgKyB2YWx1ZSArIFwiXFxcIj46IFwiICtcbiAgICAgIFwidi1tb2RlbCBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZWxlbWVudCB0eXBlLiBcIiArXG4gICAgICAnSWYgeW91IGFyZSB3b3JraW5nIHdpdGggY29udGVudGVkaXRhYmxlLCBpdFxcJ3MgcmVjb21tZW5kZWQgdG8gJyArXG4gICAgICAnd3JhcCBhIGxpYnJhcnkgZGVkaWNhdGVkIGZvciB0aGF0IHB1cnBvc2UgaW5zaWRlIGEgY3VzdG9tIGNvbXBvbmVudC4nLFxuICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtbW9kZWwnXVxuICAgICk7XG4gIH1cblxuICAvLyBlbnN1cmUgcnVudGltZSBkaXJlY3RpdmUgbWV0YWRhdGFcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gZ2VuQ2hlY2tib3hNb2RlbCAoXG4gIGVsLFxuICB2YWx1ZSxcbiAgbW9kaWZpZXJzXG4pIHtcbiAgdmFyIG51bWJlciA9IG1vZGlmaWVycyAmJiBtb2RpZmllcnMubnVtYmVyO1xuICB2YXIgdmFsdWVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICd2YWx1ZScpIHx8ICdudWxsJztcbiAgdmFyIHRydWVWYWx1ZUJpbmRpbmcgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ3RydWUtdmFsdWUnKSB8fCAndHJ1ZSc7XG4gIHZhciBmYWxzZVZhbHVlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAnZmFsc2UtdmFsdWUnKSB8fCAnZmFsc2UnO1xuICBhZGRQcm9wKGVsLCAnY2hlY2tlZCcsXG4gICAgXCJBcnJheS5pc0FycmF5KFwiICsgdmFsdWUgKyBcIilcIiArXG4gICAgXCI/X2koXCIgKyB2YWx1ZSArIFwiLFwiICsgdmFsdWVCaW5kaW5nICsgXCIpPi0xXCIgKyAoXG4gICAgICB0cnVlVmFsdWVCaW5kaW5nID09PSAndHJ1ZSdcbiAgICAgICAgPyAoXCI6KFwiICsgdmFsdWUgKyBcIilcIilcbiAgICAgICAgOiAoXCI6X3EoXCIgKyB2YWx1ZSArIFwiLFwiICsgdHJ1ZVZhbHVlQmluZGluZyArIFwiKVwiKVxuICAgIClcbiAgKTtcbiAgYWRkSGFuZGxlcihlbCwgJ2NoYW5nZScsXG4gICAgXCJ2YXIgJCRhPVwiICsgdmFsdWUgKyBcIixcIiArXG4gICAgICAgICckJGVsPSRldmVudC50YXJnZXQsJyArXG4gICAgICAgIFwiJCRjPSQkZWwuY2hlY2tlZD8oXCIgKyB0cnVlVmFsdWVCaW5kaW5nICsgXCIpOihcIiArIGZhbHNlVmFsdWVCaW5kaW5nICsgXCIpO1wiICtcbiAgICAnaWYoQXJyYXkuaXNBcnJheSgkJGEpKXsnICtcbiAgICAgIFwidmFyICQkdj1cIiArIChudW1iZXIgPyAnX24oJyArIHZhbHVlQmluZGluZyArICcpJyA6IHZhbHVlQmluZGluZykgKyBcIixcIiArXG4gICAgICAgICAgJyQkaT1faSgkJGEsJCR2KTsnICtcbiAgICAgIFwiaWYoJCRlbC5jaGVja2VkKXskJGk8MCYmKFwiICsgKGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCAnJCRhLmNvbmNhdChbJCR2XSknKSkgKyBcIil9XCIgK1xuICAgICAgXCJlbHNleyQkaT4tMSYmKFwiICsgKGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCAnJCRhLnNsaWNlKDAsJCRpKS5jb25jYXQoJCRhLnNsaWNlKCQkaSsxKSknKSkgKyBcIil9XCIgK1xuICAgIFwifWVsc2V7XCIgKyAoZ2VuQXNzaWdubWVudENvZGUodmFsdWUsICckJGMnKSkgKyBcIn1cIixcbiAgICBudWxsLCB0cnVlXG4gICk7XG59XG5cbmZ1bmN0aW9uIGdlblJhZGlvTW9kZWwgKFxuICBlbCxcbiAgdmFsdWUsXG4gIG1vZGlmaWVyc1xuKSB7XG4gIHZhciBudW1iZXIgPSBtb2RpZmllcnMgJiYgbW9kaWZpZXJzLm51bWJlcjtcbiAgdmFyIHZhbHVlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAndmFsdWUnKSB8fCAnbnVsbCc7XG4gIHZhbHVlQmluZGluZyA9IG51bWJlciA/IChcIl9uKFwiICsgdmFsdWVCaW5kaW5nICsgXCIpXCIpIDogdmFsdWVCaW5kaW5nO1xuICBhZGRQcm9wKGVsLCAnY2hlY2tlZCcsIChcIl9xKFwiICsgdmFsdWUgKyBcIixcIiArIHZhbHVlQmluZGluZyArIFwiKVwiKSk7XG4gIGFkZEhhbmRsZXIoZWwsICdjaGFuZ2UnLCBnZW5Bc3NpZ25tZW50Q29kZSh2YWx1ZSwgdmFsdWVCaW5kaW5nKSwgbnVsbCwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGdlblNlbGVjdCAoXG4gIGVsLFxuICB2YWx1ZSxcbiAgbW9kaWZpZXJzXG4pIHtcbiAgdmFyIG51bWJlciA9IG1vZGlmaWVycyAmJiBtb2RpZmllcnMubnVtYmVyO1xuICB2YXIgc2VsZWN0ZWRWYWwgPSBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiArXG4gICAgXCIuY2FsbCgkZXZlbnQudGFyZ2V0Lm9wdGlvbnMsZnVuY3Rpb24obyl7cmV0dXJuIG8uc2VsZWN0ZWR9KVwiICtcbiAgICBcIi5tYXAoZnVuY3Rpb24obyl7dmFyIHZhbCA9IFxcXCJfdmFsdWVcXFwiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWU7XCIgK1xuICAgIFwicmV0dXJuIFwiICsgKG51bWJlciA/ICdfbih2YWwpJyA6ICd2YWwnKSArIFwifSlcIjtcblxuICB2YXIgYXNzaWdubWVudCA9ICckZXZlbnQudGFyZ2V0Lm11bHRpcGxlID8gJCRzZWxlY3RlZFZhbCA6ICQkc2VsZWN0ZWRWYWxbMF0nO1xuICB2YXIgY29kZSA9IFwidmFyICQkc2VsZWN0ZWRWYWwgPSBcIiArIHNlbGVjdGVkVmFsICsgXCI7XCI7XG4gIGNvZGUgPSBjb2RlICsgXCIgXCIgKyAoZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIGFzc2lnbm1lbnQpKTtcbiAgYWRkSGFuZGxlcihlbCwgJ2NoYW5nZScsIGNvZGUsIG51bGwsIHRydWUpO1xufVxuXG5mdW5jdGlvbiBnZW5EZWZhdWx0TW9kZWwgKFxuICBlbCxcbiAgdmFsdWUsXG4gIG1vZGlmaWVyc1xuKSB7XG4gIHZhciB0eXBlID0gZWwuYXR0cnNNYXAudHlwZTtcblxuICAvLyB3YXJuIGlmIHYtYmluZDp2YWx1ZSBjb25mbGljdHMgd2l0aCB2LW1vZGVsXG4gIC8vIGV4Y2VwdCBmb3IgaW5wdXRzIHdpdGggdi1iaW5kOnR5cGVcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgdmFsdWUkMSA9IGVsLmF0dHJzTWFwWyd2LWJpbmQ6dmFsdWUnXSB8fCBlbC5hdHRyc01hcFsnOnZhbHVlJ107XG4gICAgdmFyIHR5cGVCaW5kaW5nID0gZWwuYXR0cnNNYXBbJ3YtYmluZDp0eXBlJ10gfHwgZWwuYXR0cnNNYXBbJzp0eXBlJ107XG4gICAgaWYgKHZhbHVlJDEgJiYgIXR5cGVCaW5kaW5nKSB7XG4gICAgICB2YXIgYmluZGluZyA9IGVsLmF0dHJzTWFwWyd2LWJpbmQ6dmFsdWUnXSA/ICd2LWJpbmQ6dmFsdWUnIDogJzp2YWx1ZSc7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGJpbmRpbmcgKyBcIj1cXFwiXCIgKyB2YWx1ZSQxICsgXCJcXFwiIGNvbmZsaWN0cyB3aXRoIHYtbW9kZWwgb24gdGhlIHNhbWUgZWxlbWVudCBcIiArXG4gICAgICAgICdiZWNhdXNlIHRoZSBsYXR0ZXIgYWxyZWFkeSBleHBhbmRzIHRvIGEgdmFsdWUgYmluZGluZyBpbnRlcm5hbGx5JyxcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbYmluZGluZ11cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHJlZiA9IG1vZGlmaWVycyB8fCB7fTtcbiAgdmFyIGxhenkgPSByZWYubGF6eTtcbiAgdmFyIG51bWJlciA9IHJlZi5udW1iZXI7XG4gIHZhciB0cmltID0gcmVmLnRyaW07XG4gIHZhciBuZWVkQ29tcG9zaXRpb25HdWFyZCA9ICFsYXp5ICYmIHR5cGUgIT09ICdyYW5nZSc7XG4gIHZhciBldmVudCA9IGxhenlcbiAgICA/ICdjaGFuZ2UnXG4gICAgOiB0eXBlID09PSAncmFuZ2UnXG4gICAgICA/IFJBTkdFX1RPS0VOXG4gICAgICA6ICdpbnB1dCc7XG5cbiAgdmFyIHZhbHVlRXhwcmVzc2lvbiA9ICckZXZlbnQudGFyZ2V0LnZhbHVlJztcbiAgaWYgKHRyaW0pIHtcbiAgICB2YWx1ZUV4cHJlc3Npb24gPSBcIiRldmVudC50YXJnZXQudmFsdWUudHJpbSgpXCI7XG4gIH1cbiAgaWYgKG51bWJlcikge1xuICAgIHZhbHVlRXhwcmVzc2lvbiA9IFwiX24oXCIgKyB2YWx1ZUV4cHJlc3Npb24gKyBcIilcIjtcbiAgfVxuXG4gIHZhciBjb2RlID0gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIHZhbHVlRXhwcmVzc2lvbik7XG4gIGlmIChuZWVkQ29tcG9zaXRpb25HdWFyZCkge1xuICAgIGNvZGUgPSBcImlmKCRldmVudC50YXJnZXQuY29tcG9zaW5nKXJldHVybjtcIiArIGNvZGU7XG4gIH1cblxuICBhZGRQcm9wKGVsLCAndmFsdWUnLCAoXCIoXCIgKyB2YWx1ZSArIFwiKVwiKSk7XG4gIGFkZEhhbmRsZXIoZWwsIGV2ZW50LCBjb2RlLCBudWxsLCB0cnVlKTtcbiAgaWYgKHRyaW0gfHwgbnVtYmVyKSB7XG4gICAgYWRkSGFuZGxlcihlbCwgJ2JsdXInLCAnJGZvcmNlVXBkYXRlKCknKTtcbiAgfVxufVxuXG4vKiAgKi9cblxuLy8gbm9ybWFsaXplIHYtbW9kZWwgZXZlbnQgdG9rZW5zIHRoYXQgY2FuIG9ubHkgYmUgZGV0ZXJtaW5lZCBhdCBydW50aW1lLlxuLy8gaXQncyBpbXBvcnRhbnQgdG8gcGxhY2UgdGhlIGV2ZW50IGFzIHRoZSBmaXJzdCBpbiB0aGUgYXJyYXkgYmVjYXVzZVxuLy8gdGhlIHdob2xlIHBvaW50IGlzIGVuc3VyaW5nIHRoZSB2LW1vZGVsIGNhbGxiYWNrIGdldHMgY2FsbGVkIGJlZm9yZVxuLy8gdXNlci1hdHRhY2hlZCBoYW5kbGVycy5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUV2ZW50cyAob24pIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChpc0RlZihvbltSQU5HRV9UT0tFTl0pKSB7XG4gICAgLy8gSUUgaW5wdXRbdHlwZT1yYW5nZV0gb25seSBzdXBwb3J0cyBgY2hhbmdlYCBldmVudFxuICAgIHZhciBldmVudCA9IGlzSUUgPyAnY2hhbmdlJyA6ICdpbnB1dCc7XG4gICAgb25bZXZlbnRdID0gW10uY29uY2F0KG9uW1JBTkdFX1RPS0VOXSwgb25bZXZlbnRdIHx8IFtdKTtcbiAgICBkZWxldGUgb25bUkFOR0VfVE9LRU5dO1xuICB9XG4gIC8vIFRoaXMgd2FzIG9yaWdpbmFsbHkgaW50ZW5kZWQgdG8gZml4ICM0NTIxIGJ1dCBubyBsb25nZXIgbmVjZXNzYXJ5XG4gIC8vIGFmdGVyIDIuNS4gS2VlcGluZyBpdCBmb3IgYmFja3dhcmRzIGNvbXBhdCB3aXRoIGdlbmVyYXRlZCBjb2RlIGZyb20gPCAyLjRcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChpc0RlZihvbltDSEVDS0JPWF9SQURJT19UT0tFTl0pKSB7XG4gICAgb24uY2hhbmdlID0gW10uY29uY2F0KG9uW0NIRUNLQk9YX1JBRElPX1RPS0VOXSwgb24uY2hhbmdlIHx8IFtdKTtcbiAgICBkZWxldGUgb25bQ0hFQ0tCT1hfUkFESU9fVE9LRU5dO1xuICB9XG59XG5cbnZhciB0YXJnZXQkMTtcblxuZnVuY3Rpb24gY3JlYXRlT25jZUhhbmRsZXIkMSAoZXZlbnQsIGhhbmRsZXIsIGNhcHR1cmUpIHtcbiAgdmFyIF90YXJnZXQgPSB0YXJnZXQkMTsgLy8gc2F2ZSBjdXJyZW50IHRhcmdldCBlbGVtZW50IGluIGNsb3N1cmVcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uY2VIYW5kbGVyICgpIHtcbiAgICB2YXIgcmVzID0gaGFuZGxlci5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIGlmIChyZXMgIT09IG51bGwpIHtcbiAgICAgIHJlbW92ZSQyKGV2ZW50LCBvbmNlSGFuZGxlciwgY2FwdHVyZSwgX3RhcmdldCk7XG4gICAgfVxuICB9XG59XG5cbi8vICM5NDQ2OiBGaXJlZm94IDw9IDUzIChpbiBwYXJ0aWN1bGFyLCBFU1IgNTIpIGhhcyBpbmNvcnJlY3QgRXZlbnQudGltZVN0YW1wXG4vLyBpbXBsZW1lbnRhdGlvbiBhbmQgZG9lcyBub3QgZmlyZSBtaWNyb3Rhc2tzIGluIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24sIHNvXG4vLyBzYWZlIHRvIGV4Y2x1ZGUuXG52YXIgdXNlTWljcm90YXNrRml4ID0gaXNVc2luZ01pY3JvVGFzayAmJiAhKGlzRkYgJiYgTnVtYmVyKGlzRkZbMV0pIDw9IDUzKTtcblxuZnVuY3Rpb24gYWRkJDEgKFxuICBuYW1lLFxuICBoYW5kbGVyLFxuICBjYXB0dXJlLFxuICBwYXNzaXZlXG4pIHtcbiAgLy8gYXN5bmMgZWRnZSBjYXNlICM2NTY2OiBpbm5lciBjbGljayBldmVudCB0cmlnZ2VycyBwYXRjaCwgZXZlbnQgaGFuZGxlclxuICAvLyBhdHRhY2hlZCB0byBvdXRlciBlbGVtZW50IGR1cmluZyBwYXRjaCwgYW5kIHRyaWdnZXJlZCBhZ2Fpbi4gVGhpc1xuICAvLyBoYXBwZW5zIGJlY2F1c2UgYnJvd3NlcnMgZmlyZSBtaWNyb3Rhc2sgdGlja3MgYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbi5cbiAgLy8gdGhlIHNvbHV0aW9uIGlzIHNpbXBsZTogd2Ugc2F2ZSB0aGUgdGltZXN0YW1wIHdoZW4gYSBoYW5kbGVyIGlzIGF0dGFjaGVkLFxuICAvLyBhbmQgdGhlIGhhbmRsZXIgd291bGQgb25seSBmaXJlIGlmIHRoZSBldmVudCBwYXNzZWQgdG8gaXQgd2FzIGZpcmVkXG4gIC8vIEFGVEVSIGl0IHdhcyBhdHRhY2hlZC5cbiAgaWYgKHVzZU1pY3JvdGFza0ZpeCkge1xuICAgIHZhciBhdHRhY2hlZFRpbWVzdGFtcCA9IGN1cnJlbnRGbHVzaFRpbWVzdGFtcDtcbiAgICB2YXIgb3JpZ2luYWwgPSBoYW5kbGVyO1xuICAgIGhhbmRsZXIgPSBvcmlnaW5hbC5fd3JhcHBlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIC8vIG5vIGJ1YmJsaW5nLCBzaG91bGQgYWx3YXlzIGZpcmUuXG4gICAgICAgIC8vIHRoaXMgaXMganVzdCBhIHNhZmV0eSBuZXQgaW4gY2FzZSBldmVudC50aW1lU3RhbXAgaXMgdW5yZWxpYWJsZSBpblxuICAgICAgICAvLyBjZXJ0YWluIHdlaXJkIGVudmlyb25tZW50cy4uLlxuICAgICAgICBlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0IHx8XG4gICAgICAgIC8vIGV2ZW50IGlzIGZpcmVkIGFmdGVyIGhhbmRsZXIgYXR0YWNobWVudFxuICAgICAgICBlLnRpbWVTdGFtcCA+PSBhdHRhY2hlZFRpbWVzdGFtcCB8fFxuICAgICAgICAvLyBiYWlsIGZvciBlbnZpcm9ubWVudHMgdGhhdCBoYXZlIGJ1Z2d5IGV2ZW50LnRpbWVTdGFtcCBpbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgLy8gIzk0NjIgaU9TIDkgYnVnOiBldmVudC50aW1lU3RhbXAgaXMgMCBhZnRlciBoaXN0b3J5LnB1c2hTdGF0ZVxuICAgICAgICAvLyAjOTY4MSBRdFdlYkVuZ2luZSBldmVudC50aW1lU3RhbXAgaXMgbmVnYXRpdmUgdmFsdWVcbiAgICAgICAgZS50aW1lU3RhbXAgPD0gMCB8fFxuICAgICAgICAvLyAjOTQ0OCBiYWlsIGlmIGV2ZW50IGlzIGZpcmVkIGluIGFub3RoZXIgZG9jdW1lbnQgaW4gYSBtdWx0aS1wYWdlXG4gICAgICAgIC8vIGVsZWN0cm9uL253LmpzIGFwcCwgc2luY2UgZXZlbnQudGltZVN0YW1wIHdpbGwgYmUgdXNpbmcgYSBkaWZmZXJlbnRcbiAgICAgICAgLy8gc3RhcnRpbmcgcmVmZXJlbmNlXG4gICAgICAgIGUudGFyZ2V0Lm93bmVyRG9jdW1lbnQgIT09IGRvY3VtZW50XG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHRhcmdldCQxLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgbmFtZSxcbiAgICBoYW5kbGVyLFxuICAgIHN1cHBvcnRzUGFzc2l2ZVxuICAgICAgPyB7IGNhcHR1cmU6IGNhcHR1cmUsIHBhc3NpdmU6IHBhc3NpdmUgfVxuICAgICAgOiBjYXB0dXJlXG4gICk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSQyIChcbiAgbmFtZSxcbiAgaGFuZGxlcixcbiAgY2FwdHVyZSxcbiAgX3RhcmdldFxuKSB7XG4gIChfdGFyZ2V0IHx8IHRhcmdldCQxKS5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgIG5hbWUsXG4gICAgaGFuZGxlci5fd3JhcHBlciB8fCBoYW5kbGVyLFxuICAgIGNhcHR1cmVcbiAgKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRE9NTGlzdGVuZXJzIChvbGRWbm9kZSwgdm5vZGUpIHtcbiAgaWYgKGlzVW5kZWYob2xkVm5vZGUuZGF0YS5vbikgJiYgaXNVbmRlZih2bm9kZS5kYXRhLm9uKSkge1xuICAgIHJldHVyblxuICB9XG4gIHZhciBvbiA9IHZub2RlLmRhdGEub24gfHwge307XG4gIHZhciBvbGRPbiA9IG9sZFZub2RlLmRhdGEub24gfHwge307XG4gIHRhcmdldCQxID0gdm5vZGUuZWxtO1xuICBub3JtYWxpemVFdmVudHMob24pO1xuICB1cGRhdGVMaXN0ZW5lcnMob24sIG9sZE9uLCBhZGQkMSwgcmVtb3ZlJDIsIGNyZWF0ZU9uY2VIYW5kbGVyJDEsIHZub2RlLmNvbnRleHQpO1xuICB0YXJnZXQkMSA9IHVuZGVmaW5lZDtcbn1cblxudmFyIGV2ZW50cyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVET01MaXN0ZW5lcnMsXG4gIHVwZGF0ZTogdXBkYXRlRE9NTGlzdGVuZXJzXG59O1xuXG4vKiAgKi9cblxudmFyIHN2Z0NvbnRhaW5lcjtcblxuZnVuY3Rpb24gdXBkYXRlRE9NUHJvcHMgKG9sZFZub2RlLCB2bm9kZSkge1xuICBpZiAoaXNVbmRlZihvbGRWbm9kZS5kYXRhLmRvbVByb3BzKSAmJiBpc1VuZGVmKHZub2RlLmRhdGEuZG9tUHJvcHMpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGtleSwgY3VyO1xuICB2YXIgZWxtID0gdm5vZGUuZWxtO1xuICB2YXIgb2xkUHJvcHMgPSBvbGRWbm9kZS5kYXRhLmRvbVByb3BzIHx8IHt9O1xuICB2YXIgcHJvcHMgPSB2bm9kZS5kYXRhLmRvbVByb3BzIHx8IHt9O1xuICAvLyBjbG9uZSBvYnNlcnZlZCBvYmplY3RzLCBhcyB0aGUgdXNlciBwcm9iYWJseSB3YW50cyB0byBtdXRhdGUgaXRcbiAgaWYgKGlzRGVmKHByb3BzLl9fb2JfXykpIHtcbiAgICBwcm9wcyA9IHZub2RlLmRhdGEuZG9tUHJvcHMgPSBleHRlbmQoe30sIHByb3BzKTtcbiAgfVxuXG4gIGZvciAoa2V5IGluIG9sZFByb3BzKSB7XG4gICAgaWYgKCEoa2V5IGluIHByb3BzKSkge1xuICAgICAgZWxtW2tleV0gPSAnJztcbiAgICB9XG4gIH1cblxuICBmb3IgKGtleSBpbiBwcm9wcykge1xuICAgIGN1ciA9IHByb3BzW2tleV07XG4gICAgLy8gaWdub3JlIGNoaWxkcmVuIGlmIHRoZSBub2RlIGhhcyB0ZXh0Q29udGVudCBvciBpbm5lckhUTUwsXG4gICAgLy8gYXMgdGhlc2Ugd2lsbCB0aHJvdyBhd2F5IGV4aXN0aW5nIERPTSBub2RlcyBhbmQgY2F1c2UgcmVtb3ZhbCBlcnJvcnNcbiAgICAvLyBvbiBzdWJzZXF1ZW50IHBhdGNoZXMgKCMzMzYwKVxuICAgIGlmIChrZXkgPT09ICd0ZXh0Q29udGVudCcgfHwga2V5ID09PSAnaW5uZXJIVE1MJykge1xuICAgICAgaWYgKHZub2RlLmNoaWxkcmVuKSB7IHZub2RlLmNoaWxkcmVuLmxlbmd0aCA9IDA7IH1cbiAgICAgIGlmIChjdXIgPT09IG9sZFByb3BzW2tleV0pIHsgY29udGludWUgfVxuICAgICAgLy8gIzY2MDEgd29yayBhcm91bmQgQ2hyb21lIHZlcnNpb24gPD0gNTUgYnVnIHdoZXJlIHNpbmdsZSB0ZXh0Tm9kZVxuICAgICAgLy8gcmVwbGFjZWQgYnkgaW5uZXJIVE1ML3RleHRDb250ZW50IHJldGFpbnMgaXRzIHBhcmVudE5vZGUgcHJvcGVydHlcbiAgICAgIGlmIChlbG0uY2hpbGROb2Rlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZWxtLnJlbW92ZUNoaWxkKGVsbS5jaGlsZE5vZGVzWzBdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAndmFsdWUnICYmIGVsbS50YWdOYW1lICE9PSAnUFJPR1JFU1MnKSB7XG4gICAgICAvLyBzdG9yZSB2YWx1ZSBhcyBfdmFsdWUgYXMgd2VsbCBzaW5jZVxuICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZFxuICAgICAgZWxtLl92YWx1ZSA9IGN1cjtcbiAgICAgIC8vIGF2b2lkIHJlc2V0dGluZyBjdXJzb3IgcG9zaXRpb24gd2hlbiB2YWx1ZSBpcyB0aGUgc2FtZVxuICAgICAgdmFyIHN0ckN1ciA9IGlzVW5kZWYoY3VyKSA/ICcnIDogU3RyaW5nKGN1cik7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlVmFsdWUoZWxtLCBzdHJDdXIpKSB7XG4gICAgICAgIGVsbS52YWx1ZSA9IHN0ckN1cjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2lubmVySFRNTCcgJiYgaXNTVkcoZWxtLnRhZ05hbWUpICYmIGlzVW5kZWYoZWxtLmlubmVySFRNTCkpIHtcbiAgICAgIC8vIElFIGRvZXNuJ3Qgc3VwcG9ydCBpbm5lckhUTUwgZm9yIFNWRyBlbGVtZW50c1xuICAgICAgc3ZnQ29udGFpbmVyID0gc3ZnQ29udGFpbmVyIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc3ZnQ29udGFpbmVyLmlubmVySFRNTCA9IFwiPHN2Zz5cIiArIGN1ciArIFwiPC9zdmc+XCI7XG4gICAgICB2YXIgc3ZnID0gc3ZnQ29udGFpbmVyLmZpcnN0Q2hpbGQ7XG4gICAgICB3aGlsZSAoZWxtLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgZWxtLnJlbW92ZUNoaWxkKGVsbS5maXJzdENoaWxkKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzdmcuZmlyc3RDaGlsZCkge1xuICAgICAgICBlbG0uYXBwZW5kQ2hpbGQoc3ZnLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBza2lwIHRoZSB1cGRhdGUgaWYgb2xkIGFuZCBuZXcgVkRPTSBzdGF0ZSBpcyB0aGUgc2FtZS5cbiAgICAgIC8vIGB2YWx1ZWAgaXMgaGFuZGxlZCBzZXBhcmF0ZWx5IGJlY2F1c2UgdGhlIERPTSB2YWx1ZSBtYXkgYmUgdGVtcG9yYXJpbHlcbiAgICAgIC8vIG91dCBvZiBzeW5jIHdpdGggVkRPTSBzdGF0ZSBkdWUgdG8gZm9jdXMsIGNvbXBvc2l0aW9uIGFuZCBtb2RpZmllcnMuXG4gICAgICAvLyBUaGlzICAjNDUyMSBieSBza2lwcGluZyB0aGUgdW5uZWNlc3NhcnkgYGNoZWNrZWRgIHVwZGF0ZS5cbiAgICAgIGN1ciAhPT0gb2xkUHJvcHNba2V5XVxuICAgICkge1xuICAgICAgLy8gc29tZSBwcm9wZXJ0eSB1cGRhdGVzIGNhbiB0aHJvd1xuICAgICAgLy8gZS5nLiBgdmFsdWVgIG9uIDxwcm9ncmVzcz4gdy8gbm9uLWZpbml0ZSB2YWx1ZVxuICAgICAgdHJ5IHtcbiAgICAgICAgZWxtW2tleV0gPSBjdXI7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxufVxuXG4vLyBjaGVjayBwbGF0Zm9ybXMvd2ViL3V0aWwvYXR0cnMuanMgYWNjZXB0VmFsdWVcblxuXG5mdW5jdGlvbiBzaG91bGRVcGRhdGVWYWx1ZSAoZWxtLCBjaGVja1ZhbCkge1xuICByZXR1cm4gKCFlbG0uY29tcG9zaW5nICYmIChcbiAgICBlbG0udGFnTmFtZSA9PT0gJ09QVElPTicgfHxcbiAgICBpc05vdEluRm9jdXNBbmREaXJ0eShlbG0sIGNoZWNrVmFsKSB8fFxuICAgIGlzRGlydHlXaXRoTW9kaWZpZXJzKGVsbSwgY2hlY2tWYWwpXG4gICkpXG59XG5cbmZ1bmN0aW9uIGlzTm90SW5Gb2N1c0FuZERpcnR5IChlbG0sIGNoZWNrVmFsKSB7XG4gIC8vIHJldHVybiB0cnVlIHdoZW4gdGV4dGJveCAoLm51bWJlciBhbmQgLnRyaW0pIGxvc2VzIGZvY3VzIGFuZCBpdHMgdmFsdWUgaXNcbiAgLy8gbm90IGVxdWFsIHRvIHRoZSB1cGRhdGVkIHZhbHVlXG4gIHZhciBub3RJbkZvY3VzID0gdHJ1ZTtcbiAgLy8gIzYxNTdcbiAgLy8gd29yayBhcm91bmQgSUUgYnVnIHdoZW4gYWNjZXNzaW5nIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW4gYW4gaWZyYW1lXG4gIHRyeSB7IG5vdEluRm9jdXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBlbG07IH0gY2F0Y2ggKGUpIHt9XG4gIHJldHVybiBub3RJbkZvY3VzICYmIGVsbS52YWx1ZSAhPT0gY2hlY2tWYWxcbn1cblxuZnVuY3Rpb24gaXNEaXJ0eVdpdGhNb2RpZmllcnMgKGVsbSwgbmV3VmFsKSB7XG4gIHZhciB2YWx1ZSA9IGVsbS52YWx1ZTtcbiAgdmFyIG1vZGlmaWVycyA9IGVsbS5fdk1vZGlmaWVyczsgLy8gaW5qZWN0ZWQgYnkgdi1tb2RlbCBydW50aW1lXG4gIGlmIChpc0RlZihtb2RpZmllcnMpKSB7XG4gICAgaWYgKG1vZGlmaWVycy5udW1iZXIpIHtcbiAgICAgIHJldHVybiB0b051bWJlcih2YWx1ZSkgIT09IHRvTnVtYmVyKG5ld1ZhbClcbiAgICB9XG4gICAgaWYgKG1vZGlmaWVycy50cmltKSB7XG4gICAgICByZXR1cm4gdmFsdWUudHJpbSgpICE9PSBuZXdWYWwudHJpbSgpXG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZSAhPT0gbmV3VmFsXG59XG5cbnZhciBkb21Qcm9wcyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVET01Qcm9wcyxcbiAgdXBkYXRlOiB1cGRhdGVET01Qcm9wc1xufTtcblxuLyogICovXG5cbnZhciBwYXJzZVN0eWxlVGV4dCA9IGNhY2hlZChmdW5jdGlvbiAoY3NzVGV4dCkge1xuICB2YXIgcmVzID0ge307XG4gIHZhciBsaXN0RGVsaW1pdGVyID0gLzsoPyFbXihdKlxcKSkvZztcbiAgdmFyIHByb3BlcnR5RGVsaW1pdGVyID0gLzooLispLztcbiAgY3NzVGV4dC5zcGxpdChsaXN0RGVsaW1pdGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIHZhciB0bXAgPSBpdGVtLnNwbGl0KHByb3BlcnR5RGVsaW1pdGVyKTtcbiAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXNbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzXG59KTtcblxuLy8gbWVyZ2Ugc3RhdGljIGFuZCBkeW5hbWljIHN0eWxlIGRhdGEgb24gdGhlIHNhbWUgdm5vZGVcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlRGF0YSAoZGF0YSkge1xuICB2YXIgc3R5bGUgPSBub3JtYWxpemVTdHlsZUJpbmRpbmcoZGF0YS5zdHlsZSk7XG4gIC8vIHN0YXRpYyBzdHlsZSBpcyBwcmUtcHJvY2Vzc2VkIGludG8gYW4gb2JqZWN0IGR1cmluZyBjb21waWxhdGlvblxuICAvLyBhbmQgaXMgYWx3YXlzIGEgZnJlc2ggb2JqZWN0LCBzbyBpdCdzIHNhZmUgdG8gbWVyZ2UgaW50byBpdFxuICByZXR1cm4gZGF0YS5zdGF0aWNTdHlsZVxuICAgID8gZXh0ZW5kKGRhdGEuc3RhdGljU3R5bGUsIHN0eWxlKVxuICAgIDogc3R5bGVcbn1cblxuLy8gbm9ybWFsaXplIHBvc3NpYmxlIGFycmF5IC8gc3RyaW5nIHZhbHVlcyBpbnRvIE9iamVjdFxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGVCaW5kaW5nIChiaW5kaW5nU3R5bGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYmluZGluZ1N0eWxlKSkge1xuICAgIHJldHVybiB0b09iamVjdChiaW5kaW5nU3R5bGUpXG4gIH1cbiAgaWYgKHR5cGVvZiBiaW5kaW5nU3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBhcnNlU3R5bGVUZXh0KGJpbmRpbmdTdHlsZSlcbiAgfVxuICByZXR1cm4gYmluZGluZ1N0eWxlXG59XG5cbi8qKlxuICogcGFyZW50IGNvbXBvbmVudCBzdHlsZSBzaG91bGQgYmUgYWZ0ZXIgY2hpbGQnc1xuICogc28gdGhhdCBwYXJlbnQgY29tcG9uZW50J3Mgc3R5bGUgY291bGQgb3ZlcnJpZGUgaXRcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGUgKHZub2RlLCBjaGVja0NoaWxkKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIHN0eWxlRGF0YTtcblxuICBpZiAoY2hlY2tDaGlsZCkge1xuICAgIHZhciBjaGlsZE5vZGUgPSB2bm9kZTtcbiAgICB3aGlsZSAoY2hpbGROb2RlLmNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlO1xuICAgICAgaWYgKFxuICAgICAgICBjaGlsZE5vZGUgJiYgY2hpbGROb2RlLmRhdGEgJiZcbiAgICAgICAgKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YShjaGlsZE5vZGUuZGF0YSkpXG4gICAgICApIHtcbiAgICAgICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YSh2bm9kZS5kYXRhKSkpIHtcbiAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpO1xuICB9XG5cbiAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTtcbiAgd2hpbGUgKChwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnQpKSB7XG4gICAgaWYgKHBhcmVudE5vZGUuZGF0YSAmJiAoc3R5bGVEYXRhID0gbm9ybWFsaXplU3R5bGVEYXRhKHBhcmVudE5vZGUuZGF0YSkpKSB7XG4gICAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qICAqL1xuXG52YXIgY3NzVmFyUkUgPSAvXi0tLztcbnZhciBpbXBvcnRhbnRSRSA9IC9cXHMqIWltcG9ydGFudCQvO1xudmFyIHNldFByb3AgPSBmdW5jdGlvbiAoZWwsIG5hbWUsIHZhbCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGNzc1ZhclJFLnRlc3QobmFtZSkpIHtcbiAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xuICB9IGVsc2UgaWYgKGltcG9ydGFudFJFLnRlc3QodmFsKSkge1xuICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KGh5cGhlbmF0ZShuYW1lKSwgdmFsLnJlcGxhY2UoaW1wb3J0YW50UkUsICcnKSwgJ2ltcG9ydGFudCcpO1xuICB9IGVsc2Uge1xuICAgIHZhciBub3JtYWxpemVkTmFtZSA9IG5vcm1hbGl6ZShuYW1lKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAvLyBTdXBwb3J0IHZhbHVlcyBhcnJheSBjcmVhdGVkIGJ5IGF1dG9wcmVmaXhlciwgZS5nLlxuICAgICAgLy8ge2Rpc3BsYXk6IFtcIi13ZWJraXQtYm94XCIsIFwiLW1zLWZsZXhib3hcIiwgXCJmbGV4XCJdfVxuICAgICAgLy8gU2V0IHRoZW0gb25lIGJ5IG9uZSwgYW5kIHRoZSBicm93c2VyIHdpbGwgb25seSBzZXQgdGhvc2UgaXQgY2FuIHJlY29nbml6ZVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBlbC5zdHlsZVtub3JtYWxpemVkTmFtZV0gPSB2YWxbaV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnN0eWxlW25vcm1hbGl6ZWROYW1lXSA9IHZhbDtcbiAgICB9XG4gIH1cbn07XG5cbnZhciB2ZW5kb3JOYW1lcyA9IFsnV2Via2l0JywgJ01veicsICdtcyddO1xuXG52YXIgZW1wdHlTdHlsZTtcbnZhciBub3JtYWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHByb3ApIHtcbiAgZW1wdHlTdHlsZSA9IGVtcHR5U3R5bGUgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XG4gIHByb3AgPSBjYW1lbGl6ZShwcm9wKTtcbiAgaWYgKHByb3AgIT09ICdmaWx0ZXInICYmIChwcm9wIGluIGVtcHR5U3R5bGUpKSB7XG4gICAgcmV0dXJuIHByb3BcbiAgfVxuICB2YXIgY2FwTmFtZSA9IHByb3AuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnNsaWNlKDEpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHZlbmRvck5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG5hbWUgPSB2ZW5kb3JOYW1lc1tpXSArIGNhcE5hbWU7XG4gICAgaWYgKG5hbWUgaW4gZW1wdHlTdHlsZSkge1xuICAgICAgcmV0dXJuIG5hbWVcbiAgICB9XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiB1cGRhdGVTdHlsZSAob2xkVm5vZGUsIHZub2RlKSB7XG4gIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhO1xuXG4gIGlmIChpc1VuZGVmKGRhdGEuc3RhdGljU3R5bGUpICYmIGlzVW5kZWYoZGF0YS5zdHlsZSkgJiZcbiAgICBpc1VuZGVmKG9sZERhdGEuc3RhdGljU3R5bGUpICYmIGlzVW5kZWYob2xkRGF0YS5zdHlsZSlcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY3VyLCBuYW1lO1xuICB2YXIgZWwgPSB2bm9kZS5lbG07XG4gIHZhciBvbGRTdGF0aWNTdHlsZSA9IG9sZERhdGEuc3RhdGljU3R5bGU7XG4gIHZhciBvbGRTdHlsZUJpbmRpbmcgPSBvbGREYXRhLm5vcm1hbGl6ZWRTdHlsZSB8fCBvbGREYXRhLnN0eWxlIHx8IHt9O1xuXG4gIC8vIGlmIHN0YXRpYyBzdHlsZSBleGlzdHMsIHN0eWxlYmluZGluZyBhbHJlYWR5IG1lcmdlZCBpbnRvIGl0IHdoZW4gZG9pbmcgbm9ybWFsaXplU3R5bGVEYXRhXG4gIHZhciBvbGRTdHlsZSA9IG9sZFN0YXRpY1N0eWxlIHx8IG9sZFN0eWxlQmluZGluZztcblxuICB2YXIgc3R5bGUgPSBub3JtYWxpemVTdHlsZUJpbmRpbmcodm5vZGUuZGF0YS5zdHlsZSkgfHwge307XG5cbiAgLy8gc3RvcmUgbm9ybWFsaXplZCBzdHlsZSB1bmRlciBhIGRpZmZlcmVudCBrZXkgZm9yIG5leHQgZGlmZlxuICAvLyBtYWtlIHN1cmUgdG8gY2xvbmUgaXQgaWYgaXQncyByZWFjdGl2ZSwgc2luY2UgdGhlIHVzZXIgbGlrZWx5IHdhbnRzXG4gIC8vIHRvIG11dGF0ZSBpdC5cbiAgdm5vZGUuZGF0YS5ub3JtYWxpemVkU3R5bGUgPSBpc0RlZihzdHlsZS5fX29iX18pXG4gICAgPyBleHRlbmQoe30sIHN0eWxlKVxuICAgIDogc3R5bGU7XG5cbiAgdmFyIG5ld1N0eWxlID0gZ2V0U3R5bGUodm5vZGUsIHRydWUpO1xuXG4gIGZvciAobmFtZSBpbiBvbGRTdHlsZSkge1xuICAgIGlmIChpc1VuZGVmKG5ld1N0eWxlW25hbWVdKSkge1xuICAgICAgc2V0UHJvcChlbCwgbmFtZSwgJycpO1xuICAgIH1cbiAgfVxuICBmb3IgKG5hbWUgaW4gbmV3U3R5bGUpIHtcbiAgICBjdXIgPSBuZXdTdHlsZVtuYW1lXTtcbiAgICBpZiAoY3VyICE9PSBvbGRTdHlsZVtuYW1lXSkge1xuICAgICAgLy8gaWU5IHNldHRpbmcgdG8gbnVsbCBoYXMgbm8gZWZmZWN0LCBtdXN0IHVzZSBlbXB0eSBzdHJpbmdcbiAgICAgIHNldFByb3AoZWwsIG5hbWUsIGN1ciA9PSBudWxsID8gJycgOiBjdXIpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgc3R5bGUgPSB7XG4gIGNyZWF0ZTogdXBkYXRlU3R5bGUsXG4gIHVwZGF0ZTogdXBkYXRlU3R5bGVcbn07XG5cbi8qICAqL1xuXG52YXIgd2hpdGVzcGFjZVJFID0gL1xccysvO1xuXG4vKipcbiAqIEFkZCBjbGFzcyB3aXRoIGNvbXBhdGliaWxpdHkgZm9yIFNWRyBzaW5jZSBjbGFzc0xpc3QgaXMgbm90IHN1cHBvcnRlZCBvblxuICogU1ZHIGVsZW1lbnRzIGluIElFXG4gKi9cbmZ1bmN0aW9uIGFkZENsYXNzIChlbCwgY2xzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIWNscyB8fCAhKGNscyA9IGNscy50cmltKCkpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgaWYgKGNscy5pbmRleE9mKCcgJykgPiAtMSkge1xuICAgICAgY2xzLnNwbGl0KHdoaXRlc3BhY2VSRSkuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LmFkZChjKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGN1ciA9IFwiIFwiICsgKGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyBcIiBcIjtcbiAgICBpZiAoY3VyLmluZGV4T2YoJyAnICsgY2xzICsgJyAnKSA8IDApIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoY3VyICsgY2xzKS50cmltKCkpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZSBjbGFzcyB3aXRoIGNvbXBhdGliaWxpdHkgZm9yIFNWRyBzaW5jZSBjbGFzc0xpc3QgaXMgbm90IHN1cHBvcnRlZCBvblxuICogU1ZHIGVsZW1lbnRzIGluIElFXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzIChlbCwgY2xzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIWNscyB8fCAhKGNscyA9IGNscy50cmltKCkpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgaWYgKGNscy5pbmRleE9mKCcgJykgPiAtMSkge1xuICAgICAgY2xzLnNwbGl0KHdoaXRlc3BhY2VSRSkuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LnJlbW92ZShjKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xzKTtcbiAgICB9XG4gICAgaWYgKCFlbC5jbGFzc0xpc3QubGVuZ3RoKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBjdXIgPSBcIiBcIiArIChlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgXCIgXCI7XG4gICAgdmFyIHRhciA9ICcgJyArIGNscyArICcgJztcbiAgICB3aGlsZSAoY3VyLmluZGV4T2YodGFyKSA+PSAwKSB7XG4gICAgICBjdXIgPSBjdXIucmVwbGFjZSh0YXIsICcgJyk7XG4gICAgfVxuICAgIGN1ciA9IGN1ci50cmltKCk7XG4gICAgaWYgKGN1cikge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGN1cik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uIChkZWYkJDEpIHtcbiAgaWYgKCFkZWYkJDEpIHtcbiAgICByZXR1cm5cbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAodHlwZW9mIGRlZiQkMSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgcmVzID0ge307XG4gICAgaWYgKGRlZiQkMS5jc3MgIT09IGZhbHNlKSB7XG4gICAgICBleHRlbmQocmVzLCBhdXRvQ3NzVHJhbnNpdGlvbihkZWYkJDEubmFtZSB8fCAndicpKTtcbiAgICB9XG4gICAgZXh0ZW5kKHJlcywgZGVmJCQxKTtcbiAgICByZXR1cm4gcmVzXG4gIH0gZWxzZSBpZiAodHlwZW9mIGRlZiQkMSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gYXV0b0Nzc1RyYW5zaXRpb24oZGVmJCQxKVxuICB9XG59XG5cbnZhciBhdXRvQ3NzVHJhbnNpdGlvbiA9IGNhY2hlZChmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4ge1xuICAgIGVudGVyQ2xhc3M6IChuYW1lICsgXCItZW50ZXJcIiksXG4gICAgZW50ZXJUb0NsYXNzOiAobmFtZSArIFwiLWVudGVyLXRvXCIpLFxuICAgIGVudGVyQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItZW50ZXItYWN0aXZlXCIpLFxuICAgIGxlYXZlQ2xhc3M6IChuYW1lICsgXCItbGVhdmVcIiksXG4gICAgbGVhdmVUb0NsYXNzOiAobmFtZSArIFwiLWxlYXZlLXRvXCIpLFxuICAgIGxlYXZlQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItbGVhdmUtYWN0aXZlXCIpXG4gIH1cbn0pO1xuXG52YXIgaGFzVHJhbnNpdGlvbiA9IGluQnJvd3NlciAmJiAhaXNJRTk7XG52YXIgVFJBTlNJVElPTiA9ICd0cmFuc2l0aW9uJztcbnZhciBBTklNQVRJT04gPSAnYW5pbWF0aW9uJztcblxuLy8gVHJhbnNpdGlvbiBwcm9wZXJ0eS9ldmVudCBzbmlmZmluZ1xudmFyIHRyYW5zaXRpb25Qcm9wID0gJ3RyYW5zaXRpb24nO1xudmFyIHRyYW5zaXRpb25FbmRFdmVudCA9ICd0cmFuc2l0aW9uZW5kJztcbnZhciBhbmltYXRpb25Qcm9wID0gJ2FuaW1hdGlvbic7XG52YXIgYW5pbWF0aW9uRW5kRXZlbnQgPSAnYW5pbWF0aW9uZW5kJztcbmlmIChoYXNUcmFuc2l0aW9uKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAod2luZG93Lm9udHJhbnNpdGlvbmVuZCA9PT0gdW5kZWZpbmVkICYmXG4gICAgd2luZG93Lm9ud2Via2l0dHJhbnNpdGlvbmVuZCAhPT0gdW5kZWZpbmVkXG4gICkge1xuICAgIHRyYW5zaXRpb25Qcm9wID0gJ1dlYmtpdFRyYW5zaXRpb24nO1xuICAgIHRyYW5zaXRpb25FbmRFdmVudCA9ICd3ZWJraXRUcmFuc2l0aW9uRW5kJztcbiAgfVxuICBpZiAod2luZG93Lm9uYW5pbWF0aW9uZW5kID09PSB1bmRlZmluZWQgJiZcbiAgICB3aW5kb3cub253ZWJraXRhbmltYXRpb25lbmQgIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICBhbmltYXRpb25Qcm9wID0gJ1dlYmtpdEFuaW1hdGlvbic7XG4gICAgYW5pbWF0aW9uRW5kRXZlbnQgPSAnd2Via2l0QW5pbWF0aW9uRW5kJztcbiAgfVxufVxuXG4vLyBiaW5kaW5nIHRvIHdpbmRvdyBpcyBuZWNlc3NhcnkgdG8gbWFrZSBob3QgcmVsb2FkIHdvcmsgaW4gSUUgaW4gc3RyaWN0IG1vZGVcbnZhciByYWYgPSBpbkJyb3dzZXJcbiAgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KVxuICAgIDogc2V0VGltZW91dFxuICA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm4oKTsgfTtcblxuZnVuY3Rpb24gbmV4dEZyYW1lIChmbikge1xuICByYWYoZnVuY3Rpb24gKCkge1xuICAgIHJhZihmbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MgKGVsLCBjbHMpIHtcbiAgdmFyIHRyYW5zaXRpb25DbGFzc2VzID0gZWwuX3RyYW5zaXRpb25DbGFzc2VzIHx8IChlbC5fdHJhbnNpdGlvbkNsYXNzZXMgPSBbXSk7XG4gIGlmICh0cmFuc2l0aW9uQ2xhc3Nlcy5pbmRleE9mKGNscykgPCAwKSB7XG4gICAgdHJhbnNpdGlvbkNsYXNzZXMucHVzaChjbHMpO1xuICAgIGFkZENsYXNzKGVsLCBjbHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25DbGFzcyAoZWwsIGNscykge1xuICBpZiAoZWwuX3RyYW5zaXRpb25DbGFzc2VzKSB7XG4gICAgcmVtb3ZlKGVsLl90cmFuc2l0aW9uQ2xhc3NlcywgY2xzKTtcbiAgfVxuICByZW1vdmVDbGFzcyhlbCwgY2xzKTtcbn1cblxuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzIChcbiAgZWwsXG4gIGV4cGVjdGVkVHlwZSxcbiAgY2Jcbikge1xuICB2YXIgcmVmID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG4gIHZhciB0eXBlID0gcmVmLnR5cGU7XG4gIHZhciB0aW1lb3V0ID0gcmVmLnRpbWVvdXQ7XG4gIHZhciBwcm9wQ291bnQgPSByZWYucHJvcENvdW50O1xuICBpZiAoIXR5cGUpIHsgcmV0dXJuIGNiKCkgfVxuICB2YXIgZXZlbnQgPSB0eXBlID09PSBUUkFOU0lUSU9OID8gdHJhbnNpdGlvbkVuZEV2ZW50IDogYW5pbWF0aW9uRW5kRXZlbnQ7XG4gIHZhciBlbmRlZCA9IDA7XG4gIHZhciBlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xuICAgIGNiKCk7XG4gIH07XG4gIHZhciBvbkVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBlbCkge1xuICAgICAgaWYgKCsrZW5kZWQgPj0gcHJvcENvdW50KSB7XG4gICAgICAgIGVuZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XG4gICAgICBlbmQoKTtcbiAgICB9XG4gIH0sIHRpbWVvdXQgKyAxKTtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xufVxuXG52YXIgdHJhbnNmb3JtUkUgPSAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvO1xuXG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyAoZWwsIGV4cGVjdGVkVHlwZSkge1xuICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICAvLyBKU0RPTSBtYXkgcmV0dXJuIHVuZGVmaW5lZCBmb3IgdHJhbnNpdGlvbiBwcm9wZXJ0aWVzXG4gIHZhciB0cmFuc2l0aW9uRGVsYXlzID0gKHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdEZWxheSddIHx8ICcnKS5zcGxpdCgnLCAnKTtcbiAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbnMgPSAoc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ0R1cmF0aW9uJ10gfHwgJycpLnNwbGl0KCcsICcpO1xuICB2YXIgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuICB2YXIgYW5pbWF0aW9uRGVsYXlzID0gKHN0eWxlc1thbmltYXRpb25Qcm9wICsgJ0RlbGF5J10gfHwgJycpLnNwbGl0KCcsICcpO1xuICB2YXIgYW5pbWF0aW9uRHVyYXRpb25zID0gKHN0eWxlc1thbmltYXRpb25Qcm9wICsgJ0R1cmF0aW9uJ10gfHwgJycpLnNwbGl0KCcsICcpO1xuICB2YXIgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xuXG4gIHZhciB0eXBlO1xuICB2YXIgdGltZW91dCA9IDA7XG4gIHZhciBwcm9wQ291bnQgPSAwO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gVFJBTlNJVElPTikge1xuICAgIGlmICh0cmFuc2l0aW9uVGltZW91dCA+IDApIHtcbiAgICAgIHR5cGUgPSBUUkFOU0lUSU9OO1xuICAgICAgdGltZW91dCA9IHRyYW5zaXRpb25UaW1lb3V0O1xuICAgICAgcHJvcENvdW50ID0gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGg7XG4gICAgfVxuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7XG4gICAgaWYgKGFuaW1hdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICB0eXBlID0gQU5JTUFUSU9OO1xuICAgICAgdGltZW91dCA9IGFuaW1hdGlvblRpbWVvdXQ7XG4gICAgICBwcm9wQ291bnQgPSBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aW1lb3V0ID0gTWF0aC5tYXgodHJhbnNpdGlvblRpbWVvdXQsIGFuaW1hdGlvblRpbWVvdXQpO1xuICAgIHR5cGUgPSB0aW1lb3V0ID4gMFxuICAgICAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXRcbiAgICAgICAgPyBUUkFOU0lUSU9OXG4gICAgICAgIDogQU5JTUFUSU9OXG4gICAgICA6IG51bGw7XG4gICAgcHJvcENvdW50ID0gdHlwZVxuICAgICAgPyB0eXBlID09PSBUUkFOU0lUSU9OXG4gICAgICAgID8gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGhcbiAgICAgICAgOiBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoXG4gICAgICA6IDA7XG4gIH1cbiAgdmFyIGhhc1RyYW5zZm9ybSA9XG4gICAgdHlwZSA9PT0gVFJBTlNJVElPTiAmJlxuICAgIHRyYW5zZm9ybVJFLnRlc3Qoc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ1Byb3BlcnR5J10pO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHR5cGUsXG4gICAgdGltZW91dDogdGltZW91dCxcbiAgICBwcm9wQ291bnQ6IHByb3BDb3VudCxcbiAgICBoYXNUcmFuc2Zvcm06IGhhc1RyYW5zZm9ybVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFRpbWVvdXQgKGRlbGF5cywgZHVyYXRpb25zKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xuICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBkdXJhdGlvbnMubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgcmV0dXJuIHRvTXMoZCkgKyB0b01zKGRlbGF5c1tpXSlcbiAgfSkpXG59XG5cbi8vIE9sZCB2ZXJzaW9ucyBvZiBDaHJvbWl1bSAoYmVsb3cgNjEuMC4zMTYzLjEwMCkgZm9ybWF0cyBmbG9hdGluZyBwb2ludGVyIG51bWJlcnNcbi8vIGluIGEgbG9jYWxlLWRlcGVuZGVudCB3YXksIHVzaW5nIGEgY29tbWEgaW5zdGVhZCBvZiBhIGRvdC5cbi8vIElmIGNvbW1hIGlzIG5vdCByZXBsYWNlZCB3aXRoIGEgZG90LCB0aGUgaW5wdXQgd2lsbCBiZSByb3VuZGVkIGRvd24gKGkuZS4gYWN0aW5nXG4vLyBhcyBhIGZsb29yIGZ1bmN0aW9uKSBjYXVzaW5nIHVuZXhwZWN0ZWQgYmVoYXZpb3JzXG5mdW5jdGlvbiB0b01zIChzKSB7XG4gIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZSgnLCcsICcuJykpICogMTAwMFxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gZW50ZXIgKHZub2RlLCB0b2dnbGVEaXNwbGF5KSB7XG4gIHZhciBlbCA9IHZub2RlLmVsbTtcblxuICAvLyBjYWxsIGxlYXZlIGNhbGxiYWNrIG5vd1xuICBpZiAoaXNEZWYoZWwuX2xlYXZlQ2IpKSB7XG4gICAgZWwuX2xlYXZlQ2IuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICBlbC5fbGVhdmVDYigpO1xuICB9XG5cbiAgdmFyIGRhdGEgPSByZXNvbHZlVHJhbnNpdGlvbih2bm9kZS5kYXRhLnRyYW5zaXRpb24pO1xuICBpZiAoaXNVbmRlZihkYXRhKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChpc0RlZihlbC5fZW50ZXJDYikgfHwgZWwubm9kZVR5cGUgIT09IDEpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBjc3MgPSBkYXRhLmNzcztcbiAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG4gIHZhciBlbnRlckNsYXNzID0gZGF0YS5lbnRlckNsYXNzO1xuICB2YXIgZW50ZXJUb0NsYXNzID0gZGF0YS5lbnRlclRvQ2xhc3M7XG4gIHZhciBlbnRlckFjdGl2ZUNsYXNzID0gZGF0YS5lbnRlckFjdGl2ZUNsYXNzO1xuICB2YXIgYXBwZWFyQ2xhc3MgPSBkYXRhLmFwcGVhckNsYXNzO1xuICB2YXIgYXBwZWFyVG9DbGFzcyA9IGRhdGEuYXBwZWFyVG9DbGFzcztcbiAgdmFyIGFwcGVhckFjdGl2ZUNsYXNzID0gZGF0YS5hcHBlYXJBY3RpdmVDbGFzcztcbiAgdmFyIGJlZm9yZUVudGVyID0gZGF0YS5iZWZvcmVFbnRlcjtcbiAgdmFyIGVudGVyID0gZGF0YS5lbnRlcjtcbiAgdmFyIGFmdGVyRW50ZXIgPSBkYXRhLmFmdGVyRW50ZXI7XG4gIHZhciBlbnRlckNhbmNlbGxlZCA9IGRhdGEuZW50ZXJDYW5jZWxsZWQ7XG4gIHZhciBiZWZvcmVBcHBlYXIgPSBkYXRhLmJlZm9yZUFwcGVhcjtcbiAgdmFyIGFwcGVhciA9IGRhdGEuYXBwZWFyO1xuICB2YXIgYWZ0ZXJBcHBlYXIgPSBkYXRhLmFmdGVyQXBwZWFyO1xuICB2YXIgYXBwZWFyQ2FuY2VsbGVkID0gZGF0YS5hcHBlYXJDYW5jZWxsZWQ7XG4gIHZhciBkdXJhdGlvbiA9IGRhdGEuZHVyYXRpb247XG5cbiAgLy8gYWN0aXZlSW5zdGFuY2Ugd2lsbCBhbHdheXMgYmUgdGhlIDx0cmFuc2l0aW9uPiBjb21wb25lbnQgbWFuYWdpbmcgdGhpc1xuICAvLyB0cmFuc2l0aW9uLiBPbmUgZWRnZSBjYXNlIHRvIGNoZWNrIGlzIHdoZW4gdGhlIDx0cmFuc2l0aW9uPiBpcyBwbGFjZWRcbiAgLy8gYXMgdGhlIHJvb3Qgbm9kZSBvZiBhIGNoaWxkIGNvbXBvbmVudC4gSW4gdGhhdCBjYXNlIHdlIG5lZWQgdG8gY2hlY2tcbiAgLy8gPHRyYW5zaXRpb24+J3MgcGFyZW50IGZvciBhcHBlYXIgY2hlY2suXG4gIHZhciBjb250ZXh0ID0gYWN0aXZlSW5zdGFuY2U7XG4gIHZhciB0cmFuc2l0aW9uTm9kZSA9IGFjdGl2ZUluc3RhbmNlLiR2bm9kZTtcbiAgd2hpbGUgKHRyYW5zaXRpb25Ob2RlICYmIHRyYW5zaXRpb25Ob2RlLnBhcmVudCkge1xuICAgIGNvbnRleHQgPSB0cmFuc2l0aW9uTm9kZS5jb250ZXh0O1xuICAgIHRyYW5zaXRpb25Ob2RlID0gdHJhbnNpdGlvbk5vZGUucGFyZW50O1xuICB9XG5cbiAgdmFyIGlzQXBwZWFyID0gIWNvbnRleHQuX2lzTW91bnRlZCB8fCAhdm5vZGUuaXNSb290SW5zZXJ0O1xuXG4gIGlmIChpc0FwcGVhciAmJiAhYXBwZWFyICYmIGFwcGVhciAhPT0gJycpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBzdGFydENsYXNzID0gaXNBcHBlYXIgJiYgYXBwZWFyQ2xhc3NcbiAgICA/IGFwcGVhckNsYXNzXG4gICAgOiBlbnRlckNsYXNzO1xuICB2YXIgYWN0aXZlQ2xhc3MgPSBpc0FwcGVhciAmJiBhcHBlYXJBY3RpdmVDbGFzc1xuICAgID8gYXBwZWFyQWN0aXZlQ2xhc3NcbiAgICA6IGVudGVyQWN0aXZlQ2xhc3M7XG4gIHZhciB0b0NsYXNzID0gaXNBcHBlYXIgJiYgYXBwZWFyVG9DbGFzc1xuICAgID8gYXBwZWFyVG9DbGFzc1xuICAgIDogZW50ZXJUb0NsYXNzO1xuXG4gIHZhciBiZWZvcmVFbnRlckhvb2sgPSBpc0FwcGVhclxuICAgID8gKGJlZm9yZUFwcGVhciB8fCBiZWZvcmVFbnRlcilcbiAgICA6IGJlZm9yZUVudGVyO1xuICB2YXIgZW50ZXJIb29rID0gaXNBcHBlYXJcbiAgICA/ICh0eXBlb2YgYXBwZWFyID09PSAnZnVuY3Rpb24nID8gYXBwZWFyIDogZW50ZXIpXG4gICAgOiBlbnRlcjtcbiAgdmFyIGFmdGVyRW50ZXJIb29rID0gaXNBcHBlYXJcbiAgICA/IChhZnRlckFwcGVhciB8fCBhZnRlckVudGVyKVxuICAgIDogYWZ0ZXJFbnRlcjtcbiAgdmFyIGVudGVyQ2FuY2VsbGVkSG9vayA9IGlzQXBwZWFyXG4gICAgPyAoYXBwZWFyQ2FuY2VsbGVkIHx8IGVudGVyQ2FuY2VsbGVkKVxuICAgIDogZW50ZXJDYW5jZWxsZWQ7XG5cbiAgdmFyIGV4cGxpY2l0RW50ZXJEdXJhdGlvbiA9IHRvTnVtYmVyKFxuICAgIGlzT2JqZWN0KGR1cmF0aW9uKVxuICAgICAgPyBkdXJhdGlvbi5lbnRlclxuICAgICAgOiBkdXJhdGlvblxuICApO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGV4cGxpY2l0RW50ZXJEdXJhdGlvbiAhPSBudWxsKSB7XG4gICAgY2hlY2tEdXJhdGlvbihleHBsaWNpdEVudGVyRHVyYXRpb24sICdlbnRlcicsIHZub2RlKTtcbiAgfVxuXG4gIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7XG4gIHZhciB1c2VyV2FudHNDb250cm9sID0gZ2V0SG9va0FyZ3VtZW50c0xlbmd0aChlbnRlckhvb2spO1xuXG4gIHZhciBjYiA9IGVsLl9lbnRlckNiID0gb25jZShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgdG9DbGFzcyk7XG4gICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGFjdGl2ZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTtcbiAgICAgIH1cbiAgICAgIGVudGVyQ2FuY2VsbGVkSG9vayAmJiBlbnRlckNhbmNlbGxlZEhvb2soZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZnRlckVudGVySG9vayAmJiBhZnRlckVudGVySG9vayhlbCk7XG4gICAgfVxuICAgIGVsLl9lbnRlckNiID0gbnVsbDtcbiAgfSk7XG5cbiAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHtcbiAgICAvLyByZW1vdmUgcGVuZGluZyBsZWF2ZSBlbGVtZW50IG9uIGVudGVyIGJ5IGluamVjdGluZyBhbiBpbnNlcnQgaG9va1xuICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAnaW5zZXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XG4gICAgICB2YXIgcGVuZGluZ05vZGUgPSBwYXJlbnQgJiYgcGFyZW50Ll9wZW5kaW5nICYmIHBhcmVudC5fcGVuZGluZ1t2bm9kZS5rZXldO1xuICAgICAgaWYgKHBlbmRpbmdOb2RlICYmXG4gICAgICAgIHBlbmRpbmdOb2RlLnRhZyA9PT0gdm5vZGUudGFnICYmXG4gICAgICAgIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYlxuICAgICAgKSB7XG4gICAgICAgIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYigpO1xuICAgICAgfVxuICAgICAgZW50ZXJIb29rICYmIGVudGVySG9vayhlbCwgY2IpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gc3RhcnQgZW50ZXIgdHJhbnNpdGlvblxuICBiZWZvcmVFbnRlckhvb2sgJiYgYmVmb3JlRW50ZXJIb29rKGVsKTtcbiAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYWN0aXZlQ2xhc3MpO1xuICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuICAgICAgaWYgKCFjYi5jYW5jZWxsZWQpIHtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCB0b0NsYXNzKTtcbiAgICAgICAgaWYgKCF1c2VyV2FudHNDb250cm9sKSB7XG4gICAgICAgICAgaWYgKGlzVmFsaWREdXJhdGlvbihleHBsaWNpdEVudGVyRHVyYXRpb24pKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGNiLCBleHBsaWNpdEVudGVyRHVyYXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGNiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmICh2bm9kZS5kYXRhLnNob3cpIHtcbiAgICB0b2dnbGVEaXNwbGF5ICYmIHRvZ2dsZURpc3BsYXkoKTtcbiAgICBlbnRlckhvb2sgJiYgZW50ZXJIb29rKGVsLCBjYik7XG4gIH1cblxuICBpZiAoIWV4cGVjdHNDU1MgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcbiAgICBjYigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGxlYXZlICh2bm9kZSwgcm0pIHtcbiAgdmFyIGVsID0gdm5vZGUuZWxtO1xuXG4gIC8vIGNhbGwgZW50ZXIgY2FsbGJhY2sgbm93XG4gIGlmIChpc0RlZihlbC5fZW50ZXJDYikpIHtcbiAgICBlbC5fZW50ZXJDYi5jYW5jZWxsZWQgPSB0cnVlO1xuICAgIGVsLl9lbnRlckNiKCk7XG4gIH1cblxuICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7XG4gIGlmIChpc1VuZGVmKGRhdGEpIHx8IGVsLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgcmV0dXJuIHJtKClcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoaXNEZWYoZWwuX2xlYXZlQ2IpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY3NzID0gZGF0YS5jc3M7XG4gIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICB2YXIgbGVhdmVDbGFzcyA9IGRhdGEubGVhdmVDbGFzcztcbiAgdmFyIGxlYXZlVG9DbGFzcyA9IGRhdGEubGVhdmVUb0NsYXNzO1xuICB2YXIgbGVhdmVBY3RpdmVDbGFzcyA9IGRhdGEubGVhdmVBY3RpdmVDbGFzcztcbiAgdmFyIGJlZm9yZUxlYXZlID0gZGF0YS5iZWZvcmVMZWF2ZTtcbiAgdmFyIGxlYXZlID0gZGF0YS5sZWF2ZTtcbiAgdmFyIGFmdGVyTGVhdmUgPSBkYXRhLmFmdGVyTGVhdmU7XG4gIHZhciBsZWF2ZUNhbmNlbGxlZCA9IGRhdGEubGVhdmVDYW5jZWxsZWQ7XG4gIHZhciBkZWxheUxlYXZlID0gZGF0YS5kZWxheUxlYXZlO1xuICB2YXIgZHVyYXRpb24gPSBkYXRhLmR1cmF0aW9uO1xuXG4gIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7XG4gIHZhciB1c2VyV2FudHNDb250cm9sID0gZ2V0SG9va0FyZ3VtZW50c0xlbmd0aChsZWF2ZSk7XG5cbiAgdmFyIGV4cGxpY2l0TGVhdmVEdXJhdGlvbiA9IHRvTnVtYmVyKFxuICAgIGlzT2JqZWN0KGR1cmF0aW9uKVxuICAgICAgPyBkdXJhdGlvbi5sZWF2ZVxuICAgICAgOiBkdXJhdGlvblxuICApO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGlzRGVmKGV4cGxpY2l0TGVhdmVEdXJhdGlvbikpIHtcbiAgICBjaGVja0R1cmF0aW9uKGV4cGxpY2l0TGVhdmVEdXJhdGlvbiwgJ2xlYXZlJywgdm5vZGUpO1xuICB9XG5cbiAgdmFyIGNiID0gZWwuX2xlYXZlQ2IgPSBvbmNlKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLl9wZW5kaW5nKSB7XG4gICAgICBlbC5wYXJlbnROb2RlLl9wZW5kaW5nW3Zub2RlLmtleV0gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZXhwZWN0c0NTUykge1xuICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xuICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGxlYXZlQ2FuY2VsbGVkICYmIGxlYXZlQ2FuY2VsbGVkKGVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm0oKTtcbiAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZShlbCk7XG4gICAgfVxuICAgIGVsLl9sZWF2ZUNiID0gbnVsbDtcbiAgfSk7XG5cbiAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICBkZWxheUxlYXZlKHBlcmZvcm1MZWF2ZSk7XG4gIH0gZWxzZSB7XG4gICAgcGVyZm9ybUxlYXZlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwZXJmb3JtTGVhdmUgKCkge1xuICAgIC8vIHRoZSBkZWxheWVkIGxlYXZlIG1heSBoYXZlIGFscmVhZHkgYmVlbiBjYW5jZWxsZWRcbiAgICBpZiAoY2IuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gcmVjb3JkIGxlYXZpbmcgZWxlbWVudFxuICAgIGlmICghdm5vZGUuZGF0YS5zaG93ICYmIGVsLnBhcmVudE5vZGUpIHtcbiAgICAgIChlbC5wYXJlbnROb2RlLl9wZW5kaW5nIHx8IChlbC5wYXJlbnROb2RlLl9wZW5kaW5nID0ge30pKVsodm5vZGUua2V5KV0gPSB2bm9kZTtcbiAgICB9XG4gICAgYmVmb3JlTGVhdmUgJiYgYmVmb3JlTGVhdmUoZWwpO1xuICAgIGlmIChleHBlY3RzQ1NTKSB7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQ2xhc3MpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XG4gICAgICAgIGlmICghY2IuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xuICAgICAgICAgIGlmICghdXNlcldhbnRzQ29udHJvbCkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWREdXJhdGlvbihleHBsaWNpdExlYXZlRHVyYXRpb24pKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoY2IsIGV4cGxpY2l0TGVhdmVEdXJhdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZWF2ZSAmJiBsZWF2ZShlbCwgY2IpO1xuICAgIGlmICghZXhwZWN0c0NTUyAmJiAhdXNlcldhbnRzQ29udHJvbCkge1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gb25seSB1c2VkIGluIGRldiBtb2RlXG5mdW5jdGlvbiBjaGVja0R1cmF0aW9uICh2YWwsIG5hbWUsIHZub2RlKSB7XG4gIGlmICh0eXBlb2YgdmFsICE9PSAnbnVtYmVyJykge1xuICAgIHdhcm4oXG4gICAgICBcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBcIiArIG5hbWUgKyBcIiBkdXJhdGlvbiBpcyBub3QgYSB2YWxpZCBudW1iZXIgLSBcIiArXG4gICAgICBcImdvdCBcIiArIChKU09OLnN0cmluZ2lmeSh2YWwpKSArIFwiLlwiLFxuICAgICAgdm5vZGUuY29udGV4dFxuICAgICk7XG4gIH0gZWxzZSBpZiAoaXNOYU4odmFsKSkge1xuICAgIHdhcm4oXG4gICAgICBcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBcIiArIG5hbWUgKyBcIiBkdXJhdGlvbiBpcyBOYU4gLSBcIiArXG4gICAgICAndGhlIGR1cmF0aW9uIGV4cHJlc3Npb24gbWlnaHQgYmUgaW5jb3JyZWN0LicsXG4gICAgICB2bm9kZS5jb250ZXh0XG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1ZhbGlkRHVyYXRpb24gKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHZhbClcbn1cblxuLyoqXG4gKiBOb3JtYWxpemUgYSB0cmFuc2l0aW9uIGhvb2sncyBhcmd1bWVudCBsZW5ndGguIFRoZSBob29rIG1heSBiZTpcbiAqIC0gYSBtZXJnZWQgaG9vayAoaW52b2tlcikgd2l0aCB0aGUgb3JpZ2luYWwgaW4gLmZuc1xuICogLSBhIHdyYXBwZWQgY29tcG9uZW50IG1ldGhvZCAoY2hlY2sgLl9sZW5ndGgpXG4gKiAtIGEgcGxhaW4gZnVuY3Rpb24gKC5sZW5ndGgpXG4gKi9cbmZ1bmN0aW9uIGdldEhvb2tBcmd1bWVudHNMZW5ndGggKGZuKSB7XG4gIGlmIChpc1VuZGVmKGZuKSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHZhciBpbnZva2VyRm5zID0gZm4uZm5zO1xuICBpZiAoaXNEZWYoaW52b2tlckZucykpIHtcbiAgICAvLyBpbnZva2VyXG4gICAgcmV0dXJuIGdldEhvb2tBcmd1bWVudHNMZW5ndGgoXG4gICAgICBBcnJheS5pc0FycmF5KGludm9rZXJGbnMpXG4gICAgICAgID8gaW52b2tlckZuc1swXVxuICAgICAgICA6IGludm9rZXJGbnNcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChmbi5fbGVuZ3RoIHx8IGZuLmxlbmd0aCkgPiAxXG4gIH1cbn1cblxuZnVuY3Rpb24gX2VudGVyIChfLCB2bm9kZSkge1xuICBpZiAodm5vZGUuZGF0YS5zaG93ICE9PSB0cnVlKSB7XG4gICAgZW50ZXIodm5vZGUpO1xuICB9XG59XG5cbnZhciB0cmFuc2l0aW9uID0gaW5Ccm93c2VyID8ge1xuICBjcmVhdGU6IF9lbnRlcixcbiAgYWN0aXZhdGU6IF9lbnRlcixcbiAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUkJDEgKHZub2RlLCBybSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHZub2RlLmRhdGEuc2hvdyAhPT0gdHJ1ZSkge1xuICAgICAgbGVhdmUodm5vZGUsIHJtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm0oKTtcbiAgICB9XG4gIH1cbn0gOiB7fTtcblxudmFyIHBsYXRmb3JtTW9kdWxlcyA9IFtcbiAgYXR0cnMsXG4gIGtsYXNzLFxuICBldmVudHMsXG4gIGRvbVByb3BzLFxuICBzdHlsZSxcbiAgdHJhbnNpdGlvblxuXTtcblxuLyogICovXG5cbi8vIHRoZSBkaXJlY3RpdmUgbW9kdWxlIHNob3VsZCBiZSBhcHBsaWVkIGxhc3QsIGFmdGVyIGFsbFxuLy8gYnVpbHQtaW4gbW9kdWxlcyBoYXZlIGJlZW4gYXBwbGllZC5cbnZhciBtb2R1bGVzID0gcGxhdGZvcm1Nb2R1bGVzLmNvbmNhdChiYXNlTW9kdWxlcyk7XG5cbnZhciBwYXRjaCA9IGNyZWF0ZVBhdGNoRnVuY3Rpb24oeyBub2RlT3BzOiBub2RlT3BzLCBtb2R1bGVzOiBtb2R1bGVzIH0pO1xuXG4vKipcbiAqIE5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBsaWtlIGF0dGFjaGluZ1xuICogcHJvcGVydGllcyB0byBFbGVtZW50cy5cbiAqL1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbmlmIChpc0lFOSkge1xuICAvLyBodHRwOi8vd3d3Lm1hdHRzNDExLmNvbS9wb3N0L2ludGVybmV0LWV4cGxvcmVyLTktb25pbnB1dC9cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgaWYgKGVsICYmIGVsLnZtb2RlbCkge1xuICAgICAgdHJpZ2dlcihlbCwgJ2lucHV0Jyk7XG4gICAgfVxuICB9KTtcbn1cblxudmFyIGRpcmVjdGl2ZSA9IHtcbiAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkIChlbCwgYmluZGluZywgdm5vZGUsIG9sZFZub2RlKSB7XG4gICAgaWYgKHZub2RlLnRhZyA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIC8vICM2OTAzXG4gICAgICBpZiAob2xkVm5vZGUuZWxtICYmICFvbGRWbm9kZS5lbG0uX3ZPcHRpb25zKSB7XG4gICAgICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAncG9zdHBhdGNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRpcmVjdGl2ZS5jb21wb25lbnRVcGRhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLmNvbnRleHQpO1xuICAgICAgfVxuICAgICAgZWwuX3ZPcHRpb25zID0gW10ubWFwLmNhbGwoZWwub3B0aW9ucywgZ2V0VmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodm5vZGUudGFnID09PSAndGV4dGFyZWEnIHx8IGlzVGV4dElucHV0VHlwZShlbC50eXBlKSkge1xuICAgICAgZWwuX3ZNb2RpZmllcnMgPSBiaW5kaW5nLm1vZGlmaWVycztcbiAgICAgIGlmICghYmluZGluZy5tb2RpZmllcnMubGF6eSkge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbnN0YXJ0Jywgb25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25lbmQnLCBvbkNvbXBvc2l0aW9uRW5kKTtcbiAgICAgICAgLy8gU2FmYXJpIDwgMTAuMiAmIFVJV2ViVmlldyBkb2Vzbid0IGZpcmUgY29tcG9zaXRpb25lbmQgd2hlblxuICAgICAgICAvLyBzd2l0Y2hpbmcgZm9jdXMgYmVmb3JlIGNvbmZpcm1pbmcgY29tcG9zaXRpb24gY2hvaWNlXG4gICAgICAgIC8vIHRoaXMgYWxzbyBmaXhlcyB0aGUgaXNzdWUgd2hlcmUgc29tZSBicm93c2VycyBlLmcuIGlPUyBDaHJvbWVcbiAgICAgICAgLy8gZmlyZXMgXCJjaGFuZ2VcIiBpbnN0ZWFkIG9mIFwiaW5wdXRcIiBvbiBhdXRvY29tcGxldGUuXG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGlzSUU5KSB7XG4gICAgICAgICAgZWwudm1vZGVsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRVcGRhdGVkOiBmdW5jdGlvbiBjb21wb25lbnRVcGRhdGVkIChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBpZiAodm5vZGUudGFnID09PSAnc2VsZWN0Jykge1xuICAgICAgc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLmNvbnRleHQpO1xuICAgICAgLy8gaW4gY2FzZSB0aGUgb3B0aW9ucyByZW5kZXJlZCBieSB2LWZvciBoYXZlIGNoYW5nZWQsXG4gICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHZhbHVlIGlzIG91dC1vZi1zeW5jIHdpdGggdGhlIHJlbmRlcmVkIG9wdGlvbnMuXG4gICAgICAvLyBkZXRlY3Qgc3VjaCBjYXNlcyBhbmQgZmlsdGVyIG91dCB2YWx1ZXMgdGhhdCBubyBsb25nZXIgaGFzIGEgbWF0Y2hpbmdcbiAgICAgIC8vIG9wdGlvbiBpbiB0aGUgRE9NLlxuICAgICAgdmFyIHByZXZPcHRpb25zID0gZWwuX3ZPcHRpb25zO1xuICAgICAgdmFyIGN1ck9wdGlvbnMgPSBlbC5fdk9wdGlvbnMgPSBbXS5tYXAuY2FsbChlbC5vcHRpb25zLCBnZXRWYWx1ZSk7XG4gICAgICBpZiAoY3VyT3B0aW9ucy5zb21lKGZ1bmN0aW9uIChvLCBpKSB7IHJldHVybiAhbG9vc2VFcXVhbChvLCBwcmV2T3B0aW9uc1tpXSk7IH0pKSB7XG4gICAgICAgIC8vIHRyaWdnZXIgY2hhbmdlIGV2ZW50IGlmXG4gICAgICAgIC8vIG5vIG1hdGNoaW5nIG9wdGlvbiBmb3VuZCBmb3IgYXQgbGVhc3Qgb25lIHZhbHVlXG4gICAgICAgIHZhciBuZWVkUmVzZXQgPSBlbC5tdWx0aXBsZVxuICAgICAgICAgID8gYmluZGluZy52YWx1ZS5zb21lKGZ1bmN0aW9uICh2KSB7IHJldHVybiBoYXNOb01hdGNoaW5nT3B0aW9uKHYsIGN1ck9wdGlvbnMpOyB9KVxuICAgICAgICAgIDogYmluZGluZy52YWx1ZSAhPT0gYmluZGluZy5vbGRWYWx1ZSAmJiBoYXNOb01hdGNoaW5nT3B0aW9uKGJpbmRpbmcudmFsdWUsIGN1ck9wdGlvbnMpO1xuICAgICAgICBpZiAobmVlZFJlc2V0KSB7XG4gICAgICAgICAgdHJpZ2dlcihlbCwgJ2NoYW5nZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBzZXRTZWxlY3RlZCAoZWwsIGJpbmRpbmcsIHZtKSB7XG4gIGFjdHVhbGx5U2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZtKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChpc0lFIHx8IGlzRWRnZSkge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgYWN0dWFsbHlTZXRTZWxlY3RlZChlbCwgYmluZGluZywgdm0pO1xuICAgIH0sIDApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFjdHVhbGx5U2V0U2VsZWN0ZWQgKGVsLCBiaW5kaW5nLCB2bSkge1xuICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlO1xuICB2YXIgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICBpZiAoaXNNdWx0aXBsZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICBcIjxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD1cXFwiXCIgKyAoYmluZGluZy5leHByZXNzaW9uKSArIFwiXFxcIj4gXCIgK1xuICAgICAgXCJleHBlY3RzIGFuIEFycmF5IHZhbHVlIGZvciBpdHMgYmluZGluZywgYnV0IGdvdCBcIiArIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKSksXG4gICAgICB2bVxuICAgICk7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHNlbGVjdGVkLCBvcHRpb247XG4gIGZvciAodmFyIGkgPSAwLCBsID0gZWwub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBvcHRpb24gPSBlbC5vcHRpb25zW2ldO1xuICAgIGlmIChpc011bHRpcGxlKSB7XG4gICAgICBzZWxlY3RlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgZ2V0VmFsdWUob3B0aW9uKSkgPiAtMTtcbiAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQgIT09IHNlbGVjdGVkKSB7XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGVsLnNlbGVjdGVkSW5kZXggIT09IGkpIHtcbiAgICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCFpc011bHRpcGxlKSB7XG4gICAgZWwuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhc05vTWF0Y2hpbmdPcHRpb24gKHZhbHVlLCBvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLmV2ZXJ5KGZ1bmN0aW9uIChvKSB7IHJldHVybiAhbG9vc2VFcXVhbChvLCB2YWx1ZSk7IH0pXG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlIChvcHRpb24pIHtcbiAgcmV0dXJuICdfdmFsdWUnIGluIG9wdGlvblxuICAgID8gb3B0aW9uLl92YWx1ZVxuICAgIDogb3B0aW9uLnZhbHVlXG59XG5cbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydCAoZSkge1xuICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kIChlKSB7XG4gIC8vIHByZXZlbnQgdHJpZ2dlcmluZyBhbiBpbnB1dCBldmVudCBmb3Igbm8gcmVhc29uXG4gIGlmICghZS50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybiB9XG4gIGUudGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xuICB0cmlnZ2VyKGUudGFyZ2V0LCAnaW5wdXQnKTtcbn1cblxuZnVuY3Rpb24gdHJpZ2dlciAoZWwsIHR5cGUpIHtcbiAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xuICBlLmluaXRFdmVudCh0eXBlLCB0cnVlLCB0cnVlKTtcbiAgZWwuZGlzcGF0Y2hFdmVudChlKTtcbn1cblxuLyogICovXG5cbi8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgcG9zc2libGUgdHJhbnNpdGlvbiBkZWZpbmVkIGluc2lkZSB0aGUgY29tcG9uZW50IHJvb3RcbmZ1bmN0aW9uIGxvY2F0ZU5vZGUgKHZub2RlKSB7XG4gIHJldHVybiB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSAmJiAoIXZub2RlLmRhdGEgfHwgIXZub2RlLmRhdGEudHJhbnNpdGlvbilcbiAgICA/IGxvY2F0ZU5vZGUodm5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlKVxuICAgIDogdm5vZGVcbn1cblxudmFyIHNob3cgPSB7XG4gIGJpbmQ6IGZ1bmN0aW9uIGJpbmQgKGVsLCByZWYsIHZub2RlKSB7XG4gICAgdmFyIHZhbHVlID0gcmVmLnZhbHVlO1xuXG4gICAgdm5vZGUgPSBsb2NhdGVOb2RlKHZub2RlKTtcbiAgICB2YXIgdHJhbnNpdGlvbiQkMSA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uO1xuICAgIHZhciBvcmlnaW5hbERpc3BsYXkgPSBlbC5fX3ZPcmlnaW5hbERpc3BsYXkgPVxuICAgICAgZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJycgOiBlbC5zdHlsZS5kaXNwbGF5O1xuICAgIGlmICh2YWx1ZSAmJiB0cmFuc2l0aW9uJCQxKSB7XG4gICAgICB2bm9kZS5kYXRhLnNob3cgPSB0cnVlO1xuICAgICAgZW50ZXIodm5vZGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IG9yaWdpbmFsRGlzcGxheTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBvcmlnaW5hbERpc3BsYXkgOiAnbm9uZSc7XG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlIChlbCwgcmVmLCB2bm9kZSkge1xuICAgIHZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbiAgICB2YXIgb2xkVmFsdWUgPSByZWYub2xkVmFsdWU7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIXZhbHVlID09PSAhb2xkVmFsdWUpIHsgcmV0dXJuIH1cbiAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpO1xuICAgIHZhciB0cmFuc2l0aW9uJCQxID0gdm5vZGUuZGF0YSAmJiB2bm9kZS5kYXRhLnRyYW5zaXRpb247XG4gICAgaWYgKHRyYW5zaXRpb24kJDEpIHtcbiAgICAgIHZub2RlLmRhdGEuc2hvdyA9IHRydWU7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZW50ZXIodm5vZGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlYXZlKHZub2RlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IGVsLl9fdk9yaWdpbmFsRGlzcGxheSA6ICdub25lJztcbiAgICB9XG4gIH0sXG5cbiAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQgKFxuICAgIGVsLFxuICAgIGJpbmRpbmcsXG4gICAgdm5vZGUsXG4gICAgb2xkVm5vZGUsXG4gICAgaXNEZXN0cm95XG4gICkge1xuICAgIGlmICghaXNEZXN0cm95KSB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5O1xuICAgIH1cbiAgfVxufTtcblxudmFyIHBsYXRmb3JtRGlyZWN0aXZlcyA9IHtcbiAgbW9kZWw6IGRpcmVjdGl2ZSxcbiAgc2hvdzogc2hvd1xufTtcblxuLyogICovXG5cbnZhciB0cmFuc2l0aW9uUHJvcHMgPSB7XG4gIG5hbWU6IFN0cmluZyxcbiAgYXBwZWFyOiBCb29sZWFuLFxuICBjc3M6IEJvb2xlYW4sXG4gIG1vZGU6IFN0cmluZyxcbiAgdHlwZTogU3RyaW5nLFxuICBlbnRlckNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlQ2xhc3M6IFN0cmluZyxcbiAgZW50ZXJUb0NsYXNzOiBTdHJpbmcsXG4gIGxlYXZlVG9DbGFzczogU3RyaW5nLFxuICBlbnRlckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyVG9DbGFzczogU3RyaW5nLFxuICBkdXJhdGlvbjogW051bWJlciwgU3RyaW5nLCBPYmplY3RdXG59O1xuXG4vLyBpbiBjYXNlIHRoZSBjaGlsZCBpcyBhbHNvIGFuIGFic3RyYWN0IGNvbXBvbmVudCwgZS5nLiA8a2VlcC1hbGl2ZT5cbi8vIHdlIHdhbnQgdG8gcmVjdXJzaXZlbHkgcmV0cmlldmUgdGhlIHJlYWwgY29tcG9uZW50IHRvIGJlIHJlbmRlcmVkXG5mdW5jdGlvbiBnZXRSZWFsQ2hpbGQgKHZub2RlKSB7XG4gIHZhciBjb21wT3B0aW9ucyA9IHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG4gIGlmIChjb21wT3B0aW9ucyAmJiBjb21wT3B0aW9ucy5DdG9yLm9wdGlvbnMuYWJzdHJhY3QpIHtcbiAgICByZXR1cm4gZ2V0UmVhbENoaWxkKGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoY29tcE9wdGlvbnMuY2hpbGRyZW4pKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB2bm9kZVxuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RUcmFuc2l0aW9uRGF0YSAoY29tcCkge1xuICB2YXIgZGF0YSA9IHt9O1xuICB2YXIgb3B0aW9ucyA9IGNvbXAuJG9wdGlvbnM7XG4gIC8vIHByb3BzXG4gIGZvciAodmFyIGtleSBpbiBvcHRpb25zLnByb3BzRGF0YSkge1xuICAgIGRhdGFba2V5XSA9IGNvbXBba2V5XTtcbiAgfVxuICAvLyBldmVudHMuXG4gIC8vIGV4dHJhY3QgbGlzdGVuZXJzIGFuZCBwYXNzIHRoZW0gZGlyZWN0bHkgdG8gdGhlIHRyYW5zaXRpb24gbWV0aG9kc1xuICB2YXIgbGlzdGVuZXJzID0gb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuICBmb3IgKHZhciBrZXkkMSBpbiBsaXN0ZW5lcnMpIHtcbiAgICBkYXRhW2NhbWVsaXplKGtleSQxKV0gPSBsaXN0ZW5lcnNba2V5JDFdO1xuICB9XG4gIHJldHVybiBkYXRhXG59XG5cbmZ1bmN0aW9uIHBsYWNlaG9sZGVyIChoLCByYXdDaGlsZCkge1xuICBpZiAoL1xcZC1rZWVwLWFsaXZlJC8udGVzdChyYXdDaGlsZC50YWcpKSB7XG4gICAgcmV0dXJuIGgoJ2tlZXAtYWxpdmUnLCB7XG4gICAgICBwcm9wczogcmF3Q2hpbGQuY29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGFcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhc1BhcmVudFRyYW5zaXRpb24gKHZub2RlKSB7XG4gIHdoaWxlICgodm5vZGUgPSB2bm9kZS5wYXJlbnQpKSB7XG4gICAgaWYgKHZub2RlLmRhdGEudHJhbnNpdGlvbikge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNTYW1lQ2hpbGQgKGNoaWxkLCBvbGRDaGlsZCkge1xuICByZXR1cm4gb2xkQ2hpbGQua2V5ID09PSBjaGlsZC5rZXkgJiYgb2xkQ2hpbGQudGFnID09PSBjaGlsZC50YWdcbn1cblxudmFyIGlzTm90VGV4dE5vZGUgPSBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50YWcgfHwgaXNBc3luY1BsYWNlaG9sZGVyKGMpOyB9O1xuXG52YXIgaXNWU2hvd0RpcmVjdGl2ZSA9IGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLm5hbWUgPT09ICdzaG93JzsgfTtcblxudmFyIFRyYW5zaXRpb24gPSB7XG4gIG5hbWU6ICd0cmFuc2l0aW9uJyxcbiAgcHJvcHM6IHRyYW5zaXRpb25Qcm9wcyxcbiAgYWJzdHJhY3Q6IHRydWUsXG5cbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKGgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7XG4gICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIG91dCB0ZXh0IG5vZGVzIChwb3NzaWJsZSB3aGl0ZXNwYWNlcylcbiAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihpc05vdFRleHROb2RlKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gd2FybiBtdWx0aXBsZSBlbGVtZW50c1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50LiBVc2UgJyArXG4gICAgICAgICc8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLicsXG4gICAgICAgIHRoaXMuJHBhcmVudFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgbW9kZSA9IHRoaXMubW9kZTtcblxuICAgIC8vIHdhcm4gaW52YWxpZCBtb2RlXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgIG1vZGUgJiYgbW9kZSAhPT0gJ2luLW91dCcgJiYgbW9kZSAhPT0gJ291dC1pbidcbiAgICApIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICdpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAnICsgbW9kZSxcbiAgICAgICAgdGhpcy4kcGFyZW50XG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciByYXdDaGlsZCA9IGNoaWxkcmVuWzBdO1xuXG4gICAgLy8gaWYgdGhpcyBpcyBhIGNvbXBvbmVudCByb290IG5vZGUgYW5kIHRoZSBjb21wb25lbnQnc1xuICAgIC8vIHBhcmVudCBjb250YWluZXIgbm9kZSBhbHNvIGhhcyB0cmFuc2l0aW9uLCBza2lwLlxuICAgIGlmIChoYXNQYXJlbnRUcmFuc2l0aW9uKHRoaXMuJHZub2RlKSkge1xuICAgICAgcmV0dXJuIHJhd0NoaWxkXG4gICAgfVxuXG4gICAgLy8gYXBwbHkgdHJhbnNpdGlvbiBkYXRhIHRvIGNoaWxkXG4gICAgLy8gdXNlIGdldFJlYWxDaGlsZCgpIHRvIGlnbm9yZSBhYnN0cmFjdCBjb21wb25lbnRzIGUuZy4ga2VlcC1hbGl2ZVxuICAgIHZhciBjaGlsZCA9IGdldFJlYWxDaGlsZChyYXdDaGlsZCk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFjaGlsZCkge1xuICAgICAgcmV0dXJuIHJhd0NoaWxkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2xlYXZpbmcpIHtcbiAgICAgIHJldHVybiBwbGFjZWhvbGRlcihoLCByYXdDaGlsZClcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgYSBrZXkgdGhhdCBpcyB1bmlxdWUgdG8gdGhlIHZub2RlIHR5cGUgYW5kIHRvIHRoaXMgdHJhbnNpdGlvblxuICAgIC8vIGNvbXBvbmVudCBpbnN0YW5jZS4gVGhpcyBrZXkgd2lsbCBiZSB1c2VkIHRvIHJlbW92ZSBwZW5kaW5nIGxlYXZpbmcgbm9kZXNcbiAgICAvLyBkdXJpbmcgZW50ZXJpbmcuXG4gICAgdmFyIGlkID0gXCJfX3RyYW5zaXRpb24tXCIgKyAodGhpcy5fdWlkKSArIFwiLVwiO1xuICAgIGNoaWxkLmtleSA9IGNoaWxkLmtleSA9PSBudWxsXG4gICAgICA/IGNoaWxkLmlzQ29tbWVudFxuICAgICAgICA/IGlkICsgJ2NvbW1lbnQnXG4gICAgICAgIDogaWQgKyBjaGlsZC50YWdcbiAgICAgIDogaXNQcmltaXRpdmUoY2hpbGQua2V5KVxuICAgICAgICA/IChTdHJpbmcoY2hpbGQua2V5KS5pbmRleE9mKGlkKSA9PT0gMCA/IGNoaWxkLmtleSA6IGlkICsgY2hpbGQua2V5KVxuICAgICAgICA6IGNoaWxkLmtleTtcblxuICAgIHZhciBkYXRhID0gKGNoaWxkLmRhdGEgfHwgKGNoaWxkLmRhdGEgPSB7fSkpLnRyYW5zaXRpb24gPSBleHRyYWN0VHJhbnNpdGlvbkRhdGEodGhpcyk7XG4gICAgdmFyIG9sZFJhd0NoaWxkID0gdGhpcy5fdm5vZGU7XG4gICAgdmFyIG9sZENoaWxkID0gZ2V0UmVhbENoaWxkKG9sZFJhd0NoaWxkKTtcblxuICAgIC8vIG1hcmsgdi1zaG93XG4gICAgLy8gc28gdGhhdCB0aGUgdHJhbnNpdGlvbiBtb2R1bGUgY2FuIGhhbmQgb3ZlciB0aGUgY29udHJvbCB0byB0aGUgZGlyZWN0aXZlXG4gICAgaWYgKGNoaWxkLmRhdGEuZGlyZWN0aXZlcyAmJiBjaGlsZC5kYXRhLmRpcmVjdGl2ZXMuc29tZShpc1ZTaG93RGlyZWN0aXZlKSkge1xuICAgICAgY2hpbGQuZGF0YS5zaG93ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBvbGRDaGlsZCAmJlxuICAgICAgb2xkQ2hpbGQuZGF0YSAmJlxuICAgICAgIWlzU2FtZUNoaWxkKGNoaWxkLCBvbGRDaGlsZCkgJiZcbiAgICAgICFpc0FzeW5jUGxhY2Vob2xkZXIob2xkQ2hpbGQpICYmXG4gICAgICAvLyAjNjY4NyBjb21wb25lbnQgcm9vdCBpcyBhIGNvbW1lbnQgbm9kZVxuICAgICAgIShvbGRDaGlsZC5jb21wb25lbnRJbnN0YW5jZSAmJiBvbGRDaGlsZC5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUuaXNDb21tZW50KVxuICAgICkge1xuICAgICAgLy8gcmVwbGFjZSBvbGQgY2hpbGQgdHJhbnNpdGlvbiBkYXRhIHdpdGggZnJlc2ggb25lXG4gICAgICAvLyBpbXBvcnRhbnQgZm9yIGR5bmFtaWMgdHJhbnNpdGlvbnMhXG4gICAgICB2YXIgb2xkRGF0YSA9IG9sZENoaWxkLmRhdGEudHJhbnNpdGlvbiA9IGV4dGVuZCh7fSwgZGF0YSk7XG4gICAgICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBtb2RlXG4gICAgICBpZiAobW9kZSA9PT0gJ291dC1pbicpIHtcbiAgICAgICAgLy8gcmV0dXJuIHBsYWNlaG9sZGVyIG5vZGUgYW5kIHF1ZXVlIHVwZGF0ZSB3aGVuIGxlYXZlIGZpbmlzaGVzXG4gICAgICAgIHRoaXMuX2xlYXZpbmcgPSB0cnVlO1xuICAgICAgICBtZXJnZVZOb2RlSG9vayhvbGREYXRhLCAnYWZ0ZXJMZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzJDEuX2xlYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzJDEuJGZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGxhY2Vob2xkZXIoaCwgcmF3Q2hpbGQpXG4gICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdpbi1vdXQnKSB7XG4gICAgICAgIGlmIChpc0FzeW5jUGxhY2Vob2xkZXIoY2hpbGQpKSB7XG4gICAgICAgICAgcmV0dXJuIG9sZFJhd0NoaWxkXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgdmFyIHBlcmZvcm1MZWF2ZSA9IGZ1bmN0aW9uICgpIHsgZGVsYXllZExlYXZlKCk7IH07XG4gICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdhZnRlckVudGVyJywgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgbWVyZ2VWTm9kZUhvb2soZGF0YSwgJ2VudGVyQ2FuY2VsbGVkJywgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgbWVyZ2VWTm9kZUhvb2sob2xkRGF0YSwgJ2RlbGF5TGVhdmUnLCBmdW5jdGlvbiAobGVhdmUpIHsgZGVsYXllZExlYXZlID0gbGVhdmU7IH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByYXdDaGlsZFxuICB9XG59O1xuXG4vKiAgKi9cblxudmFyIHByb3BzID0gZXh0ZW5kKHtcbiAgdGFnOiBTdHJpbmcsXG4gIG1vdmVDbGFzczogU3RyaW5nXG59LCB0cmFuc2l0aW9uUHJvcHMpO1xuXG5kZWxldGUgcHJvcHMubW9kZTtcblxudmFyIFRyYW5zaXRpb25Hcm91cCA9IHtcbiAgcHJvcHM6IHByb3BzLFxuXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgdXBkYXRlID0gdGhpcy5fdXBkYXRlO1xuICAgIHRoaXMuX3VwZGF0ZSA9IGZ1bmN0aW9uICh2bm9kZSwgaHlkcmF0aW5nKSB7XG4gICAgICB2YXIgcmVzdG9yZUFjdGl2ZUluc3RhbmNlID0gc2V0QWN0aXZlSW5zdGFuY2UodGhpcyQxKTtcbiAgICAgIC8vIGZvcmNlIHJlbW92aW5nIHBhc3NcbiAgICAgIHRoaXMkMS5fX3BhdGNoX18oXG4gICAgICAgIHRoaXMkMS5fdm5vZGUsXG4gICAgICAgIHRoaXMkMS5rZXB0LFxuICAgICAgICBmYWxzZSwgLy8gaHlkcmF0aW5nXG4gICAgICAgIHRydWUgLy8gcmVtb3ZlT25seSAoIWltcG9ydGFudCwgYXZvaWRzIHVubmVjZXNzYXJ5IG1vdmVzKVxuICAgICAgKTtcbiAgICAgIHRoaXMkMS5fdm5vZGUgPSB0aGlzJDEua2VwdDtcbiAgICAgIHJlc3RvcmVBY3RpdmVJbnN0YW5jZSgpO1xuICAgICAgdXBkYXRlLmNhbGwodGhpcyQxLCB2bm9kZSwgaHlkcmF0aW5nKTtcbiAgICB9O1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyIChoKSB7XG4gICAgdmFyIHRhZyA9IHRoaXMudGFnIHx8IHRoaXMuJHZub2RlLmRhdGEudGFnIHx8ICdzcGFuJztcbiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB2YXIgcHJldkNoaWxkcmVuID0gdGhpcy5wcmV2Q2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgIHZhciByYXdDaGlsZHJlbiA9IHRoaXMuJHNsb3RzLmRlZmF1bHQgfHwgW107XG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIHZhciB0cmFuc2l0aW9uRGF0YSA9IGV4dHJhY3RUcmFuc2l0aW9uRGF0YSh0aGlzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmF3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjID0gcmF3Q2hpbGRyZW5baV07XG4gICAgICBpZiAoYy50YWcpIHtcbiAgICAgICAgaWYgKGMua2V5ICE9IG51bGwgJiYgU3RyaW5nKGMua2V5KS5pbmRleE9mKCdfX3ZsaXN0JykgIT09IDApIHtcbiAgICAgICAgICBjaGlsZHJlbi5wdXNoKGMpO1xuICAgICAgICAgIG1hcFtjLmtleV0gPSBjXG4gICAgICAgICAgOyhjLmRhdGEgfHwgKGMuZGF0YSA9IHt9KSkudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25EYXRhO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB2YXIgb3B0cyA9IGMuY29tcG9uZW50T3B0aW9ucztcbiAgICAgICAgICB2YXIgbmFtZSA9IG9wdHMgPyAob3B0cy5DdG9yLm9wdGlvbnMubmFtZSB8fCBvcHRzLnRhZyB8fCAnJykgOiBjLnRhZztcbiAgICAgICAgICB3YXJuKChcIjx0cmFuc2l0aW9uLWdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkOiA8XCIgKyBuYW1lICsgXCI+XCIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcbiAgICAgIHZhciBrZXB0ID0gW107XG4gICAgICB2YXIgcmVtb3ZlZCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgcHJldkNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHtcbiAgICAgICAgdmFyIGMkMSA9IHByZXZDaGlsZHJlbltpJDFdO1xuICAgICAgICBjJDEuZGF0YS50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkRhdGE7XG4gICAgICAgIGMkMS5kYXRhLnBvcyA9IGMkMS5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChtYXBbYyQxLmtleV0pIHtcbiAgICAgICAgICBrZXB0LnB1c2goYyQxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVkLnB1c2goYyQxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5rZXB0ID0gaCh0YWcsIG51bGwsIGtlcHQpO1xuICAgICAgdGhpcy5yZW1vdmVkID0gcmVtb3ZlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gaCh0YWcsIG51bGwsIGNoaWxkcmVuKVxuICB9LFxuXG4gIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQgKCkge1xuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJldkNoaWxkcmVuO1xuICAgIHZhciBtb3ZlQ2xhc3MgPSB0aGlzLm1vdmVDbGFzcyB8fCAoKHRoaXMubmFtZSB8fCAndicpICsgJy1tb3ZlJyk7XG4gICAgaWYgKCFjaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMuaGFzTW92ZShjaGlsZHJlblswXS5lbG0sIG1vdmVDbGFzcykpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIHdlIGRpdmlkZSB0aGUgd29yayBpbnRvIHRocmVlIGxvb3BzIHRvIGF2b2lkIG1peGluZyBET00gcmVhZHMgYW5kIHdyaXRlc1xuICAgIC8vIGluIGVhY2ggaXRlcmF0aW9uIC0gd2hpY2ggaGVscHMgcHJldmVudCBsYXlvdXQgdGhyYXNoaW5nLlxuICAgIGNoaWxkcmVuLmZvckVhY2goY2FsbFBlbmRpbmdDYnMpO1xuICAgIGNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pO1xuICAgIGNoaWxkcmVuLmZvckVhY2goYXBwbHlUcmFuc2xhdGlvbik7XG5cbiAgICAvLyBmb3JjZSByZWZsb3cgdG8gcHV0IGV2ZXJ5dGhpbmcgaW4gcG9zaXRpb25cbiAgICAvLyBhc3NpZ24gdG8gdGhpcyB0byBhdm9pZCBiZWluZyByZW1vdmVkIGluIHRyZWUtc2hha2luZ1xuICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxuICAgIHRoaXMuX3JlZmxvdyA9IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0O1xuXG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKGMuZGF0YS5tb3ZlZCkge1xuICAgICAgICB2YXIgZWwgPSBjLmVsbTtcbiAgICAgICAgdmFyIHMgPSBlbC5zdHlsZTtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgICBzLnRyYW5zZm9ybSA9IHMuV2Via2l0VHJhbnNmb3JtID0gcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnJztcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0cmFuc2l0aW9uRW5kRXZlbnQsIGVsLl9tb3ZlQ2IgPSBmdW5jdGlvbiBjYiAoZSkge1xuICAgICAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBlbCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZEV2ZW50LCBjYik7XG4gICAgICAgICAgICBlbC5fbW92ZUNiID0gbnVsbDtcbiAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIG1ldGhvZHM6IHtcbiAgICBoYXNNb3ZlOiBmdW5jdGlvbiBoYXNNb3ZlIChlbCwgbW92ZUNsYXNzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICghaGFzVHJhbnNpdGlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHRoaXMuX2hhc01vdmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhc01vdmVcbiAgICAgIH1cbiAgICAgIC8vIERldGVjdCB3aGV0aGVyIGFuIGVsZW1lbnQgd2l0aCB0aGUgbW92ZSBjbGFzcyBhcHBsaWVkIGhhc1xuICAgICAgLy8gQ1NTIHRyYW5zaXRpb25zLiBTaW5jZSB0aGUgZWxlbWVudCBtYXkgYmUgaW5zaWRlIGFuIGVudGVyaW5nXG4gICAgICAvLyB0cmFuc2l0aW9uIGF0IHRoaXMgdmVyeSBtb21lbnQsIHdlIG1ha2UgYSBjbG9uZSBvZiBpdCBhbmQgcmVtb3ZlXG4gICAgICAvLyBhbGwgb3RoZXIgdHJhbnNpdGlvbiBjbGFzc2VzIGFwcGxpZWQgdG8gZW5zdXJlIG9ubHkgdGhlIG1vdmUgY2xhc3NcbiAgICAgIC8vIGlzIGFwcGxpZWQuXG4gICAgICB2YXIgY2xvbmUgPSBlbC5jbG9uZU5vZGUoKTtcbiAgICAgIGlmIChlbC5fdHJhbnNpdGlvbkNsYXNzZXMpIHtcbiAgICAgICAgZWwuX3RyYW5zaXRpb25DbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNscykgeyByZW1vdmVDbGFzcyhjbG9uZSwgY2xzKTsgfSk7XG4gICAgICB9XG4gICAgICBhZGRDbGFzcyhjbG9uZSwgbW92ZUNsYXNzKTtcbiAgICAgIGNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB0aGlzLiRlbC5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgICB2YXIgaW5mbyA9IGdldFRyYW5zaXRpb25JbmZvKGNsb25lKTtcbiAgICAgIHRoaXMuJGVsLnJlbW92ZUNoaWxkKGNsb25lKTtcbiAgICAgIHJldHVybiAodGhpcy5faGFzTW92ZSA9IGluZm8uaGFzVHJhbnNmb3JtKVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMgKGMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChjLmVsbS5fbW92ZUNiKSB7XG4gICAgYy5lbG0uX21vdmVDYigpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoYy5lbG0uX2VudGVyQ2IpIHtcbiAgICBjLmVsbS5fZW50ZXJDYigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uIChjKSB7XG4gIGMuZGF0YS5uZXdQb3MgPSBjLmVsbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbn1cblxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbiAoYykge1xuICB2YXIgb2xkUG9zID0gYy5kYXRhLnBvcztcbiAgdmFyIG5ld1BvcyA9IGMuZGF0YS5uZXdQb3M7XG4gIHZhciBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XG4gIHZhciBkeSA9IG9sZFBvcy50b3AgLSBuZXdQb3MudG9wO1xuICBpZiAoZHggfHwgZHkpIHtcbiAgICBjLmRhdGEubW92ZWQgPSB0cnVlO1xuICAgIHZhciBzID0gYy5lbG0uc3R5bGU7XG4gICAgcy50cmFuc2Zvcm0gPSBzLldlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgZHggKyBcInB4LFwiICsgZHkgKyBcInB4KVwiO1xuICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJztcbiAgfVxufVxuXG52YXIgcGxhdGZvcm1Db21wb25lbnRzID0ge1xuICBUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLFxuICBUcmFuc2l0aW9uR3JvdXA6IFRyYW5zaXRpb25Hcm91cFxufTtcblxuLyogICovXG5cbi8vIGluc3RhbGwgcGxhdGZvcm0gc3BlY2lmaWMgdXRpbHNcblZ1ZS5jb25maWcubXVzdFVzZVByb3AgPSBtdXN0VXNlUHJvcDtcblZ1ZS5jb25maWcuaXNSZXNlcnZlZFRhZyA9IGlzUmVzZXJ2ZWRUYWc7XG5WdWUuY29uZmlnLmlzUmVzZXJ2ZWRBdHRyID0gaXNSZXNlcnZlZEF0dHI7XG5WdWUuY29uZmlnLmdldFRhZ05hbWVzcGFjZSA9IGdldFRhZ05hbWVzcGFjZTtcblZ1ZS5jb25maWcuaXNVbmtub3duRWxlbWVudCA9IGlzVW5rbm93bkVsZW1lbnQ7XG5cbi8vIGluc3RhbGwgcGxhdGZvcm0gcnVudGltZSBkaXJlY3RpdmVzICYgY29tcG9uZW50c1xuZXh0ZW5kKFZ1ZS5vcHRpb25zLmRpcmVjdGl2ZXMsIHBsYXRmb3JtRGlyZWN0aXZlcyk7XG5leHRlbmQoVnVlLm9wdGlvbnMuY29tcG9uZW50cywgcGxhdGZvcm1Db21wb25lbnRzKTtcblxuLy8gaW5zdGFsbCBwbGF0Zm9ybSBwYXRjaCBmdW5jdGlvblxuVnVlLnByb3RvdHlwZS5fX3BhdGNoX18gPSBpbkJyb3dzZXIgPyBwYXRjaCA6IG5vb3A7XG5cbi8vIHB1YmxpYyBtb3VudCBtZXRob2RcblZ1ZS5wcm90b3R5cGUuJG1vdW50ID0gZnVuY3Rpb24gKFxuICBlbCxcbiAgaHlkcmF0aW5nXG4pIHtcbiAgZWwgPSBlbCAmJiBpbkJyb3dzZXIgPyBxdWVyeShlbCkgOiB1bmRlZmluZWQ7XG4gIHJldHVybiBtb3VudENvbXBvbmVudCh0aGlzLCBlbCwgaHlkcmF0aW5nKVxufTtcblxuLy8gZGV2dG9vbHMgZ2xvYmFsIGhvb2tcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5pZiAoaW5Ccm93c2VyKSB7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGlmIChjb25maWcuZGV2dG9vbHMpIHtcbiAgICAgIGlmIChkZXZ0b29scykge1xuICAgICAgICBkZXZ0b29scy5lbWl0KCdpbml0JywgVnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICd0ZXN0J1xuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gJ2luZm8nIDogJ2xvZyddKFxuICAgICAgICAgICdEb3dubG9hZCB0aGUgVnVlIERldnRvb2xzIGV4dGVuc2lvbiBmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTpcXG4nICtcbiAgICAgICAgICAnaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1kZXZ0b29scydcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcgJiZcbiAgICAgIGNvbmZpZy5wcm9kdWN0aW9uVGlwICE9PSBmYWxzZSAmJlxuICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXShcbiAgICAgICAgXCJZb3UgYXJlIHJ1bm5pbmcgVnVlIGluIGRldmVsb3BtZW50IG1vZGUuXFxuXCIgK1xuICAgICAgICBcIk1ha2Ugc3VyZSB0byB0dXJuIG9uIHByb2R1Y3Rpb24gbW9kZSB3aGVuIGRlcGxveWluZyBmb3IgcHJvZHVjdGlvbi5cXG5cIiArXG4gICAgICAgIFwiU2VlIG1vcmUgdGlwcyBhdCBodHRwczovL3Z1ZWpzLm9yZy9ndWlkZS9kZXBsb3ltZW50Lmh0bWxcIlxuICAgICAgKTtcbiAgICB9XG4gIH0sIDApO1xufVxuXG4vKiAgKi9cblxudmFyIGRlZmF1bHRUYWdSRSA9IC9cXHtcXHsoKD86LnxcXHI/XFxuKSs/KVxcfVxcfS9nO1xudmFyIHJlZ2V4RXNjYXBlUkUgPSAvWy0uKis/XiR7fSgpfFtcXF1cXC9cXFxcXS9nO1xuXG52YXIgYnVpbGRSZWdleCA9IGNhY2hlZChmdW5jdGlvbiAoZGVsaW1pdGVycykge1xuICB2YXIgb3BlbiA9IGRlbGltaXRlcnNbMF0ucmVwbGFjZShyZWdleEVzY2FwZVJFLCAnXFxcXCQmJyk7XG4gIHZhciBjbG9zZSA9IGRlbGltaXRlcnNbMV0ucmVwbGFjZShyZWdleEVzY2FwZVJFLCAnXFxcXCQmJyk7XG4gIHJldHVybiBuZXcgUmVnRXhwKG9wZW4gKyAnKCg/Oi58XFxcXG4pKz8pJyArIGNsb3NlLCAnZycpXG59KTtcblxuXG5cbmZ1bmN0aW9uIHBhcnNlVGV4dCAoXG4gIHRleHQsXG4gIGRlbGltaXRlcnNcbikge1xuICB2YXIgdGFnUkUgPSBkZWxpbWl0ZXJzID8gYnVpbGRSZWdleChkZWxpbWl0ZXJzKSA6IGRlZmF1bHRUYWdSRTtcbiAgaWYgKCF0YWdSRS50ZXN0KHRleHQpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHRva2VucyA9IFtdO1xuICB2YXIgcmF3VG9rZW5zID0gW107XG4gIHZhciBsYXN0SW5kZXggPSB0YWdSRS5sYXN0SW5kZXggPSAwO1xuICB2YXIgbWF0Y2gsIGluZGV4LCB0b2tlblZhbHVlO1xuICB3aGlsZSAoKG1hdGNoID0gdGFnUkUuZXhlYyh0ZXh0KSkpIHtcbiAgICBpbmRleCA9IG1hdGNoLmluZGV4O1xuICAgIC8vIHB1c2ggdGV4dCB0b2tlblxuICAgIGlmIChpbmRleCA+IGxhc3RJbmRleCkge1xuICAgICAgcmF3VG9rZW5zLnB1c2godG9rZW5WYWx1ZSA9IHRleHQuc2xpY2UobGFzdEluZGV4LCBpbmRleCkpO1xuICAgICAgdG9rZW5zLnB1c2goSlNPTi5zdHJpbmdpZnkodG9rZW5WYWx1ZSkpO1xuICAgIH1cbiAgICAvLyB0YWcgdG9rZW5cbiAgICB2YXIgZXhwID0gcGFyc2VGaWx0ZXJzKG1hdGNoWzFdLnRyaW0oKSk7XG4gICAgdG9rZW5zLnB1c2goKFwiX3MoXCIgKyBleHAgKyBcIilcIikpO1xuICAgIHJhd1Rva2Vucy5wdXNoKHsgJ0BiaW5kaW5nJzogZXhwIH0pO1xuICAgIGxhc3RJbmRleCA9IGluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuICB9XG4gIGlmIChsYXN0SW5kZXggPCB0ZXh0Lmxlbmd0aCkge1xuICAgIHJhd1Rva2Vucy5wdXNoKHRva2VuVmFsdWUgPSB0ZXh0LnNsaWNlKGxhc3RJbmRleCkpO1xuICAgIHRva2Vucy5wdXNoKEpTT04uc3RyaW5naWZ5KHRva2VuVmFsdWUpKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGV4cHJlc3Npb246IHRva2Vucy5qb2luKCcrJyksXG4gICAgdG9rZW5zOiByYXdUb2tlbnNcbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gdHJhbnNmb3JtTm9kZSAoZWwsIG9wdGlvbnMpIHtcbiAgdmFyIHdhcm4gPSBvcHRpb25zLndhcm4gfHwgYmFzZVdhcm47XG4gIHZhciBzdGF0aWNDbGFzcyA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICdjbGFzcycpO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzdGF0aWNDbGFzcykge1xuICAgIHZhciByZXMgPSBwYXJzZVRleHQoc3RhdGljQ2xhc3MsIG9wdGlvbnMuZGVsaW1pdGVycyk7XG4gICAgaWYgKHJlcykge1xuICAgICAgd2FybihcbiAgICAgICAgXCJjbGFzcz1cXFwiXCIgKyBzdGF0aWNDbGFzcyArIFwiXFxcIjogXCIgK1xuICAgICAgICAnSW50ZXJwb2xhdGlvbiBpbnNpZGUgYXR0cmlidXRlcyBoYXMgYmVlbiByZW1vdmVkLiAnICtcbiAgICAgICAgJ1VzZSB2LWJpbmQgb3IgdGhlIGNvbG9uIHNob3J0aGFuZCBpbnN0ZWFkLiBGb3IgZXhhbXBsZSwgJyArXG4gICAgICAgICdpbnN0ZWFkIG9mIDxkaXYgY2xhc3M9XCJ7eyB2YWwgfX1cIj4sIHVzZSA8ZGl2IDpjbGFzcz1cInZhbFwiPi4nLFxuICAgICAgICBlbC5yYXdBdHRyc01hcFsnY2xhc3MnXVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKHN0YXRpY0NsYXNzKSB7XG4gICAgZWwuc3RhdGljQ2xhc3MgPSBKU09OLnN0cmluZ2lmeShzdGF0aWNDbGFzcyk7XG4gIH1cbiAgdmFyIGNsYXNzQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAnY2xhc3MnLCBmYWxzZSAvKiBnZXRTdGF0aWMgKi8pO1xuICBpZiAoY2xhc3NCaW5kaW5nKSB7XG4gICAgZWwuY2xhc3NCaW5kaW5nID0gY2xhc3NCaW5kaW5nO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdlbkRhdGEgKGVsKSB7XG4gIHZhciBkYXRhID0gJyc7XG4gIGlmIChlbC5zdGF0aWNDbGFzcykge1xuICAgIGRhdGEgKz0gXCJzdGF0aWNDbGFzczpcIiArIChlbC5zdGF0aWNDbGFzcykgKyBcIixcIjtcbiAgfVxuICBpZiAoZWwuY2xhc3NCaW5kaW5nKSB7XG4gICAgZGF0YSArPSBcImNsYXNzOlwiICsgKGVsLmNsYXNzQmluZGluZykgKyBcIixcIjtcbiAgfVxuICByZXR1cm4gZGF0YVxufVxuXG52YXIga2xhc3MkMSA9IHtcbiAgc3RhdGljS2V5czogWydzdGF0aWNDbGFzcyddLFxuICB0cmFuc2Zvcm1Ob2RlOiB0cmFuc2Zvcm1Ob2RlLFxuICBnZW5EYXRhOiBnZW5EYXRhXG59O1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gdHJhbnNmb3JtTm9kZSQxIChlbCwgb3B0aW9ucykge1xuICB2YXIgd2FybiA9IG9wdGlvbnMud2FybiB8fCBiYXNlV2FybjtcbiAgdmFyIHN0YXRpY1N0eWxlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3N0eWxlJyk7XG4gIGlmIChzdGF0aWNTdHlsZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgcmVzID0gcGFyc2VUZXh0KHN0YXRpY1N0eWxlLCBvcHRpb25zLmRlbGltaXRlcnMpO1xuICAgICAgaWYgKHJlcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwic3R5bGU9XFxcIlwiICsgc3RhdGljU3R5bGUgKyBcIlxcXCI6IFwiICtcbiAgICAgICAgICAnSW50ZXJwb2xhdGlvbiBpbnNpZGUgYXR0cmlidXRlcyBoYXMgYmVlbiByZW1vdmVkLiAnICtcbiAgICAgICAgICAnVXNlIHYtYmluZCBvciB0aGUgY29sb24gc2hvcnRoYW5kIGluc3RlYWQuIEZvciBleGFtcGxlLCAnICtcbiAgICAgICAgICAnaW5zdGVhZCBvZiA8ZGl2IHN0eWxlPVwie3sgdmFsIH19XCI+LCB1c2UgPGRpdiA6c3R5bGU9XCJ2YWxcIj4uJyxcbiAgICAgICAgICBlbC5yYXdBdHRyc01hcFsnc3R5bGUnXVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBlbC5zdGF0aWNTdHlsZSA9IEpTT04uc3RyaW5naWZ5KHBhcnNlU3R5bGVUZXh0KHN0YXRpY1N0eWxlKSk7XG4gIH1cblxuICB2YXIgc3R5bGVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICdzdHlsZScsIGZhbHNlIC8qIGdldFN0YXRpYyAqLyk7XG4gIGlmIChzdHlsZUJpbmRpbmcpIHtcbiAgICBlbC5zdHlsZUJpbmRpbmcgPSBzdHlsZUJpbmRpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuRGF0YSQxIChlbCkge1xuICB2YXIgZGF0YSA9ICcnO1xuICBpZiAoZWwuc3RhdGljU3R5bGUpIHtcbiAgICBkYXRhICs9IFwic3RhdGljU3R5bGU6XCIgKyAoZWwuc3RhdGljU3R5bGUpICsgXCIsXCI7XG4gIH1cbiAgaWYgKGVsLnN0eWxlQmluZGluZykge1xuICAgIGRhdGEgKz0gXCJzdHlsZTooXCIgKyAoZWwuc3R5bGVCaW5kaW5nKSArIFwiKSxcIjtcbiAgfVxuICByZXR1cm4gZGF0YVxufVxuXG52YXIgc3R5bGUkMSA9IHtcbiAgc3RhdGljS2V5czogWydzdGF0aWNTdHlsZSddLFxuICB0cmFuc2Zvcm1Ob2RlOiB0cmFuc2Zvcm1Ob2RlJDEsXG4gIGdlbkRhdGE6IGdlbkRhdGEkMVxufTtcblxuLyogICovXG5cbnZhciBkZWNvZGVyO1xuXG52YXIgaGUgPSB7XG4gIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlIChodG1sKSB7XG4gICAgZGVjb2RlciA9IGRlY29kZXIgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVjb2Rlci5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiBkZWNvZGVyLnRleHRDb250ZW50XG4gIH1cbn07XG5cbi8qICAqL1xuXG52YXIgaXNVbmFyeVRhZyA9IG1ha2VNYXAoXG4gICdhcmVhLGJhc2UsYnIsY29sLGVtYmVkLGZyYW1lLGhyLGltZyxpbnB1dCxpc2luZGV4LGtleWdlbiwnICtcbiAgJ2xpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyJ1xuKTtcblxuLy8gRWxlbWVudHMgdGhhdCB5b3UgY2FuLCBpbnRlbnRpb25hbGx5LCBsZWF2ZSBvcGVuXG4vLyAoYW5kIHdoaWNoIGNsb3NlIHRoZW1zZWx2ZXMpXG52YXIgY2FuQmVMZWZ0T3BlblRhZyA9IG1ha2VNYXAoXG4gICdjb2xncm91cCxkZCxkdCxsaSxvcHRpb25zLHAsdGQsdGZvb3QsdGgsdGhlYWQsdHIsc291cmNlJ1xuKTtcblxuLy8gSFRNTDUgdGFncyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmRpY2VzLmh0bWwjZWxlbWVudHMtM1xuLy8gUGhyYXNpbmcgQ29udGVudCBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9kb20uaHRtbCNwaHJhc2luZy1jb250ZW50XG52YXIgaXNOb25QaHJhc2luZ1RhZyA9IG1ha2VNYXAoXG4gICdhZGRyZXNzLGFydGljbGUsYXNpZGUsYmFzZSxibG9ja3F1b3RlLGJvZHksY2FwdGlvbixjb2wsY29sZ3JvdXAsZGQsJyArXG4gICdkZXRhaWxzLGRpYWxvZyxkaXYsZGwsZHQsZmllbGRzZXQsZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGZvcm0sJyArXG4gICdoMSxoMixoMyxoNCxoNSxoNixoZWFkLGhlYWRlcixoZ3JvdXAsaHIsaHRtbCxsZWdlbmQsbGksbWVudWl0ZW0sbWV0YSwnICtcbiAgJ29wdGdyb3VwLG9wdGlvbixwYXJhbSxycCxydCxzb3VyY2Usc3R5bGUsc3VtbWFyeSx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCwnICtcbiAgJ3RpdGxlLHRyLHRyYWNrJ1xuKTtcblxuLyoqXG4gKiBOb3QgdHlwZS1jaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBpdCdzIG1vc3RseSB2ZW5kb3IgY29kZS5cbiAqL1xuXG4vLyBSZWd1bGFyIEV4cHJlc3Npb25zIGZvciBwYXJzaW5nIHRhZ3MgYW5kIGF0dHJpYnV0ZXNcbnZhciBhdHRyaWJ1dGUgPSAvXlxccyooW15cXHNcIic8PlxcLz1dKykoPzpcXHMqKD0pXFxzKig/OlwiKFteXCJdKilcIit8JyhbXiddKiknK3woW15cXHNcIic9PD5gXSspKSk/LztcbnZhciBkeW5hbWljQXJnQXR0cmlidXRlID0gL15cXHMqKCg/OnYtW1xcdy1dKzp8QHw6fCMpXFxbW149XStcXF1bXlxcc1wiJzw+XFwvPV0qKSg/OlxccyooPSlcXHMqKD86XCIoW15cIl0qKVwiK3wnKFteJ10qKScrfChbXlxcc1wiJz08PmBdKykpKT8vO1xudmFyIG5jbmFtZSA9IFwiW2EtekEtWl9dW1xcXFwtXFxcXC4wLTlfYS16QS1aXCIgKyAodW5pY29kZVJlZ0V4cC5zb3VyY2UpICsgXCJdKlwiO1xudmFyIHFuYW1lQ2FwdHVyZSA9IFwiKCg/OlwiICsgbmNuYW1lICsgXCJcXFxcOik/XCIgKyBuY25hbWUgKyBcIilcIjtcbnZhciBzdGFydFRhZ09wZW4gPSBuZXcgUmVnRXhwKChcIl48XCIgKyBxbmFtZUNhcHR1cmUpKTtcbnZhciBzdGFydFRhZ0Nsb3NlID0gL15cXHMqKFxcLz8pPi87XG52YXIgZW5kVGFnID0gbmV3IFJlZ0V4cCgoXCJePFxcXFwvXCIgKyBxbmFtZUNhcHR1cmUgKyBcIltePl0qPlwiKSk7XG52YXIgZG9jdHlwZSA9IC9ePCFET0NUWVBFIFtePl0rPi9pO1xuLy8gIzcyOTg6IGVzY2FwZSAtIHRvIGF2b2lkIGJlaW5nIHBhc3NlZCBhcyBIVE1MIGNvbW1lbnQgd2hlbiBpbmxpbmVkIGluIHBhZ2VcbnZhciBjb21tZW50ID0gL148IVxcLS0vO1xudmFyIGNvbmRpdGlvbmFsQ29tbWVudCA9IC9ePCFcXFsvO1xuXG4vLyBTcGVjaWFsIEVsZW1lbnRzIChjYW4gY29udGFpbiBhbnl0aGluZylcbnZhciBpc1BsYWluVGV4dEVsZW1lbnQgPSBtYWtlTWFwKCdzY3JpcHQsc3R5bGUsdGV4dGFyZWEnLCB0cnVlKTtcbnZhciByZUNhY2hlID0ge307XG5cbnZhciBkZWNvZGluZ01hcCA9IHtcbiAgJyZsdDsnOiAnPCcsXG4gICcmZ3Q7JzogJz4nLFxuICAnJnF1b3Q7JzogJ1wiJyxcbiAgJyZhbXA7JzogJyYnLFxuICAnJiMxMDsnOiAnXFxuJyxcbiAgJyYjOTsnOiAnXFx0JyxcbiAgJyYjMzk7JzogXCInXCJcbn07XG52YXIgZW5jb2RlZEF0dHIgPSAvJig/Omx0fGd0fHF1b3R8YW1wfCMzOSk7L2c7XG52YXIgZW5jb2RlZEF0dHJXaXRoTmV3TGluZXMgPSAvJig/Omx0fGd0fHF1b3R8YW1wfCMzOXwjMTB8IzkpOy9nO1xuXG4vLyAjNTk5MlxudmFyIGlzSWdub3JlTmV3bGluZVRhZyA9IG1ha2VNYXAoJ3ByZSx0ZXh0YXJlYScsIHRydWUpO1xudmFyIHNob3VsZElnbm9yZUZpcnN0TmV3bGluZSA9IGZ1bmN0aW9uICh0YWcsIGh0bWwpIHsgcmV0dXJuIHRhZyAmJiBpc0lnbm9yZU5ld2xpbmVUYWcodGFnKSAmJiBodG1sWzBdID09PSAnXFxuJzsgfTtcblxuZnVuY3Rpb24gZGVjb2RlQXR0ciAodmFsdWUsIHNob3VsZERlY29kZU5ld2xpbmVzKSB7XG4gIHZhciByZSA9IHNob3VsZERlY29kZU5ld2xpbmVzID8gZW5jb2RlZEF0dHJXaXRoTmV3TGluZXMgOiBlbmNvZGVkQXR0cjtcbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UocmUsIGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gZGVjb2RpbmdNYXBbbWF0Y2hdOyB9KVxufVxuXG5mdW5jdGlvbiBwYXJzZUhUTUwgKGh0bWwsIG9wdGlvbnMpIHtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBleHBlY3RIVE1MID0gb3B0aW9ucy5leHBlY3RIVE1MO1xuICB2YXIgaXNVbmFyeVRhZyQkMSA9IG9wdGlvbnMuaXNVbmFyeVRhZyB8fCBubztcbiAgdmFyIGNhbkJlTGVmdE9wZW5UYWckJDEgPSBvcHRpb25zLmNhbkJlTGVmdE9wZW5UYWcgfHwgbm87XG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0LCBsYXN0VGFnO1xuICB3aGlsZSAoaHRtbCkge1xuICAgIGxhc3QgPSBodG1sO1xuICAgIC8vIE1ha2Ugc3VyZSB3ZSdyZSBub3QgaW4gYSBwbGFpbnRleHQgY29udGVudCBlbGVtZW50IGxpa2Ugc2NyaXB0L3N0eWxlXG4gICAgaWYgKCFsYXN0VGFnIHx8ICFpc1BsYWluVGV4dEVsZW1lbnQobGFzdFRhZykpIHtcbiAgICAgIHZhciB0ZXh0RW5kID0gaHRtbC5pbmRleE9mKCc8Jyk7XG4gICAgICBpZiAodGV4dEVuZCA9PT0gMCkge1xuICAgICAgICAvLyBDb21tZW50OlxuICAgICAgICBpZiAoY29tbWVudC50ZXN0KGh0bWwpKSB7XG4gICAgICAgICAgdmFyIGNvbW1lbnRFbmQgPSBodG1sLmluZGV4T2YoJy0tPicpO1xuXG4gICAgICAgICAgaWYgKGNvbW1lbnRFbmQgPj0gMCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hvdWxkS2VlcENvbW1lbnQpIHtcbiAgICAgICAgICAgICAgb3B0aW9ucy5jb21tZW50KGh0bWwuc3Vic3RyaW5nKDQsIGNvbW1lbnRFbmQpLCBpbmRleCwgaW5kZXggKyBjb21tZW50RW5kICsgMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZHZhbmNlKGNvbW1lbnRFbmQgKyAzKTtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db25kaXRpb25hbF9jb21tZW50I0Rvd25sZXZlbC1yZXZlYWxlZF9jb25kaXRpb25hbF9jb21tZW50XG4gICAgICAgIGlmIChjb25kaXRpb25hbENvbW1lbnQudGVzdChodG1sKSkge1xuICAgICAgICAgIHZhciBjb25kaXRpb25hbEVuZCA9IGh0bWwuaW5kZXhPZignXT4nKTtcblxuICAgICAgICAgIGlmIChjb25kaXRpb25hbEVuZCA+PSAwKSB7XG4gICAgICAgICAgICBhZHZhbmNlKGNvbmRpdGlvbmFsRW5kICsgMik7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvY3R5cGU6XG4gICAgICAgIHZhciBkb2N0eXBlTWF0Y2ggPSBodG1sLm1hdGNoKGRvY3R5cGUpO1xuICAgICAgICBpZiAoZG9jdHlwZU1hdGNoKSB7XG4gICAgICAgICAgYWR2YW5jZShkb2N0eXBlTWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW5kIHRhZzpcbiAgICAgICAgdmFyIGVuZFRhZ01hdGNoID0gaHRtbC5tYXRjaChlbmRUYWcpO1xuICAgICAgICBpZiAoZW5kVGFnTWF0Y2gpIHtcbiAgICAgICAgICB2YXIgY3VySW5kZXggPSBpbmRleDtcbiAgICAgICAgICBhZHZhbmNlKGVuZFRhZ01hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgcGFyc2VFbmRUYWcoZW5kVGFnTWF0Y2hbMV0sIGN1ckluZGV4LCBpbmRleCk7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXJ0IHRhZzpcbiAgICAgICAgdmFyIHN0YXJ0VGFnTWF0Y2ggPSBwYXJzZVN0YXJ0VGFnKCk7XG4gICAgICAgIGlmIChzdGFydFRhZ01hdGNoKSB7XG4gICAgICAgICAgaGFuZGxlU3RhcnRUYWcoc3RhcnRUYWdNYXRjaCk7XG4gICAgICAgICAgaWYgKHNob3VsZElnbm9yZUZpcnN0TmV3bGluZShzdGFydFRhZ01hdGNoLnRhZ05hbWUsIGh0bWwpKSB7XG4gICAgICAgICAgICBhZHZhbmNlKDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB0ZXh0ID0gKHZvaWQgMCksIHJlc3QgPSAodm9pZCAwKSwgbmV4dCA9ICh2b2lkIDApO1xuICAgICAgaWYgKHRleHRFbmQgPj0gMCkge1xuICAgICAgICByZXN0ID0gaHRtbC5zbGljZSh0ZXh0RW5kKTtcbiAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICFlbmRUYWcudGVzdChyZXN0KSAmJlxuICAgICAgICAgICFzdGFydFRhZ09wZW4udGVzdChyZXN0KSAmJlxuICAgICAgICAgICFjb21tZW50LnRlc3QocmVzdCkgJiZcbiAgICAgICAgICAhY29uZGl0aW9uYWxDb21tZW50LnRlc3QocmVzdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gPCBpbiBwbGFpbiB0ZXh0LCBiZSBmb3JnaXZpbmcgYW5kIHRyZWF0IGl0IGFzIHRleHRcbiAgICAgICAgICBuZXh0ID0gcmVzdC5pbmRleE9mKCc8JywgMSk7XG4gICAgICAgICAgaWYgKG5leHQgPCAwKSB7IGJyZWFrIH1cbiAgICAgICAgICB0ZXh0RW5kICs9IG5leHQ7XG4gICAgICAgICAgcmVzdCA9IGh0bWwuc2xpY2UodGV4dEVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCA9IGh0bWwuc3Vic3RyaW5nKDAsIHRleHRFbmQpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGV4dEVuZCA8IDApIHtcbiAgICAgICAgdGV4dCA9IGh0bWw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgIGFkdmFuY2UodGV4dC5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5jaGFycyAmJiB0ZXh0KSB7XG4gICAgICAgIG9wdGlvbnMuY2hhcnModGV4dCwgaW5kZXggLSB0ZXh0Lmxlbmd0aCwgaW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZW5kVGFnTGVuZ3RoID0gMDtcbiAgICAgIHZhciBzdGFja2VkVGFnID0gbGFzdFRhZy50b0xvd2VyQ2FzZSgpO1xuICAgICAgdmFyIHJlU3RhY2tlZFRhZyA9IHJlQ2FjaGVbc3RhY2tlZFRhZ10gfHwgKHJlQ2FjaGVbc3RhY2tlZFRhZ10gPSBuZXcgUmVnRXhwKCcoW1xcXFxzXFxcXFNdKj8pKDwvJyArIHN0YWNrZWRUYWcgKyAnW14+XSo+KScsICdpJykpO1xuICAgICAgdmFyIHJlc3QkMSA9IGh0bWwucmVwbGFjZShyZVN0YWNrZWRUYWcsIGZ1bmN0aW9uIChhbGwsIHRleHQsIGVuZFRhZykge1xuICAgICAgICBlbmRUYWdMZW5ndGggPSBlbmRUYWcubGVuZ3RoO1xuICAgICAgICBpZiAoIWlzUGxhaW5UZXh0RWxlbWVudChzdGFja2VkVGFnKSAmJiBzdGFja2VkVGFnICE9PSAnbm9zY3JpcHQnKSB7XG4gICAgICAgICAgdGV4dCA9IHRleHRcbiAgICAgICAgICAgIC5yZXBsYWNlKC88IVxcLS0oW1xcc1xcU10qPyktLT4vZywgJyQxJykgLy8gIzcyOThcbiAgICAgICAgICAgIC5yZXBsYWNlKC88IVxcW0NEQVRBXFxbKFtcXHNcXFNdKj8pXV0+L2csICckMScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRJZ25vcmVGaXJzdE5ld2xpbmUoc3RhY2tlZFRhZywgdGV4dCkpIHtcbiAgICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZSgxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5jaGFycykge1xuICAgICAgICAgIG9wdGlvbnMuY2hhcnModGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnXG4gICAgICB9KTtcbiAgICAgIGluZGV4ICs9IGh0bWwubGVuZ3RoIC0gcmVzdCQxLmxlbmd0aDtcbiAgICAgIGh0bWwgPSByZXN0JDE7XG4gICAgICBwYXJzZUVuZFRhZyhzdGFja2VkVGFnLCBpbmRleCAtIGVuZFRhZ0xlbmd0aCwgaW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChodG1sID09PSBsYXN0KSB7XG4gICAgICBvcHRpb25zLmNoYXJzICYmIG9wdGlvbnMuY2hhcnMoaHRtbCk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhc3RhY2subGVuZ3RoICYmIG9wdGlvbnMud2Fybikge1xuICAgICAgICBvcHRpb25zLndhcm4oKFwiTWFsLWZvcm1hdHRlZCB0YWcgYXQgZW5kIG9mIHRlbXBsYXRlOiBcXFwiXCIgKyBodG1sICsgXCJcXFwiXCIpLCB7IHN0YXJ0OiBpbmRleCArIGh0bWwubGVuZ3RoIH0pO1xuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICAvLyBDbGVhbiB1cCBhbnkgcmVtYWluaW5nIHRhZ3NcbiAgcGFyc2VFbmRUYWcoKTtcblxuICBmdW5jdGlvbiBhZHZhbmNlIChuKSB7XG4gICAgaW5kZXggKz0gbjtcbiAgICBodG1sID0gaHRtbC5zdWJzdHJpbmcobik7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZVN0YXJ0VGFnICgpIHtcbiAgICB2YXIgc3RhcnQgPSBodG1sLm1hdGNoKHN0YXJ0VGFnT3Blbik7XG4gICAgaWYgKHN0YXJ0KSB7XG4gICAgICB2YXIgbWF0Y2ggPSB7XG4gICAgICAgIHRhZ05hbWU6IHN0YXJ0WzFdLFxuICAgICAgICBhdHRyczogW10sXG4gICAgICAgIHN0YXJ0OiBpbmRleFxuICAgICAgfTtcbiAgICAgIGFkdmFuY2Uoc3RhcnRbMF0ubGVuZ3RoKTtcbiAgICAgIHZhciBlbmQsIGF0dHI7XG4gICAgICB3aGlsZSAoIShlbmQgPSBodG1sLm1hdGNoKHN0YXJ0VGFnQ2xvc2UpKSAmJiAoYXR0ciA9IGh0bWwubWF0Y2goZHluYW1pY0FyZ0F0dHJpYnV0ZSkgfHwgaHRtbC5tYXRjaChhdHRyaWJ1dGUpKSkge1xuICAgICAgICBhdHRyLnN0YXJ0ID0gaW5kZXg7XG4gICAgICAgIGFkdmFuY2UoYXR0clswXS5sZW5ndGgpO1xuICAgICAgICBhdHRyLmVuZCA9IGluZGV4O1xuICAgICAgICBtYXRjaC5hdHRycy5wdXNoKGF0dHIpO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCkge1xuICAgICAgICBtYXRjaC51bmFyeVNsYXNoID0gZW5kWzFdO1xuICAgICAgICBhZHZhbmNlKGVuZFswXS5sZW5ndGgpO1xuICAgICAgICBtYXRjaC5lbmQgPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIG1hdGNoXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU3RhcnRUYWcgKG1hdGNoKSB7XG4gICAgdmFyIHRhZ05hbWUgPSBtYXRjaC50YWdOYW1lO1xuICAgIHZhciB1bmFyeVNsYXNoID0gbWF0Y2gudW5hcnlTbGFzaDtcblxuICAgIGlmIChleHBlY3RIVE1MKSB7XG4gICAgICBpZiAobGFzdFRhZyA9PT0gJ3AnICYmIGlzTm9uUGhyYXNpbmdUYWcodGFnTmFtZSkpIHtcbiAgICAgICAgcGFyc2VFbmRUYWcobGFzdFRhZyk7XG4gICAgICB9XG4gICAgICBpZiAoY2FuQmVMZWZ0T3BlblRhZyQkMSh0YWdOYW1lKSAmJiBsYXN0VGFnID09PSB0YWdOYW1lKSB7XG4gICAgICAgIHBhcnNlRW5kVGFnKHRhZ05hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB1bmFyeSA9IGlzVW5hcnlUYWckJDEodGFnTmFtZSkgfHwgISF1bmFyeVNsYXNoO1xuXG4gICAgdmFyIGwgPSBtYXRjaC5hdHRycy5sZW5ndGg7XG4gICAgdmFyIGF0dHJzID0gbmV3IEFycmF5KGwpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYXJncyA9IG1hdGNoLmF0dHJzW2ldO1xuICAgICAgdmFyIHZhbHVlID0gYXJnc1szXSB8fCBhcmdzWzRdIHx8IGFyZ3NbNV0gfHwgJyc7XG4gICAgICB2YXIgc2hvdWxkRGVjb2RlTmV3bGluZXMgPSB0YWdOYW1lID09PSAnYScgJiYgYXJnc1sxXSA9PT0gJ2hyZWYnXG4gICAgICAgID8gb3B0aW9ucy5zaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWZcbiAgICAgICAgOiBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzO1xuICAgICAgYXR0cnNbaV0gPSB7XG4gICAgICAgIG5hbWU6IGFyZ3NbMV0sXG4gICAgICAgIHZhbHVlOiBkZWNvZGVBdHRyKHZhbHVlLCBzaG91bGREZWNvZGVOZXdsaW5lcylcbiAgICAgIH07XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XG4gICAgICAgIGF0dHJzW2ldLnN0YXJ0ID0gYXJncy5zdGFydCArIGFyZ3NbMF0ubWF0Y2goL15cXHMqLykubGVuZ3RoO1xuICAgICAgICBhdHRyc1tpXS5lbmQgPSBhcmdzLmVuZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXVuYXJ5KSB7XG4gICAgICBzdGFjay5wdXNoKHsgdGFnOiB0YWdOYW1lLCBsb3dlckNhc2VkVGFnOiB0YWdOYW1lLnRvTG93ZXJDYXNlKCksIGF0dHJzOiBhdHRycywgc3RhcnQ6IG1hdGNoLnN0YXJ0LCBlbmQ6IG1hdGNoLmVuZCB9KTtcbiAgICAgIGxhc3RUYWcgPSB0YWdOYW1lO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnN0YXJ0KSB7XG4gICAgICBvcHRpb25zLnN0YXJ0KHRhZ05hbWUsIGF0dHJzLCB1bmFyeSwgbWF0Y2guc3RhcnQsIG1hdGNoLmVuZCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VFbmRUYWcgKHRhZ05hbWUsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgcG9zLCBsb3dlckNhc2VkVGFnTmFtZTtcbiAgICBpZiAoc3RhcnQgPT0gbnVsbCkgeyBzdGFydCA9IGluZGV4OyB9XG4gICAgaWYgKGVuZCA9PSBudWxsKSB7IGVuZCA9IGluZGV4OyB9XG5cbiAgICAvLyBGaW5kIHRoZSBjbG9zZXN0IG9wZW5lZCB0YWcgb2YgdGhlIHNhbWUgdHlwZVxuICAgIGlmICh0YWdOYW1lKSB7XG4gICAgICBsb3dlckNhc2VkVGFnTmFtZSA9IHRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGZvciAocG9zID0gc3RhY2subGVuZ3RoIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7XG4gICAgICAgIGlmIChzdGFja1twb3NdLmxvd2VyQ2FzZWRUYWcgPT09IGxvd2VyQ2FzZWRUYWdOYW1lKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBubyB0YWcgbmFtZSBpcyBwcm92aWRlZCwgY2xlYW4gc2hvcFxuICAgICAgcG9zID0gMDtcbiAgICB9XG5cbiAgICBpZiAocG9zID49IDApIHtcbiAgICAgIC8vIENsb3NlIGFsbCB0aGUgb3BlbiBlbGVtZW50cywgdXAgdGhlIHN0YWNrXG4gICAgICBmb3IgKHZhciBpID0gc3RhY2subGVuZ3RoIC0gMTsgaSA+PSBwb3M7IGktLSkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICAgICAgIChpID4gcG9zIHx8ICF0YWdOYW1lKSAmJlxuICAgICAgICAgIG9wdGlvbnMud2FyblxuICAgICAgICApIHtcbiAgICAgICAgICBvcHRpb25zLndhcm4oXG4gICAgICAgICAgICAoXCJ0YWcgPFwiICsgKHN0YWNrW2ldLnRhZykgKyBcIj4gaGFzIG5vIG1hdGNoaW5nIGVuZCB0YWcuXCIpLFxuICAgICAgICAgICAgeyBzdGFydDogc3RhY2tbaV0uc3RhcnQsIGVuZDogc3RhY2tbaV0uZW5kIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmVuZCkge1xuICAgICAgICAgIG9wdGlvbnMuZW5kKHN0YWNrW2ldLnRhZywgc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHRoZSBvcGVuIGVsZW1lbnRzIGZyb20gdGhlIHN0YWNrXG4gICAgICBzdGFjay5sZW5ndGggPSBwb3M7XG4gICAgICBsYXN0VGFnID0gcG9zICYmIHN0YWNrW3BvcyAtIDFdLnRhZztcbiAgICB9IGVsc2UgaWYgKGxvd2VyQ2FzZWRUYWdOYW1lID09PSAnYnInKSB7XG4gICAgICBpZiAob3B0aW9ucy5zdGFydCkge1xuICAgICAgICBvcHRpb25zLnN0YXJ0KHRhZ05hbWUsIFtdLCB0cnVlLCBzdGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxvd2VyQ2FzZWRUYWdOYW1lID09PSAncCcpIHtcbiAgICAgIGlmIChvcHRpb25zLnN0YXJ0KSB7XG4gICAgICAgIG9wdGlvbnMuc3RhcnQodGFnTmFtZSwgW10sIGZhbHNlLCBzdGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmVuZCkge1xuICAgICAgICBvcHRpb25zLmVuZCh0YWdOYW1lLCBzdGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbnZhciBvblJFID0gL15AfF52LW9uOi87XG52YXIgZGlyUkUgPSAvXnYtfF5AfF46fF4jLztcbnZhciBmb3JBbGlhc1JFID0gLyhbXFxzXFxTXSo/KVxccysoPzppbnxvZilcXHMrKFtcXHNcXFNdKikvO1xudmFyIGZvckl0ZXJhdG9yUkUgPSAvLChbXixcXH1cXF1dKikoPzosKFteLFxcfVxcXV0qKSk/JC87XG52YXIgc3RyaXBQYXJlbnNSRSA9IC9eXFwofFxcKSQvZztcbnZhciBkeW5hbWljQXJnUkUgPSAvXlxcWy4qXFxdJC87XG5cbnZhciBhcmdSRSA9IC86KC4qKSQvO1xudmFyIGJpbmRSRSA9IC9eOnxeXFwufF52LWJpbmQ6LztcbnZhciBtb2RpZmllclJFID0gL1xcLlteLlxcXV0rKD89W15cXF1dKiQpL2c7XG5cbnZhciBzbG90UkUgPSAvXnYtc2xvdCg6fCQpfF4jLztcblxudmFyIGxpbmVCcmVha1JFID0gL1tcXHJcXG5dLztcbnZhciB3aGl0ZXNwYWNlUkUkMSA9IC9cXHMrL2c7XG5cbnZhciBpbnZhbGlkQXR0cmlidXRlUkUgPSAvW1xcc1wiJzw+XFwvPV0vO1xuXG52YXIgZGVjb2RlSFRNTENhY2hlZCA9IGNhY2hlZChoZS5kZWNvZGUpO1xuXG52YXIgZW1wdHlTbG90U2NvcGVUb2tlbiA9IFwiX2VtcHR5X1wiO1xuXG4vLyBjb25maWd1cmFibGUgc3RhdGVcbnZhciB3YXJuJDI7XG52YXIgZGVsaW1pdGVycztcbnZhciB0cmFuc2Zvcm1zO1xudmFyIHByZVRyYW5zZm9ybXM7XG52YXIgcG9zdFRyYW5zZm9ybXM7XG52YXIgcGxhdGZvcm1Jc1ByZVRhZztcbnZhciBwbGF0Zm9ybU11c3RVc2VQcm9wO1xudmFyIHBsYXRmb3JtR2V0VGFnTmFtZXNwYWNlO1xudmFyIG1heWJlQ29tcG9uZW50O1xuXG5mdW5jdGlvbiBjcmVhdGVBU1RFbGVtZW50IChcbiAgdGFnLFxuICBhdHRycyxcbiAgcGFyZW50XG4pIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAxLFxuICAgIHRhZzogdGFnLFxuICAgIGF0dHJzTGlzdDogYXR0cnMsXG4gICAgYXR0cnNNYXA6IG1ha2VBdHRyc01hcChhdHRycyksXG4gICAgcmF3QXR0cnNNYXA6IHt9LFxuICAgIHBhcmVudDogcGFyZW50LFxuICAgIGNoaWxkcmVuOiBbXVxuICB9XG59XG5cbi8qKlxuICogQ29udmVydCBIVE1MIHN0cmluZyB0byBBU1QuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlIChcbiAgdGVtcGxhdGUsXG4gIG9wdGlvbnNcbikge1xuICB3YXJuJDIgPSBvcHRpb25zLndhcm4gfHwgYmFzZVdhcm47XG5cbiAgcGxhdGZvcm1Jc1ByZVRhZyA9IG9wdGlvbnMuaXNQcmVUYWcgfHwgbm87XG4gIHBsYXRmb3JtTXVzdFVzZVByb3AgPSBvcHRpb25zLm11c3RVc2VQcm9wIHx8IG5vO1xuICBwbGF0Zm9ybUdldFRhZ05hbWVzcGFjZSA9IG9wdGlvbnMuZ2V0VGFnTmFtZXNwYWNlIHx8IG5vO1xuICB2YXIgaXNSZXNlcnZlZFRhZyA9IG9wdGlvbnMuaXNSZXNlcnZlZFRhZyB8fCBubztcbiAgbWF5YmVDb21wb25lbnQgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuICEhZWwuY29tcG9uZW50IHx8ICFpc1Jlc2VydmVkVGFnKGVsLnRhZyk7IH07XG5cbiAgdHJhbnNmb3JtcyA9IHBsdWNrTW9kdWxlRnVuY3Rpb24ob3B0aW9ucy5tb2R1bGVzLCAndHJhbnNmb3JtTm9kZScpO1xuICBwcmVUcmFuc2Zvcm1zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICdwcmVUcmFuc2Zvcm1Ob2RlJyk7XG4gIHBvc3RUcmFuc2Zvcm1zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICdwb3N0VHJhbnNmb3JtTm9kZScpO1xuXG4gIGRlbGltaXRlcnMgPSBvcHRpb25zLmRlbGltaXRlcnM7XG5cbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBwcmVzZXJ2ZVdoaXRlc3BhY2UgPSBvcHRpb25zLnByZXNlcnZlV2hpdGVzcGFjZSAhPT0gZmFsc2U7XG4gIHZhciB3aGl0ZXNwYWNlT3B0aW9uID0gb3B0aW9ucy53aGl0ZXNwYWNlO1xuICB2YXIgcm9vdDtcbiAgdmFyIGN1cnJlbnRQYXJlbnQ7XG4gIHZhciBpblZQcmUgPSBmYWxzZTtcbiAgdmFyIGluUHJlID0gZmFsc2U7XG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiB3YXJuT25jZSAobXNnLCByYW5nZSkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgICAgd2FybiQyKG1zZywgcmFuZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlRWxlbWVudCAoZWxlbWVudCkge1xuICAgIHRyaW1FbmRpbmdXaGl0ZXNwYWNlKGVsZW1lbnQpO1xuICAgIGlmICghaW5WUHJlICYmICFlbGVtZW50LnByb2Nlc3NlZCkge1xuICAgICAgZWxlbWVudCA9IHByb2Nlc3NFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyB0cmVlIG1hbmFnZW1lbnRcbiAgICBpZiAoIXN0YWNrLmxlbmd0aCAmJiBlbGVtZW50ICE9PSByb290KSB7XG4gICAgICAvLyBhbGxvdyByb290IGVsZW1lbnRzIHdpdGggdi1pZiwgdi1lbHNlLWlmIGFuZCB2LWVsc2VcbiAgICAgIGlmIChyb290LmlmICYmIChlbGVtZW50LmVsc2VpZiB8fCBlbGVtZW50LmVsc2UpKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tSb290Q29uc3RyYWludHMoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkSWZDb25kaXRpb24ocm9vdCwge1xuICAgICAgICAgIGV4cDogZWxlbWVudC5lbHNlaWYsXG4gICAgICAgICAgYmxvY2s6IGVsZW1lbnRcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgd2Fybk9uY2UoXG4gICAgICAgICAgXCJDb21wb25lbnQgdGVtcGxhdGUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiBcIiArXG4gICAgICAgICAgXCJJZiB5b3UgYXJlIHVzaW5nIHYtaWYgb24gbXVsdGlwbGUgZWxlbWVudHMsIFwiICtcbiAgICAgICAgICBcInVzZSB2LWVsc2UtaWYgdG8gY2hhaW4gdGhlbSBpbnN0ZWFkLlwiLFxuICAgICAgICAgIHsgc3RhcnQ6IGVsZW1lbnQuc3RhcnQgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY3VycmVudFBhcmVudCAmJiAhZWxlbWVudC5mb3JiaWRkZW4pIHtcbiAgICAgIGlmIChlbGVtZW50LmVsc2VpZiB8fCBlbGVtZW50LmVsc2UpIHtcbiAgICAgICAgcHJvY2Vzc0lmQ29uZGl0aW9ucyhlbGVtZW50LCBjdXJyZW50UGFyZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChlbGVtZW50LnNsb3RTY29wZSkge1xuICAgICAgICAgIC8vIHNjb3BlZCBzbG90XG4gICAgICAgICAgLy8ga2VlcCBpdCBpbiB0aGUgY2hpbGRyZW4gbGlzdCBzbyB0aGF0IHYtZWxzZSgtaWYpIGNvbmRpdGlvbnMgY2FuXG4gICAgICAgICAgLy8gZmluZCBpdCBhcyB0aGUgcHJldiBub2RlLlxuICAgICAgICAgIHZhciBuYW1lID0gZWxlbWVudC5zbG90VGFyZ2V0IHx8ICdcImRlZmF1bHRcIidcbiAgICAgICAgICA7KGN1cnJlbnRQYXJlbnQuc2NvcGVkU2xvdHMgfHwgKGN1cnJlbnRQYXJlbnQuc2NvcGVkU2xvdHMgPSB7fSkpW25hbWVdID0gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50UGFyZW50LmNoaWxkcmVuLnB1c2goZWxlbWVudCk7XG4gICAgICAgIGVsZW1lbnQucGFyZW50ID0gY3VycmVudFBhcmVudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmaW5hbCBjaGlsZHJlbiBjbGVhbnVwXG4gICAgLy8gZmlsdGVyIG91dCBzY29wZWQgc2xvdHNcbiAgICBlbGVtZW50LmNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuICEoYykuc2xvdFNjb3BlOyB9KTtcbiAgICAvLyByZW1vdmUgdHJhaWxpbmcgd2hpdGVzcGFjZSBub2RlIGFnYWluXG4gICAgdHJpbUVuZGluZ1doaXRlc3BhY2UoZWxlbWVudCk7XG5cbiAgICAvLyBjaGVjayBwcmUgc3RhdGVcbiAgICBpZiAoZWxlbWVudC5wcmUpIHtcbiAgICAgIGluVlByZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAocGxhdGZvcm1Jc1ByZVRhZyhlbGVtZW50LnRhZykpIHtcbiAgICAgIGluUHJlID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIGFwcGx5IHBvc3QtdHJhbnNmb3Jtc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zdFRyYW5zZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBvc3RUcmFuc2Zvcm1zW2ldKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyaW1FbmRpbmdXaGl0ZXNwYWNlIChlbCkge1xuICAgIC8vIHJlbW92ZSB0cmFpbGluZyB3aGl0ZXNwYWNlIG5vZGVcbiAgICBpZiAoIWluUHJlKSB7XG4gICAgICB2YXIgbGFzdE5vZGU7XG4gICAgICB3aGlsZSAoXG4gICAgICAgIChsYXN0Tm9kZSA9IGVsLmNoaWxkcmVuW2VsLmNoaWxkcmVuLmxlbmd0aCAtIDFdKSAmJlxuICAgICAgICBsYXN0Tm9kZS50eXBlID09PSAzICYmXG4gICAgICAgIGxhc3ROb2RlLnRleHQgPT09ICcgJ1xuICAgICAgKSB7XG4gICAgICAgIGVsLmNoaWxkcmVuLnBvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrUm9vdENvbnN0cmFpbnRzIChlbCkge1xuICAgIGlmIChlbC50YWcgPT09ICdzbG90JyB8fCBlbC50YWcgPT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgIHdhcm5PbmNlKFxuICAgICAgICBcIkNhbm5vdCB1c2UgPFwiICsgKGVsLnRhZykgKyBcIj4gYXMgY29tcG9uZW50IHJvb3QgZWxlbWVudCBiZWNhdXNlIGl0IG1heSBcIiArXG4gICAgICAgICdjb250YWluIG11bHRpcGxlIG5vZGVzLicsXG4gICAgICAgIHsgc3RhcnQ6IGVsLnN0YXJ0IH1cbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChlbC5hdHRyc01hcC5oYXNPd25Qcm9wZXJ0eSgndi1mb3InKSkge1xuICAgICAgd2Fybk9uY2UoXG4gICAgICAgICdDYW5ub3QgdXNlIHYtZm9yIG9uIHN0YXRlZnVsIGNvbXBvbmVudCByb290IGVsZW1lbnQgYmVjYXVzZSAnICtcbiAgICAgICAgJ2l0IHJlbmRlcnMgbXVsdGlwbGUgZWxlbWVudHMuJyxcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtZm9yJ11cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcGFyc2VIVE1MKHRlbXBsYXRlLCB7XG4gICAgd2Fybjogd2FybiQyLFxuICAgIGV4cGVjdEhUTUw6IG9wdGlvbnMuZXhwZWN0SFRNTCxcbiAgICBpc1VuYXJ5VGFnOiBvcHRpb25zLmlzVW5hcnlUYWcsXG4gICAgY2FuQmVMZWZ0T3BlblRhZzogb3B0aW9ucy5jYW5CZUxlZnRPcGVuVGFnLFxuICAgIHNob3VsZERlY29kZU5ld2xpbmVzOiBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzLFxuICAgIHNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZjogb3B0aW9ucy5zaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWYsXG4gICAgc2hvdWxkS2VlcENvbW1lbnQ6IG9wdGlvbnMuY29tbWVudHMsXG4gICAgb3V0cHV0U291cmNlUmFuZ2U6IG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UsXG4gICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0ICh0YWcsIGF0dHJzLCB1bmFyeSwgc3RhcnQkMSwgZW5kKSB7XG4gICAgICAvLyBjaGVjayBuYW1lc3BhY2UuXG4gICAgICAvLyBpbmhlcml0IHBhcmVudCBucyBpZiB0aGVyZSBpcyBvbmVcbiAgICAgIHZhciBucyA9IChjdXJyZW50UGFyZW50ICYmIGN1cnJlbnRQYXJlbnQubnMpIHx8IHBsYXRmb3JtR2V0VGFnTmFtZXNwYWNlKHRhZyk7XG5cbiAgICAgIC8vIGhhbmRsZSBJRSBzdmcgYnVnXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpc0lFICYmIG5zID09PSAnc3ZnJykge1xuICAgICAgICBhdHRycyA9IGd1YXJkSUVTVkdCdWcoYXR0cnMpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZWxlbWVudCA9IGNyZWF0ZUFTVEVsZW1lbnQodGFnLCBhdHRycywgY3VycmVudFBhcmVudCk7XG4gICAgICBpZiAobnMpIHtcbiAgICAgICAgZWxlbWVudC5ucyA9IG5zO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAob3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkge1xuICAgICAgICAgIGVsZW1lbnQuc3RhcnQgPSBzdGFydCQxO1xuICAgICAgICAgIGVsZW1lbnQuZW5kID0gZW5kO1xuICAgICAgICAgIGVsZW1lbnQucmF3QXR0cnNNYXAgPSBlbGVtZW50LmF0dHJzTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKGN1bXVsYXRlZCwgYXR0cikge1xuICAgICAgICAgICAgY3VtdWxhdGVkW2F0dHIubmFtZV0gPSBhdHRyO1xuICAgICAgICAgICAgcmV0dXJuIGN1bXVsYXRlZFxuICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICBhdHRycy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgICAgaWYgKGludmFsaWRBdHRyaWJ1dGVSRS50ZXN0KGF0dHIubmFtZSkpIHtcbiAgICAgICAgICAgIHdhcm4kMihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIGR5bmFtaWMgYXJndW1lbnQgZXhwcmVzc2lvbjogYXR0cmlidXRlIG5hbWVzIGNhbm5vdCBjb250YWluIFwiICtcbiAgICAgICAgICAgICAgXCJzcGFjZXMsIHF1b3RlcywgPCwgPiwgLyBvciA9LlwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IGF0dHIuc3RhcnQgKyBhdHRyLm5hbWUuaW5kZXhPZihcIltcIiksXG4gICAgICAgICAgICAgICAgZW5kOiBhdHRyLnN0YXJ0ICsgYXR0ci5uYW1lLmxlbmd0aFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0ZvcmJpZGRlblRhZyhlbGVtZW50KSAmJiAhaXNTZXJ2ZXJSZW5kZXJpbmcoKSkge1xuICAgICAgICBlbGVtZW50LmZvcmJpZGRlbiA9IHRydWU7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybiQyKFxuICAgICAgICAgICdUZW1wbGF0ZXMgc2hvdWxkIG9ubHkgYmUgcmVzcG9uc2libGUgZm9yIG1hcHBpbmcgdGhlIHN0YXRlIHRvIHRoZSAnICtcbiAgICAgICAgICAnVUkuIEF2b2lkIHBsYWNpbmcgdGFncyB3aXRoIHNpZGUtZWZmZWN0cyBpbiB5b3VyIHRlbXBsYXRlcywgc3VjaCBhcyAnICtcbiAgICAgICAgICBcIjxcIiArIHRhZyArIFwiPlwiICsgJywgYXMgdGhleSB3aWxsIG5vdCBiZSBwYXJzZWQuJyxcbiAgICAgICAgICB7IHN0YXJ0OiBlbGVtZW50LnN0YXJ0IH1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwbHkgcHJlLXRyYW5zZm9ybXNcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlVHJhbnNmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbGVtZW50ID0gcHJlVHJhbnNmb3Jtc1tpXShlbGVtZW50LCBvcHRpb25zKSB8fCBlbGVtZW50O1xuICAgICAgfVxuXG4gICAgICBpZiAoIWluVlByZSkge1xuICAgICAgICBwcm9jZXNzUHJlKGVsZW1lbnQpO1xuICAgICAgICBpZiAoZWxlbWVudC5wcmUpIHtcbiAgICAgICAgICBpblZQcmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGxhdGZvcm1Jc1ByZVRhZyhlbGVtZW50LnRhZykpIHtcbiAgICAgICAgaW5QcmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGluVlByZSkge1xuICAgICAgICBwcm9jZXNzUmF3QXR0cnMoZWxlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKCFlbGVtZW50LnByb2Nlc3NlZCkge1xuICAgICAgICAvLyBzdHJ1Y3R1cmFsIGRpcmVjdGl2ZXNcbiAgICAgICAgcHJvY2Vzc0ZvcihlbGVtZW50KTtcbiAgICAgICAgcHJvY2Vzc0lmKGVsZW1lbnQpO1xuICAgICAgICBwcm9jZXNzT25jZShlbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgIHJvb3QgPSBlbGVtZW50O1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNoZWNrUm9vdENvbnN0cmFpbnRzKHJvb3QpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghdW5hcnkpIHtcbiAgICAgICAgY3VycmVudFBhcmVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHN0YWNrLnB1c2goZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9zZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGVuZDogZnVuY3Rpb24gZW5kICh0YWcsIHN0YXJ0LCBlbmQkMSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgIC8vIHBvcCBzdGFja1xuICAgICAgc3RhY2subGVuZ3RoIC09IDE7XG4gICAgICBjdXJyZW50UGFyZW50ID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XG4gICAgICAgIGVsZW1lbnQuZW5kID0gZW5kJDE7XG4gICAgICB9XG4gICAgICBjbG9zZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgfSxcblxuICAgIGNoYXJzOiBmdW5jdGlvbiBjaGFycyAodGV4dCwgc3RhcnQsIGVuZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFyZW50KSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRleHQgPT09IHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB3YXJuT25jZShcbiAgICAgICAgICAgICAgJ0NvbXBvbmVudCB0ZW1wbGF0ZSByZXF1aXJlcyBhIHJvb3QgZWxlbWVudCwgcmF0aGVyIHRoYW4ganVzdCB0ZXh0LicsXG4gICAgICAgICAgICAgIHsgc3RhcnQ6IHN0YXJ0IH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmICgodGV4dCA9IHRleHQudHJpbSgpKSkge1xuICAgICAgICAgICAgd2Fybk9uY2UoXG4gICAgICAgICAgICAgIChcInRleHQgXFxcIlwiICsgdGV4dCArIFwiXFxcIiBvdXRzaWRlIHJvb3QgZWxlbWVudCB3aWxsIGJlIGlnbm9yZWQuXCIpLFxuICAgICAgICAgICAgICB7IHN0YXJ0OiBzdGFydCB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIC8vIElFIHRleHRhcmVhIHBsYWNlaG9sZGVyIGJ1Z1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoaXNJRSAmJlxuICAgICAgICBjdXJyZW50UGFyZW50LnRhZyA9PT0gJ3RleHRhcmVhJyAmJlxuICAgICAgICBjdXJyZW50UGFyZW50LmF0dHJzTWFwLnBsYWNlaG9sZGVyID09PSB0ZXh0XG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRyZW4gPSBjdXJyZW50UGFyZW50LmNoaWxkcmVuO1xuICAgICAgaWYgKGluUHJlIHx8IHRleHQudHJpbSgpKSB7XG4gICAgICAgIHRleHQgPSBpc1RleHRUYWcoY3VycmVudFBhcmVudCkgPyB0ZXh0IDogZGVjb2RlSFRNTENhY2hlZCh0ZXh0KTtcbiAgICAgIH0gZWxzZSBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAvLyByZW1vdmUgdGhlIHdoaXRlc3BhY2Utb25seSBub2RlIHJpZ2h0IGFmdGVyIGFuIG9wZW5pbmcgdGFnXG4gICAgICAgIHRleHQgPSAnJztcbiAgICAgIH0gZWxzZSBpZiAod2hpdGVzcGFjZU9wdGlvbikge1xuICAgICAgICBpZiAod2hpdGVzcGFjZU9wdGlvbiA9PT0gJ2NvbmRlbnNlJykge1xuICAgICAgICAgIC8vIGluIGNvbmRlbnNlIG1vZGUsIHJlbW92ZSB0aGUgd2hpdGVzcGFjZSBub2RlIGlmIGl0IGNvbnRhaW5zXG4gICAgICAgICAgLy8gbGluZSBicmVhaywgb3RoZXJ3aXNlIGNvbmRlbnNlIHRvIGEgc2luZ2xlIHNwYWNlXG4gICAgICAgICAgdGV4dCA9IGxpbmVCcmVha1JFLnRlc3QodGV4dCkgPyAnJyA6ICcgJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0ID0gJyAnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gcHJlc2VydmVXaGl0ZXNwYWNlID8gJyAnIDogJyc7XG4gICAgICB9XG4gICAgICBpZiAodGV4dCkge1xuICAgICAgICBpZiAoIWluUHJlICYmIHdoaXRlc3BhY2VPcHRpb24gPT09ICdjb25kZW5zZScpIHtcbiAgICAgICAgICAvLyBjb25kZW5zZSBjb25zZWN1dGl2ZSB3aGl0ZXNwYWNlcyBpbnRvIHNpbmdsZSBzcGFjZVxuICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2Uod2hpdGVzcGFjZVJFJDEsICcgJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcztcbiAgICAgICAgdmFyIGNoaWxkO1xuICAgICAgICBpZiAoIWluVlByZSAmJiB0ZXh0ICE9PSAnICcgJiYgKHJlcyA9IHBhcnNlVGV4dCh0ZXh0LCBkZWxpbWl0ZXJzKSkpIHtcbiAgICAgICAgICBjaGlsZCA9IHtcbiAgICAgICAgICAgIHR5cGU6IDIsXG4gICAgICAgICAgICBleHByZXNzaW9uOiByZXMuZXhwcmVzc2lvbixcbiAgICAgICAgICAgIHRva2VuczogcmVzLnRva2VucyxcbiAgICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRleHQgIT09ICcgJyB8fCAhY2hpbGRyZW4ubGVuZ3RoIHx8IGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdLnRleHQgIT09ICcgJykge1xuICAgICAgICAgIGNoaWxkID0ge1xuICAgICAgICAgICAgdHlwZTogMyxcbiAgICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UpIHtcbiAgICAgICAgICAgIGNoaWxkLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICBjaGlsZC5lbmQgPSBlbmQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjb21tZW50OiBmdW5jdGlvbiBjb21tZW50ICh0ZXh0LCBzdGFydCwgZW5kKSB7XG4gICAgICAvLyBhZGRpbmcgYW55dGhpbmcgYXMgYSBzaWJsaW5nIHRvIHRoZSByb290IG5vZGUgaXMgZm9yYmlkZGVuXG4gICAgICAvLyBjb21tZW50cyBzaG91bGQgc3RpbGwgYmUgYWxsb3dlZCwgYnV0IGlnbm9yZWRcbiAgICAgIGlmIChjdXJyZW50UGFyZW50KSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHtcbiAgICAgICAgICB0eXBlOiAzLFxuICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgaXNDb21tZW50OiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UpIHtcbiAgICAgICAgICBjaGlsZC5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgIGNoaWxkLmVuZCA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50UGFyZW50LmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiByb290XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NQcmUgKGVsKSB7XG4gIGlmIChnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1wcmUnKSAhPSBudWxsKSB7XG4gICAgZWwucHJlID0gdHJ1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzUmF3QXR0cnMgKGVsKSB7XG4gIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0O1xuICB2YXIgbGVuID0gbGlzdC5sZW5ndGg7XG4gIGlmIChsZW4pIHtcbiAgICB2YXIgYXR0cnMgPSBlbC5hdHRycyA9IG5ldyBBcnJheShsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGF0dHJzW2ldID0ge1xuICAgICAgICBuYW1lOiBsaXN0W2ldLm5hbWUsXG4gICAgICAgIHZhbHVlOiBKU09OLnN0cmluZ2lmeShsaXN0W2ldLnZhbHVlKVxuICAgICAgfTtcbiAgICAgIGlmIChsaXN0W2ldLnN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgYXR0cnNbaV0uc3RhcnQgPSBsaXN0W2ldLnN0YXJ0O1xuICAgICAgICBhdHRyc1tpXS5lbmQgPSBsaXN0W2ldLmVuZDtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoIWVsLnByZSkge1xuICAgIC8vIG5vbiByb290IG5vZGUgaW4gcHJlIGJsb2NrcyB3aXRoIG5vIGF0dHJpYnV0ZXNcbiAgICBlbC5wbGFpbiA9IHRydWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQgKFxuICBlbGVtZW50LFxuICBvcHRpb25zXG4pIHtcbiAgcHJvY2Vzc0tleShlbGVtZW50KTtcblxuICAvLyBkZXRlcm1pbmUgd2hldGhlciB0aGlzIGlzIGEgcGxhaW4gZWxlbWVudCBhZnRlclxuICAvLyByZW1vdmluZyBzdHJ1Y3R1cmFsIGF0dHJpYnV0ZXNcbiAgZWxlbWVudC5wbGFpbiA9IChcbiAgICAhZWxlbWVudC5rZXkgJiZcbiAgICAhZWxlbWVudC5zY29wZWRTbG90cyAmJlxuICAgICFlbGVtZW50LmF0dHJzTGlzdC5sZW5ndGhcbiAgKTtcblxuICBwcm9jZXNzUmVmKGVsZW1lbnQpO1xuICBwcm9jZXNzU2xvdENvbnRlbnQoZWxlbWVudCk7XG4gIHByb2Nlc3NTbG90T3V0bGV0KGVsZW1lbnQpO1xuICBwcm9jZXNzQ29tcG9uZW50KGVsZW1lbnQpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYW5zZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICBlbGVtZW50ID0gdHJhbnNmb3Jtc1tpXShlbGVtZW50LCBvcHRpb25zKSB8fCBlbGVtZW50O1xuICB9XG4gIHByb2Nlc3NBdHRycyhlbGVtZW50KTtcbiAgcmV0dXJuIGVsZW1lbnRcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0tleSAoZWwpIHtcbiAgdmFyIGV4cCA9IGdldEJpbmRpbmdBdHRyKGVsLCAna2V5Jyk7XG4gIGlmIChleHApIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKGVsLnRhZyA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICB3YXJuJDIoXG4gICAgICAgICAgXCI8dGVtcGxhdGU+IGNhbm5vdCBiZSBrZXllZC4gUGxhY2UgdGhlIGtleSBvbiByZWFsIGVsZW1lbnRzIGluc3RlYWQuXCIsXG4gICAgICAgICAgZ2V0UmF3QmluZGluZ0F0dHIoZWwsICdrZXknKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGVsLmZvcikge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBlbC5pdGVyYXRvcjIgfHwgZWwuaXRlcmF0b3IxO1xuICAgICAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50O1xuICAgICAgICBpZiAoaXRlcmF0b3IgJiYgaXRlcmF0b3IgPT09IGV4cCAmJiBwYXJlbnQgJiYgcGFyZW50LnRhZyA9PT0gJ3RyYW5zaXRpb24tZ3JvdXAnKSB7XG4gICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgXCJEbyBub3QgdXNlIHYtZm9yIGluZGV4IGFzIGtleSBvbiA8dHJhbnNpdGlvbi1ncm91cD4gY2hpbGRyZW4sIFwiICtcbiAgICAgICAgICAgIFwidGhpcyBpcyB0aGUgc2FtZSBhcyBub3QgdXNpbmcga2V5cy5cIixcbiAgICAgICAgICAgIGdldFJhd0JpbmRpbmdBdHRyKGVsLCAna2V5JyksXG4gICAgICAgICAgICB0cnVlIC8qIHRpcCAqL1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZWwua2V5ID0gZXhwO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NSZWYgKGVsKSB7XG4gIHZhciByZWYgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ3JlZicpO1xuICBpZiAocmVmKSB7XG4gICAgZWwucmVmID0gcmVmO1xuICAgIGVsLnJlZkluRm9yID0gY2hlY2tJbkZvcihlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0ZvciAoZWwpIHtcbiAgdmFyIGV4cDtcbiAgaWYgKChleHAgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1mb3InKSkpIHtcbiAgICB2YXIgcmVzID0gcGFyc2VGb3IoZXhwKTtcbiAgICBpZiAocmVzKSB7XG4gICAgICBleHRlbmQoZWwsIHJlcyk7XG4gICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXJuJDIoXG4gICAgICAgIChcIkludmFsaWQgdi1mb3IgZXhwcmVzc2lvbjogXCIgKyBleHApLFxuICAgICAgICBlbC5yYXdBdHRyc01hcFsndi1mb3InXVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuXG5cbmZ1bmN0aW9uIHBhcnNlRm9yIChleHApIHtcbiAgdmFyIGluTWF0Y2ggPSBleHAubWF0Y2goZm9yQWxpYXNSRSk7XG4gIGlmICghaW5NYXRjaCkgeyByZXR1cm4gfVxuICB2YXIgcmVzID0ge307XG4gIHJlcy5mb3IgPSBpbk1hdGNoWzJdLnRyaW0oKTtcbiAgdmFyIGFsaWFzID0gaW5NYXRjaFsxXS50cmltKCkucmVwbGFjZShzdHJpcFBhcmVuc1JFLCAnJyk7XG4gIHZhciBpdGVyYXRvck1hdGNoID0gYWxpYXMubWF0Y2goZm9ySXRlcmF0b3JSRSk7XG4gIGlmIChpdGVyYXRvck1hdGNoKSB7XG4gICAgcmVzLmFsaWFzID0gYWxpYXMucmVwbGFjZShmb3JJdGVyYXRvclJFLCAnJykudHJpbSgpO1xuICAgIHJlcy5pdGVyYXRvcjEgPSBpdGVyYXRvck1hdGNoWzFdLnRyaW0oKTtcbiAgICBpZiAoaXRlcmF0b3JNYXRjaFsyXSkge1xuICAgICAgcmVzLml0ZXJhdG9yMiA9IGl0ZXJhdG9yTWF0Y2hbMl0udHJpbSgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXMuYWxpYXMgPSBhbGlhcztcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NJZiAoZWwpIHtcbiAgdmFyIGV4cCA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWlmJyk7XG4gIGlmIChleHApIHtcbiAgICBlbC5pZiA9IGV4cDtcbiAgICBhZGRJZkNvbmRpdGlvbihlbCwge1xuICAgICAgZXhwOiBleHAsXG4gICAgICBibG9jazogZWxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtZWxzZScpICE9IG51bGwpIHtcbiAgICAgIGVsLmVsc2UgPSB0cnVlO1xuICAgIH1cbiAgICB2YXIgZWxzZWlmID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtZWxzZS1pZicpO1xuICAgIGlmIChlbHNlaWYpIHtcbiAgICAgIGVsLmVsc2VpZiA9IGVsc2VpZjtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0lmQ29uZGl0aW9ucyAoZWwsIHBhcmVudCkge1xuICB2YXIgcHJldiA9IGZpbmRQcmV2RWxlbWVudChwYXJlbnQuY2hpbGRyZW4pO1xuICBpZiAocHJldiAmJiBwcmV2LmlmKSB7XG4gICAgYWRkSWZDb25kaXRpb24ocHJldiwge1xuICAgICAgZXhwOiBlbC5lbHNlaWYsXG4gICAgICBibG9jazogZWxcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgd2FybiQyKFxuICAgICAgXCJ2LVwiICsgKGVsLmVsc2VpZiA/ICgnZWxzZS1pZj1cIicgKyBlbC5lbHNlaWYgKyAnXCInKSA6ICdlbHNlJykgKyBcIiBcIiArXG4gICAgICBcInVzZWQgb24gZWxlbWVudCA8XCIgKyAoZWwudGFnKSArIFwiPiB3aXRob3V0IGNvcnJlc3BvbmRpbmcgdi1pZi5cIixcbiAgICAgIGVsLnJhd0F0dHJzTWFwW2VsLmVsc2VpZiA/ICd2LWVsc2UtaWYnIDogJ3YtZWxzZSddXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kUHJldkVsZW1lbnQgKGNoaWxkcmVuKSB7XG4gIHZhciBpID0gY2hpbGRyZW4ubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgaWYgKGNoaWxkcmVuW2ldLnR5cGUgPT09IDEpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbltpXVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjaGlsZHJlbltpXS50ZXh0ICE9PSAnICcpIHtcbiAgICAgICAgd2FybiQyKFxuICAgICAgICAgIFwidGV4dCBcXFwiXCIgKyAoY2hpbGRyZW5baV0udGV4dC50cmltKCkpICsgXCJcXFwiIGJldHdlZW4gdi1pZiBhbmQgdi1lbHNlKC1pZikgXCIgK1xuICAgICAgICAgIFwid2lsbCBiZSBpZ25vcmVkLlwiLFxuICAgICAgICAgIGNoaWxkcmVuW2ldXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbi5wb3AoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkSWZDb25kaXRpb24gKGVsLCBjb25kaXRpb24pIHtcbiAgaWYgKCFlbC5pZkNvbmRpdGlvbnMpIHtcbiAgICBlbC5pZkNvbmRpdGlvbnMgPSBbXTtcbiAgfVxuICBlbC5pZkNvbmRpdGlvbnMucHVzaChjb25kaXRpb24pO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzT25jZSAoZWwpIHtcbiAgdmFyIG9uY2UkJDEgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1vbmNlJyk7XG4gIGlmIChvbmNlJCQxICE9IG51bGwpIHtcbiAgICBlbC5vbmNlID0gdHJ1ZTtcbiAgfVxufVxuXG4vLyBoYW5kbGUgY29udGVudCBiZWluZyBwYXNzZWQgdG8gYSBjb21wb25lbnQgYXMgc2xvdCxcbi8vIGUuZy4gPHRlbXBsYXRlIHNsb3Q9XCJ4eHhcIj4sIDxkaXYgc2xvdC1zY29wZT1cInh4eFwiPlxuZnVuY3Rpb24gcHJvY2Vzc1Nsb3RDb250ZW50IChlbCkge1xuICB2YXIgc2xvdFNjb3BlO1xuICBpZiAoZWwudGFnID09PSAndGVtcGxhdGUnKSB7XG4gICAgc2xvdFNjb3BlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3Njb3BlJyk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgc2xvdFNjb3BlKSB7XG4gICAgICB3YXJuJDIoXG4gICAgICAgIFwidGhlIFxcXCJzY29wZVxcXCIgYXR0cmlidXRlIGZvciBzY29wZWQgc2xvdHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQgYW5kIFwiICtcbiAgICAgICAgXCJyZXBsYWNlZCBieSBcXFwic2xvdC1zY29wZVxcXCIgc2luY2UgMi41LiBUaGUgbmV3IFxcXCJzbG90LXNjb3BlXFxcIiBhdHRyaWJ1dGUgXCIgK1xuICAgICAgICBcImNhbiBhbHNvIGJlIHVzZWQgb24gcGxhaW4gZWxlbWVudHMgaW4gYWRkaXRpb24gdG8gPHRlbXBsYXRlPiB0byBcIiArXG4gICAgICAgIFwiZGVub3RlIHNjb3BlZCBzbG90cy5cIixcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3Njb3BlJ10sXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgfVxuICAgIGVsLnNsb3RTY29wZSA9IHNsb3RTY29wZSB8fCBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnc2xvdC1zY29wZScpO1xuICB9IGVsc2UgaWYgKChzbG90U2NvcGUgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnc2xvdC1zY29wZScpKSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGVsLmF0dHJzTWFwWyd2LWZvciddKSB7XG4gICAgICB3YXJuJDIoXG4gICAgICAgIFwiQW1iaWd1b3VzIGNvbWJpbmVkIHVzYWdlIG9mIHNsb3Qtc2NvcGUgYW5kIHYtZm9yIG9uIDxcIiArIChlbC50YWcpICsgXCI+IFwiICtcbiAgICAgICAgXCIodi1mb3IgdGFrZXMgaGlnaGVyIHByaW9yaXR5KS4gVXNlIGEgd3JhcHBlciA8dGVtcGxhdGU+IGZvciB0aGUgXCIgK1xuICAgICAgICBcInNjb3BlZCBzbG90IHRvIG1ha2UgaXQgY2xlYXJlci5cIixcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3Nsb3Qtc2NvcGUnXSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgZWwuc2xvdFNjb3BlID0gc2xvdFNjb3BlO1xuICB9XG5cbiAgLy8gc2xvdD1cInh4eFwiXG4gIHZhciBzbG90VGFyZ2V0ID0gZ2V0QmluZGluZ0F0dHIoZWwsICdzbG90Jyk7XG4gIGlmIChzbG90VGFyZ2V0KSB7XG4gICAgZWwuc2xvdFRhcmdldCA9IHNsb3RUYXJnZXQgPT09ICdcIlwiJyA/ICdcImRlZmF1bHRcIicgOiBzbG90VGFyZ2V0O1xuICAgIGVsLnNsb3RUYXJnZXREeW5hbWljID0gISEoZWwuYXR0cnNNYXBbJzpzbG90J10gfHwgZWwuYXR0cnNNYXBbJ3YtYmluZDpzbG90J10pO1xuICAgIC8vIHByZXNlcnZlIHNsb3QgYXMgYW4gYXR0cmlidXRlIGZvciBuYXRpdmUgc2hhZG93IERPTSBjb21wYXRcbiAgICAvLyBvbmx5IGZvciBub24tc2NvcGVkIHNsb3RzLlxuICAgIGlmIChlbC50YWcgIT09ICd0ZW1wbGF0ZScgJiYgIWVsLnNsb3RTY29wZSkge1xuICAgICAgYWRkQXR0cihlbCwgJ3Nsb3QnLCBzbG90VGFyZ2V0LCBnZXRSYXdCaW5kaW5nQXR0cihlbCwgJ3Nsb3QnKSk7XG4gICAgfVxuICB9XG5cbiAgLy8gMi42IHYtc2xvdCBzeW50YXhcbiAge1xuICAgIGlmIChlbC50YWcgPT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgIC8vIHYtc2xvdCBvbiA8dGVtcGxhdGU+XG4gICAgICB2YXIgc2xvdEJpbmRpbmcgPSBnZXRBbmRSZW1vdmVBdHRyQnlSZWdleChlbCwgc2xvdFJFKTtcbiAgICAgIGlmIChzbG90QmluZGluZykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChlbC5zbG90VGFyZ2V0IHx8IGVsLnNsb3RTY29wZSkge1xuICAgICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgbWl4ZWQgdXNhZ2Ugb2YgZGlmZmVyZW50IHNsb3Qgc3ludGF4ZXMuXCIsXG4gICAgICAgICAgICAgIGVsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZWwucGFyZW50ICYmICFtYXliZUNvbXBvbmVudChlbC5wYXJlbnQpKSB7XG4gICAgICAgICAgICB3YXJuJDIoXG4gICAgICAgICAgICAgIFwiPHRlbXBsYXRlIHYtc2xvdD4gY2FuIG9ubHkgYXBwZWFyIGF0IHRoZSByb290IGxldmVsIGluc2lkZSBcIiArXG4gICAgICAgICAgICAgIFwidGhlIHJlY2VpdmluZyBjb21wb25lbnRcIixcbiAgICAgICAgICAgICAgZWxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZWYgPSBnZXRTbG90TmFtZShzbG90QmluZGluZyk7XG4gICAgICAgIHZhciBuYW1lID0gcmVmLm5hbWU7XG4gICAgICAgIHZhciBkeW5hbWljID0gcmVmLmR5bmFtaWM7XG4gICAgICAgIGVsLnNsb3RUYXJnZXQgPSBuYW1lO1xuICAgICAgICBlbC5zbG90VGFyZ2V0RHluYW1pYyA9IGR5bmFtaWM7XG4gICAgICAgIGVsLnNsb3RTY29wZSA9IHNsb3RCaW5kaW5nLnZhbHVlIHx8IGVtcHR5U2xvdFNjb3BlVG9rZW47IC8vIGZvcmNlIGl0IGludG8gYSBzY29wZWQgc2xvdCBmb3IgcGVyZlxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB2LXNsb3Qgb24gY29tcG9uZW50LCBkZW5vdGVzIGRlZmF1bHQgc2xvdFxuICAgICAgdmFyIHNsb3RCaW5kaW5nJDEgPSBnZXRBbmRSZW1vdmVBdHRyQnlSZWdleChlbCwgc2xvdFJFKTtcbiAgICAgIGlmIChzbG90QmluZGluZyQxKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKCFtYXliZUNvbXBvbmVudChlbCkpIHtcbiAgICAgICAgICAgIHdhcm4kMihcbiAgICAgICAgICAgICAgXCJ2LXNsb3QgY2FuIG9ubHkgYmUgdXNlZCBvbiBjb21wb25lbnRzIG9yIDx0ZW1wbGF0ZT4uXCIsXG4gICAgICAgICAgICAgIHNsb3RCaW5kaW5nJDFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlbC5zbG90U2NvcGUgfHwgZWwuc2xvdFRhcmdldCkge1xuICAgICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgbWl4ZWQgdXNhZ2Ugb2YgZGlmZmVyZW50IHNsb3Qgc3ludGF4ZXMuXCIsXG4gICAgICAgICAgICAgIGVsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZWwuc2NvcGVkU2xvdHMpIHtcbiAgICAgICAgICAgIHdhcm4kMihcbiAgICAgICAgICAgICAgXCJUbyBhdm9pZCBzY29wZSBhbWJpZ3VpdHksIHRoZSBkZWZhdWx0IHNsb3Qgc2hvdWxkIGFsc28gdXNlIFwiICtcbiAgICAgICAgICAgICAgXCI8dGVtcGxhdGU+IHN5bnRheCB3aGVuIHRoZXJlIGFyZSBvdGhlciBuYW1lZCBzbG90cy5cIixcbiAgICAgICAgICAgICAgc2xvdEJpbmRpbmckMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIHRoZSBjb21wb25lbnQncyBjaGlsZHJlbiB0byBpdHMgZGVmYXVsdCBzbG90XG4gICAgICAgIHZhciBzbG90cyA9IGVsLnNjb3BlZFNsb3RzIHx8IChlbC5zY29wZWRTbG90cyA9IHt9KTtcbiAgICAgICAgdmFyIHJlZiQxID0gZ2V0U2xvdE5hbWUoc2xvdEJpbmRpbmckMSk7XG4gICAgICAgIHZhciBuYW1lJDEgPSByZWYkMS5uYW1lO1xuICAgICAgICB2YXIgZHluYW1pYyQxID0gcmVmJDEuZHluYW1pYztcbiAgICAgICAgdmFyIHNsb3RDb250YWluZXIgPSBzbG90c1tuYW1lJDFdID0gY3JlYXRlQVNURWxlbWVudCgndGVtcGxhdGUnLCBbXSwgZWwpO1xuICAgICAgICBzbG90Q29udGFpbmVyLnNsb3RUYXJnZXQgPSBuYW1lJDE7XG4gICAgICAgIHNsb3RDb250YWluZXIuc2xvdFRhcmdldER5bmFtaWMgPSBkeW5hbWljJDE7XG4gICAgICAgIHNsb3RDb250YWluZXIuY2hpbGRyZW4gPSBlbC5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICBpZiAoIWMuc2xvdFNjb3BlKSB7XG4gICAgICAgICAgICBjLnBhcmVudCA9IHNsb3RDb250YWluZXI7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNsb3RDb250YWluZXIuc2xvdFNjb3BlID0gc2xvdEJpbmRpbmckMS52YWx1ZSB8fCBlbXB0eVNsb3RTY29wZVRva2VuO1xuICAgICAgICAvLyByZW1vdmUgY2hpbGRyZW4gYXMgdGhleSBhcmUgcmV0dXJuZWQgZnJvbSBzY29wZWRTbG90cyBub3dcbiAgICAgICAgZWwuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgLy8gbWFyayBlbCBub24tcGxhaW4gc28gZGF0YSBnZXRzIGdlbmVyYXRlZFxuICAgICAgICBlbC5wbGFpbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTbG90TmFtZSAoYmluZGluZykge1xuICB2YXIgbmFtZSA9IGJpbmRpbmcubmFtZS5yZXBsYWNlKHNsb3RSRSwgJycpO1xuICBpZiAoIW5hbWUpIHtcbiAgICBpZiAoYmluZGluZy5uYW1lWzBdICE9PSAnIycpIHtcbiAgICAgIG5hbWUgPSAnZGVmYXVsdCc7XG4gICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXJuJDIoXG4gICAgICAgIFwidi1zbG90IHNob3J0aGFuZCBzeW50YXggcmVxdWlyZXMgYSBzbG90IG5hbWUuXCIsXG4gICAgICAgIGJpbmRpbmdcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkeW5hbWljQXJnUkUudGVzdChuYW1lKVxuICAgIC8vIGR5bmFtaWMgW25hbWVdXG4gICAgPyB7IG5hbWU6IG5hbWUuc2xpY2UoMSwgLTEpLCBkeW5hbWljOiB0cnVlIH1cbiAgICAvLyBzdGF0aWMgbmFtZVxuICAgIDogeyBuYW1lOiAoXCJcXFwiXCIgKyBuYW1lICsgXCJcXFwiXCIpLCBkeW5hbWljOiBmYWxzZSB9XG59XG5cbi8vIGhhbmRsZSA8c2xvdC8+IG91dGxldHNcbmZ1bmN0aW9uIHByb2Nlc3NTbG90T3V0bGV0IChlbCkge1xuICBpZiAoZWwudGFnID09PSAnc2xvdCcpIHtcbiAgICBlbC5zbG90TmFtZSA9IGdldEJpbmRpbmdBdHRyKGVsLCAnbmFtZScpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGVsLmtleSkge1xuICAgICAgd2FybiQyKFxuICAgICAgICBcImBrZXlgIGRvZXMgbm90IHdvcmsgb24gPHNsb3Q+IGJlY2F1c2Ugc2xvdHMgYXJlIGFic3RyYWN0IG91dGxldHMgXCIgK1xuICAgICAgICBcImFuZCBjYW4gcG9zc2libHkgZXhwYW5kIGludG8gbXVsdGlwbGUgZWxlbWVudHMuIFwiICtcbiAgICAgICAgXCJVc2UgdGhlIGtleSBvbiBhIHdyYXBwaW5nIGVsZW1lbnQgaW5zdGVhZC5cIixcbiAgICAgICAgZ2V0UmF3QmluZGluZ0F0dHIoZWwsICdrZXknKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0NvbXBvbmVudCAoZWwpIHtcbiAgdmFyIGJpbmRpbmc7XG4gIGlmICgoYmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAnaXMnKSkpIHtcbiAgICBlbC5jb21wb25lbnQgPSBiaW5kaW5nO1xuICB9XG4gIGlmIChnZXRBbmRSZW1vdmVBdHRyKGVsLCAnaW5saW5lLXRlbXBsYXRlJykgIT0gbnVsbCkge1xuICAgIGVsLmlubGluZVRlbXBsYXRlID0gdHJ1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzQXR0cnMgKGVsKSB7XG4gIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0O1xuICB2YXIgaSwgbCwgbmFtZSwgcmF3TmFtZSwgdmFsdWUsIG1vZGlmaWVycywgc3luY0dlbiwgaXNEeW5hbWljO1xuICBmb3IgKGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBuYW1lID0gcmF3TmFtZSA9IGxpc3RbaV0ubmFtZTtcbiAgICB2YWx1ZSA9IGxpc3RbaV0udmFsdWU7XG4gICAgaWYgKGRpclJFLnRlc3QobmFtZSkpIHtcbiAgICAgIC8vIG1hcmsgZWxlbWVudCBhcyBkeW5hbWljXG4gICAgICBlbC5oYXNCaW5kaW5ncyA9IHRydWU7XG4gICAgICAvLyBtb2RpZmllcnNcbiAgICAgIG1vZGlmaWVycyA9IHBhcnNlTW9kaWZpZXJzKG5hbWUucmVwbGFjZShkaXJSRSwgJycpKTtcbiAgICAgIC8vIHN1cHBvcnQgLmZvbyBzaG9ydGhhbmQgc3ludGF4IGZvciB0aGUgLnByb3AgbW9kaWZpZXJcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZShtb2RpZmllclJFLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoYmluZFJFLnRlc3QobmFtZSkpIHsgLy8gdi1iaW5kXG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoYmluZFJFLCAnJyk7XG4gICAgICAgIHZhbHVlID0gcGFyc2VGaWx0ZXJzKHZhbHVlKTtcbiAgICAgICAgaXNEeW5hbWljID0gZHluYW1pY0FyZ1JFLnRlc3QobmFtZSk7XG4gICAgICAgIGlmIChpc0R5bmFtaWMpIHtcbiAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgxLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgICAgICB2YWx1ZS50cmltKCkubGVuZ3RoID09PSAwXG4gICAgICAgICkge1xuICAgICAgICAgIHdhcm4kMihcbiAgICAgICAgICAgIChcIlRoZSB2YWx1ZSBmb3IgYSB2LWJpbmQgZXhwcmVzc2lvbiBjYW5ub3QgYmUgZW1wdHkuIEZvdW5kIGluIFxcXCJ2LWJpbmQ6XCIgKyBuYW1lICsgXCJcXFwiXCIpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kaWZpZXJzKSB7XG4gICAgICAgICAgaWYgKG1vZGlmaWVycy5wcm9wICYmICFpc0R5bmFtaWMpIHtcbiAgICAgICAgICAgIG5hbWUgPSBjYW1lbGl6ZShuYW1lKTtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSAnaW5uZXJIdG1sJykgeyBuYW1lID0gJ2lubmVySFRNTCc7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1vZGlmaWVycy5jYW1lbCAmJiAhaXNEeW5hbWljKSB7XG4gICAgICAgICAgICBuYW1lID0gY2FtZWxpemUobmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtb2RpZmllcnMuc3luYykge1xuICAgICAgICAgICAgc3luY0dlbiA9IGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCBcIiRldmVudFwiKTtcbiAgICAgICAgICAgIGlmICghaXNEeW5hbWljKSB7XG4gICAgICAgICAgICAgIGFkZEhhbmRsZXIoXG4gICAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgICAgKFwidXBkYXRlOlwiICsgKGNhbWVsaXplKG5hbWUpKSksXG4gICAgICAgICAgICAgICAgc3luY0dlbixcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIHdhcm4kMixcbiAgICAgICAgICAgICAgICBsaXN0W2ldXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmIChoeXBoZW5hdGUobmFtZSkgIT09IGNhbWVsaXplKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgYWRkSGFuZGxlcihcbiAgICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgICAgKFwidXBkYXRlOlwiICsgKGh5cGhlbmF0ZShuYW1lKSkpLFxuICAgICAgICAgICAgICAgICAgc3luY0dlbixcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIHdhcm4kMixcbiAgICAgICAgICAgICAgICAgIGxpc3RbaV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBoYW5kbGVyIHcvIGR5bmFtaWMgZXZlbnQgbmFtZVxuICAgICAgICAgICAgICBhZGRIYW5kbGVyKFxuICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgIChcIlxcXCJ1cGRhdGU6XFxcIisoXCIgKyBuYW1lICsgXCIpXCIpLFxuICAgICAgICAgICAgICAgIHN5bmNHZW4sXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICB3YXJuJDIsXG4gICAgICAgICAgICAgICAgbGlzdFtpXSxcbiAgICAgICAgICAgICAgICB0cnVlIC8vIGR5bmFtaWNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChtb2RpZmllcnMgJiYgbW9kaWZpZXJzLnByb3ApIHx8IChcbiAgICAgICAgICAhZWwuY29tcG9uZW50ICYmIHBsYXRmb3JtTXVzdFVzZVByb3AoZWwudGFnLCBlbC5hdHRyc01hcC50eXBlLCBuYW1lKVxuICAgICAgICApKSB7XG4gICAgICAgICAgYWRkUHJvcChlbCwgbmFtZSwgdmFsdWUsIGxpc3RbaV0sIGlzRHluYW1pYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkQXR0cihlbCwgbmFtZSwgdmFsdWUsIGxpc3RbaV0sIGlzRHluYW1pYyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob25SRS50ZXN0KG5hbWUpKSB7IC8vIHYtb25cbiAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZShvblJFLCAnJyk7XG4gICAgICAgIGlzRHluYW1pYyA9IGR5bmFtaWNBcmdSRS50ZXN0KG5hbWUpO1xuICAgICAgICBpZiAoaXNEeW5hbWljKSB7XG4gICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMSwgLTEpO1xuICAgICAgICB9XG4gICAgICAgIGFkZEhhbmRsZXIoZWwsIG5hbWUsIHZhbHVlLCBtb2RpZmllcnMsIGZhbHNlLCB3YXJuJDIsIGxpc3RbaV0sIGlzRHluYW1pYyk7XG4gICAgICB9IGVsc2UgeyAvLyBub3JtYWwgZGlyZWN0aXZlc1xuICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKGRpclJFLCAnJyk7XG4gICAgICAgIC8vIHBhcnNlIGFyZ1xuICAgICAgICB2YXIgYXJnTWF0Y2ggPSBuYW1lLm1hdGNoKGFyZ1JFKTtcbiAgICAgICAgdmFyIGFyZyA9IGFyZ01hdGNoICYmIGFyZ01hdGNoWzFdO1xuICAgICAgICBpc0R5bmFtaWMgPSBmYWxzZTtcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDAsIC0oYXJnLmxlbmd0aCArIDEpKTtcbiAgICAgICAgICBpZiAoZHluYW1pY0FyZ1JFLnRlc3QoYXJnKSkge1xuICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgIGlzRHluYW1pYyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFkZERpcmVjdGl2ZShlbCwgbmFtZSwgcmF3TmFtZSwgdmFsdWUsIGFyZywgaXNEeW5hbWljLCBtb2RpZmllcnMsIGxpc3RbaV0pO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBuYW1lID09PSAnbW9kZWwnKSB7XG4gICAgICAgICAgY2hlY2tGb3JBbGlhc01vZGVsKGVsLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbGl0ZXJhbCBhdHRyaWJ1dGVcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhciByZXMgPSBwYXJzZVRleHQodmFsdWUsIGRlbGltaXRlcnMpO1xuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgbmFtZSArIFwiPVxcXCJcIiArIHZhbHVlICsgXCJcXFwiOiBcIiArXG4gICAgICAgICAgICAnSW50ZXJwb2xhdGlvbiBpbnNpZGUgYXR0cmlidXRlcyBoYXMgYmVlbiByZW1vdmVkLiAnICtcbiAgICAgICAgICAgICdVc2Ugdi1iaW5kIG9yIHRoZSBjb2xvbiBzaG9ydGhhbmQgaW5zdGVhZC4gRm9yIGV4YW1wbGUsICcgK1xuICAgICAgICAgICAgJ2luc3RlYWQgb2YgPGRpdiBpZD1cInt7IHZhbCB9fVwiPiwgdXNlIDxkaXYgOmlkPVwidmFsXCI+LicsXG4gICAgICAgICAgICBsaXN0W2ldXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYWRkQXR0cihlbCwgbmFtZSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpLCBsaXN0W2ldKTtcbiAgICAgIC8vICM2ODg3IGZpcmVmb3ggZG9lc24ndCB1cGRhdGUgbXV0ZWQgc3RhdGUgaWYgc2V0IHZpYSBhdHRyaWJ1dGVcbiAgICAgIC8vIGV2ZW4gaW1tZWRpYXRlbHkgYWZ0ZXIgZWxlbWVudCBjcmVhdGlvblxuICAgICAgaWYgKCFlbC5jb21wb25lbnQgJiZcbiAgICAgICAgICBuYW1lID09PSAnbXV0ZWQnICYmXG4gICAgICAgICAgcGxhdGZvcm1NdXN0VXNlUHJvcChlbC50YWcsIGVsLmF0dHJzTWFwLnR5cGUsIG5hbWUpKSB7XG4gICAgICAgIGFkZFByb3AoZWwsIG5hbWUsICd0cnVlJywgbGlzdFtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrSW5Gb3IgKGVsKSB7XG4gIHZhciBwYXJlbnQgPSBlbDtcbiAgd2hpbGUgKHBhcmVudCkge1xuICAgIGlmIChwYXJlbnQuZm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHBhcnNlTW9kaWZpZXJzIChuYW1lKSB7XG4gIHZhciBtYXRjaCA9IG5hbWUubWF0Y2gobW9kaWZpZXJSRSk7XG4gIGlmIChtYXRjaCkge1xuICAgIHZhciByZXQgPSB7fTtcbiAgICBtYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7IHJldFttLnNsaWNlKDEpXSA9IHRydWU7IH0pO1xuICAgIHJldHVybiByZXRcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlQXR0cnNNYXAgKGF0dHJzKSB7XG4gIHZhciBtYXAgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdHRycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgICBtYXBbYXR0cnNbaV0ubmFtZV0gJiYgIWlzSUUgJiYgIWlzRWRnZVxuICAgICkge1xuICAgICAgd2FybiQyKCdkdXBsaWNhdGUgYXR0cmlidXRlOiAnICsgYXR0cnNbaV0ubmFtZSwgYXR0cnNbaV0pO1xuICAgIH1cbiAgICBtYXBbYXR0cnNbaV0ubmFtZV0gPSBhdHRyc1tpXS52YWx1ZTtcbiAgfVxuICByZXR1cm4gbWFwXG59XG5cbi8vIGZvciBzY3JpcHQgKGUuZy4gdHlwZT1cIngvdGVtcGxhdGVcIikgb3Igc3R5bGUsIGRvIG5vdCBkZWNvZGUgY29udGVudFxuZnVuY3Rpb24gaXNUZXh0VGFnIChlbCkge1xuICByZXR1cm4gZWwudGFnID09PSAnc2NyaXB0JyB8fCBlbC50YWcgPT09ICdzdHlsZSdcbn1cblxuZnVuY3Rpb24gaXNGb3JiaWRkZW5UYWcgKGVsKSB7XG4gIHJldHVybiAoXG4gICAgZWwudGFnID09PSAnc3R5bGUnIHx8XG4gICAgKGVsLnRhZyA9PT0gJ3NjcmlwdCcgJiYgKFxuICAgICAgIWVsLmF0dHJzTWFwLnR5cGUgfHxcbiAgICAgIGVsLmF0dHJzTWFwLnR5cGUgPT09ICd0ZXh0L2phdmFzY3JpcHQnXG4gICAgKSlcbiAgKVxufVxuXG52YXIgaWVOU0J1ZyA9IC9eeG1sbnM6TlNcXGQrLztcbnZhciBpZU5TUHJlZml4ID0gL15OU1xcZCs6LztcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGd1YXJkSUVTVkdCdWcgKGF0dHJzKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhdHRyID0gYXR0cnNbaV07XG4gICAgaWYgKCFpZU5TQnVnLnRlc3QoYXR0ci5uYW1lKSkge1xuICAgICAgYXR0ci5uYW1lID0gYXR0ci5uYW1lLnJlcGxhY2UoaWVOU1ByZWZpeCwgJycpO1xuICAgICAgcmVzLnB1c2goYXR0cik7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JBbGlhc01vZGVsIChlbCwgdmFsdWUpIHtcbiAgdmFyIF9lbCA9IGVsO1xuICB3aGlsZSAoX2VsKSB7XG4gICAgaWYgKF9lbC5mb3IgJiYgX2VsLmFsaWFzID09PSB2YWx1ZSkge1xuICAgICAgd2FybiQyKFxuICAgICAgICBcIjxcIiArIChlbC50YWcpICsgXCIgdi1tb2RlbD1cXFwiXCIgKyB2YWx1ZSArIFwiXFxcIj46IFwiICtcbiAgICAgICAgXCJZb3UgYXJlIGJpbmRpbmcgdi1tb2RlbCBkaXJlY3RseSB0byBhIHYtZm9yIGl0ZXJhdGlvbiBhbGlhcy4gXCIgK1xuICAgICAgICBcIlRoaXMgd2lsbCBub3QgYmUgYWJsZSB0byBtb2RpZnkgdGhlIHYtZm9yIHNvdXJjZSBhcnJheSBiZWNhdXNlIFwiICtcbiAgICAgICAgXCJ3cml0aW5nIHRvIHRoZSBhbGlhcyBpcyBsaWtlIG1vZGlmeWluZyBhIGZ1bmN0aW9uIGxvY2FsIHZhcmlhYmxlLiBcIiArXG4gICAgICAgIFwiQ29uc2lkZXIgdXNpbmcgYW4gYXJyYXkgb2Ygb2JqZWN0cyBhbmQgdXNlIHYtbW9kZWwgb24gYW4gb2JqZWN0IHByb3BlcnR5IGluc3RlYWQuXCIsXG4gICAgICAgIGVsLnJhd0F0dHJzTWFwWyd2LW1vZGVsJ11cbiAgICAgICk7XG4gICAgfVxuICAgIF9lbCA9IF9lbC5wYXJlbnQ7XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIHByZVRyYW5zZm9ybU5vZGUgKGVsLCBvcHRpb25zKSB7XG4gIGlmIChlbC50YWcgPT09ICdpbnB1dCcpIHtcbiAgICB2YXIgbWFwID0gZWwuYXR0cnNNYXA7XG4gICAgaWYgKCFtYXBbJ3YtbW9kZWwnXSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHR5cGVCaW5kaW5nO1xuICAgIGlmIChtYXBbJzp0eXBlJ10gfHwgbWFwWyd2LWJpbmQ6dHlwZSddKSB7XG4gICAgICB0eXBlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAndHlwZScpO1xuICAgIH1cbiAgICBpZiAoIW1hcC50eXBlICYmICF0eXBlQmluZGluZyAmJiBtYXBbJ3YtYmluZCddKSB7XG4gICAgICB0eXBlQmluZGluZyA9IFwiKFwiICsgKG1hcFsndi1iaW5kJ10pICsgXCIpLnR5cGVcIjtcbiAgICB9XG5cbiAgICBpZiAodHlwZUJpbmRpbmcpIHtcbiAgICAgIHZhciBpZkNvbmRpdGlvbiA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWlmJywgdHJ1ZSk7XG4gICAgICB2YXIgaWZDb25kaXRpb25FeHRyYSA9IGlmQ29uZGl0aW9uID8gKFwiJiYoXCIgKyBpZkNvbmRpdGlvbiArIFwiKVwiKSA6IFwiXCI7XG4gICAgICB2YXIgaGFzRWxzZSA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWVsc2UnLCB0cnVlKSAhPSBudWxsO1xuICAgICAgdmFyIGVsc2VJZkNvbmRpdGlvbiA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWVsc2UtaWYnLCB0cnVlKTtcbiAgICAgIC8vIDEuIGNoZWNrYm94XG4gICAgICB2YXIgYnJhbmNoMCA9IGNsb25lQVNURWxlbWVudChlbCk7XG4gICAgICAvLyBwcm9jZXNzIGZvciBvbiB0aGUgbWFpbiBub2RlXG4gICAgICBwcm9jZXNzRm9yKGJyYW5jaDApO1xuICAgICAgYWRkUmF3QXR0cihicmFuY2gwLCAndHlwZScsICdjaGVja2JveCcpO1xuICAgICAgcHJvY2Vzc0VsZW1lbnQoYnJhbmNoMCwgb3B0aW9ucyk7XG4gICAgICBicmFuY2gwLnByb2Nlc3NlZCA9IHRydWU7IC8vIHByZXZlbnQgaXQgZnJvbSBkb3VibGUtcHJvY2Vzc2VkXG4gICAgICBicmFuY2gwLmlmID0gXCIoXCIgKyB0eXBlQmluZGluZyArIFwiKT09PSdjaGVja2JveCdcIiArIGlmQ29uZGl0aW9uRXh0cmE7XG4gICAgICBhZGRJZkNvbmRpdGlvbihicmFuY2gwLCB7XG4gICAgICAgIGV4cDogYnJhbmNoMC5pZixcbiAgICAgICAgYmxvY2s6IGJyYW5jaDBcbiAgICAgIH0pO1xuICAgICAgLy8gMi4gYWRkIHJhZGlvIGVsc2UtaWYgY29uZGl0aW9uXG4gICAgICB2YXIgYnJhbmNoMSA9IGNsb25lQVNURWxlbWVudChlbCk7XG4gICAgICBnZXRBbmRSZW1vdmVBdHRyKGJyYW5jaDEsICd2LWZvcicsIHRydWUpO1xuICAgICAgYWRkUmF3QXR0cihicmFuY2gxLCAndHlwZScsICdyYWRpbycpO1xuICAgICAgcHJvY2Vzc0VsZW1lbnQoYnJhbmNoMSwgb3B0aW9ucyk7XG4gICAgICBhZGRJZkNvbmRpdGlvbihicmFuY2gwLCB7XG4gICAgICAgIGV4cDogXCIoXCIgKyB0eXBlQmluZGluZyArIFwiKT09PSdyYWRpbydcIiArIGlmQ29uZGl0aW9uRXh0cmEsXG4gICAgICAgIGJsb2NrOiBicmFuY2gxXG4gICAgICB9KTtcbiAgICAgIC8vIDMuIG90aGVyXG4gICAgICB2YXIgYnJhbmNoMiA9IGNsb25lQVNURWxlbWVudChlbCk7XG4gICAgICBnZXRBbmRSZW1vdmVBdHRyKGJyYW5jaDIsICd2LWZvcicsIHRydWUpO1xuICAgICAgYWRkUmF3QXR0cihicmFuY2gyLCAnOnR5cGUnLCB0eXBlQmluZGluZyk7XG4gICAgICBwcm9jZXNzRWxlbWVudChicmFuY2gyLCBvcHRpb25zKTtcbiAgICAgIGFkZElmQ29uZGl0aW9uKGJyYW5jaDAsIHtcbiAgICAgICAgZXhwOiBpZkNvbmRpdGlvbixcbiAgICAgICAgYmxvY2s6IGJyYW5jaDJcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaGFzRWxzZSkge1xuICAgICAgICBicmFuY2gwLmVsc2UgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChlbHNlSWZDb25kaXRpb24pIHtcbiAgICAgICAgYnJhbmNoMC5lbHNlaWYgPSBlbHNlSWZDb25kaXRpb247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBicmFuY2gwXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNsb25lQVNURWxlbWVudCAoZWwpIHtcbiAgcmV0dXJuIGNyZWF0ZUFTVEVsZW1lbnQoZWwudGFnLCBlbC5hdHRyc0xpc3Quc2xpY2UoKSwgZWwucGFyZW50KVxufVxuXG52YXIgbW9kZWwkMSA9IHtcbiAgcHJlVHJhbnNmb3JtTm9kZTogcHJlVHJhbnNmb3JtTm9kZVxufTtcblxudmFyIG1vZHVsZXMkMSA9IFtcbiAga2xhc3MkMSxcbiAgc3R5bGUkMSxcbiAgbW9kZWwkMVxuXTtcblxuLyogICovXG5cbmZ1bmN0aW9uIHRleHQgKGVsLCBkaXIpIHtcbiAgaWYgKGRpci52YWx1ZSkge1xuICAgIGFkZFByb3AoZWwsICd0ZXh0Q29udGVudCcsIChcIl9zKFwiICsgKGRpci52YWx1ZSkgKyBcIilcIiksIGRpcik7XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGh0bWwgKGVsLCBkaXIpIHtcbiAgaWYgKGRpci52YWx1ZSkge1xuICAgIGFkZFByb3AoZWwsICdpbm5lckhUTUwnLCAoXCJfcyhcIiArIChkaXIudmFsdWUpICsgXCIpXCIpLCBkaXIpO1xuICB9XG59XG5cbnZhciBkaXJlY3RpdmVzJDEgPSB7XG4gIG1vZGVsOiBtb2RlbCxcbiAgdGV4dDogdGV4dCxcbiAgaHRtbDogaHRtbFxufTtcblxuLyogICovXG5cbnZhciBiYXNlT3B0aW9ucyA9IHtcbiAgZXhwZWN0SFRNTDogdHJ1ZSxcbiAgbW9kdWxlczogbW9kdWxlcyQxLFxuICBkaXJlY3RpdmVzOiBkaXJlY3RpdmVzJDEsXG4gIGlzUHJlVGFnOiBpc1ByZVRhZyxcbiAgaXNVbmFyeVRhZzogaXNVbmFyeVRhZyxcbiAgbXVzdFVzZVByb3A6IG11c3RVc2VQcm9wLFxuICBjYW5CZUxlZnRPcGVuVGFnOiBjYW5CZUxlZnRPcGVuVGFnLFxuICBpc1Jlc2VydmVkVGFnOiBpc1Jlc2VydmVkVGFnLFxuICBnZXRUYWdOYW1lc3BhY2U6IGdldFRhZ05hbWVzcGFjZSxcbiAgc3RhdGljS2V5czogZ2VuU3RhdGljS2V5cyhtb2R1bGVzJDEpXG59O1xuXG4vKiAgKi9cblxudmFyIGlzU3RhdGljS2V5O1xudmFyIGlzUGxhdGZvcm1SZXNlcnZlZFRhZztcblxudmFyIGdlblN0YXRpY0tleXNDYWNoZWQgPSBjYWNoZWQoZ2VuU3RhdGljS2V5cyQxKTtcblxuLyoqXG4gKiBHb2FsIG9mIHRoZSBvcHRpbWl6ZXI6IHdhbGsgdGhlIGdlbmVyYXRlZCB0ZW1wbGF0ZSBBU1QgdHJlZVxuICogYW5kIGRldGVjdCBzdWItdHJlZXMgdGhhdCBhcmUgcHVyZWx5IHN0YXRpYywgaS5lLiBwYXJ0cyBvZlxuICogdGhlIERPTSB0aGF0IG5ldmVyIG5lZWRzIHRvIGNoYW5nZS5cbiAqXG4gKiBPbmNlIHdlIGRldGVjdCB0aGVzZSBzdWItdHJlZXMsIHdlIGNhbjpcbiAqXG4gKiAxLiBIb2lzdCB0aGVtIGludG8gY29uc3RhbnRzLCBzbyB0aGF0IHdlIG5vIGxvbmdlciBuZWVkIHRvXG4gKiAgICBjcmVhdGUgZnJlc2ggbm9kZXMgZm9yIHRoZW0gb24gZWFjaCByZS1yZW5kZXI7XG4gKiAyLiBDb21wbGV0ZWx5IHNraXAgdGhlbSBpbiB0aGUgcGF0Y2hpbmcgcHJvY2Vzcy5cbiAqL1xuZnVuY3Rpb24gb3B0aW1pemUgKHJvb3QsIG9wdGlvbnMpIHtcbiAgaWYgKCFyb290KSB7IHJldHVybiB9XG4gIGlzU3RhdGljS2V5ID0gZ2VuU3RhdGljS2V5c0NhY2hlZChvcHRpb25zLnN0YXRpY0tleXMgfHwgJycpO1xuICBpc1BsYXRmb3JtUmVzZXJ2ZWRUYWcgPSBvcHRpb25zLmlzUmVzZXJ2ZWRUYWcgfHwgbm87XG4gIC8vIGZpcnN0IHBhc3M6IG1hcmsgYWxsIG5vbi1zdGF0aWMgbm9kZXMuXG4gIG1hcmtTdGF0aWMkMShyb290KTtcbiAgLy8gc2Vjb25kIHBhc3M6IG1hcmsgc3RhdGljIHJvb3RzLlxuICBtYXJrU3RhdGljUm9vdHMocm9vdCwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBnZW5TdGF0aWNLZXlzJDEgKGtleXMpIHtcbiAgcmV0dXJuIG1ha2VNYXAoXG4gICAgJ3R5cGUsdGFnLGF0dHJzTGlzdCxhdHRyc01hcCxwbGFpbixwYXJlbnQsY2hpbGRyZW4sYXR0cnMsc3RhcnQsZW5kLHJhd0F0dHJzTWFwJyArXG4gICAgKGtleXMgPyAnLCcgKyBrZXlzIDogJycpXG4gIClcbn1cblxuZnVuY3Rpb24gbWFya1N0YXRpYyQxIChub2RlKSB7XG4gIG5vZGUuc3RhdGljID0gaXNTdGF0aWMobm9kZSk7XG4gIGlmIChub2RlLnR5cGUgPT09IDEpIHtcbiAgICAvLyBkbyBub3QgbWFrZSBjb21wb25lbnQgc2xvdCBjb250ZW50IHN0YXRpYy4gdGhpcyBhdm9pZHNcbiAgICAvLyAxLiBjb21wb25lbnRzIG5vdCBhYmxlIHRvIG11dGF0ZSBzbG90IG5vZGVzXG4gICAgLy8gMi4gc3RhdGljIHNsb3QgY29udGVudCBmYWlscyBmb3IgaG90LXJlbG9hZGluZ1xuICAgIGlmIChcbiAgICAgICFpc1BsYXRmb3JtUmVzZXJ2ZWRUYWcobm9kZS50YWcpICYmXG4gICAgICBub2RlLnRhZyAhPT0gJ3Nsb3QnICYmXG4gICAgICBub2RlLmF0dHJzTWFwWydpbmxpbmUtdGVtcGxhdGUnXSA9PSBudWxsXG4gICAgKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgIG1hcmtTdGF0aWMkMShjaGlsZCk7XG4gICAgICBpZiAoIWNoaWxkLnN0YXRpYykge1xuICAgICAgICBub2RlLnN0YXRpYyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZS5pZkNvbmRpdGlvbnMpIHtcbiAgICAgIGZvciAodmFyIGkkMSA9IDEsIGwkMSA9IG5vZGUuaWZDb25kaXRpb25zLmxlbmd0aDsgaSQxIDwgbCQxOyBpJDErKykge1xuICAgICAgICB2YXIgYmxvY2sgPSBub2RlLmlmQ29uZGl0aW9uc1tpJDFdLmJsb2NrO1xuICAgICAgICBtYXJrU3RhdGljJDEoYmxvY2spO1xuICAgICAgICBpZiAoIWJsb2NrLnN0YXRpYykge1xuICAgICAgICAgIG5vZGUuc3RhdGljID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFya1N0YXRpY1Jvb3RzIChub2RlLCBpc0luRm9yKSB7XG4gIGlmIChub2RlLnR5cGUgPT09IDEpIHtcbiAgICBpZiAobm9kZS5zdGF0aWMgfHwgbm9kZS5vbmNlKSB7XG4gICAgICBub2RlLnN0YXRpY0luRm9yID0gaXNJbkZvcjtcbiAgICB9XG4gICAgLy8gRm9yIGEgbm9kZSB0byBxdWFsaWZ5IGFzIGEgc3RhdGljIHJvb3QsIGl0IHNob3VsZCBoYXZlIGNoaWxkcmVuIHRoYXRcbiAgICAvLyBhcmUgbm90IGp1c3Qgc3RhdGljIHRleHQuIE90aGVyd2lzZSB0aGUgY29zdCBvZiBob2lzdGluZyBvdXQgd2lsbFxuICAgIC8vIG91dHdlaWdoIHRoZSBiZW5lZml0cyBhbmQgaXQncyBiZXR0ZXIgb2ZmIHRvIGp1c3QgYWx3YXlzIHJlbmRlciBpdCBmcmVzaC5cbiAgICBpZiAobm9kZS5zdGF0aWMgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggJiYgIShcbiAgICAgIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmXG4gICAgICBub2RlLmNoaWxkcmVuWzBdLnR5cGUgPT09IDNcbiAgICApKSB7XG4gICAgICBub2RlLnN0YXRpY1Jvb3QgPSB0cnVlO1xuICAgICAgcmV0dXJuXG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuc3RhdGljUm9vdCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAobm9kZS5jaGlsZHJlbikge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBtYXJrU3RhdGljUm9vdHMobm9kZS5jaGlsZHJlbltpXSwgaXNJbkZvciB8fCAhIW5vZGUuZm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUuaWZDb25kaXRpb25zKSB7XG4gICAgICBmb3IgKHZhciBpJDEgPSAxLCBsJDEgPSBub2RlLmlmQ29uZGl0aW9ucy5sZW5ndGg7IGkkMSA8IGwkMTsgaSQxKyspIHtcbiAgICAgICAgbWFya1N0YXRpY1Jvb3RzKG5vZGUuaWZDb25kaXRpb25zW2kkMV0uYmxvY2ssIGlzSW5Gb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc1N0YXRpYyAobm9kZSkge1xuICBpZiAobm9kZS50eXBlID09PSAyKSB7IC8vIGV4cHJlc3Npb25cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBpZiAobm9kZS50eXBlID09PSAzKSB7IC8vIHRleHRcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiAhIShub2RlLnByZSB8fCAoXG4gICAgIW5vZGUuaGFzQmluZGluZ3MgJiYgLy8gbm8gZHluYW1pYyBiaW5kaW5nc1xuICAgICFub2RlLmlmICYmICFub2RlLmZvciAmJiAvLyBub3Qgdi1pZiBvciB2LWZvciBvciB2LWVsc2VcbiAgICAhaXNCdWlsdEluVGFnKG5vZGUudGFnKSAmJiAvLyBub3QgYSBidWlsdC1pblxuICAgIGlzUGxhdGZvcm1SZXNlcnZlZFRhZyhub2RlLnRhZykgJiYgLy8gbm90IGEgY29tcG9uZW50XG4gICAgIWlzRGlyZWN0Q2hpbGRPZlRlbXBsYXRlRm9yKG5vZGUpICYmXG4gICAgT2JqZWN0LmtleXMobm9kZSkuZXZlcnkoaXNTdGF0aWNLZXkpXG4gICkpXG59XG5cbmZ1bmN0aW9uIGlzRGlyZWN0Q2hpbGRPZlRlbXBsYXRlRm9yIChub2RlKSB7XG4gIHdoaWxlIChub2RlLnBhcmVudCkge1xuICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICBpZiAobm9kZS50YWcgIT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAobm9kZS5mb3IpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vKiAgKi9cblxudmFyIGZuRXhwUkUgPSAvXihbXFx3JF9dK3xcXChbXildKj9cXCkpXFxzKj0+fF5mdW5jdGlvbig/OlxccytbXFx3JF0rKT9cXHMqXFwoLztcbnZhciBmbkludm9rZVJFID0gL1xcKFteKV0qP1xcKTsqJC87XG52YXIgc2ltcGxlUGF0aFJFID0gL15bQS1aYS16XyRdW1xcdyRdKig/OlxcLltBLVphLXpfJF1bXFx3JF0qfFxcWydbXiddKj8nXXxcXFtcIlteXCJdKj9cIl18XFxbXFxkK118XFxbW0EtWmEtel8kXVtcXHckXSpdKSokLztcblxuLy8gS2V5Ym9hcmRFdmVudC5rZXlDb2RlIGFsaWFzZXNcbnZhciBrZXlDb2RlcyA9IHtcbiAgZXNjOiAyNyxcbiAgdGFiOiA5LFxuICBlbnRlcjogMTMsXG4gIHNwYWNlOiAzMixcbiAgdXA6IDM4LFxuICBsZWZ0OiAzNyxcbiAgcmlnaHQ6IDM5LFxuICBkb3duOiA0MCxcbiAgJ2RlbGV0ZSc6IFs4LCA0Nl1cbn07XG5cbi8vIEtleWJvYXJkRXZlbnQua2V5IGFsaWFzZXNcbnZhciBrZXlOYW1lcyA9IHtcbiAgLy8gIzc4ODA6IElFMTEgYW5kIEVkZ2UgdXNlIGBFc2NgIGZvciBFc2NhcGUga2V5IG5hbWUuXG4gIGVzYzogWydFc2MnLCAnRXNjYXBlJ10sXG4gIHRhYjogJ1RhYicsXG4gIGVudGVyOiAnRW50ZXInLFxuICAvLyAjOTExMjogSUUxMSB1c2VzIGBTcGFjZWJhcmAgZm9yIFNwYWNlIGtleSBuYW1lLlxuICBzcGFjZTogWycgJywgJ1NwYWNlYmFyJ10sXG4gIC8vICM3ODA2OiBJRTExIHVzZXMga2V5IG5hbWVzIHdpdGhvdXQgYEFycm93YCBwcmVmaXggZm9yIGFycm93IGtleXMuXG4gIHVwOiBbJ1VwJywgJ0Fycm93VXAnXSxcbiAgbGVmdDogWydMZWZ0JywgJ0Fycm93TGVmdCddLFxuICByaWdodDogWydSaWdodCcsICdBcnJvd1JpZ2h0J10sXG4gIGRvd246IFsnRG93bicsICdBcnJvd0Rvd24nXSxcbiAgLy8gIzkxMTI6IElFMTEgdXNlcyBgRGVsYCBmb3IgRGVsZXRlIGtleSBuYW1lLlxuICAnZGVsZXRlJzogWydCYWNrc3BhY2UnLCAnRGVsZXRlJywgJ0RlbCddXG59O1xuXG4vLyAjNDg2ODogbW9kaWZpZXJzIHRoYXQgcHJldmVudCB0aGUgZXhlY3V0aW9uIG9mIHRoZSBsaXN0ZW5lclxuLy8gbmVlZCB0byBleHBsaWNpdGx5IHJldHVybiBudWxsIHNvIHRoYXQgd2UgY2FuIGRldGVybWluZSB3aGV0aGVyIHRvIHJlbW92ZVxuLy8gdGhlIGxpc3RlbmVyIGZvciAub25jZVxudmFyIGdlbkd1YXJkID0gZnVuY3Rpb24gKGNvbmRpdGlvbikgeyByZXR1cm4gKFwiaWYoXCIgKyBjb25kaXRpb24gKyBcIilyZXR1cm4gbnVsbDtcIik7IH07XG5cbnZhciBtb2RpZmllckNvZGUgPSB7XG4gIHN0b3A6ICckZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7JyxcbiAgcHJldmVudDogJyRldmVudC5wcmV2ZW50RGVmYXVsdCgpOycsXG4gIHNlbGY6IGdlbkd1YXJkKFwiJGV2ZW50LnRhcmdldCAhPT0gJGV2ZW50LmN1cnJlbnRUYXJnZXRcIiksXG4gIGN0cmw6IGdlbkd1YXJkKFwiISRldmVudC5jdHJsS2V5XCIpLFxuICBzaGlmdDogZ2VuR3VhcmQoXCIhJGV2ZW50LnNoaWZ0S2V5XCIpLFxuICBhbHQ6IGdlbkd1YXJkKFwiISRldmVudC5hbHRLZXlcIiksXG4gIG1ldGE6IGdlbkd1YXJkKFwiISRldmVudC5tZXRhS2V5XCIpLFxuICBsZWZ0OiBnZW5HdWFyZChcIididXR0b24nIGluICRldmVudCAmJiAkZXZlbnQuYnV0dG9uICE9PSAwXCIpLFxuICBtaWRkbGU6IGdlbkd1YXJkKFwiJ2J1dHRvbicgaW4gJGV2ZW50ICYmICRldmVudC5idXR0b24gIT09IDFcIiksXG4gIHJpZ2h0OiBnZW5HdWFyZChcIididXR0b24nIGluICRldmVudCAmJiAkZXZlbnQuYnV0dG9uICE9PSAyXCIpXG59O1xuXG5mdW5jdGlvbiBnZW5IYW5kbGVycyAoXG4gIGV2ZW50cyxcbiAgaXNOYXRpdmVcbikge1xuICB2YXIgcHJlZml4ID0gaXNOYXRpdmUgPyAnbmF0aXZlT246JyA6ICdvbjonO1xuICB2YXIgc3RhdGljSGFuZGxlcnMgPSBcIlwiO1xuICB2YXIgZHluYW1pY0hhbmRsZXJzID0gXCJcIjtcbiAgZm9yICh2YXIgbmFtZSBpbiBldmVudHMpIHtcbiAgICB2YXIgaGFuZGxlckNvZGUgPSBnZW5IYW5kbGVyKGV2ZW50c1tuYW1lXSk7XG4gICAgaWYgKGV2ZW50c1tuYW1lXSAmJiBldmVudHNbbmFtZV0uZHluYW1pYykge1xuICAgICAgZHluYW1pY0hhbmRsZXJzICs9IG5hbWUgKyBcIixcIiArIGhhbmRsZXJDb2RlICsgXCIsXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRpY0hhbmRsZXJzICs9IFwiXFxcIlwiICsgbmFtZSArIFwiXFxcIjpcIiArIGhhbmRsZXJDb2RlICsgXCIsXCI7XG4gICAgfVxuICB9XG4gIHN0YXRpY0hhbmRsZXJzID0gXCJ7XCIgKyAoc3RhdGljSGFuZGxlcnMuc2xpY2UoMCwgLTEpKSArIFwifVwiO1xuICBpZiAoZHluYW1pY0hhbmRsZXJzKSB7XG4gICAgcmV0dXJuIHByZWZpeCArIFwiX2QoXCIgKyBzdGF0aWNIYW5kbGVycyArIFwiLFtcIiArIChkeW5hbWljSGFuZGxlcnMuc2xpY2UoMCwgLTEpKSArIFwiXSlcIlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBwcmVmaXggKyBzdGF0aWNIYW5kbGVyc1xuICB9XG59XG5cbmZ1bmN0aW9uIGdlbkhhbmRsZXIgKGhhbmRsZXIpIHtcbiAgaWYgKCFoYW5kbGVyKSB7XG4gICAgcmV0dXJuICdmdW5jdGlvbigpe30nXG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVyKSkge1xuICAgIHJldHVybiAoXCJbXCIgKyAoaGFuZGxlci5tYXAoZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIGdlbkhhbmRsZXIoaGFuZGxlcik7IH0pLmpvaW4oJywnKSkgKyBcIl1cIilcbiAgfVxuXG4gIHZhciBpc01ldGhvZFBhdGggPSBzaW1wbGVQYXRoUkUudGVzdChoYW5kbGVyLnZhbHVlKTtcbiAgdmFyIGlzRnVuY3Rpb25FeHByZXNzaW9uID0gZm5FeHBSRS50ZXN0KGhhbmRsZXIudmFsdWUpO1xuICB2YXIgaXNGdW5jdGlvbkludm9jYXRpb24gPSBzaW1wbGVQYXRoUkUudGVzdChoYW5kbGVyLnZhbHVlLnJlcGxhY2UoZm5JbnZva2VSRSwgJycpKTtcblxuICBpZiAoIWhhbmRsZXIubW9kaWZpZXJzKSB7XG4gICAgaWYgKGlzTWV0aG9kUGF0aCB8fCBpc0Z1bmN0aW9uRXhwcmVzc2lvbikge1xuICAgICAgcmV0dXJuIGhhbmRsZXIudmFsdWVcbiAgICB9XG4gICAgcmV0dXJuIChcImZ1bmN0aW9uKCRldmVudCl7XCIgKyAoaXNGdW5jdGlvbkludm9jYXRpb24gPyAoXCJyZXR1cm4gXCIgKyAoaGFuZGxlci52YWx1ZSkpIDogaGFuZGxlci52YWx1ZSkgKyBcIn1cIikgLy8gaW5saW5lIHN0YXRlbWVudFxuICB9IGVsc2Uge1xuICAgIHZhciBjb2RlID0gJyc7XG4gICAgdmFyIGdlbk1vZGlmaWVyQ29kZSA9ICcnO1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIGhhbmRsZXIubW9kaWZpZXJzKSB7XG4gICAgICBpZiAobW9kaWZpZXJDb2RlW2tleV0pIHtcbiAgICAgICAgZ2VuTW9kaWZpZXJDb2RlICs9IG1vZGlmaWVyQ29kZVtrZXldO1xuICAgICAgICAvLyBsZWZ0L3JpZ2h0XG4gICAgICAgIGlmIChrZXlDb2Rlc1trZXldKSB7XG4gICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZXhhY3QnKSB7XG4gICAgICAgIHZhciBtb2RpZmllcnMgPSAoaGFuZGxlci5tb2RpZmllcnMpO1xuICAgICAgICBnZW5Nb2RpZmllckNvZGUgKz0gZ2VuR3VhcmQoXG4gICAgICAgICAgWydjdHJsJywgJ3NoaWZ0JywgJ2FsdCcsICdtZXRhJ11cbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGtleU1vZGlmaWVyKSB7IHJldHVybiAhbW9kaWZpZXJzW2tleU1vZGlmaWVyXTsgfSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleU1vZGlmaWVyKSB7IHJldHVybiAoXCIkZXZlbnQuXCIgKyBrZXlNb2RpZmllciArIFwiS2V5XCIpOyB9KVxuICAgICAgICAgICAgLmpvaW4oJ3x8JylcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5cy5sZW5ndGgpIHtcbiAgICAgIGNvZGUgKz0gZ2VuS2V5RmlsdGVyKGtleXMpO1xuICAgIH1cbiAgICAvLyBNYWtlIHN1cmUgbW9kaWZpZXJzIGxpa2UgcHJldmVudCBhbmQgc3RvcCBnZXQgZXhlY3V0ZWQgYWZ0ZXIga2V5IGZpbHRlcmluZ1xuICAgIGlmIChnZW5Nb2RpZmllckNvZGUpIHtcbiAgICAgIGNvZGUgKz0gZ2VuTW9kaWZpZXJDb2RlO1xuICAgIH1cbiAgICB2YXIgaGFuZGxlckNvZGUgPSBpc01ldGhvZFBhdGhcbiAgICAgID8gKFwicmV0dXJuIFwiICsgKGhhbmRsZXIudmFsdWUpICsgXCIoJGV2ZW50KVwiKVxuICAgICAgOiBpc0Z1bmN0aW9uRXhwcmVzc2lvblxuICAgICAgICA/IChcInJldHVybiAoXCIgKyAoaGFuZGxlci52YWx1ZSkgKyBcIikoJGV2ZW50KVwiKVxuICAgICAgICA6IGlzRnVuY3Rpb25JbnZvY2F0aW9uXG4gICAgICAgICAgPyAoXCJyZXR1cm4gXCIgKyAoaGFuZGxlci52YWx1ZSkpXG4gICAgICAgICAgOiBoYW5kbGVyLnZhbHVlO1xuICAgIHJldHVybiAoXCJmdW5jdGlvbigkZXZlbnQpe1wiICsgY29kZSArIGhhbmRsZXJDb2RlICsgXCJ9XCIpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuS2V5RmlsdGVyIChrZXlzKSB7XG4gIHJldHVybiAoXG4gICAgLy8gbWFrZSBzdXJlIHRoZSBrZXkgZmlsdGVycyBvbmx5IGFwcGx5IHRvIEtleWJvYXJkRXZlbnRzXG4gICAgLy8gIzk0NDE6IGNhbid0IHVzZSAna2V5Q29kZScgaW4gJGV2ZW50IGJlY2F1c2UgQ2hyb21lIGF1dG9maWxsIGZpcmVzIGZha2VcbiAgICAvLyBrZXkgZXZlbnRzIHRoYXQgZG8gbm90IGhhdmUga2V5Q29kZSBwcm9wZXJ0eS4uLlxuICAgIFwiaWYoISRldmVudC50eXBlLmluZGV4T2YoJ2tleScpJiZcIiArXG4gICAgKGtleXMubWFwKGdlbkZpbHRlckNvZGUpLmpvaW4oJyYmJykpICsgXCIpcmV0dXJuIG51bGw7XCJcbiAgKVxufVxuXG5mdW5jdGlvbiBnZW5GaWx0ZXJDb2RlIChrZXkpIHtcbiAgdmFyIGtleVZhbCA9IHBhcnNlSW50KGtleSwgMTApO1xuICBpZiAoa2V5VmFsKSB7XG4gICAgcmV0dXJuIChcIiRldmVudC5rZXlDb2RlIT09XCIgKyBrZXlWYWwpXG4gIH1cbiAgdmFyIGtleUNvZGUgPSBrZXlDb2Rlc1trZXldO1xuICB2YXIga2V5TmFtZSA9IGtleU5hbWVzW2tleV07XG4gIHJldHVybiAoXG4gICAgXCJfaygkZXZlbnQua2V5Q29kZSxcIiArXG4gICAgKEpTT04uc3RyaW5naWZ5KGtleSkpICsgXCIsXCIgK1xuICAgIChKU09OLnN0cmluZ2lmeShrZXlDb2RlKSkgKyBcIixcIiArXG4gICAgXCIkZXZlbnQua2V5LFwiICtcbiAgICBcIlwiICsgKEpTT04uc3RyaW5naWZ5KGtleU5hbWUpKSArXG4gICAgXCIpXCJcbiAgKVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gb24gKGVsLCBkaXIpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZGlyLm1vZGlmaWVycykge1xuICAgIHdhcm4oXCJ2LW9uIHdpdGhvdXQgYXJndW1lbnQgZG9lcyBub3Qgc3VwcG9ydCBtb2RpZmllcnMuXCIpO1xuICB9XG4gIGVsLndyYXBMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoY29kZSkgeyByZXR1cm4gKFwiX2coXCIgKyBjb2RlICsgXCIsXCIgKyAoZGlyLnZhbHVlKSArIFwiKVwiKTsgfTtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGJpbmQkMSAoZWwsIGRpcikge1xuICBlbC53cmFwRGF0YSA9IGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgcmV0dXJuIChcIl9iKFwiICsgY29kZSArIFwiLCdcIiArIChlbC50YWcpICsgXCInLFwiICsgKGRpci52YWx1ZSkgKyBcIixcIiArIChkaXIubW9kaWZpZXJzICYmIGRpci5tb2RpZmllcnMucHJvcCA/ICd0cnVlJyA6ICdmYWxzZScpICsgKGRpci5tb2RpZmllcnMgJiYgZGlyLm1vZGlmaWVycy5zeW5jID8gJyx0cnVlJyA6ICcnKSArIFwiKVwiKVxuICB9O1xufVxuXG4vKiAgKi9cblxudmFyIGJhc2VEaXJlY3RpdmVzID0ge1xuICBvbjogb24sXG4gIGJpbmQ6IGJpbmQkMSxcbiAgY2xvYWs6IG5vb3Bcbn07XG5cbi8qICAqL1xuXG5cblxuXG5cbnZhciBDb2RlZ2VuU3RhdGUgPSBmdW5jdGlvbiBDb2RlZ2VuU3RhdGUgKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy53YXJuID0gb3B0aW9ucy53YXJuIHx8IGJhc2VXYXJuO1xuICB0aGlzLnRyYW5zZm9ybXMgPSBwbHVja01vZHVsZUZ1bmN0aW9uKG9wdGlvbnMubW9kdWxlcywgJ3RyYW5zZm9ybUNvZGUnKTtcbiAgdGhpcy5kYXRhR2VuRm5zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICdnZW5EYXRhJyk7XG4gIHRoaXMuZGlyZWN0aXZlcyA9IGV4dGVuZChleHRlbmQoe30sIGJhc2VEaXJlY3RpdmVzKSwgb3B0aW9ucy5kaXJlY3RpdmVzKTtcbiAgdmFyIGlzUmVzZXJ2ZWRUYWcgPSBvcHRpb25zLmlzUmVzZXJ2ZWRUYWcgfHwgbm87XG4gIHRoaXMubWF5YmVDb21wb25lbnQgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuICEhZWwuY29tcG9uZW50IHx8ICFpc1Jlc2VydmVkVGFnKGVsLnRhZyk7IH07XG4gIHRoaXMub25jZUlkID0gMDtcbiAgdGhpcy5zdGF0aWNSZW5kZXJGbnMgPSBbXTtcbiAgdGhpcy5wcmUgPSBmYWxzZTtcbn07XG5cblxuXG5mdW5jdGlvbiBnZW5lcmF0ZSAoXG4gIGFzdCxcbiAgb3B0aW9uc1xuKSB7XG4gIHZhciBzdGF0ZSA9IG5ldyBDb2RlZ2VuU3RhdGUob3B0aW9ucyk7XG4gIHZhciBjb2RlID0gYXN0ID8gZ2VuRWxlbWVudChhc3QsIHN0YXRlKSA6ICdfYyhcImRpdlwiKSc7XG4gIHJldHVybiB7XG4gICAgcmVuZGVyOiAoXCJ3aXRoKHRoaXMpe3JldHVybiBcIiArIGNvZGUgKyBcIn1cIiksXG4gICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0ZS5zdGF0aWNSZW5kZXJGbnNcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5FbGVtZW50IChlbCwgc3RhdGUpIHtcbiAgaWYgKGVsLnBhcmVudCkge1xuICAgIGVsLnByZSA9IGVsLnByZSB8fCBlbC5wYXJlbnQucHJlO1xuICB9XG5cbiAgaWYgKGVsLnN0YXRpY1Jvb3QgJiYgIWVsLnN0YXRpY1Byb2Nlc3NlZCkge1xuICAgIHJldHVybiBnZW5TdGF0aWMoZWwsIHN0YXRlKVxuICB9IGVsc2UgaWYgKGVsLm9uY2UgJiYgIWVsLm9uY2VQcm9jZXNzZWQpIHtcbiAgICByZXR1cm4gZ2VuT25jZShlbCwgc3RhdGUpXG4gIH0gZWxzZSBpZiAoZWwuZm9yICYmICFlbC5mb3JQcm9jZXNzZWQpIHtcbiAgICByZXR1cm4gZ2VuRm9yKGVsLCBzdGF0ZSlcbiAgfSBlbHNlIGlmIChlbC5pZiAmJiAhZWwuaWZQcm9jZXNzZWQpIHtcbiAgICByZXR1cm4gZ2VuSWYoZWwsIHN0YXRlKVxuICB9IGVsc2UgaWYgKGVsLnRhZyA9PT0gJ3RlbXBsYXRlJyAmJiAhZWwuc2xvdFRhcmdldCAmJiAhc3RhdGUucHJlKSB7XG4gICAgcmV0dXJuIGdlbkNoaWxkcmVuKGVsLCBzdGF0ZSkgfHwgJ3ZvaWQgMCdcbiAgfSBlbHNlIGlmIChlbC50YWcgPT09ICdzbG90Jykge1xuICAgIHJldHVybiBnZW5TbG90KGVsLCBzdGF0ZSlcbiAgfSBlbHNlIHtcbiAgICAvLyBjb21wb25lbnQgb3IgZWxlbWVudFxuICAgIHZhciBjb2RlO1xuICAgIGlmIChlbC5jb21wb25lbnQpIHtcbiAgICAgIGNvZGUgPSBnZW5Db21wb25lbnQoZWwuY29tcG9uZW50LCBlbCwgc3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZGF0YTtcbiAgICAgIGlmICghZWwucGxhaW4gfHwgKGVsLnByZSAmJiBzdGF0ZS5tYXliZUNvbXBvbmVudChlbCkpKSB7XG4gICAgICAgIGRhdGEgPSBnZW5EYXRhJDIoZWwsIHN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoaWxkcmVuID0gZWwuaW5saW5lVGVtcGxhdGUgPyBudWxsIDogZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlLCB0cnVlKTtcbiAgICAgIGNvZGUgPSBcIl9jKCdcIiArIChlbC50YWcpICsgXCInXCIgKyAoZGF0YSA/IChcIixcIiArIGRhdGEpIDogJycpICsgKGNoaWxkcmVuID8gKFwiLFwiICsgY2hpbGRyZW4pIDogJycpICsgXCIpXCI7XG4gICAgfVxuICAgIC8vIG1vZHVsZSB0cmFuc2Zvcm1zXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS50cmFuc2Zvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb2RlID0gc3RhdGUudHJhbnNmb3Jtc1tpXShlbCwgY29kZSk7XG4gICAgfVxuICAgIHJldHVybiBjb2RlXG4gIH1cbn1cblxuLy8gaG9pc3Qgc3RhdGljIHN1Yi10cmVlcyBvdXRcbmZ1bmN0aW9uIGdlblN0YXRpYyAoZWwsIHN0YXRlKSB7XG4gIGVsLnN0YXRpY1Byb2Nlc3NlZCA9IHRydWU7XG4gIC8vIFNvbWUgZWxlbWVudHMgKHRlbXBsYXRlcykgbmVlZCB0byBiZWhhdmUgZGlmZmVyZW50bHkgaW5zaWRlIG9mIGEgdi1wcmVcbiAgLy8gbm9kZS4gIEFsbCBwcmUgbm9kZXMgYXJlIHN0YXRpYyByb290cywgc28gd2UgY2FuIHVzZSB0aGlzIGFzIGEgbG9jYXRpb24gdG9cbiAgLy8gd3JhcCBhIHN0YXRlIGNoYW5nZSBhbmQgcmVzZXQgaXQgdXBvbiBleGl0aW5nIHRoZSBwcmUgbm9kZS5cbiAgdmFyIG9yaWdpbmFsUHJlU3RhdGUgPSBzdGF0ZS5wcmU7XG4gIGlmIChlbC5wcmUpIHtcbiAgICBzdGF0ZS5wcmUgPSBlbC5wcmU7XG4gIH1cbiAgc3RhdGUuc3RhdGljUmVuZGVyRm5zLnB1c2goKFwid2l0aCh0aGlzKXtyZXR1cm4gXCIgKyAoZ2VuRWxlbWVudChlbCwgc3RhdGUpKSArIFwifVwiKSk7XG4gIHN0YXRlLnByZSA9IG9yaWdpbmFsUHJlU3RhdGU7XG4gIHJldHVybiAoXCJfbShcIiArIChzdGF0ZS5zdGF0aWNSZW5kZXJGbnMubGVuZ3RoIC0gMSkgKyAoZWwuc3RhdGljSW5Gb3IgPyAnLHRydWUnIDogJycpICsgXCIpXCIpXG59XG5cbi8vIHYtb25jZVxuZnVuY3Rpb24gZ2VuT25jZSAoZWwsIHN0YXRlKSB7XG4gIGVsLm9uY2VQcm9jZXNzZWQgPSB0cnVlO1xuICBpZiAoZWwuaWYgJiYgIWVsLmlmUHJvY2Vzc2VkKSB7XG4gICAgcmV0dXJuIGdlbklmKGVsLCBzdGF0ZSlcbiAgfSBlbHNlIGlmIChlbC5zdGF0aWNJbkZvcikge1xuICAgIHZhciBrZXkgPSAnJztcbiAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50O1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgIGlmIChwYXJlbnQuZm9yKSB7XG4gICAgICAgIGtleSA9IHBhcmVudC5rZXk7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgICBpZiAoIWtleSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzdGF0ZS53YXJuKFxuICAgICAgICBcInYtb25jZSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSB2LWZvciB0aGF0IGlzIGtleWVkLiBcIixcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3Ytb25jZSddXG4gICAgICApO1xuICAgICAgcmV0dXJuIGdlbkVsZW1lbnQoZWwsIHN0YXRlKVxuICAgIH1cbiAgICByZXR1cm4gKFwiX28oXCIgKyAoZ2VuRWxlbWVudChlbCwgc3RhdGUpKSArIFwiLFwiICsgKHN0YXRlLm9uY2VJZCsrKSArIFwiLFwiICsga2V5ICsgXCIpXCIpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdlblN0YXRpYyhlbCwgc3RhdGUpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuSWYgKFxuICBlbCxcbiAgc3RhdGUsXG4gIGFsdEdlbixcbiAgYWx0RW1wdHlcbikge1xuICBlbC5pZlByb2Nlc3NlZCA9IHRydWU7IC8vIGF2b2lkIHJlY3Vyc2lvblxuICByZXR1cm4gZ2VuSWZDb25kaXRpb25zKGVsLmlmQ29uZGl0aW9ucy5zbGljZSgpLCBzdGF0ZSwgYWx0R2VuLCBhbHRFbXB0eSlcbn1cblxuZnVuY3Rpb24gZ2VuSWZDb25kaXRpb25zIChcbiAgY29uZGl0aW9ucyxcbiAgc3RhdGUsXG4gIGFsdEdlbixcbiAgYWx0RW1wdHlcbikge1xuICBpZiAoIWNvbmRpdGlvbnMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGFsdEVtcHR5IHx8ICdfZSgpJ1xuICB9XG5cbiAgdmFyIGNvbmRpdGlvbiA9IGNvbmRpdGlvbnMuc2hpZnQoKTtcbiAgaWYgKGNvbmRpdGlvbi5leHApIHtcbiAgICByZXR1cm4gKFwiKFwiICsgKGNvbmRpdGlvbi5leHApICsgXCIpP1wiICsgKGdlblRlcm5hcnlFeHAoY29uZGl0aW9uLmJsb2NrKSkgKyBcIjpcIiArIChnZW5JZkNvbmRpdGlvbnMoY29uZGl0aW9ucywgc3RhdGUsIGFsdEdlbiwgYWx0RW1wdHkpKSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFwiXCIgKyAoZ2VuVGVybmFyeUV4cChjb25kaXRpb24uYmxvY2spKSlcbiAgfVxuXG4gIC8vIHYtaWYgd2l0aCB2LW9uY2Ugc2hvdWxkIGdlbmVyYXRlIGNvZGUgbGlrZSAoYSk/X20oMCk6X20oMSlcbiAgZnVuY3Rpb24gZ2VuVGVybmFyeUV4cCAoZWwpIHtcbiAgICByZXR1cm4gYWx0R2VuXG4gICAgICA/IGFsdEdlbihlbCwgc3RhdGUpXG4gICAgICA6IGVsLm9uY2VcbiAgICAgICAgPyBnZW5PbmNlKGVsLCBzdGF0ZSlcbiAgICAgICAgOiBnZW5FbGVtZW50KGVsLCBzdGF0ZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5Gb3IgKFxuICBlbCxcbiAgc3RhdGUsXG4gIGFsdEdlbixcbiAgYWx0SGVscGVyXG4pIHtcbiAgdmFyIGV4cCA9IGVsLmZvcjtcbiAgdmFyIGFsaWFzID0gZWwuYWxpYXM7XG4gIHZhciBpdGVyYXRvcjEgPSBlbC5pdGVyYXRvcjEgPyAoXCIsXCIgKyAoZWwuaXRlcmF0b3IxKSkgOiAnJztcbiAgdmFyIGl0ZXJhdG9yMiA9IGVsLml0ZXJhdG9yMiA/IChcIixcIiArIChlbC5pdGVyYXRvcjIpKSA6ICcnO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgc3RhdGUubWF5YmVDb21wb25lbnQoZWwpICYmXG4gICAgZWwudGFnICE9PSAnc2xvdCcgJiZcbiAgICBlbC50YWcgIT09ICd0ZW1wbGF0ZScgJiZcbiAgICAhZWwua2V5XG4gICkge1xuICAgIHN0YXRlLndhcm4oXG4gICAgICBcIjxcIiArIChlbC50YWcpICsgXCIgdi1mb3I9XFxcIlwiICsgYWxpYXMgKyBcIiBpbiBcIiArIGV4cCArIFwiXFxcIj46IGNvbXBvbmVudCBsaXN0cyByZW5kZXJlZCB3aXRoIFwiICtcbiAgICAgIFwidi1mb3Igc2hvdWxkIGhhdmUgZXhwbGljaXQga2V5cy4gXCIgK1xuICAgICAgXCJTZWUgaHR0cHM6Ly92dWVqcy5vcmcvZ3VpZGUvbGlzdC5odG1sI2tleSBmb3IgbW9yZSBpbmZvLlwiLFxuICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtZm9yJ10sXG4gICAgICB0cnVlIC8qIHRpcCAqL1xuICAgICk7XG4gIH1cblxuICBlbC5mb3JQcm9jZXNzZWQgPSB0cnVlOyAvLyBhdm9pZCByZWN1cnNpb25cbiAgcmV0dXJuIChhbHRIZWxwZXIgfHwgJ19sJykgKyBcIigoXCIgKyBleHAgKyBcIiksXCIgK1xuICAgIFwiZnVuY3Rpb24oXCIgKyBhbGlhcyArIGl0ZXJhdG9yMSArIGl0ZXJhdG9yMiArIFwiKXtcIiArXG4gICAgICBcInJldHVybiBcIiArICgoYWx0R2VuIHx8IGdlbkVsZW1lbnQpKGVsLCBzdGF0ZSkpICtcbiAgICAnfSknXG59XG5cbmZ1bmN0aW9uIGdlbkRhdGEkMiAoZWwsIHN0YXRlKSB7XG4gIHZhciBkYXRhID0gJ3snO1xuXG4gIC8vIGRpcmVjdGl2ZXMgZmlyc3QuXG4gIC8vIGRpcmVjdGl2ZXMgbWF5IG11dGF0ZSB0aGUgZWwncyBvdGhlciBwcm9wZXJ0aWVzIGJlZm9yZSB0aGV5IGFyZSBnZW5lcmF0ZWQuXG4gIHZhciBkaXJzID0gZ2VuRGlyZWN0aXZlcyhlbCwgc3RhdGUpO1xuICBpZiAoZGlycykgeyBkYXRhICs9IGRpcnMgKyAnLCc7IH1cblxuICAvLyBrZXlcbiAgaWYgKGVsLmtleSkge1xuICAgIGRhdGEgKz0gXCJrZXk6XCIgKyAoZWwua2V5KSArIFwiLFwiO1xuICB9XG4gIC8vIHJlZlxuICBpZiAoZWwucmVmKSB7XG4gICAgZGF0YSArPSBcInJlZjpcIiArIChlbC5yZWYpICsgXCIsXCI7XG4gIH1cbiAgaWYgKGVsLnJlZkluRm9yKSB7XG4gICAgZGF0YSArPSBcInJlZkluRm9yOnRydWUsXCI7XG4gIH1cbiAgLy8gcHJlXG4gIGlmIChlbC5wcmUpIHtcbiAgICBkYXRhICs9IFwicHJlOnRydWUsXCI7XG4gIH1cbiAgLy8gcmVjb3JkIG9yaWdpbmFsIHRhZyBuYW1lIGZvciBjb21wb25lbnRzIHVzaW5nIFwiaXNcIiBhdHRyaWJ1dGVcbiAgaWYgKGVsLmNvbXBvbmVudCkge1xuICAgIGRhdGEgKz0gXCJ0YWc6XFxcIlwiICsgKGVsLnRhZykgKyBcIlxcXCIsXCI7XG4gIH1cbiAgLy8gbW9kdWxlIGRhdGEgZ2VuZXJhdGlvbiBmdW5jdGlvbnNcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5kYXRhR2VuRm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZGF0YSArPSBzdGF0ZS5kYXRhR2VuRm5zW2ldKGVsKTtcbiAgfVxuICAvLyBhdHRyaWJ1dGVzXG4gIGlmIChlbC5hdHRycykge1xuICAgIGRhdGEgKz0gXCJhdHRyczpcIiArIChnZW5Qcm9wcyhlbC5hdHRycykpICsgXCIsXCI7XG4gIH1cbiAgLy8gRE9NIHByb3BzXG4gIGlmIChlbC5wcm9wcykge1xuICAgIGRhdGEgKz0gXCJkb21Qcm9wczpcIiArIChnZW5Qcm9wcyhlbC5wcm9wcykpICsgXCIsXCI7XG4gIH1cbiAgLy8gZXZlbnQgaGFuZGxlcnNcbiAgaWYgKGVsLmV2ZW50cykge1xuICAgIGRhdGEgKz0gKGdlbkhhbmRsZXJzKGVsLmV2ZW50cywgZmFsc2UpKSArIFwiLFwiO1xuICB9XG4gIGlmIChlbC5uYXRpdmVFdmVudHMpIHtcbiAgICBkYXRhICs9IChnZW5IYW5kbGVycyhlbC5uYXRpdmVFdmVudHMsIHRydWUpKSArIFwiLFwiO1xuICB9XG4gIC8vIHNsb3QgdGFyZ2V0XG4gIC8vIG9ubHkgZm9yIG5vbi1zY29wZWQgc2xvdHNcbiAgaWYgKGVsLnNsb3RUYXJnZXQgJiYgIWVsLnNsb3RTY29wZSkge1xuICAgIGRhdGEgKz0gXCJzbG90OlwiICsgKGVsLnNsb3RUYXJnZXQpICsgXCIsXCI7XG4gIH1cbiAgLy8gc2NvcGVkIHNsb3RzXG4gIGlmIChlbC5zY29wZWRTbG90cykge1xuICAgIGRhdGEgKz0gKGdlblNjb3BlZFNsb3RzKGVsLCBlbC5zY29wZWRTbG90cywgc3RhdGUpKSArIFwiLFwiO1xuICB9XG4gIC8vIGNvbXBvbmVudCB2LW1vZGVsXG4gIGlmIChlbC5tb2RlbCkge1xuICAgIGRhdGEgKz0gXCJtb2RlbDp7dmFsdWU6XCIgKyAoZWwubW9kZWwudmFsdWUpICsgXCIsY2FsbGJhY2s6XCIgKyAoZWwubW9kZWwuY2FsbGJhY2spICsgXCIsZXhwcmVzc2lvbjpcIiArIChlbC5tb2RlbC5leHByZXNzaW9uKSArIFwifSxcIjtcbiAgfVxuICAvLyBpbmxpbmUtdGVtcGxhdGVcbiAgaWYgKGVsLmlubGluZVRlbXBsYXRlKSB7XG4gICAgdmFyIGlubGluZVRlbXBsYXRlID0gZ2VuSW5saW5lVGVtcGxhdGUoZWwsIHN0YXRlKTtcbiAgICBpZiAoaW5saW5lVGVtcGxhdGUpIHtcbiAgICAgIGRhdGEgKz0gaW5saW5lVGVtcGxhdGUgKyBcIixcIjtcbiAgICB9XG4gIH1cbiAgZGF0YSA9IGRhdGEucmVwbGFjZSgvLCQvLCAnJykgKyAnfSc7XG4gIC8vIHYtYmluZCBkeW5hbWljIGFyZ3VtZW50IHdyYXBcbiAgLy8gdi1iaW5kIHdpdGggZHluYW1pYyBhcmd1bWVudHMgbXVzdCBiZSBhcHBsaWVkIHVzaW5nIHRoZSBzYW1lIHYtYmluZCBvYmplY3RcbiAgLy8gbWVyZ2UgaGVscGVyIHNvIHRoYXQgY2xhc3Mvc3R5bGUvbXVzdFVzZVByb3AgYXR0cnMgYXJlIGhhbmRsZWQgY29ycmVjdGx5LlxuICBpZiAoZWwuZHluYW1pY0F0dHJzKSB7XG4gICAgZGF0YSA9IFwiX2IoXCIgKyBkYXRhICsgXCIsXFxcIlwiICsgKGVsLnRhZykgKyBcIlxcXCIsXCIgKyAoZ2VuUHJvcHMoZWwuZHluYW1pY0F0dHJzKSkgKyBcIilcIjtcbiAgfVxuICAvLyB2LWJpbmQgZGF0YSB3cmFwXG4gIGlmIChlbC53cmFwRGF0YSkge1xuICAgIGRhdGEgPSBlbC53cmFwRGF0YShkYXRhKTtcbiAgfVxuICAvLyB2LW9uIGRhdGEgd3JhcFxuICBpZiAoZWwud3JhcExpc3RlbmVycykge1xuICAgIGRhdGEgPSBlbC53cmFwTGlzdGVuZXJzKGRhdGEpO1xuICB9XG4gIHJldHVybiBkYXRhXG59XG5cbmZ1bmN0aW9uIGdlbkRpcmVjdGl2ZXMgKGVsLCBzdGF0ZSkge1xuICB2YXIgZGlycyA9IGVsLmRpcmVjdGl2ZXM7XG4gIGlmICghZGlycykgeyByZXR1cm4gfVxuICB2YXIgcmVzID0gJ2RpcmVjdGl2ZXM6Wyc7XG4gIHZhciBoYXNSdW50aW1lID0gZmFsc2U7XG4gIHZhciBpLCBsLCBkaXIsIG5lZWRSdW50aW1lO1xuICBmb3IgKGkgPSAwLCBsID0gZGlycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBkaXIgPSBkaXJzW2ldO1xuICAgIG5lZWRSdW50aW1lID0gdHJ1ZTtcbiAgICB2YXIgZ2VuID0gc3RhdGUuZGlyZWN0aXZlc1tkaXIubmFtZV07XG4gICAgaWYgKGdlbikge1xuICAgICAgLy8gY29tcGlsZS10aW1lIGRpcmVjdGl2ZSB0aGF0IG1hbmlwdWxhdGVzIEFTVC5cbiAgICAgIC8vIHJldHVybnMgdHJ1ZSBpZiBpdCBhbHNvIG5lZWRzIGEgcnVudGltZSBjb3VudGVycGFydC5cbiAgICAgIG5lZWRSdW50aW1lID0gISFnZW4oZWwsIGRpciwgc3RhdGUud2Fybik7XG4gICAgfVxuICAgIGlmIChuZWVkUnVudGltZSkge1xuICAgICAgaGFzUnVudGltZSA9IHRydWU7XG4gICAgICByZXMgKz0gXCJ7bmFtZTpcXFwiXCIgKyAoZGlyLm5hbWUpICsgXCJcXFwiLHJhd05hbWU6XFxcIlwiICsgKGRpci5yYXdOYW1lKSArIFwiXFxcIlwiICsgKGRpci52YWx1ZSA/IChcIix2YWx1ZTooXCIgKyAoZGlyLnZhbHVlKSArIFwiKSxleHByZXNzaW9uOlwiICsgKEpTT04uc3RyaW5naWZ5KGRpci52YWx1ZSkpKSA6ICcnKSArIChkaXIuYXJnID8gKFwiLGFyZzpcIiArIChkaXIuaXNEeW5hbWljQXJnID8gZGlyLmFyZyA6IChcIlxcXCJcIiArIChkaXIuYXJnKSArIFwiXFxcIlwiKSkpIDogJycpICsgKGRpci5tb2RpZmllcnMgPyAoXCIsbW9kaWZpZXJzOlwiICsgKEpTT04uc3RyaW5naWZ5KGRpci5tb2RpZmllcnMpKSkgOiAnJykgKyBcIn0sXCI7XG4gICAgfVxuICB9XG4gIGlmIChoYXNSdW50aW1lKSB7XG4gICAgcmV0dXJuIHJlcy5zbGljZSgwLCAtMSkgKyAnXSdcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5JbmxpbmVUZW1wbGF0ZSAoZWwsIHN0YXRlKSB7XG4gIHZhciBhc3QgPSBlbC5jaGlsZHJlblswXTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgKFxuICAgIGVsLmNoaWxkcmVuLmxlbmd0aCAhPT0gMSB8fCBhc3QudHlwZSAhPT0gMVxuICApKSB7XG4gICAgc3RhdGUud2FybihcbiAgICAgICdJbmxpbmUtdGVtcGxhdGUgY29tcG9uZW50cyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgY2hpbGQgZWxlbWVudC4nLFxuICAgICAgeyBzdGFydDogZWwuc3RhcnQgfVxuICAgICk7XG4gIH1cbiAgaWYgKGFzdCAmJiBhc3QudHlwZSA9PT0gMSkge1xuICAgIHZhciBpbmxpbmVSZW5kZXJGbnMgPSBnZW5lcmF0ZShhc3QsIHN0YXRlLm9wdGlvbnMpO1xuICAgIHJldHVybiAoXCJpbmxpbmVUZW1wbGF0ZTp7cmVuZGVyOmZ1bmN0aW9uKCl7XCIgKyAoaW5saW5lUmVuZGVyRm5zLnJlbmRlcikgKyBcIn0sc3RhdGljUmVuZGVyRm5zOltcIiArIChpbmxpbmVSZW5kZXJGbnMuc3RhdGljUmVuZGVyRm5zLm1hcChmdW5jdGlvbiAoY29kZSkgeyByZXR1cm4gKFwiZnVuY3Rpb24oKXtcIiArIGNvZGUgKyBcIn1cIik7IH0pLmpvaW4oJywnKSkgKyBcIl19XCIpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuU2NvcGVkU2xvdHMgKFxuICBlbCxcbiAgc2xvdHMsXG4gIHN0YXRlXG4pIHtcbiAgLy8gYnkgZGVmYXVsdCBzY29wZWQgc2xvdHMgYXJlIGNvbnNpZGVyZWQgXCJzdGFibGVcIiwgdGhpcyBhbGxvd3MgY2hpbGRcbiAgLy8gY29tcG9uZW50cyB3aXRoIG9ubHkgc2NvcGVkIHNsb3RzIHRvIHNraXAgZm9yY2VkIHVwZGF0ZXMgZnJvbSBwYXJlbnQuXG4gIC8vIGJ1dCBpbiBzb21lIGNhc2VzIHdlIGhhdmUgdG8gYmFpbC1vdXQgb2YgdGhpcyBvcHRpbWl6YXRpb25cbiAgLy8gZm9yIGV4YW1wbGUgaWYgdGhlIHNsb3QgY29udGFpbnMgZHluYW1pYyBuYW1lcywgaGFzIHYtaWYgb3Igdi1mb3Igb24gdGhlbS4uLlxuICB2YXIgbmVlZHNGb3JjZVVwZGF0ZSA9IGVsLmZvciB8fCBPYmplY3Qua2V5cyhzbG90cykuc29tZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHNsb3QgPSBzbG90c1trZXldO1xuICAgIHJldHVybiAoXG4gICAgICBzbG90LnNsb3RUYXJnZXREeW5hbWljIHx8XG4gICAgICBzbG90LmlmIHx8XG4gICAgICBzbG90LmZvciB8fFxuICAgICAgY29udGFpbnNTbG90Q2hpbGQoc2xvdCkgLy8gaXMgcGFzc2luZyBkb3duIHNsb3QgZnJvbSBwYXJlbnQgd2hpY2ggbWF5IGJlIGR5bmFtaWNcbiAgICApXG4gIH0pO1xuXG4gIC8vICM5NTM0OiBpZiBhIGNvbXBvbmVudCB3aXRoIHNjb3BlZCBzbG90cyBpcyBpbnNpZGUgYSBjb25kaXRpb25hbCBicmFuY2gsXG4gIC8vIGl0J3MgcG9zc2libGUgZm9yIHRoZSBzYW1lIGNvbXBvbmVudCB0byBiZSByZXVzZWQgYnV0IHdpdGggZGlmZmVyZW50XG4gIC8vIGNvbXBpbGVkIHNsb3QgY29udGVudC4gVG8gYXZvaWQgdGhhdCwgd2UgZ2VuZXJhdGUgYSB1bmlxdWUga2V5IGJhc2VkIG9uXG4gIC8vIHRoZSBnZW5lcmF0ZWQgY29kZSBvZiBhbGwgdGhlIHNsb3QgY29udGVudHMuXG4gIHZhciBuZWVkc0tleSA9ICEhZWwuaWY7XG5cbiAgLy8gT1Igd2hlbiBpdCBpcyBpbnNpZGUgYW5vdGhlciBzY29wZWQgc2xvdCBvciB2LWZvciAodGhlIHJlYWN0aXZpdHkgbWF5IGJlXG4gIC8vIGRpc2Nvbm5lY3RlZCBkdWUgdG8gdGhlIGludGVybWVkaWF0ZSBzY29wZSB2YXJpYWJsZSlcbiAgLy8gIzk0MzgsICM5NTA2XG4gIC8vIFRPRE86IHRoaXMgY2FuIGJlIGZ1cnRoZXIgb3B0aW1pemVkIGJ5IHByb3Blcmx5IGFuYWx5emluZyBpbi1zY29wZSBiaW5kaW5nc1xuICAvLyBhbmQgc2tpcCBmb3JjZSB1cGRhdGluZyBvbmVzIHRoYXQgZG8gbm90IGFjdHVhbGx5IHVzZSBzY29wZSB2YXJpYWJsZXMuXG4gIGlmICghbmVlZHNGb3JjZVVwZGF0ZSkge1xuICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKFxuICAgICAgICAocGFyZW50LnNsb3RTY29wZSAmJiBwYXJlbnQuc2xvdFNjb3BlICE9PSBlbXB0eVNsb3RTY29wZVRva2VuKSB8fFxuICAgICAgICBwYXJlbnQuZm9yXG4gICAgICApIHtcbiAgICAgICAgbmVlZHNGb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBpZiAocGFyZW50LmlmKSB7XG4gICAgICAgIG5lZWRzS2V5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICB9XG5cbiAgdmFyIGdlbmVyYXRlZFNsb3RzID0gT2JqZWN0LmtleXMoc2xvdHMpXG4gICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBnZW5TY29wZWRTbG90KHNsb3RzW2tleV0sIHN0YXRlKTsgfSlcbiAgICAuam9pbignLCcpO1xuXG4gIHJldHVybiAoXCJzY29wZWRTbG90czpfdShbXCIgKyBnZW5lcmF0ZWRTbG90cyArIFwiXVwiICsgKG5lZWRzRm9yY2VVcGRhdGUgPyBcIixudWxsLHRydWVcIiA6IFwiXCIpICsgKCFuZWVkc0ZvcmNlVXBkYXRlICYmIG5lZWRzS2V5ID8gKFwiLG51bGwsZmFsc2UsXCIgKyAoaGFzaChnZW5lcmF0ZWRTbG90cykpKSA6IFwiXCIpICsgXCIpXCIpXG59XG5cbmZ1bmN0aW9uIGhhc2goc3RyKSB7XG4gIHZhciBoYXNoID0gNTM4MTtcbiAgdmFyIGkgPSBzdHIubGVuZ3RoO1xuICB3aGlsZShpKSB7XG4gICAgaGFzaCA9IChoYXNoICogMzMpIF4gc3RyLmNoYXJDb2RlQXQoLS1pKTtcbiAgfVxuICByZXR1cm4gaGFzaCA+Pj4gMFxufVxuXG5mdW5jdGlvbiBjb250YWluc1Nsb3RDaGlsZCAoZWwpIHtcbiAgaWYgKGVsLnR5cGUgPT09IDEpIHtcbiAgICBpZiAoZWwudGFnID09PSAnc2xvdCcpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBlbC5jaGlsZHJlbi5zb21lKGNvbnRhaW5zU2xvdENoaWxkKVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBnZW5TY29wZWRTbG90IChcbiAgZWwsXG4gIHN0YXRlXG4pIHtcbiAgdmFyIGlzTGVnYWN5U3ludGF4ID0gZWwuYXR0cnNNYXBbJ3Nsb3Qtc2NvcGUnXTtcbiAgaWYgKGVsLmlmICYmICFlbC5pZlByb2Nlc3NlZCAmJiAhaXNMZWdhY3lTeW50YXgpIHtcbiAgICByZXR1cm4gZ2VuSWYoZWwsIHN0YXRlLCBnZW5TY29wZWRTbG90LCBcIm51bGxcIilcbiAgfVxuICBpZiAoZWwuZm9yICYmICFlbC5mb3JQcm9jZXNzZWQpIHtcbiAgICByZXR1cm4gZ2VuRm9yKGVsLCBzdGF0ZSwgZ2VuU2NvcGVkU2xvdClcbiAgfVxuICB2YXIgc2xvdFNjb3BlID0gZWwuc2xvdFNjb3BlID09PSBlbXB0eVNsb3RTY29wZVRva2VuXG4gICAgPyBcIlwiXG4gICAgOiBTdHJpbmcoZWwuc2xvdFNjb3BlKTtcbiAgdmFyIGZuID0gXCJmdW5jdGlvbihcIiArIHNsb3RTY29wZSArIFwiKXtcIiArXG4gICAgXCJyZXR1cm4gXCIgKyAoZWwudGFnID09PSAndGVtcGxhdGUnXG4gICAgICA/IGVsLmlmICYmIGlzTGVnYWN5U3ludGF4XG4gICAgICAgID8gKFwiKFwiICsgKGVsLmlmKSArIFwiKT9cIiArIChnZW5DaGlsZHJlbihlbCwgc3RhdGUpIHx8ICd1bmRlZmluZWQnKSArIFwiOnVuZGVmaW5lZFwiKVxuICAgICAgICA6IGdlbkNoaWxkcmVuKGVsLCBzdGF0ZSkgfHwgJ3VuZGVmaW5lZCdcbiAgICAgIDogZ2VuRWxlbWVudChlbCwgc3RhdGUpKSArIFwifVwiO1xuICAvLyByZXZlcnNlIHByb3h5IHYtc2xvdCB3aXRob3V0IHNjb3BlIG9uIHRoaXMuJHNsb3RzXG4gIHZhciByZXZlcnNlUHJveHkgPSBzbG90U2NvcGUgPyBcIlwiIDogXCIscHJveHk6dHJ1ZVwiO1xuICByZXR1cm4gKFwie2tleTpcIiArIChlbC5zbG90VGFyZ2V0IHx8IFwiXFxcImRlZmF1bHRcXFwiXCIpICsgXCIsZm46XCIgKyBmbiArIHJldmVyc2VQcm94eSArIFwifVwiKVxufVxuXG5mdW5jdGlvbiBnZW5DaGlsZHJlbiAoXG4gIGVsLFxuICBzdGF0ZSxcbiAgY2hlY2tTa2lwLFxuICBhbHRHZW5FbGVtZW50LFxuICBhbHRHZW5Ob2RlXG4pIHtcbiAgdmFyIGNoaWxkcmVuID0gZWwuY2hpbGRyZW47XG4gIGlmIChjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICB2YXIgZWwkMSA9IGNoaWxkcmVuWzBdO1xuICAgIC8vIG9wdGltaXplIHNpbmdsZSB2LWZvclxuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEgJiZcbiAgICAgIGVsJDEuZm9yICYmXG4gICAgICBlbCQxLnRhZyAhPT0gJ3RlbXBsYXRlJyAmJlxuICAgICAgZWwkMS50YWcgIT09ICdzbG90J1xuICAgICkge1xuICAgICAgdmFyIG5vcm1hbGl6YXRpb25UeXBlID0gY2hlY2tTa2lwXG4gICAgICAgID8gc3RhdGUubWF5YmVDb21wb25lbnQoZWwkMSkgPyBcIiwxXCIgOiBcIiwwXCJcbiAgICAgICAgOiBcIlwiO1xuICAgICAgcmV0dXJuIChcIlwiICsgKChhbHRHZW5FbGVtZW50IHx8IGdlbkVsZW1lbnQpKGVsJDEsIHN0YXRlKSkgKyBub3JtYWxpemF0aW9uVHlwZSlcbiAgICB9XG4gICAgdmFyIG5vcm1hbGl6YXRpb25UeXBlJDEgPSBjaGVja1NraXBcbiAgICAgID8gZ2V0Tm9ybWFsaXphdGlvblR5cGUoY2hpbGRyZW4sIHN0YXRlLm1heWJlQ29tcG9uZW50KVxuICAgICAgOiAwO1xuICAgIHZhciBnZW4gPSBhbHRHZW5Ob2RlIHx8IGdlbk5vZGU7XG4gICAgcmV0dXJuIChcIltcIiArIChjaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGdlbihjLCBzdGF0ZSk7IH0pLmpvaW4oJywnKSkgKyBcIl1cIiArIChub3JtYWxpemF0aW9uVHlwZSQxID8gKFwiLFwiICsgbm9ybWFsaXphdGlvblR5cGUkMSkgOiAnJykpXG4gIH1cbn1cblxuLy8gZGV0ZXJtaW5lIHRoZSBub3JtYWxpemF0aW9uIG5lZWRlZCBmb3IgdGhlIGNoaWxkcmVuIGFycmF5LlxuLy8gMDogbm8gbm9ybWFsaXphdGlvbiBuZWVkZWRcbi8vIDE6IHNpbXBsZSBub3JtYWxpemF0aW9uIG5lZWRlZCAocG9zc2libGUgMS1sZXZlbCBkZWVwIG5lc3RlZCBhcnJheSlcbi8vIDI6IGZ1bGwgbm9ybWFsaXphdGlvbiBuZWVkZWRcbmZ1bmN0aW9uIGdldE5vcm1hbGl6YXRpb25UeXBlIChcbiAgY2hpbGRyZW4sXG4gIG1heWJlQ29tcG9uZW50XG4pIHtcbiAgdmFyIHJlcyA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZWwgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoZWwudHlwZSAhPT0gMSkge1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgaWYgKG5lZWRzTm9ybWFsaXphdGlvbihlbCkgfHxcbiAgICAgICAgKGVsLmlmQ29uZGl0aW9ucyAmJiBlbC5pZkNvbmRpdGlvbnMuc29tZShmdW5jdGlvbiAoYykgeyByZXR1cm4gbmVlZHNOb3JtYWxpemF0aW9uKGMuYmxvY2spOyB9KSkpIHtcbiAgICAgIHJlcyA9IDI7XG4gICAgICBicmVha1xuICAgIH1cbiAgICBpZiAobWF5YmVDb21wb25lbnQoZWwpIHx8XG4gICAgICAgIChlbC5pZkNvbmRpdGlvbnMgJiYgZWwuaWZDb25kaXRpb25zLnNvbWUoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIG1heWJlQ29tcG9uZW50KGMuYmxvY2spOyB9KSkpIHtcbiAgICAgIHJlcyA9IDE7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gbmVlZHNOb3JtYWxpemF0aW9uIChlbCkge1xuICByZXR1cm4gZWwuZm9yICE9PSB1bmRlZmluZWQgfHwgZWwudGFnID09PSAndGVtcGxhdGUnIHx8IGVsLnRhZyA9PT0gJ3Nsb3QnXG59XG5cbmZ1bmN0aW9uIGdlbk5vZGUgKG5vZGUsIHN0YXRlKSB7XG4gIGlmIChub2RlLnR5cGUgPT09IDEpIHtcbiAgICByZXR1cm4gZ2VuRWxlbWVudChub2RlLCBzdGF0ZSlcbiAgfSBlbHNlIGlmIChub2RlLnR5cGUgPT09IDMgJiYgbm9kZS5pc0NvbW1lbnQpIHtcbiAgICByZXR1cm4gZ2VuQ29tbWVudChub2RlKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZW5UZXh0KG5vZGUpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuVGV4dCAodGV4dCkge1xuICByZXR1cm4gKFwiX3YoXCIgKyAodGV4dC50eXBlID09PSAyXG4gICAgPyB0ZXh0LmV4cHJlc3Npb24gLy8gbm8gbmVlZCBmb3IgKCkgYmVjYXVzZSBhbHJlYWR5IHdyYXBwZWQgaW4gX3MoKVxuICAgIDogdHJhbnNmb3JtU3BlY2lhbE5ld2xpbmVzKEpTT04uc3RyaW5naWZ5KHRleHQudGV4dCkpKSArIFwiKVwiKVxufVxuXG5mdW5jdGlvbiBnZW5Db21tZW50IChjb21tZW50KSB7XG4gIHJldHVybiAoXCJfZShcIiArIChKU09OLnN0cmluZ2lmeShjb21tZW50LnRleHQpKSArIFwiKVwiKVxufVxuXG5mdW5jdGlvbiBnZW5TbG90IChlbCwgc3RhdGUpIHtcbiAgdmFyIHNsb3ROYW1lID0gZWwuc2xvdE5hbWUgfHwgJ1wiZGVmYXVsdFwiJztcbiAgdmFyIGNoaWxkcmVuID0gZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlKTtcbiAgdmFyIHJlcyA9IFwiX3QoXCIgKyBzbG90TmFtZSArIChjaGlsZHJlbiA/IChcIixcIiArIGNoaWxkcmVuKSA6ICcnKTtcbiAgdmFyIGF0dHJzID0gZWwuYXR0cnMgfHwgZWwuZHluYW1pY0F0dHJzXG4gICAgPyBnZW5Qcm9wcygoZWwuYXR0cnMgfHwgW10pLmNvbmNhdChlbC5keW5hbWljQXR0cnMgfHwgW10pLm1hcChmdW5jdGlvbiAoYXR0cikgeyByZXR1cm4gKHtcbiAgICAgICAgLy8gc2xvdCBwcm9wcyBhcmUgY2FtZWxpemVkXG4gICAgICAgIG5hbWU6IGNhbWVsaXplKGF0dHIubmFtZSksXG4gICAgICAgIHZhbHVlOiBhdHRyLnZhbHVlLFxuICAgICAgICBkeW5hbWljOiBhdHRyLmR5bmFtaWNcbiAgICAgIH0pOyB9KSlcbiAgICA6IG51bGw7XG4gIHZhciBiaW5kJCQxID0gZWwuYXR0cnNNYXBbJ3YtYmluZCddO1xuICBpZiAoKGF0dHJzIHx8IGJpbmQkJDEpICYmICFjaGlsZHJlbikge1xuICAgIHJlcyArPSBcIixudWxsXCI7XG4gIH1cbiAgaWYgKGF0dHJzKSB7XG4gICAgcmVzICs9IFwiLFwiICsgYXR0cnM7XG4gIH1cbiAgaWYgKGJpbmQkJDEpIHtcbiAgICByZXMgKz0gKGF0dHJzID8gJycgOiAnLG51bGwnKSArIFwiLFwiICsgYmluZCQkMTtcbiAgfVxuICByZXR1cm4gcmVzICsgJyknXG59XG5cbi8vIGNvbXBvbmVudE5hbWUgaXMgZWwuY29tcG9uZW50LCB0YWtlIGl0IGFzIGFyZ3VtZW50IHRvIHNodW4gZmxvdydzIHBlc3NpbWlzdGljIHJlZmluZW1lbnRcbmZ1bmN0aW9uIGdlbkNvbXBvbmVudCAoXG4gIGNvbXBvbmVudE5hbWUsXG4gIGVsLFxuICBzdGF0ZVxuKSB7XG4gIHZhciBjaGlsZHJlbiA9IGVsLmlubGluZVRlbXBsYXRlID8gbnVsbCA6IGdlbkNoaWxkcmVuKGVsLCBzdGF0ZSwgdHJ1ZSk7XG4gIHJldHVybiAoXCJfYyhcIiArIGNvbXBvbmVudE5hbWUgKyBcIixcIiArIChnZW5EYXRhJDIoZWwsIHN0YXRlKSkgKyAoY2hpbGRyZW4gPyAoXCIsXCIgKyBjaGlsZHJlbikgOiAnJykgKyBcIilcIilcbn1cblxuZnVuY3Rpb24gZ2VuUHJvcHMgKHByb3BzKSB7XG4gIHZhciBzdGF0aWNQcm9wcyA9IFwiXCI7XG4gIHZhciBkeW5hbWljUHJvcHMgPSBcIlwiO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHByb3AgPSBwcm9wc1tpXTtcbiAgICB2YXIgdmFsdWUgPSB0cmFuc2Zvcm1TcGVjaWFsTmV3bGluZXMocHJvcC52YWx1ZSk7XG4gICAgaWYgKHByb3AuZHluYW1pYykge1xuICAgICAgZHluYW1pY1Byb3BzICs9IChwcm9wLm5hbWUpICsgXCIsXCIgKyB2YWx1ZSArIFwiLFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0aWNQcm9wcyArPSBcIlxcXCJcIiArIChwcm9wLm5hbWUpICsgXCJcXFwiOlwiICsgdmFsdWUgKyBcIixcIjtcbiAgICB9XG4gIH1cbiAgc3RhdGljUHJvcHMgPSBcIntcIiArIChzdGF0aWNQcm9wcy5zbGljZSgwLCAtMSkpICsgXCJ9XCI7XG4gIGlmIChkeW5hbWljUHJvcHMpIHtcbiAgICByZXR1cm4gKFwiX2QoXCIgKyBzdGF0aWNQcm9wcyArIFwiLFtcIiArIChkeW5hbWljUHJvcHMuc2xpY2UoMCwgLTEpKSArIFwiXSlcIilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RhdGljUHJvcHNcbiAgfVxufVxuXG4vLyAjMzg5NSwgIzQyNjhcbmZ1bmN0aW9uIHRyYW5zZm9ybVNwZWNpYWxOZXdsaW5lcyAodGV4dCkge1xuICByZXR1cm4gdGV4dFxuICAgIC5yZXBsYWNlKC9cXHUyMDI4L2csICdcXFxcdTIwMjgnKVxuICAgIC5yZXBsYWNlKC9cXHUyMDI5L2csICdcXFxcdTIwMjknKVxufVxuXG4vKiAgKi9cblxuXG5cbi8vIHRoZXNlIGtleXdvcmRzIHNob3VsZCBub3QgYXBwZWFyIGluc2lkZSBleHByZXNzaW9ucywgYnV0IG9wZXJhdG9ycyBsaWtlXG4vLyB0eXBlb2YsIGluc3RhbmNlb2YgYW5kIGluIGFyZSBhbGxvd2VkXG52YXIgcHJvaGliaXRlZEtleXdvcmRSRSA9IG5ldyBSZWdFeHAoJ1xcXFxiJyArIChcbiAgJ2RvLGlmLGZvcixsZXQsbmV3LHRyeSx2YXIsY2FzZSxlbHNlLHdpdGgsYXdhaXQsYnJlYWssY2F0Y2gsY2xhc3MsY29uc3QsJyArXG4gICdzdXBlcix0aHJvdyx3aGlsZSx5aWVsZCxkZWxldGUsZXhwb3J0LGltcG9ydCxyZXR1cm4sc3dpdGNoLGRlZmF1bHQsJyArXG4gICdleHRlbmRzLGZpbmFsbHksY29udGludWUsZGVidWdnZXIsZnVuY3Rpb24sYXJndW1lbnRzJ1xuKS5zcGxpdCgnLCcpLmpvaW4oJ1xcXFxifFxcXFxiJykgKyAnXFxcXGInKTtcblxuLy8gdGhlc2UgdW5hcnkgb3BlcmF0b3JzIHNob3VsZCBub3QgYmUgdXNlZCBhcyBwcm9wZXJ0eS9tZXRob2QgbmFtZXNcbnZhciB1bmFyeU9wZXJhdG9yc1JFID0gbmV3IFJlZ0V4cCgnXFxcXGInICsgKFxuICAnZGVsZXRlLHR5cGVvZix2b2lkJ1xuKS5zcGxpdCgnLCcpLmpvaW4oJ1xcXFxzKlxcXFwoW15cXFxcKV0qXFxcXCl8XFxcXGInKSArICdcXFxccypcXFxcKFteXFxcXCldKlxcXFwpJyk7XG5cbi8vIHN0cmlwIHN0cmluZ3MgaW4gZXhwcmVzc2lvbnNcbnZhciBzdHJpcFN0cmluZ1JFID0gLycoPzpbXidcXFxcXXxcXFxcLikqJ3xcIig/OlteXCJcXFxcXXxcXFxcLikqXCJ8YCg/OlteYFxcXFxdfFxcXFwuKSpcXCRcXHt8XFx9KD86W15gXFxcXF18XFxcXC4pKmB8YCg/OlteYFxcXFxdfFxcXFwuKSpgL2c7XG5cbi8vIGRldGVjdCBwcm9ibGVtYXRpYyBleHByZXNzaW9ucyBpbiBhIHRlbXBsYXRlXG5mdW5jdGlvbiBkZXRlY3RFcnJvcnMgKGFzdCwgd2Fybikge1xuICBpZiAoYXN0KSB7XG4gICAgY2hlY2tOb2RlKGFzdCwgd2Fybik7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tOb2RlIChub2RlLCB3YXJuKSB7XG4gIGlmIChub2RlLnR5cGUgPT09IDEpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIG5vZGUuYXR0cnNNYXApIHtcbiAgICAgIGlmIChkaXJSRS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG5vZGUuYXR0cnNNYXBbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHZhciByYW5nZSA9IG5vZGUucmF3QXR0cnNNYXBbbmFtZV07XG4gICAgICAgICAgaWYgKG5hbWUgPT09ICd2LWZvcicpIHtcbiAgICAgICAgICAgIGNoZWNrRm9yKG5vZGUsIChcInYtZm9yPVxcXCJcIiArIHZhbHVlICsgXCJcXFwiXCIpLCB3YXJuLCByYW5nZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSAndi1zbG90JyB8fCBuYW1lWzBdID09PSAnIycpIHtcbiAgICAgICAgICAgIGNoZWNrRnVuY3Rpb25QYXJhbWV0ZXJFeHByZXNzaW9uKHZhbHVlLCAobmFtZSArIFwiPVxcXCJcIiArIHZhbHVlICsgXCJcXFwiXCIpLCB3YXJuLCByYW5nZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvblJFLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICAgIGNoZWNrRXZlbnQodmFsdWUsIChuYW1lICsgXCI9XFxcIlwiICsgdmFsdWUgKyBcIlxcXCJcIiksIHdhcm4sIHJhbmdlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tFeHByZXNzaW9uKHZhbHVlLCAobmFtZSArIFwiPVxcXCJcIiArIHZhbHVlICsgXCJcXFwiXCIpLCB3YXJuLCByYW5nZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hlY2tOb2RlKG5vZGUuY2hpbGRyZW5baV0sIHdhcm4pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlLnR5cGUgPT09IDIpIHtcbiAgICBjaGVja0V4cHJlc3Npb24obm9kZS5leHByZXNzaW9uLCBub2RlLnRleHQsIHdhcm4sIG5vZGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRXZlbnQgKGV4cCwgdGV4dCwgd2FybiwgcmFuZ2UpIHtcbiAgdmFyIHN0cmlwcGVkID0gZXhwLnJlcGxhY2Uoc3RyaXBTdHJpbmdSRSwgJycpO1xuICB2YXIga2V5d29yZE1hdGNoID0gc3RyaXBwZWQubWF0Y2godW5hcnlPcGVyYXRvcnNSRSk7XG4gIGlmIChrZXl3b3JkTWF0Y2ggJiYgc3RyaXBwZWQuY2hhckF0KGtleXdvcmRNYXRjaC5pbmRleCAtIDEpICE9PSAnJCcpIHtcbiAgICB3YXJuKFxuICAgICAgXCJhdm9pZCB1c2luZyBKYXZhU2NyaXB0IHVuYXJ5IG9wZXJhdG9yIGFzIHByb3BlcnR5IG5hbWU6IFwiICtcbiAgICAgIFwiXFxcIlwiICsgKGtleXdvcmRNYXRjaFswXSkgKyBcIlxcXCIgaW4gZXhwcmVzc2lvbiBcIiArICh0ZXh0LnRyaW0oKSksXG4gICAgICByYW5nZVxuICAgICk7XG4gIH1cbiAgY2hlY2tFeHByZXNzaW9uKGV4cCwgdGV4dCwgd2FybiwgcmFuZ2UpO1xufVxuXG5mdW5jdGlvbiBjaGVja0ZvciAobm9kZSwgdGV4dCwgd2FybiwgcmFuZ2UpIHtcbiAgY2hlY2tFeHByZXNzaW9uKG5vZGUuZm9yIHx8ICcnLCB0ZXh0LCB3YXJuLCByYW5nZSk7XG4gIGNoZWNrSWRlbnRpZmllcihub2RlLmFsaWFzLCAndi1mb3IgYWxpYXMnLCB0ZXh0LCB3YXJuLCByYW5nZSk7XG4gIGNoZWNrSWRlbnRpZmllcihub2RlLml0ZXJhdG9yMSwgJ3YtZm9yIGl0ZXJhdG9yJywgdGV4dCwgd2FybiwgcmFuZ2UpO1xuICBjaGVja0lkZW50aWZpZXIobm9kZS5pdGVyYXRvcjIsICd2LWZvciBpdGVyYXRvcicsIHRleHQsIHdhcm4sIHJhbmdlKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tJZGVudGlmaWVyIChcbiAgaWRlbnQsXG4gIHR5cGUsXG4gIHRleHQsXG4gIHdhcm4sXG4gIHJhbmdlXG4pIHtcbiAgaWYgKHR5cGVvZiBpZGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICB0cnkge1xuICAgICAgbmV3IEZ1bmN0aW9uKChcInZhciBcIiArIGlkZW50ICsgXCI9X1wiKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgd2FybigoXCJpbnZhbGlkIFwiICsgdHlwZSArIFwiIFxcXCJcIiArIGlkZW50ICsgXCJcXFwiIGluIGV4cHJlc3Npb246IFwiICsgKHRleHQudHJpbSgpKSksIHJhbmdlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tFeHByZXNzaW9uIChleHAsIHRleHQsIHdhcm4sIHJhbmdlKSB7XG4gIHRyeSB7XG4gICAgbmV3IEZ1bmN0aW9uKChcInJldHVybiBcIiArIGV4cCkpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdmFyIGtleXdvcmRNYXRjaCA9IGV4cC5yZXBsYWNlKHN0cmlwU3RyaW5nUkUsICcnKS5tYXRjaChwcm9oaWJpdGVkS2V5d29yZFJFKTtcbiAgICBpZiAoa2V5d29yZE1hdGNoKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBcImF2b2lkIHVzaW5nIEphdmFTY3JpcHQga2V5d29yZCBhcyBwcm9wZXJ0eSBuYW1lOiBcIiArXG4gICAgICAgIFwiXFxcIlwiICsgKGtleXdvcmRNYXRjaFswXSkgKyBcIlxcXCJcXG4gIFJhdyBleHByZXNzaW9uOiBcIiArICh0ZXh0LnRyaW0oKSksXG4gICAgICAgIHJhbmdlXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKFxuICAgICAgICBcImludmFsaWQgZXhwcmVzc2lvbjogXCIgKyAoZS5tZXNzYWdlKSArIFwiIGluXFxuXFxuXCIgK1xuICAgICAgICBcIiAgICBcIiArIGV4cCArIFwiXFxuXFxuXCIgK1xuICAgICAgICBcIiAgUmF3IGV4cHJlc3Npb246IFwiICsgKHRleHQudHJpbSgpKSArIFwiXFxuXCIsXG4gICAgICAgIHJhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0Z1bmN0aW9uUGFyYW1ldGVyRXhwcmVzc2lvbiAoZXhwLCB0ZXh0LCB3YXJuLCByYW5nZSkge1xuICB0cnkge1xuICAgIG5ldyBGdW5jdGlvbihleHAsICcnKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHdhcm4oXG4gICAgICBcImludmFsaWQgZnVuY3Rpb24gcGFyYW1ldGVyIGV4cHJlc3Npb246IFwiICsgKGUubWVzc2FnZSkgKyBcIiBpblxcblxcblwiICtcbiAgICAgIFwiICAgIFwiICsgZXhwICsgXCJcXG5cXG5cIiArXG4gICAgICBcIiAgUmF3IGV4cHJlc3Npb246IFwiICsgKHRleHQudHJpbSgpKSArIFwiXFxuXCIsXG4gICAgICByYW5nZVxuICAgICk7XG4gIH1cbn1cblxuLyogICovXG5cbnZhciByYW5nZSA9IDI7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQ29kZUZyYW1lIChcbiAgc291cmNlLFxuICBzdGFydCxcbiAgZW5kXG4pIHtcbiAgaWYgKCBzdGFydCA9PT0gdm9pZCAwICkgc3RhcnQgPSAwO1xuICBpZiAoIGVuZCA9PT0gdm9pZCAwICkgZW5kID0gc291cmNlLmxlbmd0aDtcblxuICB2YXIgbGluZXMgPSBzb3VyY2Uuc3BsaXQoL1xccj9cXG4vKTtcbiAgdmFyIGNvdW50ID0gMDtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY291bnQgKz0gbGluZXNbaV0ubGVuZ3RoICsgMTtcbiAgICBpZiAoY291bnQgPj0gc3RhcnQpIHtcbiAgICAgIGZvciAodmFyIGogPSBpIC0gcmFuZ2U7IGogPD0gaSArIHJhbmdlIHx8IGVuZCA+IGNvdW50OyBqKyspIHtcbiAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gbGluZXMubGVuZ3RoKSB7IGNvbnRpbnVlIH1cbiAgICAgICAgcmVzLnB1c2goKFwiXCIgKyAoaiArIDEpICsgKHJlcGVhdCQxKFwiIFwiLCAzIC0gU3RyaW5nKGogKyAxKS5sZW5ndGgpKSArIFwifCAgXCIgKyAobGluZXNbal0pKSk7XG4gICAgICAgIHZhciBsaW5lTGVuZ3RoID0gbGluZXNbal0ubGVuZ3RoO1xuICAgICAgICBpZiAoaiA9PT0gaSkge1xuICAgICAgICAgIC8vIHB1c2ggdW5kZXJsaW5lXG4gICAgICAgICAgdmFyIHBhZCA9IHN0YXJ0IC0gKGNvdW50IC0gbGluZUxlbmd0aCkgKyAxO1xuICAgICAgICAgIHZhciBsZW5ndGggPSBlbmQgPiBjb3VudCA/IGxpbmVMZW5ndGggLSBwYWQgOiBlbmQgLSBzdGFydDtcbiAgICAgICAgICByZXMucHVzaChcIiAgIHwgIFwiICsgcmVwZWF0JDEoXCIgXCIsIHBhZCkgKyByZXBlYXQkMShcIl5cIiwgbGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaiA+IGkpIHtcbiAgICAgICAgICBpZiAoZW5kID4gY291bnQpIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGgkMSA9IE1hdGgubWluKGVuZCAtIGNvdW50LCBsaW5lTGVuZ3RoKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKFwiICAgfCAgXCIgKyByZXBlYXQkMShcIl5cIiwgbGVuZ3RoJDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY291bnQgKz0gbGluZUxlbmd0aCArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIHJldHVybiByZXMuam9pbignXFxuJylcbn1cblxuZnVuY3Rpb24gcmVwZWF0JDEgKHN0ciwgbikge1xuICB2YXIgcmVzdWx0ID0gJyc7XG4gIGlmIChuID4gMCkge1xuICAgIHdoaWxlICh0cnVlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgIGlmIChuICYgMSkgeyByZXN1bHQgKz0gc3RyOyB9XG4gICAgICBuID4+Pj0gMTtcbiAgICAgIGlmIChuIDw9IDApIHsgYnJlYWsgfVxuICAgICAgc3RyICs9IHN0cjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vKiAgKi9cblxuXG5cbmZ1bmN0aW9uIGNyZWF0ZUZ1bmN0aW9uIChjb2RlLCBlcnJvcnMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKGNvZGUpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGVycm9ycy5wdXNoKHsgZXJyOiBlcnIsIGNvZGU6IGNvZGUgfSk7XG4gICAgcmV0dXJuIG5vb3BcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVDb21waWxlVG9GdW5jdGlvbkZuIChjb21waWxlKSB7XG4gIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbXBpbGVUb0Z1bmN0aW9ucyAoXG4gICAgdGVtcGxhdGUsXG4gICAgb3B0aW9ucyxcbiAgICB2bVxuICApIHtcbiAgICBvcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICB2YXIgd2FybiQkMSA9IG9wdGlvbnMud2FybiB8fCB3YXJuO1xuICAgIGRlbGV0ZSBvcHRpb25zLndhcm47XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLy8gZGV0ZWN0IHBvc3NpYmxlIENTUCByZXN0cmljdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gMScpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZS50b1N0cmluZygpLm1hdGNoKC91bnNhZmUtZXZhbHxDU1AvKSkge1xuICAgICAgICAgIHdhcm4kJDEoXG4gICAgICAgICAgICAnSXQgc2VlbXMgeW91IGFyZSB1c2luZyB0aGUgc3RhbmRhbG9uZSBidWlsZCBvZiBWdWUuanMgaW4gYW4gJyArXG4gICAgICAgICAgICAnZW52aXJvbm1lbnQgd2l0aCBDb250ZW50IFNlY3VyaXR5IFBvbGljeSB0aGF0IHByb2hpYml0cyB1bnNhZmUtZXZhbC4gJyArXG4gICAgICAgICAgICAnVGhlIHRlbXBsYXRlIGNvbXBpbGVyIGNhbm5vdCB3b3JrIGluIHRoaXMgZW52aXJvbm1lbnQuIENvbnNpZGVyICcgK1xuICAgICAgICAgICAgJ3JlbGF4aW5nIHRoZSBwb2xpY3kgdG8gYWxsb3cgdW5zYWZlLWV2YWwgb3IgcHJlLWNvbXBpbGluZyB5b3VyICcgK1xuICAgICAgICAgICAgJ3RlbXBsYXRlcyBpbnRvIHJlbmRlciBmdW5jdGlvbnMuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjaGVjayBjYWNoZVxuICAgIHZhciBrZXkgPSBvcHRpb25zLmRlbGltaXRlcnNcbiAgICAgID8gU3RyaW5nKG9wdGlvbnMuZGVsaW1pdGVycykgKyB0ZW1wbGF0ZVxuICAgICAgOiB0ZW1wbGF0ZTtcbiAgICBpZiAoY2FjaGVba2V5XSkge1xuICAgICAgcmV0dXJuIGNhY2hlW2tleV1cbiAgICB9XG5cbiAgICAvLyBjb21waWxlXG4gICAgdmFyIGNvbXBpbGVkID0gY29tcGlsZSh0ZW1wbGF0ZSwgb3B0aW9ucyk7XG5cbiAgICAvLyBjaGVjayBjb21waWxhdGlvbiBlcnJvcnMvdGlwc1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoY29tcGlsZWQuZXJyb3JzICYmIGNvbXBpbGVkLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UpIHtcbiAgICAgICAgICBjb21waWxlZC5lcnJvcnMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgd2FybiQkMShcbiAgICAgICAgICAgICAgXCJFcnJvciBjb21waWxpbmcgdGVtcGxhdGU6XFxuXFxuXCIgKyAoZS5tc2cpICsgXCJcXG5cXG5cIiArXG4gICAgICAgICAgICAgIGdlbmVyYXRlQ29kZUZyYW1lKHRlbXBsYXRlLCBlLnN0YXJ0LCBlLmVuZCksXG4gICAgICAgICAgICAgIHZtXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm4kJDEoXG4gICAgICAgICAgICBcIkVycm9yIGNvbXBpbGluZyB0ZW1wbGF0ZTpcXG5cXG5cIiArIHRlbXBsYXRlICsgXCJcXG5cXG5cIiArXG4gICAgICAgICAgICBjb21waWxlZC5lcnJvcnMubWFwKGZ1bmN0aW9uIChlKSB7IHJldHVybiAoXCItIFwiICsgZSk7IH0pLmpvaW4oJ1xcbicpICsgJ1xcbicsXG4gICAgICAgICAgICB2bVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb21waWxlZC50aXBzICYmIGNvbXBpbGVkLnRpcHMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XG4gICAgICAgICAgY29tcGlsZWQudGlwcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiB0aXAoZS5tc2csIHZtKTsgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29tcGlsZWQudGlwcy5mb3JFYWNoKGZ1bmN0aW9uIChtc2cpIHsgcmV0dXJuIHRpcChtc2csIHZtKTsgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0dXJuIGNvZGUgaW50byBmdW5jdGlvbnNcbiAgICB2YXIgcmVzID0ge307XG4gICAgdmFyIGZuR2VuRXJyb3JzID0gW107XG4gICAgcmVzLnJlbmRlciA9IGNyZWF0ZUZ1bmN0aW9uKGNvbXBpbGVkLnJlbmRlciwgZm5HZW5FcnJvcnMpO1xuICAgIHJlcy5zdGF0aWNSZW5kZXJGbnMgPSBjb21waWxlZC5zdGF0aWNSZW5kZXJGbnMubWFwKGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRnVuY3Rpb24oY29kZSwgZm5HZW5FcnJvcnMpXG4gICAgfSk7XG5cbiAgICAvLyBjaGVjayBmdW5jdGlvbiBnZW5lcmF0aW9uIGVycm9ycy5cbiAgICAvLyB0aGlzIHNob3VsZCBvbmx5IGhhcHBlbiBpZiB0aGVyZSBpcyBhIGJ1ZyBpbiB0aGUgY29tcGlsZXIgaXRzZWxmLlxuICAgIC8vIG1vc3RseSBmb3IgY29kZWdlbiBkZXZlbG9wbWVudCB1c2VcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKCghY29tcGlsZWQuZXJyb3JzIHx8ICFjb21waWxlZC5lcnJvcnMubGVuZ3RoKSAmJiBmbkdlbkVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgd2FybiQkMShcbiAgICAgICAgICBcIkZhaWxlZCB0byBnZW5lcmF0ZSByZW5kZXIgZnVuY3Rpb246XFxuXFxuXCIgK1xuICAgICAgICAgIGZuR2VuRXJyb3JzLm1hcChmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gcmVmLmVycjtcbiAgICAgICAgICAgIHZhciBjb2RlID0gcmVmLmNvZGU7XG5cbiAgICAgICAgICAgIHJldHVybiAoKGVyci50b1N0cmluZygpKSArIFwiIGluXFxuXFxuXCIgKyBjb2RlICsgXCJcXG5cIik7XG4gICAgICAgIH0pLmpvaW4oJ1xcbicpLFxuICAgICAgICAgIHZtXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChjYWNoZVtrZXldID0gcmVzKVxuICB9XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBjcmVhdGVDb21waWxlckNyZWF0b3IgKGJhc2VDb21waWxlKSB7XG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVDb21waWxlciAoYmFzZU9wdGlvbnMpIHtcbiAgICBmdW5jdGlvbiBjb21waWxlIChcbiAgICAgIHRlbXBsYXRlLFxuICAgICAgb3B0aW9uc1xuICAgICkge1xuICAgICAgdmFyIGZpbmFsT3B0aW9ucyA9IE9iamVjdC5jcmVhdGUoYmFzZU9wdGlvbnMpO1xuICAgICAgdmFyIGVycm9ycyA9IFtdO1xuICAgICAgdmFyIHRpcHMgPSBbXTtcblxuICAgICAgdmFyIHdhcm4gPSBmdW5jdGlvbiAobXNnLCByYW5nZSwgdGlwKSB7XG4gICAgICAgICh0aXAgPyB0aXBzIDogZXJyb3JzKS5wdXNoKG1zZyk7XG4gICAgICB9O1xuXG4gICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XG4gICAgICAgICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXG4gICAgICAgICAgdmFyIGxlYWRpbmdTcGFjZUxlbmd0aCA9IHRlbXBsYXRlLm1hdGNoKC9eXFxzKi8pWzBdLmxlbmd0aDtcblxuICAgICAgICAgIHdhcm4gPSBmdW5jdGlvbiAobXNnLCByYW5nZSwgdGlwKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHsgbXNnOiBtc2cgfTtcbiAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICBpZiAocmFuZ2Uuc3RhcnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRhdGEuc3RhcnQgPSByYW5nZS5zdGFydCArIGxlYWRpbmdTcGFjZUxlbmd0aDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAocmFuZ2UuZW5kICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmVuZCA9IHJhbmdlLmVuZCArIGxlYWRpbmdTcGFjZUxlbmd0aDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKHRpcCA/IHRpcHMgOiBlcnJvcnMpLnB1c2goZGF0YSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtZXJnZSBjdXN0b20gbW9kdWxlc1xuICAgICAgICBpZiAob3B0aW9ucy5tb2R1bGVzKSB7XG4gICAgICAgICAgZmluYWxPcHRpb25zLm1vZHVsZXMgPVxuICAgICAgICAgICAgKGJhc2VPcHRpb25zLm1vZHVsZXMgfHwgW10pLmNvbmNhdChvcHRpb25zLm1vZHVsZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1lcmdlIGN1c3RvbSBkaXJlY3RpdmVzXG4gICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGl2ZXMpIHtcbiAgICAgICAgICBmaW5hbE9wdGlvbnMuZGlyZWN0aXZlcyA9IGV4dGVuZChcbiAgICAgICAgICAgIE9iamVjdC5jcmVhdGUoYmFzZU9wdGlvbnMuZGlyZWN0aXZlcyB8fCBudWxsKSxcbiAgICAgICAgICAgIG9wdGlvbnMuZGlyZWN0aXZlc1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weSBvdGhlciBvcHRpb25zXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKGtleSAhPT0gJ21vZHVsZXMnICYmIGtleSAhPT0gJ2RpcmVjdGl2ZXMnKSB7XG4gICAgICAgICAgICBmaW5hbE9wdGlvbnNba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZmluYWxPcHRpb25zLndhcm4gPSB3YXJuO1xuXG4gICAgICB2YXIgY29tcGlsZWQgPSBiYXNlQ29tcGlsZSh0ZW1wbGF0ZS50cmltKCksIGZpbmFsT3B0aW9ucyk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBkZXRlY3RFcnJvcnMoY29tcGlsZWQuYXN0LCB3YXJuKTtcbiAgICAgIH1cbiAgICAgIGNvbXBpbGVkLmVycm9ycyA9IGVycm9ycztcbiAgICAgIGNvbXBpbGVkLnRpcHMgPSB0aXBzO1xuICAgICAgcmV0dXJuIGNvbXBpbGVkXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbXBpbGU6IGNvbXBpbGUsXG4gICAgICBjb21waWxlVG9GdW5jdGlvbnM6IGNyZWF0ZUNvbXBpbGVUb0Z1bmN0aW9uRm4oY29tcGlsZSlcbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbi8vIGBjcmVhdGVDb21waWxlckNyZWF0b3JgIGFsbG93cyBjcmVhdGluZyBjb21waWxlcnMgdGhhdCB1c2UgYWx0ZXJuYXRpdmVcbi8vIHBhcnNlci9vcHRpbWl6ZXIvY29kZWdlbiwgZS5nIHRoZSBTU1Igb3B0aW1pemluZyBjb21waWxlci5cbi8vIEhlcmUgd2UganVzdCBleHBvcnQgYSBkZWZhdWx0IGNvbXBpbGVyIHVzaW5nIHRoZSBkZWZhdWx0IHBhcnRzLlxudmFyIGNyZWF0ZUNvbXBpbGVyID0gY3JlYXRlQ29tcGlsZXJDcmVhdG9yKGZ1bmN0aW9uIGJhc2VDb21waWxlIChcbiAgdGVtcGxhdGUsXG4gIG9wdGlvbnNcbikge1xuICB2YXIgYXN0ID0gcGFyc2UodGVtcGxhdGUudHJpbSgpLCBvcHRpb25zKTtcbiAgaWYgKG9wdGlvbnMub3B0aW1pemUgIT09IGZhbHNlKSB7XG4gICAgb3B0aW1pemUoYXN0LCBvcHRpb25zKTtcbiAgfVxuICB2YXIgY29kZSA9IGdlbmVyYXRlKGFzdCwgb3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgYXN0OiBhc3QsXG4gICAgcmVuZGVyOiBjb2RlLnJlbmRlcixcbiAgICBzdGF0aWNSZW5kZXJGbnM6IGNvZGUuc3RhdGljUmVuZGVyRm5zXG4gIH1cbn0pO1xuXG4vKiAgKi9cblxudmFyIHJlZiQxID0gY3JlYXRlQ29tcGlsZXIoYmFzZU9wdGlvbnMpO1xudmFyIGNvbXBpbGUgPSByZWYkMS5jb21waWxlO1xudmFyIGNvbXBpbGVUb0Z1bmN0aW9ucyA9IHJlZiQxLmNvbXBpbGVUb0Z1bmN0aW9ucztcblxuLyogICovXG5cbi8vIGNoZWNrIHdoZXRoZXIgY3VycmVudCBicm93c2VyIGVuY29kZXMgYSBjaGFyIGluc2lkZSBhdHRyaWJ1dGUgdmFsdWVzXG52YXIgZGl2O1xuZnVuY3Rpb24gZ2V0U2hvdWxkRGVjb2RlIChocmVmKSB7XG4gIGRpdiA9IGRpdiB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmlubmVySFRNTCA9IGhyZWYgPyBcIjxhIGhyZWY9XFxcIlxcblxcXCIvPlwiIDogXCI8ZGl2IGE9XFxcIlxcblxcXCIvPlwiO1xuICByZXR1cm4gZGl2LmlubmVySFRNTC5pbmRleE9mKCcmIzEwOycpID4gMFxufVxuXG4vLyAjMzY2MzogSUUgZW5jb2RlcyBuZXdsaW5lcyBpbnNpZGUgYXR0cmlidXRlIHZhbHVlcyB3aGlsZSBvdGhlciBicm93c2VycyBkb24ndFxudmFyIHNob3VsZERlY29kZU5ld2xpbmVzID0gaW5Ccm93c2VyID8gZ2V0U2hvdWxkRGVjb2RlKGZhbHNlKSA6IGZhbHNlO1xuLy8gIzY4Mjg6IGNocm9tZSBlbmNvZGVzIGNvbnRlbnQgaW4gYVtocmVmXVxudmFyIHNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZiA9IGluQnJvd3NlciA/IGdldFNob3VsZERlY29kZSh0cnVlKSA6IGZhbHNlO1xuXG4vKiAgKi9cblxudmFyIGlkVG9UZW1wbGF0ZSA9IGNhY2hlZChmdW5jdGlvbiAoaWQpIHtcbiAgdmFyIGVsID0gcXVlcnkoaWQpO1xuICByZXR1cm4gZWwgJiYgZWwuaW5uZXJIVE1MXG59KTtcblxudmFyIG1vdW50ID0gVnVlLnByb3RvdHlwZS4kbW91bnQ7XG5WdWUucHJvdG90eXBlLiRtb3VudCA9IGZ1bmN0aW9uIChcbiAgZWwsXG4gIGh5ZHJhdGluZ1xuKSB7XG4gIGVsID0gZWwgJiYgcXVlcnkoZWwpO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoZWwgPT09IGRvY3VtZW50LmJvZHkgfHwgZWwgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgIFwiRG8gbm90IG1vdW50IFZ1ZSB0byA8aHRtbD4gb3IgPGJvZHk+IC0gbW91bnQgdG8gbm9ybWFsIGVsZW1lbnRzIGluc3RlYWQuXCJcbiAgICApO1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICB2YXIgb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnM7XG4gIC8vIHJlc29sdmUgdGVtcGxhdGUvZWwgYW5kIGNvbnZlcnQgdG8gcmVuZGVyIGZ1bmN0aW9uXG4gIGlmICghb3B0aW9ucy5yZW5kZXIpIHtcbiAgICB2YXIgdGVtcGxhdGUgPSBvcHRpb25zLnRlbXBsYXRlO1xuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wbGF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHRlbXBsYXRlLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgICAgdGVtcGxhdGUgPSBpZFRvVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICF0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgd2FybihcbiAgICAgICAgICAgICAgKFwiVGVtcGxhdGUgZWxlbWVudCBub3QgZm91bmQgb3IgaXMgZW1wdHk6IFwiICsgKG9wdGlvbnMudGVtcGxhdGUpKSxcbiAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGVtcGxhdGUubm9kZVR5cGUpIHtcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5pbm5lckhUTUw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHdhcm4oJ2ludmFsaWQgdGVtcGxhdGUgb3B0aW9uOicgKyB0ZW1wbGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVsKSB7XG4gICAgICB0ZW1wbGF0ZSA9IGdldE91dGVySFRNTChlbCk7XG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjb25maWcucGVyZm9ybWFuY2UgJiYgbWFyaykge1xuICAgICAgICBtYXJrKCdjb21waWxlJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWYgPSBjb21waWxlVG9GdW5jdGlvbnModGVtcGxhdGUsIHtcbiAgICAgICAgb3V0cHV0U291cmNlUmFuZ2U6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsXG4gICAgICAgIHNob3VsZERlY29kZU5ld2xpbmVzOiBzaG91bGREZWNvZGVOZXdsaW5lcyxcbiAgICAgICAgc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmOiBzaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWYsXG4gICAgICAgIGRlbGltaXRlcnM6IG9wdGlvbnMuZGVsaW1pdGVycyxcbiAgICAgICAgY29tbWVudHM6IG9wdGlvbnMuY29tbWVudHNcbiAgICAgIH0sIHRoaXMpO1xuICAgICAgdmFyIHJlbmRlciA9IHJlZi5yZW5kZXI7XG4gICAgICB2YXIgc3RhdGljUmVuZGVyRm5zID0gcmVmLnN0YXRpY1JlbmRlckZucztcbiAgICAgIG9wdGlvbnMucmVuZGVyID0gcmVuZGVyO1xuICAgICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBzdGF0aWNSZW5kZXJGbnM7XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHtcbiAgICAgICAgbWFyaygnY29tcGlsZSBlbmQnKTtcbiAgICAgICAgbWVhc3VyZSgoXCJ2dWUgXCIgKyAodGhpcy5fbmFtZSkgKyBcIiBjb21waWxlXCIpLCAnY29tcGlsZScsICdjb21waWxlIGVuZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbW91bnQuY2FsbCh0aGlzLCBlbCwgaHlkcmF0aW5nKVxufTtcblxuLyoqXG4gKiBHZXQgb3V0ZXJIVE1MIG9mIGVsZW1lbnRzLCB0YWtpbmcgY2FyZVxuICogb2YgU1ZHIGVsZW1lbnRzIGluIElFIGFzIHdlbGwuXG4gKi9cbmZ1bmN0aW9uIGdldE91dGVySFRNTCAoZWwpIHtcbiAgaWYgKGVsLm91dGVySFRNTCkge1xuICAgIHJldHVybiBlbC5vdXRlckhUTUxcbiAgfSBlbHNlIHtcbiAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5pbm5lckhUTUxcbiAgfVxufVxuXG5WdWUuY29tcGlsZSA9IGNvbXBpbGVUb0Z1bmN0aW9ucztcblxuZXhwb3J0IGRlZmF1bHQgVnVlO1xuIiwiaW1wb3J0IFZ1ZSwgeyBDcmVhdGVFbGVtZW50LCBWTm9kZSB9IGZyb20gJ3Z1ZSc7XHJcblxyXG5jb25zdCBOYXZpZ2F0aW9uID0gVnVlLmV4dGVuZCh7XHJcbiAgcmVuZGVyKGNyZWF0ZUVsZW1lbnQ6IENyZWF0ZUVsZW1lbnQpOiBWTm9kZSB7XHJcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudCgnZGl2JywgW1xyXG4gICAgICBjcmVhdGVFbGVtZW50KCd1bCcsIFtcclxuICAgICAgICBjcmVhdGVFbGVtZW50KCdsaScsIFtcclxuICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2EnLCB7IGRvbVByb3BzOiB7IGhyZWY6ICd3b3JrZXIuaHRtbCcgfSB9LCAncGVrZXJqYScpLFxyXG4gICAgICAgIF0pLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2xpJywgW1xyXG4gICAgICAgICAgY3JlYXRlRWxlbWVudCgnYScsIHsgZG9tUHJvcHM6IHsgaHJlZjogJ3Rhc2tzLmh0bWwnIH0gfSwgJ3Bla2VyamFhbicpLFxyXG4gICAgICAgIF0pLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2xpJywgW1xyXG4gICAgICAgICAgY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICAgJ2EnLFxyXG4gICAgICAgICAgICB7IGRvbVByb3BzOiB7IGhyZWY6ICdwZXJmb3JtYW5jZS5odG1sJyB9IH0sXHJcbiAgICAgICAgICAgICdraW5lcmphJ1xyXG4gICAgICAgICAgKSxcclxuICAgICAgICBdKSxcclxuICAgICAgXSksXHJcbiAgICAgIGNyZWF0ZUVsZW1lbnQoJ2hyJyksXHJcbiAgICBdKTtcclxuICB9LFxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE5hdmlnYXRpb247XHJcbiIsImZ1bmN0aW9uIHQodCl7Zm9yKHZhciBuPWFyZ3VtZW50cy5sZW5ndGgscj1BcnJheShuPjE/bi0xOjApLGU9MTtlPG47ZSsrKXJbZS0xXT1hcmd1bWVudHNbZV07aWYoXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOVil7dmFyIGk9WVt0XSxvPWk/XCJmdW5jdGlvblwiPT10eXBlb2YgaT9pLmFwcGx5KG51bGwscik6aTpcInVua25vd24gZXJyb3IgbnI6IFwiK3Q7dGhyb3cgRXJyb3IoXCJbSW1tZXJdIFwiK28pfXRocm93IEVycm9yKFwiW0ltbWVyXSBtaW5pZmllZCBlcnJvciBucjogXCIrdCsoci5sZW5ndGg/XCIgXCIrci5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblwiJ1wiK3QrXCInXCJ9KSkuam9pbihcIixcIik6XCJcIikrXCIuIEZpbmQgdGhlIGZ1bGwgZXJyb3IgYXQ6IGh0dHBzOi8vYml0Lmx5LzNjWEVLV2ZcIil9ZnVuY3Rpb24gbih0KXtyZXR1cm4hIXQmJiEhdFtRXX1mdW5jdGlvbiByKHQpe3JldHVybiEhdCYmKGZ1bmN0aW9uKHQpe2lmKCF0fHxcIm9iamVjdFwiIT10eXBlb2YgdClyZXR1cm4hMTt2YXIgbj1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIW58fG49PT1PYmplY3QucHJvdG90eXBlfSh0KXx8QXJyYXkuaXNBcnJheSh0KXx8ISF0W0xdfHwhIXQuY29uc3RydWN0b3JbTF18fHModCl8fHYodCkpfWZ1bmN0aW9uIGUocil7cmV0dXJuIG4ocil8fHQoMjMscikscltRXS50fWZ1bmN0aW9uIGkodCxuLHIpe3ZvaWQgMD09PXImJihyPSExKSwwPT09byh0KT8ocj9PYmplY3Qua2V5czpaKSh0KS5mb3JFYWNoKChmdW5jdGlvbihlKXtyJiZcInN5bWJvbFwiPT10eXBlb2YgZXx8bihlLHRbZV0sdCl9KSk6dC5mb3JFYWNoKChmdW5jdGlvbihyLGUpe3JldHVybiBuKGUscix0KX0pKX1mdW5jdGlvbiBvKHQpe3ZhciBuPXRbUV07cmV0dXJuIG4/bi5pPjM/bi5pLTQ6bi5pOkFycmF5LmlzQXJyYXkodCk/MTpzKHQpPzI6dih0KT8zOjB9ZnVuY3Rpb24gdSh0LG4pe3JldHVybiAyPT09byh0KT90LmhhcyhuKTpPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxuKX1mdW5jdGlvbiBhKHQsbil7cmV0dXJuIDI9PT1vKHQpP3QuZ2V0KG4pOnRbbl19ZnVuY3Rpb24gZih0LG4scil7dmFyIGU9byh0KTsyPT09ZT90LnNldChuLHIpOjM9PT1lPyh0LmRlbGV0ZShuKSx0LmFkZChyKSk6dFtuXT1yfWZ1bmN0aW9uIGModCxuKXtyZXR1cm4gdD09PW4/MCE9PXR8fDEvdD09MS9uOnQhPXQmJm4hPW59ZnVuY3Rpb24gcyh0KXtyZXR1cm4gWCYmdCBpbnN0YW5jZW9mIE1hcH1mdW5jdGlvbiB2KHQpe3JldHVybiBxJiZ0IGluc3RhbmNlb2YgU2V0fWZ1bmN0aW9uIHAodCl7cmV0dXJuIHQub3x8dC50fWZ1bmN0aW9uIGwodCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCk7dmFyIG49dHQodCk7ZGVsZXRlIG5bUV07Zm9yKHZhciByPVoobiksZT0wO2U8ci5sZW5ndGg7ZSsrKXt2YXIgaT1yW2VdLG89bltpXTshMT09PW8ud3JpdGFibGUmJihvLndyaXRhYmxlPSEwLG8uY29uZmlndXJhYmxlPSEwKSwoby5nZXR8fG8uc2V0KSYmKG5baV09e2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCxlbnVtZXJhYmxlOm8uZW51bWVyYWJsZSx2YWx1ZTp0W2ldfSl9cmV0dXJuIE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpLG4pfWZ1bmN0aW9uIGQodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHkodCl8fG4odCl8fCFyKHQpP3Q6KG8odCk+MSYmKHQuc2V0PXQuYWRkPXQuY2xlYXI9dC5kZWxldGU9aCksT2JqZWN0LmZyZWV6ZSh0KSxlJiZpKHQsKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGQobiwhMCl9KSwhMCksdCl9ZnVuY3Rpb24gaCgpe3QoMil9ZnVuY3Rpb24geSh0KXtyZXR1cm4gbnVsbD09dHx8XCJvYmplY3RcIiE9dHlwZW9mIHR8fE9iamVjdC5pc0Zyb3plbih0KX1mdW5jdGlvbiBiKG4pe3ZhciByPW50W25dO3JldHVybiByfHx0KDE4LG4pLHJ9ZnVuY3Rpb24gbSh0LG4pe250W3RdfHwobnRbdF09bil9ZnVuY3Rpb24gXygpe3JldHVyblwicHJvZHVjdGlvblwiPT09cHJvY2Vzcy5lbnYuTk9ERV9FTlZ8fFV8fHQoMCksVX1mdW5jdGlvbiBqKHQsbil7biYmKGIoXCJQYXRjaGVzXCIpLHQudT1bXSx0LnM9W10sdC52PW4pfWZ1bmN0aW9uIGcodCl7dyh0KSx0LnAuZm9yRWFjaChTKSx0LnA9bnVsbH1mdW5jdGlvbiB3KHQpe3Q9PT1VJiYoVT10LmwpfWZ1bmN0aW9uIE8odCl7cmV0dXJuIFU9e3A6W10sbDpVLGg6dCxtOiEwLF86MH19ZnVuY3Rpb24gUyh0KXt2YXIgbj10W1FdOzA9PT1uLml8fDE9PT1uLmk/bi5qKCk6bi5nPSEwfWZ1bmN0aW9uIFAobixlKXtlLl89ZS5wLmxlbmd0aDt2YXIgaT1lLnBbMF0sbz12b2lkIDAhPT1uJiZuIT09aTtyZXR1cm4gZS5oLk98fGIoXCJFUzVcIikuUyhlLG4sbyksbz8oaVtRXS5QJiYoZyhlKSx0KDQpKSxyKG4pJiYobj1NKGUsbiksZS5sfHx4KGUsbikpLGUudSYmYihcIlBhdGNoZXNcIikuTShpW1FdLG4sZS51LGUucykpOm49TShlLGksW10pLGcoZSksZS51JiZlLnYoZS51LGUucyksbiE9PUg/bjp2b2lkIDB9ZnVuY3Rpb24gTSh0LG4scil7aWYoeShuKSlyZXR1cm4gbjt2YXIgZT1uW1FdO2lmKCFlKXJldHVybiBpKG4sKGZ1bmN0aW9uKGksbyl7cmV0dXJuIEEodCxlLG4saSxvLHIpfSksITApLG47aWYoZS5BIT09dClyZXR1cm4gbjtpZighZS5QKXJldHVybiB4KHQsZS50LCEwKSxlLnQ7aWYoIWUuSSl7ZS5JPSEwLGUuQS5fLS07dmFyIG89ND09PWUuaXx8NT09PWUuaT9lLm89bChlLmspOmUubztpKDM9PT1lLmk/bmV3IFNldChvKTpvLChmdW5jdGlvbihuLGkpe3JldHVybiBBKHQsZSxvLG4saSxyKX0pKSx4KHQsbywhMSksciYmdC51JiZiKFwiUGF0Y2hlc1wiKS5SKGUscix0LnUsdC5zKX1yZXR1cm4gZS5vfWZ1bmN0aW9uIEEoZSxpLG8sYSxjLHMpe2lmKFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmM9PT1vJiZ0KDUpLG4oYykpe3ZhciB2PU0oZSxjLHMmJmkmJjMhPT1pLmkmJiF1KGkuRCxhKT9zLmNvbmNhdChhKTp2b2lkIDApO2lmKGYobyxhLHYpLCFuKHYpKXJldHVybjtlLm09ITF9aWYocihjKSYmIXkoYykpe2lmKCFlLmguTiYmZS5fPDEpcmV0dXJuO00oZSxjKSxpJiZpLkEubHx8eChlLGMpfX1mdW5jdGlvbiB4KHQsbixyKXt2b2lkIDA9PT1yJiYocj0hMSksdC5oLk4mJnQubSYmZChuLHIpfWZ1bmN0aW9uIHoodCxuKXt2YXIgcj10W1FdO3JldHVybihyP3Aocik6dClbbl19ZnVuY3Rpb24gSSh0LG4pe2lmKG4gaW4gdClmb3IodmFyIHI9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO3I7KXt2YXIgZT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsbik7aWYoZSlyZXR1cm4gZTtyPU9iamVjdC5nZXRQcm90b3R5cGVPZihyKX19ZnVuY3Rpb24gayh0KXt0LlB8fCh0LlA9ITAsdC5sJiZrKHQubCkpfWZ1bmN0aW9uIEUodCl7dC5vfHwodC5vPWwodC50KSl9ZnVuY3Rpb24gUih0LG4scil7dmFyIGU9cyhuKT9iKFwiTWFwU2V0XCIpLlQobixyKTp2KG4pP2IoXCJNYXBTZXRcIikuRihuLHIpOnQuTz9mdW5jdGlvbih0LG4pe3ZhciByPUFycmF5LmlzQXJyYXkodCksZT17aTpyPzE6MCxBOm4/bi5BOl8oKSxQOiExLEk6ITEsRDp7fSxsOm4sdDp0LGs6bnVsbCxvOm51bGwsajpudWxsLEM6ITF9LGk9ZSxvPXJ0O3ImJihpPVtlXSxvPWV0KTt2YXIgdT1Qcm94eS5yZXZvY2FibGUoaSxvKSxhPXUucmV2b2tlLGY9dS5wcm94eTtyZXR1cm4gZS5rPWYsZS5qPWEsZn0obixyKTpiKFwiRVM1XCIpLkoobixyKTtyZXR1cm4ocj9yLkE6XygpKS5wLnB1c2goZSksZX1mdW5jdGlvbiBEKGUpe3JldHVybiBuKGUpfHx0KDIyLGUpLGZ1bmN0aW9uIHQobil7aWYoIXIobikpcmV0dXJuIG47dmFyIGUsdT1uW1FdLGM9byhuKTtpZih1KXtpZighdS5QJiYodS5pPDR8fCFiKFwiRVM1XCIpLksodSkpKXJldHVybiB1LnQ7dS5JPSEwLGU9TihuLGMpLHUuST0hMX1lbHNlIGU9TihuLGMpO3JldHVybiBpKGUsKGZ1bmN0aW9uKG4scil7dSYmYSh1LnQsbik9PT1yfHxmKGUsbix0KHIpKX0pKSwzPT09Yz9uZXcgU2V0KGUpOmV9KGUpfWZ1bmN0aW9uIE4odCxuKXtzd2l0Y2gobil7Y2FzZSAyOnJldHVybiBuZXcgTWFwKHQpO2Nhc2UgMzpyZXR1cm4gQXJyYXkuZnJvbSh0KX1yZXR1cm4gbCh0KX1mdW5jdGlvbiBUKCl7ZnVuY3Rpb24gcih0LG4pe3ZhciByPXNbdF07cmV0dXJuIHI/ci5lbnVtZXJhYmxlPW46c1t0XT1yPXtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTpuLGdldDpmdW5jdGlvbigpe3ZhciBuPXRoaXNbUV07cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmZihuKSxydC5nZXQobix0KX0sc2V0OmZ1bmN0aW9uKG4pe3ZhciByPXRoaXNbUV07XCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmZihyKSxydC5zZXQocix0LG4pfX0scn1mdW5jdGlvbiBlKHQpe2Zvcih2YXIgbj10Lmxlbmd0aC0xO24+PTA7bi0tKXt2YXIgcj10W25dW1FdO2lmKCFyLlApc3dpdGNoKHIuaSl7Y2FzZSA1OmEocikmJmsocik7YnJlYWs7Y2FzZSA0Om8ocikmJmsocil9fX1mdW5jdGlvbiBvKHQpe2Zvcih2YXIgbj10LnQscj10LmssZT1aKHIpLGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIG89ZVtpXTtpZihvIT09USl7dmFyIGE9bltvXTtpZih2b2lkIDA9PT1hJiYhdShuLG8pKXJldHVybiEwO3ZhciBmPXJbb10scz1mJiZmW1FdO2lmKHM/cy50IT09YTohYyhmLGEpKXJldHVybiEwfX12YXIgdj0hIW5bUV07cmV0dXJuIGUubGVuZ3RoIT09WihuKS5sZW5ndGgrKHY/MDoxKX1mdW5jdGlvbiBhKHQpe3ZhciBuPXQuaztpZihuLmxlbmd0aCE9PXQudC5sZW5ndGgpcmV0dXJuITA7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLG4ubGVuZ3RoLTEpO3JldHVybiEoIXJ8fHIuZ2V0KX1mdW5jdGlvbiBmKG4pe24uZyYmdCgzLEpTT04uc3RyaW5naWZ5KHAobikpKX12YXIgcz17fTttKFwiRVM1XCIse0o6ZnVuY3Rpb24odCxuKXt2YXIgZT1BcnJheS5pc0FycmF5KHQpLGk9ZnVuY3Rpb24odCxuKXtpZih0KXtmb3IodmFyIGU9QXJyYXkobi5sZW5ndGgpLGk9MDtpPG4ubGVuZ3RoO2krKylPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIlwiK2kscihpLCEwKSk7cmV0dXJuIGV9dmFyIG89dHQobik7ZGVsZXRlIG9bUV07Zm9yKHZhciB1PVoobyksYT0wO2E8dS5sZW5ndGg7YSsrKXt2YXIgZj11W2FdO29bZl09cihmLHR8fCEhb1tmXS5lbnVtZXJhYmxlKX1yZXR1cm4gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2Yobiksbyl9KGUsdCksbz17aTplPzU6NCxBOm4/bi5BOl8oKSxQOiExLEk6ITEsRDp7fSxsOm4sdDp0LGs6aSxvOm51bGwsZzohMSxDOiExfTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGksUSx7dmFsdWU6byx3cml0YWJsZTohMH0pLGl9LFM6ZnVuY3Rpb24odCxyLG8pe28/bihyKSYmcltRXS5BPT09dCYmZSh0LnApOih0LnUmJmZ1bmN0aW9uIHQobil7aWYobiYmXCJvYmplY3RcIj09dHlwZW9mIG4pe3ZhciByPW5bUV07aWYocil7dmFyIGU9ci50LG89ci5rLGY9ci5ELGM9ci5pO2lmKDQ9PT1jKWkobywoZnVuY3Rpb24obil7biE9PVEmJih2b2lkIDAhPT1lW25dfHx1KGUsbik/ZltuXXx8dChvW25dKTooZltuXT0hMCxrKHIpKSl9KSksaShlLChmdW5jdGlvbih0KXt2b2lkIDAhPT1vW3RdfHx1KG8sdCl8fChmW3RdPSExLGsocikpfSkpO2Vsc2UgaWYoNT09PWMpe2lmKGEocikmJihrKHIpLGYubGVuZ3RoPSEwKSxvLmxlbmd0aDxlLmxlbmd0aClmb3IodmFyIHM9by5sZW5ndGg7czxlLmxlbmd0aDtzKyspZltzXT0hMTtlbHNlIGZvcih2YXIgdj1lLmxlbmd0aDt2PG8ubGVuZ3RoO3YrKylmW3ZdPSEwO2Zvcih2YXIgcD1NYXRoLm1pbihvLmxlbmd0aCxlLmxlbmd0aCksbD0wO2w8cDtsKyspdm9pZCAwPT09ZltsXSYmdChvW2xdKX19fX0odC5wWzBdKSxlKHQucCkpfSxLOmZ1bmN0aW9uKHQpe3JldHVybiA0PT09dC5pP28odCk6YSh0KX19KX1mdW5jdGlvbiBGKCl7ZnVuY3Rpb24gZSh0KXtpZighcih0KSlyZXR1cm4gdDtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0Lm1hcChlKTtpZihzKHQpKXJldHVybiBuZXcgTWFwKEFycmF5LmZyb20odC5lbnRyaWVzKCkpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuW3RbMF0sZSh0WzFdKV19KSkpO2lmKHYodCkpcmV0dXJuIG5ldyBTZXQoQXJyYXkuZnJvbSh0KS5tYXAoZSkpO3ZhciBuPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpKTtmb3IodmFyIGkgaW4gdCluW2ldPWUodFtpXSk7cmV0dXJuIG59ZnVuY3Rpb24gZih0KXtyZXR1cm4gbih0KT9lKHQpOnR9dmFyIGM9XCJhZGRcIjttKFwiUGF0Y2hlc1wiLHskOmZ1bmN0aW9uKG4scil7cmV0dXJuIHIuZm9yRWFjaCgoZnVuY3Rpb24ocil7Zm9yKHZhciBpPXIucGF0aCx1PXIub3AsZj1uLHM9MDtzPGkubGVuZ3RoLTE7cysrKXt2YXIgdj1vKGYpLHA9aVtzXTswIT09diYmMSE9PXZ8fFwiX19wcm90b19fXCIhPT1wJiZcImNvbnN0cnVjdG9yXCIhPT1wfHx0KDI0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBmJiZcInByb3RvdHlwZVwiPT09cCYmdCgyNCksXCJvYmplY3RcIiE9dHlwZW9mKGY9YShmLHApKSYmdCgxNSxpLmpvaW4oXCIvXCIpKX12YXIgbD1vKGYpLGQ9ZShyLnZhbHVlKSxoPWlbaS5sZW5ndGgtMV07c3dpdGNoKHUpe2Nhc2VcInJlcGxhY2VcIjpzd2l0Y2gobCl7Y2FzZSAyOnJldHVybiBmLnNldChoLGQpO2Nhc2UgMzp0KDE2KTtkZWZhdWx0OnJldHVybiBmW2hdPWR9Y2FzZSBjOnN3aXRjaChsKXtjYXNlIDE6cmV0dXJuIGYuc3BsaWNlKGgsMCxkKTtjYXNlIDI6cmV0dXJuIGYuc2V0KGgsZCk7Y2FzZSAzOnJldHVybiBmLmFkZChkKTtkZWZhdWx0OnJldHVybiBmW2hdPWR9Y2FzZVwicmVtb3ZlXCI6c3dpdGNoKGwpe2Nhc2UgMTpyZXR1cm4gZi5zcGxpY2UoaCwxKTtjYXNlIDI6cmV0dXJuIGYuZGVsZXRlKGgpO2Nhc2UgMzpyZXR1cm4gZi5kZWxldGUoci52YWx1ZSk7ZGVmYXVsdDpyZXR1cm4gZGVsZXRlIGZbaF19ZGVmYXVsdDp0KDE3LHUpfX0pKSxufSxSOmZ1bmN0aW9uKHQsbixyLGUpe3N3aXRjaCh0Lmkpe2Nhc2UgMDpjYXNlIDQ6Y2FzZSAyOnJldHVybiBmdW5jdGlvbih0LG4scixlKXt2YXIgbz10LnQscz10Lm87aSh0LkQsKGZ1bmN0aW9uKHQsaSl7dmFyIHY9YShvLHQpLHA9YShzLHQpLGw9aT91KG8sdCk/XCJyZXBsYWNlXCI6YzpcInJlbW92ZVwiO2lmKHYhPT1wfHxcInJlcGxhY2VcIiE9PWwpe3ZhciBkPW4uY29uY2F0KHQpO3IucHVzaChcInJlbW92ZVwiPT09bD97b3A6bCxwYXRoOmR9OntvcDpsLHBhdGg6ZCx2YWx1ZTpwfSksZS5wdXNoKGw9PT1jP3tvcDpcInJlbW92ZVwiLHBhdGg6ZH06XCJyZW1vdmVcIj09PWw/e29wOmMscGF0aDpkLHZhbHVlOmYodil9OntvcDpcInJlcGxhY2VcIixwYXRoOmQsdmFsdWU6Zih2KX0pfX0pKX0odCxuLHIsZSk7Y2FzZSA1OmNhc2UgMTpyZXR1cm4gZnVuY3Rpb24odCxuLHIsZSl7dmFyIGk9dC50LG89dC5ELHU9dC5vO2lmKHUubGVuZ3RoPGkubGVuZ3RoKXt2YXIgYT1bdSxpXTtpPWFbMF0sdT1hWzFdO3ZhciBzPVtlLHJdO3I9c1swXSxlPXNbMV19Zm9yKHZhciB2PTA7djxpLmxlbmd0aDt2KyspaWYob1t2XSYmdVt2XSE9PWlbdl0pe3ZhciBwPW4uY29uY2F0KFt2XSk7ci5wdXNoKHtvcDpcInJlcGxhY2VcIixwYXRoOnAsdmFsdWU6Zih1W3ZdKX0pLGUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpwLHZhbHVlOmYoaVt2XSl9KX1mb3IodmFyIGw9aS5sZW5ndGg7bDx1Lmxlbmd0aDtsKyspe3ZhciBkPW4uY29uY2F0KFtsXSk7ci5wdXNoKHtvcDpjLHBhdGg6ZCx2YWx1ZTpmKHVbbF0pfSl9aS5sZW5ndGg8dS5sZW5ndGgmJmUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpuLmNvbmNhdChbXCJsZW5ndGhcIl0pLHZhbHVlOmkubGVuZ3RofSl9KHQsbixyLGUpO2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24odCxuLHIsZSl7dmFyIGk9dC50LG89dC5vLHU9MDtpLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKCFvLmhhcyh0KSl7dmFyIGk9bi5jb25jYXQoW3VdKTtyLnB1c2goe29wOlwicmVtb3ZlXCIscGF0aDppLHZhbHVlOnR9KSxlLnVuc2hpZnQoe29wOmMscGF0aDppLHZhbHVlOnR9KX11Kyt9KSksdT0wLG8uZm9yRWFjaCgoZnVuY3Rpb24odCl7aWYoIWkuaGFzKHQpKXt2YXIgbz1uLmNvbmNhdChbdV0pO3IucHVzaCh7b3A6YyxwYXRoOm8sdmFsdWU6dH0pLGUudW5zaGlmdCh7b3A6XCJyZW1vdmVcIixwYXRoOm8sdmFsdWU6dH0pfXUrK30pKX0odCxuLHIsZSl9fSxNOmZ1bmN0aW9uKHQsbixyLGUpe3IucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpbXSx2YWx1ZTpufSksZS5wdXNoKHtvcDpcInJlcGxhY2VcIixwYXRoOltdLHZhbHVlOnQudH0pfX0pfWZ1bmN0aW9uIEMoKXtmdW5jdGlvbiBuKHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1hKHQsbiksdC5wcm90b3R5cGU9KHIucHJvdG90eXBlPW4ucHJvdG90eXBlLG5ldyByKX1mdW5jdGlvbiBlKHQpe3Qub3x8KHQuRD1uZXcgTWFwLHQubz1uZXcgTWFwKHQudCkpfWZ1bmN0aW9uIG8odCl7dC5vfHwodC5vPW5ldyBTZXQsdC50LmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKHIobikpe3ZhciBlPVIodC5BLmgsbix0KTt0LnAuc2V0KG4sZSksdC5vLmFkZChlKX1lbHNlIHQuby5hZGQobil9KSkpfWZ1bmN0aW9uIHUobil7bi5nJiZ0KDMsSlNPTi5zdHJpbmdpZnkocChuKSkpfXZhciBhPWZ1bmN0aW9uKHQsbil7cmV0dXJuKGE9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsbil7dC5fX3Byb3RvX189bn18fGZ1bmN0aW9uKHQsbil7Zm9yKHZhciByIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09bltyXSl9KSh0LG4pfSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LG4pe3JldHVybiB0aGlzW1FdPXtpOjIsbDpuLEE6bj9uLkE6XygpLFA6ITEsSTohMSxvOnZvaWQgMCxEOnZvaWQgMCx0OnQsazp0aGlzLEM6ITEsZzohMX0sdGhpc31uKHQsTWFwKTt2YXIgbz10LnByb3RvdHlwZTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBwKHRoaXNbUV0pLnNpemV9fSksby5oYXM9ZnVuY3Rpb24odCl7cmV0dXJuIHAodGhpc1tRXSkuaGFzKHQpfSxvLnNldD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXNbUV07cmV0dXJuIHUocikscChyKS5oYXModCkmJnAocikuZ2V0KHQpPT09bnx8KGUociksayhyKSxyLkQuc2V0KHQsITApLHIuby5zZXQodCxuKSxyLkQuc2V0KHQsITApKSx0aGlzfSxvLmRlbGV0ZT1mdW5jdGlvbih0KXtpZighdGhpcy5oYXModCkpcmV0dXJuITE7dmFyIG49dGhpc1tRXTtyZXR1cm4gdShuKSxlKG4pLGsobiksbi5ELnNldCh0LCExKSxuLm8uZGVsZXRlKHQpLCEwfSxvLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1tRXTt1KHQpLHAodCkuc2l6ZSYmKGUodCksayh0KSx0LkQ9bmV3IE1hcCxpKHQudCwoZnVuY3Rpb24obil7dC5ELnNldChuLCExKX0pKSx0Lm8uY2xlYXIoKSl9LG8uZm9yRWFjaD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXM7cCh0aGlzW1FdKS5mb3JFYWNoKChmdW5jdGlvbihlLGkpe3QuY2FsbChuLHIuZ2V0KGkpLGkscil9KSl9LG8uZ2V0PWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXNbUV07dShuKTt2YXIgaT1wKG4pLmdldCh0KTtpZihuLkl8fCFyKGkpKXJldHVybiBpO2lmKGkhPT1uLnQuZ2V0KHQpKXJldHVybiBpO3ZhciBvPVIobi5BLmgsaSxuKTtyZXR1cm4gZShuKSxuLm8uc2V0KHQsbyksb30sby5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpc1tRXSkua2V5cygpfSxvLnZhbHVlcz1mdW5jdGlvbigpe3ZhciB0LG49dGhpcyxyPXRoaXMua2V5cygpO3JldHVybih0PXt9KVtWXT1mdW5jdGlvbigpe3JldHVybiBuLnZhbHVlcygpfSx0Lm5leHQ9ZnVuY3Rpb24oKXt2YXIgdD1yLm5leHQoKTtyZXR1cm4gdC5kb25lP3Q6e2RvbmU6ITEsdmFsdWU6bi5nZXQodC52YWx1ZSl9fSx0fSxvLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXMscj10aGlzLmtleXMoKTtyZXR1cm4odD17fSlbVl09ZnVuY3Rpb24oKXtyZXR1cm4gbi5lbnRyaWVzKCl9LHQubmV4dD1mdW5jdGlvbigpe3ZhciB0PXIubmV4dCgpO2lmKHQuZG9uZSlyZXR1cm4gdDt2YXIgZT1uLmdldCh0LnZhbHVlKTtyZXR1cm57ZG9uZTohMSx2YWx1ZTpbdC52YWx1ZSxlXX19LHR9LG9bVl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbnRyaWVzKCl9LHR9KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gdGhpc1tRXT17aTozLGw6bixBOm4/bi5BOl8oKSxQOiExLEk6ITEsbzp2b2lkIDAsdDp0LGs6dGhpcyxwOm5ldyBNYXAsZzohMSxDOiExfSx0aGlzfW4odCxTZXQpO3ZhciByPXQucHJvdG90eXBlO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkocixcInNpemVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHAodGhpc1tRXSkuc2l6ZX19KSxyLmhhcz1mdW5jdGlvbih0KXt2YXIgbj10aGlzW1FdO3JldHVybiB1KG4pLG4ubz8hIW4uby5oYXModCl8fCEoIW4ucC5oYXModCl8fCFuLm8uaGFzKG4ucC5nZXQodCkpKTpuLnQuaGFzKHQpfSxyLmFkZD1mdW5jdGlvbih0KXt2YXIgbj10aGlzW1FdO3JldHVybiB1KG4pLHRoaXMuaGFzKHQpfHwobyhuKSxrKG4pLG4uby5hZGQodCkpLHRoaXN9LHIuZGVsZXRlPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmhhcyh0KSlyZXR1cm4hMTt2YXIgbj10aGlzW1FdO3JldHVybiB1KG4pLG8obiksayhuKSxuLm8uZGVsZXRlKHQpfHwhIW4ucC5oYXModCkmJm4uby5kZWxldGUobi5wLmdldCh0KSl9LHIuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzW1FdO3UodCkscCh0KS5zaXplJiYobyh0KSxrKHQpLHQuby5jbGVhcigpKX0sci52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzW1FdO3JldHVybiB1KHQpLG8odCksdC5vLnZhbHVlcygpfSxyLmVudHJpZXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzW1FdO3JldHVybiB1KHQpLG8odCksdC5vLmVudHJpZXMoKX0sci5rZXlzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzKCl9LHJbVl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXMoKX0sci5mb3JFYWNoPWZ1bmN0aW9uKHQsbil7Zm9yKHZhciByPXRoaXMudmFsdWVzKCksZT1yLm5leHQoKTshZS5kb25lOyl0LmNhbGwobixlLnZhbHVlLGUudmFsdWUsdGhpcyksZT1yLm5leHQoKX0sdH0oKTttKFwiTWFwU2V0XCIse1Q6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IGYodCxuKX0sRjpmdW5jdGlvbih0LG4pe3JldHVybiBuZXcgYyh0LG4pfX0pfWZ1bmN0aW9uIEooKXtUKCksQygpLEYoKX1mdW5jdGlvbiBLKHQpe3JldHVybiB0fWZ1bmN0aW9uICQodCl7cmV0dXJuIHR9dmFyIEcsVSxXPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2woXCJ4XCIpLFg9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIE1hcCxxPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBTZXQsQj1cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJveHkmJnZvaWQgMCE9PVByb3h5LnJldm9jYWJsZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QsSD1XP1N5bWJvbC5mb3IoXCJpbW1lci1ub3RoaW5nXCIpOigoRz17fSlbXCJpbW1lci1ub3RoaW5nXCJdPSEwLEcpLEw9Vz9TeW1ib2wuZm9yKFwiaW1tZXItZHJhZnRhYmxlXCIpOlwiX18kaW1tZXJfZHJhZnRhYmxlXCIsUT1XP1N5bWJvbC5mb3IoXCJpbW1lci1zdGF0ZVwiKTpcIl9fJGltbWVyX3N0YXRlXCIsVj1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3J8fFwiQEBpdGVyYXRvclwiLFk9ezA6XCJJbGxlZ2FsIHN0YXRlXCIsMTpcIkltbWVyIGRyYWZ0cyBjYW5ub3QgaGF2ZSBjb21wdXRlZCBwcm9wZXJ0aWVzXCIsMjpcIlRoaXMgb2JqZWN0IGhhcyBiZWVuIGZyb3plbiBhbmQgc2hvdWxkIG5vdCBiZSBtdXRhdGVkXCIsMzpmdW5jdGlvbih0KXtyZXR1cm5cIkNhbm5vdCB1c2UgYSBwcm94eSB0aGF0IGhhcyBiZWVuIHJldm9rZWQuIERpZCB5b3UgcGFzcyBhbiBvYmplY3QgZnJvbSBpbnNpZGUgYW4gaW1tZXIgZnVuY3Rpb24gdG8gYW4gYXN5bmMgcHJvY2Vzcz8gXCIrdH0sNDpcIkFuIGltbWVyIHByb2R1Y2VyIHJldHVybmVkIGEgbmV3IHZhbHVlICphbmQqIG1vZGlmaWVkIGl0cyBkcmFmdC4gRWl0aGVyIHJldHVybiBhIG5ldyB2YWx1ZSAqb3IqIG1vZGlmeSB0aGUgZHJhZnQuXCIsNTpcIkltbWVyIGZvcmJpZHMgY2lyY3VsYXIgcmVmZXJlbmNlc1wiLDY6XCJUaGUgZmlyc3Qgb3Igc2Vjb25kIGFyZ3VtZW50IHRvIGBwcm9kdWNlYCBtdXN0IGJlIGEgZnVuY3Rpb25cIiw3OlwiVGhlIHRoaXJkIGFyZ3VtZW50IHRvIGBwcm9kdWNlYCBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgdW5kZWZpbmVkXCIsODpcIkZpcnN0IGFyZ3VtZW50IHRvIGBjcmVhdGVEcmFmdGAgbXVzdCBiZSBhIHBsYWluIG9iamVjdCwgYW4gYXJyYXksIG9yIGFuIGltbWVyYWJsZSBvYmplY3RcIiw5OlwiRmlyc3QgYXJndW1lbnQgdG8gYGZpbmlzaERyYWZ0YCBtdXN0IGJlIGEgZHJhZnQgcmV0dXJuZWQgYnkgYGNyZWF0ZURyYWZ0YFwiLDEwOlwiVGhlIGdpdmVuIGRyYWZ0IGlzIGFscmVhZHkgZmluYWxpemVkXCIsMTE6XCJPYmplY3QuZGVmaW5lUHJvcGVydHkoKSBjYW5ub3QgYmUgdXNlZCBvbiBhbiBJbW1lciBkcmFmdFwiLDEyOlwiT2JqZWN0LnNldFByb3RvdHlwZU9mKCkgY2Fubm90IGJlIHVzZWQgb24gYW4gSW1tZXIgZHJhZnRcIiwxMzpcIkltbWVyIG9ubHkgc3VwcG9ydHMgZGVsZXRpbmcgYXJyYXkgaW5kaWNlc1wiLDE0OlwiSW1tZXIgb25seSBzdXBwb3J0cyBzZXR0aW5nIGFycmF5IGluZGljZXMgYW5kIHRoZSAnbGVuZ3RoJyBwcm9wZXJ0eVwiLDE1OmZ1bmN0aW9uKHQpe3JldHVyblwiQ2Fubm90IGFwcGx5IHBhdGNoLCBwYXRoIGRvZXNuJ3QgcmVzb2x2ZTogXCIrdH0sMTY6J1NldHMgY2Fubm90IGhhdmUgXCJyZXBsYWNlXCIgcGF0Y2hlcy4nLDE3OmZ1bmN0aW9uKHQpe3JldHVyblwiVW5zdXBwb3J0ZWQgcGF0Y2ggb3BlcmF0aW9uOiBcIit0fSwxODpmdW5jdGlvbih0KXtyZXR1cm5cIlRoZSBwbHVnaW4gZm9yICdcIit0K1wiJyBoYXMgbm90IGJlZW4gbG9hZGVkIGludG8gSW1tZXIuIFRvIGVuYWJsZSB0aGUgcGx1Z2luLCBpbXBvcnQgYW5kIGNhbGwgYGVuYWJsZVwiK3QrXCIoKWAgd2hlbiBpbml0aWFsaXppbmcgeW91ciBhcHBsaWNhdGlvbi5cIn0sMjA6XCJDYW5ub3QgdXNlIHByb3hpZXMgaWYgUHJveHksIFByb3h5LnJldm9jYWJsZSBvciBSZWZsZWN0IGFyZSBub3QgYXZhaWxhYmxlXCIsMjE6ZnVuY3Rpb24odCl7cmV0dXJuXCJwcm9kdWNlIGNhbiBvbmx5IGJlIGNhbGxlZCBvbiB0aGluZ3MgdGhhdCBhcmUgZHJhZnRhYmxlOiBwbGFpbiBvYmplY3RzLCBhcnJheXMsIE1hcCwgU2V0IG9yIGNsYXNzZXMgdGhhdCBhcmUgbWFya2VkIHdpdGggJ1tpbW1lcmFibGVdOiB0cnVlJy4gR290ICdcIit0K1wiJ1wifSwyMjpmdW5jdGlvbih0KXtyZXR1cm5cIidjdXJyZW50JyBleHBlY3RzIGEgZHJhZnQsIGdvdDogXCIrdH0sMjM6ZnVuY3Rpb24odCl7cmV0dXJuXCInb3JpZ2luYWwnIGV4cGVjdHMgYSBkcmFmdCwgZ290OiBcIit0fSwyNDpcIlBhdGNoaW5nIHJlc2VydmVkIGF0dHJpYnV0ZXMgbGlrZSBfX3Byb3RvX18sIHByb3RvdHlwZSBhbmQgY29uc3RydWN0b3IgaXMgbm90IGFsbG93ZWRcIn0sWj1cInVuZGVmaW5lZFwiIT10eXBlb2YgUmVmbGVjdCYmUmVmbGVjdC5vd25LZXlzP1JlZmxlY3Qub3duS2V5czp2b2lkIDAhPT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP2Z1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KSl9Ok9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzLHR0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzfHxmdW5jdGlvbih0KXt2YXIgbj17fTtyZXR1cm4gWih0KS5mb3JFYWNoKChmdW5jdGlvbihyKXtuW3JdPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKX0pKSxufSxudD17fSxydD17Z2V0OmZ1bmN0aW9uKHQsbil7aWYobj09PVEpcmV0dXJuIHQ7dmFyIGU9cCh0KTtpZighdShlLG4pKXJldHVybiBmdW5jdGlvbih0LG4scil7dmFyIGUsaT1JKG4scik7cmV0dXJuIGk/XCJ2YWx1ZVwiaW4gaT9pLnZhbHVlOm51bGw9PT0oZT1pLmdldCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbCh0LmspOnZvaWQgMH0odCxlLG4pO3ZhciBpPWVbbl07cmV0dXJuIHQuSXx8IXIoaSk/aTppPT09eih0LnQsbik/KEUodCksdC5vW25dPVIodC5BLmgsaSx0KSk6aX0saGFzOmZ1bmN0aW9uKHQsbil7cmV0dXJuIG4gaW4gcCh0KX0sb3duS2V5czpmdW5jdGlvbih0KXtyZXR1cm4gUmVmbGVjdC5vd25LZXlzKHAodCkpfSxzZXQ6ZnVuY3Rpb24odCxuLHIpe3ZhciBlPUkocCh0KSxuKTtpZihudWxsPT1lP3ZvaWQgMDplLnNldClyZXR1cm4gZS5zZXQuY2FsbCh0LmssciksITA7aWYoIXQuUCl7dmFyIGk9eihwKHQpLG4pLG89bnVsbD09aT92b2lkIDA6aVtRXTtpZihvJiZvLnQ9PT1yKXJldHVybiB0Lm9bbl09cix0LkRbbl09ITEsITA7aWYoYyhyLGkpJiYodm9pZCAwIT09cnx8dSh0LnQsbikpKXJldHVybiEwO0UodCksayh0KX1yZXR1cm4gdC5vW25dPXIsdC5EW25dPSEwLCEwfSxkZWxldGVQcm9wZXJ0eTpmdW5jdGlvbih0LG4pe3JldHVybiB2b2lkIDAhPT16KHQudCxuKXx8biBpbiB0LnQ/KHQuRFtuXT0hMSxFKHQpLGsodCkpOmRlbGV0ZSB0LkRbbl0sdC5vJiZkZWxldGUgdC5vW25dLCEwfSxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ZnVuY3Rpb24odCxuKXt2YXIgcj1wKHQpLGU9UmVmbGVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixuKTtyZXR1cm4gZT97d3JpdGFibGU6ITAsY29uZmlndXJhYmxlOjEhPT10Lml8fFwibGVuZ3RoXCIhPT1uLGVudW1lcmFibGU6ZS5lbnVtZXJhYmxlLHZhbHVlOnJbbl19OmV9LGRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKCl7dCgxMSl9LGdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodC50KX0sc2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24oKXt0KDEyKX19LGV0PXt9O2kocnQsKGZ1bmN0aW9uKHQsbil7ZXRbdF09ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzWzBdPWFyZ3VtZW50c1swXVswXSxuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSksZXQuZGVsZXRlUHJvcGVydHk9ZnVuY3Rpb24obixyKXtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZpc05hTihwYXJzZUludChyKSkmJnQoMTMpLHJ0LmRlbGV0ZVByb3BlcnR5LmNhbGwodGhpcyxuWzBdLHIpfSxldC5zZXQ9ZnVuY3Rpb24obixyLGUpe3JldHVyblwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJlwibGVuZ3RoXCIhPT1yJiZpc05hTihwYXJzZUludChyKSkmJnQoMTQpLHJ0LnNldC5jYWxsKHRoaXMsblswXSxyLGUsblswXSl9O3ZhciBpdD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dGhpcy5PPUIsdGhpcy5OPSEwLFwiYm9vbGVhblwiPT10eXBlb2YobnVsbD09dD92b2lkIDA6dC51c2VQcm94aWVzKSYmdGhpcy5zZXRVc2VQcm94aWVzKHQudXNlUHJveGllcyksXCJib29sZWFuXCI9PXR5cGVvZihudWxsPT10P3ZvaWQgMDp0LmF1dG9GcmVlemUpJiZ0aGlzLnNldEF1dG9GcmVlemUodC5hdXRvRnJlZXplKSx0aGlzLnByb2R1Y2U9dGhpcy5wcm9kdWNlLmJpbmQodGhpcyksdGhpcy5wcm9kdWNlV2l0aFBhdGNoZXM9dGhpcy5wcm9kdWNlV2l0aFBhdGNoZXMuYmluZCh0aGlzKX12YXIgaT1lLnByb3RvdHlwZTtyZXR1cm4gaS5wcm9kdWNlPWZ1bmN0aW9uKG4sZSxpKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXt2YXIgbz1lO2U9bjt2YXIgdT10aGlzO3JldHVybiBmdW5jdGlvbih0KXt2YXIgbj10aGlzO3ZvaWQgMD09PXQmJih0PW8pO2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLGk9QXJyYXkocj4xP3ItMTowKSxhPTE7YTxyO2ErKylpW2EtMV09YXJndW1lbnRzW2FdO3JldHVybiB1LnByb2R1Y2UodCwoZnVuY3Rpb24odCl7dmFyIHI7cmV0dXJuKHI9ZSkuY2FsbC5hcHBseShyLFtuLHRdLmNvbmNhdChpKSl9KSl9fXZhciBhO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJnQoNiksdm9pZCAwIT09aSYmXCJmdW5jdGlvblwiIT10eXBlb2YgaSYmdCg3KSxyKG4pKXt2YXIgZj1PKHRoaXMpLGM9Uih0aGlzLG4sdm9pZCAwKSxzPSEwO3RyeXthPWUoYykscz0hMX1maW5hbGx5e3M/ZyhmKTp3KGYpfXJldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBQcm9taXNlJiZhIGluc3RhbmNlb2YgUHJvbWlzZT9hLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBqKGYsaSksUCh0LGYpfSksKGZ1bmN0aW9uKHQpe3Rocm93IGcoZiksdH0pKTooaihmLGkpLFAoYSxmKSl9aWYoIW58fFwib2JqZWN0XCIhPXR5cGVvZiBuKXtpZigoYT1lKG4pKT09PUgpcmV0dXJuO3JldHVybiB2b2lkIDA9PT1hJiYoYT1uKSx0aGlzLk4mJmQoYSwhMCksYX10KDIxLG4pfSxpLnByb2R1Y2VXaXRoUGF0Y2hlcz1mdW5jdGlvbih0LG4pe3ZhciByLGUsaT10aGlzO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZnVuY3Rpb24obil7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheShyPjE/ci0xOjApLG89MTtvPHI7bysrKWVbby0xXT1hcmd1bWVudHNbb107cmV0dXJuIGkucHJvZHVjZVdpdGhQYXRjaGVzKG4sKGZ1bmN0aW9uKG4pe3JldHVybiB0LmFwcGx5KHZvaWQgMCxbbl0uY29uY2F0KGUpKX0pKX06W3RoaXMucHJvZHVjZSh0LG4sKGZ1bmN0aW9uKHQsbil7cj10LGU9bn0pKSxyLGVdfSxpLmNyZWF0ZURyYWZ0PWZ1bmN0aW9uKGUpe3IoZSl8fHQoOCksbihlKSYmKGU9RChlKSk7dmFyIGk9Tyh0aGlzKSxvPVIodGhpcyxlLHZvaWQgMCk7cmV0dXJuIG9bUV0uQz0hMCx3KGkpLG99LGkuZmluaXNoRHJhZnQ9ZnVuY3Rpb24obixyKXt2YXIgZT1uJiZuW1FdO1wicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJihlJiZlLkN8fHQoOSksZS5JJiZ0KDEwKSk7dmFyIGk9ZS5BO3JldHVybiBqKGksciksUCh2b2lkIDAsaSl9LGkuc2V0QXV0b0ZyZWV6ZT1mdW5jdGlvbih0KXt0aGlzLk49dH0saS5zZXRVc2VQcm94aWVzPWZ1bmN0aW9uKG4pe24mJiFCJiZ0KDIwKSx0aGlzLk89bn0saS5hcHBseVBhdGNoZXM9ZnVuY3Rpb24odCxyKXt2YXIgZTtmb3IoZT1yLmxlbmd0aC0xO2U+PTA7ZS0tKXt2YXIgaT1yW2VdO2lmKDA9PT1pLnBhdGgubGVuZ3RoJiZcInJlcGxhY2VcIj09PWkub3Ape3Q9aS52YWx1ZTticmVha319dmFyIG89YihcIlBhdGNoZXNcIikuJDtyZXR1cm4gbih0KT9vKHQscik6dGhpcy5wcm9kdWNlKHQsKGZ1bmN0aW9uKHQpe3JldHVybiBvKHQsci5zbGljZShlKzEpKX0pKX0sZX0oKSxvdD1uZXcgaXQsdXQ9b3QucHJvZHVjZSxhdD1vdC5wcm9kdWNlV2l0aFBhdGNoZXMuYmluZChvdCksZnQ9b3Quc2V0QXV0b0ZyZWV6ZS5iaW5kKG90KSxjdD1vdC5zZXRVc2VQcm94aWVzLmJpbmQob3QpLHN0PW90LmFwcGx5UGF0Y2hlcy5iaW5kKG90KSx2dD1vdC5jcmVhdGVEcmFmdC5iaW5kKG90KSxwdD1vdC5maW5pc2hEcmFmdC5iaW5kKG90KTtleHBvcnQgZGVmYXVsdCB1dDtleHBvcnR7aXQgYXMgSW1tZXIsc3QgYXMgYXBwbHlQYXRjaGVzLEsgYXMgY2FzdERyYWZ0LCQgYXMgY2FzdEltbXV0YWJsZSx2dCBhcyBjcmVhdGVEcmFmdCxEIGFzIGN1cnJlbnQsSiBhcyBlbmFibGVBbGxQbHVnaW5zLFQgYXMgZW5hYmxlRVM1LEMgYXMgZW5hYmxlTWFwU2V0LEYgYXMgZW5hYmxlUGF0Y2hlcyxwdCBhcyBmaW5pc2hEcmFmdCxkIGFzIGZyZWV6ZSxMIGFzIGltbWVyYWJsZSxuIGFzIGlzRHJhZnQsciBhcyBpc0RyYWZ0YWJsZSxIIGFzIG5vdGhpbmcsZSBhcyBvcmlnaW5hbCx1dCBhcyBwcm9kdWNlLGF0IGFzIHByb2R1Y2VXaXRoUGF0Y2hlcyxmdCBhcyBzZXRBdXRvRnJlZXplLGN0IGFzIHNldFVzZVByb3hpZXN9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1tZXIuZXNtLmpzLm1hcFxuIiwiaW1wb3J0ICQkb2JzZXJ2YWJsZSBmcm9tICdzeW1ib2wtb2JzZXJ2YWJsZSc7XG5cbi8qKlxuICogVGhlc2UgYXJlIHByaXZhdGUgYWN0aW9uIHR5cGVzIHJlc2VydmVkIGJ5IFJlZHV4LlxuICogRm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHlvdSBtdXN0IHJldHVybiB0aGUgY3VycmVudCBzdGF0ZS5cbiAqIElmIHRoZSBjdXJyZW50IHN0YXRlIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLlxuICogRG8gbm90IHJlZmVyZW5jZSB0aGVzZSBhY3Rpb24gdHlwZXMgZGlyZWN0bHkgaW4geW91ciBjb2RlLlxuICovXG52YXIgcmFuZG9tU3RyaW5nID0gZnVuY3Rpb24gcmFuZG9tU3RyaW5nKCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDcpLnNwbGl0KCcnKS5qb2luKCcuJyk7XG59O1xuXG52YXIgQWN0aW9uVHlwZXMgPSB7XG4gIElOSVQ6IFwiQEByZWR1eC9JTklUXCIgKyByYW5kb21TdHJpbmcoKSxcbiAgUkVQTEFDRTogXCJAQHJlZHV4L1JFUExBQ0VcIiArIHJhbmRvbVN0cmluZygpLFxuICBQUk9CRV9VTktOT1dOX0FDVElPTjogZnVuY3Rpb24gUFJPQkVfVU5LTk9XTl9BQ1RJT04oKSB7XG4gICAgcmV0dXJuIFwiQEByZWR1eC9QUk9CRV9VTktOT1dOX0FDVElPTlwiICsgcmFuZG9tU3RyaW5nKCk7XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHthbnl9IG9iaiBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYXJndW1lbnQgYXBwZWFycyB0byBiZSBhIHBsYWluIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICB2YXIgcHJvdG8gPSBvYmo7XG5cbiAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykgIT09IG51bGwpIHtcbiAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikgPT09IHByb3RvO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBSZWR1eCBzdG9yZSB0aGF0IGhvbGRzIHRoZSBzdGF0ZSB0cmVlLlxuICogVGhlIG9ubHkgd2F5IHRvIGNoYW5nZSB0aGUgZGF0YSBpbiB0aGUgc3RvcmUgaXMgdG8gY2FsbCBgZGlzcGF0Y2goKWAgb24gaXQuXG4gKlxuICogVGhlcmUgc2hvdWxkIG9ubHkgYmUgYSBzaW5nbGUgc3RvcmUgaW4geW91ciBhcHAuIFRvIHNwZWNpZnkgaG93IGRpZmZlcmVudFxuICogcGFydHMgb2YgdGhlIHN0YXRlIHRyZWUgcmVzcG9uZCB0byBhY3Rpb25zLCB5b3UgbWF5IGNvbWJpbmUgc2V2ZXJhbCByZWR1Y2Vyc1xuICogaW50byBhIHNpbmdsZSByZWR1Y2VyIGZ1bmN0aW9uIGJ5IHVzaW5nIGBjb21iaW5lUmVkdWNlcnNgLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZXIgQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIG5leHQgc3RhdGUgdHJlZSwgZ2l2ZW5cbiAqIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBhY3Rpb24gdG8gaGFuZGxlLlxuICpcbiAqIEBwYXJhbSB7YW55fSBbcHJlbG9hZGVkU3RhdGVdIFRoZSBpbml0aWFsIHN0YXRlLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gaHlkcmF0ZSB0aGUgc3RhdGUgZnJvbSB0aGUgc2VydmVyIGluIHVuaXZlcnNhbCBhcHBzLCBvciB0byByZXN0b3JlIGFcbiAqIHByZXZpb3VzbHkgc2VyaWFsaXplZCB1c2VyIHNlc3Npb24uXG4gKiBJZiB5b3UgdXNlIGBjb21iaW5lUmVkdWNlcnNgIHRvIHByb2R1Y2UgdGhlIHJvb3QgcmVkdWNlciBmdW5jdGlvbiwgdGhpcyBtdXN0IGJlXG4gKiBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzaGFwZSBhcyBgY29tYmluZVJlZHVjZXJzYCBrZXlzLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtlbmhhbmNlcl0gVGhlIHN0b3JlIGVuaGFuY2VyLiBZb3UgbWF5IG9wdGlvbmFsbHkgc3BlY2lmeSBpdFxuICogdG8gZW5oYW5jZSB0aGUgc3RvcmUgd2l0aCB0aGlyZC1wYXJ0eSBjYXBhYmlsaXRpZXMgc3VjaCBhcyBtaWRkbGV3YXJlLFxuICogdGltZSB0cmF2ZWwsIHBlcnNpc3RlbmNlLCBldGMuIFRoZSBvbmx5IHN0b3JlIGVuaGFuY2VyIHRoYXQgc2hpcHMgd2l0aCBSZWR1eFxuICogaXMgYGFwcGx5TWlkZGxld2FyZSgpYC5cbiAqXG4gKiBAcmV0dXJucyB7U3RvcmV9IEEgUmVkdXggc3RvcmUgdGhhdCBsZXRzIHlvdSByZWFkIHRoZSBzdGF0ZSwgZGlzcGF0Y2ggYWN0aW9uc1xuICogYW5kIHN1YnNjcmliZSB0byBjaGFuZ2VzLlxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZVN0b3JlKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBlbmhhbmNlcikge1xuICB2YXIgX3JlZjI7XG5cbiAgaWYgKHR5cGVvZiBwcmVsb2FkZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW5oYW5jZXIgPT09ICdmdW5jdGlvbicgfHwgdHlwZW9mIGVuaGFuY2VyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBhcmd1bWVudHNbM10gPT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0IGxvb2tzIGxpa2UgeW91IGFyZSBwYXNzaW5nIHNldmVyYWwgc3RvcmUgZW5oYW5jZXJzIHRvICcgKyAnY3JlYXRlU3RvcmUoKS4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkLiBJbnN0ZWFkLCBjb21wb3NlIHRoZW0gJyArICd0b2dldGhlciB0byBhIHNpbmdsZSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcHJlbG9hZGVkU3RhdGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVuaGFuY2VyID09PSAndW5kZWZpbmVkJykge1xuICAgIGVuaGFuY2VyID0gcHJlbG9hZGVkU3RhdGU7XG4gICAgcHJlbG9hZGVkU3RhdGUgPSB1bmRlZmluZWQ7XG4gIH1cblxuICBpZiAodHlwZW9mIGVuaGFuY2VyICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGVuaGFuY2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuaGFuY2VyKGNyZWF0ZVN0b3JlKShyZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIHJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSByZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgY3VycmVudFJlZHVjZXIgPSByZWR1Y2VyO1xuICB2YXIgY3VycmVudFN0YXRlID0gcHJlbG9hZGVkU3RhdGU7XG4gIHZhciBjdXJyZW50TGlzdGVuZXJzID0gW107XG4gIHZhciBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycztcbiAgdmFyIGlzRGlzcGF0Y2hpbmcgPSBmYWxzZTtcbiAgLyoqXG4gICAqIFRoaXMgbWFrZXMgYSBzaGFsbG93IGNvcHkgb2YgY3VycmVudExpc3RlbmVycyBzbyB3ZSBjYW4gdXNlXG4gICAqIG5leHRMaXN0ZW5lcnMgYXMgYSB0ZW1wb3JhcnkgbGlzdCB3aGlsZSBkaXNwYXRjaGluZy5cbiAgICpcbiAgICogVGhpcyBwcmV2ZW50cyBhbnkgYnVncyBhcm91bmQgY29uc3VtZXJzIGNhbGxpbmdcbiAgICogc3Vic2NyaWJlL3Vuc3Vic2NyaWJlIGluIHRoZSBtaWRkbGUgb2YgYSBkaXNwYXRjaC5cbiAgICovXG5cbiAgZnVuY3Rpb24gZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpIHtcbiAgICBpZiAobmV4dExpc3RlbmVycyA9PT0gY3VycmVudExpc3RlbmVycykge1xuICAgICAgbmV4dExpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMuc2xpY2UoKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFJlYWRzIHRoZSBzdGF0ZSB0cmVlIG1hbmFnZWQgYnkgdGhlIHN0b3JlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7YW55fSBUaGUgY3VycmVudCBzdGF0ZSB0cmVlIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZ2V0U3RhdGUoKSB7XG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG1heSBub3QgY2FsbCBzdG9yZS5nZXRTdGF0ZSgpIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gJyArICdUaGUgcmVkdWNlciBoYXMgYWxyZWFkeSByZWNlaXZlZCB0aGUgc3RhdGUgYXMgYW4gYXJndW1lbnQuICcgKyAnUGFzcyBpdCBkb3duIGZyb20gdGhlIHRvcCByZWR1Y2VyIGluc3RlYWQgb2YgcmVhZGluZyBpdCBmcm9tIHRoZSBzdG9yZS4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VycmVudFN0YXRlO1xuICB9XG4gIC8qKlxuICAgKiBBZGRzIGEgY2hhbmdlIGxpc3RlbmVyLiBJdCB3aWxsIGJlIGNhbGxlZCBhbnkgdGltZSBhbiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCxcbiAgICogYW5kIHNvbWUgcGFydCBvZiB0aGUgc3RhdGUgdHJlZSBtYXkgcG90ZW50aWFsbHkgaGF2ZSBjaGFuZ2VkLiBZb3UgbWF5IHRoZW5cbiAgICogY2FsbCBgZ2V0U3RhdGUoKWAgdG8gcmVhZCB0aGUgY3VycmVudCBzdGF0ZSB0cmVlIGluc2lkZSB0aGUgY2FsbGJhY2suXG4gICAqXG4gICAqIFlvdSBtYXkgY2FsbCBgZGlzcGF0Y2goKWAgZnJvbSBhIGNoYW5nZSBsaXN0ZW5lciwgd2l0aCB0aGUgZm9sbG93aW5nXG4gICAqIGNhdmVhdHM6XG4gICAqXG4gICAqIDEuIFRoZSBzdWJzY3JpcHRpb25zIGFyZSBzbmFwc2hvdHRlZCBqdXN0IGJlZm9yZSBldmVyeSBgZGlzcGF0Y2goKWAgY2FsbC5cbiAgICogSWYgeW91IHN1YnNjcmliZSBvciB1bnN1YnNjcmliZSB3aGlsZSB0aGUgbGlzdGVuZXJzIGFyZSBiZWluZyBpbnZva2VkLCB0aGlzXG4gICAqIHdpbGwgbm90IGhhdmUgYW55IGVmZmVjdCBvbiB0aGUgYGRpc3BhdGNoKClgIHRoYXQgaXMgY3VycmVudGx5IGluIHByb2dyZXNzLlxuICAgKiBIb3dldmVyLCB0aGUgbmV4dCBgZGlzcGF0Y2goKWAgY2FsbCwgd2hldGhlciBuZXN0ZWQgb3Igbm90LCB3aWxsIHVzZSBhIG1vcmVcbiAgICogcmVjZW50IHNuYXBzaG90IG9mIHRoZSBzdWJzY3JpcHRpb24gbGlzdC5cbiAgICpcbiAgICogMi4gVGhlIGxpc3RlbmVyIHNob3VsZCBub3QgZXhwZWN0IHRvIHNlZSBhbGwgc3RhdGUgY2hhbmdlcywgYXMgdGhlIHN0YXRlXG4gICAqIG1pZ2h0IGhhdmUgYmVlbiB1cGRhdGVkIG11bHRpcGxlIHRpbWVzIGR1cmluZyBhIG5lc3RlZCBgZGlzcGF0Y2goKWAgYmVmb3JlXG4gICAqIHRoZSBsaXN0ZW5lciBpcyBjYWxsZWQuIEl0IGlzLCBob3dldmVyLCBndWFyYW50ZWVkIHRoYXQgYWxsIHN1YnNjcmliZXJzXG4gICAqIHJlZ2lzdGVyZWQgYmVmb3JlIHRoZSBgZGlzcGF0Y2goKWAgc3RhcnRlZCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZSBsYXRlc3RcbiAgICogc3RhdGUgYnkgdGhlIHRpbWUgaXQgZXhpdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIEEgY2FsbGJhY2sgdG8gYmUgaW52b2tlZCBvbiBldmVyeSBkaXNwYXRjaC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBBIGZ1bmN0aW9uIHRvIHJlbW92ZSB0aGlzIGNoYW5nZSBsaXN0ZW5lci5cbiAgICovXG5cblxuICBmdW5jdGlvbiBzdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIHRoZSBsaXN0ZW5lciB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1lvdSBtYXkgbm90IGNhbGwgc3RvcmUuc3Vic2NyaWJlKCkgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ0lmIHlvdSB3b3VsZCBsaWtlIHRvIGJlIG5vdGlmaWVkIGFmdGVyIHRoZSBzdG9yZSBoYXMgYmVlbiB1cGRhdGVkLCBzdWJzY3JpYmUgZnJvbSBhICcgKyAnY29tcG9uZW50IGFuZCBpbnZva2Ugc3RvcmUuZ2V0U3RhdGUoKSBpbiB0aGUgY2FsbGJhY2sgdG8gYWNjZXNzIHRoZSBsYXRlc3Qgc3RhdGUuICcgKyAnU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL2FwaS1yZWZlcmVuY2Uvc3RvcmUjc3Vic2NyaWJlbGlzdGVuZXIgZm9yIG1vcmUgZGV0YWlscy4nKTtcbiAgICB9XG5cbiAgICB2YXIgaXNTdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCk7XG4gICAgbmV4dExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICBpZiAoIWlzU3Vic2NyaWJlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0Rpc3BhdGNoaW5nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG1heSBub3QgdW5zdWJzY3JpYmUgZnJvbSBhIHN0b3JlIGxpc3RlbmVyIHdoaWxlIHRoZSByZWR1Y2VyIGlzIGV4ZWN1dGluZy4gJyArICdTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvYXBpLXJlZmVyZW5jZS9zdG9yZSNzdWJzY3JpYmVsaXN0ZW5lciBmb3IgbW9yZSBkZXRhaWxzLicpO1xuICAgICAgfVxuXG4gICAgICBpc1N1YnNjcmliZWQgPSBmYWxzZTtcbiAgICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICAgIHZhciBpbmRleCA9IG5leHRMaXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcik7XG4gICAgICBuZXh0TGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICBjdXJyZW50TGlzdGVuZXJzID0gbnVsbDtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBEaXNwYXRjaGVzIGFuIGFjdGlvbi4gSXQgaXMgdGhlIG9ubHkgd2F5IHRvIHRyaWdnZXIgYSBzdGF0ZSBjaGFuZ2UuXG4gICAqXG4gICAqIFRoZSBgcmVkdWNlcmAgZnVuY3Rpb24sIHVzZWQgdG8gY3JlYXRlIHRoZSBzdG9yZSwgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGVcbiAgICogY3VycmVudCBzdGF0ZSB0cmVlIGFuZCB0aGUgZ2l2ZW4gYGFjdGlvbmAuIEl0cyByZXR1cm4gdmFsdWUgd2lsbFxuICAgKiBiZSBjb25zaWRlcmVkIHRoZSAqKm5leHQqKiBzdGF0ZSBvZiB0aGUgdHJlZSwgYW5kIHRoZSBjaGFuZ2UgbGlzdGVuZXJzXG4gICAqIHdpbGwgYmUgbm90aWZpZWQuXG4gICAqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9ubHkgc3VwcG9ydHMgcGxhaW4gb2JqZWN0IGFjdGlvbnMuIElmIHlvdSB3YW50IHRvXG4gICAqIGRpc3BhdGNoIGEgUHJvbWlzZSwgYW4gT2JzZXJ2YWJsZSwgYSB0aHVuaywgb3Igc29tZXRoaW5nIGVsc2UsIHlvdSBuZWVkIHRvXG4gICAqIHdyYXAgeW91ciBzdG9yZSBjcmVhdGluZyBmdW5jdGlvbiBpbnRvIHRoZSBjb3JyZXNwb25kaW5nIG1pZGRsZXdhcmUuIEZvclxuICAgKiBleGFtcGxlLCBzZWUgdGhlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBgcmVkdXgtdGh1bmtgIHBhY2thZ2UuIEV2ZW4gdGhlXG4gICAqIG1pZGRsZXdhcmUgd2lsbCBldmVudHVhbGx5IGRpc3BhdGNoIHBsYWluIG9iamVjdCBhY3Rpb25zIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWN0aW9uIEEgcGxhaW4gb2JqZWN0IHJlcHJlc2VudGluZyDigJx3aGF0IGNoYW5nZWTigJ0uIEl0IGlzXG4gICAqIGEgZ29vZCBpZGVhIHRvIGtlZXAgYWN0aW9ucyBzZXJpYWxpemFibGUgc28geW91IGNhbiByZWNvcmQgYW5kIHJlcGxheSB1c2VyXG4gICAqIHNlc3Npb25zLCBvciB1c2UgdGhlIHRpbWUgdHJhdmVsbGluZyBgcmVkdXgtZGV2dG9vbHNgLiBBbiBhY3Rpb24gbXVzdCBoYXZlXG4gICAqIGEgYHR5cGVgIHByb3BlcnR5IHdoaWNoIG1heSBub3QgYmUgYHVuZGVmaW5lZGAuIEl0IGlzIGEgZ29vZCBpZGVhIHRvIHVzZVxuICAgKiBzdHJpbmcgY29uc3RhbnRzIGZvciBhY3Rpb24gdHlwZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IEZvciBjb252ZW5pZW5jZSwgdGhlIHNhbWUgYWN0aW9uIG9iamVjdCB5b3UgZGlzcGF0Y2hlZC5cbiAgICpcbiAgICogTm90ZSB0aGF0LCBpZiB5b3UgdXNlIGEgY3VzdG9tIG1pZGRsZXdhcmUsIGl0IG1heSB3cmFwIGBkaXNwYXRjaCgpYCB0b1xuICAgKiByZXR1cm4gc29tZXRoaW5nIGVsc2UgKGZvciBleGFtcGxlLCBhIFByb21pc2UgeW91IGNhbiBhd2FpdCkuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2goYWN0aW9uKSB7XG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KGFjdGlvbikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtdXN0IGJlIHBsYWluIG9iamVjdHMuICcgKyAnVXNlIGN1c3RvbSBtaWRkbGV3YXJlIGZvciBhc3luYyBhY3Rpb25zLicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYWN0aW9uLnR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjdGlvbnMgbWF5IG5vdCBoYXZlIGFuIHVuZGVmaW5lZCBcInR5cGVcIiBwcm9wZXJ0eS4gJyArICdIYXZlIHlvdSBtaXNzcGVsbGVkIGEgY29uc3RhbnQ/Jyk7XG4gICAgfVxuXG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUmVkdWNlcnMgbWF5IG5vdCBkaXNwYXRjaCBhY3Rpb25zLicpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gdHJ1ZTtcbiAgICAgIGN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRSZWR1Y2VyKGN1cnJlbnRTdGF0ZSwgYWN0aW9uKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBsaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzID0gbmV4dExpc3RlbmVycztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV07XG4gICAgICBsaXN0ZW5lcigpO1xuICAgIH1cblxuICAgIHJldHVybiBhY3Rpb247XG4gIH1cbiAgLyoqXG4gICAqIFJlcGxhY2VzIHRoZSByZWR1Y2VyIGN1cnJlbnRseSB1c2VkIGJ5IHRoZSBzdG9yZSB0byBjYWxjdWxhdGUgdGhlIHN0YXRlLlxuICAgKlxuICAgKiBZb3UgbWlnaHQgbmVlZCB0aGlzIGlmIHlvdXIgYXBwIGltcGxlbWVudHMgY29kZSBzcGxpdHRpbmcgYW5kIHlvdSB3YW50IHRvXG4gICAqIGxvYWQgc29tZSBvZiB0aGUgcmVkdWNlcnMgZHluYW1pY2FsbHkuIFlvdSBtaWdodCBhbHNvIG5lZWQgdGhpcyBpZiB5b3VcbiAgICogaW1wbGVtZW50IGEgaG90IHJlbG9hZGluZyBtZWNoYW5pc20gZm9yIFJlZHV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0UmVkdWNlciBUaGUgcmVkdWNlciBmb3IgdGhlIHN0b3JlIHRvIHVzZSBpbnN0ZWFkLlxuICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICovXG5cblxuICBmdW5jdGlvbiByZXBsYWNlUmVkdWNlcihuZXh0UmVkdWNlcikge1xuICAgIGlmICh0eXBlb2YgbmV4dFJlZHVjZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIG5leHRSZWR1Y2VyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgY3VycmVudFJlZHVjZXIgPSBuZXh0UmVkdWNlcjsgLy8gVGhpcyBhY3Rpb24gaGFzIGEgc2ltaWxpYXIgZWZmZWN0IHRvIEFjdGlvblR5cGVzLklOSVQuXG4gICAgLy8gQW55IHJlZHVjZXJzIHRoYXQgZXhpc3RlZCBpbiBib3RoIHRoZSBuZXcgYW5kIG9sZCByb290UmVkdWNlclxuICAgIC8vIHdpbGwgcmVjZWl2ZSB0aGUgcHJldmlvdXMgc3RhdGUuIFRoaXMgZWZmZWN0aXZlbHkgcG9wdWxhdGVzXG4gICAgLy8gdGhlIG5ldyBzdGF0ZSB0cmVlIHdpdGggYW55IHJlbGV2YW50IGRhdGEgZnJvbSB0aGUgb2xkIG9uZS5cblxuICAgIGRpc3BhdGNoKHtcbiAgICAgIHR5cGU6IEFjdGlvblR5cGVzLlJFUExBQ0VcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSW50ZXJvcGVyYWJpbGl0eSBwb2ludCBmb3Igb2JzZXJ2YWJsZS9yZWFjdGl2ZSBsaWJyYXJpZXMuXG4gICAqIEByZXR1cm5zIHtvYnNlcnZhYmxlfSBBIG1pbmltYWwgb2JzZXJ2YWJsZSBvZiBzdGF0ZSBjaGFuZ2VzLlxuICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSBvYnNlcnZhYmxlIHByb3Bvc2FsOlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vdGMzOS9wcm9wb3NhbC1vYnNlcnZhYmxlXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gb2JzZXJ2YWJsZSgpIHtcbiAgICB2YXIgX3JlZjtcblxuICAgIHZhciBvdXRlclN1YnNjcmliZSA9IHN1YnNjcmliZTtcbiAgICByZXR1cm4gX3JlZiA9IHtcbiAgICAgIC8qKlxuICAgICAgICogVGhlIG1pbmltYWwgb2JzZXJ2YWJsZSBzdWJzY3JpcHRpb24gbWV0aG9kLlxuICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9ic2VydmVyIEFueSBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBhcyBhbiBvYnNlcnZlci5cbiAgICAgICAqIFRoZSBvYnNlcnZlciBvYmplY3Qgc2hvdWxkIGhhdmUgYSBgbmV4dGAgbWV0aG9kLlxuICAgICAgICogQHJldHVybnMge3N1YnNjcmlwdGlvbn0gQW4gb2JqZWN0IHdpdGggYW4gYHVuc3Vic2NyaWJlYCBtZXRob2QgdGhhdCBjYW5cbiAgICAgICAqIGJlIHVzZWQgdG8gdW5zdWJzY3JpYmUgdGhlIG9ic2VydmFibGUgZnJvbSB0aGUgc3RvcmUsIGFuZCBwcmV2ZW50IGZ1cnRoZXJcbiAgICAgICAqIGVtaXNzaW9uIG9mIHZhbHVlcyBmcm9tIHRoZSBvYnNlcnZhYmxlLlxuICAgICAgICovXG4gICAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZShvYnNlcnZlcikge1xuICAgICAgICBpZiAodHlwZW9mIG9ic2VydmVyICE9PSAnb2JqZWN0JyB8fCBvYnNlcnZlciA9PT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIHRoZSBvYnNlcnZlciB0byBiZSBhbiBvYmplY3QuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBvYnNlcnZlU3RhdGUoKSB7XG4gICAgICAgICAgaWYgKG9ic2VydmVyLm5leHQpIHtcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb2JzZXJ2ZVN0YXRlKCk7XG4gICAgICAgIHZhciB1bnN1YnNjcmliZSA9IG91dGVyU3Vic2NyaWJlKG9ic2VydmVTdGF0ZSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdW5zdWJzY3JpYmU6IHVuc3Vic2NyaWJlXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSwgX3JlZlskJG9ic2VydmFibGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgX3JlZjtcbiAgfSAvLyBXaGVuIGEgc3RvcmUgaXMgY3JlYXRlZCwgYW4gXCJJTklUXCIgYWN0aW9uIGlzIGRpc3BhdGNoZWQgc28gdGhhdCBldmVyeVxuICAvLyByZWR1Y2VyIHJldHVybnMgdGhlaXIgaW5pdGlhbCBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgLy8gdGhlIGluaXRpYWwgc3RhdGUgdHJlZS5cblxuXG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiBBY3Rpb25UeXBlcy5JTklUXG4gIH0pO1xuICByZXR1cm4gX3JlZjIgPSB7XG4gICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgIHN1YnNjcmliZTogc3Vic2NyaWJlLFxuICAgIGdldFN0YXRlOiBnZXRTdGF0ZSxcbiAgICByZXBsYWNlUmVkdWNlcjogcmVwbGFjZVJlZHVjZXJcbiAgfSwgX3JlZjJbJCRvYnNlcnZhYmxlXSA9IG9ic2VydmFibGUsIF9yZWYyO1xufVxuXG4vKipcbiAqIFByaW50cyBhIHdhcm5pbmcgaW4gdGhlIGNvbnNvbGUgaWYgaXQgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIFRoZSB3YXJuaW5nIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gd2FybmluZyhtZXNzYWdlKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZS5lcnJvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1jb25zb2xlICovXG5cblxuICB0cnkge1xuICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgaWYgeW91IGVuYWJsZVxuICAgIC8vIFwiYnJlYWsgb24gYWxsIGV4Y2VwdGlvbnNcIiBpbiB5b3VyIGNvbnNvbGUsXG4gICAgLy8gaXQgd291bGQgcGF1c2UgdGhlIGV4ZWN1dGlvbiBhdCB0aGlzIGxpbmUuXG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICB9IGNhdGNoIChlKSB7fSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG5cbn1cblxuZnVuY3Rpb24gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2Uoa2V5LCBhY3Rpb24pIHtcbiAgdmFyIGFjdGlvblR5cGUgPSBhY3Rpb24gJiYgYWN0aW9uLnR5cGU7XG4gIHZhciBhY3Rpb25EZXNjcmlwdGlvbiA9IGFjdGlvblR5cGUgJiYgXCJhY3Rpb24gXFxcIlwiICsgU3RyaW5nKGFjdGlvblR5cGUpICsgXCJcXFwiXCIgfHwgJ2FuIGFjdGlvbic7XG4gIHJldHVybiBcIkdpdmVuIFwiICsgYWN0aW9uRGVzY3JpcHRpb24gKyBcIiwgcmVkdWNlciBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkLiBcIiArIFwiVG8gaWdub3JlIGFuIGFjdGlvbiwgeW91IG11c3QgZXhwbGljaXRseSByZXR1cm4gdGhlIHByZXZpb3VzIHN0YXRlLiBcIiArIFwiSWYgeW91IHdhbnQgdGhpcyByZWR1Y2VyIHRvIGhvbGQgbm8gdmFsdWUsIHlvdSBjYW4gcmV0dXJuIG51bGwgaW5zdGVhZCBvZiB1bmRlZmluZWQuXCI7XG59XG5cbmZ1bmN0aW9uIGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2UoaW5wdXRTdGF0ZSwgcmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGFyZ3VtZW50TmFtZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gQWN0aW9uVHlwZXMuSU5JVCA/ICdwcmVsb2FkZWRTdGF0ZSBhcmd1bWVudCBwYXNzZWQgdG8gY3JlYXRlU3RvcmUnIDogJ3ByZXZpb3VzIHN0YXRlIHJlY2VpdmVkIGJ5IHRoZSByZWR1Y2VyJztcblxuICBpZiAocmVkdWNlcktleXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuICdTdG9yZSBkb2VzIG5vdCBoYXZlIGEgdmFsaWQgcmVkdWNlci4gTWFrZSBzdXJlIHRoZSBhcmd1bWVudCBwYXNzZWQgJyArICd0byBjb21iaW5lUmVkdWNlcnMgaXMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgcmVkdWNlcnMuJztcbiAgfVxuXG4gIGlmICghaXNQbGFpbk9iamVjdChpbnB1dFN0YXRlKSkge1xuICAgIHJldHVybiBcIlRoZSBcIiArIGFyZ3VtZW50TmFtZSArIFwiIGhhcyB1bmV4cGVjdGVkIHR5cGUgb2YgXFxcIlwiICsge30udG9TdHJpbmcuY2FsbChpbnB1dFN0YXRlKS5tYXRjaCgvXFxzKFthLXp8QS1aXSspLylbMV0gKyBcIlxcXCIuIEV4cGVjdGVkIGFyZ3VtZW50IHRvIGJlIGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgXCIgKyAoXCJrZXlzOiBcXFwiXCIgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArIFwiXFxcIlwiKTtcbiAgfVxuXG4gIHZhciB1bmV4cGVjdGVkS2V5cyA9IE9iamVjdC5rZXlzKGlucHV0U3RhdGUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICFyZWR1Y2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICF1bmV4cGVjdGVkS2V5Q2FjaGVba2V5XTtcbiAgfSk7XG4gIHVuZXhwZWN0ZWRLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldID0gdHJ1ZTtcbiAgfSk7XG4gIGlmIChhY3Rpb24gJiYgYWN0aW9uLnR5cGUgPT09IEFjdGlvblR5cGVzLlJFUExBQ0UpIHJldHVybjtcblxuICBpZiAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBcIlVuZXhwZWN0ZWQgXCIgKyAodW5leHBlY3RlZEtleXMubGVuZ3RoID4gMSA/ICdrZXlzJyA6ICdrZXknKSArIFwiIFwiICsgKFwiXFxcIlwiICsgdW5leHBlY3RlZEtleXMuam9pbignXCIsIFwiJykgKyBcIlxcXCIgZm91bmQgaW4gXCIgKyBhcmd1bWVudE5hbWUgKyBcIi4gXCIpICsgXCJFeHBlY3RlZCB0byBmaW5kIG9uZSBvZiB0aGUga25vd24gcmVkdWNlciBrZXlzIGluc3RlYWQ6IFwiICsgKFwiXFxcIlwiICsgcmVkdWNlcktleXMuam9pbignXCIsIFwiJykgKyBcIlxcXCIuIFVuZXhwZWN0ZWQga2V5cyB3aWxsIGJlIGlnbm9yZWQuXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFJlZHVjZXJTaGFwZShyZWR1Y2Vycykge1xuICBPYmplY3Qua2V5cyhyZWR1Y2VycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHJlZHVjZXIgPSByZWR1Y2Vyc1trZXldO1xuICAgIHZhciBpbml0aWFsU3RhdGUgPSByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuSU5JVFxuICAgIH0pO1xuXG4gICAgaWYgKHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWR1Y2VyIFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uLiBcIiArIFwiSWYgdGhlIHN0YXRlIHBhc3NlZCB0byB0aGUgcmVkdWNlciBpcyB1bmRlZmluZWQsIHlvdSBtdXN0IFwiICsgXCJleHBsaWNpdGx5IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZS4gVGhlIGluaXRpYWwgc3RhdGUgbWF5IFwiICsgXCJub3QgYmUgdW5kZWZpbmVkLiBJZiB5b3UgZG9uJ3Qgd2FudCB0byBzZXQgYSB2YWx1ZSBmb3IgdGhpcyByZWR1Y2VyLCBcIiArIFwieW91IGNhbiB1c2UgbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC5cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWR1Y2VyKHVuZGVmaW5lZCwge1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUFJPQkVfVU5LTk9XTl9BQ1RJT04oKVxuICAgIH0pID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVkdWNlciBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgcmV0dXJuZWQgdW5kZWZpbmVkIHdoZW4gcHJvYmVkIHdpdGggYSByYW5kb20gdHlwZS4gXCIgKyAoXCJEb24ndCB0cnkgdG8gaGFuZGxlIFwiICsgQWN0aW9uVHlwZXMuSU5JVCArIFwiIG9yIG90aGVyIGFjdGlvbnMgaW4gXFxcInJlZHV4LypcXFwiIFwiKSArIFwibmFtZXNwYWNlLiBUaGV5IGFyZSBjb25zaWRlcmVkIHByaXZhdGUuIEluc3RlYWQsIHlvdSBtdXN0IHJldHVybiB0aGUgXCIgKyBcImN1cnJlbnQgc3RhdGUgZm9yIGFueSB1bmtub3duIGFjdGlvbnMsIHVubGVzcyBpdCBpcyB1bmRlZmluZWQsIFwiICsgXCJpbiB3aGljaCBjYXNlIHlvdSBtdXN0IHJldHVybiB0aGUgaW5pdGlhbCBzdGF0ZSwgcmVnYXJkbGVzcyBvZiB0aGUgXCIgKyBcImFjdGlvbiB0eXBlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgbm90IGJlIHVuZGVmaW5lZCwgYnV0IGNhbiBiZSBudWxsLlwiKTtcbiAgICB9XG4gIH0pO1xufVxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBkaWZmZXJlbnQgcmVkdWNlciBmdW5jdGlvbnMsIGludG8gYSBzaW5nbGVcbiAqIHJlZHVjZXIgZnVuY3Rpb24uIEl0IHdpbGwgY2FsbCBldmVyeSBjaGlsZCByZWR1Y2VyLCBhbmQgZ2F0aGVyIHRoZWlyIHJlc3VsdHNcbiAqIGludG8gYSBzaW5nbGUgc3RhdGUgb2JqZWN0LCB3aG9zZSBrZXlzIGNvcnJlc3BvbmQgdG8gdGhlIGtleXMgb2YgdGhlIHBhc3NlZFxuICogcmVkdWNlciBmdW5jdGlvbnMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHJlZHVjZXJzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgY29ycmVzcG9uZCB0byBkaWZmZXJlbnRcbiAqIHJlZHVjZXIgZnVuY3Rpb25zIHRoYXQgbmVlZCB0byBiZSBjb21iaW5lZCBpbnRvIG9uZS4gT25lIGhhbmR5IHdheSB0byBvYnRhaW5cbiAqIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzIHJlZHVjZXJzYCBzeW50YXguIFRoZSByZWR1Y2VycyBtYXkgbmV2ZXIgcmV0dXJuXG4gKiB1bmRlZmluZWQgZm9yIGFueSBhY3Rpb24uIEluc3RlYWQsIHRoZXkgc2hvdWxkIHJldHVybiB0aGVpciBpbml0aWFsIHN0YXRlXG4gKiBpZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZW0gd2FzIHVuZGVmaW5lZCwgYW5kIHRoZSBjdXJyZW50IHN0YXRlIGZvciBhbnlcbiAqIHVucmVjb2duaXplZCBhY3Rpb24uXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHJlZHVjZXIgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGV2ZXJ5IHJlZHVjZXIgaW5zaWRlIHRoZVxuICogcGFzc2VkIG9iamVjdCwgYW5kIGJ1aWxkcyBhIHN0YXRlIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlLlxuICovXG5cblxuZnVuY3Rpb24gY29tYmluZVJlZHVjZXJzKHJlZHVjZXJzKSB7XG4gIHZhciByZWR1Y2VyS2V5cyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIGZpbmFsUmVkdWNlcnMgPSB7fTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZHVjZXJLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHJlZHVjZXJLZXlzW2ldO1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICh0eXBlb2YgcmVkdWNlcnNba2V5XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgd2FybmluZyhcIk5vIHJlZHVjZXIgcHJvdmlkZWQgZm9yIGtleSBcXFwiXCIgKyBrZXkgKyBcIlxcXCJcIik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmaW5hbFJlZHVjZXJzW2tleV0gPSByZWR1Y2Vyc1trZXldO1xuICAgIH1cbiAgfVxuXG4gIHZhciBmaW5hbFJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMoZmluYWxSZWR1Y2Vycyk7IC8vIFRoaXMgaXMgdXNlZCB0byBtYWtlIHN1cmUgd2UgZG9uJ3Qgd2FybiBhYm91dCB0aGUgc2FtZVxuICAvLyBrZXlzIG11bHRpcGxlIHRpbWVzLlxuXG4gIHZhciB1bmV4cGVjdGVkS2V5Q2FjaGU7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB1bmV4cGVjdGVkS2V5Q2FjaGUgPSB7fTtcbiAgfVxuXG4gIHZhciBzaGFwZUFzc2VydGlvbkVycm9yO1xuXG4gIHRyeSB7XG4gICAgYXNzZXJ0UmVkdWNlclNoYXBlKGZpbmFsUmVkdWNlcnMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgc2hhcGVBc3NlcnRpb25FcnJvciA9IGU7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gY29tYmluYXRpb24oc3RhdGUsIGFjdGlvbikge1xuICAgIGlmIChzdGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBzdGF0ZSA9IHt9O1xuICAgIH1cblxuICAgIGlmIChzaGFwZUFzc2VydGlvbkVycm9yKSB7XG4gICAgICB0aHJvdyBzaGFwZUFzc2VydGlvbkVycm9yO1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgd2FybmluZ01lc3NhZ2UgPSBnZXRVbmV4cGVjdGVkU3RhdGVTaGFwZVdhcm5pbmdNZXNzYWdlKHN0YXRlLCBmaW5hbFJlZHVjZXJzLCBhY3Rpb24sIHVuZXhwZWN0ZWRLZXlDYWNoZSk7XG5cbiAgICAgIGlmICh3YXJuaW5nTWVzc2FnZSkge1xuICAgICAgICB3YXJuaW5nKHdhcm5pbmdNZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgIHZhciBuZXh0U3RhdGUgPSB7fTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9rZXkgPSBmaW5hbFJlZHVjZXJLZXlzW19pXTtcbiAgICAgIHZhciByZWR1Y2VyID0gZmluYWxSZWR1Y2Vyc1tfa2V5XTtcbiAgICAgIHZhciBwcmV2aW91c1N0YXRlRm9yS2V5ID0gc3RhdGVbX2tleV07XG4gICAgICB2YXIgbmV4dFN0YXRlRm9yS2V5ID0gcmVkdWNlcihwcmV2aW91c1N0YXRlRm9yS2V5LCBhY3Rpb24pO1xuXG4gICAgICBpZiAodHlwZW9mIG5leHRTdGF0ZUZvcktleSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlKF9rZXksIGFjdGlvbik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgfVxuXG4gICAgICBuZXh0U3RhdGVbX2tleV0gPSBuZXh0U3RhdGVGb3JLZXk7XG4gICAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBuZXh0U3RhdGVGb3JLZXkgIT09IHByZXZpb3VzU3RhdGVGb3JLZXk7XG4gICAgfVxuXG4gICAgaGFzQ2hhbmdlZCA9IGhhc0NoYW5nZWQgfHwgZmluYWxSZWR1Y2VyS2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKHN0YXRlKS5sZW5ndGg7XG4gICAgcmV0dXJuIGhhc0NoYW5nZWQgPyBuZXh0U3RhdGUgOiBzdGF0ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvciwgZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZGlzcGF0Y2goYWN0aW9uQ3JlYXRvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfTtcbn1cbi8qKlxuICogVHVybnMgYW4gb2JqZWN0IHdob3NlIHZhbHVlcyBhcmUgYWN0aW9uIGNyZWF0b3JzLCBpbnRvIGFuIG9iamVjdCB3aXRoIHRoZVxuICogc2FtZSBrZXlzLCBidXQgd2l0aCBldmVyeSBmdW5jdGlvbiB3cmFwcGVkIGludG8gYSBgZGlzcGF0Y2hgIGNhbGwgc28gdGhleVxuICogbWF5IGJlIGludm9rZWQgZGlyZWN0bHkuIFRoaXMgaXMganVzdCBhIGNvbnZlbmllbmNlIG1ldGhvZCwgYXMgeW91IGNhbiBjYWxsXG4gKiBgc3RvcmUuZGlzcGF0Y2goTXlBY3Rpb25DcmVhdG9ycy5kb1NvbWV0aGluZygpKWAgeW91cnNlbGYganVzdCBmaW5lLlxuICpcbiAqIEZvciBjb252ZW5pZW5jZSwgeW91IGNhbiBhbHNvIHBhc3MgYW4gYWN0aW9uIGNyZWF0b3IgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LFxuICogYW5kIGdldCBhIGRpc3BhdGNoIHdyYXBwZWQgZnVuY3Rpb24gaW4gcmV0dXJuLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb258T2JqZWN0fSBhY3Rpb25DcmVhdG9ycyBBbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb25cbiAqIGNyZWF0b3IgZnVuY3Rpb25zLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpbiBpdCBpcyB0byB1c2UgRVM2IGBpbXBvcnQgKiBhc2BcbiAqIHN5bnRheC4gWW91IG1heSBhbHNvIHBhc3MgYSBzaW5nbGUgZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZGlzcGF0Y2ggVGhlIGBkaXNwYXRjaGAgZnVuY3Rpb24gYXZhaWxhYmxlIG9uIHlvdXIgUmVkdXhcbiAqIHN0b3JlLlxuICpcbiAqIEByZXR1cm5zIHtGdW5jdGlvbnxPYmplY3R9IFRoZSBvYmplY3QgbWltaWNraW5nIHRoZSBvcmlnaW5hbCBvYmplY3QsIGJ1dCB3aXRoXG4gKiBldmVyeSBhY3Rpb24gY3JlYXRvciB3cmFwcGVkIGludG8gdGhlIGBkaXNwYXRjaGAgY2FsbC4gSWYgeW91IHBhc3NlZCBhXG4gKiBmdW5jdGlvbiBhcyBgYWN0aW9uQ3JlYXRvcnNgLCB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYWxzbyBiZSBhIHNpbmdsZVxuICogZnVuY3Rpb24uXG4gKi9cblxuXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcnMoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKSB7XG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYmluZEFjdGlvbkNyZWF0b3IoYWN0aW9uQ3JlYXRvcnMsIGRpc3BhdGNoKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYWN0aW9uQ3JlYXRvcnMgIT09ICdvYmplY3QnIHx8IGFjdGlvbkNyZWF0b3JzID09PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiYmluZEFjdGlvbkNyZWF0b3JzIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLCBpbnN0ZWFkIHJlY2VpdmVkIFwiICsgKGFjdGlvbkNyZWF0b3JzID09PSBudWxsID8gJ251bGwnIDogdHlwZW9mIGFjdGlvbkNyZWF0b3JzKSArIFwiLiBcIiArIFwiRGlkIHlvdSB3cml0ZSBcXFwiaW1wb3J0IEFjdGlvbkNyZWF0b3JzIGZyb21cXFwiIGluc3RlYWQgb2YgXFxcImltcG9ydCAqIGFzIEFjdGlvbkNyZWF0b3JzIGZyb21cXFwiP1wiKTtcbiAgfVxuXG4gIHZhciBib3VuZEFjdGlvbkNyZWF0b3JzID0ge307XG5cbiAgZm9yICh2YXIga2V5IGluIGFjdGlvbkNyZWF0b3JzKSB7XG4gICAgdmFyIGFjdGlvbkNyZWF0b3IgPSBhY3Rpb25DcmVhdG9yc1trZXldO1xuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBib3VuZEFjdGlvbkNyZWF0b3JzW2tleV0gPSBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJvdW5kQWN0aW9uQ3JlYXRvcnM7XG59XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAga2V5cy5wdXNoLmFwcGx5KGtleXMsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KSk7XG4gIH1cblxuICBpZiAoZW51bWVyYWJsZU9ubHkpIGtleXMgPSBrZXlzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7XG4gIH0pO1xuICByZXR1cm4ga2V5cztcbn1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307XG5cbiAgICBpZiAoaSAlIDIpIHtcbiAgICAgIG93bktleXMoc291cmNlLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBDb21wb3NlcyBzaW5nbGUtYXJndW1lbnQgZnVuY3Rpb25zIGZyb20gcmlnaHQgdG8gbGVmdC4gVGhlIHJpZ2h0bW9zdFxuICogZnVuY3Rpb24gY2FuIHRha2UgbXVsdGlwbGUgYXJndW1lbnRzIGFzIGl0IHByb3ZpZGVzIHRoZSBzaWduYXR1cmUgZm9yXG4gKiB0aGUgcmVzdWx0aW5nIGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBmdW5jcyBUaGUgZnVuY3Rpb25zIHRvIGNvbXBvc2UuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gb2J0YWluZWQgYnkgY29tcG9zaW5nIHRoZSBhcmd1bWVudCBmdW5jdGlvbnNcbiAqIGZyb20gcmlnaHQgdG8gbGVmdC4gRm9yIGV4YW1wbGUsIGNvbXBvc2UoZiwgZywgaCkgaXMgaWRlbnRpY2FsIHRvIGRvaW5nXG4gKiAoLi4uYXJncykgPT4gZihnKGgoLi4uYXJncykpKS5cbiAqL1xuZnVuY3Rpb24gY29tcG9zZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGZ1bmNzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICByZXR1cm4gYXJnO1xuICAgIH07XG4gIH1cblxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIGZ1bmNzWzBdO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmNzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gYShiLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN0b3JlIGVuaGFuY2VyIHRoYXQgYXBwbGllcyBtaWRkbGV3YXJlIHRvIHRoZSBkaXNwYXRjaCBtZXRob2RcbiAqIG9mIHRoZSBSZWR1eCBzdG9yZS4gVGhpcyBpcyBoYW5keSBmb3IgYSB2YXJpZXR5IG9mIHRhc2tzLCBzdWNoIGFzIGV4cHJlc3NpbmdcbiAqIGFzeW5jaHJvbm91cyBhY3Rpb25zIGluIGEgY29uY2lzZSBtYW5uZXIsIG9yIGxvZ2dpbmcgZXZlcnkgYWN0aW9uIHBheWxvYWQuXG4gKlxuICogU2VlIGByZWR1eC10aHVua2AgcGFja2FnZSBhcyBhbiBleGFtcGxlIG9mIHRoZSBSZWR1eCBtaWRkbGV3YXJlLlxuICpcbiAqIEJlY2F1c2UgbWlkZGxld2FyZSBpcyBwb3RlbnRpYWxseSBhc3luY2hyb25vdXMsIHRoaXMgc2hvdWxkIGJlIHRoZSBmaXJzdFxuICogc3RvcmUgZW5oYW5jZXIgaW4gdGhlIGNvbXBvc2l0aW9uIGNoYWluLlxuICpcbiAqIE5vdGUgdGhhdCBlYWNoIG1pZGRsZXdhcmUgd2lsbCBiZSBnaXZlbiB0aGUgYGRpc3BhdGNoYCBhbmQgYGdldFN0YXRlYCBmdW5jdGlvbnNcbiAqIGFzIG5hbWVkIGFyZ3VtZW50cy5cbiAqXG4gKiBAcGFyYW0gey4uLkZ1bmN0aW9ufSBtaWRkbGV3YXJlcyBUaGUgbWlkZGxld2FyZSBjaGFpbiB0byBiZSBhcHBsaWVkLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBBIHN0b3JlIGVuaGFuY2VyIGFwcGx5aW5nIHRoZSBtaWRkbGV3YXJlLlxuICovXG5cbmZ1bmN0aW9uIGFwcGx5TWlkZGxld2FyZSgpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1pZGRsZXdhcmVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1pZGRsZXdhcmVzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChjcmVhdGVTdG9yZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RvcmUgPSBjcmVhdGVTdG9yZS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG5cbiAgICAgIHZhciBfZGlzcGF0Y2ggPSBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEaXNwYXRjaGluZyB3aGlsZSBjb25zdHJ1Y3RpbmcgeW91ciBtaWRkbGV3YXJlIGlzIG5vdCBhbGxvd2VkLiAnICsgJ090aGVyIG1pZGRsZXdhcmUgd291bGQgbm90IGJlIGFwcGxpZWQgdG8gdGhpcyBkaXNwYXRjaC4nKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBtaWRkbGV3YXJlQVBJID0ge1xuICAgICAgICBnZXRTdGF0ZTogc3RvcmUuZ2V0U3RhdGUsXG4gICAgICAgIGRpc3BhdGNoOiBmdW5jdGlvbiBkaXNwYXRjaCgpIHtcbiAgICAgICAgICByZXR1cm4gX2Rpc3BhdGNoLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciBjaGFpbiA9IG1pZGRsZXdhcmVzLm1hcChmdW5jdGlvbiAobWlkZGxld2FyZSkge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZShtaWRkbGV3YXJlQVBJKTtcbiAgICAgIH0pO1xuICAgICAgX2Rpc3BhdGNoID0gY29tcG9zZS5hcHBseSh2b2lkIDAsIGNoYWluKShzdG9yZS5kaXNwYXRjaCk7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZDIoe30sIHN0b3JlLCB7XG4gICAgICAgIGRpc3BhdGNoOiBfZGlzcGF0Y2hcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG59XG5cbi8qXG4gKiBUaGlzIGlzIGEgZHVtbXkgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGZ1bmN0aW9uIG5hbWUgaGFzIGJlZW4gYWx0ZXJlZCBieSBtaW5pZmljYXRpb24uXG4gKiBJZiB0aGUgZnVuY3Rpb24gaGFzIGJlZW4gbWluaWZpZWQgYW5kIE5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsIHdhcm4gdGhlIHVzZXIuXG4gKi9cblxuZnVuY3Rpb24gaXNDcnVzaGVkKCkge31cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZW9mIGlzQ3J1c2hlZC5uYW1lID09PSAnc3RyaW5nJyAmJiBpc0NydXNoZWQubmFtZSAhPT0gJ2lzQ3J1c2hlZCcpIHtcbiAgd2FybmluZygnWW91IGFyZSBjdXJyZW50bHkgdXNpbmcgbWluaWZpZWQgY29kZSBvdXRzaWRlIG9mIE5PREVfRU5WID09PSBcInByb2R1Y3Rpb25cIi4gJyArICdUaGlzIG1lYW5zIHRoYXQgeW91IGFyZSBydW5uaW5nIGEgc2xvd2VyIGRldmVsb3BtZW50IGJ1aWxkIG9mIFJlZHV4LiAnICsgJ1lvdSBjYW4gdXNlIGxvb3NlLWVudmlmeSAoaHR0cHM6Ly9naXRodWIuY29tL3plcnRvc2gvbG9vc2UtZW52aWZ5KSBmb3IgYnJvd3NlcmlmeSAnICsgJ29yIHNldHRpbmcgbW9kZSB0byBwcm9kdWN0aW9uIGluIHdlYnBhY2sgKGh0dHBzOi8vd2VicGFjay5qcy5vcmcvY29uY2VwdHMvbW9kZS8pICcgKyAndG8gZW5zdXJlIHlvdSBoYXZlIHRoZSBjb3JyZWN0IGNvZGUgZm9yIHlvdXIgcHJvZHVjdGlvbiBidWlsZC4nKTtcbn1cblxuZXhwb3J0IHsgQWN0aW9uVHlwZXMgYXMgX19ET19OT1RfVVNFX19BY3Rpb25UeXBlcywgYXBwbHlNaWRkbGV3YXJlLCBiaW5kQWN0aW9uQ3JlYXRvcnMsIGNvbWJpbmVSZWR1Y2VycywgY29tcG9zZSwgY3JlYXRlU3RvcmUgfTtcbiIsImZ1bmN0aW9uIGRlZmF1bHRFcXVhbGl0eUNoZWNrKGEsIGIpIHtcbiAgcmV0dXJuIGEgPT09IGI7XG59XG5cbmZ1bmN0aW9uIGFyZUFyZ3VtZW50c1NoYWxsb3dseUVxdWFsKGVxdWFsaXR5Q2hlY2ssIHByZXYsIG5leHQpIHtcbiAgaWYgKHByZXYgPT09IG51bGwgfHwgbmV4dCA9PT0gbnVsbCB8fCBwcmV2Lmxlbmd0aCAhPT0gbmV4dC5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBEbyB0aGlzIGluIGEgZm9yIGxvb3AgKGFuZCBub3QgYSBgZm9yRWFjaGAgb3IgYW4gYGV2ZXJ5YCkgc28gd2UgY2FuIGRldGVybWluZSBlcXVhbGl0eSBhcyBmYXN0IGFzIHBvc3NpYmxlLlxuICB2YXIgbGVuZ3RoID0gcHJldi5sZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoIWVxdWFsaXR5Q2hlY2socHJldltpXSwgbmV4dFtpXSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZmF1bHRNZW1vaXplKGZ1bmMpIHtcbiAgdmFyIGVxdWFsaXR5Q2hlY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGRlZmF1bHRFcXVhbGl0eUNoZWNrO1xuXG4gIHZhciBsYXN0QXJncyA9IG51bGw7XG4gIHZhciBsYXN0UmVzdWx0ID0gbnVsbDtcbiAgLy8gd2UgcmVmZXJlbmNlIGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyB0aGVtIGZvciBwZXJmb3JtYW5jZSByZWFzb25zXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFhcmVBcmd1bWVudHNTaGFsbG93bHlFcXVhbChlcXVhbGl0eUNoZWNrLCBsYXN0QXJncywgYXJndW1lbnRzKSkge1xuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIGxhc3RSZXN1bHQgPSBmdW5jLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgfVxuXG4gICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgcmV0dXJuIGxhc3RSZXN1bHQ7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldERlcGVuZGVuY2llcyhmdW5jcykge1xuICB2YXIgZGVwZW5kZW5jaWVzID0gQXJyYXkuaXNBcnJheShmdW5jc1swXSkgPyBmdW5jc1swXSA6IGZ1bmNzO1xuXG4gIGlmICghZGVwZW5kZW5jaWVzLmV2ZXJ5KGZ1bmN0aW9uIChkZXApIHtcbiAgICByZXR1cm4gdHlwZW9mIGRlcCA9PT0gJ2Z1bmN0aW9uJztcbiAgfSkpIHtcbiAgICB2YXIgZGVwZW5kZW5jeVR5cGVzID0gZGVwZW5kZW5jaWVzLm1hcChmdW5jdGlvbiAoZGVwKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIGRlcDtcbiAgICB9KS5qb2luKCcsICcpO1xuICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0b3IgY3JlYXRvcnMgZXhwZWN0IGFsbCBpbnB1dC1zZWxlY3RvcnMgdG8gYmUgZnVuY3Rpb25zLCAnICsgKCdpbnN0ZWFkIHJlY2VpdmVkIHRoZSBmb2xsb3dpbmcgdHlwZXM6IFsnICsgZGVwZW5kZW5jeVR5cGVzICsgJ10nKSk7XG4gIH1cblxuICByZXR1cm4gZGVwZW5kZW5jaWVzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKG1lbW9pemUpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1lbW9pemVPcHRpb25zID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1lbW9pemVPcHRpb25zW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBmdW5jcyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBmdW5jc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgIH1cblxuICAgIHZhciByZWNvbXB1dGF0aW9ucyA9IDA7XG4gICAgdmFyIHJlc3VsdEZ1bmMgPSBmdW5jcy5wb3AoKTtcbiAgICB2YXIgZGVwZW5kZW5jaWVzID0gZ2V0RGVwZW5kZW5jaWVzKGZ1bmNzKTtcblxuICAgIHZhciBtZW1vaXplZFJlc3VsdEZ1bmMgPSBtZW1vaXplLmFwcGx5KHVuZGVmaW5lZCwgW2Z1bmN0aW9uICgpIHtcbiAgICAgIHJlY29tcHV0YXRpb25zKys7XG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgcmV0dXJuIHJlc3VsdEZ1bmMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XS5jb25jYXQobWVtb2l6ZU9wdGlvbnMpKTtcblxuICAgIC8vIElmIGEgc2VsZWN0b3IgaXMgY2FsbGVkIHdpdGggdGhlIGV4YWN0IHNhbWUgYXJndW1lbnRzIHdlIGRvbid0IG5lZWQgdG8gdHJhdmVyc2Ugb3VyIGRlcGVuZGVuY2llcyBhZ2Fpbi5cbiAgICB2YXIgc2VsZWN0b3IgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICAgIHZhciBsZW5ndGggPSBkZXBlbmRlbmNpZXMubGVuZ3RoO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBhbmQgbXV0YXRlIGEgbG9jYWwgbGlzdCBvZiBwYXJhbXMgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgICBwYXJhbXMucHVzaChkZXBlbmRlbmNpZXNbaV0uYXBwbHkobnVsbCwgYXJndW1lbnRzKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICByZXR1cm4gbWVtb2l6ZWRSZXN1bHRGdW5jLmFwcGx5KG51bGwsIHBhcmFtcyk7XG4gICAgfSk7XG5cbiAgICBzZWxlY3Rvci5yZXN1bHRGdW5jID0gcmVzdWx0RnVuYztcbiAgICBzZWxlY3Rvci5kZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXM7XG4gICAgc2VsZWN0b3IucmVjb21wdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVjb21wdXRhdGlvbnM7XG4gICAgfTtcbiAgICBzZWxlY3Rvci5yZXNldFJlY29tcHV0YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlY29tcHV0YXRpb25zID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBzZWxlY3RvcjtcbiAgfTtcbn1cblxuZXhwb3J0IHZhciBjcmVhdGVTZWxlY3RvciA9IGNyZWF0ZVNlbGVjdG9yQ3JlYXRvcihkZWZhdWx0TWVtb2l6ZSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3Ioc2VsZWN0b3JzKSB7XG4gIHZhciBzZWxlY3RvckNyZWF0b3IgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGNyZWF0ZVNlbGVjdG9yO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3JzICE9PSAnb2JqZWN0Jykge1xuICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlU3RydWN0dXJlZFNlbGVjdG9yIGV4cGVjdHMgZmlyc3QgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0ICcgKyAoJ3doZXJlIGVhY2ggcHJvcGVydHkgaXMgYSBzZWxlY3RvciwgaW5zdGVhZCByZWNlaXZlZCBhICcgKyB0eXBlb2Ygc2VsZWN0b3JzKSk7XG4gIH1cbiAgdmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyhzZWxlY3RvcnMpO1xuICByZXR1cm4gc2VsZWN0b3JDcmVhdG9yKG9iamVjdEtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gc2VsZWN0b3JzW2tleV07XG4gIH0pLCBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCB2YWx1ZXMgPSBBcnJheShfbGVuMyksIF9rZXkzID0gMDsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgdmFsdWVzW19rZXkzXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlcy5yZWR1Y2UoZnVuY3Rpb24gKGNvbXBvc2l0aW9uLCB2YWx1ZSwgaW5kZXgpIHtcbiAgICAgIGNvbXBvc2l0aW9uW29iamVjdEtleXNbaW5kZXhdXSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIGNvbXBvc2l0aW9uO1xuICAgIH0sIHt9KTtcbiAgfSk7XG59IiwiZnVuY3Rpb24gY3JlYXRlVGh1bmtNaWRkbGV3YXJlKGV4dHJhQXJndW1lbnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaCxcbiAgICAgICAgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gYWN0aW9uKGRpc3BhdGNoLCBnZXRTdGF0ZSwgZXh0cmFBcmd1bWVudCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xufVxuXG52YXIgdGh1bmsgPSBjcmVhdGVUaHVua01pZGRsZXdhcmUoKTtcbnRodW5rLndpdGhFeHRyYUFyZ3VtZW50ID0gY3JlYXRlVGh1bmtNaWRkbGV3YXJlO1xuXG5leHBvcnQgZGVmYXVsdCB0aHVuazsiLCJpbXBvcnQgY3JlYXRlTmV4dFN0YXRlLCB7IGlzRHJhZnQsIGN1cnJlbnQsIGlzRHJhZnRhYmxlLCBlbmFibGVFUzUgfSBmcm9tICdpbW1lcic7XG5leHBvcnQgeyBkZWZhdWx0IGFzIGNyZWF0ZU5leHRTdGF0ZSwgY3VycmVudCwgZnJlZXplIH0gZnJvbSAnaW1tZXInO1xuaW1wb3J0IHsgY29tcG9zZSwgY29tYmluZVJlZHVjZXJzLCBhcHBseU1pZGRsZXdhcmUsIGNyZWF0ZVN0b3JlIH0gZnJvbSAncmVkdXgnO1xuZXhwb3J0ICogZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgY3JlYXRlU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCc7XG5leHBvcnQgeyBjcmVhdGVTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0JztcbmltcG9ydCB0aHVua01pZGRsZXdhcmUgZnJvbSAncmVkdXgtdGh1bmsnO1xuXG4vKipcclxuICogXCJEcmFmdC1TYWZlXCIgdmVyc2lvbiBvZiBgcmVzZWxlY3RgJ3MgYGNyZWF0ZVNlbGVjdG9yYDpcclxuICogSWYgYW4gYGltbWVyYC1kcmFmdGVkIG9iamVjdCBpcyBwYXNzZWQgaW50byB0aGUgcmVzdWx0aW5nIHNlbGVjdG9yJ3MgZmlyc3QgYXJndW1lbnQsXHJcbiAqIHRoZSBzZWxlY3RvciB3aWxsIGFjdCBvbiB0aGUgY3VycmVudCBkcmFmdCB2YWx1ZSwgaW5zdGVhZCBvZiByZXR1cm5pbmcgYSBjYWNoZWQgdmFsdWVcclxuICogdGhhdCBtaWdodCBiZSBwb3NzaWJseSBvdXRkYXRlZCBpZiB0aGUgZHJhZnQgaGFzIGJlZW4gbW9kaWZpZWQgc2luY2UuXHJcbiAqIEBwdWJsaWNcclxuICovXG5cbnZhciBjcmVhdGVEcmFmdFNhZmVTZWxlY3RvciA9IGZ1bmN0aW9uIGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yKCkge1xuICB2YXIgc2VsZWN0b3IgPSBjcmVhdGVTZWxlY3Rvci5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG5cbiAgdmFyIHdyYXBwZWRTZWxlY3RvciA9IGZ1bmN0aW9uIHdyYXBwZWRTZWxlY3Rvcih2YWx1ZSkge1xuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCByZXN0ID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIHJlc3RbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxlY3Rvci5hcHBseSh2b2lkIDAsIFtpc0RyYWZ0KHZhbHVlKSA/IGN1cnJlbnQodmFsdWUpIDogdmFsdWVdLmNvbmNhdChyZXN0KSk7XG4gIH07XG5cbiAgcmV0dXJuIHdyYXBwZWRTZWxlY3Rvcjtcbn07XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7XG4gIHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpO1xuICBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzcztcbiAgc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzcztcbn1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHtcbiAgICByZXR1cm4gby5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKG8pO1xuICB9O1xuICByZXR1cm4gX2dldFByb3RvdHlwZU9mKG8pO1xufVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxuZnVuY3Rpb24gaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwidW5kZWZpbmVkXCIgfHwgIVJlZmxlY3QuY29uc3RydWN0KSByZXR1cm4gZmFsc2U7XG4gIGlmIChSZWZsZWN0LmNvbnN0cnVjdC5zaGFtKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgUHJveHkgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIHRydWU7XG5cbiAgdHJ5IHtcbiAgICBEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFJlZmxlY3QuY29uc3RydWN0KERhdGUsIFtdLCBmdW5jdGlvbiAoKSB7fSkpO1xuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICBpZiAoaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkpIHtcbiAgICBfY29uc3RydWN0ID0gUmVmbGVjdC5jb25zdHJ1Y3Q7XG4gIH0gZWxzZSB7XG4gICAgX2NvbnN0cnVjdCA9IGZ1bmN0aW9uIF9jb25zdHJ1Y3QoUGFyZW50LCBhcmdzLCBDbGFzcykge1xuICAgICAgdmFyIGEgPSBbbnVsbF07XG4gICAgICBhLnB1c2guYXBwbHkoYSwgYXJncyk7XG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSBGdW5jdGlvbi5iaW5kLmFwcGx5KFBhcmVudCwgYSk7XG4gICAgICB2YXIgaW5zdGFuY2UgPSBuZXcgQ29uc3RydWN0b3IoKTtcbiAgICAgIGlmIChDbGFzcykgX3NldFByb3RvdHlwZU9mKGluc3RhbmNlLCBDbGFzcy5wcm90b3R5cGUpO1xuICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gX2NvbnN0cnVjdC5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfaXNOYXRpdmVGdW5jdGlvbihmbikge1xuICByZXR1cm4gRnVuY3Rpb24udG9TdHJpbmcuY2FsbChmbikuaW5kZXhPZihcIltuYXRpdmUgY29kZV1cIikgIT09IC0xO1xufVxuXG5mdW5jdGlvbiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKSB7XG4gIHZhciBfY2FjaGUgPSB0eXBlb2YgTWFwID09PSBcImZ1bmN0aW9uXCIgPyBuZXcgTWFwKCkgOiB1bmRlZmluZWQ7XG5cbiAgX3dyYXBOYXRpdmVTdXBlciA9IGZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgICBpZiAoQ2xhc3MgPT09IG51bGwgfHwgIV9pc05hdGl2ZUZ1bmN0aW9uKENsYXNzKSkgcmV0dXJuIENsYXNzO1xuXG4gICAgaWYgKHR5cGVvZiBDbGFzcyAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBfY2FjaGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGlmIChfY2FjaGUuaGFzKENsYXNzKSkgcmV0dXJuIF9jYWNoZS5nZXQoQ2xhc3MpO1xuXG4gICAgICBfY2FjaGUuc2V0KENsYXNzLCBXcmFwcGVyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBXcmFwcGVyKCkge1xuICAgICAgcmV0dXJuIF9jb25zdHJ1Y3QoQ2xhc3MsIGFyZ3VtZW50cywgX2dldFByb3RvdHlwZU9mKHRoaXMpLmNvbnN0cnVjdG9yKTtcbiAgICB9XG5cbiAgICBXcmFwcGVyLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoQ2xhc3MucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogV3JhcHBlcixcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gX3NldFByb3RvdHlwZU9mKFdyYXBwZXIsIENsYXNzKTtcbiAgfTtcblxuICByZXR1cm4gX3dyYXBOYXRpdmVTdXBlcihDbGFzcyk7XG59XG5cbi8qKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuXG52YXIgY29tcG9zZVdpdGhEZXZUb29scyA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX18gPyB3aW5kb3cuX19SRURVWF9ERVZUT09MU19FWFRFTlNJT05fQ09NUE9TRV9fIDogZnVuY3Rpb24gKCkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdvYmplY3QnKSByZXR1cm4gY29tcG9zZTtcbiAgcmV0dXJuIGNvbXBvc2UuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn07XG5cbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHBhc3NlZCB2YWx1ZSBpcyBcInBsYWluXCIgb2JqZWN0LCBpLmUuIGFuIG9iamVjdCB3aG9zZVxyXG4gKiBwcm90b3lwZSBpcyB0aGUgcm9vdCBgT2JqZWN0LnByb3RvdHlwZWAuIFRoaXMgaW5jbHVkZXMgb2JqZWN0cyBjcmVhdGVkXHJcbiAqIHVzaW5nIG9iamVjdCBsaXRlcmFscywgYnV0IG5vdCBmb3IgaW5zdGFuY2UgZm9yIGNsYXNzIGluc3RhbmNlcy5cclxuICpcclxuICogQHBhcmFtIHthbnl9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgYXJndW1lbnQgYXBwZWFycyB0byBiZSBhIHBsYWluIG9iamVjdC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgdmFsdWUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgdmFyIHByb3RvID0gdmFsdWU7XG5cbiAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykgIT09IG51bGwpIHtcbiAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKSA9PT0gcHJvdG87XG59XG5cbmZ1bmN0aW9uIGdldFRpbWVNZWFzdXJlVXRpbHMobWF4RGVsYXksIGZuTmFtZSkge1xuICB2YXIgZWxhcHNlZCA9IDA7XG4gIHJldHVybiB7XG4gICAgbWVhc3VyZVRpbWU6IGZ1bmN0aW9uIG1lYXN1cmVUaW1lKGZuKSB7XG4gICAgICB2YXIgc3RhcnRlZCA9IERhdGUubm93KCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdmFyIGZpbmlzaGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgZWxhcHNlZCArPSBmaW5pc2hlZCAtIHN0YXJ0ZWQ7XG4gICAgICB9XG4gICAgfSxcbiAgICB3YXJuSWZFeGNlZWRlZDogZnVuY3Rpb24gd2FybklmRXhjZWVkZWQoKSB7XG4gICAgICBpZiAoZWxhcHNlZCA+IG1heERlbGF5KSB7XG4gICAgICAgIGNvbnNvbGUud2Fybihmbk5hbWUgKyBcIiB0b29rIFwiICsgZWxhcHNlZCArIFwibXMsIHdoaWNoIGlzIG1vcmUgdGhhbiB0aGUgd2FybmluZyB0aHJlc2hvbGQgb2YgXCIgKyBtYXhEZWxheSArIFwibXMuIFxcbklmIHlvdXIgc3RhdGUgb3IgYWN0aW9ucyBhcmUgdmVyeSBsYXJnZSwgeW91IG1heSB3YW50IHRvIGRpc2FibGUgdGhlIG1pZGRsZXdhcmUgYXMgaXQgbWlnaHQgY2F1c2UgdG9vIG11Y2ggb2YgYSBzbG93ZG93biBpbiBkZXZlbG9wbWVudCBtb2RlLiBTZWUgaHR0cHM6Ly9yZWR1eC10b29sa2l0LmpzLm9yZy9hcGkvZ2V0RGVmYXVsdE1pZGRsZXdhcmUgZm9yIGluc3RydWN0aW9ucy5cXG5JdCBpcyBkaXNhYmxlZCBpbiBwcm9kdWN0aW9uIGJ1aWxkcywgc28geW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgdGhhdC5cIik7XG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuLyoqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cbnZhciBNaWRkbGV3YXJlQXJyYXkgPVxuLyojX19QVVJFX18qL1xuZnVuY3Rpb24gKF9BcnJheSkge1xuICBfaW5oZXJpdHNMb29zZShNaWRkbGV3YXJlQXJyYXksIF9BcnJheSk7XG5cbiAgZnVuY3Rpb24gTWlkZGxld2FyZUFycmF5KCkge1xuICAgIHJldHVybiBfQXJyYXkuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IE1pZGRsZXdhcmVBcnJheS5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmNvbmNhdCA9IGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICB2YXIgX0FycmF5JHByb3RvdHlwZSRjb25jO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyciA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFycltfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX2NvbnN0cnVjdChNaWRkbGV3YXJlQXJyYXksIChfQXJyYXkkcHJvdG90eXBlJGNvbmMgPSBfQXJyYXkucHJvdG90eXBlLmNvbmNhdCkuY2FsbC5hcHBseShfQXJyYXkkcHJvdG90eXBlJGNvbmMsIFt0aGlzXS5jb25jYXQoYXJyKSkpO1xuICB9O1xuXG4gIF9wcm90by5wcmVwZW5kID0gZnVuY3Rpb24gcHJlcGVuZCgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyciA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJyW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgaWYgKGFyci5sZW5ndGggPT09IDEgJiYgQXJyYXkuaXNBcnJheShhcnJbMF0pKSB7XG4gICAgICByZXR1cm4gX2NvbnN0cnVjdChNaWRkbGV3YXJlQXJyYXksIGFyclswXS5jb25jYXQodGhpcykpO1xuICAgIH1cblxuICAgIHJldHVybiBfY29uc3RydWN0KE1pZGRsZXdhcmVBcnJheSwgYXJyLmNvbmNhdCh0aGlzKSk7XG4gIH07XG5cbiAgcmV0dXJuIE1pZGRsZXdhcmVBcnJheTtcbn0oXG4vKiNfX1BVUkVfXyovXG5fd3JhcE5hdGl2ZVN1cGVyKEFycmF5KSk7XG5cbnZhciBpc1Byb2R1Y3Rpb24gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xudmFyIHByZWZpeCA9ICdJbnZhcmlhbnQgZmFpbGVkJzsgLy8gVGhyb3cgYW4gZXJyb3IgaWYgdGhlIGNvbmRpdGlvbiBmYWlsc1xuLy8gU3RyaXAgb3V0IGVycm9yIG1lc3NhZ2VzIGZvciBwcm9kdWN0aW9uXG4vLyA+IE5vdCBwcm92aWRpbmcgYW4gaW5saW5lIGRlZmF1bHQgYXJndW1lbnQgZm9yIG1lc3NhZ2UgYXMgdGhlIHJlc3VsdCBpcyBzbWFsbGVyXG5cbmZ1bmN0aW9uIGludmFyaWFudChjb25kaXRpb24sIG1lc3NhZ2UpIHtcbiAgaWYgKGNvbmRpdGlvbikge1xuICAgIHJldHVybjtcbiAgfSAvLyBDb25kaXRpb24gbm90IHBhc3NlZFxuICAvLyBJbiBwcm9kdWN0aW9uIHdlIHN0cmlwIHRoZSBtZXNzYWdlIGJ1dCBzdGlsbCB0aHJvd1xuXG5cbiAgaWYgKGlzUHJvZHVjdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihwcmVmaXgpO1xuICB9IC8vIFdoZW4gbm90IGluIHByb2R1Y3Rpb24gd2UgYWxsb3cgdGhlIG1lc3NhZ2UgdG8gcGFzcyB0aHJvdWdoXG4gIC8vICpUaGlzIGJsb2NrIHdpbGwgYmUgcmVtb3ZlZCBpbiBwcm9kdWN0aW9uIGJ1aWxkcypcblxuXG4gIHRocm93IG5ldyBFcnJvcihwcmVmaXggKyBcIjogXCIgKyAobWVzc2FnZSB8fCAnJykpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkob2JqLCBzZXJpYWxpemVyLCBpbmRlbnQsIGRlY3ljbGVyKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIGdldFNlcmlhbGl6ZShzZXJpYWxpemVyLCBkZWN5Y2xlciksIGluZGVudCk7XG59XG5cbmZ1bmN0aW9uIGdldFNlcmlhbGl6ZShzZXJpYWxpemVyLCBkZWN5Y2xlcikge1xuICB2YXIgc3RhY2sgPSBbXSxcbiAgICAgIGtleXMgPSBbXTtcbiAgaWYgKCFkZWN5Y2xlcikgZGVjeWNsZXIgPSBmdW5jdGlvbiBkZWN5Y2xlcihfLCB2YWx1ZSkge1xuICAgIGlmIChzdGFja1swXSA9PT0gdmFsdWUpIHJldHVybiAnW0NpcmN1bGFyIH5dJztcbiAgICByZXR1cm4gJ1tDaXJjdWxhciB+LicgKyBrZXlzLnNsaWNlKDAsIHN0YWNrLmluZGV4T2YodmFsdWUpKS5qb2luKCcuJykgKyAnXSc7XG4gIH07XG4gIHJldHVybiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIGlmIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgdGhpc1BvcyA9IHN0YWNrLmluZGV4T2YodGhpcyk7XG4gICAgICB+dGhpc1BvcyA/IHN0YWNrLnNwbGljZSh0aGlzUG9zICsgMSkgOiBzdGFjay5wdXNoKHRoaXMpO1xuICAgICAgfnRoaXNQb3MgPyBrZXlzLnNwbGljZSh0aGlzUG9zLCBJbmZpbml0eSwga2V5KSA6IGtleXMucHVzaChrZXkpO1xuICAgICAgaWYgKH5zdGFjay5pbmRleE9mKHZhbHVlKSkgdmFsdWUgPSBkZWN5Y2xlci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICAgIH0gZWxzZSBzdGFjay5wdXNoKHZhbHVlKTtcblxuICAgIHJldHVybiBzZXJpYWxpemVyID09IG51bGwgPyB2YWx1ZSA6IHNlcmlhbGl6ZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgfTtcbn1cbi8qKlxyXG4gKiBUaGUgZGVmYXVsdCBgaXNJbW11dGFibGVgIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIGlzSW1tdXRhYmxlRGVmYXVsdCh2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xufVxuZnVuY3Rpb24gdHJhY2tGb3JNdXRhdGlvbnMoaXNJbW11dGFibGUsIGlnbm9yZVBhdGhzLCBvYmopIHtcbiAgdmFyIHRyYWNrZWRQcm9wZXJ0aWVzID0gdHJhY2tQcm9wZXJ0aWVzKGlzSW1tdXRhYmxlLCBpZ25vcmVQYXRocywgb2JqKTtcbiAgcmV0dXJuIHtcbiAgICBkZXRlY3RNdXRhdGlvbnM6IGZ1bmN0aW9uIGRldGVjdE11dGF0aW9ucygpIHtcbiAgICAgIHJldHVybiBfZGV0ZWN0TXV0YXRpb25zKGlzSW1tdXRhYmxlLCBpZ25vcmVQYXRocywgdHJhY2tlZFByb3BlcnRpZXMsIG9iaik7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiB0cmFja1Byb3BlcnRpZXMoaXNJbW11dGFibGUsIGlnbm9yZVBhdGhzLCBvYmosIHBhdGgpIHtcbiAgaWYgKGlnbm9yZVBhdGhzID09PSB2b2lkIDApIHtcbiAgICBpZ25vcmVQYXRocyA9IFtdO1xuICB9XG5cbiAgaWYgKHBhdGggPT09IHZvaWQgMCkge1xuICAgIHBhdGggPSBbXTtcbiAgfVxuXG4gIHZhciB0cmFja2VkID0ge1xuICAgIHZhbHVlOiBvYmpcbiAgfTtcblxuICBpZiAoIWlzSW1tdXRhYmxlKG9iaikpIHtcbiAgICB0cmFja2VkLmNoaWxkcmVuID0ge307XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICB2YXIgY2hpbGRQYXRoID0gcGF0aC5jb25jYXQoa2V5KTtcblxuICAgICAgaWYgKGlnbm9yZVBhdGhzLmxlbmd0aCAmJiBpZ25vcmVQYXRocy5pbmRleE9mKGNoaWxkUGF0aC5qb2luKCcuJykpICE9PSAtMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdHJhY2tlZC5jaGlsZHJlbltrZXldID0gdHJhY2tQcm9wZXJ0aWVzKGlzSW1tdXRhYmxlLCBpZ25vcmVQYXRocywgb2JqW2tleV0sIGNoaWxkUGF0aCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRyYWNrZWQ7XG59XG5cbmZ1bmN0aW9uIF9kZXRlY3RNdXRhdGlvbnMoaXNJbW11dGFibGUsIGlnbm9yZVBhdGhzLCB0cmFja2VkUHJvcGVydHksIG9iaiwgc2FtZVBhcmVudFJlZiwgcGF0aCkge1xuICBpZiAoaWdub3JlUGF0aHMgPT09IHZvaWQgMCkge1xuICAgIGlnbm9yZVBhdGhzID0gW107XG4gIH1cblxuICBpZiAoc2FtZVBhcmVudFJlZiA9PT0gdm9pZCAwKSB7XG4gICAgc2FtZVBhcmVudFJlZiA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHBhdGggPT09IHZvaWQgMCkge1xuICAgIHBhdGggPSBbXTtcbiAgfVxuXG4gIHZhciBwcmV2T2JqID0gdHJhY2tlZFByb3BlcnR5ID8gdHJhY2tlZFByb3BlcnR5LnZhbHVlIDogdW5kZWZpbmVkO1xuICB2YXIgc2FtZVJlZiA9IHByZXZPYmogPT09IG9iajtcblxuICBpZiAoc2FtZVBhcmVudFJlZiAmJiAhc2FtZVJlZiAmJiAhTnVtYmVyLmlzTmFOKG9iaikpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2FzTXV0YXRlZDogdHJ1ZSxcbiAgICAgIHBhdGg6IHBhdGhcbiAgICB9O1xuICB9XG5cbiAgaWYgKGlzSW1tdXRhYmxlKHByZXZPYmopIHx8IGlzSW1tdXRhYmxlKG9iaikpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2FzTXV0YXRlZDogZmFsc2VcbiAgICB9O1xuICB9IC8vIEdhdGhlciBhbGwga2V5cyBmcm9tIHByZXYgKHRyYWNrZWQpIGFuZCBhZnRlciBvYmpzXG5cblxuICB2YXIga2V5c1RvRGV0ZWN0ID0ge307XG4gIE9iamVjdC5rZXlzKHRyYWNrZWRQcm9wZXJ0eS5jaGlsZHJlbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAga2V5c1RvRGV0ZWN0W2tleV0gPSB0cnVlO1xuICB9KTtcbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBrZXlzVG9EZXRlY3Rba2V5XSA9IHRydWU7XG4gIH0pO1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGtleXNUb0RldGVjdCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIGNoaWxkUGF0aCA9IHBhdGguY29uY2F0KGtleSk7XG5cbiAgICBpZiAoaWdub3JlUGF0aHMubGVuZ3RoICYmIGlnbm9yZVBhdGhzLmluZGV4T2YoY2hpbGRQYXRoLmpvaW4oJy4nKSkgIT09IC0xKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICB2YXIgcmVzdWx0ID0gX2RldGVjdE11dGF0aW9ucyhpc0ltbXV0YWJsZSwgaWdub3JlUGF0aHMsIHRyYWNrZWRQcm9wZXJ0eS5jaGlsZHJlbltrZXldLCBvYmpba2V5XSwgc2FtZVJlZiwgY2hpbGRQYXRoKTtcblxuICAgIGlmIChyZXN1bHQud2FzTXV0YXRlZCkge1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHdhc011dGF0ZWQ6IGZhbHNlXG4gIH07XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1pZGRsZXdhcmUgdGhhdCBjaGVja3Mgd2hldGhlciBhbnkgc3RhdGUgd2FzIG11dGF0ZWQgaW4gYmV0d2VlblxyXG4gKiBkaXNwYXRjaGVzIG9yIGR1cmluZyBhIGRpc3BhdGNoLiBJZiBhbnkgbXV0YXRpb25zIGFyZSBkZXRlY3RlZCwgYW4gZXJyb3IgaXNcclxuICogdGhyb3duLlxyXG4gKlxyXG4gKiBAcGFyYW0gb3B0aW9ucyBNaWRkbGV3YXJlIG9wdGlvbnMuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cblxuZnVuY3Rpb24gY3JlYXRlSW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH07XG4gIH1cblxuICB2YXIgX29wdGlvbnMgPSBvcHRpb25zLFxuICAgICAgX29wdGlvbnMkaXNJbW11dGFibGUgPSBfb3B0aW9ucy5pc0ltbXV0YWJsZSxcbiAgICAgIGlzSW1tdXRhYmxlID0gX29wdGlvbnMkaXNJbW11dGFibGUgPT09IHZvaWQgMCA/IGlzSW1tdXRhYmxlRGVmYXVsdCA6IF9vcHRpb25zJGlzSW1tdXRhYmxlLFxuICAgICAgaWdub3JlZFBhdGhzID0gX29wdGlvbnMuaWdub3JlZFBhdGhzLFxuICAgICAgX29wdGlvbnMkd2FybkFmdGVyID0gX29wdGlvbnMud2FybkFmdGVyLFxuICAgICAgd2FybkFmdGVyID0gX29wdGlvbnMkd2FybkFmdGVyID09PSB2b2lkIDAgPyAzMiA6IF9vcHRpb25zJHdhcm5BZnRlcixcbiAgICAgIGlnbm9yZSA9IF9vcHRpb25zLmlnbm9yZTsgLy8gQWxpYXMgaWdub3JlLT5pZ25vcmVkUGF0aHMsIGJ1dCBwcmVmZXIgaWdub3JlZFBhdGhzIGlmIHByZXNlbnRcblxuICBpZ25vcmVkUGF0aHMgPSBpZ25vcmVkUGF0aHMgfHwgaWdub3JlO1xuICB2YXIgdHJhY2sgPSB0cmFja0Zvck11dGF0aW9ucy5iaW5kKG51bGwsIGlzSW1tdXRhYmxlLCBpZ25vcmVkUGF0aHMpO1xuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZ2V0U3RhdGUgPSBfcmVmLmdldFN0YXRlO1xuICAgIHZhciBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgdmFyIHRyYWNrZXIgPSB0cmFjayhzdGF0ZSk7XG4gICAgdmFyIHJlc3VsdDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBtZWFzdXJlVXRpbHMgPSBnZXRUaW1lTWVhc3VyZVV0aWxzKHdhcm5BZnRlciwgJ0ltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZScpO1xuICAgICAgICBtZWFzdXJlVXRpbHMubWVhc3VyZVRpbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgICByZXN1bHQgPSB0cmFja2VyLmRldGVjdE11dGF0aW9ucygpOyAvLyBUcmFjayBiZWZvcmUgcG90ZW50aWFsbHkgbm90IG1lZXRpbmcgdGhlIGludmFyaWFudFxuXG4gICAgICAgICAgdHJhY2tlciA9IHRyYWNrKHN0YXRlKTtcbiAgICAgICAgICAhIXJlc3VsdC53YXNNdXRhdGVkID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8gaW52YXJpYW50KGZhbHNlLCBcIkEgc3RhdGUgbXV0YXRpb24gd2FzIGRldGVjdGVkIGJldHdlZW4gZGlzcGF0Y2hlcywgaW4gdGhlIHBhdGggJ1wiICsgKHJlc3VsdC5wYXRoIHx8IFtdKS5qb2luKCcuJykgKyBcIicuICBUaGlzIG1heSBjYXVzZSBpbmNvcnJlY3QgYmVoYXZpb3IuIChodHRwczovL3JlZHV4LmpzLm9yZy90cm91Ymxlc2hvb3RpbmcjbmV2ZXItbXV0YXRlLXJlZHVjZXItYXJndW1lbnRzKVwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDA7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZGlzcGF0Y2hlZEFjdGlvbiA9IG5leHQoYWN0aW9uKTtcbiAgICAgICAgbWVhc3VyZVV0aWxzLm1lYXN1cmVUaW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdGF0ZSA9IGdldFN0YXRlKCk7XG4gICAgICAgICAgcmVzdWx0ID0gdHJhY2tlci5kZXRlY3RNdXRhdGlvbnMoKTsgLy8gVHJhY2sgYmVmb3JlIHBvdGVudGlhbGx5IG5vdCBtZWV0aW5nIHRoZSBpbnZhcmlhbnRcblxuICAgICAgICAgIHRyYWNrZXIgPSB0cmFjayhzdGF0ZSk7XG4gICAgICAgICAgcmVzdWx0Lndhc011dGF0ZWQgJiYgKCEhcmVzdWx0Lndhc011dGF0ZWQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiQSBzdGF0ZSBtdXRhdGlvbiB3YXMgZGV0ZWN0ZWQgaW5zaWRlIGEgZGlzcGF0Y2gsIGluIHRoZSBwYXRoOiBcIiArIChyZXN1bHQucGF0aCB8fCBbXSkuam9pbignLicpICsgXCIuIFRha2UgYSBsb29rIGF0IHRoZSByZWR1Y2VyKHMpIGhhbmRsaW5nIHRoZSBhY3Rpb24gXCIgKyBzdHJpbmdpZnkoYWN0aW9uKSArIFwiLiAoaHR0cHM6Ly9yZWR1eC5qcy5vcmcvdHJvdWJsZXNob290aW5nI25ldmVyLW11dGF0ZS1yZWR1Y2VyLWFyZ3VtZW50cylcIikgOiBpbnZhcmlhbnQoZmFsc2UpIDogdm9pZCAwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIG1lYXN1cmVVdGlscy53YXJuSWZFeGNlZWRlZCgpO1xuICAgICAgICByZXR1cm4gZGlzcGF0Y2hlZEFjdGlvbjtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcbn1cblxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIFwicGxhaW5cIiwgaS5lLiBhIHZhbHVlIHRoYXQgaXMgZWl0aGVyXHJcbiAqIGRpcmVjdGx5IEpTT04tc2VyaWFsaXphYmxlIChib29sZWFuLCBudW1iZXIsIHN0cmluZywgYXJyYXksIHBsYWluIG9iamVjdClcclxuICogb3IgYHVuZGVmaW5lZGAuXHJcbiAqXHJcbiAqIEBwYXJhbSB2YWwgVGhlIHZhbHVlIHRvIGNoZWNrLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuXG5mdW5jdGlvbiBpc1BsYWluKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCcgfHwgdmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWwgPT09ICdib29sZWFuJyB8fCB0eXBlb2YgdmFsID09PSAnbnVtYmVyJyB8fCBBcnJheS5pc0FycmF5KHZhbCkgfHwgaXNQbGFpbk9iamVjdCh2YWwpO1xufVxuLyoqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cbmZ1bmN0aW9uIGZpbmROb25TZXJpYWxpemFibGVWYWx1ZSh2YWx1ZSwgcGF0aCwgaXNTZXJpYWxpemFibGUsIGdldEVudHJpZXMsIGlnbm9yZWRQYXRocykge1xuICBpZiAocGF0aCA9PT0gdm9pZCAwKSB7XG4gICAgcGF0aCA9IFtdO1xuICB9XG5cbiAgaWYgKGlzU2VyaWFsaXphYmxlID09PSB2b2lkIDApIHtcbiAgICBpc1NlcmlhbGl6YWJsZSA9IGlzUGxhaW47XG4gIH1cblxuICBpZiAoaWdub3JlZFBhdGhzID09PSB2b2lkIDApIHtcbiAgICBpZ25vcmVkUGF0aHMgPSBbXTtcbiAgfVxuXG4gIHZhciBmb3VuZE5lc3RlZFNlcmlhbGl6YWJsZTtcblxuICBpZiAoIWlzU2VyaWFsaXphYmxlKHZhbHVlKSkge1xuICAgIHJldHVybiB7XG4gICAgICBrZXlQYXRoOiBwYXRoLmpvaW4oJy4nKSB8fCAnPHJvb3Q+JyxcbiAgICAgIHZhbHVlOiB2YWx1ZVxuICAgIH07XG4gIH1cblxuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBlbnRyaWVzID0gZ2V0RW50cmllcyAhPSBudWxsID8gZ2V0RW50cmllcyh2YWx1ZSkgOiBPYmplY3QuZW50cmllcyh2YWx1ZSk7XG4gIHZhciBoYXNJZ25vcmVkUGF0aHMgPSBpZ25vcmVkUGF0aHMubGVuZ3RoID4gMDtcblxuICBmb3IgKHZhciBfaXRlcmF0b3IgPSBlbnRyaWVzLCBfaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoX2l0ZXJhdG9yKSwgX2kgPSAwLCBfaXRlcmF0b3IgPSBfaXNBcnJheSA/IF9pdGVyYXRvciA6IF9pdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdKCk7Oykge1xuICAgIHZhciBfcmVmO1xuXG4gICAgaWYgKF9pc0FycmF5KSB7XG4gICAgICBpZiAoX2kgPj0gX2l0ZXJhdG9yLmxlbmd0aCkgYnJlYWs7XG4gICAgICBfcmVmID0gX2l0ZXJhdG9yW19pKytdO1xuICAgIH0gZWxzZSB7XG4gICAgICBfaSA9IF9pdGVyYXRvci5uZXh0KCk7XG4gICAgICBpZiAoX2kuZG9uZSkgYnJlYWs7XG4gICAgICBfcmVmID0gX2kudmFsdWU7XG4gICAgfVxuXG4gICAgdmFyIF9yZWYyID0gX3JlZixcbiAgICAgICAgcHJvcGVydHkgPSBfcmVmMlswXSxcbiAgICAgICAgbmVzdGVkVmFsdWUgPSBfcmVmMlsxXTtcbiAgICB2YXIgbmVzdGVkUGF0aCA9IHBhdGguY29uY2F0KHByb3BlcnR5KTtcblxuICAgIGlmIChoYXNJZ25vcmVkUGF0aHMgJiYgaWdub3JlZFBhdGhzLmluZGV4T2YobmVzdGVkUGF0aC5qb2luKCcuJykpID49IDApIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmICghaXNTZXJpYWxpemFibGUobmVzdGVkVmFsdWUpKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBrZXlQYXRoOiBuZXN0ZWRQYXRoLmpvaW4oJy4nKSxcbiAgICAgICAgdmFsdWU6IG5lc3RlZFZhbHVlXG4gICAgICB9O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmVzdGVkVmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBmb3VuZE5lc3RlZFNlcmlhbGl6YWJsZSA9IGZpbmROb25TZXJpYWxpemFibGVWYWx1ZShuZXN0ZWRWYWx1ZSwgbmVzdGVkUGF0aCwgaXNTZXJpYWxpemFibGUsIGdldEVudHJpZXMsIGlnbm9yZWRQYXRocyk7XG5cbiAgICAgIGlmIChmb3VuZE5lc3RlZFNlcmlhbGl6YWJsZSkge1xuICAgICAgICByZXR1cm4gZm91bmROZXN0ZWRTZXJpYWxpemFibGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuLyoqXHJcbiAqIENyZWF0ZXMgYSBtaWRkbGV3YXJlIHRoYXQsIGFmdGVyIGV2ZXJ5IHN0YXRlIGNoYW5nZSwgY2hlY2tzIGlmIHRoZSBuZXdcclxuICogc3RhdGUgaXMgc2VyaWFsaXphYmxlLiBJZiBhIG5vbi1zZXJpYWxpemFibGUgdmFsdWUgaXMgZm91bmQgd2l0aGluIHRoZVxyXG4gKiBzdGF0ZSwgYW4gZXJyb3IgaXMgcHJpbnRlZCB0byB0aGUgY29uc29sZS5cclxuICpcclxuICogQHBhcmFtIG9wdGlvbnMgTWlkZGxld2FyZSBvcHRpb25zLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVTZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgICBfb3B0aW9ucyRpc1NlcmlhbGl6YWIgPSBfb3B0aW9ucy5pc1NlcmlhbGl6YWJsZSxcbiAgICAgIGlzU2VyaWFsaXphYmxlID0gX29wdGlvbnMkaXNTZXJpYWxpemFiID09PSB2b2lkIDAgPyBpc1BsYWluIDogX29wdGlvbnMkaXNTZXJpYWxpemFiLFxuICAgICAgZ2V0RW50cmllcyA9IF9vcHRpb25zLmdldEVudHJpZXMsXG4gICAgICBfb3B0aW9ucyRpZ25vcmVkQWN0aW8gPSBfb3B0aW9ucy5pZ25vcmVkQWN0aW9ucyxcbiAgICAgIGlnbm9yZWRBY3Rpb25zID0gX29wdGlvbnMkaWdub3JlZEFjdGlvID09PSB2b2lkIDAgPyBbXSA6IF9vcHRpb25zJGlnbm9yZWRBY3RpbyxcbiAgICAgIF9vcHRpb25zJGlnbm9yZWRBY3RpbzIgPSBfb3B0aW9ucy5pZ25vcmVkQWN0aW9uUGF0aHMsXG4gICAgICBpZ25vcmVkQWN0aW9uUGF0aHMgPSBfb3B0aW9ucyRpZ25vcmVkQWN0aW8yID09PSB2b2lkIDAgPyBbJ21ldGEuYXJnJ10gOiBfb3B0aW9ucyRpZ25vcmVkQWN0aW8yLFxuICAgICAgX29wdGlvbnMkaWdub3JlZFBhdGhzID0gX29wdGlvbnMuaWdub3JlZFBhdGhzLFxuICAgICAgaWdub3JlZFBhdGhzID0gX29wdGlvbnMkaWdub3JlZFBhdGhzID09PSB2b2lkIDAgPyBbXSA6IF9vcHRpb25zJGlnbm9yZWRQYXRocyxcbiAgICAgIF9vcHRpb25zJHdhcm5BZnRlciA9IF9vcHRpb25zLndhcm5BZnRlcixcbiAgICAgIHdhcm5BZnRlciA9IF9vcHRpb25zJHdhcm5BZnRlciA9PT0gdm9pZCAwID8gMzIgOiBfb3B0aW9ucyR3YXJuQWZ0ZXI7XG4gIHJldHVybiBmdW5jdGlvbiAoc3RvcmVBUEkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIGlmIChpZ25vcmVkQWN0aW9ucy5sZW5ndGggJiYgaWdub3JlZEFjdGlvbnMuaW5kZXhPZihhY3Rpb24udHlwZSkgIT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtZWFzdXJlVXRpbHMgPSBnZXRUaW1lTWVhc3VyZVV0aWxzKHdhcm5BZnRlciwgJ1NlcmlhbGl6YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZScpO1xuICAgICAgICBtZWFzdXJlVXRpbHMubWVhc3VyZVRpbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBmb3VuZEFjdGlvbk5vblNlcmlhbGl6YWJsZVZhbHVlID0gZmluZE5vblNlcmlhbGl6YWJsZVZhbHVlKGFjdGlvbiwgW10sIGlzU2VyaWFsaXphYmxlLCBnZXRFbnRyaWVzLCBpZ25vcmVkQWN0aW9uUGF0aHMpO1xuXG4gICAgICAgICAgaWYgKGZvdW5kQWN0aW9uTm9uU2VyaWFsaXphYmxlVmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBrZXlQYXRoID0gZm91bmRBY3Rpb25Ob25TZXJpYWxpemFibGVWYWx1ZS5rZXlQYXRoLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gZm91bmRBY3Rpb25Ob25TZXJpYWxpemFibGVWYWx1ZS52YWx1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBIG5vbi1zZXJpYWxpemFibGUgdmFsdWUgd2FzIGRldGVjdGVkIGluIGFuIGFjdGlvbiwgaW4gdGhlIHBhdGg6IGBcIiArIGtleVBhdGggKyBcImAuIFZhbHVlOlwiLCB2YWx1ZSwgJ1xcblRha2UgYSBsb29rIGF0IHRoZSBsb2dpYyB0aGF0IGRpc3BhdGNoZWQgdGhpcyBhY3Rpb246ICcsIGFjdGlvbiwgJ1xcbihTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvZmFxL2FjdGlvbnMjd2h5LXNob3VsZC10eXBlLWJlLWEtc3RyaW5nLW9yLWF0LWxlYXN0LXNlcmlhbGl6YWJsZS13aHktc2hvdWxkLW15LWFjdGlvbi10eXBlcy1iZS1jb25zdGFudHMpJywgJ1xcbihUbyBhbGxvdyBub24tc2VyaWFsaXphYmxlIHZhbHVlcyBzZWU6IGh0dHBzOi8vcmVkdXgtdG9vbGtpdC5qcy5vcmcvdXNhZ2UvdXNhZ2UtZ3VpZGUjd29ya2luZy13aXRoLW5vbi1zZXJpYWxpemFibGUtZGF0YSknKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV4dChhY3Rpb24pO1xuICAgICAgICBtZWFzdXJlVXRpbHMubWVhc3VyZVRpbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBzdGF0ZSA9IHN0b3JlQVBJLmdldFN0YXRlKCk7XG4gICAgICAgICAgdmFyIGZvdW5kU3RhdGVOb25TZXJpYWxpemFibGVWYWx1ZSA9IGZpbmROb25TZXJpYWxpemFibGVWYWx1ZShzdGF0ZSwgW10sIGlzU2VyaWFsaXphYmxlLCBnZXRFbnRyaWVzLCBpZ25vcmVkUGF0aHMpO1xuXG4gICAgICAgICAgaWYgKGZvdW5kU3RhdGVOb25TZXJpYWxpemFibGVWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGtleVBhdGggPSBmb3VuZFN0YXRlTm9uU2VyaWFsaXphYmxlVmFsdWUua2V5UGF0aCxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IGZvdW5kU3RhdGVOb25TZXJpYWxpemFibGVWYWx1ZS52YWx1ZTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBIG5vbi1zZXJpYWxpemFibGUgdmFsdWUgd2FzIGRldGVjdGVkIGluIHRoZSBzdGF0ZSwgaW4gdGhlIHBhdGg6IGBcIiArIGtleVBhdGggKyBcImAuIFZhbHVlOlwiLCB2YWx1ZSwgXCJcXG5UYWtlIGEgbG9vayBhdCB0aGUgcmVkdWNlcihzKSBoYW5kbGluZyB0aGlzIGFjdGlvbiB0eXBlOiBcIiArIGFjdGlvbi50eXBlICsgXCIuXFxuKFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy9mYXEvb3JnYW5pemluZy1zdGF0ZSNjYW4taS1wdXQtZnVuY3Rpb25zLXByb21pc2VzLW9yLW90aGVyLW5vbi1zZXJpYWxpemFibGUtaXRlbXMtaW4tbXktc3RvcmUtc3RhdGUpXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG1lYXN1cmVVdGlscy53YXJuSWZFeGNlZWRlZCgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xufVxuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oeCkge1xuICByZXR1cm4gdHlwZW9mIHggPT09ICdib29sZWFuJztcbn1cblxuZnVuY3Rpb24gY3VycnlHZXREZWZhdWx0TWlkZGxld2FyZSgpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGN1cnJpZWRHZXREZWZhdWx0TWlkZGxld2FyZShvcHRpb25zKSB7XG4gICAgcmV0dXJuIGdldERlZmF1bHRNaWRkbGV3YXJlKG9wdGlvbnMpO1xuICB9O1xufVxuLyoqXHJcbiAqIFJldHVybnMgYW55IGFycmF5IGNvbnRhaW5pbmcgdGhlIGRlZmF1bHQgbWlkZGxld2FyZSBpbnN0YWxsZWQgYnlcclxuICogYGNvbmZpZ3VyZVN0b3JlKClgLiBVc2VmdWwgaWYgeW91IHdhbnQgdG8gY29uZmlndXJlIHlvdXIgc3RvcmUgd2l0aCBhIGN1c3RvbVxyXG4gKiBgbWlkZGxld2FyZWAgYXJyYXkgYnV0IHN0aWxsIGtlZXAgdGhlIGRlZmF1bHQgc2V0LlxyXG4gKlxyXG4gKiBAcmV0dXJuIFRoZSBkZWZhdWx0IG1pZGRsZXdhcmUgdXNlZCBieSBgY29uZmlndXJlU3RvcmUoKWAuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cbmZ1bmN0aW9uIGdldERlZmF1bHRNaWRkbGV3YXJlKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgICBfb3B0aW9ucyR0aHVuayA9IF9vcHRpb25zLnRodW5rLFxuICAgICAgdGh1bmsgPSBfb3B0aW9ucyR0aHVuayA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHRodW5rLFxuICAgICAgX29wdGlvbnMkaW1tdXRhYmxlQ2hlID0gX29wdGlvbnMuaW1tdXRhYmxlQ2hlY2ssXG4gICAgICBpbW11dGFibGVDaGVjayA9IF9vcHRpb25zJGltbXV0YWJsZUNoZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJGltbXV0YWJsZUNoZSxcbiAgICAgIF9vcHRpb25zJHNlcmlhbGl6YWJsZSA9IF9vcHRpb25zLnNlcmlhbGl6YWJsZUNoZWNrLFxuICAgICAgc2VyaWFsaXphYmxlQ2hlY2sgPSBfb3B0aW9ucyRzZXJpYWxpemFibGUgPT09IHZvaWQgMCA/IHRydWUgOiBfb3B0aW9ucyRzZXJpYWxpemFibGU7XG4gIHZhciBtaWRkbGV3YXJlQXJyYXkgPSBuZXcgTWlkZGxld2FyZUFycmF5KCk7XG5cbiAgaWYgKHRodW5rKSB7XG4gICAgaWYgKGlzQm9vbGVhbih0aHVuaykpIHtcbiAgICAgIG1pZGRsZXdhcmVBcnJheS5wdXNoKHRodW5rTWlkZGxld2FyZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG1pZGRsZXdhcmVBcnJheS5wdXNoKHRodW5rTWlkZGxld2FyZS53aXRoRXh0cmFBcmd1bWVudCh0aHVuay5leHRyYUFyZ3VtZW50KSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBpZiAoaW1tdXRhYmxlQ2hlY2spIHtcbiAgICAgIC8qIFBST0RfU1RBUlRfUkVNT1ZFX1VNRCAqL1xuICAgICAgdmFyIGltbXV0YWJsZU9wdGlvbnMgPSB7fTtcblxuICAgICAgaWYgKCFpc0Jvb2xlYW4oaW1tdXRhYmxlQ2hlY2spKSB7XG4gICAgICAgIGltbXV0YWJsZU9wdGlvbnMgPSBpbW11dGFibGVDaGVjaztcbiAgICAgIH1cblxuICAgICAgbWlkZGxld2FyZUFycmF5LnVuc2hpZnQoY3JlYXRlSW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlKGltbXV0YWJsZU9wdGlvbnMpKTtcbiAgICAgIC8qIFBST0RfU1RPUF9SRU1PVkVfVU1EICovXG4gICAgfVxuXG4gICAgaWYgKHNlcmlhbGl6YWJsZUNoZWNrKSB7XG4gICAgICB2YXIgc2VyaWFsaXphYmxlT3B0aW9ucyA9IHt9O1xuXG4gICAgICBpZiAoIWlzQm9vbGVhbihzZXJpYWxpemFibGVDaGVjaykpIHtcbiAgICAgICAgc2VyaWFsaXphYmxlT3B0aW9ucyA9IHNlcmlhbGl6YWJsZUNoZWNrO1xuICAgICAgfVxuXG4gICAgICBtaWRkbGV3YXJlQXJyYXkucHVzaChjcmVhdGVTZXJpYWxpemFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUoc2VyaWFsaXphYmxlT3B0aW9ucykpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtaWRkbGV3YXJlQXJyYXk7XG59XG5cbnZhciBJU19QUk9EVUNUSU9OID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJztcbi8qKlxyXG4gKiBBIGZyaWVuZGx5IGFic3RyYWN0aW9uIG92ZXIgdGhlIHN0YW5kYXJkIFJlZHV4IGBjcmVhdGVTdG9yZSgpYCBmdW5jdGlvbi5cclxuICpcclxuICogQHBhcmFtIGNvbmZpZyBUaGUgc3RvcmUgY29uZmlndXJhdGlvbi5cclxuICogQHJldHVybnMgQSBjb25maWd1cmVkIFJlZHV4IHN0b3JlLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuXG5mdW5jdGlvbiBjb25maWd1cmVTdG9yZShvcHRpb25zKSB7XG4gIHZhciBjdXJyaWVkR2V0RGVmYXVsdE1pZGRsZXdhcmUgPSBjdXJyeUdldERlZmF1bHRNaWRkbGV3YXJlKCk7XG5cbiAgdmFyIF9yZWYgPSBvcHRpb25zIHx8IHt9LFxuICAgICAgX3JlZiRyZWR1Y2VyID0gX3JlZi5yZWR1Y2VyLFxuICAgICAgcmVkdWNlciA9IF9yZWYkcmVkdWNlciA9PT0gdm9pZCAwID8gdW5kZWZpbmVkIDogX3JlZiRyZWR1Y2VyLFxuICAgICAgX3JlZiRtaWRkbGV3YXJlID0gX3JlZi5taWRkbGV3YXJlLFxuICAgICAgbWlkZGxld2FyZSA9IF9yZWYkbWlkZGxld2FyZSA9PT0gdm9pZCAwID8gY3VycmllZEdldERlZmF1bHRNaWRkbGV3YXJlKCkgOiBfcmVmJG1pZGRsZXdhcmUsXG4gICAgICBfcmVmJGRldlRvb2xzID0gX3JlZi5kZXZUb29scyxcbiAgICAgIGRldlRvb2xzID0gX3JlZiRkZXZUb29scyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkZGV2VG9vbHMsXG4gICAgICBfcmVmJHByZWxvYWRlZFN0YXRlID0gX3JlZi5wcmVsb2FkZWRTdGF0ZSxcbiAgICAgIHByZWxvYWRlZFN0YXRlID0gX3JlZiRwcmVsb2FkZWRTdGF0ZSA9PT0gdm9pZCAwID8gdW5kZWZpbmVkIDogX3JlZiRwcmVsb2FkZWRTdGF0ZSxcbiAgICAgIF9yZWYkZW5oYW5jZXJzID0gX3JlZi5lbmhhbmNlcnMsXG4gICAgICBlbmhhbmNlcnMgPSBfcmVmJGVuaGFuY2VycyA9PT0gdm9pZCAwID8gdW5kZWZpbmVkIDogX3JlZiRlbmhhbmNlcnM7XG5cbiAgdmFyIHJvb3RSZWR1Y2VyO1xuXG4gIGlmICh0eXBlb2YgcmVkdWNlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJvb3RSZWR1Y2VyID0gcmVkdWNlcjtcbiAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KHJlZHVjZXIpKSB7XG4gICAgcm9vdFJlZHVjZXIgPSBjb21iaW5lUmVkdWNlcnMocmVkdWNlcik7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdcInJlZHVjZXJcIiBpcyBhIHJlcXVpcmVkIGFyZ3VtZW50LCBhbmQgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIGFuIG9iamVjdCBvZiBmdW5jdGlvbnMgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIGNvbWJpbmVSZWR1Y2VycycpO1xuICB9XG5cbiAgdmFyIG1pZGRsZXdhcmVFbmhhbmNlciA9IGFwcGx5TWlkZGxld2FyZS5hcHBseSh2b2lkIDAsIHR5cGVvZiBtaWRkbGV3YXJlID09PSAnZnVuY3Rpb24nID8gbWlkZGxld2FyZShjdXJyaWVkR2V0RGVmYXVsdE1pZGRsZXdhcmUpIDogbWlkZGxld2FyZSk7XG4gIHZhciBmaW5hbENvbXBvc2UgPSBjb21wb3NlO1xuXG4gIGlmIChkZXZUb29scykge1xuICAgIGZpbmFsQ29tcG9zZSA9IGNvbXBvc2VXaXRoRGV2VG9vbHMoX2V4dGVuZHMoe1xuICAgICAgLy8gRW5hYmxlIGNhcHR1cmUgb2Ygc3RhY2sgdHJhY2VzIGZvciBkaXNwYXRjaGVkIFJlZHV4IGFjdGlvbnNcbiAgICAgIHRyYWNlOiAhSVNfUFJPRFVDVElPTlxuICAgIH0sIHR5cGVvZiBkZXZUb29scyA9PT0gJ29iamVjdCcgJiYgZGV2VG9vbHMpKTtcbiAgfVxuXG4gIHZhciBzdG9yZUVuaGFuY2VycyA9IFttaWRkbGV3YXJlRW5oYW5jZXJdO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGVuaGFuY2VycykpIHtcbiAgICBzdG9yZUVuaGFuY2VycyA9IFttaWRkbGV3YXJlRW5oYW5jZXJdLmNvbmNhdChlbmhhbmNlcnMpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBlbmhhbmNlcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBzdG9yZUVuaGFuY2VycyA9IGVuaGFuY2VycyhzdG9yZUVuaGFuY2Vycyk7XG4gIH1cblxuICB2YXIgY29tcG9zZWRFbmhhbmNlciA9IGZpbmFsQ29tcG9zZS5hcHBseSh2b2lkIDAsIHN0b3JlRW5oYW5jZXJzKTtcbiAgcmV0dXJuIGNyZWF0ZVN0b3JlKHJvb3RSZWR1Y2VyLCBwcmVsb2FkZWRTdGF0ZSwgY29tcG9zZWRFbmhhbmNlcik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUFjdGlvbih0eXBlLCBwcmVwYXJlQWN0aW9uKSB7XG4gIGZ1bmN0aW9uIGFjdGlvbkNyZWF0b3IoKSB7XG4gICAgaWYgKHByZXBhcmVBY3Rpb24pIHtcbiAgICAgIHZhciBwcmVwYXJlZCA9IHByZXBhcmVBY3Rpb24uYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuXG4gICAgICBpZiAoIXByZXBhcmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigncHJlcGFyZUFjdGlvbiBkaWQgbm90IHJldHVybiBhbiBvYmplY3QnKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgcGF5bG9hZDogcHJlcGFyZWQucGF5bG9hZFxuICAgICAgfSwgJ21ldGEnIGluIHByZXBhcmVkICYmIHtcbiAgICAgICAgbWV0YTogcHJlcGFyZWQubWV0YVxuICAgICAgfSwge30sICdlcnJvcicgaW4gcHJlcGFyZWQgJiYge1xuICAgICAgICBlcnJvcjogcHJlcGFyZWQuZXJyb3JcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiB0eXBlLFxuICAgICAgcGF5bG9hZDogYXJndW1lbnRzLmxlbmd0aCA8PSAwID8gdW5kZWZpbmVkIDogYXJndW1lbnRzWzBdXG4gICAgfTtcbiAgfVxuXG4gIGFjdGlvbkNyZWF0b3IudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFwiXCIgKyB0eXBlO1xuICB9O1xuXG4gIGFjdGlvbkNyZWF0b3IudHlwZSA9IHR5cGU7XG5cbiAgYWN0aW9uQ3JlYXRvci5tYXRjaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9uLnR5cGUgPT09IHR5cGU7XG4gIH07XG5cbiAgcmV0dXJuIGFjdGlvbkNyZWF0b3I7XG59XG5mdW5jdGlvbiBpc0ZTQShhY3Rpb24pIHtcbiAgcmV0dXJuIGlzUGxhaW5PYmplY3QoYWN0aW9uKSAmJiB0eXBlb2YgYWN0aW9uLnR5cGUgPT09ICdzdHJpbmcnICYmIE9iamVjdC5rZXlzKGFjdGlvbikuZXZlcnkoaXNWYWxpZEtleSk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRLZXkoa2V5KSB7XG4gIHJldHVybiBbJ3R5cGUnLCAncGF5bG9hZCcsICdlcnJvcicsICdtZXRhJ10uaW5kZXhPZihrZXkpID4gLTE7XG59XG4vKipcclxuICogUmV0dXJucyB0aGUgYWN0aW9uIHR5cGUgb2YgdGhlIGFjdGlvbnMgY3JlYXRlZCBieSB0aGUgcGFzc2VkXHJcbiAqIGBjcmVhdGVBY3Rpb24oKWAtZ2VuZXJhdGVkIGFjdGlvbiBjcmVhdG9yIChhcmJpdHJhcnkgYWN0aW9uIGNyZWF0b3JzXHJcbiAqIGFyZSBub3Qgc3VwcG9ydGVkKS5cclxuICpcclxuICogQHBhcmFtIGFjdGlvbiBUaGUgYWN0aW9uIGNyZWF0b3Igd2hvc2UgYWN0aW9uIHR5cGUgdG8gZ2V0LlxyXG4gKiBAcmV0dXJucyBUaGUgYWN0aW9uIHR5cGUgdXNlZCBieSB0aGUgYWN0aW9uIGNyZWF0b3IuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cblxuZnVuY3Rpb24gZ2V0VHlwZShhY3Rpb25DcmVhdG9yKSB7XG4gIHJldHVybiBcIlwiICsgYWN0aW9uQ3JlYXRvcjtcbn1cblxuZnVuY3Rpb24gZXhlY3V0ZVJlZHVjZXJCdWlsZGVyQ2FsbGJhY2soYnVpbGRlckNhbGxiYWNrKSB7XG4gIHZhciBhY3Rpb25zTWFwID0ge307XG4gIHZhciBhY3Rpb25NYXRjaGVycyA9IFtdO1xuICB2YXIgZGVmYXVsdENhc2VSZWR1Y2VyO1xuICB2YXIgYnVpbGRlciA9IHtcbiAgICBhZGRDYXNlOiBmdW5jdGlvbiBhZGRDYXNlKHR5cGVPckFjdGlvbkNyZWF0b3IsIHJlZHVjZXIpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIC8qXHJcbiAgICAgICAgIHRvIGtlZXAgdGhlIGRlZmluaXRpb24gYnkgdGhlIHVzZXIgaW4gbGluZSB3aXRoIGFjdHVhbCBiZWhhdmlvcixcclxuICAgICAgICAgd2UgZW5mb3JjZSBgYWRkQ2FzZWAgdG8gYWx3YXlzIGJlIGNhbGxlZCBiZWZvcmUgY2FsbGluZyBgYWRkTWF0Y2hlcmBcclxuICAgICAgICAgYXMgbWF0Y2hpbmcgY2FzZXMgdGFrZSBwcmVjZWRlbmNlIG92ZXIgbWF0Y2hlcnNcclxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGFjdGlvbk1hdGNoZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BidWlsZGVyLmFkZENhc2VgIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBiZWZvcmUgY2FsbGluZyBgYnVpbGRlci5hZGRNYXRjaGVyYCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZmF1bHRDYXNlUmVkdWNlcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYGJ1aWxkZXIuYWRkQ2FzZWAgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGJlZm9yZSBjYWxsaW5nIGBidWlsZGVyLmFkZERlZmF1bHRDYXNlYCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHR5cGVPckFjdGlvbkNyZWF0b3IgPT09ICdzdHJpbmcnID8gdHlwZU9yQWN0aW9uQ3JlYXRvciA6IHR5cGVPckFjdGlvbkNyZWF0b3IudHlwZTtcblxuICAgICAgaWYgKHR5cGUgaW4gYWN0aW9uc01hcCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FkZENhc2UgY2Fubm90IGJlIGNhbGxlZCB3aXRoIHR3byByZWR1Y2VycyBmb3IgdGhlIHNhbWUgYWN0aW9uIHR5cGUnKTtcbiAgICAgIH1cblxuICAgICAgYWN0aW9uc01hcFt0eXBlXSA9IHJlZHVjZXI7XG4gICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9LFxuICAgIGFkZE1hdGNoZXI6IGZ1bmN0aW9uIGFkZE1hdGNoZXIobWF0Y2hlciwgcmVkdWNlcikge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRDYXNlUmVkdWNlcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYGJ1aWxkZXIuYWRkTWF0Y2hlcmAgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGJlZm9yZSBjYWxsaW5nIGBidWlsZGVyLmFkZERlZmF1bHRDYXNlYCcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGFjdGlvbk1hdGNoZXJzLnB1c2goe1xuICAgICAgICBtYXRjaGVyOiBtYXRjaGVyLFxuICAgICAgICByZWR1Y2VyOiByZWR1Y2VyXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH0sXG4gICAgYWRkRGVmYXVsdENhc2U6IGZ1bmN0aW9uIGFkZERlZmF1bHRDYXNlKHJlZHVjZXIpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmIChkZWZhdWx0Q2FzZVJlZHVjZXIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BidWlsZGVyLmFkZERlZmF1bHRDYXNlYCBjYW4gb25seSBiZSBjYWxsZWQgb25jZScpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGRlZmF1bHRDYXNlUmVkdWNlciA9IHJlZHVjZXI7XG4gICAgICByZXR1cm4gYnVpbGRlcjtcbiAgICB9XG4gIH07XG4gIGJ1aWxkZXJDYWxsYmFjayhidWlsZGVyKTtcbiAgcmV0dXJuIFthY3Rpb25zTWFwLCBhY3Rpb25NYXRjaGVycywgZGVmYXVsdENhc2VSZWR1Y2VyXTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUmVkdWNlcihpbml0aWFsU3RhdGUsIG1hcE9yQnVpbGRlckNhbGxiYWNrLCBhY3Rpb25NYXRjaGVycywgZGVmYXVsdENhc2VSZWR1Y2VyKSB7XG4gIGlmIChhY3Rpb25NYXRjaGVycyA9PT0gdm9pZCAwKSB7XG4gICAgYWN0aW9uTWF0Y2hlcnMgPSBbXTtcbiAgfVxuXG4gIHZhciBfcmVmID0gdHlwZW9mIG1hcE9yQnVpbGRlckNhbGxiYWNrID09PSAnZnVuY3Rpb24nID8gZXhlY3V0ZVJlZHVjZXJCdWlsZGVyQ2FsbGJhY2sobWFwT3JCdWlsZGVyQ2FsbGJhY2spIDogW21hcE9yQnVpbGRlckNhbGxiYWNrLCBhY3Rpb25NYXRjaGVycywgZGVmYXVsdENhc2VSZWR1Y2VyXSxcbiAgICAgIGFjdGlvbnNNYXAgPSBfcmVmWzBdLFxuICAgICAgZmluYWxBY3Rpb25NYXRjaGVycyA9IF9yZWZbMV0sXG4gICAgICBmaW5hbERlZmF1bHRDYXNlUmVkdWNlciA9IF9yZWZbMl07XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChzdGF0ZSwgYWN0aW9uKSB7XG4gICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHtcbiAgICAgIHN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICAgIH1cblxuICAgIHZhciBjYXNlUmVkdWNlcnMgPSBbYWN0aW9uc01hcFthY3Rpb24udHlwZV1dLmNvbmNhdChmaW5hbEFjdGlvbk1hdGNoZXJzLmZpbHRlcihmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgIHZhciBtYXRjaGVyID0gX3JlZjIubWF0Y2hlcjtcbiAgICAgIHJldHVybiBtYXRjaGVyKGFjdGlvbik7XG4gICAgfSkubWFwKGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgdmFyIHJlZHVjZXIgPSBfcmVmMy5yZWR1Y2VyO1xuICAgICAgcmV0dXJuIHJlZHVjZXI7XG4gICAgfSkpO1xuXG4gICAgaWYgKGNhc2VSZWR1Y2Vycy5maWx0ZXIoZnVuY3Rpb24gKGNyKSB7XG4gICAgICByZXR1cm4gISFjcjtcbiAgICB9KS5sZW5ndGggPT09IDApIHtcbiAgICAgIGNhc2VSZWR1Y2VycyA9IFtmaW5hbERlZmF1bHRDYXNlUmVkdWNlcl07XG4gICAgfVxuXG4gICAgcmV0dXJuIGNhc2VSZWR1Y2Vycy5yZWR1Y2UoZnVuY3Rpb24gKHByZXZpb3VzU3RhdGUsIGNhc2VSZWR1Y2VyKSB7XG4gICAgICBpZiAoY2FzZVJlZHVjZXIpIHtcbiAgICAgICAgaWYgKGlzRHJhZnQocHJldmlvdXNTdGF0ZSkpIHtcbiAgICAgICAgICAvLyBJZiBpdCdzIGFscmVhZHkgYSBkcmFmdCwgd2UgbXVzdCBhbHJlYWR5IGJlIGluc2lkZSBhIGBjcmVhdGVOZXh0U3RhdGVgIGNhbGwsXG4gICAgICAgICAgLy8gbGlrZWx5IGJlY2F1c2UgdGhpcyBpcyBiZWluZyB3cmFwcGVkIGluIGBjcmVhdGVSZWR1Y2VyYCwgYGNyZWF0ZVNsaWNlYCwgb3IgbmVzdGVkXG4gICAgICAgICAgLy8gaW5zaWRlIGFuIGV4aXN0aW5nIGRyYWZ0LiBJdCdzIHNhZmUgdG8ganVzdCBwYXNzIHRoZSBkcmFmdCB0byB0aGUgbXV0YXRvci5cbiAgICAgICAgICB2YXIgZHJhZnQgPSBwcmV2aW91c1N0YXRlOyAvLyBXZSBjYW4gYXNzdW1lIHRoaXMgaXMgYWxyZWFkeSBhIGRyYWZ0XG5cbiAgICAgICAgICB2YXIgcmVzdWx0ID0gY2FzZVJlZHVjZXIoZHJhZnQsIGFjdGlvbik7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1N0YXRlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoIWlzRHJhZnRhYmxlKHByZXZpb3VzU3RhdGUpKSB7XG4gICAgICAgICAgLy8gSWYgc3RhdGUgaXMgbm90IGRyYWZ0YWJsZSAoZXg6IGEgcHJpbWl0aXZlLCBzdWNoIGFzIDApLCB3ZSB3YW50IHRvIGRpcmVjdGx5XG4gICAgICAgICAgLy8gcmV0dXJuIHRoZSBjYXNlUmVkdWNlciBmdW5jIGFuZCBub3Qgd3JhcCBpdCB3aXRoIHByb2R1Y2UuXG4gICAgICAgICAgdmFyIF9yZXN1bHQgPSBjYXNlUmVkdWNlcihwcmV2aW91c1N0YXRlLCBhY3Rpb24pO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBfcmVzdWx0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzU3RhdGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzU3RhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRocm93IEVycm9yKCdBIGNhc2UgcmVkdWNlciBvbiBhIG5vbi1kcmFmdGFibGUgdmFsdWUgbXVzdCBub3QgcmV0dXJuIHVuZGVmaW5lZCcpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBfcmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEB0cy1pZ25vcmUgY3JlYXRlTmV4dFN0YXRlKCkgcHJvZHVjZXMgYW4gSW1tdXRhYmxlPERyYWZ0PFM+PiByYXRoZXJcbiAgICAgICAgICAvLyB0aGFuIGFuIEltbXV0YWJsZTxTPiwgYW5kIFR5cGVTY3JpcHQgY2Fubm90IGZpbmQgb3V0IGhvdyB0byByZWNvbmNpbGVcbiAgICAgICAgICAvLyB0aGVzZSB0d28gdHlwZXMuXG4gICAgICAgICAgcmV0dXJuIGNyZWF0ZU5leHRTdGF0ZShwcmV2aW91c1N0YXRlLCBmdW5jdGlvbiAoZHJhZnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjYXNlUmVkdWNlcihkcmFmdCwgYWN0aW9uKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNTdGF0ZTtcbiAgICB9LCBzdGF0ZSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldFR5cGUkMShzbGljZSwgYWN0aW9uS2V5KSB7XG4gIHJldHVybiBzbGljZSArIFwiL1wiICsgYWN0aW9uS2V5O1xufVxuLyoqXHJcbiAqIEEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFuIGluaXRpYWwgc3RhdGUsIGFuIG9iamVjdCBmdWxsIG9mIHJlZHVjZXJcclxuICogZnVuY3Rpb25zLCBhbmQgYSBcInNsaWNlIG5hbWVcIiwgYW5kIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzXHJcbiAqIGFjdGlvbiBjcmVhdG9ycyBhbmQgYWN0aW9uIHR5cGVzIHRoYXQgY29ycmVzcG9uZCB0byB0aGVcclxuICogcmVkdWNlcnMgYW5kIHN0YXRlLlxyXG4gKlxyXG4gKiBUaGUgYHJlZHVjZXJgIGFyZ3VtZW50IGlzIHBhc3NlZCB0byBgY3JlYXRlUmVkdWNlcigpYC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVTbGljZShvcHRpb25zKSB7XG4gIHZhciBuYW1lID0gb3B0aW9ucy5uYW1lLFxuICAgICAgaW5pdGlhbFN0YXRlID0gb3B0aW9ucy5pbml0aWFsU3RhdGU7XG5cbiAgaWYgKCFuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdgbmFtZWAgaXMgYSByZXF1aXJlZCBvcHRpb24gZm9yIGNyZWF0ZVNsaWNlJyk7XG4gIH1cblxuICB2YXIgcmVkdWNlcnMgPSBvcHRpb25zLnJlZHVjZXJzIHx8IHt9O1xuXG4gIHZhciBfcmVmID0gdHlwZW9mIG9wdGlvbnMuZXh0cmFSZWR1Y2VycyA9PT0gJ3VuZGVmaW5lZCcgPyBbXSA6IHR5cGVvZiBvcHRpb25zLmV4dHJhUmVkdWNlcnMgPT09ICdmdW5jdGlvbicgPyBleGVjdXRlUmVkdWNlckJ1aWxkZXJDYWxsYmFjayhvcHRpb25zLmV4dHJhUmVkdWNlcnMpIDogW29wdGlvbnMuZXh0cmFSZWR1Y2Vyc10sXG4gICAgICBfcmVmJCA9IF9yZWZbMF0sXG4gICAgICBleHRyYVJlZHVjZXJzID0gX3JlZiQgPT09IHZvaWQgMCA/IHt9IDogX3JlZiQsXG4gICAgICBfcmVmJDIgPSBfcmVmWzFdLFxuICAgICAgYWN0aW9uTWF0Y2hlcnMgPSBfcmVmJDIgPT09IHZvaWQgMCA/IFtdIDogX3JlZiQyLFxuICAgICAgX3JlZiQzID0gX3JlZlsyXSxcbiAgICAgIGRlZmF1bHRDYXNlUmVkdWNlciA9IF9yZWYkMyA9PT0gdm9pZCAwID8gdW5kZWZpbmVkIDogX3JlZiQzO1xuXG4gIHZhciByZWR1Y2VyTmFtZXMgPSBPYmplY3Qua2V5cyhyZWR1Y2Vycyk7XG4gIHZhciBzbGljZUNhc2VSZWR1Y2Vyc0J5TmFtZSA9IHt9O1xuICB2YXIgc2xpY2VDYXNlUmVkdWNlcnNCeVR5cGUgPSB7fTtcbiAgdmFyIGFjdGlvbkNyZWF0b3JzID0ge307XG4gIHJlZHVjZXJOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChyZWR1Y2VyTmFtZSkge1xuICAgIHZhciBtYXliZVJlZHVjZXJXaXRoUHJlcGFyZSA9IHJlZHVjZXJzW3JlZHVjZXJOYW1lXTtcbiAgICB2YXIgdHlwZSA9IGdldFR5cGUkMShuYW1lLCByZWR1Y2VyTmFtZSk7XG4gICAgdmFyIGNhc2VSZWR1Y2VyO1xuICAgIHZhciBwcmVwYXJlQ2FsbGJhY2s7XG5cbiAgICBpZiAoJ3JlZHVjZXInIGluIG1heWJlUmVkdWNlcldpdGhQcmVwYXJlKSB7XG4gICAgICBjYXNlUmVkdWNlciA9IG1heWJlUmVkdWNlcldpdGhQcmVwYXJlLnJlZHVjZXI7XG4gICAgICBwcmVwYXJlQ2FsbGJhY2sgPSBtYXliZVJlZHVjZXJXaXRoUHJlcGFyZS5wcmVwYXJlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYXNlUmVkdWNlciA9IG1heWJlUmVkdWNlcldpdGhQcmVwYXJlO1xuICAgIH1cblxuICAgIHNsaWNlQ2FzZVJlZHVjZXJzQnlOYW1lW3JlZHVjZXJOYW1lXSA9IGNhc2VSZWR1Y2VyO1xuICAgIHNsaWNlQ2FzZVJlZHVjZXJzQnlUeXBlW3R5cGVdID0gY2FzZVJlZHVjZXI7XG4gICAgYWN0aW9uQ3JlYXRvcnNbcmVkdWNlck5hbWVdID0gcHJlcGFyZUNhbGxiYWNrID8gY3JlYXRlQWN0aW9uKHR5cGUsIHByZXBhcmVDYWxsYmFjaykgOiBjcmVhdGVBY3Rpb24odHlwZSk7XG4gIH0pO1xuXG4gIHZhciBmaW5hbENhc2VSZWR1Y2VycyA9IF9leHRlbmRzKHt9LCBleHRyYVJlZHVjZXJzLCB7fSwgc2xpY2VDYXNlUmVkdWNlcnNCeVR5cGUpO1xuXG4gIHZhciByZWR1Y2VyID0gY3JlYXRlUmVkdWNlcihpbml0aWFsU3RhdGUsIGZpbmFsQ2FzZVJlZHVjZXJzLCBhY3Rpb25NYXRjaGVycywgZGVmYXVsdENhc2VSZWR1Y2VyKTtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIHJlZHVjZXI6IHJlZHVjZXIsXG4gICAgYWN0aW9uczogYWN0aW9uQ3JlYXRvcnMsXG4gICAgY2FzZVJlZHVjZXJzOiBzbGljZUNhc2VSZWR1Y2Vyc0J5TmFtZVxuICB9O1xufVxuXG5mdW5jdGlvbiBnZXRJbml0aWFsRW50aXR5U3RhdGUoKSB7XG4gIHJldHVybiB7XG4gICAgaWRzOiBbXSxcbiAgICBlbnRpdGllczoge31cbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUluaXRpYWxTdGF0ZUZhY3RvcnkoKSB7XG4gIGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZShhZGRpdGlvbmFsU3RhdGUpIHtcbiAgICBpZiAoYWRkaXRpb25hbFN0YXRlID09PSB2b2lkIDApIHtcbiAgICAgIGFkZGl0aW9uYWxTdGF0ZSA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKGdldEluaXRpYWxFbnRpdHlTdGF0ZSgpLCBhZGRpdGlvbmFsU3RhdGUpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGdldEluaXRpYWxTdGF0ZVxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTZWxlY3RvcnNGYWN0b3J5KCkge1xuICBmdW5jdGlvbiBnZXRTZWxlY3RvcnMoc2VsZWN0U3RhdGUpIHtcbiAgICB2YXIgc2VsZWN0SWRzID0gZnVuY3Rpb24gc2VsZWN0SWRzKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUuaWRzO1xuICAgIH07XG5cbiAgICB2YXIgc2VsZWN0RW50aXRpZXMgPSBmdW5jdGlvbiBzZWxlY3RFbnRpdGllcyhzdGF0ZSkge1xuICAgICAgcmV0dXJuIHN0YXRlLmVudGl0aWVzO1xuICAgIH07XG5cbiAgICB2YXIgc2VsZWN0QWxsID0gY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3Ioc2VsZWN0SWRzLCBzZWxlY3RFbnRpdGllcywgZnVuY3Rpb24gKGlkcywgZW50aXRpZXMpIHtcbiAgICAgIHJldHVybiBpZHMubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICByZXR1cm4gZW50aXRpZXNbaWRdO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICB2YXIgc2VsZWN0SWQgPSBmdW5jdGlvbiBzZWxlY3RJZChfLCBpZCkge1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH07XG5cbiAgICB2YXIgc2VsZWN0QnlJZCA9IGZ1bmN0aW9uIHNlbGVjdEJ5SWQoZW50aXRpZXMsIGlkKSB7XG4gICAgICByZXR1cm4gZW50aXRpZXNbaWRdO1xuICAgIH07XG5cbiAgICB2YXIgc2VsZWN0VG90YWwgPSBjcmVhdGVEcmFmdFNhZmVTZWxlY3RvcihzZWxlY3RJZHMsIGZ1bmN0aW9uIChpZHMpIHtcbiAgICAgIHJldHVybiBpZHMubGVuZ3RoO1xuICAgIH0pO1xuXG4gICAgaWYgKCFzZWxlY3RTdGF0ZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2VsZWN0SWRzOiBzZWxlY3RJZHMsXG4gICAgICAgIHNlbGVjdEVudGl0aWVzOiBzZWxlY3RFbnRpdGllcyxcbiAgICAgICAgc2VsZWN0QWxsOiBzZWxlY3RBbGwsXG4gICAgICAgIHNlbGVjdFRvdGFsOiBzZWxlY3RUb3RhbCxcbiAgICAgICAgc2VsZWN0QnlJZDogY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3Ioc2VsZWN0RW50aXRpZXMsIHNlbGVjdElkLCBzZWxlY3RCeUlkKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZWN0R2xvYmFsaXplZEVudGl0aWVzID0gY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3Ioc2VsZWN0U3RhdGUsIHNlbGVjdEVudGl0aWVzKTtcbiAgICByZXR1cm4ge1xuICAgICAgc2VsZWN0SWRzOiBjcmVhdGVEcmFmdFNhZmVTZWxlY3RvcihzZWxlY3RTdGF0ZSwgc2VsZWN0SWRzKSxcbiAgICAgIHNlbGVjdEVudGl0aWVzOiBzZWxlY3RHbG9iYWxpemVkRW50aXRpZXMsXG4gICAgICBzZWxlY3RBbGw6IGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yKHNlbGVjdFN0YXRlLCBzZWxlY3RBbGwpLFxuICAgICAgc2VsZWN0VG90YWw6IGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yKHNlbGVjdFN0YXRlLCBzZWxlY3RUb3RhbCksXG4gICAgICBzZWxlY3RCeUlkOiBjcmVhdGVEcmFmdFNhZmVTZWxlY3RvcihzZWxlY3RHbG9iYWxpemVkRW50aXRpZXMsIHNlbGVjdElkLCBzZWxlY3RCeUlkKVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldFNlbGVjdG9yczogZ2V0U2VsZWN0b3JzXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNpbmdsZUFyZ3VtZW50U3RhdGVPcGVyYXRvcihtdXRhdG9yKSB7XG4gIHZhciBvcGVyYXRvciA9IGNyZWF0ZVN0YXRlT3BlcmF0b3IoZnVuY3Rpb24gKF8sIHN0YXRlKSB7XG4gICAgcmV0dXJuIG11dGF0b3Ioc3RhdGUpO1xuICB9KTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9wZXJhdGlvbihzdGF0ZSkge1xuICAgIHJldHVybiBvcGVyYXRvcihzdGF0ZSwgdW5kZWZpbmVkKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVN0YXRlT3BlcmF0b3IobXV0YXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gb3BlcmF0aW9uKHN0YXRlLCBhcmcpIHtcbiAgICBmdW5jdGlvbiBpc1BheWxvYWRBY3Rpb25Bcmd1bWVudChhcmcpIHtcbiAgICAgIHJldHVybiBpc0ZTQShhcmcpO1xuICAgIH1cblxuICAgIHZhciBydW5NdXRhdG9yID0gZnVuY3Rpb24gcnVuTXV0YXRvcihkcmFmdCkge1xuICAgICAgaWYgKGlzUGF5bG9hZEFjdGlvbkFyZ3VtZW50KGFyZykpIHtcbiAgICAgICAgbXV0YXRvcihhcmcucGF5bG9hZCwgZHJhZnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbXV0YXRvcihhcmcsIGRyYWZ0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKGlzRHJhZnQoc3RhdGUpKSB7XG4gICAgICAvLyB3ZSBtdXN0IGFscmVhZHkgYmUgaW5zaWRlIGEgYGNyZWF0ZU5leHRTdGF0ZWAgY2FsbCwgbGlrZWx5IGJlY2F1c2VcbiAgICAgIC8vIHRoaXMgaXMgYmVpbmcgd3JhcHBlZCBpbiBgY3JlYXRlUmVkdWNlcmAgb3IgYGNyZWF0ZVNsaWNlYC5cbiAgICAgIC8vIEl0J3Mgc2FmZSB0byBqdXN0IHBhc3MgdGhlIGRyYWZ0IHRvIHRoZSBtdXRhdG9yLlxuICAgICAgcnVuTXV0YXRvcihzdGF0ZSk7IC8vIHNpbmNlIGl0J3MgYSBkcmFmdCwgd2UnbGwganVzdCByZXR1cm4gaXRcblxuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBAdHMtaWdub3JlIGNyZWF0ZU5leHRTdGF0ZSgpIHByb2R1Y2VzIGFuIEltbXV0YWJsZTxEcmFmdDxTPj4gcmF0aGVyXG4gICAgICAvLyB0aGFuIGFuIEltbXV0YWJsZTxTPiwgYW5kIFR5cGVTY3JpcHQgY2Fubm90IGZpbmQgb3V0IGhvdyB0byByZWNvbmNpbGVcbiAgICAgIC8vIHRoZXNlIHR3byB0eXBlcy5cbiAgICAgIHJldHVybiBjcmVhdGVOZXh0U3RhdGUoc3RhdGUsIHJ1bk11dGF0b3IpO1xuICAgIH1cbiAgfTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0SWRWYWx1ZShlbnRpdHksIHNlbGVjdElkKSB7XG4gIHZhciBrZXkgPSBzZWxlY3RJZChlbnRpdHkpO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc29sZS53YXJuKCdUaGUgZW50aXR5IHBhc3NlZCB0byB0aGUgYHNlbGVjdElkYCBpbXBsZW1lbnRhdGlvbiByZXR1cm5lZCB1bmRlZmluZWQuJywgJ1lvdSBzaG91bGQgcHJvYmFibHkgcHJvdmlkZSB5b3VyIG93biBgc2VsZWN0SWRgIGltcGxlbWVudGF0aW9uLicsICdUaGUgZW50aXR5IHRoYXQgd2FzIHBhc3NlZDonLCBlbnRpdHksICdUaGUgYHNlbGVjdElkYCBpbXBsZW1lbnRhdGlvbjonLCBzZWxlY3RJZC50b1N0cmluZygpKTtcbiAgfVxuXG4gIHJldHVybiBrZXk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVVuc29ydGVkU3RhdGVBZGFwdGVyKHNlbGVjdElkKSB7XG4gIGZ1bmN0aW9uIGFkZE9uZU11dGFibHkoZW50aXR5LCBzdGF0ZSkge1xuICAgIHZhciBrZXkgPSBzZWxlY3RJZFZhbHVlKGVudGl0eSwgc2VsZWN0SWQpO1xuXG4gICAgaWYgKGtleSBpbiBzdGF0ZS5lbnRpdGllcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHN0YXRlLmlkcy5wdXNoKGtleSk7XG4gICAgc3RhdGUuZW50aXRpZXNba2V5XSA9IGVudGl0eTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE1hbnlNdXRhYmx5KGVudGl0aWVzLCBzdGF0ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRpdGllcykpIHtcbiAgICAgIGVudGl0aWVzID0gT2JqZWN0LnZhbHVlcyhlbnRpdGllcyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZW50aXRpZXMsIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheShfaXRlcmF0b3IpLCBfaSA9IDAsIF9pdGVyYXRvciA9IF9pc0FycmF5ID8gX2l0ZXJhdG9yIDogX2l0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0oKTs7KSB7XG4gICAgICB2YXIgX3JlZjtcblxuICAgICAgaWYgKF9pc0FycmF5KSB7XG4gICAgICAgIGlmIChfaSA+PSBfaXRlcmF0b3IubGVuZ3RoKSBicmVhaztcbiAgICAgICAgX3JlZiA9IF9pdGVyYXRvcltfaSsrXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9pID0gX2l0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKF9pLmRvbmUpIGJyZWFrO1xuICAgICAgICBfcmVmID0gX2kudmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbnRpdHkgPSBfcmVmO1xuICAgICAgYWRkT25lTXV0YWJseShlbnRpdHksIHN0YXRlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBbGxNdXRhYmx5KGVudGl0aWVzLCBzdGF0ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShlbnRpdGllcykpIHtcbiAgICAgIGVudGl0aWVzID0gT2JqZWN0LnZhbHVlcyhlbnRpdGllcyk7XG4gICAgfVxuXG4gICAgc3RhdGUuaWRzID0gW107XG4gICAgc3RhdGUuZW50aXRpZXMgPSB7fTtcbiAgICBhZGRNYW55TXV0YWJseShlbnRpdGllcywgc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlT25lTXV0YWJseShrZXksIHN0YXRlKSB7XG4gICAgcmV0dXJuIHJlbW92ZU1hbnlNdXRhYmx5KFtrZXldLCBzdGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVNYW55TXV0YWJseShrZXlzLCBzdGF0ZSkge1xuICAgIHZhciBkaWRNdXRhdGUgPSBmYWxzZTtcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKGtleSBpbiBzdGF0ZS5lbnRpdGllcykge1xuICAgICAgICBkZWxldGUgc3RhdGUuZW50aXRpZXNba2V5XTtcbiAgICAgICAgZGlkTXV0YXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChkaWRNdXRhdGUpIHtcbiAgICAgIHN0YXRlLmlkcyA9IHN0YXRlLmlkcy5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiBpZCBpbiBzdGF0ZS5lbnRpdGllcztcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUFsbE11dGFibHkoc3RhdGUpIHtcbiAgICBPYmplY3QuYXNzaWduKHN0YXRlLCB7XG4gICAgICBpZHM6IFtdLFxuICAgICAgZW50aXRpZXM6IHt9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB0YWtlTmV3S2V5KGtleXMsIHVwZGF0ZSwgc3RhdGUpIHtcbiAgICB2YXIgb3JpZ2luYWwgPSBzdGF0ZS5lbnRpdGllc1t1cGRhdGUuaWRdO1xuICAgIHZhciB1cGRhdGVkID0gT2JqZWN0LmFzc2lnbih7fSwgb3JpZ2luYWwsIHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICB2YXIgbmV3S2V5ID0gc2VsZWN0SWRWYWx1ZSh1cGRhdGVkLCBzZWxlY3RJZCk7XG4gICAgdmFyIGhhc05ld0tleSA9IG5ld0tleSAhPT0gdXBkYXRlLmlkO1xuXG4gICAgaWYgKGhhc05ld0tleSkge1xuICAgICAga2V5c1t1cGRhdGUuaWRdID0gbmV3S2V5O1xuICAgICAgZGVsZXRlIHN0YXRlLmVudGl0aWVzW3VwZGF0ZS5pZF07XG4gICAgfVxuXG4gICAgc3RhdGUuZW50aXRpZXNbbmV3S2V5XSA9IHVwZGF0ZWQ7XG4gICAgcmV0dXJuIGhhc05ld0tleTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU9uZU11dGFibHkodXBkYXRlLCBzdGF0ZSkge1xuICAgIHJldHVybiB1cGRhdGVNYW55TXV0YWJseShbdXBkYXRlXSwgc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTWFueU11dGFibHkodXBkYXRlcywgc3RhdGUpIHtcbiAgICB2YXIgbmV3S2V5cyA9IHt9O1xuICAgIHZhciB1cGRhdGVzUGVyRW50aXR5ID0ge307XG4gICAgdXBkYXRlcy5mb3JFYWNoKGZ1bmN0aW9uICh1cGRhdGUpIHtcbiAgICAgIC8vIE9ubHkgYXBwbHkgdXBkYXRlcyB0byBlbnRpdGllcyB0aGF0IGN1cnJlbnRseSBleGlzdFxuICAgICAgaWYgKHVwZGF0ZS5pZCBpbiBzdGF0ZS5lbnRpdGllcykge1xuICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgdXBkYXRlcyB0byBvbmUgZW50aXR5LCBtZXJnZSB0aGVtIHRvZ2V0aGVyXG4gICAgICAgIHVwZGF0ZXNQZXJFbnRpdHlbdXBkYXRlLmlkXSA9IHtcbiAgICAgICAgICBpZDogdXBkYXRlLmlkLFxuICAgICAgICAgIC8vIFNwcmVhZHMgaWdub3JlIGZhbHN5IHZhbHVlcywgc28gdGhpcyB3b3JrcyBldmVuIGlmIHRoZXJlIGlzbid0XG4gICAgICAgICAgLy8gYW4gZXhpc3RpbmcgdXBkYXRlIGFscmVhZHkgYXQgdGhpcyBrZXlcbiAgICAgICAgICBjaGFuZ2VzOiBfZXh0ZW5kcyh7fSwgdXBkYXRlc1BlckVudGl0eVt1cGRhdGUuaWRdID8gdXBkYXRlc1BlckVudGl0eVt1cGRhdGUuaWRdLmNoYW5nZXMgOiBudWxsLCB7fSwgdXBkYXRlLmNoYW5nZXMpXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gICAgdXBkYXRlcyA9IE9iamVjdC52YWx1ZXModXBkYXRlc1BlckVudGl0eSk7XG4gICAgdmFyIGRpZE11dGF0ZUVudGl0aWVzID0gdXBkYXRlcy5sZW5ndGggPiAwO1xuXG4gICAgaWYgKGRpZE11dGF0ZUVudGl0aWVzKSB7XG4gICAgICB2YXIgZGlkTXV0YXRlSWRzID0gdXBkYXRlcy5maWx0ZXIoZnVuY3Rpb24gKHVwZGF0ZSkge1xuICAgICAgICByZXR1cm4gdGFrZU5ld0tleShuZXdLZXlzLCB1cGRhdGUsIHN0YXRlKTtcbiAgICAgIH0pLmxlbmd0aCA+IDA7XG5cbiAgICAgIGlmIChkaWRNdXRhdGVJZHMpIHtcbiAgICAgICAgc3RhdGUuaWRzID0gc3RhdGUuaWRzLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICByZXR1cm4gbmV3S2V5c1tpZF0gfHwgaWQ7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwc2VydE9uZU11dGFibHkoZW50aXR5LCBzdGF0ZSkge1xuICAgIHJldHVybiB1cHNlcnRNYW55TXV0YWJseShbZW50aXR5XSwgc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBzZXJ0TWFueU11dGFibHkoZW50aXRpZXMsIHN0YXRlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGVudGl0aWVzKSkge1xuICAgICAgZW50aXRpZXMgPSBPYmplY3QudmFsdWVzKGVudGl0aWVzKTtcbiAgICB9XG5cbiAgICB2YXIgYWRkZWQgPSBbXTtcbiAgICB2YXIgdXBkYXRlZCA9IFtdO1xuXG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IGVudGl0aWVzLCBfaXNBcnJheTIgPSBBcnJheS5pc0FycmF5KF9pdGVyYXRvcjIpLCBfaTIgPSAwLCBfaXRlcmF0b3IyID0gX2lzQXJyYXkyID8gX2l0ZXJhdG9yMiA6IF9pdGVyYXRvcjJbU3ltYm9sLml0ZXJhdG9yXSgpOzspIHtcbiAgICAgIHZhciBfcmVmMjtcblxuICAgICAgaWYgKF9pc0FycmF5Mikge1xuICAgICAgICBpZiAoX2kyID49IF9pdGVyYXRvcjIubGVuZ3RoKSBicmVhaztcbiAgICAgICAgX3JlZjIgPSBfaXRlcmF0b3IyW19pMisrXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9pMiA9IF9pdGVyYXRvcjIubmV4dCgpO1xuICAgICAgICBpZiAoX2kyLmRvbmUpIGJyZWFrO1xuICAgICAgICBfcmVmMiA9IF9pMi52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudGl0eSA9IF9yZWYyO1xuICAgICAgdmFyIGlkID0gc2VsZWN0SWRWYWx1ZShlbnRpdHksIHNlbGVjdElkKTtcblxuICAgICAgaWYgKGlkIGluIHN0YXRlLmVudGl0aWVzKSB7XG4gICAgICAgIHVwZGF0ZWQucHVzaCh7XG4gICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgIGNoYW5nZXM6IGVudGl0eVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZGVkLnB1c2goZW50aXR5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVNYW55TXV0YWJseSh1cGRhdGVkLCBzdGF0ZSk7XG4gICAgYWRkTWFueU11dGFibHkoYWRkZWQsIHN0YXRlKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgcmVtb3ZlQWxsOiBjcmVhdGVTaW5nbGVBcmd1bWVudFN0YXRlT3BlcmF0b3IocmVtb3ZlQWxsTXV0YWJseSksXG4gICAgYWRkT25lOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKGFkZE9uZU11dGFibHkpLFxuICAgIGFkZE1hbnk6IGNyZWF0ZVN0YXRlT3BlcmF0b3IoYWRkTWFueU11dGFibHkpLFxuICAgIHNldEFsbDogY3JlYXRlU3RhdGVPcGVyYXRvcihzZXRBbGxNdXRhYmx5KSxcbiAgICB1cGRhdGVPbmU6IGNyZWF0ZVN0YXRlT3BlcmF0b3IodXBkYXRlT25lTXV0YWJseSksXG4gICAgdXBkYXRlTWFueTogY3JlYXRlU3RhdGVPcGVyYXRvcih1cGRhdGVNYW55TXV0YWJseSksXG4gICAgdXBzZXJ0T25lOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHVwc2VydE9uZU11dGFibHkpLFxuICAgIHVwc2VydE1hbnk6IGNyZWF0ZVN0YXRlT3BlcmF0b3IodXBzZXJ0TWFueU11dGFibHkpLFxuICAgIHJlbW92ZU9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcihyZW1vdmVPbmVNdXRhYmx5KSxcbiAgICByZW1vdmVNYW55OiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHJlbW92ZU1hbnlNdXRhYmx5KVxuICB9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVTb3J0ZWRTdGF0ZUFkYXB0ZXIoc2VsZWN0SWQsIHNvcnQpIHtcbiAgdmFyIF9jcmVhdGVVbnNvcnRlZFN0YXRlQSA9IGNyZWF0ZVVuc29ydGVkU3RhdGVBZGFwdGVyKHNlbGVjdElkKSxcbiAgICAgIHJlbW92ZU9uZSA9IF9jcmVhdGVVbnNvcnRlZFN0YXRlQS5yZW1vdmVPbmUsXG4gICAgICByZW1vdmVNYW55ID0gX2NyZWF0ZVVuc29ydGVkU3RhdGVBLnJlbW92ZU1hbnksXG4gICAgICByZW1vdmVBbGwgPSBfY3JlYXRlVW5zb3J0ZWRTdGF0ZUEucmVtb3ZlQWxsO1xuXG4gIGZ1bmN0aW9uIGFkZE9uZU11dGFibHkoZW50aXR5LCBzdGF0ZSkge1xuICAgIHJldHVybiBhZGRNYW55TXV0YWJseShbZW50aXR5XSwgc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkTWFueU11dGFibHkobmV3TW9kZWxzLCBzdGF0ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShuZXdNb2RlbHMpKSB7XG4gICAgICBuZXdNb2RlbHMgPSBPYmplY3QudmFsdWVzKG5ld01vZGVscyk7XG4gICAgfVxuXG4gICAgdmFyIG1vZGVscyA9IG5ld01vZGVscy5maWx0ZXIoZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICByZXR1cm4gIShzZWxlY3RJZFZhbHVlKG1vZGVsLCBzZWxlY3RJZCkgaW4gc3RhdGUuZW50aXRpZXMpO1xuICAgIH0pO1xuXG4gICAgaWYgKG1vZGVscy5sZW5ndGggIT09IDApIHtcbiAgICAgIG1lcmdlKG1vZGVscywgc3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFsbE11dGFibHkobW9kZWxzLCBzdGF0ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShtb2RlbHMpKSB7XG4gICAgICBtb2RlbHMgPSBPYmplY3QudmFsdWVzKG1vZGVscyk7XG4gICAgfVxuXG4gICAgc3RhdGUuZW50aXRpZXMgPSB7fTtcbiAgICBzdGF0ZS5pZHMgPSBbXTtcbiAgICBhZGRNYW55TXV0YWJseShtb2RlbHMsIHN0YXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU9uZU11dGFibHkodXBkYXRlLCBzdGF0ZSkge1xuICAgIHJldHVybiB1cGRhdGVNYW55TXV0YWJseShbdXBkYXRlXSwgc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdGFrZVVwZGF0ZWRNb2RlbChtb2RlbHMsIHVwZGF0ZSwgc3RhdGUpIHtcbiAgICBpZiAoISh1cGRhdGUuaWQgaW4gc3RhdGUuZW50aXRpZXMpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG9yaWdpbmFsID0gc3RhdGUuZW50aXRpZXNbdXBkYXRlLmlkXTtcbiAgICB2YXIgdXBkYXRlZCA9IE9iamVjdC5hc3NpZ24oe30sIG9yaWdpbmFsLCB1cGRhdGUuY2hhbmdlcyk7XG4gICAgdmFyIG5ld0tleSA9IHNlbGVjdElkVmFsdWUodXBkYXRlZCwgc2VsZWN0SWQpO1xuICAgIGRlbGV0ZSBzdGF0ZS5lbnRpdGllc1t1cGRhdGUuaWRdO1xuICAgIG1vZGVscy5wdXNoKHVwZGF0ZWQpO1xuICAgIHJldHVybiBuZXdLZXkgIT09IHVwZGF0ZS5pZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZU1hbnlNdXRhYmx5KHVwZGF0ZXMsIHN0YXRlKSB7XG4gICAgdmFyIG1vZGVscyA9IFtdO1xuICAgIHVwZGF0ZXMuZm9yRWFjaChmdW5jdGlvbiAodXBkYXRlKSB7XG4gICAgICByZXR1cm4gdGFrZVVwZGF0ZWRNb2RlbChtb2RlbHMsIHVwZGF0ZSwgc3RhdGUpO1xuICAgIH0pO1xuXG4gICAgaWYgKG1vZGVscy5sZW5ndGggIT09IDApIHtcbiAgICAgIG1lcmdlKG1vZGVscywgc3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwc2VydE9uZU11dGFibHkoZW50aXR5LCBzdGF0ZSkge1xuICAgIHJldHVybiB1cHNlcnRNYW55TXV0YWJseShbZW50aXR5XSwgc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBzZXJ0TWFueU11dGFibHkoZW50aXRpZXMsIHN0YXRlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGVudGl0aWVzKSkge1xuICAgICAgZW50aXRpZXMgPSBPYmplY3QudmFsdWVzKGVudGl0aWVzKTtcbiAgICB9XG5cbiAgICB2YXIgYWRkZWQgPSBbXTtcbiAgICB2YXIgdXBkYXRlZCA9IFtdO1xuXG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZW50aXRpZXMsIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheShfaXRlcmF0b3IpLCBfaSA9IDAsIF9pdGVyYXRvciA9IF9pc0FycmF5ID8gX2l0ZXJhdG9yIDogX2l0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0oKTs7KSB7XG4gICAgICB2YXIgX3JlZjtcblxuICAgICAgaWYgKF9pc0FycmF5KSB7XG4gICAgICAgIGlmIChfaSA+PSBfaXRlcmF0b3IubGVuZ3RoKSBicmVhaztcbiAgICAgICAgX3JlZiA9IF9pdGVyYXRvcltfaSsrXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9pID0gX2l0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKF9pLmRvbmUpIGJyZWFrO1xuICAgICAgICBfcmVmID0gX2kudmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbnRpdHkgPSBfcmVmO1xuICAgICAgdmFyIGlkID0gc2VsZWN0SWRWYWx1ZShlbnRpdHksIHNlbGVjdElkKTtcblxuICAgICAgaWYgKGlkIGluIHN0YXRlLmVudGl0aWVzKSB7XG4gICAgICAgIHVwZGF0ZWQucHVzaCh7XG4gICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgIGNoYW5nZXM6IGVudGl0eVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZGVkLnB1c2goZW50aXR5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVNYW55TXV0YWJseSh1cGRhdGVkLCBzdGF0ZSk7XG4gICAgYWRkTWFueU11dGFibHkoYWRkZWQsIHN0YXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFyZUFycmF5c0VxdWFsKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhLmxlbmd0aCAmJiBpIDwgYi5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGFbaV0gPT09IGJbaV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1lcmdlKG1vZGVscywgc3RhdGUpIHtcbiAgICBtb2RlbHMuc29ydChzb3J0KTsgLy8gSW5zZXJ0L292ZXJ3cml0ZSBhbGwgbmV3L3VwZGF0ZWRcblxuICAgIG1vZGVscy5mb3JFYWNoKGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgc3RhdGUuZW50aXRpZXNbc2VsZWN0SWQobW9kZWwpXSA9IG1vZGVsO1xuICAgIH0pO1xuICAgIHZhciBhbGxFbnRpdGllcyA9IE9iamVjdC52YWx1ZXMoc3RhdGUuZW50aXRpZXMpO1xuICAgIGFsbEVudGl0aWVzLnNvcnQoc29ydCk7XG4gICAgdmFyIG5ld1NvcnRlZElkcyA9IGFsbEVudGl0aWVzLm1hcChzZWxlY3RJZCk7XG4gICAgdmFyIGlkcyA9IHN0YXRlLmlkcztcblxuICAgIGlmICghYXJlQXJyYXlzRXF1YWwoaWRzLCBuZXdTb3J0ZWRJZHMpKSB7XG4gICAgICBzdGF0ZS5pZHMgPSBuZXdTb3J0ZWRJZHM7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZW1vdmVPbmU6IHJlbW92ZU9uZSxcbiAgICByZW1vdmVNYW55OiByZW1vdmVNYW55LFxuICAgIHJlbW92ZUFsbDogcmVtb3ZlQWxsLFxuICAgIGFkZE9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcihhZGRPbmVNdXRhYmx5KSxcbiAgICB1cGRhdGVPbmU6IGNyZWF0ZVN0YXRlT3BlcmF0b3IodXBkYXRlT25lTXV0YWJseSksXG4gICAgdXBzZXJ0T25lOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHVwc2VydE9uZU11dGFibHkpLFxuICAgIHNldEFsbDogY3JlYXRlU3RhdGVPcGVyYXRvcihzZXRBbGxNdXRhYmx5KSxcbiAgICBhZGRNYW55OiBjcmVhdGVTdGF0ZU9wZXJhdG9yKGFkZE1hbnlNdXRhYmx5KSxcbiAgICB1cGRhdGVNYW55OiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHVwZGF0ZU1hbnlNdXRhYmx5KSxcbiAgICB1cHNlcnRNYW55OiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHVwc2VydE1hbnlNdXRhYmx5KVxuICB9O1xufVxuXG4vKipcclxuICpcclxuICogQHBhcmFtIG9wdGlvbnNcclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlRW50aXR5QWRhcHRlcihvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICB2YXIgX3NvcnRDb21wYXJlciRzZWxlY3RJID0gX2V4dGVuZHMoe1xuICAgIHNvcnRDb21wYXJlcjogZmFsc2UsXG4gICAgc2VsZWN0SWQ6IGZ1bmN0aW9uIHNlbGVjdElkKGluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuaWQ7XG4gICAgfVxuICB9LCBvcHRpb25zKSxcbiAgICAgIHNlbGVjdElkID0gX3NvcnRDb21wYXJlciRzZWxlY3RJLnNlbGVjdElkLFxuICAgICAgc29ydENvbXBhcmVyID0gX3NvcnRDb21wYXJlciRzZWxlY3RJLnNvcnRDb21wYXJlcjtcblxuICB2YXIgc3RhdGVGYWN0b3J5ID0gY3JlYXRlSW5pdGlhbFN0YXRlRmFjdG9yeSgpO1xuICB2YXIgc2VsZWN0b3JzRmFjdG9yeSA9IGNyZWF0ZVNlbGVjdG9yc0ZhY3RvcnkoKTtcbiAgdmFyIHN0YXRlQWRhcHRlciA9IHNvcnRDb21wYXJlciA/IGNyZWF0ZVNvcnRlZFN0YXRlQWRhcHRlcihzZWxlY3RJZCwgc29ydENvbXBhcmVyKSA6IGNyZWF0ZVVuc29ydGVkU3RhdGVBZGFwdGVyKHNlbGVjdElkKTtcbiAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICBzZWxlY3RJZDogc2VsZWN0SWQsXG4gICAgc29ydENvbXBhcmVyOiBzb3J0Q29tcGFyZXJcbiAgfSwgc3RhdGVGYWN0b3J5LCB7fSwgc2VsZWN0b3JzRmFjdG9yeSwge30sIHN0YXRlQWRhcHRlcik7XG59XG5cbi8vIEEgdHlwZSBvZiBwcm9taXNlLWxpa2UgdGhhdCByZXNvbHZlcyBzeW5jaHJvbm91c2x5IGFuZCBzdXBwb3J0cyBvbmx5IG9uZSBvYnNlcnZlclxuXG5jb25zdCBfaXRlcmF0b3JTeW1ib2wgPSAvKiNfX1BVUkVfXyovIHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgPyAoU3ltYm9sLml0ZXJhdG9yIHx8IChTeW1ib2wuaXRlcmF0b3IgPSBTeW1ib2woXCJTeW1ib2wuaXRlcmF0b3JcIikpKSA6IFwiQEBpdGVyYXRvclwiO1xuXG5jb25zdCBfYXN5bmNJdGVyYXRvclN5bWJvbCA9IC8qI19fUFVSRV9fKi8gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiA/IChTeW1ib2wuYXN5bmNJdGVyYXRvciB8fCAoU3ltYm9sLmFzeW5jSXRlcmF0b3IgPSBTeW1ib2woXCJTeW1ib2wuYXN5bmNJdGVyYXRvclwiKSkpIDogXCJAQGFzeW5jSXRlcmF0b3JcIjtcblxuLy8gQXN5bmNocm9ub3VzbHkgY2FsbCBhIGZ1bmN0aW9uIGFuZCBzZW5kIGVycm9ycyB0byByZWNvdmVyeSBjb250aW51YXRpb25cbmZ1bmN0aW9uIF9jYXRjaChib2R5LCByZWNvdmVyKSB7XG5cdHRyeSB7XG5cdFx0dmFyIHJlc3VsdCA9IGJvZHkoKTtcblx0fSBjYXRjaChlKSB7XG5cdFx0cmV0dXJuIHJlY292ZXIoZSk7XG5cdH1cblx0aWYgKHJlc3VsdCAmJiByZXN1bHQudGhlbikge1xuXHRcdHJldHVybiByZXN1bHQudGhlbih2b2lkIDAsIHJlY292ZXIpO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbi8vIEJvcnJvd2VkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2FpL25hbm9pZC9ibG9iLzMuMC4yL25vbi1zZWN1cmUvaW5kZXguanNcbi8vIFRoaXMgYWxwaGFiZXQgdXNlcyBgQS1aYS16MC05Xy1gIHN5bWJvbHMuIEEgZ2VuZXRpYyBhbGdvcml0aG0gaGVscGVkXG4vLyBvcHRpbWl6ZSB0aGUgZ3ppcCBjb21wcmVzc2lvbiBmb3IgdGhpcyBhbHBoYWJldC5cbnZhciB1cmxBbHBoYWJldCA9ICdNb2R1bGVTeW1iaGFzT3duUHItMDEyMzQ1Njc4OUFCQ0RFRkdITlJWZmdjdGlVdnpfS3FZVEprTHhwWlhJalFXJztcbi8qKlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuXG52YXIgbmFub2lkID0gZnVuY3Rpb24gbmFub2lkKHNpemUpIHtcbiAgaWYgKHNpemUgPT09IHZvaWQgMCkge1xuICAgIHNpemUgPSAyMTtcbiAgfVxuXG4gIHZhciBpZCA9ICcnOyAvLyBBIGNvbXBhY3QgYWx0ZXJuYXRpdmUgZm9yIGBmb3IgKHZhciBpID0gMDsgaSA8IHN0ZXA7IGkrKylgLlxuXG4gIHZhciBpID0gc2l6ZTtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgLy8gYHwgMGAgaXMgbW9yZSBjb21wYWN0IGFuZCBmYXN0ZXIgdGhhbiBgTWF0aC5mbG9vcigpYC5cbiAgICBpZCArPSB1cmxBbHBoYWJldFtNYXRoLnJhbmRvbSgpICogNjQgfCAwXTtcbiAgfVxuXG4gIHJldHVybiBpZDtcbn07XG5cbnZhciBjb21tb25Qcm9wZXJ0aWVzID0gWyduYW1lJywgJ21lc3NhZ2UnLCAnc3RhY2snLCAnY29kZSddO1xuXG52YXIgUmVqZWN0V2l0aFZhbHVlID0gZnVuY3Rpb24gUmVqZWN0V2l0aFZhbHVlKHBheWxvYWQpIHtcbiAgdGhpcy5wYXlsb2FkID0gcGF5bG9hZDtcbiAgdGhpcy5uYW1lID0gJ1JlamVjdFdpdGhWYWx1ZSc7XG4gIHRoaXMubWVzc2FnZSA9ICdSZWplY3RlZCc7XG59OyAvLyBSZXdvcmtlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9zaW5kcmVzb3JodXMvc2VyaWFsaXplLWVycm9yXG5cblxudmFyIG1pbmlTZXJpYWxpemVFcnJvciA9IGZ1bmN0aW9uIG1pbmlTZXJpYWxpemVFcnJvcih2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgIHZhciBzaW1wbGVFcnJvciA9IHt9O1xuXG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gY29tbW9uUHJvcGVydGllcywgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5KF9pdGVyYXRvciksIF9pID0gMCwgX2l0ZXJhdG9yID0gX2lzQXJyYXkgPyBfaXRlcmF0b3IgOiBfaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSgpOzspIHtcbiAgICAgIHZhciBfcmVmO1xuXG4gICAgICBpZiAoX2lzQXJyYXkpIHtcbiAgICAgICAgaWYgKF9pID49IF9pdGVyYXRvci5sZW5ndGgpIGJyZWFrO1xuICAgICAgICBfcmVmID0gX2l0ZXJhdG9yW19pKytdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2kgPSBfaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoX2kuZG9uZSkgYnJlYWs7XG4gICAgICAgIF9yZWYgPSBfaS52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb3BlcnR5ID0gX3JlZjtcblxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZVtwcm9wZXJ0eV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHNpbXBsZUVycm9yW3Byb3BlcnR5XSA9IHZhbHVlW3Byb3BlcnR5XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2ltcGxlRXJyb3I7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1lc3NhZ2U6IFN0cmluZyh2YWx1ZSlcbiAgfTtcbn07XG4vKipcclxuICpcclxuICogQHBhcmFtIHR5cGVQcmVmaXhcclxuICogQHBhcmFtIHBheWxvYWRDcmVhdG9yXHJcbiAqIEBwYXJhbSBvcHRpb25zXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZUFzeW5jVGh1bmsodHlwZVByZWZpeCwgcGF5bG9hZENyZWF0b3IsIG9wdGlvbnMpIHtcbiAgdmFyIGZ1bGZpbGxlZCA9IGNyZWF0ZUFjdGlvbih0eXBlUHJlZml4ICsgJy9mdWxmaWxsZWQnLCBmdW5jdGlvbiAocmVzdWx0LCByZXF1ZXN0SWQsIGFyZykge1xuICAgIHJldHVybiB7XG4gICAgICBwYXlsb2FkOiByZXN1bHQsXG4gICAgICBtZXRhOiB7XG4gICAgICAgIGFyZzogYXJnLFxuICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3RJZCxcbiAgICAgICAgcmVxdWVzdFN0YXR1czogJ2Z1bGZpbGxlZCdcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgdmFyIHBlbmRpbmcgPSBjcmVhdGVBY3Rpb24odHlwZVByZWZpeCArICcvcGVuZGluZycsIGZ1bmN0aW9uIChyZXF1ZXN0SWQsIGFyZykge1xuICAgIHJldHVybiB7XG4gICAgICBwYXlsb2FkOiB1bmRlZmluZWQsXG4gICAgICBtZXRhOiB7XG4gICAgICAgIGFyZzogYXJnLFxuICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3RJZCxcbiAgICAgICAgcmVxdWVzdFN0YXR1czogJ3BlbmRpbmcnXG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHZhciByZWplY3RlZCA9IGNyZWF0ZUFjdGlvbih0eXBlUHJlZml4ICsgJy9yZWplY3RlZCcsIGZ1bmN0aW9uIChlcnJvciwgcmVxdWVzdElkLCBhcmcpIHtcbiAgICB2YXIgcmVqZWN0ZWRXaXRoVmFsdWUgPSBlcnJvciBpbnN0YW5jZW9mIFJlamVjdFdpdGhWYWx1ZTtcbiAgICB2YXIgYWJvcnRlZCA9ICEhZXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InO1xuICAgIHZhciBjb25kaXRpb24gPSAhIWVycm9yICYmIGVycm9yLm5hbWUgPT09ICdDb25kaXRpb25FcnJvcic7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBheWxvYWQ6IGVycm9yIGluc3RhbmNlb2YgUmVqZWN0V2l0aFZhbHVlID8gZXJyb3IucGF5bG9hZCA6IHVuZGVmaW5lZCxcbiAgICAgIGVycm9yOiAob3B0aW9ucyAmJiBvcHRpb25zLnNlcmlhbGl6ZUVycm9yIHx8IG1pbmlTZXJpYWxpemVFcnJvcikoZXJyb3IgfHwgJ1JlamVjdGVkJyksXG4gICAgICBtZXRhOiB7XG4gICAgICAgIGFyZzogYXJnLFxuICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3RJZCxcbiAgICAgICAgcmVqZWN0ZWRXaXRoVmFsdWU6IHJlamVjdGVkV2l0aFZhbHVlLFxuICAgICAgICByZXF1ZXN0U3RhdHVzOiAncmVqZWN0ZWQnLFxuICAgICAgICBhYm9ydGVkOiBhYm9ydGVkLFxuICAgICAgICBjb25kaXRpb246IGNvbmRpdGlvblxuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICB2YXIgZGlzcGxheWVkV2FybmluZyA9IGZhbHNlO1xuICB2YXIgQUMgPSB0eXBlb2YgQWJvcnRDb250cm9sbGVyICE9PSAndW5kZWZpbmVkJyA/IEFib3J0Q29udHJvbGxlciA6XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIF9jbGFzcygpIHtcbiAgICAgIHRoaXMuc2lnbmFsID0ge1xuICAgICAgICBhYm9ydGVkOiBmYWxzZSxcbiAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcigpIHt9LFxuICAgICAgICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbiBkaXNwYXRjaEV2ZW50KCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgb25hYm9ydDogZnVuY3Rpb24gb25hYm9ydCgpIHt9LFxuICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKCkge31cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIF9wcm90byA9IF9jbGFzcy5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uYWJvcnQgPSBmdW5jdGlvbiBhYm9ydCgpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGlmICghZGlzcGxheWVkV2FybmluZykge1xuICAgICAgICAgIGRpc3BsYXllZFdhcm5pbmcgPSB0cnVlO1xuICAgICAgICAgIGNvbnNvbGUuaW5mbyhcIlRoaXMgcGxhdGZvcm0gZG9lcyBub3QgaW1wbGVtZW50IEFib3J0Q29udHJvbGxlci4gXFxuSWYgeW91IHdhbnQgdG8gdXNlIHRoZSBBYm9ydENvbnRyb2xsZXIgdG8gcmVhY3QgdG8gYGFib3J0YCBldmVudHMsIHBsZWFzZSBjb25zaWRlciBpbXBvcnRpbmcgYSBwb2x5ZmlsbCBsaWtlICdhYm9ydGNvbnRyb2xsZXItcG9seWZpbGwvZGlzdC9hYm9ydGNvbnRyb2xsZXItcG9seWZpbGwtb25seScuXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBfY2xhc3M7XG4gIH0oKTtcblxuICBmdW5jdGlvbiBhY3Rpb25DcmVhdG9yKGFyZykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZGlzcGF0Y2gsIGdldFN0YXRlLCBleHRyYSkge1xuICAgICAgdmFyIHJlcXVlc3RJZCA9IG5hbm9pZCgpO1xuICAgICAgdmFyIGFib3J0Q29udHJvbGxlciA9IG5ldyBBQygpO1xuICAgICAgdmFyIGFib3J0UmVhc29uO1xuICAgICAgdmFyIGFib3J0ZWRQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKF8sIHJlamVjdCkge1xuICAgICAgICByZXR1cm4gYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KHtcbiAgICAgICAgICAgIG5hbWU6ICdBYm9ydEVycm9yJyxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGFib3J0UmVhc29uIHx8ICdBYm9ydGVkJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdmFyIHN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgZnVuY3Rpb24gYWJvcnQocmVhc29uKSB7XG4gICAgICAgIGlmIChzdGFydGVkKSB7XG4gICAgICAgICAgYWJvcnRSZWFzb24gPSByZWFzb247XG4gICAgICAgICAgYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIF90ZW1wMyA9IGZ1bmN0aW9uIF90ZW1wMyhfcmVzdWx0KSB7XG4gICAgICAgICAgICBpZiAoX2V4aXQyKSByZXR1cm4gX3Jlc3VsdDtcbiAgICAgICAgICAgIC8vIFdlIGRpc3BhdGNoIHRoZSByZXN1bHQgYWN0aW9uIF9hZnRlcl8gdGhlIGNhdGNoLCB0byBhdm9pZCBoYXZpbmcgYW55IGVycm9yc1xuICAgICAgICAgICAgLy8gaGVyZSBnZXQgc3dhbGxvd2VkIGJ5IHRoZSB0cnkvY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgICAvLyBwZXIgaHR0cHM6Ly90d2l0dGVyLmNvbS9kYW5fYWJyYW1vdi9zdGF0dXMvNzcwOTE0MjIxNjM4OTQyNzIwXG4gICAgICAgICAgICAvLyBhbmQgaHR0cHM6Ly9yZWR1eC10b29sa2l0LmpzLm9yZy90dXRvcmlhbHMvYWR2YW5jZWQtdHV0b3JpYWwjYXN5bmMtZXJyb3ItaGFuZGxpbmctbG9naWMtaW4tdGh1bmtzXG4gICAgICAgICAgICB2YXIgc2tpcERpc3BhdGNoID0gb3B0aW9ucyAmJiAhb3B0aW9ucy5kaXNwYXRjaENvbmRpdGlvblJlamVjdGlvbiAmJiByZWplY3RlZC5tYXRjaChmaW5hbEFjdGlvbikgJiYgZmluYWxBY3Rpb24ubWV0YS5jb25kaXRpb247XG5cbiAgICAgICAgICAgIGlmICghc2tpcERpc3BhdGNoKSB7XG4gICAgICAgICAgICAgIGRpc3BhdGNoKGZpbmFsQWN0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZpbmFsQWN0aW9uO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgX2V4aXQyID0gZmFsc2U7XG4gICAgICAgICAgdmFyIGZpbmFsQWN0aW9uO1xuXG4gICAgICAgICAgdmFyIF90ZW1wNCA9IF9jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmNvbmRpdGlvbiAmJiBvcHRpb25zLmNvbmRpdGlvbihhcmcsIHtcbiAgICAgICAgICAgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgICAgICAgICAgICBleHRyYTogZXh0cmFcbiAgICAgICAgICAgIH0pID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdGhyb3ctbGl0ZXJhbFxuICAgICAgICAgICAgICB0aHJvdyB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ0NvbmRpdGlvbkVycm9yJyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnQWJvcnRlZCBkdWUgdG8gY29uZGl0aW9uIGNhbGxiYWNrIHJldHVybmluZyBmYWxzZS4nXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgZGlzcGF0Y2gocGVuZGluZyhyZXF1ZXN0SWQsIGFyZykpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShQcm9taXNlLnJhY2UoW2Fib3J0ZWRQcm9taXNlLCBQcm9taXNlLnJlc29sdmUocGF5bG9hZENyZWF0b3IoYXJnLCB7XG4gICAgICAgICAgICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcbiAgICAgICAgICAgICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgICAgICAgICAgICBleHRyYTogZXh0cmEsXG4gICAgICAgICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdElkLFxuICAgICAgICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICAgICAgICAgIHJlamVjdFdpdGhWYWx1ZTogZnVuY3Rpb24gcmVqZWN0V2l0aFZhbHVlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWplY3RXaXRoVmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBSZWplY3RXaXRoVmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0ZWQocmVzdWx0LCByZXF1ZXN0SWQsIGFyZyk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gZnVsZmlsbGVkKHJlc3VsdCwgcmVxdWVzdElkLCBhcmcpO1xuICAgICAgICAgICAgfSldKSkudGhlbihmdW5jdGlvbiAoX1Byb21pc2UkcmFjZSkge1xuICAgICAgICAgICAgICBmaW5hbEFjdGlvbiA9IF9Qcm9taXNlJHJhY2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBmaW5hbEFjdGlvbiA9IHJlamVjdGVkKGVyciwgcmVxdWVzdElkLCBhcmcpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShfdGVtcDQgJiYgX3RlbXA0LnRoZW4gPyBfdGVtcDQudGhlbihfdGVtcDMpIDogX3RlbXAzKF90ZW1wNCkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgICB9KCk7XG5cbiAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHByb21pc2UsIHtcbiAgICAgICAgYWJvcnQ6IGFib3J0LFxuICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3RJZCxcbiAgICAgICAgYXJnOiBhcmdcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gT2JqZWN0LmFzc2lnbihhY3Rpb25DcmVhdG9yLCB7XG4gICAgcGVuZGluZzogcGVuZGluZyxcbiAgICByZWplY3RlZDogcmVqZWN0ZWQsXG4gICAgZnVsZmlsbGVkOiBmdWxmaWxsZWQsXG4gICAgdHlwZVByZWZpeDogdHlwZVByZWZpeFxuICB9KTtcbn1cbi8qKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuXG5mdW5jdGlvbiB1bndyYXBSZXN1bHQoYWN0aW9uKSB7XG4gIGlmIChhY3Rpb24ubWV0YSAmJiBhY3Rpb24ubWV0YS5yZWplY3RlZFdpdGhWYWx1ZSkge1xuICAgIHRocm93IGFjdGlvbi5wYXlsb2FkO1xuICB9XG5cbiAgaWYgKGFjdGlvbi5lcnJvcikge1xuICAgIHRocm93IGFjdGlvbi5lcnJvcjtcbiAgfVxuXG4gIHJldHVybiBhY3Rpb24ucGF5bG9hZDtcbn1cblxudmFyIGhhc01hdGNoRnVuY3Rpb24gPSBmdW5jdGlvbiBoYXNNYXRjaEZ1bmN0aW9uKHYpIHtcbiAgcmV0dXJuIHYgJiYgdHlwZW9mIHYubWF0Y2ggPT09ICdmdW5jdGlvbic7XG59O1xuXG52YXIgbWF0Y2hlcyA9IGZ1bmN0aW9uIG1hdGNoZXMobWF0Y2hlciwgYWN0aW9uKSB7XG4gIGlmIChoYXNNYXRjaEZ1bmN0aW9uKG1hdGNoZXIpKSB7XG4gICAgcmV0dXJuIG1hdGNoZXIubWF0Y2goYWN0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbWF0Y2hlcihhY3Rpb24pO1xuICB9XG59O1xuLyoqXHJcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcclxuICogd2hldGhlciBhbiBhY3Rpb24gbWF0Y2hlcyBhbnkgb25lIG9mIHRoZSBzdXBwbGllZCB0eXBlIGd1YXJkcyBvciBhY3Rpb25cclxuICogY3JlYXRvcnMuXHJcbiAqXHJcbiAqIEBwYXJhbSBtYXRjaGVycyBUaGUgdHlwZSBndWFyZHMgb3IgYWN0aW9uIGNyZWF0b3JzIHRvIG1hdGNoIGFnYWluc3QuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cblxuZnVuY3Rpb24gaXNBbnlPZigpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG1hdGNoZXJzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIG1hdGNoZXJzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICByZXR1cm4gbWF0Y2hlcnMuc29tZShmdW5jdGlvbiAobWF0Y2hlcikge1xuICAgICAgcmV0dXJuIG1hdGNoZXMobWF0Y2hlciwgYWN0aW9uKTtcbiAgICB9KTtcbiAgfTtcbn1cbi8qKlxyXG4gKiBBIGhpZ2hlci1vcmRlciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IG1heSBiZSB1c2VkIHRvIGNoZWNrXHJcbiAqIHdoZXRoZXIgYW4gYWN0aW9uIG1hdGNoZXMgYWxsIG9mIHRoZSBzdXBwbGllZCB0eXBlIGd1YXJkcyBvciBhY3Rpb25cclxuICogY3JlYXRvcnMuXHJcbiAqXHJcbiAqIEBwYXJhbSBtYXRjaGVycyBUaGUgdHlwZSBndWFyZHMgb3IgYWN0aW9uIGNyZWF0b3JzIHRvIG1hdGNoIGFnYWluc3QuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cbmZ1bmN0aW9uIGlzQWxsT2YoKSB7XG4gIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgbWF0Y2hlcnMgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBtYXRjaGVyc1tfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICByZXR1cm4gbWF0Y2hlcnMuZXZlcnkoZnVuY3Rpb24gKG1hdGNoZXIpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzKG1hdGNoZXIsIGFjdGlvbik7XG4gICAgfSk7XG4gIH07XG59XG4vKipcclxuICogQHBhcmFtIGFjdGlvbiBBIHJlZHV4IGFjdGlvblxyXG4gKiBAcGFyYW0gdmFsaWRTdGF0dXMgQW4gYXJyYXkgb2YgdmFsaWQgbWV0YS5yZXF1ZXN0U3RhdHVzIHZhbHVlc1xyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXG5cbmZ1bmN0aW9uIGhhc0V4cGVjdGVkUmVxdWVzdE1ldGFkYXRhKGFjdGlvbiwgdmFsaWRTdGF0dXMpIHtcbiAgaWYgKCFhY3Rpb24gfHwgIWFjdGlvbi5tZXRhKSByZXR1cm4gZmFsc2U7XG4gIHZhciBoYXNWYWxpZFJlcXVlc3RJZCA9IHR5cGVvZiBhY3Rpb24ubWV0YS5yZXF1ZXN0SWQgPT09ICdzdHJpbmcnO1xuICB2YXIgaGFzVmFsaWRSZXF1ZXN0U3RhdHVzID0gdmFsaWRTdGF0dXMuaW5kZXhPZihhY3Rpb24ubWV0YS5yZXF1ZXN0U3RhdHVzKSA+IC0xO1xuICByZXR1cm4gaGFzVmFsaWRSZXF1ZXN0SWQgJiYgaGFzVmFsaWRSZXF1ZXN0U3RhdHVzO1xufVxuXG5mdW5jdGlvbiBpc0FzeW5jVGh1bmtBcnJheShhKSB7XG4gIHJldHVybiB0eXBlb2YgYVswXSA9PT0gJ2Z1bmN0aW9uJyAmJiAncGVuZGluZycgaW4gYVswXSAmJiAnZnVsZmlsbGVkJyBpbiBhWzBdICYmICdyZWplY3RlZCcgaW4gYVswXTtcbn1cblxuZnVuY3Rpb24gaXNQZW5kaW5nKCkge1xuICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFzeW5jVGh1bmtzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgYXN5bmNUaHVua3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgfVxuXG4gIGlmIChhc3luY1RodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgcmV0dXJuIGhhc0V4cGVjdGVkUmVxdWVzdE1ldGFkYXRhKGFjdGlvbiwgWydwZW5kaW5nJ10pO1xuICAgIH07XG4gIH1cblxuICBpZiAoIWlzQXN5bmNUaHVua0FycmF5KGFzeW5jVGh1bmtzKSkge1xuICAgIHJldHVybiBpc1BlbmRpbmcoKShhc3luY1RodW5rc1swXSk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIC8vIG5vdGU6IHRoaXMgdHlwZSB3aWxsIGJlIGNvcnJlY3QgYmVjYXVzZSB3ZSBoYXZlIGF0IGxlYXN0IDEgYXN5bmNUaHVua1xuICAgIHZhciBtYXRjaGVycyA9IGFzeW5jVGh1bmtzLm1hcChmdW5jdGlvbiAoYXN5bmNUaHVuaykge1xuICAgICAgcmV0dXJuIGFzeW5jVGh1bmsucGVuZGluZztcbiAgICB9KTtcbiAgICB2YXIgY29tYmluZWRNYXRjaGVyID0gaXNBbnlPZi5hcHBseSh2b2lkIDAsIG1hdGNoZXJzKTtcbiAgICByZXR1cm4gY29tYmluZWRNYXRjaGVyKGFjdGlvbik7XG4gIH07XG59XG5mdW5jdGlvbiBpc1JlamVjdGVkKCkge1xuICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFzeW5jVGh1bmtzID0gbmV3IEFycmF5KF9sZW40KSwgX2tleTQgPSAwOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgYXN5bmNUaHVua3NbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgfVxuXG4gIGlmIChhc3luY1RodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgcmV0dXJuIGhhc0V4cGVjdGVkUmVxdWVzdE1ldGFkYXRhKGFjdGlvbiwgWydyZWplY3RlZCddKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKCFpc0FzeW5jVGh1bmtBcnJheShhc3luY1RodW5rcykpIHtcbiAgICByZXR1cm4gaXNSZWplY3RlZCgpKGFzeW5jVGh1bmtzWzBdKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgLy8gbm90ZTogdGhpcyB0eXBlIHdpbGwgYmUgY29ycmVjdCBiZWNhdXNlIHdlIGhhdmUgYXQgbGVhc3QgMSBhc3luY1RodW5rXG4gICAgdmFyIG1hdGNoZXJzID0gYXN5bmNUaHVua3MubWFwKGZ1bmN0aW9uIChhc3luY1RodW5rKSB7XG4gICAgICByZXR1cm4gYXN5bmNUaHVuay5yZWplY3RlZDtcbiAgICB9KTtcbiAgICB2YXIgY29tYmluZWRNYXRjaGVyID0gaXNBbnlPZi5hcHBseSh2b2lkIDAsIG1hdGNoZXJzKTtcbiAgICByZXR1cm4gY29tYmluZWRNYXRjaGVyKGFjdGlvbik7XG4gIH07XG59XG5mdW5jdGlvbiBpc1JlamVjdGVkV2l0aFZhbHVlKCkge1xuICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFzeW5jVGh1bmtzID0gbmV3IEFycmF5KF9sZW41KSwgX2tleTUgPSAwOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgYXN5bmNUaHVua3NbX2tleTVdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgfVxuXG4gIHZhciBoYXNGbGFnID0gZnVuY3Rpb24gaGFzRmxhZyhhY3Rpb24pIHtcbiAgICByZXR1cm4gYWN0aW9uICYmIGFjdGlvbi5tZXRhICYmIGFjdGlvbi5tZXRhLnJlamVjdGVkV2l0aFZhbHVlO1xuICB9O1xuXG4gIGlmIChhc3luY1RodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgdmFyIGNvbWJpbmVkTWF0Y2hlciA9IGlzQWxsT2YoaXNSZWplY3RlZC5hcHBseSh2b2lkIDAsIGFzeW5jVGh1bmtzKSwgaGFzRmxhZyk7XG4gICAgICByZXR1cm4gY29tYmluZWRNYXRjaGVyKGFjdGlvbik7XG4gICAgfTtcbiAgfVxuXG4gIGlmICghaXNBc3luY1RodW5rQXJyYXkoYXN5bmNUaHVua3MpKSB7XG4gICAgcmV0dXJuIGlzUmVqZWN0ZWRXaXRoVmFsdWUoKShhc3luY1RodW5rc1swXSk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIHZhciBjb21iaW5lZE1hdGNoZXIgPSBpc0FsbE9mKGlzUmVqZWN0ZWQuYXBwbHkodm9pZCAwLCBhc3luY1RodW5rcyksIGhhc0ZsYWcpO1xuICAgIHJldHVybiBjb21iaW5lZE1hdGNoZXIoYWN0aW9uKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzRnVsZmlsbGVkKCkge1xuICBmb3IgKHZhciBfbGVuNiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFzeW5jVGh1bmtzID0gbmV3IEFycmF5KF9sZW42KSwgX2tleTYgPSAwOyBfa2V5NiA8IF9sZW42OyBfa2V5NisrKSB7XG4gICAgYXN5bmNUaHVua3NbX2tleTZdID0gYXJndW1lbnRzW19rZXk2XTtcbiAgfVxuXG4gIGlmIChhc3luY1RodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgcmV0dXJuIGhhc0V4cGVjdGVkUmVxdWVzdE1ldGFkYXRhKGFjdGlvbiwgWydmdWxmaWxsZWQnXSk7XG4gICAgfTtcbiAgfVxuXG4gIGlmICghaXNBc3luY1RodW5rQXJyYXkoYXN5bmNUaHVua3MpKSB7XG4gICAgcmV0dXJuIGlzRnVsZmlsbGVkKCkoYXN5bmNUaHVua3NbMF0pO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAvLyBub3RlOiB0aGlzIHR5cGUgd2lsbCBiZSBjb3JyZWN0IGJlY2F1c2Ugd2UgaGF2ZSBhdCBsZWFzdCAxIGFzeW5jVGh1bmtcbiAgICB2YXIgbWF0Y2hlcnMgPSBhc3luY1RodW5rcy5tYXAoZnVuY3Rpb24gKGFzeW5jVGh1bmspIHtcbiAgICAgIHJldHVybiBhc3luY1RodW5rLmZ1bGZpbGxlZDtcbiAgICB9KTtcbiAgICB2YXIgY29tYmluZWRNYXRjaGVyID0gaXNBbnlPZi5hcHBseSh2b2lkIDAsIG1hdGNoZXJzKTtcbiAgICByZXR1cm4gY29tYmluZWRNYXRjaGVyKGFjdGlvbik7XG4gIH07XG59XG5mdW5jdGlvbiBpc0FzeW5jVGh1bmtBY3Rpb24oKSB7XG4gIGZvciAodmFyIF9sZW43ID0gYXJndW1lbnRzLmxlbmd0aCwgYXN5bmNUaHVua3MgPSBuZXcgQXJyYXkoX2xlbjcpLCBfa2V5NyA9IDA7IF9rZXk3IDwgX2xlbjc7IF9rZXk3KyspIHtcbiAgICBhc3luY1RodW5rc1tfa2V5N10gPSBhcmd1bWVudHNbX2tleTddO1xuICB9XG5cbiAgaWYgKGFzeW5jVGh1bmtzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICByZXR1cm4gaGFzRXhwZWN0ZWRSZXF1ZXN0TWV0YWRhdGEoYWN0aW9uLCBbJ3BlbmRpbmcnLCAnZnVsZmlsbGVkJywgJ3JlamVjdGVkJ10pO1xuICAgIH07XG4gIH1cblxuICBpZiAoIWlzQXN5bmNUaHVua0FycmF5KGFzeW5jVGh1bmtzKSkge1xuICAgIHJldHVybiBpc0FzeW5jVGh1bmtBY3Rpb24oKShhc3luY1RodW5rc1swXSk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIC8vIG5vdGU6IHRoaXMgdHlwZSB3aWxsIGJlIGNvcnJlY3QgYmVjYXVzZSB3ZSBoYXZlIGF0IGxlYXN0IDEgYXN5bmNUaHVua1xuICAgIHZhciBtYXRjaGVycyA9IFtdO1xuXG4gICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gYXN5bmNUaHVua3MsIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheShfaXRlcmF0b3IpLCBfaSA9IDAsIF9pdGVyYXRvciA9IF9pc0FycmF5ID8gX2l0ZXJhdG9yIDogX2l0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0oKTs7KSB7XG4gICAgICB2YXIgX3JlZjtcblxuICAgICAgaWYgKF9pc0FycmF5KSB7XG4gICAgICAgIGlmIChfaSA+PSBfaXRlcmF0b3IubGVuZ3RoKSBicmVhaztcbiAgICAgICAgX3JlZiA9IF9pdGVyYXRvcltfaSsrXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9pID0gX2l0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKF9pLmRvbmUpIGJyZWFrO1xuICAgICAgICBfcmVmID0gX2kudmFsdWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBhc3luY1RodW5rID0gX3JlZjtcbiAgICAgIG1hdGNoZXJzLnB1c2goYXN5bmNUaHVuay5wZW5kaW5nLCBhc3luY1RodW5rLnJlamVjdGVkLCBhc3luY1RodW5rLmZ1bGZpbGxlZCk7XG4gICAgfVxuXG4gICAgdmFyIGNvbWJpbmVkTWF0Y2hlciA9IGlzQW55T2YuYXBwbHkodm9pZCAwLCBtYXRjaGVycyk7XG4gICAgcmV0dXJuIGNvbWJpbmVkTWF0Y2hlcihhY3Rpb24pO1xuICB9O1xufVxuXG4vLyB3ZSBhc3N1bWUgUlRLIHdpbGwgYmUgdXNlZCB3aXRoIFJlYWN0IE5hdGl2ZSBhbmQgb3RoZXIgUHJveHktbGVzc1xuLy8gZW52aXJvbm1lbnRzLiAgSW4gYWRkaXRpb24sIHRoYXQncyBob3cgSW1tZXIgNCBiZWhhdmVkLCBhbmQgc2luY2Vcbi8vIHdlIHdhbnQgdG8gc2hpcCB0aGlzIGluIGFuIFJUSyBtaW5vciwgd2Ugc2hvdWxkIGtlZXAgdGhlIHNhbWUgYmVoYXZpb3IuXG5cbmVuYWJsZUVTNSgpO1xuXG5leHBvcnQgeyBNaWRkbGV3YXJlQXJyYXksIGNvbmZpZ3VyZVN0b3JlLCBjcmVhdGVBY3Rpb24sIGNyZWF0ZUFzeW5jVGh1bmssIGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yLCBjcmVhdGVFbnRpdHlBZGFwdGVyLCBjcmVhdGVJbW11dGFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUsIGNyZWF0ZVJlZHVjZXIsIGNyZWF0ZVNlcmlhbGl6YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSwgY3JlYXRlU2xpY2UsIGZpbmROb25TZXJpYWxpemFibGVWYWx1ZSwgZ2V0RGVmYXVsdE1pZGRsZXdhcmUsIGdldFR5cGUsIGlzQWxsT2YsIGlzQW55T2YsIGlzQXN5bmNUaHVua0FjdGlvbiwgaXNGdWxmaWxsZWQsIGlzSW1tdXRhYmxlRGVmYXVsdCwgaXNQZW5kaW5nLCBpc1BsYWluLCBpc1BsYWluT2JqZWN0LCBpc1JlamVjdGVkLCBpc1JlamVjdGVkV2l0aFZhbHVlLCBuYW5vaWQsIHVud3JhcFJlc3VsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVkdXgtdG9vbGtpdC5lc20uanMubWFwXG4iLCJpbXBvcnQgeyBjcmVhdGVBY3Rpb24sIGNyZWF0ZVJlZHVjZXIsIGNvbmZpZ3VyZVN0b3JlIH0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XHJcbmltcG9ydCB7XHJcbiAgaW5pdGlhbFN0YXRlLFxyXG4gIGVycm9yLFxyXG4gIGxvYWRpbmcsXHJcbiAgc3VtbWFyeUxvYWRlZCxcclxuICBTdW1tYXJ5LFxyXG59IGZyb20gJy4vcmVkdWNlcic7XHJcbmltcG9ydCB0aHVua01pZGRsZXdhcmUgZnJvbSAncmVkdXgtdGh1bmsnO1xyXG5cclxuZW51bSBBY3Rpb25UeXBlIHtcclxuICBFUlJPUiA9ICdlcnJvcicsXHJcbiAgTE9BRElORyA9ICdsb2FkaW5nJyxcclxuICBTVU1NQVJZX0xPQURFRCA9ICdzdW1tYXJ5TG9hZGVkJyxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGVycm9yQWN0aW9uID0gY3JlYXRlQWN0aW9uPHN0cmluZz4oQWN0aW9uVHlwZS5FUlJPUik7XHJcbmV4cG9ydCBjb25zdCBsb2FkaW5nQWN0aW9uID0gY3JlYXRlQWN0aW9uKEFjdGlvblR5cGUuTE9BRElORyk7XHJcbmV4cG9ydCBjb25zdCBzdW1tYXJ5TG9hZGVkQWN0aW9uID0gY3JlYXRlQWN0aW9uPFN1bW1hcnk+KFxyXG4gIEFjdGlvblR5cGUuU1VNTUFSWV9MT0FERURcclxuKTtcclxuXHJcbmNvbnN0IHJlZHVjZXIgPSBjcmVhdGVSZWR1Y2VyKGluaXRpYWxTdGF0ZSwge1xyXG4gIFtBY3Rpb25UeXBlLkVSUk9SXTogZXJyb3IsXHJcbiAgW0FjdGlvblR5cGUuTE9BRElOR106IGxvYWRpbmcsXHJcbiAgW0FjdGlvblR5cGUuU1VNTUFSWV9MT0FERURdOiBzdW1tYXJ5TG9hZGVkLFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBzdG9yZSQgPSBjb25maWd1cmVTdG9yZSh7XHJcbiAgcmVkdWNlcixcclxuICBtaWRkbGV3YXJlOiBbdGh1bmtNaWRkbGV3YXJlXSxcclxufSk7XHJcbiIsImltcG9ydCB7IFNFUlZJQ0VfQkFTRVVSTCB9IGZyb20gJy4vY29uZmlnJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3VtbWFyeSB7XHJcbiAgdG90YWxfdGFzazogbnVtYmVyO1xyXG4gIHRhc2tfZG9uZTogbnVtYmVyO1xyXG4gIHRhc2tfY2FuY2VsbGVkOiBudW1iZXI7XHJcbiAgdG90YWxfd29ya2VyOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBBY3Rpb25PYmplY3Qge1xyXG4gIHR5cGU6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEFjdGlvbk9iamVjdEVycm9yIGV4dGVuZHMgQWN0aW9uT2JqZWN0IHtcclxuICBwYXlsb2FkOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBBY3Rpb25PYmplY3RTdW1tYXJ5IGV4dGVuZHMgQWN0aW9uT2JqZWN0IHtcclxuICBwYXlsb2FkOiBTdW1tYXJ5O1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgaW5pdGlhbFN0YXRlID0ge1xyXG4gIGxvYWRpbmc6IGZhbHNlLFxyXG4gIGVycm9yOiBudWxsLFxyXG4gIHN1bW1hcnk6IHtcclxuICAgIHRvdGFsX3Rhc2s6IDAsXHJcbiAgICB0YXNrX2RvbmU6IDAsXHJcbiAgICB0YXNrX2NhbmNlbGxlZDogMCxcclxuICAgIHRvdGFsX3dvcmtlcjogMCxcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRpbmcoc3RhdGU6IGFueSkge1xyXG4gIHN0YXRlLmxvYWRpbmcgPSB0cnVlO1xyXG4gIHN0YXRlLmVycm9yID0gbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVycm9yKHN0YXRlOiBhbnksIGFjdGlvbjogQWN0aW9uT2JqZWN0RXJyb3IpIHtcclxuICBzdGF0ZS5sb2FkaW5nID0gZmFsc2U7XHJcbiAgc3RhdGUuZXJyb3IgPSBhY3Rpb24ucGF5bG9hZDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHN1bW1hcnlMb2FkZWQoc3RhdGU6IGFueSwgYWN0aW9uOiBBY3Rpb25PYmplY3RTdW1tYXJ5KSB7XHJcbiAgc3RhdGUuc3VtbWFyeSA9IGFjdGlvbi5wYXlsb2FkO1xyXG4gIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcclxuICBzdGF0ZS5lcnJvciA9IG51bGw7XHJcbiAgcmV0dXJuIHN0YXRlO1xyXG59XHJcblxyXG4iLCJleHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RPcHRpb24ge1xyXG4gIG1ldGhvZDogJ0dFVCcgfCAnUE9TVCcgfCAnUFVUJyB8ICdERUxFVEUnIHwgJ09QVElPTic7XHJcbiAgYm9keT86IGFueTtcclxuICBjdXN0b21Db25mPzogYW55O1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBjbGllbnQoZW5kcG9pbnQ6IHN0cmluZywganNvbjogYW55LCBvcHRpb25zOiBSZXF1ZXN0T3B0aW9uKTogUHJvbWlzZTxhbnk+IHtcclxuICBsZXQgaGVhZGVyczphbnk7XHJcbiAgaWYgKGpzb24pIHtcclxuICAgIGhlYWRlcnMgPSB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgIG1ldGhvZDogb3B0aW9ucz8ubWV0aG9kID8/ICdHRVQnLFxyXG4gICAgLi4ub3B0aW9ucz8uY3VzdG9tQ29uZixcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgLi4uaGVhZGVycyxcclxuICAgICAgLi4ub3B0aW9ucz8uY3VzdG9tQ29uZj8uaGVhZGVycyxcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbiAgaWYgKG9wdGlvbnM/LmJvZHkpIHtcclxuICAgIGlmIChqc29uKSB7XHJcbiAgICAgIGNvbmZpZy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkob3B0aW9ucz8uYm9keSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gb3B0aW9ucz8uYm9keSkge1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChuYW1lLCBvcHRpb25zPy5ib2R5W25hbWVdKTtcclxuICAgICAgfVxyXG4gICAgICBjb25maWcuYm9keSA9IGZvcm1EYXRhO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbGV0IGRhdGE6YW55O1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHdpbmRvdy5mZXRjaChlbmRwb2ludCwgY29uZmlnKTtcclxuICAgIGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhPy5zdGF0dXNUZXh0ID8/ICdHYWdhbCByZXF1ZXN0IGtlIGFwaScpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVyci5tZXNzYWdlIHx8IGRhdGEpO1xyXG4gIH1cclxufVxyXG5cclxuY2xpZW50LmdldCA9IChlbmRwb2ludDogc3RyaW5nLCBjdXN0b21Db25mOmFueSA9IHt9KTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICByZXR1cm4gY2xpZW50KGVuZHBvaW50LCB0cnVlLCB7IG1ldGhvZDogJ0dFVCcsIC4uLmN1c3RvbUNvbmYgfSk7XHJcbn07XHJcblxyXG5jbGllbnQucG9zdCA9IChlbmRwb2ludDogc3RyaW5nLCBib2R5OiBhbnksIGpzb246YW55ID0gbnVsbCwgY3VzdG9tQ29uZjogYW55ID0ge30pOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gIHJldHVybiBjbGllbnQoZW5kcG9pbnQsIGpzb24sIHsgbWV0aG9kOiAnUE9TVCcsIGJvZHksIC4uLmN1c3RvbUNvbmYgfSk7XHJcbn07XHJcblxyXG5jbGllbnQucHV0ID0gKGVuZHBvaW50OiBzdHJpbmcsIGJvZHk6IGFueSA9IG51bGwsIGpzb246YW55ID0gbnVsbCwgY3VzdG9tQ29uZjogYW55ID0ge30pOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gIHJldHVybiBjbGllbnQoZW5kcG9pbnQsIGpzb24sIHsgbWV0aG9kOiAnUFVUJywgYm9keSwgLi4uY3VzdG9tQ29uZiB9KTtcclxufTtcclxuXHJcbmNsaWVudC5kZWwgPSAoZW5kcG9pbnQ6IHN0cmluZywgYm9keTogYW55ID0gbnVsbCwganNvbjphbnkgPSBudWxsLCBjdXN0b21Db25mOiBhbnkgPSB7fSk6IFByb21pc2U8YW55PiA9PiB7XHJcbiAgcmV0dXJuIGNsaWVudChlbmRwb2ludCwganNvbiwgeyBtZXRob2Q6ICdERUxFVEUnLCBib2R5LCAuLi5jdXN0b21Db25mIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IHsgY2xpZW50IGFzIGh0dHBDbGllbnQgfTtcclxuIiwiLyoqXG4gKiBTZXNzaW9uIFN0YXR1c1xuICovXG5leHBvcnQgdmFyIFNlc3Npb25TdGF0dXM7XG4oZnVuY3Rpb24gKFNlc3Npb25TdGF0dXMpIHtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTZXNzaW9uU3RhdHVzW1wiT2tcIl0gPSBcIm9rXCI7XG4gICAgLyoqIEpTRG9jICovXG4gICAgU2Vzc2lvblN0YXR1c1tcIkV4aXRlZFwiXSA9IFwiZXhpdGVkXCI7XG4gICAgLyoqIEpTRG9jICovXG4gICAgU2Vzc2lvblN0YXR1c1tcIkNyYXNoZWRcIl0gPSBcImNyYXNoZWRcIjtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTZXNzaW9uU3RhdHVzW1wiQWJub3JtYWxcIl0gPSBcImFibm9ybWFsXCI7XG59KShTZXNzaW9uU3RhdHVzIHx8IChTZXNzaW9uU3RhdHVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlc3Npb24uanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LWZ1bmN0aW9uLXJldHVybi10eXBlICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvdHlwZWRlZiAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuaW1wb3J0IHsgaXNUaGVuYWJsZSB9IGZyb20gJy4vaXMnO1xuLyoqIFN5bmNQcm9taXNlIGludGVybmFsIHN0YXRlcyAqL1xudmFyIFN0YXRlcztcbihmdW5jdGlvbiAoU3RhdGVzKSB7XG4gICAgLyoqIFBlbmRpbmcgKi9cbiAgICBTdGF0ZXNbXCJQRU5ESU5HXCJdID0gXCJQRU5ESU5HXCI7XG4gICAgLyoqIFJlc29sdmVkIC8gT0sgKi9cbiAgICBTdGF0ZXNbXCJSRVNPTFZFRFwiXSA9IFwiUkVTT0xWRURcIjtcbiAgICAvKiogUmVqZWN0ZWQgLyBFcnJvciAqL1xuICAgIFN0YXRlc1tcIlJFSkVDVEVEXCJdID0gXCJSRUpFQ1RFRFwiO1xufSkoU3RhdGVzIHx8IChTdGF0ZXMgPSB7fSkpO1xuLyoqXG4gKiBUaGVuYWJsZSBjbGFzcyB0aGF0IGJlaGF2ZXMgbGlrZSBhIFByb21pc2UgYW5kIGZvbGxvd3MgaXQncyBpbnRlcmZhY2VcbiAqIGJ1dCBpcyBub3QgYXN5bmMgaW50ZXJuYWxseVxuICovXG52YXIgU3luY1Byb21pc2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3luY1Byb21pc2UoZXhlY3V0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fc3RhdGUgPSBTdGF0ZXMuUEVORElORztcbiAgICAgICAgdGhpcy5faGFuZGxlcnMgPSBbXTtcbiAgICAgICAgLyoqIEpTRG9jICovXG4gICAgICAgIHRoaXMuX3Jlc29sdmUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIF90aGlzLl9zZXRSZXN1bHQoU3RhdGVzLlJFU09MVkVELCB2YWx1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKiBKU0RvYyAqL1xuICAgICAgICB0aGlzLl9yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICBfdGhpcy5fc2V0UmVzdWx0KFN0YXRlcy5SRUpFQ1RFRCwgcmVhc29uKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqIEpTRG9jICovXG4gICAgICAgIHRoaXMuX3NldFJlc3VsdCA9IGZ1bmN0aW9uIChzdGF0ZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fc3RhdGUgIT09IFN0YXRlcy5QRU5ESU5HKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzVGhlbmFibGUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUudGhlbihfdGhpcy5fcmVzb2x2ZSwgX3RoaXMuX3JlamVjdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuX3N0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICBfdGhpcy5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIF90aGlzLl9leGVjdXRlSGFuZGxlcnMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gVE9ETzogRklYTUVcbiAgICAgICAgLyoqIEpTRG9jICovXG4gICAgICAgIHRoaXMuX2F0dGFjaEhhbmRsZXIgPSBmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgX3RoaXMuX2hhbmRsZXJzID0gX3RoaXMuX2hhbmRsZXJzLmNvbmNhdChoYW5kbGVyKTtcbiAgICAgICAgICAgIF90aGlzLl9leGVjdXRlSGFuZGxlcnMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqIEpTRG9jICovXG4gICAgICAgIHRoaXMuX2V4ZWN1dGVIYW5kbGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5fc3RhdGUgPT09IFN0YXRlcy5QRU5ESU5HKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNhY2hlZEhhbmRsZXJzID0gX3RoaXMuX2hhbmRsZXJzLnNsaWNlKCk7XG4gICAgICAgICAgICBfdGhpcy5faGFuZGxlcnMgPSBbXTtcbiAgICAgICAgICAgIGNhY2hlZEhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGFuZGxlci5kb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9zdGF0ZSA9PT0gU3RhdGVzLlJFU09MVkVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyLm9uZnVsZmlsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLm9uZnVsZmlsbGVkKF90aGlzLl92YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9zdGF0ZSA9PT0gU3RhdGVzLlJFSkVDVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyLm9ucmVqZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIub25yZWplY3RlZChfdGhpcy5fdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhhbmRsZXIuZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGV4ZWN1dG9yKHRoaXMuX3Jlc29sdmUsIHRoaXMuX3JlamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogSlNEb2MgKi9cbiAgICBTeW5jUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3luY1Byb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFN5bmNQcm9taXNlLnJlamVjdCA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTeW5jUHJvbWlzZShmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTeW5jUHJvbWlzZS5hbGwgPSBmdW5jdGlvbiAoY29sbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFN5bmNQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKFwiUHJvbWlzZS5hbGwgcmVxdWlyZXMgYW4gYXJyYXkgYXMgaW5wdXQuXCIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sbGVjdGlvbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKFtdKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY291bnRlciA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHJlc29sdmVkQ29sbGVjdGlvbiA9IFtdO1xuICAgICAgICAgICAgY29sbGVjdGlvbi5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIFN5bmNQcm9taXNlLnJlc29sdmUoaXRlbSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmVkQ29sbGVjdGlvbltpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgY291bnRlciAtPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRlciAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzb2x2ZWRDb2xsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudGhlbihudWxsLCByZWplY3QpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgU3luY1Byb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbiAob25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBTeW5jUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBfdGhpcy5fYXR0YWNoSGFuZGxlcih7XG4gICAgICAgICAgICAgICAgZG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25mdWxmaWxsZWQ6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvbmZ1bGZpbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogwq9cXF8o44OEKV8vwq9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IEZJWE1FXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUob25mdWxmaWxsZWQocmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25yZWplY3RlZDogZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9ucmVqZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZWFzb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG9ucmVqZWN0ZWQocmVhc29uKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTeW5jUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2ggPSBmdW5jdGlvbiAob25yZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKGZ1bmN0aW9uICh2YWwpIHsgcmV0dXJuIHZhbDsgfSwgb25yZWplY3RlZCk7XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTeW5jUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseSA9IGZ1bmN0aW9uIChvbmZpbmFsbHkpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBTeW5jUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgdmFsO1xuICAgICAgICAgICAgdmFyIGlzUmVqZWN0ZWQ7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpc1JlamVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFsID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKG9uZmluYWxseSkge1xuICAgICAgICAgICAgICAgICAgICBvbmZpbmFsbHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICAgICAgaXNSZWplY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFsID0gcmVhc29uO1xuICAgICAgICAgICAgICAgIGlmIChvbmZpbmFsbHkpIHtcbiAgICAgICAgICAgICAgICAgICAgb25maW5hbGx5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVqZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgU3luY1Byb21pc2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJ1tvYmplY3QgU3luY1Byb21pc2VdJztcbiAgICB9O1xuICAgIHJldHVybiBTeW5jUHJvbWlzZTtcbn0oKSk7XG5leHBvcnQgeyBTeW5jUHJvbWlzZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3luY3Byb21pc2UuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fcmVhZCwgX19zcHJlYWQgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGRhdGVUaW1lc3RhbXBJblNlY29uZHMsIGdldEdsb2JhbE9iamVjdCwgaXNQbGFpbk9iamVjdCwgaXNUaGVuYWJsZSwgU3luY1Byb21pc2UgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbi8qKlxuICogSG9sZHMgYWRkaXRpb25hbCBldmVudCBpbmZvcm1hdGlvbi4ge0BsaW5rIFNjb3BlLmFwcGx5VG9FdmVudH0gd2lsbCBiZVxuICogY2FsbGVkIGJ5IHRoZSBjbGllbnQgYmVmb3JlIGFuIGV2ZW50IHdpbGwgYmUgc2VudC5cbiAqL1xudmFyIFNjb3BlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjb3BlKCkge1xuICAgICAgICAvKiogRmxhZyBpZiBub3RpZml5aW5nIGlzIGhhcHBlbmluZy4gKi9cbiAgICAgICAgdGhpcy5fbm90aWZ5aW5nTGlzdGVuZXJzID0gZmFsc2U7XG4gICAgICAgIC8qKiBDYWxsYmFjayBmb3IgY2xpZW50IHRvIHJlY2VpdmUgc2NvcGUgY2hhbmdlcy4gKi9cbiAgICAgICAgdGhpcy5fc2NvcGVMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgLyoqIENhbGxiYWNrIGxpc3QgdGhhdCB3aWxsIGJlIGNhbGxlZCBhZnRlciB7QGxpbmsgYXBwbHlUb0V2ZW50fS4gKi9cbiAgICAgICAgdGhpcy5fZXZlbnRQcm9jZXNzb3JzID0gW107XG4gICAgICAgIC8qKiBBcnJheSBvZiBicmVhZGNydW1icy4gKi9cbiAgICAgICAgdGhpcy5fYnJlYWRjcnVtYnMgPSBbXTtcbiAgICAgICAgLyoqIFVzZXIgKi9cbiAgICAgICAgdGhpcy5fdXNlciA9IHt9O1xuICAgICAgICAvKiogVGFncyAqL1xuICAgICAgICB0aGlzLl90YWdzID0ge307XG4gICAgICAgIC8qKiBFeHRyYSAqL1xuICAgICAgICB0aGlzLl9leHRyYSA9IHt9O1xuICAgICAgICAvKiogQ29udGV4dHMgKi9cbiAgICAgICAgdGhpcy5fY29udGV4dHMgPSB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5oZXJpdCB2YWx1ZXMgZnJvbSB0aGUgcGFyZW50IHNjb3BlLlxuICAgICAqIEBwYXJhbSBzY29wZSB0byBjbG9uZS5cbiAgICAgKi9cbiAgICBTY29wZS5jbG9uZSA9IGZ1bmN0aW9uIChzY29wZSkge1xuICAgICAgICB2YXIgbmV3U2NvcGUgPSBuZXcgU2NvcGUoKTtcbiAgICAgICAgaWYgKHNjb3BlKSB7XG4gICAgICAgICAgICBuZXdTY29wZS5fYnJlYWRjcnVtYnMgPSBfX3NwcmVhZChzY29wZS5fYnJlYWRjcnVtYnMpO1xuICAgICAgICAgICAgbmV3U2NvcGUuX3RhZ3MgPSBfX2Fzc2lnbih7fSwgc2NvcGUuX3RhZ3MpO1xuICAgICAgICAgICAgbmV3U2NvcGUuX2V4dHJhID0gX19hc3NpZ24oe30sIHNjb3BlLl9leHRyYSk7XG4gICAgICAgICAgICBuZXdTY29wZS5fY29udGV4dHMgPSBfX2Fzc2lnbih7fSwgc2NvcGUuX2NvbnRleHRzKTtcbiAgICAgICAgICAgIG5ld1Njb3BlLl91c2VyID0gc2NvcGUuX3VzZXI7XG4gICAgICAgICAgICBuZXdTY29wZS5fbGV2ZWwgPSBzY29wZS5fbGV2ZWw7XG4gICAgICAgICAgICBuZXdTY29wZS5fc3BhbiA9IHNjb3BlLl9zcGFuO1xuICAgICAgICAgICAgbmV3U2NvcGUuX3Nlc3Npb24gPSBzY29wZS5fc2Vzc2lvbjtcbiAgICAgICAgICAgIG5ld1Njb3BlLl90cmFuc2FjdGlvbk5hbWUgPSBzY29wZS5fdHJhbnNhY3Rpb25OYW1lO1xuICAgICAgICAgICAgbmV3U2NvcGUuX2ZpbmdlcnByaW50ID0gc2NvcGUuX2ZpbmdlcnByaW50O1xuICAgICAgICAgICAgbmV3U2NvcGUuX2V2ZW50UHJvY2Vzc29ycyA9IF9fc3ByZWFkKHNjb3BlLl9ldmVudFByb2Nlc3NvcnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXdTY29wZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZCBpbnRlcm5hbCBvbiBjaGFuZ2UgbGlzdGVuZXIuIFVzZWQgZm9yIHN1YiBTREtzIHRoYXQgbmVlZCB0byBzdG9yZSB0aGUgc2NvcGUuXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5hZGRTY29wZUxpc3RlbmVyID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX3Njb3BlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuYWRkRXZlbnRQcm9jZXNzb3IgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fZXZlbnRQcm9jZXNzb3JzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLnNldFVzZXIgPSBmdW5jdGlvbiAodXNlcikge1xuICAgICAgICB0aGlzLl91c2VyID0gdXNlciB8fCB7fTtcbiAgICAgICAgaWYgKHRoaXMuX3Nlc3Npb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3Nlc3Npb24udXBkYXRlKHsgdXNlcjogdXNlciB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLmdldFVzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91c2VyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuc2V0VGFncyA9IGZ1bmN0aW9uICh0YWdzKSB7XG4gICAgICAgIHRoaXMuX3RhZ3MgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5fdGFncyksIHRhZ3MpO1xuICAgICAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLnNldFRhZyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5fdGFncyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLl90YWdzKSwgKF9hID0ge30sIF9hW2tleV0gPSB2YWx1ZSwgX2EpKTtcbiAgICAgICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5zZXRFeHRyYXMgPSBmdW5jdGlvbiAoZXh0cmFzKSB7XG4gICAgICAgIHRoaXMuX2V4dHJhID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX2V4dHJhKSwgZXh0cmFzKTtcbiAgICAgICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5zZXRFeHRyYSA9IGZ1bmN0aW9uIChrZXksIGV4dHJhKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5fZXh0cmEgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5fZXh0cmEpLCAoX2EgPSB7fSwgX2Fba2V5XSA9IGV4dHJhLCBfYSkpO1xuICAgICAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLnNldEZpbmdlcnByaW50ID0gZnVuY3Rpb24gKGZpbmdlcnByaW50KSB7XG4gICAgICAgIHRoaXMuX2ZpbmdlcnByaW50ID0gZmluZ2VycHJpbnQ7XG4gICAgICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuc2V0TGV2ZWwgPSBmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgdGhpcy5fbGV2ZWwgPSBsZXZlbDtcbiAgICAgICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5zZXRUcmFuc2FjdGlvbk5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB0aGlzLl90cmFuc2FjdGlvbk5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbiBiZSByZW1vdmVkIGluIG1ham9yIHZlcnNpb24uXG4gICAgICogQGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2Yge0BsaW5rIHRoaXMuc2V0VHJhbnNhY3Rpb25OYW1lfVxuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5zZXRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFRyYW5zYWN0aW9uTmFtZShuYW1lKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLnNldENvbnRleHQgPSBmdW5jdGlvbiAoa2V5LCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZHluYW1pYy1kZWxldGVcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jb250ZXh0c1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dHMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5fY29udGV4dHMpLCAoX2EgPSB7fSwgX2Fba2V5XSA9IGNvbnRleHQsIF9hKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5zZXRTcGFuID0gZnVuY3Rpb24gKHNwYW4pIHtcbiAgICAgICAgdGhpcy5fc3BhbiA9IHNwYW47XG4gICAgICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuZ2V0U3BhbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwYW47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5nZXRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAvLyBvZnRlbiwgdGhpcyBzcGFuIHdpbGwgYmUgYSB0cmFuc2FjdGlvbiwgYnV0IGl0J3Mgbm90IGd1YXJhbnRlZWQgdG8gYmVcbiAgICAgICAgdmFyIHNwYW4gPSB0aGlzLmdldFNwYW4oKTtcbiAgICAgICAgLy8gdHJ5IGl0IHRoZSBuZXcgd2F5IGZpcnN0XG4gICAgICAgIGlmICgoX2EgPSBzcGFuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiAoX2IgPSBzcGFuKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IudHJhbnNhY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmFsbGJhY2sgdG8gdGhlIG9sZCB3YXkgKGtub3duIGJ1ZzogdGhpcyBvbmx5IGZpbmRzIHRyYW5zYWN0aW9ucyB3aXRoIHNhbXBsZWQgPSB0cnVlKVxuICAgICAgICBpZiAoKF9kID0gKF9jID0gc3BhbikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLnNwYW5SZWNvcmRlcikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnNwYW5zWzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gc3Bhbi5zcGFuUmVjb3JkZXIuc3BhbnNbMF07XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmVpdGhlciB3YXkgZm91bmQgYSB0cmFuc2FjdGlvblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuc2V0U2Vzc2lvbiA9IGZ1bmN0aW9uIChzZXNzaW9uKSB7XG4gICAgICAgIGlmICghc2Vzc2lvbikge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3Nlc3Npb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLmdldFNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXNzaW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGNhcHR1cmVDb250ZXh0KSB7XG4gICAgICAgIGlmICghY2FwdHVyZUNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2FwdHVyZUNvbnRleHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHZhciB1cGRhdGVkU2NvcGUgPSBjYXB0dXJlQ29udGV4dCh0aGlzKTtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVkU2NvcGUgaW5zdGFuY2VvZiBTY29wZSA/IHVwZGF0ZWRTY29wZSA6IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNhcHR1cmVDb250ZXh0IGluc3RhbmNlb2YgU2NvcGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3RhZ3MgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5fdGFncyksIGNhcHR1cmVDb250ZXh0Ll90YWdzKTtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX2V4dHJhKSwgY2FwdHVyZUNvbnRleHQuX2V4dHJhKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHRzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX2NvbnRleHRzKSwgY2FwdHVyZUNvbnRleHQuX2NvbnRleHRzKTtcbiAgICAgICAgICAgIGlmIChjYXB0dXJlQ29udGV4dC5fdXNlciAmJiBPYmplY3Qua2V5cyhjYXB0dXJlQ29udGV4dC5fdXNlcikubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXNlciA9IGNhcHR1cmVDb250ZXh0Ll91c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhcHR1cmVDb250ZXh0Ll9sZXZlbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldmVsID0gY2FwdHVyZUNvbnRleHQuX2xldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhcHR1cmVDb250ZXh0Ll9maW5nZXJwcmludCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmdlcnByaW50ID0gY2FwdHVyZUNvbnRleHQuX2ZpbmdlcnByaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3QoY2FwdHVyZUNvbnRleHQpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgIGNhcHR1cmVDb250ZXh0ID0gY2FwdHVyZUNvbnRleHQ7XG4gICAgICAgICAgICB0aGlzLl90YWdzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX3RhZ3MpLCBjYXB0dXJlQ29udGV4dC50YWdzKTtcbiAgICAgICAgICAgIHRoaXMuX2V4dHJhID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX2V4dHJhKSwgY2FwdHVyZUNvbnRleHQuZXh0cmEpO1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dHMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5fY29udGV4dHMpLCBjYXB0dXJlQ29udGV4dC5jb250ZXh0cyk7XG4gICAgICAgICAgICBpZiAoY2FwdHVyZUNvbnRleHQudXNlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VzZXIgPSBjYXB0dXJlQ29udGV4dC51c2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhcHR1cmVDb250ZXh0LmxldmVsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGV2ZWwgPSBjYXB0dXJlQ29udGV4dC5sZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYXB0dXJlQ29udGV4dC5maW5nZXJwcmludCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmdlcnByaW50ID0gY2FwdHVyZUNvbnRleHQuZmluZ2VycHJpbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYnJlYWRjcnVtYnMgPSBbXTtcbiAgICAgICAgdGhpcy5fdGFncyA9IHt9O1xuICAgICAgICB0aGlzLl9leHRyYSA9IHt9O1xuICAgICAgICB0aGlzLl91c2VyID0ge307XG4gICAgICAgIHRoaXMuX2NvbnRleHRzID0ge307XG4gICAgICAgIHRoaXMuX2xldmVsID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl90cmFuc2FjdGlvbk5hbWUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2ZpbmdlcnByaW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zcGFuID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zZXNzaW9uID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLmFkZEJyZWFkY3J1bWIgPSBmdW5jdGlvbiAoYnJlYWRjcnVtYiwgbWF4QnJlYWRjcnVtYnMpIHtcbiAgICAgICAgdmFyIG1lcmdlZEJyZWFkY3J1bWIgPSBfX2Fzc2lnbih7IHRpbWVzdGFtcDogZGF0ZVRpbWVzdGFtcEluU2Vjb25kcygpIH0sIGJyZWFkY3J1bWIpO1xuICAgICAgICB0aGlzLl9icmVhZGNydW1icyA9XG4gICAgICAgICAgICBtYXhCcmVhZGNydW1icyAhPT0gdW5kZWZpbmVkICYmIG1heEJyZWFkY3J1bWJzID49IDBcbiAgICAgICAgICAgICAgICA/IF9fc3ByZWFkKHRoaXMuX2JyZWFkY3J1bWJzLCBbbWVyZ2VkQnJlYWRjcnVtYl0pLnNsaWNlKC1tYXhCcmVhZGNydW1icylcbiAgICAgICAgICAgICAgICA6IF9fc3ByZWFkKHRoaXMuX2JyZWFkY3J1bWJzLCBbbWVyZ2VkQnJlYWRjcnVtYl0pO1xuICAgICAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLmNsZWFyQnJlYWRjcnVtYnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2JyZWFkY3J1bWJzID0gW107XG4gICAgICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgY3VycmVudCBjb250ZXh0IGFuZCBmaW5nZXJwcmludCB0byB0aGUgZXZlbnQuXG4gICAgICogTm90ZSB0aGF0IGJyZWFkY3J1bWJzIHdpbGwgYmUgYWRkZWQgYnkgdGhlIGNsaWVudC5cbiAgICAgKiBBbHNvIGlmIHRoZSBldmVudCBoYXMgYWxyZWFkeSBicmVhZGNydW1icyBvbiBpdCwgd2UgZG8gbm90IG1lcmdlIHRoZW0uXG4gICAgICogQHBhcmFtIGV2ZW50IEV2ZW50XG4gICAgICogQHBhcmFtIGhpbnQgTWF5IGNvbnRhaW4gYWRkaXRpb25hbCBpbmZvcm1hcnRpb24gYWJvdXQgdGhlIG9yaWdpbmFsIGV4Y2VwdGlvbi5cbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLmFwcGx5VG9FdmVudCA9IGZ1bmN0aW9uIChldmVudCwgaGludCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLl9leHRyYSAmJiBPYmplY3Qua2V5cyh0aGlzLl9leHRyYSkubGVuZ3RoKSB7XG4gICAgICAgICAgICBldmVudC5leHRyYSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLl9leHRyYSksIGV2ZW50LmV4dHJhKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdGFncyAmJiBPYmplY3Qua2V5cyh0aGlzLl90YWdzKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGV2ZW50LnRhZ3MgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5fdGFncyksIGV2ZW50LnRhZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl91c2VyICYmIE9iamVjdC5rZXlzKHRoaXMuX3VzZXIpLmxlbmd0aCkge1xuICAgICAgICAgICAgZXZlbnQudXNlciA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLl91c2VyKSwgZXZlbnQudXNlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRleHRzICYmIE9iamVjdC5rZXlzKHRoaXMuX2NvbnRleHRzKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGV2ZW50LmNvbnRleHRzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX2NvbnRleHRzKSwgZXZlbnQuY29udGV4dHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9sZXZlbCkge1xuICAgICAgICAgICAgZXZlbnQubGV2ZWwgPSB0aGlzLl9sZXZlbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdHJhbnNhY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICBldmVudC50cmFuc2FjdGlvbiA9IHRoaXMuX3RyYW5zYWN0aW9uTmFtZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSB3YW50IHRvIHNldCB0aGUgdHJhY2UgY29udGV4dCBmb3Igbm9ybWFsIGV2ZW50cyBvbmx5IGlmIHRoZXJlIGlzbid0IGFscmVhZHlcbiAgICAgICAgLy8gYSB0cmFjZSBjb250ZXh0IG9uIHRoZSBldmVudC4gVGhlcmUgaXMgYSBwcm9kdWN0IGZlYXR1cmUgaW4gcGxhY2Ugd2hlcmUgd2UgbGlua1xuICAgICAgICAvLyBlcnJvcnMgd2l0aCB0cmFuc2FjdGlvbiBhbmQgaXQgcmVseXMgb24gdGhhdC5cbiAgICAgICAgaWYgKHRoaXMuX3NwYW4pIHtcbiAgICAgICAgICAgIGV2ZW50LmNvbnRleHRzID0gX19hc3NpZ24oeyB0cmFjZTogdGhpcy5fc3Bhbi5nZXRUcmFjZUNvbnRleHQoKSB9LCBldmVudC5jb250ZXh0cyk7XG4gICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb25OYW1lID0gKF9hID0gdGhpcy5fc3Bhbi50cmFuc2FjdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm5hbWU7XG4gICAgICAgICAgICBpZiAodHJhbnNhY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQudGFncyA9IF9fYXNzaWduKHsgdHJhbnNhY3Rpb246IHRyYW5zYWN0aW9uTmFtZSB9LCBldmVudC50YWdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcHBseUZpbmdlcnByaW50KGV2ZW50KTtcbiAgICAgICAgZXZlbnQuYnJlYWRjcnVtYnMgPSBfX3NwcmVhZCgoZXZlbnQuYnJlYWRjcnVtYnMgfHwgW10pLCB0aGlzLl9icmVhZGNydW1icyk7XG4gICAgICAgIGV2ZW50LmJyZWFkY3J1bWJzID0gZXZlbnQuYnJlYWRjcnVtYnMubGVuZ3RoID4gMCA/IGV2ZW50LmJyZWFkY3J1bWJzIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gdGhpcy5fbm90aWZ5RXZlbnRQcm9jZXNzb3JzKF9fc3ByZWFkKGdldEdsb2JhbEV2ZW50UHJvY2Vzc29ycygpLCB0aGlzLl9ldmVudFByb2Nlc3NvcnMpLCBldmVudCwgaGludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgYmUgY2FsbGVkIGFmdGVyIHtAbGluayBhcHBseVRvRXZlbnR9IGlzIGZpbmlzaGVkLlxuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5fbm90aWZ5RXZlbnRQcm9jZXNzb3JzID0gZnVuY3Rpb24gKHByb2Nlc3NvcnMsIGV2ZW50LCBoaW50LCBpbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH1cbiAgICAgICAgcmV0dXJuIG5ldyBTeW5jUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgcHJvY2Vzc29yID0gcHJvY2Vzc29yc1tpbmRleF07XG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09IG51bGwgfHwgdHlwZW9mIHByb2Nlc3NvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHByb2Nlc3NvcihfX2Fzc2lnbih7fSwgZXZlbnQpLCBoaW50KTtcbiAgICAgICAgICAgICAgICBpZiAoaXNUaGVuYWJsZShyZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGZpbmFsKSB7IHJldHVybiBfdGhpcy5fbm90aWZ5RXZlbnRQcm9jZXNzb3JzKHByb2Nlc3NvcnMsIGZpbmFsLCBoaW50LCBpbmRleCArIDEpLnRoZW4ocmVzb2x2ZSk7IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihudWxsLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX25vdGlmeUV2ZW50UHJvY2Vzc29ycyhwcm9jZXNzb3JzLCByZXN1bHQsIGhpbnQsIGluZGV4ICsgMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc29sdmUpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihudWxsLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgYmUgY2FsbGVkIG9uIGV2ZXJ5IHNldCBjYWxsLlxuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFdlIG5lZWQgdGhpcyBjaGVjayBmb3IgdGhpcy5fbm90aWZ5aW5nTGlzdGVuZXJzIHRvIGJlIGFibGUgdG8gd29yayBvbiBzY29wZSBkdXJpbmcgdXBkYXRlc1xuICAgICAgICAvLyBJZiB0aGlzIGNoZWNrIGlzIG5vdCBoZXJlIHdlJ2xsIHByb2R1Y2UgZW5kbGVzcyByZWN1cnNpb24gd2hlbiBzb21ldGhpbmcgaXMgZG9uZSB3aXRoIHRoZSBzY29wZVxuICAgICAgICAvLyBkdXJpbmcgdGhlIGNhbGxiYWNrLlxuICAgICAgICBpZiAoIXRoaXMuX25vdGlmeWluZ0xpc3RlbmVycykge1xuICAgICAgICAgICAgdGhpcy5fbm90aWZ5aW5nTGlzdGVuZXJzID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3Njb3BlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soX3RoaXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9ub3RpZnlpbmdMaXN0ZW5lcnMgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBmaW5nZXJwcmludCBmcm9tIHRoZSBzY29wZSB0byB0aGUgZXZlbnQgaWYgdGhlcmUncyBvbmUsXG4gICAgICogdXNlcyBtZXNzYWdlIGlmIHRoZXJlJ3Mgb25lIGluc3RlYWQgb3IgZ2V0IHJpZCBvZiBlbXB0eSBmaW5nZXJwcmludFxuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5fYXBwbHlGaW5nZXJwcmludCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgaXQncyBhbiBhcnJheSBmaXJzdCBhbmQgd2UgYWN0dWFsbHkgaGF2ZSBzb21ldGhpbmcgaW4gcGxhY2VcbiAgICAgICAgZXZlbnQuZmluZ2VycHJpbnQgPSBldmVudC5maW5nZXJwcmludFxuICAgICAgICAgICAgPyBBcnJheS5pc0FycmF5KGV2ZW50LmZpbmdlcnByaW50KVxuICAgICAgICAgICAgICAgID8gZXZlbnQuZmluZ2VycHJpbnRcbiAgICAgICAgICAgICAgICA6IFtldmVudC5maW5nZXJwcmludF1cbiAgICAgICAgICAgIDogW107XG4gICAgICAgIC8vIElmIHdlIGhhdmUgc29tZXRoaW5nIG9uIHRoZSBzY29wZSwgdGhlbiBtZXJnZSBpdCB3aXRoIGV2ZW50XG4gICAgICAgIGlmICh0aGlzLl9maW5nZXJwcmludCkge1xuICAgICAgICAgICAgZXZlbnQuZmluZ2VycHJpbnQgPSBldmVudC5maW5nZXJwcmludC5jb25jYXQodGhpcy5fZmluZ2VycHJpbnQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHdlIGhhdmUgbm8gZGF0YSBhdCBhbGwsIHJlbW92ZSBlbXB0eSBhcnJheSBkZWZhdWx0XG4gICAgICAgIGlmIChldmVudC5maW5nZXJwcmludCAmJiAhZXZlbnQuZmluZ2VycHJpbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICBkZWxldGUgZXZlbnQuZmluZ2VycHJpbnQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTY29wZTtcbn0oKSk7XG5leHBvcnQgeyBTY29wZSB9O1xuLyoqXG4gKiBSZXRydW5zIHRoZSBnbG9iYWwgZXZlbnQgcHJvY2Vzc29ycy5cbiAqL1xuZnVuY3Rpb24gZ2V0R2xvYmFsRXZlbnRQcm9jZXNzb3JzKCkge1xuICAgIC8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2VzcyAgKi9cbiAgICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4gICAgZ2xvYmFsLl9fU0VOVFJZX18gPSBnbG9iYWwuX19TRU5UUllfXyB8fCB7fTtcbiAgICBnbG9iYWwuX19TRU5UUllfXy5nbG9iYWxFdmVudFByb2Nlc3NvcnMgPSBnbG9iYWwuX19TRU5UUllfXy5nbG9iYWxFdmVudFByb2Nlc3NvcnMgfHwgW107XG4gICAgcmV0dXJuIGdsb2JhbC5fX1NFTlRSWV9fLmdsb2JhbEV2ZW50UHJvY2Vzc29ycztcbiAgICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2VzcyAqL1xufVxuLyoqXG4gKiBBZGQgYSBFdmVudFByb2Nlc3NvciB0byBiZSBrZXB0IGdsb2JhbGx5LlxuICogQHBhcmFtIGNhbGxiYWNrIEV2ZW50UHJvY2Vzc29yIHRvIGFkZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkR2xvYmFsRXZlbnRQcm9jZXNzb3IoY2FsbGJhY2spIHtcbiAgICBnZXRHbG9iYWxFdmVudFByb2Nlc3NvcnMoKS5wdXNoKGNhbGxiYWNrKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjb3BlLmpzLm1hcCIsImltcG9ydCB7IFNlc3Npb25TdGF0dXMgfSBmcm9tICdAc2VudHJ5L3R5cGVzJztcbmltcG9ydCB7IGRyb3BVbmRlZmluZWRLZXlzLCB1dWlkNCB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuLyoqXG4gKiBAaW5oZXJpdGRvY1xuICovXG52YXIgU2Vzc2lvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZXNzaW9uKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSAwO1xuICAgICAgICB0aGlzLnNpZCA9IHV1aWQ0KCk7XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IDA7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gU2Vzc2lvblN0YXR1cy5PaztcbiAgICAgICAgdGhpcy5pbml0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBKU0RvYyAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG4gICAgU2Vzc2lvbi5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkgeyBjb250ZXh0ID0ge307IH1cbiAgICAgICAgaWYgKGNvbnRleHQudXNlcikge1xuICAgICAgICAgICAgaWYgKGNvbnRleHQudXNlci5pcF9hZGRyZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pcEFkZHJlc3MgPSBjb250ZXh0LnVzZXIuaXBfYWRkcmVzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY29udGV4dC5kaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpZCA9IGNvbnRleHQudXNlci5pZCB8fCBjb250ZXh0LnVzZXIuZW1haWwgfHwgY29udGV4dC51c2VyLnVzZXJuYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gY29udGV4dC50aW1lc3RhbXAgfHwgRGF0ZS5ub3coKTtcbiAgICAgICAgaWYgKGNvbnRleHQuc2lkKSB7XG4gICAgICAgICAgICAvLyBHb29kIGVub3VnaCB1dWlkIHZhbGlkYXRpb24uIOKAlCBLYW1pbFxuICAgICAgICAgICAgdGhpcy5zaWQgPSBjb250ZXh0LnNpZC5sZW5ndGggPT09IDMyID8gY29udGV4dC5zaWQgOiB1dWlkNCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LmluaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5pbml0ID0gY29udGV4dC5pbml0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LmRpZCkge1xuICAgICAgICAgICAgdGhpcy5kaWQgPSBcIlwiICsgY29udGV4dC5kaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0LnN0YXJ0ZWQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgPSBjb250ZXh0LnN0YXJ0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjb250ZXh0LmR1cmF0aW9uID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbiA9IGNvbnRleHQuZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmR1cmF0aW9uID0gdGhpcy50aW1lc3RhbXAgLSB0aGlzLnN0YXJ0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQucmVsZWFzZSkge1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlID0gY29udGV4dC5yZWxlYXNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LmVudmlyb25tZW50KSB7XG4gICAgICAgICAgICB0aGlzLmVudmlyb25tZW50ID0gY29udGV4dC5lbnZpcm9ubWVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dC5pcEFkZHJlc3MpIHtcbiAgICAgICAgICAgIHRoaXMuaXBBZGRyZXNzID0gY29udGV4dC5pcEFkZHJlc3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQudXNlckFnZW50KSB7XG4gICAgICAgICAgICB0aGlzLnVzZXJBZ2VudCA9IGNvbnRleHQudXNlckFnZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5lcnJvcnMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9ycyA9IGNvbnRleHQuZXJyb3JzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LnN0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBjb250ZXh0LnN0YXR1cztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgU2Vzc2lvbi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoc3RhdHVzKSB7XG4gICAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHsgc3RhdHVzOiBzdGF0dXMgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGF0dXMgPT09IFNlc3Npb25TdGF0dXMuT2spIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHsgc3RhdHVzOiBTZXNzaW9uU3RhdHVzLkV4aXRlZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGRyb3BVbmRlZmluZWRLZXlzKHtcbiAgICAgICAgICAgIHNpZDogXCJcIiArIHRoaXMuc2lkLFxuICAgICAgICAgICAgaW5pdDogdGhpcy5pbml0LFxuICAgICAgICAgICAgc3RhcnRlZDogbmV3IERhdGUodGhpcy5zdGFydGVkKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSh0aGlzLnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgICAgICBlcnJvcnM6IHRoaXMuZXJyb3JzLFxuICAgICAgICAgICAgZGlkOiB0eXBlb2YgdGhpcy5kaWQgPT09ICdudW1iZXInIHx8IHR5cGVvZiB0aGlzLmRpZCA9PT0gJ3N0cmluZycgPyBcIlwiICsgdGhpcy5kaWQgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbixcbiAgICAgICAgICAgIGF0dHJzOiBkcm9wVW5kZWZpbmVkS2V5cyh7XG4gICAgICAgICAgICAgICAgcmVsZWFzZTogdGhpcy5yZWxlYXNlLFxuICAgICAgICAgICAgICAgIGVudmlyb25tZW50OiB0aGlzLmVudmlyb25tZW50LFxuICAgICAgICAgICAgICAgIGlwX2FkZHJlc3M6IHRoaXMuaXBBZGRyZXNzLFxuICAgICAgICAgICAgICAgIHVzZXJfYWdlbnQ6IHRoaXMudXNlckFnZW50LFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFNlc3Npb247XG59KCkpO1xuZXhwb3J0IHsgU2Vzc2lvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Vzc2lvbi5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiwgX19yZWFkLCBfX3NwcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxpbmVzICovXG5pbXBvcnQgeyBTZXNzaW9uU3RhdHVzLCB9IGZyb20gJ0BzZW50cnkvdHlwZXMnO1xuaW1wb3J0IHsgY29uc29sZVNhbmRib3gsIGRhdGVUaW1lc3RhbXBJblNlY29uZHMsIGdldEdsb2JhbE9iamVjdCwgaXNOb2RlRW52LCBsb2dnZXIsIHV1aWQ0IH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBTY29wZSB9IGZyb20gJy4vc2NvcGUnO1xuaW1wb3J0IHsgU2Vzc2lvbiB9IGZyb20gJy4vc2Vzc2lvbic7XG4vKipcbiAqIEFQSSBjb21wYXRpYmlsaXR5IHZlcnNpb24gb2YgdGhpcyBodWIuXG4gKlxuICogV0FSTklORzogVGhpcyBudW1iZXIgc2hvdWxkIG9ubHkgYmUgaW5jcmVhc2VkIHdoZW4gdGhlIGdsb2JhbCBpbnRlcmZhY2VcbiAqIGNoYW5nZXMgYW5kIG5ldyBtZXRob2RzIGFyZSBpbnRyb2R1Y2VkLlxuICpcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IHZhciBBUElfVkVSU0lPTiA9IDM7XG4vKipcbiAqIERlZmF1bHQgbWF4aW11bSBudW1iZXIgb2YgYnJlYWRjcnVtYnMgYWRkZWQgdG8gYW4gZXZlbnQuIENhbiBiZSBvdmVyd3JpdHRlblxuICogd2l0aCB7QGxpbmsgT3B0aW9ucy5tYXhCcmVhZGNydW1ic30uXG4gKi9cbnZhciBERUZBVUxUX0JSRUFEQ1JVTUJTID0gMTAwO1xuLyoqXG4gKiBBYnNvbHV0ZSBtYXhpbXVtIG51bWJlciBvZiBicmVhZGNydW1icyBhZGRlZCB0byBhbiBldmVudC4gVGhlXG4gKiBgbWF4QnJlYWRjcnVtYnNgIG9wdGlvbiBjYW5ub3QgYmUgaGlnaGVyIHRoYW4gdGhpcyB2YWx1ZS5cbiAqL1xudmFyIE1BWF9CUkVBRENSVU1CUyA9IDEwMDtcbi8qKlxuICogQGluaGVyaXREb2NcbiAqL1xudmFyIEh1YiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGluc3RhbmNlIG9mIHRoZSBodWIsIHdpbGwgcHVzaCBvbmUge0BsaW5rIExheWVyfSBpbnRvIHRoZVxuICAgICAqIGludGVybmFsIHN0YWNrIG9uIGNyZWF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGNsaWVudCBib3VuZCB0byB0aGUgaHViLlxuICAgICAqIEBwYXJhbSBzY29wZSBib3VuZCB0byB0aGUgaHViLlxuICAgICAqIEBwYXJhbSB2ZXJzaW9uIG51bWJlciwgaGlnaGVyIG51bWJlciBtZWFucyBoaWdoZXIgcHJpb3JpdHkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gSHViKGNsaWVudCwgc2NvcGUsIF92ZXJzaW9uKSB7XG4gICAgICAgIGlmIChzY29wZSA9PT0gdm9pZCAwKSB7IHNjb3BlID0gbmV3IFNjb3BlKCk7IH1cbiAgICAgICAgaWYgKF92ZXJzaW9uID09PSB2b2lkIDApIHsgX3ZlcnNpb24gPSBBUElfVkVSU0lPTjsgfVxuICAgICAgICB0aGlzLl92ZXJzaW9uID0gX3ZlcnNpb247XG4gICAgICAgIC8qKiBJcyBhIHtAbGluayBMYXllcn1bXSBjb250YWluaW5nIHRoZSBjbGllbnQgYW5kIHNjb3BlICovXG4gICAgICAgIHRoaXMuX3N0YWNrID0gW3t9XTtcbiAgICAgICAgdGhpcy5nZXRTdGFja1RvcCgpLnNjb3BlID0gc2NvcGU7XG4gICAgICAgIHRoaXMuYmluZENsaWVudChjbGllbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuaXNPbGRlclRoYW4gPSBmdW5jdGlvbiAodmVyc2lvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmVyc2lvbiA8IHZlcnNpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuYmluZENsaWVudCA9IGZ1bmN0aW9uIChjbGllbnQpIHtcbiAgICAgICAgdmFyIHRvcCA9IHRoaXMuZ2V0U3RhY2tUb3AoKTtcbiAgICAgICAgdG9wLmNsaWVudCA9IGNsaWVudDtcbiAgICAgICAgaWYgKGNsaWVudCAmJiBjbGllbnQuc2V0dXBJbnRlZ3JhdGlvbnMpIHtcbiAgICAgICAgICAgIGNsaWVudC5zZXR1cEludGVncmF0aW9ucygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUucHVzaFNjb3BlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBXZSB3YW50IHRvIGNsb25lIHRoZSBjb250ZW50IG9mIHByZXYgc2NvcGVcbiAgICAgICAgdmFyIHNjb3BlID0gU2NvcGUuY2xvbmUodGhpcy5nZXRTY29wZSgpKTtcbiAgICAgICAgdGhpcy5nZXRTdGFjaygpLnB1c2goe1xuICAgICAgICAgICAgY2xpZW50OiB0aGlzLmdldENsaWVudCgpLFxuICAgICAgICAgICAgc2NvcGU6IHNjb3BlLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNjb3BlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLnBvcFNjb3BlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5nZXRTdGFjaygpLmxlbmd0aCA8PSAxKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gISF0aGlzLmdldFN0YWNrKCkucG9wKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUud2l0aFNjb3BlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzY29wZSA9IHRoaXMucHVzaFNjb3BlKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYWxsYmFjayhzY29wZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnBvcFNjb3BlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSHViLnByb3RvdHlwZS5nZXRDbGllbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0YWNrVG9wKCkuY2xpZW50O1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgdGhlIHNjb3BlIG9mIHRoZSB0b3Agc3RhY2suICovXG4gICAgSHViLnByb3RvdHlwZS5nZXRTY29wZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U3RhY2tUb3AoKS5zY29wZTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRoZSBzY29wZSBzdGFjayBmb3IgZG9tYWlucyBvciB0aGUgcHJvY2Vzcy4gKi9cbiAgICBIdWIucHJvdG90eXBlLmdldFN0YWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhY2s7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyB0aGUgdG9wbW9zdCBzY29wZSBsYXllciBpbiB0aGUgb3JkZXIgZG9tYWluID4gbG9jYWwgPiBwcm9jZXNzLiAqL1xuICAgIEh1Yi5wcm90b3R5cGUuZ2V0U3RhY2tUb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGFja1t0aGlzLl9zdGFjay5sZW5ndGggLSAxXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbiAgICBIdWIucHJvdG90eXBlLmNhcHR1cmVFeGNlcHRpb24gPSBmdW5jdGlvbiAoZXhjZXB0aW9uLCBoaW50KSB7XG4gICAgICAgIHZhciBldmVudElkID0gKHRoaXMuX2xhc3RFdmVudElkID0gdXVpZDQoKSk7XG4gICAgICAgIHZhciBmaW5hbEhpbnQgPSBoaW50O1xuICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGV4cGxpY2l0IGhpbnQgcHJvdmlkZWQsIG1pbWljayB0aGUgc2FtZSB0aGluZyB0aGF0IHdvdWxkIGhhcHBlblxuICAgICAgICAvLyBpbiB0aGUgbWluaW1hbCBpdHNlbGYgdG8gY3JlYXRlIGEgY29uc2lzdGVudCBiZWhhdmlvci5cbiAgICAgICAgLy8gV2UgZG9uJ3QgZG8gdGhpcyBpbiB0aGUgY2xpZW50LCBhcyBpdCdzIHRoZSBsb3dlc3QgbGV2ZWwgQVBJLCBhbmQgZG9pbmcgdGhpcyxcbiAgICAgICAgLy8gd291bGQgcHJldmVudCB1c2VyIGZyb20gaGF2aW5nIGZ1bGwgY29udHJvbCBvdmVyIGRpcmVjdCBjYWxscy5cbiAgICAgICAgaWYgKCFoaW50KSB7XG4gICAgICAgICAgICB2YXIgc3ludGhldGljRXhjZXB0aW9uID0gdm9pZCAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbnRyeSBzeW50aGV0aWNFeGNlcHRpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICBzeW50aGV0aWNFeGNlcHRpb24gPSBleGNlcHRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbEhpbnQgPSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFeGNlcHRpb246IGV4Y2VwdGlvbixcbiAgICAgICAgICAgICAgICBzeW50aGV0aWNFeGNlcHRpb246IHN5bnRoZXRpY0V4Y2VwdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW52b2tlQ2xpZW50KCdjYXB0dXJlRXhjZXB0aW9uJywgZXhjZXB0aW9uLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZmluYWxIaW50KSwgeyBldmVudF9pZDogZXZlbnRJZCB9KSk7XG4gICAgICAgIHJldHVybiBldmVudElkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLmNhcHR1cmVNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGxldmVsLCBoaW50KSB7XG4gICAgICAgIHZhciBldmVudElkID0gKHRoaXMuX2xhc3RFdmVudElkID0gdXVpZDQoKSk7XG4gICAgICAgIHZhciBmaW5hbEhpbnQgPSBoaW50O1xuICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGV4cGxpY2l0IGhpbnQgcHJvdmlkZWQsIG1pbWljayB0aGUgc2FtZSB0aGluZyB0aGF0IHdvdWxkIGhhcHBlblxuICAgICAgICAvLyBpbiB0aGUgbWluaW1hbCBpdHNlbGYgdG8gY3JlYXRlIGEgY29uc2lzdGVudCBiZWhhdmlvci5cbiAgICAgICAgLy8gV2UgZG9uJ3QgZG8gdGhpcyBpbiB0aGUgY2xpZW50LCBhcyBpdCdzIHRoZSBsb3dlc3QgbGV2ZWwgQVBJLCBhbmQgZG9pbmcgdGhpcyxcbiAgICAgICAgLy8gd291bGQgcHJldmVudCB1c2VyIGZyb20gaGF2aW5nIGZ1bGwgY29udHJvbCBvdmVyIGRpcmVjdCBjYWxscy5cbiAgICAgICAgaWYgKCFoaW50KSB7XG4gICAgICAgICAgICB2YXIgc3ludGhldGljRXhjZXB0aW9uID0gdm9pZCAwO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgc3ludGhldGljRXhjZXB0aW9uID0gZXhjZXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxIaW50ID0ge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXhjZXB0aW9uOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgIHN5bnRoZXRpY0V4Y2VwdGlvbjogc3ludGhldGljRXhjZXB0aW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbnZva2VDbGllbnQoJ2NhcHR1cmVNZXNzYWdlJywgbWVzc2FnZSwgbGV2ZWwsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBmaW5hbEhpbnQpLCB7IGV2ZW50X2lkOiBldmVudElkIH0pKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50SWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuY2FwdHVyZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBoaW50KSB7XG4gICAgICAgIHZhciBldmVudElkID0gKHRoaXMuX2xhc3RFdmVudElkID0gdXVpZDQoKSk7XG4gICAgICAgIHRoaXMuX2ludm9rZUNsaWVudCgnY2FwdHVyZUV2ZW50JywgZXZlbnQsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBoaW50KSwgeyBldmVudF9pZDogZXZlbnRJZCB9KSk7XG4gICAgICAgIHJldHVybiBldmVudElkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLmxhc3RFdmVudElkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGFzdEV2ZW50SWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuYWRkQnJlYWRjcnVtYiA9IGZ1bmN0aW9uIChicmVhZGNydW1iLCBoaW50KSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuZ2V0U3RhY2tUb3AoKSwgc2NvcGUgPSBfYS5zY29wZSwgY2xpZW50ID0gX2EuY2xpZW50O1xuICAgICAgICBpZiAoIXNjb3BlIHx8ICFjbGllbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcbiAgICAgICAgdmFyIF9iID0gKGNsaWVudC5nZXRPcHRpb25zICYmIGNsaWVudC5nZXRPcHRpb25zKCkpIHx8IHt9LCBfYyA9IF9iLmJlZm9yZUJyZWFkY3J1bWIsIGJlZm9yZUJyZWFkY3J1bWIgPSBfYyA9PT0gdm9pZCAwID8gbnVsbCA6IF9jLCBfZCA9IF9iLm1heEJyZWFkY3J1bWJzLCBtYXhCcmVhZGNydW1icyA9IF9kID09PSB2b2lkIDAgPyBERUZBVUxUX0JSRUFEQ1JVTUJTIDogX2Q7XG4gICAgICAgIGlmIChtYXhCcmVhZGNydW1icyA8PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgdGltZXN0YW1wID0gZGF0ZVRpbWVzdGFtcEluU2Vjb25kcygpO1xuICAgICAgICB2YXIgbWVyZ2VkQnJlYWRjcnVtYiA9IF9fYXNzaWduKHsgdGltZXN0YW1wOiB0aW1lc3RhbXAgfSwgYnJlYWRjcnVtYik7XG4gICAgICAgIHZhciBmaW5hbEJyZWFkY3J1bWIgPSBiZWZvcmVCcmVhZGNydW1iXG4gICAgICAgICAgICA/IGNvbnNvbGVTYW5kYm94KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJlZm9yZUJyZWFkY3J1bWIobWVyZ2VkQnJlYWRjcnVtYiwgaGludCk7IH0pXG4gICAgICAgICAgICA6IG1lcmdlZEJyZWFkY3J1bWI7XG4gICAgICAgIGlmIChmaW5hbEJyZWFkY3J1bWIgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNjb3BlLmFkZEJyZWFkY3J1bWIoZmluYWxCcmVhZGNydW1iLCBNYXRoLm1pbihtYXhCcmVhZGNydW1icywgTUFYX0JSRUFEQ1JVTUJTKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuc2V0VXNlciA9IGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgICAgIHZhciBzY29wZSA9IHRoaXMuZ2V0U2NvcGUoKTtcbiAgICAgICAgaWYgKHNjb3BlKVxuICAgICAgICAgICAgc2NvcGUuc2V0VXNlcih1c2VyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSHViLnByb3RvdHlwZS5zZXRUYWdzID0gZnVuY3Rpb24gKHRhZ3MpIHtcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcy5nZXRTY29wZSgpO1xuICAgICAgICBpZiAoc2NvcGUpXG4gICAgICAgICAgICBzY29wZS5zZXRUYWdzKHRhZ3MpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLnNldEV4dHJhcyA9IGZ1bmN0aW9uIChleHRyYXMpIHtcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcy5nZXRTY29wZSgpO1xuICAgICAgICBpZiAoc2NvcGUpXG4gICAgICAgICAgICBzY29wZS5zZXRFeHRyYXMoZXh0cmFzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSHViLnByb3RvdHlwZS5zZXRUYWcgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzLmdldFNjb3BlKCk7XG4gICAgICAgIGlmIChzY29wZSlcbiAgICAgICAgICAgIHNjb3BlLnNldFRhZyhrZXksIHZhbHVlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSHViLnByb3RvdHlwZS5zZXRFeHRyYSA9IGZ1bmN0aW9uIChrZXksIGV4dHJhKSB7XG4gICAgICAgIHZhciBzY29wZSA9IHRoaXMuZ2V0U2NvcGUoKTtcbiAgICAgICAgaWYgKHNjb3BlKVxuICAgICAgICAgICAgc2NvcGUuc2V0RXh0cmEoa2V5LCBleHRyYSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgSHViLnByb3RvdHlwZS5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKG5hbWUsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcy5nZXRTY29wZSgpO1xuICAgICAgICBpZiAoc2NvcGUpXG4gICAgICAgICAgICBzY29wZS5zZXRDb250ZXh0KG5hbWUsIGNvbnRleHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLmNvbmZpZ3VyZVNjb3BlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuZ2V0U3RhY2tUb3AoKSwgc2NvcGUgPSBfYS5zY29wZSwgY2xpZW50ID0gX2EuY2xpZW50O1xuICAgICAgICBpZiAoc2NvcGUgJiYgY2xpZW50KSB7XG4gICAgICAgICAgICBjYWxsYmFjayhzY29wZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSHViLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIG9sZEh1YiA9IG1ha2VNYWluKHRoaXMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2sodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICBtYWtlTWFpbihvbGRIdWIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuZ2V0SW50ZWdyYXRpb24gPSBmdW5jdGlvbiAoaW50ZWdyYXRpb24pIHtcbiAgICAgICAgdmFyIGNsaWVudCA9IHRoaXMuZ2V0Q2xpZW50KCk7XG4gICAgICAgIGlmICghY2xpZW50KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50LmdldEludGVncmF0aW9uKGludGVncmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX29PKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihcIkNhbm5vdCByZXRyaWV2ZSBpbnRlZ3JhdGlvbiBcIiArIGludGVncmF0aW9uLmlkICsgXCIgZnJvbSB0aGUgY3VycmVudCBIdWJcIik7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLnN0YXJ0U3BhbiA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWxsRXh0ZW5zaW9uTWV0aG9kKCdzdGFydFNwYW4nLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSHViLnByb3RvdHlwZS5zdGFydFRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKGNvbnRleHQsIGN1c3RvbVNhbXBsaW5nQ29udGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbEV4dGVuc2lvbk1ldGhvZCgnc3RhcnRUcmFuc2FjdGlvbicsIGNvbnRleHQsIGN1c3RvbVNhbXBsaW5nQ29udGV4dCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUudHJhY2VIZWFkZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbEV4dGVuc2lvbk1ldGhvZCgndHJhY2VIZWFkZXJzJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuY2FwdHVyZVNlc3Npb24gPSBmdW5jdGlvbiAoZW5kU2Vzc2lvbikge1xuICAgICAgICBpZiAoZW5kU2Vzc2lvbiA9PT0gdm9pZCAwKSB7IGVuZFNlc3Npb24gPSBmYWxzZTsgfVxuICAgICAgICAvLyBib3RoIHNlbmQgdGhlIHVwZGF0ZSBhbmQgcHVsbCB0aGUgc2Vzc2lvbiBmcm9tIHRoZSBzY29wZVxuICAgICAgICBpZiAoZW5kU2Vzc2lvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW5kU2Vzc2lvbigpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9ubHkgc2VuZCB0aGUgdXBkYXRlXG4gICAgICAgIHRoaXMuX3NlbmRTZXNzaW9uVXBkYXRlKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuZW5kU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgKF9jID0gKF9iID0gKF9hID0gdGhpcy5nZXRTdGFja1RvcCgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2NvcGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5nZXRTZXNzaW9uKCkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jbG9zZSgpO1xuICAgICAgICB0aGlzLl9zZW5kU2Vzc2lvblVwZGF0ZSgpO1xuICAgICAgICAvLyB0aGUgc2Vzc2lvbiBpcyBvdmVyOyB0YWtlIGl0IG9mZiBvZiB0aGUgc2NvcGVcbiAgICAgICAgKF9lID0gKF9kID0gdGhpcy5nZXRTdGFja1RvcCgpKSA9PT0gbnVsbCB8fCBfZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Quc2NvcGUpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5zZXRTZXNzaW9uKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuc3RhcnRTZXNzaW9uID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5nZXRTdGFja1RvcCgpLCBzY29wZSA9IF9hLnNjb3BlLCBjbGllbnQgPSBfYS5jbGllbnQ7XG4gICAgICAgIHZhciBfYiA9IChjbGllbnQgJiYgY2xpZW50LmdldE9wdGlvbnMoKSkgfHwge30sIHJlbGVhc2UgPSBfYi5yZWxlYXNlLCBlbnZpcm9ubWVudCA9IF9iLmVudmlyb25tZW50O1xuICAgICAgICB2YXIgc2Vzc2lvbiA9IG5ldyBTZXNzaW9uKF9fYXNzaWduKF9fYXNzaWduKHsgcmVsZWFzZTogcmVsZWFzZSxcbiAgICAgICAgICAgIGVudmlyb25tZW50OiBlbnZpcm9ubWVudCB9LCAoc2NvcGUgJiYgeyB1c2VyOiBzY29wZS5nZXRVc2VyKCkgfSkpLCBjb250ZXh0KSk7XG4gICAgICAgIGlmIChzY29wZSkge1xuICAgICAgICAgICAgLy8gRW5kIGV4aXN0aW5nIHNlc3Npb24gaWYgdGhlcmUncyBvbmVcbiAgICAgICAgICAgIHZhciBjdXJyZW50U2Vzc2lvbiA9IHNjb3BlLmdldFNlc3Npb24gJiYgc2NvcGUuZ2V0U2Vzc2lvbigpO1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRTZXNzaW9uICYmIGN1cnJlbnRTZXNzaW9uLnN0YXR1cyA9PT0gU2Vzc2lvblN0YXR1cy5Paykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXNzaW9uLnVwZGF0ZSh7IHN0YXR1czogU2Vzc2lvblN0YXR1cy5FeGl0ZWQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVuZFNlc3Npb24oKTtcbiAgICAgICAgICAgIC8vIEFmdGVyd2FyZHMgd2Ugc2V0IHRoZSBuZXcgc2Vzc2lvbiBvbiB0aGUgc2NvcGVcbiAgICAgICAgICAgIHNjb3BlLnNldFNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlc3Npb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZW5kcyB0aGUgY3VycmVudCBTZXNzaW9uIG9uIHRoZSBzY29wZVxuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuX3NlbmRTZXNzaW9uVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLmdldFN0YWNrVG9wKCksIHNjb3BlID0gX2Euc2NvcGUsIGNsaWVudCA9IF9hLmNsaWVudDtcbiAgICAgICAgaWYgKCFzY29wZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHNlc3Npb24gPSBzY29wZS5nZXRTZXNzaW9uICYmIHNjb3BlLmdldFNlc3Npb24oKTtcbiAgICAgICAgaWYgKHNlc3Npb24pIHtcbiAgICAgICAgICAgIGlmIChjbGllbnQgJiYgY2xpZW50LmNhcHR1cmVTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgY2xpZW50LmNhcHR1cmVTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBoZWxwZXIgZnVuY3Rpb24gdG8gY2FsbCBhIG1ldGhvZCBvbiB0aGUgdG9wIGNsaWVudCBpZiBpdCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWV0aG9kIFRoZSBtZXRob2QgdG8gY2FsbCBvbiB0aGUgY2xpZW50LlxuICAgICAqIEBwYXJhbSBhcmdzIEFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBjbGllbnQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBIdWIucHJvdG90eXBlLl9pbnZva2VDbGllbnQgPSBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9iID0gdGhpcy5nZXRTdGFja1RvcCgpLCBzY29wZSA9IF9iLnNjb3BlLCBjbGllbnQgPSBfYi5jbGllbnQ7XG4gICAgICAgIGlmIChjbGllbnQgJiYgY2xpZW50W21ldGhvZF0pIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MsIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIChfYSA9IGNsaWVudClbbWV0aG9kXS5hcHBseShfYSwgX19zcHJlYWQoYXJncywgW3Njb3BlXSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxscyBnbG9iYWwgZXh0ZW5zaW9uIG1ldGhvZCBhbmQgYmluZGluZyBjdXJyZW50IGluc3RhbmNlIHRvIHRoZSBmdW5jdGlvbiBjYWxsXG4gICAgICovXG4gICAgLy8gQHRzLWlnbm9yZSBGdW5jdGlvbiBsYWNrcyBlbmRpbmcgcmV0dXJuIHN0YXRlbWVudCBhbmQgcmV0dXJuIHR5cGUgZG9lcyBub3QgaW5jbHVkZSAndW5kZWZpbmVkJy4gdHMoMjM2NilcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIEh1Yi5wcm90b3R5cGUuX2NhbGxFeHRlbnNpb25NZXRob2QgPSBmdW5jdGlvbiAobWV0aG9kKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYXJyaWVyID0gZ2V0TWFpbkNhcnJpZXIoKTtcbiAgICAgICAgdmFyIHNlbnRyeSA9IGNhcnJpZXIuX19TRU5UUllfXztcbiAgICAgICAgaWYgKHNlbnRyeSAmJiBzZW50cnkuZXh0ZW5zaW9ucyAmJiB0eXBlb2Ygc2VudHJ5LmV4dGVuc2lvbnNbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbnRyeS5leHRlbnNpb25zW21ldGhvZF0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLndhcm4oXCJFeHRlbnNpb24gbWV0aG9kIFwiICsgbWV0aG9kICsgXCIgY291bGRuJ3QgYmUgZm91bmQsIGRvaW5nIG5vdGhpbmcuXCIpO1xuICAgIH07XG4gICAgcmV0dXJuIEh1Yjtcbn0oKSk7XG5leHBvcnQgeyBIdWIgfTtcbi8qKiBSZXR1cm5zIHRoZSBnbG9iYWwgc2hpbSByZWdpc3RyeS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNYWluQ2FycmllcigpIHtcbiAgICB2YXIgY2FycmllciA9IGdldEdsb2JhbE9iamVjdCgpO1xuICAgIGNhcnJpZXIuX19TRU5UUllfXyA9IGNhcnJpZXIuX19TRU5UUllfXyB8fCB7XG4gICAgICAgIGV4dGVuc2lvbnM6IHt9LFxuICAgICAgICBodWI6IHVuZGVmaW5lZCxcbiAgICB9O1xuICAgIHJldHVybiBjYXJyaWVyO1xufVxuLyoqXG4gKiBSZXBsYWNlcyB0aGUgY3VycmVudCBtYWluIGh1YiB3aXRoIHRoZSBwYXNzZWQgb25lIG9uIHRoZSBnbG9iYWwgb2JqZWN0XG4gKlxuICogQHJldHVybnMgVGhlIG9sZCByZXBsYWNlZCBodWJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VNYWluKGh1Yikge1xuICAgIHZhciByZWdpc3RyeSA9IGdldE1haW5DYXJyaWVyKCk7XG4gICAgdmFyIG9sZEh1YiA9IGdldEh1YkZyb21DYXJyaWVyKHJlZ2lzdHJ5KTtcbiAgICBzZXRIdWJPbkNhcnJpZXIocmVnaXN0cnksIGh1Yik7XG4gICAgcmV0dXJuIG9sZEh1Yjtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBodWIgaW5zdGFuY2UuXG4gKlxuICogSWYgYSBodWIgaXMgYWxyZWFkeSByZWdpc3RlcmVkIGluIHRoZSBnbG9iYWwgY2FycmllciBidXQgdGhpcyBtb2R1bGVcbiAqIGNvbnRhaW5zIGEgbW9yZSByZWNlbnQgdmVyc2lvbiwgaXQgcmVwbGFjZXMgdGhlIHJlZ2lzdGVyZWQgdmVyc2lvbi5cbiAqIE90aGVyd2lzZSwgdGhlIGN1cnJlbnRseSByZWdpc3RlcmVkIGh1YiB3aWxsIGJlIHJldHVybmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudEh1YigpIHtcbiAgICAvLyBHZXQgbWFpbiBjYXJyaWVyIChnbG9iYWwgZm9yIGV2ZXJ5IGVudmlyb25tZW50KVxuICAgIHZhciByZWdpc3RyeSA9IGdldE1haW5DYXJyaWVyKCk7XG4gICAgLy8gSWYgdGhlcmUncyBubyBodWIsIG9yIGl0cyBhbiBvbGQgQVBJLCBhc3NpZ24gYSBuZXcgb25lXG4gICAgaWYgKCFoYXNIdWJPbkNhcnJpZXIocmVnaXN0cnkpIHx8IGdldEh1YkZyb21DYXJyaWVyKHJlZ2lzdHJ5KS5pc09sZGVyVGhhbihBUElfVkVSU0lPTikpIHtcbiAgICAgICAgc2V0SHViT25DYXJyaWVyKHJlZ2lzdHJ5LCBuZXcgSHViKCkpO1xuICAgIH1cbiAgICAvLyBQcmVmZXIgZG9tYWlucyBvdmVyIGdsb2JhbCBpZiB0aGV5IGFyZSB0aGVyZSAoYXBwbGljYWJsZSBvbmx5IHRvIE5vZGUgZW52aXJvbm1lbnQpXG4gICAgaWYgKGlzTm9kZUVudigpKSB7XG4gICAgICAgIHJldHVybiBnZXRIdWJGcm9tQWN0aXZlRG9tYWluKHJlZ2lzdHJ5KTtcbiAgICB9XG4gICAgLy8gUmV0dXJuIGh1YiB0aGF0IGxpdmVzIG9uIGEgZ2xvYmFsIG9iamVjdFxuICAgIHJldHVybiBnZXRIdWJGcm9tQ2FycmllcihyZWdpc3RyeSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGFjdGl2ZSBkb21haW4sIGlmIG9uZSBleGlzdHNcbiAqIEBkZXByZWNhdGVkIE5vIGxvbmdlciB1c2VkOyByZW1vdmUgaW4gdjdcbiAqIEByZXR1cm5zIFRoZSBkb21haW4sIG9yIHVuZGVmaW5lZCBpZiB0aGVyZSBpcyBubyBhY3RpdmUgZG9tYWluXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGl2ZURvbWFpbigpIHtcbiAgICBsb2dnZXIud2FybignRnVuY3Rpb24gYGdldEFjdGl2ZURvbWFpbmAgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIHZlcnNpb24uJyk7XG4gICAgdmFyIHNlbnRyeSA9IGdldE1haW5DYXJyaWVyKCkuX19TRU5UUllfXztcbiAgICByZXR1cm4gc2VudHJ5ICYmIHNlbnRyeS5leHRlbnNpb25zICYmIHNlbnRyeS5leHRlbnNpb25zLmRvbWFpbiAmJiBzZW50cnkuZXh0ZW5zaW9ucy5kb21haW4uYWN0aXZlO1xufVxuLyoqXG4gKiBUcnkgdG8gcmVhZCB0aGUgaHViIGZyb20gYW4gYWN0aXZlIGRvbWFpbiwgYW5kIGZhbGxiYWNrIHRvIHRoZSByZWdpc3RyeSBpZiBvbmUgZG9lc24ndCBleGlzdFxuICogQHJldHVybnMgZGlzY292ZXJlZCBodWJcbiAqL1xuZnVuY3Rpb24gZ2V0SHViRnJvbUFjdGl2ZURvbWFpbihyZWdpc3RyeSkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBhY3RpdmVEb21haW4gPSAoX2MgPSAoX2IgPSAoX2EgPSBnZXRNYWluQ2FycmllcigpLl9fU0VOVFJZX18pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5leHRlbnNpb25zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZG9tYWluKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYWN0aXZlO1xuICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGFjdGl2ZSBkb21haW4sIGp1c3QgcmV0dXJuIGdsb2JhbCBodWJcbiAgICAgICAgaWYgKCFhY3RpdmVEb21haW4pIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRIdWJGcm9tQ2FycmllcihyZWdpc3RyeSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUncyBubyBodWIgb24gY3VycmVudCBkb21haW4sIG9yIGl0J3MgYW4gb2xkIEFQSSwgYXNzaWduIGEgbmV3IG9uZVxuICAgICAgICBpZiAoIWhhc0h1Yk9uQ2FycmllcihhY3RpdmVEb21haW4pIHx8IGdldEh1YkZyb21DYXJyaWVyKGFjdGl2ZURvbWFpbikuaXNPbGRlclRoYW4oQVBJX1ZFUlNJT04pKSB7XG4gICAgICAgICAgICB2YXIgcmVnaXN0cnlIdWJUb3BTdGFjayA9IGdldEh1YkZyb21DYXJyaWVyKHJlZ2lzdHJ5KS5nZXRTdGFja1RvcCgpO1xuICAgICAgICAgICAgc2V0SHViT25DYXJyaWVyKGFjdGl2ZURvbWFpbiwgbmV3IEh1YihyZWdpc3RyeUh1YlRvcFN0YWNrLmNsaWVudCwgU2NvcGUuY2xvbmUocmVnaXN0cnlIdWJUb3BTdGFjay5zY29wZSkpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXR1cm4gaHViIHRoYXQgbGl2ZXMgb24gYSBkb21haW5cbiAgICAgICAgcmV0dXJuIGdldEh1YkZyb21DYXJyaWVyKGFjdGl2ZURvbWFpbik7XG4gICAgfVxuICAgIGNhdGNoIChfT28pIHtcbiAgICAgICAgLy8gUmV0dXJuIGh1YiB0aGF0IGxpdmVzIG9uIGEgZ2xvYmFsIG9iamVjdFxuICAgICAgICByZXR1cm4gZ2V0SHViRnJvbUNhcnJpZXIocmVnaXN0cnkpO1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyB3aWxsIHRlbGwgd2hldGhlciBhIGNhcnJpZXIgaGFzIGEgaHViIG9uIGl0IG9yIG5vdFxuICogQHBhcmFtIGNhcnJpZXIgb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGhhc0h1Yk9uQ2FycmllcihjYXJyaWVyKSB7XG4gICAgcmV0dXJuICEhKGNhcnJpZXIgJiYgY2Fycmllci5fX1NFTlRSWV9fICYmIGNhcnJpZXIuX19TRU5UUllfXy5odWIpO1xufVxuLyoqXG4gKiBUaGlzIHdpbGwgY3JlYXRlIGEgbmV3IHtAbGluayBIdWJ9IGFuZCBhZGQgdG8gdGhlIHBhc3NlZCBvYmplY3Qgb25cbiAqIF9fU0VOVFJZX18uaHViLlxuICogQHBhcmFtIGNhcnJpZXIgb2JqZWN0XG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRIdWJGcm9tQ2FycmllcihjYXJyaWVyKSB7XG4gICAgaWYgKGNhcnJpZXIgJiYgY2Fycmllci5fX1NFTlRSWV9fICYmIGNhcnJpZXIuX19TRU5UUllfXy5odWIpXG4gICAgICAgIHJldHVybiBjYXJyaWVyLl9fU0VOVFJZX18uaHViO1xuICAgIGNhcnJpZXIuX19TRU5UUllfXyA9IGNhcnJpZXIuX19TRU5UUllfXyB8fCB7fTtcbiAgICBjYXJyaWVyLl9fU0VOVFJZX18uaHViID0gbmV3IEh1YigpO1xuICAgIHJldHVybiBjYXJyaWVyLl9fU0VOVFJZX18uaHViO1xufVxuLyoqXG4gKiBUaGlzIHdpbGwgc2V0IHBhc3NlZCB7QGxpbmsgSHVifSBvbiB0aGUgcGFzc2VkIG9iamVjdCdzIF9fU0VOVFJZX18uaHViIGF0dHJpYnV0ZVxuICogQHBhcmFtIGNhcnJpZXIgb2JqZWN0XG4gKiBAcGFyYW0gaHViIEh1YlxuICogQHJldHVybnMgQSBib29sZWFuIGluZGljYXRpbmcgc3VjY2VzcyBvciBmYWlsdXJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRIdWJPbkNhcnJpZXIoY2FycmllciwgaHViKSB7XG4gICAgaWYgKCFjYXJyaWVyKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY2Fycmllci5fX1NFTlRSWV9fID0gY2Fycmllci5fX1NFTlRSWV9fIHx8IHt9O1xuICAgIGNhcnJpZXIuX19TRU5UUllfXy5odWIgPSBodWI7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odWIuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fcmVhZCwgX19zcHJlYWQgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRIdWIgfSBmcm9tICdAc2VudHJ5L2h1Yic7XG4vKipcbiAqIFRoaXMgY2FsbHMgYSBmdW5jdGlvbiBvbiB0aGUgY3VycmVudCBodWIuXG4gKiBAcGFyYW0gbWV0aG9kIGZ1bmN0aW9uIHRvIGNhbGwgb24gaHViLlxuICogQHBhcmFtIGFyZ3MgdG8gcGFzcyB0byBmdW5jdGlvbi5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGNhbGxPbkh1YihtZXRob2QpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBodWIgPSBnZXRDdXJyZW50SHViKCk7XG4gICAgaWYgKGh1YiAmJiBodWJbbWV0aG9kXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByZXR1cm4gaHViW21ldGhvZF0uYXBwbHkoaHViLCBfX3NwcmVhZChhcmdzKSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGh1YiBkZWZpbmVkIG9yIFwiICsgbWV0aG9kICsgXCIgd2FzIG5vdCBmb3VuZCBvbiB0aGUgaHViLCBwbGVhc2Ugb3BlbiBhIGJ1ZyByZXBvcnQuXCIpO1xufVxuLyoqXG4gKiBDYXB0dXJlcyBhbiBleGNlcHRpb24gZXZlbnQgYW5kIHNlbmRzIGl0IHRvIFNlbnRyeS5cbiAqXG4gKiBAcGFyYW0gZXhjZXB0aW9uIEFuIGV4Y2VwdGlvbi1saWtlIG9iamVjdC5cbiAqIEByZXR1cm5zIFRoZSBnZW5lcmF0ZWQgZXZlbnRJZC5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmV4cG9ydCBmdW5jdGlvbiBjYXB0dXJlRXhjZXB0aW9uKGV4Y2VwdGlvbiwgY2FwdHVyZUNvbnRleHQpIHtcbiAgICB2YXIgc3ludGhldGljRXhjZXB0aW9uO1xuICAgIHRyeSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2VudHJ5IHN5bnRoZXRpY0V4Y2VwdGlvbicpO1xuICAgIH1cbiAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgIHN5bnRoZXRpY0V4Y2VwdGlvbiA9IGV4Y2VwdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGxPbkh1YignY2FwdHVyZUV4Y2VwdGlvbicsIGV4Y2VwdGlvbiwge1xuICAgICAgICBjYXB0dXJlQ29udGV4dDogY2FwdHVyZUNvbnRleHQsXG4gICAgICAgIG9yaWdpbmFsRXhjZXB0aW9uOiBleGNlcHRpb24sXG4gICAgICAgIHN5bnRoZXRpY0V4Y2VwdGlvbjogc3ludGhldGljRXhjZXB0aW9uLFxuICAgIH0pO1xufVxuLyoqXG4gKiBDYXB0dXJlcyBhIG1lc3NhZ2UgZXZlbnQgYW5kIHNlbmRzIGl0IHRvIFNlbnRyeS5cbiAqXG4gKiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBzZW5kIHRvIFNlbnRyeS5cbiAqIEBwYXJhbSBsZXZlbCBEZWZpbmUgdGhlIGxldmVsIG9mIHRoZSBtZXNzYWdlLlxuICogQHJldHVybnMgVGhlIGdlbmVyYXRlZCBldmVudElkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZU1lc3NhZ2UobWVzc2FnZSwgY2FwdHVyZUNvbnRleHQpIHtcbiAgICB2YXIgc3ludGhldGljRXhjZXB0aW9uO1xuICAgIHRyeSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICBzeW50aGV0aWNFeGNlcHRpb24gPSBleGNlcHRpb247XG4gICAgfVxuICAgIC8vIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIHByb3ZpZGUgZXhwbGljaXQgc2NvcGVzIHVwZ3JhZGUsIHdpdGhvdXQgY2hhbmdpbmcgdGhlIG9yaWdpbmFsXG4gICAgLy8gYXJpdHkgb2YgdGhlIGBjYXB0dXJlTWVzc2FnZShtZXNzYWdlLCBsZXZlbClgIG1ldGhvZC5cbiAgICB2YXIgbGV2ZWwgPSB0eXBlb2YgY2FwdHVyZUNvbnRleHQgPT09ICdzdHJpbmcnID8gY2FwdHVyZUNvbnRleHQgOiB1bmRlZmluZWQ7XG4gICAgdmFyIGNvbnRleHQgPSB0eXBlb2YgY2FwdHVyZUNvbnRleHQgIT09ICdzdHJpbmcnID8geyBjYXB0dXJlQ29udGV4dDogY2FwdHVyZUNvbnRleHQgfSA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gY2FsbE9uSHViKCdjYXB0dXJlTWVzc2FnZScsIG1lc3NhZ2UsIGxldmVsLCBfX2Fzc2lnbih7IG9yaWdpbmFsRXhjZXB0aW9uOiBtZXNzYWdlLCBzeW50aGV0aWNFeGNlcHRpb246IHN5bnRoZXRpY0V4Y2VwdGlvbiB9LCBjb250ZXh0KSk7XG59XG4vKipcbiAqIENhcHR1cmVzIGEgbWFudWFsbHkgY3JlYXRlZCBldmVudCBhbmQgc2VuZHMgaXQgdG8gU2VudHJ5LlxuICpcbiAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdG8gc2VuZCB0byBTZW50cnkuXG4gKiBAcmV0dXJucyBUaGUgZ2VuZXJhdGVkIGV2ZW50SWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYXB0dXJlRXZlbnQoZXZlbnQpIHtcbiAgICByZXR1cm4gY2FsbE9uSHViKCdjYXB0dXJlRXZlbnQnLCBldmVudCk7XG59XG4vKipcbiAqIENhbGxiYWNrIHRvIHNldCBjb250ZXh0IGluZm9ybWF0aW9uIG9udG8gdGhlIHNjb3BlLlxuICogQHBhcmFtIGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgcmVjZWl2ZXMgU2NvcGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb25maWd1cmVTY29wZShjYWxsYmFjaykge1xuICAgIGNhbGxPbkh1YignY29uZmlndXJlU2NvcGUnLCBjYWxsYmFjayk7XG59XG4vKipcbiAqIFJlY29yZHMgYSBuZXcgYnJlYWRjcnVtYiB3aGljaCB3aWxsIGJlIGF0dGFjaGVkIHRvIGZ1dHVyZSBldmVudHMuXG4gKlxuICogQnJlYWRjcnVtYnMgd2lsbCBiZSBhZGRlZCB0byBzdWJzZXF1ZW50IGV2ZW50cyB0byBwcm92aWRlIG1vcmUgY29udGV4dCBvblxuICogdXNlcidzIGFjdGlvbnMgcHJpb3IgdG8gYW4gZXJyb3Igb3IgY3Jhc2guXG4gKlxuICogQHBhcmFtIGJyZWFkY3J1bWIgVGhlIGJyZWFkY3J1bWIgdG8gcmVjb3JkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQnJlYWRjcnVtYihicmVhZGNydW1iKSB7XG4gICAgY2FsbE9uSHViKCdhZGRCcmVhZGNydW1iJywgYnJlYWRjcnVtYik7XG59XG4vKipcbiAqIFNldHMgY29udGV4dCBkYXRhIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gKiBAcGFyYW0gbmFtZSBvZiB0aGUgY29udGV4dFxuICogQHBhcmFtIGNvbnRleHQgQW55IGtpbmQgb2YgZGF0YS4gVGhpcyBkYXRhIHdpbGwgYmUgbm9ybWFsaXplZC5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiBzZXRDb250ZXh0KG5hbWUsIGNvbnRleHQpIHtcbiAgICBjYWxsT25IdWIoJ3NldENvbnRleHQnLCBuYW1lLCBjb250ZXh0KTtcbn1cbi8qKlxuICogU2V0IGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgbWVyZ2VkIHNlbnQgYXMgZXh0cmEgZGF0YSB3aXRoIHRoZSBldmVudC5cbiAqIEBwYXJhbSBleHRyYXMgRXh0cmFzIG9iamVjdCB0byBtZXJnZSBpbnRvIGN1cnJlbnQgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEV4dHJhcyhleHRyYXMpIHtcbiAgICBjYWxsT25IdWIoJ3NldEV4dHJhcycsIGV4dHJhcyk7XG59XG4vKipcbiAqIFNldCBhbiBvYmplY3QgdGhhdCB3aWxsIGJlIG1lcmdlZCBzZW50IGFzIHRhZ3MgZGF0YSB3aXRoIHRoZSBldmVudC5cbiAqIEBwYXJhbSB0YWdzIFRhZ3MgY29udGV4dCBvYmplY3QgdG8gbWVyZ2UgaW50byBjdXJyZW50IGNvbnRleHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRUYWdzKHRhZ3MpIHtcbiAgICBjYWxsT25IdWIoJ3NldFRhZ3MnLCB0YWdzKTtcbn1cbi8qKlxuICogU2V0IGtleTp2YWx1ZSB0aGF0IHdpbGwgYmUgc2VudCBhcyBleHRyYSBkYXRhIHdpdGggdGhlIGV2ZW50LlxuICogQHBhcmFtIGtleSBTdHJpbmcgb2YgZXh0cmFcbiAqIEBwYXJhbSBleHRyYSBBbnkga2luZCBvZiBkYXRhLiBUaGlzIGRhdGEgd2lsbCBiZSBub3JtYWxpemVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0RXh0cmEoa2V5LCBleHRyYSkge1xuICAgIGNhbGxPbkh1Yignc2V0RXh0cmEnLCBrZXksIGV4dHJhKTtcbn1cbi8qKlxuICogU2V0IGtleTp2YWx1ZSB0aGF0IHdpbGwgYmUgc2VudCBhcyB0YWdzIGRhdGEgd2l0aCB0aGUgZXZlbnQuXG4gKlxuICogQ2FuIGFsc28gYmUgdXNlZCB0byB1bnNldCBhIHRhZywgYnkgcGFzc2luZyBgdW5kZWZpbmVkYC5cbiAqXG4gKiBAcGFyYW0ga2V5IFN0cmluZyBrZXkgb2YgdGFnXG4gKiBAcGFyYW0gdmFsdWUgVmFsdWUgb2YgdGFnXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRUYWcoa2V5LCB2YWx1ZSkge1xuICAgIGNhbGxPbkh1Yignc2V0VGFnJywga2V5LCB2YWx1ZSk7XG59XG4vKipcbiAqIFVwZGF0ZXMgdXNlciBjb250ZXh0IGluZm9ybWF0aW9uIGZvciBmdXR1cmUgZXZlbnRzLlxuICpcbiAqIEBwYXJhbSB1c2VyIFVzZXIgY29udGV4dCBvYmplY3QgdG8gYmUgc2V0IGluIHRoZSBjdXJyZW50IGNvbnRleHQuIFBhc3MgYG51bGxgIHRvIHVuc2V0IHRoZSB1c2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0VXNlcih1c2VyKSB7XG4gICAgY2FsbE9uSHViKCdzZXRVc2VyJywgdXNlcik7XG59XG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgc2NvcGUgd2l0aCBhbmQgZXhlY3V0ZXMgdGhlIGdpdmVuIG9wZXJhdGlvbiB3aXRoaW4uXG4gKiBUaGUgc2NvcGUgaXMgYXV0b21hdGljYWxseSByZW1vdmVkIG9uY2UgdGhlIG9wZXJhdGlvblxuICogZmluaXNoZXMgb3IgdGhyb3dzLlxuICpcbiAqIFRoaXMgaXMgZXNzZW50aWFsbHkgYSBjb252ZW5pZW5jZSBmdW5jdGlvbiBmb3I6XG4gKlxuICogICAgIHB1c2hTY29wZSgpO1xuICogICAgIGNhbGxiYWNrKCk7XG4gKiAgICAgcG9wU2NvcGUoKTtcbiAqXG4gKiBAcGFyYW0gY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGVuY2xvc2VkIGludG8gcHVzaC9wb3BTY29wZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhTY29wZShjYWxsYmFjaykge1xuICAgIGNhbGxPbkh1Yignd2l0aFNjb3BlJywgY2FsbGJhY2spO1xufVxuLyoqXG4gKiBDYWxscyBhIGZ1bmN0aW9uIG9uIHRoZSBsYXRlc3QgY2xpZW50LiBVc2UgdGhpcyB3aXRoIGNhdXRpb24sIGl0J3MgbWVhbnQgYXNcbiAqIGluIFwiaW50ZXJuYWxcIiBoZWxwZXIgc28gd2UgZG9uJ3QgbmVlZCB0byBleHBvc2UgZXZlcnkgcG9zc2libGUgZnVuY3Rpb24gaW5cbiAqIHRoZSBzaGltLiBJdCBpcyBub3QgZ3VhcmFudGVlZCB0aGF0IHRoZSBjbGllbnQgYWN0dWFsbHkgaW1wbGVtZW50cyB0aGVcbiAqIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSBtZXRob2QgVGhlIG1ldGhvZCB0byBjYWxsIG9uIHRoZSBjbGllbnQvY2xpZW50LlxuICogQHBhcmFtIGFyZ3MgQXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGNsaWVudC9mb250ZW5kLlxuICogQGhpZGRlblxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIF9jYWxsT25DbGllbnQobWV0aG9kKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBjYWxsT25IdWIuYXBwbHkodm9pZCAwLCBfX3NwcmVhZChbJ19pbnZva2VDbGllbnQnLCBtZXRob2RdLCBhcmdzKSk7XG59XG4vKipcbiAqIFN0YXJ0cyBhIG5ldyBgVHJhbnNhY3Rpb25gIGFuZCByZXR1cm5zIGl0LiBUaGlzIGlzIHRoZSBlbnRyeSBwb2ludCB0byBtYW51YWwgdHJhY2luZyBpbnN0cnVtZW50YXRpb24uXG4gKlxuICogQSB0cmVlIHN0cnVjdHVyZSBjYW4gYmUgYnVpbHQgYnkgYWRkaW5nIGNoaWxkIHNwYW5zIHRvIHRoZSB0cmFuc2FjdGlvbiwgYW5kIGNoaWxkIHNwYW5zIHRvIG90aGVyIHNwYW5zLiBUbyBzdGFydCBhXG4gKiBuZXcgY2hpbGQgc3BhbiB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uIG9yIGFueSBzcGFuLCBjYWxsIHRoZSByZXNwZWN0aXZlIGAuc3RhcnRDaGlsZCgpYCBtZXRob2QuXG4gKlxuICogRXZlcnkgY2hpbGQgc3BhbiBtdXN0IGJlIGZpbmlzaGVkIGJlZm9yZSB0aGUgdHJhbnNhY3Rpb24gaXMgZmluaXNoZWQsIG90aGVyd2lzZSB0aGUgdW5maW5pc2hlZCBzcGFucyBhcmUgZGlzY2FyZGVkLlxuICpcbiAqIFRoZSB0cmFuc2FjdGlvbiBtdXN0IGJlIGZpbmlzaGVkIHdpdGggYSBjYWxsIHRvIGl0cyBgLmZpbmlzaCgpYCBtZXRob2QsIGF0IHdoaWNoIHBvaW50IHRoZSB0cmFuc2FjdGlvbiB3aXRoIGFsbCBpdHNcbiAqIGZpbmlzaGVkIGNoaWxkIHNwYW5zIHdpbGwgYmUgc2VudCB0byBTZW50cnkuXG4gKlxuICogQHBhcmFtIGNvbnRleHQgUHJvcGVydGllcyBvZiB0aGUgbmV3IGBUcmFuc2FjdGlvbmAuXG4gKiBAcGFyYW0gY3VzdG9tU2FtcGxpbmdDb250ZXh0IEluZm9ybWF0aW9uIGdpdmVuIHRvIHRoZSB0cmFuc2FjdGlvbiBzYW1wbGluZyBmdW5jdGlvbiAoYWxvbmcgd2l0aCBjb250ZXh0LWRlcGVuZGVudFxuICogZGVmYXVsdCB2YWx1ZXMpLiBTZWUge0BsaW5rIE9wdGlvbnMudHJhY2VzU2FtcGxlcn0uXG4gKlxuICogQHJldHVybnMgVGhlIHRyYW5zYWN0aW9uIHdoaWNoIHdhcyBqdXN0IHN0YXJ0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0VHJhbnNhY3Rpb24oY29udGV4dCwgY3VzdG9tU2FtcGxpbmdDb250ZXh0KSB7XG4gICAgcmV0dXJuIGNhbGxPbkh1Yignc3RhcnRUcmFuc2FjdGlvbicsIF9fYXNzaWduKHt9LCBjb250ZXh0KSwgY3VzdG9tU2FtcGxpbmdDb250ZXh0KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IGxvYWRpbmdBY3Rpb24sIGVycm9yQWN0aW9uLCBzdW1tYXJ5TG9hZGVkQWN0aW9uIH0gZnJvbSAnLi9zdG9yZSc7XHJcbmltcG9ydCAqIGFzIHBlcmZTdmMgZnJvbSAnLi9wZXJmb3JtYW5jZS5jbGllbnQnO1xyXG5pbXBvcnQgKiBhcyBTZW50cnkgZnJvbSAnQHNlbnRyeS92dWUnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHN1bW1hcnkgPSBhc3luYyAoZGlzcGF0Y2g6IGFueSkgPT4ge1xyXG4gIGRpc3BhdGNoKGxvYWRpbmdBY3Rpb24oKSk7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHN1bW1hcnkgPSBhd2FpdCBwZXJmU3ZjLnN1bW1hcnkoKTtcclxuICAgIGRpc3BhdGNoKHN1bW1hcnlMb2FkZWRBY3Rpb24oc3VtbWFyeSkpO1xyXG4gIH0gY2F0Y2ggKGVycikge1xyXG4gICAgU2VudHJ5LmNhcHR1cmVFeGNlcHRpb24obmV3IEVycm9yKGVycikpO1xyXG4gICAgZGlzcGF0Y2goZXJyb3JBY3Rpb24oJ2dhZ2FsIG1lbXVhdCBpbmZvcm1hc2kga2luZXJqYScpKTtcclxuICB9XHJcbn07XHJcbiIsImltcG9ydCB7IGh0dHBDbGllbnQgYXMgY2xpZW50IH0gZnJvbSAnLi4vbGliL2h0dHAtY2xpZW50JztcclxuaW1wb3J0IHsgU0VSVklDRV9CQVNFVVJMIH0gZnJvbSAgJy4vY29uZmlnJztcclxuaW1wb3J0IHsgU3VtbWFyeSB9IGZyb20gJy4vcmVkdWNlcic7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc3VtbWFyeSgpOiBQcm9taXNlPFN1bW1hcnk+IHtcclxuICByZXR1cm4gY2xpZW50LmdldChgJHtTRVJWSUNFX0JBU0VVUkx9L3N1bW1hcnlgKTtcclxufVxyXG5cclxuIiwiZXhwb3J0IHZhciBTREtfVkVSU0lPTiA9ICc2LjEuMCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZXJzaW9uLmpzLm1hcCIsInZhciBvcmlnaW5hbEZ1bmN0aW9uVG9TdHJpbmc7XG4vKiogUGF0Y2ggdG9TdHJpbmcgY2FsbHMgdG8gcmV0dXJuIHByb3BlciBuYW1lIGZvciB3cmFwcGVkIGZ1bmN0aW9ucyAqL1xudmFyIEZ1bmN0aW9uVG9TdHJpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRnVuY3Rpb25Ub1N0cmluZygpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbmhlcml0RG9jXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBGdW5jdGlvblRvU3RyaW5nLmlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEZ1bmN0aW9uVG9TdHJpbmcucHJvdG90eXBlLnNldHVwT25jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgICBvcmlnaW5hbEZ1bmN0aW9uVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5fX3NlbnRyeV9vcmlnaW5hbF9fIHx8IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxGdW5jdGlvblRvU3RyaW5nLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBGdW5jdGlvblRvU3RyaW5nLmlkID0gJ0Z1bmN0aW9uVG9TdHJpbmcnO1xuICAgIHJldHVybiBGdW5jdGlvblRvU3RyaW5nO1xufSgpKTtcbmV4cG9ydCB7IEZ1bmN0aW9uVG9TdHJpbmcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZ1bmN0aW9udG9zdHJpbmcuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYWRkR2xvYmFsRXZlbnRQcm9jZXNzb3IsIGdldEN1cnJlbnRIdWIgfSBmcm9tICdAc2VudHJ5L2h1Yic7XG5pbXBvcnQgeyBnZXRFdmVudERlc2NyaXB0aW9uLCBpc01hdGNoaW5nUGF0dGVybiwgbG9nZ2VyIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG4vLyBcIlNjcmlwdCBlcnJvci5cIiBpcyBoYXJkIGNvZGVkIGludG8gYnJvd3NlcnMgZm9yIGVycm9ycyB0aGF0IGl0IGNhbid0IHJlYWQuXG4vLyB0aGlzIGlzIHRoZSByZXN1bHQgb2YgYSBzY3JpcHQgYmVpbmcgcHVsbGVkIGluIGZyb20gYW4gZXh0ZXJuYWwgZG9tYWluIGFuZCBDT1JTLlxudmFyIERFRkFVTFRfSUdOT1JFX0VSUk9SUyA9IFsvXlNjcmlwdCBlcnJvclxcLj8kLywgL15KYXZhc2NyaXB0IGVycm9yOiBTY3JpcHQgZXJyb3JcXC4/IG9uIGxpbmUgMCQvXTtcbi8qKiBJbmJvdW5kIGZpbHRlcnMgY29uZmlndXJhYmxlIGJ5IHRoZSB1c2VyICovXG52YXIgSW5ib3VuZEZpbHRlcnMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW5ib3VuZEZpbHRlcnMoX29wdGlvbnMpIHtcbiAgICAgICAgaWYgKF9vcHRpb25zID09PSB2b2lkIDApIHsgX29wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLl9vcHRpb25zID0gX29wdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW5oZXJpdERvY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYW1lID0gSW5ib3VuZEZpbHRlcnMuaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSW5ib3VuZEZpbHRlcnMucHJvdG90eXBlLnNldHVwT25jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWRkR2xvYmFsRXZlbnRQcm9jZXNzb3IoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaHViID0gZ2V0Q3VycmVudEh1YigpO1xuICAgICAgICAgICAgaWYgKCFodWIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2VsZiA9IGh1Yi5nZXRJbnRlZ3JhdGlvbihJbmJvdW5kRmlsdGVycyk7XG4gICAgICAgICAgICBpZiAoc2VsZikge1xuICAgICAgICAgICAgICAgIHZhciBjbGllbnQgPSBodWIuZ2V0Q2xpZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIGNsaWVudE9wdGlvbnMgPSBjbGllbnQgPyBjbGllbnQuZ2V0T3B0aW9ucygpIDoge307XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBzZWxmLl9tZXJnZU9wdGlvbnMoY2xpZW50T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX3Nob3VsZERyb3BFdmVudChldmVudCwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEluYm91bmRGaWx0ZXJzLnByb3RvdHlwZS5fc2hvdWxkRHJvcEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1NlbnRyeUVycm9yKGV2ZW50LCBvcHRpb25zKSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJFdmVudCBkcm9wcGVkIGR1ZSB0byBiZWluZyBpbnRlcm5hbCBTZW50cnkgRXJyb3IuXFxuRXZlbnQ6IFwiICsgZ2V0RXZlbnREZXNjcmlwdGlvbihldmVudCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzSWdub3JlZEVycm9yKGV2ZW50LCBvcHRpb25zKSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJFdmVudCBkcm9wcGVkIGR1ZSB0byBiZWluZyBtYXRjaGVkIGJ5IGBpZ25vcmVFcnJvcnNgIG9wdGlvbi5cXG5FdmVudDogXCIgKyBnZXRFdmVudERlc2NyaXB0aW9uKGV2ZW50KSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXNEZW5pZWRVcmwoZXZlbnQsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihcIkV2ZW50IGRyb3BwZWQgZHVlIHRvIGJlaW5nIG1hdGNoZWQgYnkgYGRlbnlVcmxzYCBvcHRpb24uXFxuRXZlbnQ6IFwiICsgZ2V0RXZlbnREZXNjcmlwdGlvbihldmVudCkgKyBcIi5cXG5Vcmw6IFwiICsgdGhpcy5fZ2V0RXZlbnRGaWx0ZXJVcmwoZXZlbnQpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faXNBbGxvd2VkVXJsKGV2ZW50LCBvcHRpb25zKSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJFdmVudCBkcm9wcGVkIGR1ZSB0byBub3QgYmVpbmcgbWF0Y2hlZCBieSBgYWxsb3dVcmxzYCBvcHRpb24uXFxuRXZlbnQ6IFwiICsgZ2V0RXZlbnREZXNjcmlwdGlvbihldmVudCkgKyBcIi5cXG5Vcmw6IFwiICsgdGhpcy5fZ2V0RXZlbnRGaWx0ZXJVcmwoZXZlbnQpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEluYm91bmRGaWx0ZXJzLnByb3RvdHlwZS5faXNTZW50cnlFcnJvciA9IGZ1bmN0aW9uIChldmVudCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMuaWdub3JlSW50ZXJuYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuICgoZXZlbnQgJiZcbiAgICAgICAgICAgICAgICBldmVudC5leGNlcHRpb24gJiZcbiAgICAgICAgICAgICAgICBldmVudC5leGNlcHRpb24udmFsdWVzICYmXG4gICAgICAgICAgICAgICAgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXSAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0udHlwZSA9PT0gJ1NlbnRyeUVycm9yJykgfHxcbiAgICAgICAgICAgICAgICBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9vTykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBJbmJvdW5kRmlsdGVycy5wcm90b3R5cGUuX2lzSWdub3JlZEVycm9yID0gZnVuY3Rpb24gKGV2ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcnMgfHwgIW9wdGlvbnMuaWdub3JlRXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRQb3NzaWJsZUV2ZW50TWVzc2FnZXMoZXZlbnQpLnNvbWUoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIC8vIE5vdCBzdXJlIHdoeSBUeXBlU2NyaXB0IGNvbXBsYWlucyBoZXJlLi4uXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5pZ25vcmVFcnJvcnMuc29tZShmdW5jdGlvbiAocGF0dGVybikgeyByZXR1cm4gaXNNYXRjaGluZ1BhdHRlcm4obWVzc2FnZSwgcGF0dGVybik7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEluYm91bmRGaWx0ZXJzLnByb3RvdHlwZS5faXNEZW5pZWRVcmwgPSBmdW5jdGlvbiAoZXZlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVE9ETzogVXNlIEdsb2IgaW5zdGVhZD9cbiAgICAgICAgaWYgKCFvcHRpb25zLmRlbnlVcmxzIHx8ICFvcHRpb25zLmRlbnlVcmxzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cmwgPSB0aGlzLl9nZXRFdmVudEZpbHRlclVybChldmVudCk7XG4gICAgICAgIHJldHVybiAhdXJsID8gZmFsc2UgOiBvcHRpb25zLmRlbnlVcmxzLnNvbWUoZnVuY3Rpb24gKHBhdHRlcm4pIHsgcmV0dXJuIGlzTWF0Y2hpbmdQYXR0ZXJuKHVybCwgcGF0dGVybik7IH0pO1xuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgSW5ib3VuZEZpbHRlcnMucHJvdG90eXBlLl9pc0FsbG93ZWRVcmwgPSBmdW5jdGlvbiAoZXZlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVE9ETzogVXNlIEdsb2IgaW5zdGVhZD9cbiAgICAgICAgaWYgKCFvcHRpb25zLmFsbG93VXJscyB8fCAhb3B0aW9ucy5hbGxvd1VybHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXJsID0gdGhpcy5fZ2V0RXZlbnRGaWx0ZXJVcmwoZXZlbnQpO1xuICAgICAgICByZXR1cm4gIXVybCA/IHRydWUgOiBvcHRpb25zLmFsbG93VXJscy5zb21lKGZ1bmN0aW9uIChwYXR0ZXJuKSB7IHJldHVybiBpc01hdGNoaW5nUGF0dGVybih1cmwsIHBhdHRlcm4pOyB9KTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEluYm91bmRGaWx0ZXJzLnByb3RvdHlwZS5fbWVyZ2VPcHRpb25zID0gZnVuY3Rpb24gKGNsaWVudE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGNsaWVudE9wdGlvbnMgPT09IHZvaWQgMCkgeyBjbGllbnRPcHRpb25zID0ge307IH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFsbG93VXJsczogX19zcHJlYWQoKHRoaXMuX29wdGlvbnMud2hpdGVsaXN0VXJscyB8fCBbXSksICh0aGlzLl9vcHRpb25zLmFsbG93VXJscyB8fCBbXSksIChjbGllbnRPcHRpb25zLndoaXRlbGlzdFVybHMgfHwgW10pLCAoY2xpZW50T3B0aW9ucy5hbGxvd1VybHMgfHwgW10pKSxcbiAgICAgICAgICAgIGRlbnlVcmxzOiBfX3NwcmVhZCgodGhpcy5fb3B0aW9ucy5ibGFja2xpc3RVcmxzIHx8IFtdKSwgKHRoaXMuX29wdGlvbnMuZGVueVVybHMgfHwgW10pLCAoY2xpZW50T3B0aW9ucy5ibGFja2xpc3RVcmxzIHx8IFtdKSwgKGNsaWVudE9wdGlvbnMuZGVueVVybHMgfHwgW10pKSxcbiAgICAgICAgICAgIGlnbm9yZUVycm9yczogX19zcHJlYWQoKHRoaXMuX29wdGlvbnMuaWdub3JlRXJyb3JzIHx8IFtdKSwgKGNsaWVudE9wdGlvbnMuaWdub3JlRXJyb3JzIHx8IFtdKSwgREVGQVVMVF9JR05PUkVfRVJST1JTKSxcbiAgICAgICAgICAgIGlnbm9yZUludGVybmFsOiB0eXBlb2YgdGhpcy5fb3B0aW9ucy5pZ25vcmVJbnRlcm5hbCAhPT0gJ3VuZGVmaW5lZCcgPyB0aGlzLl9vcHRpb25zLmlnbm9yZUludGVybmFsIDogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEluYm91bmRGaWx0ZXJzLnByb3RvdHlwZS5fZ2V0UG9zc2libGVFdmVudE1lc3NhZ2VzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5tZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gW2V2ZW50Lm1lc3NhZ2VdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5leGNlcHRpb24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gKGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXMgJiYgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXSkgfHwge30sIF9iID0gX2EudHlwZSwgdHlwZSA9IF9iID09PSB2b2lkIDAgPyAnJyA6IF9iLCBfYyA9IF9hLnZhbHVlLCB2YWx1ZSA9IF9jID09PSB2b2lkIDAgPyAnJyA6IF9jO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXCJcIiArIHZhbHVlLCB0eXBlICsgXCI6IFwiICsgdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKG9PKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwiQ2Fubm90IGV4dHJhY3QgbWVzc2FnZSBmb3IgZXZlbnQgXCIgKyBnZXRFdmVudERlc2NyaXB0aW9uKGV2ZW50KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEluYm91bmRGaWx0ZXJzLnByb3RvdHlwZS5fZ2V0RXZlbnRGaWx0ZXJVcmwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChldmVudC5zdGFja3RyYWNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lc18xID0gZXZlbnQuc3RhY2t0cmFjZS5mcmFtZXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChmcmFtZXNfMSAmJiBmcmFtZXNfMVtmcmFtZXNfMS5sZW5ndGggLSAxXS5maWxlbmFtZSkgfHwgbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChldmVudC5leGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWVzXzIgPSBldmVudC5leGNlcHRpb24udmFsdWVzICYmIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0uc3RhY2t0cmFjZSAmJiBldmVudC5leGNlcHRpb24udmFsdWVzWzBdLnN0YWNrdHJhY2UuZnJhbWVzO1xuICAgICAgICAgICAgICAgIHJldHVybiAoZnJhbWVzXzIgJiYgZnJhbWVzXzJbZnJhbWVzXzIubGVuZ3RoIC0gMV0uZmlsZW5hbWUpIHx8IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAob08pIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIkNhbm5vdCBleHRyYWN0IHVybCBmb3IgZXZlbnQgXCIgKyBnZXRFdmVudERlc2NyaXB0aW9uKGV2ZW50KSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBJbmJvdW5kRmlsdGVycy5pZCA9ICdJbmJvdW5kRmlsdGVycyc7XG4gICAgcmV0dXJuIEluYm91bmRGaWx0ZXJzO1xufSgpKTtcbmV4cG9ydCB7IEluYm91bmRGaWx0ZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmJvdW5kZmlsdGVycy5qcy5tYXAiLCJpbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICcuL21pc2MnO1xuLyoqXG4gKiBUZWxscyB3aGV0aGVyIGN1cnJlbnQgZW52aXJvbm1lbnQgc3VwcG9ydHMgRXJyb3JFdmVudCBvYmplY3RzXG4gKiB7QGxpbmsgc3VwcG9ydHNFcnJvckV2ZW50fS5cbiAqXG4gKiBAcmV0dXJucyBBbnN3ZXIgdG8gdGhlIGdpdmVuIHF1ZXN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydHNFcnJvckV2ZW50KCkge1xuICAgIHRyeSB7XG4gICAgICAgIG5ldyBFcnJvckV2ZW50KCcnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIFRlbGxzIHdoZXRoZXIgY3VycmVudCBlbnZpcm9ubWVudCBzdXBwb3J0cyBET01FcnJvciBvYmplY3RzXG4gKiB7QGxpbmsgc3VwcG9ydHNET01FcnJvcn0uXG4gKlxuICogQHJldHVybnMgQW5zd2VyIHRvIHRoZSBnaXZlbiBxdWVzdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzRE9NRXJyb3IoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2hyb21lOiBWTTg5OjEgVW5jYXVnaHQgVHlwZUVycm9yOiBGYWlsZWQgdG8gY29uc3RydWN0ICdET01FcnJvcic6XG4gICAgICAgIC8vIDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cbiAgICAgICAgLy8gQHRzLWlnbm9yZSBJdCByZWFsbHkgbmVlZHMgMSBhcmd1bWVudCwgbm90IDAuXG4gICAgICAgIG5ldyBET01FcnJvcignJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBUZWxscyB3aGV0aGVyIGN1cnJlbnQgZW52aXJvbm1lbnQgc3VwcG9ydHMgRE9NRXhjZXB0aW9uIG9iamVjdHNcbiAqIHtAbGluayBzdXBwb3J0c0RPTUV4Y2VwdGlvbn0uXG4gKlxuICogQHJldHVybnMgQW5zd2VyIHRvIHRoZSBnaXZlbiBxdWVzdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzRE9NRXhjZXB0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIG5ldyBET01FeGNlcHRpb24oJycpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogVGVsbHMgd2hldGhlciBjdXJyZW50IGVudmlyb25tZW50IHN1cHBvcnRzIEZldGNoIEFQSVxuICoge0BsaW5rIHN1cHBvcnRzRmV0Y2h9LlxuICpcbiAqIEByZXR1cm5zIEFuc3dlciB0byB0aGUgZ2l2ZW4gcXVlc3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0c0ZldGNoKCkge1xuICAgIGlmICghKCdmZXRjaCcgaW4gZ2V0R2xvYmFsT2JqZWN0KCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgbmV3IFJlcXVlc3QoJycpO1xuICAgICAgICBuZXcgUmVzcG9uc2UoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIGlzTmF0aXZlRmV0Y2ggY2hlY2tzIGlmIHRoZSBnaXZlbiBmdW5jdGlvbiBpcyBhIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBvZiBmZXRjaCgpXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5mdW5jdGlvbiBpc05hdGl2ZUZldGNoKGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuYyAmJiAvXmZ1bmN0aW9uIGZldGNoXFwoXFwpXFxzK1xce1xccytcXFtuYXRpdmUgY29kZVxcXVxccytcXH0kLy50ZXN0KGZ1bmMudG9TdHJpbmcoKSk7XG59XG4vKipcbiAqIFRlbGxzIHdoZXRoZXIgY3VycmVudCBlbnZpcm9ubWVudCBzdXBwb3J0cyBGZXRjaCBBUEkgbmF0aXZlbHlcbiAqIHtAbGluayBzdXBwb3J0c05hdGl2ZUZldGNofS5cbiAqXG4gKiBAcmV0dXJucyB0cnVlIGlmIGB3aW5kb3cuZmV0Y2hgIGlzIG5hdGl2ZWx5IGltcGxlbWVudGVkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzTmF0aXZlRmV0Y2goKSB7XG4gICAgaWYgKCFzdXBwb3J0c0ZldGNoKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4gICAgLy8gRmFzdCBwYXRoIHRvIGF2b2lkIERPTSBJL09cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3VuYm91bmQtbWV0aG9kXG4gICAgaWYgKGlzTmF0aXZlRmV0Y2goZ2xvYmFsLmZldGNoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gd2luZG93LmZldGNoIGlzIGltcGxlbWVudGVkLCBidXQgaXMgcG9seWZpbGxlZCBvciBhbHJlYWR5IHdyYXBwZWQgKGUuZzogYnkgYSBjaHJvbWUgZXh0ZW5zaW9uKVxuICAgIC8vIHNvIGNyZWF0ZSBhIFwicHVyZVwiIGlmcmFtZSB0byBzZWUgaWYgdGhhdCBoYXMgbmF0aXZlIGZldGNoXG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgIHZhciBkb2MgPSBnbG9iYWwuZG9jdW1lbnQ7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgaWYgKGRvYyAmJiB0eXBlb2YgZG9jLmNyZWF0ZUVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHNhbmRib3ggPSBkb2MuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAgICAgICBzYW5kYm94LmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZChzYW5kYm94KTtcbiAgICAgICAgICAgIGlmIChzYW5kYm94LmNvbnRlbnRXaW5kb3cgJiYgc2FuZGJveC5jb250ZW50V2luZG93LmZldGNoKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGlzTmF0aXZlRmV0Y2goc2FuZGJveC5jb250ZW50V2luZG93LmZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvYy5oZWFkLnJlbW92ZUNoaWxkKHNhbmRib3gpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdDb3VsZCBub3QgY3JlYXRlIHNhbmRib3ggaWZyYW1lIGZvciBwdXJlIGZldGNoIGNoZWNrLCBiYWlsaW5nIHRvIHdpbmRvdy5mZXRjaDogJywgZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBUZWxscyB3aGV0aGVyIGN1cnJlbnQgZW52aXJvbm1lbnQgc3VwcG9ydHMgUmVwb3J0aW5nT2JzZXJ2ZXIgQVBJXG4gKiB7QGxpbmsgc3VwcG9ydHNSZXBvcnRpbmdPYnNlcnZlcn0uXG4gKlxuICogQHJldHVybnMgQW5zd2VyIHRvIHRoZSBnaXZlbiBxdWVzdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzUmVwb3J0aW5nT2JzZXJ2ZXIoKSB7XG4gICAgcmV0dXJuICdSZXBvcnRpbmdPYnNlcnZlcicgaW4gZ2V0R2xvYmFsT2JqZWN0KCk7XG59XG4vKipcbiAqIFRlbGxzIHdoZXRoZXIgY3VycmVudCBlbnZpcm9ubWVudCBzdXBwb3J0cyBSZWZlcnJlciBQb2xpY3kgQVBJXG4gKiB7QGxpbmsgc3VwcG9ydHNSZWZlcnJlclBvbGljeX0uXG4gKlxuICogQHJldHVybnMgQW5zd2VyIHRvIHRoZSBnaXZlbiBxdWVzdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzUmVmZXJyZXJQb2xpY3koKSB7XG4gICAgLy8gRGVzcGl0ZSBhbGwgc3RhcnMgaW4gdGhlIHNreSBzYXlpbmcgdGhhdCBFZGdlIHN1cHBvcnRzIG9sZCBkcmFmdCBzeW50YXgsIGFrYSAnbmV2ZXInLCAnYWx3YXlzJywgJ29yaWdpbicgYW5kICdkZWZhdWx0XG4gICAgLy8gaHR0cHM6Ly9jYW5pdXNlLmNvbS8jZmVhdD1yZWZlcnJlci1wb2xpY3lcbiAgICAvLyBJdCBkb2Vzbid0LiBBbmQgaXQgdGhyb3cgZXhjZXB0aW9uIGluc3RlYWQgb2YgaWdub3JpbmcgdGhpcyBwYXJhbWV0ZXIuLi5cbiAgICAvLyBSRUY6IGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvcmF2ZW4tanMvaXNzdWVzLzEyMzNcbiAgICBpZiAoIXN1cHBvcnRzRmV0Y2goKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIG5ldyBSZXF1ZXN0KCdfJywge1xuICAgICAgICAgICAgcmVmZXJyZXJQb2xpY3k6ICdvcmlnaW4nLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIFRlbGxzIHdoZXRoZXIgY3VycmVudCBlbnZpcm9ubWVudCBzdXBwb3J0cyBIaXN0b3J5IEFQSVxuICoge0BsaW5rIHN1cHBvcnRzSGlzdG9yeX0uXG4gKlxuICogQHJldHVybnMgQW5zd2VyIHRvIHRoZSBnaXZlbiBxdWVzdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzSGlzdG9yeSgpIHtcbiAgICAvLyBOT1RFOiBpbiBDaHJvbWUgQXBwIGVudmlyb25tZW50LCB0b3VjaGluZyBoaXN0b3J5LnB1c2hTdGF0ZSwgKmV2ZW4gaW5zaWRlXG4gICAgLy8gICAgICAgYSB0cnkvY2F0Y2ggYmxvY2sqLCB3aWxsIGNhdXNlIENocm9tZSB0byBvdXRwdXQgYW4gZXJyb3IgdG8gY29uc29sZS5lcnJvclxuICAgIC8vIGJvcnJvd2VkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8xMzk0NS9maWxlc1xuICAgIHZhciBnbG9iYWwgPSBnZXRHbG9iYWxPYmplY3QoKTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHZhciBjaHJvbWUgPSBnbG9iYWwuY2hyb21lO1xuICAgIHZhciBpc0Nocm9tZVBhY2thZ2VkQXBwID0gY2hyb21lICYmIGNocm9tZS5hcHAgJiYgY2hyb21lLmFwcC5ydW50aW1lO1xuICAgIC8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzICovXG4gICAgdmFyIGhhc0hpc3RvcnlBcGkgPSAnaGlzdG9yeScgaW4gZ2xvYmFsICYmICEhZ2xvYmFsLmhpc3RvcnkucHVzaFN0YXRlICYmICEhZ2xvYmFsLmhpc3RvcnkucmVwbGFjZVN0YXRlO1xuICAgIHJldHVybiAhaXNDaHJvbWVQYWNrYWdlZEFwcCAmJiBoYXNIaXN0b3J5QXBpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3VwcG9ydHMuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0luc3RhbmNlT2YsIGlzU3RyaW5nIH0gZnJvbSAnLi9pcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICcuL21pc2MnO1xuaW1wb3J0IHsgZmlsbCB9IGZyb20gJy4vb2JqZWN0JztcbmltcG9ydCB7IGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gJy4vc3RhY2t0cmFjZSc7XG5pbXBvcnQgeyBzdXBwb3J0c0hpc3RvcnksIHN1cHBvcnRzTmF0aXZlRmV0Y2ggfSBmcm9tICcuL3N1cHBvcnRzJztcbnZhciBnbG9iYWwgPSBnZXRHbG9iYWxPYmplY3QoKTtcbi8qKlxuICogSW5zdHJ1bWVudCBuYXRpdmUgQVBJcyB0byBjYWxsIGhhbmRsZXJzIHRoYXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGJyZWFkY3J1bWJzLCBBUE0gc3BhbnMgZXRjLlxuICogIC0gQ29uc29sZSBBUElcbiAqICAtIEZldGNoIEFQSVxuICogIC0gWEhSIEFQSVxuICogIC0gSGlzdG9yeSBBUElcbiAqICAtIERPTSBBUEkgKGNsaWNrL3R5cGluZylcbiAqICAtIEVycm9yIEFQSVxuICogIC0gVW5oYW5kbGVkUmVqZWN0aW9uIEFQSVxuICovXG52YXIgaGFuZGxlcnMgPSB7fTtcbnZhciBpbnN0cnVtZW50ZWQgPSB7fTtcbi8qKiBJbnN0cnVtZW50cyBnaXZlbiBBUEkgKi9cbmZ1bmN0aW9uIGluc3RydW1lbnQodHlwZSkge1xuICAgIGlmIChpbnN0cnVtZW50ZWRbdHlwZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnN0cnVtZW50ZWRbdHlwZV0gPSB0cnVlO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdjb25zb2xlJzpcbiAgICAgICAgICAgIGluc3RydW1lbnRDb25zb2xlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZG9tJzpcbiAgICAgICAgICAgIGluc3RydW1lbnRET00oKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd4aHInOlxuICAgICAgICAgICAgaW5zdHJ1bWVudFhIUigpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2ZldGNoJzpcbiAgICAgICAgICAgIGluc3RydW1lbnRGZXRjaCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2hpc3RvcnknOlxuICAgICAgICAgICAgaW5zdHJ1bWVudEhpc3RvcnkoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICBpbnN0cnVtZW50RXJyb3IoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd1bmhhbmRsZWRyZWplY3Rpb24nOlxuICAgICAgICAgICAgaW5zdHJ1bWVudFVuaGFuZGxlZFJlamVjdGlvbigpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBsb2dnZXIud2FybigndW5rbm93biBpbnN0cnVtZW50YXRpb24gdHlwZTonLCB0eXBlKTtcbiAgICB9XG59XG4vKipcbiAqIEFkZCBoYW5kbGVyIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBnaXZlbiB0eXBlIG9mIGluc3RydW1lbnRhdGlvbiB0cmlnZ2Vycy5cbiAqIFVzZSBhdCB5b3VyIG93biByaXNrLCB0aGlzIG1pZ2h0IGJyZWFrIHdpdGhvdXQgY2hhbmdlbG9nIG5vdGljZSwgb25seSB1c2VkIGludGVybmFsbHkuXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyKGhhbmRsZXIpIHtcbiAgICBpZiAoIWhhbmRsZXIgfHwgdHlwZW9mIGhhbmRsZXIudHlwZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIGhhbmRsZXIuY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBoYW5kbGVyc1toYW5kbGVyLnR5cGVdID0gaGFuZGxlcnNbaGFuZGxlci50eXBlXSB8fCBbXTtcbiAgICBoYW5kbGVyc1toYW5kbGVyLnR5cGVdLnB1c2goaGFuZGxlci5jYWxsYmFjayk7XG4gICAgaW5zdHJ1bWVudChoYW5kbGVyLnR5cGUpO1xufVxuLyoqIEpTRG9jICovXG5mdW5jdGlvbiB0cmlnZ2VySGFuZGxlcnModHlwZSwgZGF0YSkge1xuICAgIHZhciBlXzEsIF9hO1xuICAgIGlmICghdHlwZSB8fCAhaGFuZGxlcnNbdHlwZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKGhhbmRsZXJzW3R5cGVdIHx8IFtdKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcihkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwiRXJyb3Igd2hpbGUgdHJpZ2dlcmluZyBpbnN0cnVtZW50YXRpb24gaGFuZGxlci5cXG5UeXBlOiBcIiArIHR5cGUgKyBcIlxcbk5hbWU6IFwiICsgZ2V0RnVuY3Rpb25OYW1lKGhhbmRsZXIpICsgXCJcXG5FcnJvcjogXCIgKyBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICB9XG59XG4vKiogSlNEb2MgKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRDb25zb2xlKCkge1xuICAgIGlmICghKCdjb25zb2xlJyBpbiBnbG9iYWwpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InLCAnbG9nJywgJ2Fzc2VydCddLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgIGlmICghKGxldmVsIGluIGdsb2JhbC5jb25zb2xlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZpbGwoZ2xvYmFsLmNvbnNvbGUsIGxldmVsLCBmdW5jdGlvbiAob3JpZ2luYWxDb25zb2xlTGV2ZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyaWdnZXJIYW5kbGVycygnY29uc29sZScsIHsgYXJnczogYXJncywgbGV2ZWw6IGxldmVsIH0pO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgZmFpbHMgZm9yIHNvbWUgYnJvd3NlcnMuIDooXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsQ29uc29sZUxldmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKG9yaWdpbmFsQ29uc29sZUxldmVsLCBnbG9iYWwuY29uc29sZSwgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vKiogSlNEb2MgKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRGZXRjaCgpIHtcbiAgICBpZiAoIXN1cHBvcnRzTmF0aXZlRmV0Y2goKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpbGwoZ2xvYmFsLCAnZmV0Y2gnLCBmdW5jdGlvbiAob3JpZ2luYWxGZXRjaCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhhbmRsZXJEYXRhID0ge1xuICAgICAgICAgICAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICAgICAgICAgICAgZmV0Y2hEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogZ2V0RmV0Y2hNZXRob2QoYXJncyksXG4gICAgICAgICAgICAgICAgICAgIHVybDogZ2V0RmV0Y2hVcmwoYXJncyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGFydFRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cmlnZ2VySGFuZGxlcnMoJ2ZldGNoJywgX19hc3NpZ24oe30sIGhhbmRsZXJEYXRhKSk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxGZXRjaC5hcHBseShnbG9iYWwsIGFyZ3MpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlckhhbmRsZXJzKCdmZXRjaCcsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBoYW5kbGVyRGF0YSksIHsgZW5kVGltZXN0YW1wOiBEYXRlLm5vdygpLCByZXNwb25zZTogcmVzcG9uc2UgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJIYW5kbGVycygnZmV0Y2gnLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgaGFuZGxlckRhdGEpLCB7IGVuZFRpbWVzdGFtcDogRGF0ZS5ub3coKSwgZXJyb3I6IGVycm9yIH0pKTtcbiAgICAgICAgICAgICAgICAvLyBOT1RFOiBJZiB5b3UgYXJlIGEgU2VudHJ5IHVzZXIsIGFuZCB5b3UgYXJlIHNlZWluZyB0aGlzIHN0YWNrIGZyYW1lLFxuICAgICAgICAgICAgICAgIC8vICAgICAgIGl0IG1lYW5zIHRoZSBzZW50cnkuamF2YXNjcmlwdCBTREsgY2F1Z2h0IGFuIGVycm9yIGludm9raW5nIHlvdXIgYXBwbGljYXRpb24gY29kZS5cbiAgICAgICAgICAgICAgICAvLyAgICAgICBUaGlzIGlzIGV4cGVjdGVkIGJlaGF2aW9yIGFuZCBOT1QgaW5kaWNhdGl2ZSBvZiBhIGJ1ZyB3aXRoIHNlbnRyeS5qYXZhc2NyaXB0LlxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MgKi9cbi8qKiBFeHRyYWN0IGBtZXRob2RgIGZyb20gZmV0Y2ggY2FsbCBhcmd1bWVudHMgKi9cbmZ1bmN0aW9uIGdldEZldGNoTWV0aG9kKGZldGNoQXJncykge1xuICAgIGlmIChmZXRjaEFyZ3MgPT09IHZvaWQgMCkgeyBmZXRjaEFyZ3MgPSBbXTsgfVxuICAgIGlmICgnUmVxdWVzdCcgaW4gZ2xvYmFsICYmIGlzSW5zdGFuY2VPZihmZXRjaEFyZ3NbMF0sIFJlcXVlc3QpICYmIGZldGNoQXJnc1swXS5tZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhmZXRjaEFyZ3NbMF0ubWV0aG9kKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hBcmdzWzFdICYmIGZldGNoQXJnc1sxXS5tZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhmZXRjaEFyZ3NbMV0ubWV0aG9kKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gJ0dFVCc7XG59XG4vKiogRXh0cmFjdCBgdXJsYCBmcm9tIGZldGNoIGNhbGwgYXJndW1lbnRzICovXG5mdW5jdGlvbiBnZXRGZXRjaFVybChmZXRjaEFyZ3MpIHtcbiAgICBpZiAoZmV0Y2hBcmdzID09PSB2b2lkIDApIHsgZmV0Y2hBcmdzID0gW107IH1cbiAgICBpZiAodHlwZW9mIGZldGNoQXJnc1swXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoQXJnc1swXTtcbiAgICB9XG4gICAgaWYgKCdSZXF1ZXN0JyBpbiBnbG9iYWwgJiYgaXNJbnN0YW5jZU9mKGZldGNoQXJnc1swXSwgUmVxdWVzdCkpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoQXJnc1swXS51cmw7XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcoZmV0Y2hBcmdzWzBdKTtcbn1cbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzICovXG4vKiogSlNEb2MgKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRYSFIoKSB7XG4gICAgaWYgKCEoJ1hNTEh0dHBSZXF1ZXN0JyBpbiBnbG9iYWwpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUG9vciBtYW4ncyBpbXBsZW1lbnRhdGlvbiBvZiBFUzYgYE1hcGAsIHRyYWNraW5nIGFuZCBrZWVwaW5nIGluIHN5bmMga2V5IGFuZCB2YWx1ZSBzZXBhcmF0ZWx5LlxuICAgIHZhciByZXF1ZXN0S2V5cyA9IFtdO1xuICAgIHZhciByZXF1ZXN0VmFsdWVzID0gW107XG4gICAgdmFyIHhocnByb3RvID0gWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlO1xuICAgIGZpbGwoeGhycHJvdG8sICdvcGVuJywgZnVuY3Rpb24gKG9yaWdpbmFsT3Blbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICB2YXIgeGhyID0gdGhpcztcbiAgICAgICAgICAgIHZhciB1cmwgPSBhcmdzWzFdO1xuICAgICAgICAgICAgeGhyLl9fc2VudHJ5X3hocl9fID0ge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICAgICAgICBtZXRob2Q6IGlzU3RyaW5nKGFyZ3NbMF0pID8gYXJnc1swXS50b1VwcGVyQ2FzZSgpIDogYXJnc1swXSxcbiAgICAgICAgICAgICAgICB1cmw6IGFyZ3NbMV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gaWYgU2VudHJ5IGtleSBhcHBlYXJzIGluIFVSTCwgZG9uJ3QgY2FwdHVyZSBpdCBhcyBhIHJlcXVlc3RcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyh1cmwpICYmIHhoci5fX3NlbnRyeV94aHJfXy5tZXRob2QgPT09ICdQT1NUJyAmJiB1cmwubWF0Y2goL3NlbnRyeV9rZXkvKSkge1xuICAgICAgICAgICAgICAgIHhoci5fX3NlbnRyeV9vd25fcmVxdWVzdF9fID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvbnJlYWR5c3RhdGVjaGFuZ2VIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG91Y2hpbmcgc3RhdHVzQ29kZSBpbiBzb21lIHBsYXRmb3JtcyB0aHJvd3NcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuIGV4Y2VwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5fX3NlbnRyeV94aHJfXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5fX3NlbnRyeV94aHJfXy5zdGF0dXNfY29kZSA9IHhoci5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGRvIG5vdGhpbmcgKi9cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RQb3MgPSByZXF1ZXN0S2V5cy5pbmRleE9mKHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdFBvcyAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdG8gcG9wIGJvdGgga2V5IGFuZCB2YWx1ZSB0byBrZWVwIGl0IGluIHN5bmMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEtleXMuc3BsaWNlKHJlcXVlc3RQb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzXzEgPSByZXF1ZXN0VmFsdWVzLnNwbGljZShyZXF1ZXN0UG9zKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLl9fc2VudHJ5X3hocl9fICYmIGFyZ3NfMVswXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5fX3NlbnRyeV94aHJfXy5ib2R5ID0gYXJnc18xWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogZG8gbm90aGluZyAqL1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJIYW5kbGVycygneGhyJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogYXJncyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyOiB4aHIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoJ29ucmVhZHlzdGF0ZWNoYW5nZScgaW4geGhyICYmIHR5cGVvZiB4aHIub25yZWFkeXN0YXRlY2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgZmlsbCh4aHIsICdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiAob3JpZ2luYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFkeVN0YXRlQXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkeVN0YXRlQXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25yZWFkeXN0YXRlY2hhbmdlSGFuZGxlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHhociwgcmVhZHlTdGF0ZUFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCBvbnJlYWR5c3RhdGVjaGFuZ2VIYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbE9wZW4uYXBwbHkoeGhyLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBmaWxsKHhocnByb3RvLCAnc2VuZCcsIGZ1bmN0aW9uIChvcmlnaW5hbFNlbmQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3RLZXlzLnB1c2godGhpcyk7XG4gICAgICAgICAgICByZXF1ZXN0VmFsdWVzLnB1c2goYXJncyk7XG4gICAgICAgICAgICB0cmlnZ2VySGFuZGxlcnMoJ3hocicsIHtcbiAgICAgICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgIHhocjogdGhpcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsU2VuZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cbnZhciBsYXN0SHJlZjtcbi8qKiBKU0RvYyAqL1xuZnVuY3Rpb24gaW5zdHJ1bWVudEhpc3RvcnkoKSB7XG4gICAgaWYgKCFzdXBwb3J0c0hpc3RvcnkoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBvbGRPblBvcFN0YXRlID0gZ2xvYmFsLm9ucG9wc3RhdGU7XG4gICAgZ2xvYmFsLm9ucG9wc3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvID0gZ2xvYmFsLmxvY2F0aW9uLmhyZWY7XG4gICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIGN1cnJlbnQgVVJMIHN0YXRlLCBhcyB3ZSBhbHdheXMgcmVjZWl2ZSBvbmx5IHRoZSB1cGRhdGVkIHN0YXRlXG4gICAgICAgIHZhciBmcm9tID0gbGFzdEhyZWY7XG4gICAgICAgIGxhc3RIcmVmID0gdG87XG4gICAgICAgIHRyaWdnZXJIYW5kbGVycygnaGlzdG9yeScsIHtcbiAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICB0bzogdG8sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob2xkT25Qb3BTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9sZE9uUG9wU3RhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgZnVuY3Rpb24gaGlzdG9yeVJlcGxhY2VtZW50RnVuY3Rpb24ob3JpZ2luYWxIaXN0b3J5RnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1cmwgPSBhcmdzLmxlbmd0aCA+IDIgPyBhcmdzWzJdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgICAgIC8vIGNvZXJjZSB0byBzdHJpbmcgKHRoaXMgaXMgd2hhdCBwdXNoU3RhdGUgZG9lcylcbiAgICAgICAgICAgICAgICB2YXIgZnJvbSA9IGxhc3RIcmVmO1xuICAgICAgICAgICAgICAgIHZhciB0byA9IFN0cmluZyh1cmwpO1xuICAgICAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIGN1cnJlbnQgVVJMIHN0YXRlLCBhcyB3ZSBhbHdheXMgcmVjZWl2ZSBvbmx5IHRoZSB1cGRhdGVkIHN0YXRlXG4gICAgICAgICAgICAgICAgbGFzdEhyZWYgPSB0bztcbiAgICAgICAgICAgICAgICB0cmlnZ2VySGFuZGxlcnMoJ2hpc3RvcnknLCB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHRvOiB0byxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEhpc3RvcnlGdW5jdGlvbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZmlsbChnbG9iYWwuaGlzdG9yeSwgJ3B1c2hTdGF0ZScsIGhpc3RvcnlSZXBsYWNlbWVudEZ1bmN0aW9uKTtcbiAgICBmaWxsKGdsb2JhbC5oaXN0b3J5LCAncmVwbGFjZVN0YXRlJywgaGlzdG9yeVJlcGxhY2VtZW50RnVuY3Rpb24pO1xufVxudmFyIGRlYm91bmNlRHVyYXRpb24gPSAxMDAwO1xudmFyIGRlYm91bmNlVGltZXJJRDtcbnZhciBsYXN0Q2FwdHVyZWRFdmVudDtcbi8qKlxuICogRGVjaWRlIHdoZXRoZXIgdGhlIGN1cnJlbnQgZXZlbnQgc2hvdWxkIGZpbmlzaCB0aGUgZGVib3VuY2Ugb2YgcHJldmlvdXNseSBjYXB0dXJlZCBvbmUuXG4gKiBAcGFyYW0gcHJldmlvdXMgcHJldmlvdXNseSBjYXB0dXJlZCBldmVudFxuICogQHBhcmFtIGN1cnJlbnQgZXZlbnQgdG8gYmUgY2FwdHVyZWRcbiAqL1xuZnVuY3Rpb24gc2hvdWxkU2hvcnRjaXJjdWl0UHJldmlvdXNEZWJvdW5jZShwcmV2aW91cywgY3VycmVudCkge1xuICAgIC8vIElmIHRoZXJlIHdhcyBubyBwcmV2aW91cyBldmVudCwgaXQgc2hvdWxkIGFsd2F5cyBiZSBzd2FwcGVkIGZvciB0aGUgbmV3IG9uZS5cbiAgICBpZiAoIXByZXZpb3VzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBJZiBib3RoIGV2ZW50cyBoYXZlIGRpZmZlcmVudCB0eXBlLCB0aGVuIHVzZXIgZGVmaW5pdGVseSBwZXJmb3JtZWQgdHdvIHNlcGFyYXRlIGFjdGlvbnMuIGUuZy4gY2xpY2sgKyBrZXlwcmVzcy5cbiAgICBpZiAocHJldmlvdXMudHlwZSAhPT0gY3VycmVudC50eXBlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyBJZiBib3RoIGV2ZW50cyBoYXZlIHRoZSBzYW1lIHR5cGUsIGl0J3Mgc3RpbGwgcG9zc2libGUgdGhhdCBhY3Rpb25zIHdlcmUgcGVyZm9ybWVkIG9uIGRpZmZlcmVudCB0YXJnZXRzLlxuICAgICAgICAvLyBlLmcuIDIgY2xpY2tzIG9uIGRpZmZlcmVudCBidXR0b25zLlxuICAgICAgICBpZiAocHJldmlvdXMudGFyZ2V0ICE9PSBjdXJyZW50LnRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8ganVzdCBhY2Nlc3NpbmcgYHRhcmdldGAgcHJvcGVydHkgY2FuIHRocm93IGFuIGV4Y2VwdGlvbiBpbiBzb21lIHJhcmUgY2lyY3Vtc3RhbmNlc1xuICAgICAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvc2VudHJ5LWphdmFzY3JpcHQvaXNzdWVzLzgzOFxuICAgIH1cbiAgICAvLyBJZiBib3RoIGV2ZW50cyBoYXZlIHRoZSBzYW1lIHR5cGUgX2FuZF8gc2FtZSBgdGFyZ2V0YCAoYW4gZWxlbWVudCB3aGljaCB0cmlnZ2VyZWQgYW4gZXZlbnQsIF9ub3QgbmVjZXNzYXJpbHlfXG4gICAgLy8gdG8gd2hpY2ggYW4gZXZlbnQgbGlzdGVuZXIgd2FzIGF0dGFjaGVkKSwgd2UgdHJlYXQgdGhlbSBhcyB0aGUgc2FtZSBhY3Rpb24sIGFzIHdlIHdhbnQgdG8gY2FwdHVyZVxuICAgIC8vIG9ubHkgb25lIGJyZWFkY3J1bWIuIGUuZy4gbXVsdGlwbGUgY2xpY2tzIG9uIHRoZSBzYW1lIGJ1dHRvbiwgb3IgdHlwaW5nIGluc2lkZSBhIHVzZXIgaW5wdXQgYm94LlxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogRGVjaWRlIHdoZXRoZXIgYW4gZXZlbnQgc2hvdWxkIGJlIGNhcHR1cmVkLlxuICogQHBhcmFtIGV2ZW50IGV2ZW50IHRvIGJlIGNhcHR1cmVkXG4gKi9cbmZ1bmN0aW9uIHNob3VsZFNraXBET01FdmVudChldmVudCkge1xuICAgIC8vIFdlIGFyZSBvbmx5IGludGVyZXN0ZWQgaW4gZmlsdGVyaW5nIGBrZXlwcmVzc2AgZXZlbnRzIGZvciBub3cuXG4gICAgaWYgKGV2ZW50LnR5cGUgIT09ICdrZXlwcmVzcycpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0LnRhZ05hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgY29uc2lkZXIga2V5cHJlc3MgZXZlbnRzIG9uIGFjdHVhbCBpbnB1dCBlbGVtZW50cy4gVGhpcyB3aWxsIGRpc3JlZ2FyZCBrZXlwcmVzc2VzIHRhcmdldGluZyBib2R5XG4gICAgICAgIC8vIGUuZy50YWJiaW5nIHRocm91Z2ggZWxlbWVudHMsIGhvdGtleXMsIGV0Yy5cbiAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnSU5QVVQnIHx8IHRhcmdldC50YWdOYW1lID09PSAnVEVYVEFSRUEnIHx8IHRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGp1c3QgYWNjZXNzaW5nIGB0YXJnZXRgIHByb3BlcnR5IGNhbiB0aHJvdyBhbiBleGNlcHRpb24gaW4gc29tZSByYXJlIGNpcmN1bXN0YW5jZXNcbiAgICAgICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy84MzhcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFdyYXBzIGFkZEV2ZW50TGlzdGVuZXIgdG8gY2FwdHVyZSBVSSBicmVhZGNydW1ic1xuICogQHBhcmFtIGhhbmRsZXIgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIHRyaWdnZXJlZFxuICogQHBhcmFtIGdsb2JhbExpc3RlbmVyIGluZGljYXRlcyB3aGV0aGVyIGV2ZW50IHdhcyBjYXB0dXJlZCBieSB0aGUgZ2xvYmFsIGV2ZW50IGxpc3RlbmVyXG4gKiBAcmV0dXJucyB3cmFwcGVkIGJyZWFkY3J1bWIgZXZlbnRzIGhhbmRsZXJcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gbWFrZURPTUV2ZW50SGFuZGxlcihoYW5kbGVyLCBnbG9iYWxMaXN0ZW5lcikge1xuICAgIGlmIChnbG9iYWxMaXN0ZW5lciA9PT0gdm9pZCAwKSB7IGdsb2JhbExpc3RlbmVyID0gZmFsc2U7IH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIEl0J3MgcG9zc2libGUgdGhpcyBoYW5kbGVyIG1pZ2h0IHRyaWdnZXIgbXVsdGlwbGUgdGltZXMgZm9yIHRoZSBzYW1lXG4gICAgICAgIC8vIGV2ZW50IChlLmcuIGV2ZW50IHByb3BhZ2F0aW9uIHRocm91Z2ggbm9kZSBhbmNlc3RvcnMpLlxuICAgICAgICAvLyBJZ25vcmUgaWYgd2UndmUgYWxyZWFkeSBjYXB0dXJlZCB0aGF0IGV2ZW50LlxuICAgICAgICBpZiAoIWV2ZW50IHx8IGxhc3RDYXB0dXJlZEV2ZW50ID09PSBldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGFsd2F5cyB3YW50IHRvIHNraXAgX3NvbWVfIGV2ZW50cy5cbiAgICAgICAgaWYgKHNob3VsZFNraXBET01FdmVudChldmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZSA9IGV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycgPyAnaW5wdXQnIDogZXZlbnQudHlwZTtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZGVib3VuY2UgdGltZXIsIGl0IG1lYW5zIHRoYXQgd2UgY2FuIHNhZmVseSBjYXB0dXJlIHRoZSBuZXcgZXZlbnQgYW5kIHN0b3JlIGl0IGZvciBmdXR1cmUgY29tcGFyaXNvbnMuXG4gICAgICAgIGlmIChkZWJvdW5jZVRpbWVySUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGFuZGxlcih7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgZ2xvYmFsOiBnbG9iYWxMaXN0ZW5lcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGFzdENhcHR1cmVkRXZlbnQgPSBldmVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGRlYm91bmNlIGF3YWl0aW5nLCBzZWUgaWYgdGhlIG5ldyBldmVudCBpcyBkaWZmZXJlbnQgZW5vdWdoIHRvIHRyZWF0IGl0IGFzIGEgdW5pcXVlIG9uZS5cbiAgICAgICAgLy8gSWYgdGhhdCdzIHRoZSBjYXNlLCBlbWl0IHRoZSBwcmV2aW91cyBldmVudCBhbmQgc3RvcmUgbG9jYWxseSB0aGUgbmV3bHktY2FwdHVyZWQgRE9NIGV2ZW50LlxuICAgICAgICBlbHNlIGlmIChzaG91bGRTaG9ydGNpcmN1aXRQcmV2aW91c0RlYm91bmNlKGxhc3RDYXB0dXJlZEV2ZW50LCBldmVudCkpIHtcbiAgICAgICAgICAgIGhhbmRsZXIoe1xuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgIGdsb2JhbDogZ2xvYmFsTGlzdGVuZXIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxhc3RDYXB0dXJlZEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnQgYSBuZXcgZGVib3VuY2UgdGltZXIgdGhhdCB3aWxsIHByZXZlbnQgdXMgZnJvbSBjYXB0dXJpbmcgbXVsdGlwbGUgZXZlbnRzIHRoYXQgc2hvdWxkIGJlIGdyb3VwZWQgdG9nZXRoZXIuXG4gICAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZVRpbWVySUQpO1xuICAgICAgICBkZWJvdW5jZVRpbWVySUQgPSBnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZWJvdW5jZVRpbWVySUQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sIGRlYm91bmNlRHVyYXRpb24pO1xuICAgIH07XG59XG4vKiogSlNEb2MgKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRET00oKSB7XG4gICAgaWYgKCEoJ2RvY3VtZW50JyBpbiBnbG9iYWwpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gTWFrZSBpdCBzbyB0aGF0IGFueSBjbGljayBvciBrZXlwcmVzcyB0aGF0IGlzIHVuaGFuZGxlZCAvIGJ1YmJsZWQgdXAgYWxsIHRoZSB3YXkgdG8gdGhlIGRvY3VtZW50IHRyaWdnZXJzIG91ciBkb21cbiAgICAvLyBoYW5kbGVycy4gKE5vcm1hbGx5IHdlIGhhdmUgb25seSBvbmUsIHdoaWNoIGNhcHR1cmVzIGEgYnJlYWRjcnVtYiBmb3IgZWFjaCBjbGljayBvciBrZXlwcmVzcy4pIERvIHRoaXMgYmVmb3JlXG4gICAgLy8gd2UgaW5zdHJ1bWVudCBgYWRkRXZlbnRMaXN0ZW5lcmAgc28gdGhhdCB3ZSBkb24ndCBlbmQgdXAgYXR0YWNoaW5nIHRoaXMgaGFuZGxlciB0d2ljZS5cbiAgICB2YXIgdHJpZ2dlckRPTUhhbmRsZXIgPSB0cmlnZ2VySGFuZGxlcnMuYmluZChudWxsLCAnZG9tJyk7XG4gICAgdmFyIGdsb2JhbERPTUV2ZW50SGFuZGxlciA9IG1ha2VET01FdmVudEhhbmRsZXIodHJpZ2dlckRPTUhhbmRsZXIsIHRydWUpO1xuICAgIGdsb2JhbC5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGdsb2JhbERPTUV2ZW50SGFuZGxlciwgZmFsc2UpO1xuICAgIGdsb2JhbC5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGdsb2JhbERPTUV2ZW50SGFuZGxlciwgZmFsc2UpO1xuICAgIC8vIEFmdGVyIGhvb2tpbmcgaW50byBjbGljayBhbmQga2V5cHJlc3MgZXZlbnRzIGJ1YmJsZWQgdXAgdG8gYGRvY3VtZW50YCwgd2UgYWxzbyBob29rIGludG8gdXNlci1oYW5kbGVkXG4gICAgLy8gY2xpY2tzICYga2V5cHJlc3NlcywgYnkgYWRkaW5nIGFuIGV2ZW50IGxpc3RlbmVyIG9mIG91ciBvd24gdG8gYW55IGVsZW1lbnQgdG8gd2hpY2ggdGhleSBhZGQgYSBsaXN0ZW5lci4gVGhhdFxuICAgIC8vIHdheSwgd2hlbmV2ZXIgb25lIG9mIHRoZWlyIGhhbmRsZXJzIGlzIHRyaWdnZXJlZCwgb3VycyB3aWxsIGJlLCB0b28uIChUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHRoZWlyIGhhbmRsZXJcbiAgICAvLyBjb3VsZCBwb3RlbnRpYWxseSBwcmV2ZW50IHRoZSBldmVudCBmcm9tIGJ1YmJsaW5nIHVwIHRvIG91ciBnbG9iYWwgbGlzdGVuZXJzLiBUaGlzIHdheSwgb3VyIGhhbmRsZXIgYXJlIHN0aWxsXG4gICAgLy8gZ3VhcmFudGVlZCB0byBmaXJlIGF0IGxlYXN0IG9uY2UuKVxuICAgIFsnRXZlbnRUYXJnZXQnLCAnTm9kZSddLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgIHZhciBwcm90byA9IGdsb2JhbFt0YXJnZXRdICYmIGdsb2JhbFt0YXJnZXRdLnByb3RvdHlwZTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzcywgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgIGlmICghcHJvdG8gfHwgIXByb3RvLmhhc093blByb3BlcnR5IHx8ICFwcm90by5oYXNPd25Qcm9wZXJ0eSgnYWRkRXZlbnRMaXN0ZW5lcicpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZmlsbChwcm90bywgJ2FkZEV2ZW50TGlzdGVuZXInLCBmdW5jdGlvbiAob3JpZ2luYWxBZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdjbGljaycgfHwgdHlwZSA9PSAna2V5cHJlc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZXJzXzEgPSAoZWwuX19zZW50cnlfaW5zdHJ1bWVudGF0aW9uX2hhbmRsZXJzX18gPSBlbC5fX3NlbnRyeV9pbnN0cnVtZW50YXRpb25faGFuZGxlcnNfXyB8fCB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlckZvclR5cGUgPSAoaGFuZGxlcnNfMVt0eXBlXSA9IGhhbmRsZXJzXzFbdHlwZV0gfHwgeyByZWZDb3VudDogMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFuZGxlckZvclR5cGUuaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0gbWFrZURPTUV2ZW50SGFuZGxlcih0cmlnZ2VyRE9NSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlckZvclR5cGUuaGFuZGxlciA9IGhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxBZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyRm9yVHlwZS5yZWZDb3VudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBY2Nlc3NpbmcgZG9tIHByb3BlcnRpZXMgaXMgYWx3YXlzIGZyYWdpbGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHNvIGFsbG93cyB1cyB0byBza2lwIGBhZGRFdmVudExpc3RlbnJzYCBjYWxscyB3aXRoIG5vIHByb3BlciBgdGhpc2AgY29udGV4dC5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxBZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbGwocHJvdG8sICdyZW1vdmVFdmVudExpc3RlbmVyJywgZnVuY3Rpb24gKG9yaWdpbmFsUmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnY2xpY2snIHx8IHR5cGUgPT0gJ2tleXByZXNzJykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyc18yID0gZWwuX19zZW50cnlfaW5zdHJ1bWVudGF0aW9uX2hhbmRsZXJzX18gfHwge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlckZvclR5cGUgPSBoYW5kbGVyc18yW3R5cGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXJGb3JUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlckZvclR5cGUucmVmQ291bnQgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gbG9uZ2VyIGFueSBjdXN0b20gaGFuZGxlcnMgb2YgdGhlIGN1cnJlbnQgdHlwZSBvbiB0aGlzIGVsZW1lbnQsIHdlIGNhbiByZW1vdmUgb3VycywgdG9vLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyRm9yVHlwZS5yZWZDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsUmVtb3ZlRXZlbnRMaXN0ZW5lci5jYWxsKHRoaXMsIHR5cGUsIGhhbmRsZXJGb3JUeXBlLmhhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyRm9yVHlwZS5oYW5kbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNfMlt0eXBlXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZHluYW1pYy1kZWxldGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIGxvbmdlciBhbnkgY3VzdG9tIGhhbmRsZXJzIG9mIGFueSB0eXBlIG9uIHRoaXMgZWxlbWVudCwgY2xlYW51cCBldmVyeXRoaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhoYW5kbGVyc18yKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVsLl9fc2VudHJ5X2luc3RydW1lbnRhdGlvbl9oYW5kbGVyc19fO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWNjZXNzaW5nIGRvbSBwcm9wZXJ0aWVzIGlzIGFsd2F5cyBmcmFnaWxlLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxzbyBhbGxvd3MgdXMgdG8gc2tpcCBgYWRkRXZlbnRMaXN0ZW5yc2AgY2FsbHMgd2l0aCBubyBwcm9wZXIgYHRoaXNgIGNvbnRleHQuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVtb3ZlRXZlbnRMaXN0ZW5lci5jYWxsKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxudmFyIF9vbGRPbkVycm9ySGFuZGxlciA9IG51bGw7XG4vKiogSlNEb2MgKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRFcnJvcigpIHtcbiAgICBfb2xkT25FcnJvckhhbmRsZXIgPSBnbG9iYWwub25lcnJvcjtcbiAgICBnbG9iYWwub25lcnJvciA9IGZ1bmN0aW9uIChtc2csIHVybCwgbGluZSwgY29sdW1uLCBlcnJvcikge1xuICAgICAgICB0cmlnZ2VySGFuZGxlcnMoJ2Vycm9yJywge1xuICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4sXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICBsaW5lOiBsaW5lLFxuICAgICAgICAgICAgbXNnOiBtc2csXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChfb2xkT25FcnJvckhhbmRsZXIpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgIHJldHVybiBfb2xkT25FcnJvckhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cbnZhciBfb2xkT25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyID0gbnVsbDtcbi8qKiBKU0RvYyAqL1xuZnVuY3Rpb24gaW5zdHJ1bWVudFVuaGFuZGxlZFJlamVjdGlvbigpIHtcbiAgICBfb2xkT25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uO1xuICAgIGdsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRyaWdnZXJIYW5kbGVycygndW5oYW5kbGVkcmVqZWN0aW9uJywgZSk7XG4gICAgICAgIGlmIChfb2xkT25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICByZXR1cm4gX29sZE9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnN0cnVtZW50LmpzLm1hcCIsImV4cG9ydCB2YXIgc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgPyBzZXRQcm90b09mIDogbWl4aW5Qcm9wZXJ0aWVzKTtcbi8qKlxuICogc2V0UHJvdG90eXBlT2YgcG9seWZpbGwgdXNpbmcgX19wcm90b19fXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5mdW5jdGlvbiBzZXRQcm90b09mKG9iaiwgcHJvdG8pIHtcbiAgICAvLyBAdHMtaWdub3JlIF9fcHJvdG9fXyBkb2VzIG5vdCBleGlzdCBvbiBvYmpcbiAgICBvYmouX19wcm90b19fID0gcHJvdG87XG4gICAgcmV0dXJuIG9iajtcbn1cbi8qKlxuICogc2V0UHJvdG90eXBlT2YgcG9seWZpbGwgdXNpbmcgbWl4aW5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbmZ1bmN0aW9uIG1peGluUHJvcGVydGllcyhvYmosIHByb3RvKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBwcm90bykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHR5cGVzY3JpcHQgY29tcGxhaW5zIGFib3V0IGluZGV4aW5nIHNvIHdlIHJlbW92ZVxuICAgICAgICAgICAgb2JqW3Byb3BdID0gcHJvdG9bcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvbHlmaWxsLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgc2V0UHJvdG90eXBlT2YgfSBmcm9tICcuL3BvbHlmaWxsJztcbi8qKiBBbiBlcnJvciBlbWl0dGVkIGJ5IFNlbnRyeSBTREtzIGFuZCByZWxhdGVkIHV0aWxpdGllcy4gKi9cbnZhciBTZW50cnlFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2VudHJ5RXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2VudHJ5RXJyb3IobWVzc2FnZSkge1xuICAgICAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICBfdGhpcy5uYW1lID0gX25ld1RhcmdldC5wcm90b3R5cGUuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgc2V0UHJvdG90eXBlT2YoX3RoaXMsIF9uZXdUYXJnZXQucHJvdG90eXBlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU2VudHJ5RXJyb3I7XG59KEVycm9yKSk7XG5leHBvcnQgeyBTZW50cnlFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTZW50cnlFcnJvciB9IGZyb20gJy4vZXJyb3InO1xuLyoqIFJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VkIHRvIHBhcnNlIGEgRHNuLiAqL1xudmFyIERTTl9SRUdFWCA9IC9eKD86KFxcdyspOilcXC9cXC8oPzooXFx3KykoPzo6KFxcdyspKT9AKShbXFx3Li1dKykoPzo6KFxcZCspKT9cXC8oLispLztcbi8qKiBFcnJvciBtZXNzYWdlICovXG52YXIgRVJST1JfTUVTU0FHRSA9ICdJbnZhbGlkIERzbic7XG4vKiogVGhlIFNlbnRyeSBEc24sIGlkZW50aWZ5aW5nIGEgU2VudHJ5IGluc3RhbmNlIGFuZCBwcm9qZWN0LiAqL1xudmFyIERzbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBEc24gY29tcG9uZW50ICovXG4gICAgZnVuY3Rpb24gRHNuKGZyb20pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5fZnJvbVN0cmluZyhmcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2Zyb21Db21wb25lbnRzKGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERzbi5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoaXMgd2lsbCByZW5kZXIgdGhlIHB1YmxpYyByZXByZXNlbnRhdGlvbiB3aXRob3V0IHRoZSBwYXNzd29yZFxuICAgICAqIGNvbXBvbmVudC4gVG8gZ2V0IHRoZSBkZXByZWNhdGVkIHByaXZhdGUgcmVwcmVzZW50YXRpb24sIHNldCBgd2l0aFBhc3N3b3JkYFxuICAgICAqIHRvIHRydWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2l0aFBhc3N3b3JkIFdoZW4gc2V0IHRvIHRydWUsIHRoZSBwYXNzd29yZCB3aWxsIGJlIGluY2x1ZGVkLlxuICAgICAqL1xuICAgIERzbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAod2l0aFBhc3N3b3JkKSB7XG4gICAgICAgIGlmICh3aXRoUGFzc3dvcmQgPT09IHZvaWQgMCkgeyB3aXRoUGFzc3dvcmQgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBob3N0ID0gX2EuaG9zdCwgcGF0aCA9IF9hLnBhdGgsIHBhc3MgPSBfYS5wYXNzLCBwb3J0ID0gX2EucG9ydCwgcHJvamVjdElkID0gX2EucHJvamVjdElkLCBwcm90b2NvbCA9IF9hLnByb3RvY29sLCBwdWJsaWNLZXkgPSBfYS5wdWJsaWNLZXk7XG4gICAgICAgIHJldHVybiAocHJvdG9jb2wgKyBcIjovL1wiICsgcHVibGljS2V5ICsgKHdpdGhQYXNzd29yZCAmJiBwYXNzID8gXCI6XCIgKyBwYXNzIDogJycpICtcbiAgICAgICAgICAgIChcIkBcIiArIGhvc3QgKyAocG9ydCA/IFwiOlwiICsgcG9ydCA6ICcnKSArIFwiL1wiICsgKHBhdGggPyBwYXRoICsgXCIvXCIgOiBwYXRoKSArIHByb2plY3RJZCkpO1xuICAgIH07XG4gICAgLyoqIFBhcnNlcyBhIHN0cmluZyBpbnRvIHRoaXMgRHNuLiAqL1xuICAgIERzbi5wcm90b3R5cGUuX2Zyb21TdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IERTTl9SRUdFWC5leGVjKHN0cik7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTZW50cnlFcnJvcihFUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBfX3JlYWQobWF0Y2guc2xpY2UoMSksIDYpLCBwcm90b2NvbCA9IF9hWzBdLCBwdWJsaWNLZXkgPSBfYVsxXSwgX2IgPSBfYVsyXSwgcGFzcyA9IF9iID09PSB2b2lkIDAgPyAnJyA6IF9iLCBob3N0ID0gX2FbM10sIF9jID0gX2FbNF0sIHBvcnQgPSBfYyA9PT0gdm9pZCAwID8gJycgOiBfYywgbGFzdFBhdGggPSBfYVs1XTtcbiAgICAgICAgdmFyIHBhdGggPSAnJztcbiAgICAgICAgdmFyIHByb2plY3RJZCA9IGxhc3RQYXRoO1xuICAgICAgICB2YXIgc3BsaXQgPSBwcm9qZWN0SWQuc3BsaXQoJy8nKTtcbiAgICAgICAgaWYgKHNwbGl0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHBhdGggPSBzcGxpdC5zbGljZSgwLCAtMSkuam9pbignLycpO1xuICAgICAgICAgICAgcHJvamVjdElkID0gc3BsaXQucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2plY3RJZCkge1xuICAgICAgICAgICAgdmFyIHByb2plY3RNYXRjaCA9IHByb2plY3RJZC5tYXRjaCgvXlxcZCsvKTtcbiAgICAgICAgICAgIGlmIChwcm9qZWN0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0SWQgPSBwcm9qZWN0TWF0Y2hbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJvbUNvbXBvbmVudHMoeyBob3N0OiBob3N0LCBwYXNzOiBwYXNzLCBwYXRoOiBwYXRoLCBwcm9qZWN0SWQ6IHByb2plY3RJZCwgcG9ydDogcG9ydCwgcHJvdG9jb2w6IHByb3RvY29sLCBwdWJsaWNLZXk6IHB1YmxpY0tleSB9KTtcbiAgICB9O1xuICAgIC8qKiBNYXBzIERzbiBjb21wb25lbnRzIGludG8gdGhpcyBpbnN0YW5jZS4gKi9cbiAgICBEc24ucHJvdG90eXBlLl9mcm9tQ29tcG9uZW50cyA9IGZ1bmN0aW9uIChjb21wb25lbnRzKSB7XG4gICAgICAgIC8vIFRPRE8gdGhpcyBpcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIGFuZCBjYW4gYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uXG4gICAgICAgIGlmICgndXNlcicgaW4gY29tcG9uZW50cyAmJiAhKCdwdWJsaWNLZXknIGluIGNvbXBvbmVudHMpKSB7XG4gICAgICAgICAgICBjb21wb25lbnRzLnB1YmxpY0tleSA9IGNvbXBvbmVudHMudXNlcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVzZXIgPSBjb21wb25lbnRzLnB1YmxpY0tleSB8fCAnJztcbiAgICAgICAgdGhpcy5wcm90b2NvbCA9IGNvbXBvbmVudHMucHJvdG9jb2w7XG4gICAgICAgIHRoaXMucHVibGljS2V5ID0gY29tcG9uZW50cy5wdWJsaWNLZXkgfHwgJyc7XG4gICAgICAgIHRoaXMucGFzcyA9IGNvbXBvbmVudHMucGFzcyB8fCAnJztcbiAgICAgICAgdGhpcy5ob3N0ID0gY29tcG9uZW50cy5ob3N0O1xuICAgICAgICB0aGlzLnBvcnQgPSBjb21wb25lbnRzLnBvcnQgfHwgJyc7XG4gICAgICAgIHRoaXMucGF0aCA9IGNvbXBvbmVudHMucGF0aCB8fCAnJztcbiAgICAgICAgdGhpcy5wcm9qZWN0SWQgPSBjb21wb25lbnRzLnByb2plY3RJZDtcbiAgICB9O1xuICAgIC8qKiBWYWxpZGF0ZXMgdGhpcyBEc24gYW5kIHRocm93cyBvbiBlcnJvci4gKi9cbiAgICBEc24ucHJvdG90eXBlLl92YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgWydwcm90b2NvbCcsICdwdWJsaWNLZXknLCAnaG9zdCcsICdwcm9qZWN0SWQnXS5mb3JFYWNoKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXNbY29tcG9uZW50XSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZW50cnlFcnJvcihFUlJPUl9NRVNTQUdFICsgXCI6IFwiICsgY29tcG9uZW50ICsgXCIgbWlzc2luZ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdGhpcy5wcm9qZWN0SWQubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU2VudHJ5RXJyb3IoRVJST1JfTUVTU0FHRSArIFwiOiBJbnZhbGlkIHByb2plY3RJZCBcIiArIHRoaXMucHJvamVjdElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm90b2NvbCAhPT0gJ2h0dHAnICYmIHRoaXMucHJvdG9jb2wgIT09ICdodHRwcycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTZW50cnlFcnJvcihFUlJPUl9NRVNTQUdFICsgXCI6IEludmFsaWQgcHJvdG9jb2wgXCIgKyB0aGlzLnByb3RvY29sKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wb3J0ICYmIGlzTmFOKHBhcnNlSW50KHRoaXMucG9ydCwgMTApKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFNlbnRyeUVycm9yKEVSUk9SX01FU1NBR0UgKyBcIjogSW52YWxpZCBwb3J0IFwiICsgdGhpcy5wb3J0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERzbjtcbn0oKSk7XG5leHBvcnQgeyBEc24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRzbi5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBhZGRHbG9iYWxFdmVudFByb2Nlc3NvciwgZ2V0Q3VycmVudEh1YiB9IGZyb20gJ0BzZW50cnkvaHViJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuZXhwb3J0IHZhciBpbnN0YWxsZWRJbnRlZ3JhdGlvbnMgPSBbXTtcbi8qKiBHZXRzIGludGVncmF0aW9uIHRvIGluc3RhbGwgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlZ3JhdGlvbnNUb1NldHVwKG9wdGlvbnMpIHtcbiAgICB2YXIgZGVmYXVsdEludGVncmF0aW9ucyA9IChvcHRpb25zLmRlZmF1bHRJbnRlZ3JhdGlvbnMgJiYgX19zcHJlYWQob3B0aW9ucy5kZWZhdWx0SW50ZWdyYXRpb25zKSkgfHwgW107XG4gICAgdmFyIHVzZXJJbnRlZ3JhdGlvbnMgPSBvcHRpb25zLmludGVncmF0aW9ucztcbiAgICB2YXIgaW50ZWdyYXRpb25zID0gW107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodXNlckludGVncmF0aW9ucykpIHtcbiAgICAgICAgdmFyIHVzZXJJbnRlZ3JhdGlvbnNOYW1lc18xID0gdXNlckludGVncmF0aW9ucy5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkubmFtZTsgfSk7XG4gICAgICAgIHZhciBwaWNrZWRJbnRlZ3JhdGlvbnNOYW1lc18xID0gW107XG4gICAgICAgIC8vIExlYXZlIG9ubHkgdW5pcXVlIGRlZmF1bHQgaW50ZWdyYXRpb25zLCB0aGF0IHdlcmUgbm90IG92ZXJyaWRkZW4gd2l0aCBwcm92aWRlZCB1c2VyIGludGVncmF0aW9uc1xuICAgICAgICBkZWZhdWx0SW50ZWdyYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGRlZmF1bHRJbnRlZ3JhdGlvbikge1xuICAgICAgICAgICAgaWYgKHVzZXJJbnRlZ3JhdGlvbnNOYW1lc18xLmluZGV4T2YoZGVmYXVsdEludGVncmF0aW9uLm5hbWUpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgIHBpY2tlZEludGVncmF0aW9uc05hbWVzXzEuaW5kZXhPZihkZWZhdWx0SW50ZWdyYXRpb24ubmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaW50ZWdyYXRpb25zLnB1c2goZGVmYXVsdEludGVncmF0aW9uKTtcbiAgICAgICAgICAgICAgICBwaWNrZWRJbnRlZ3JhdGlvbnNOYW1lc18xLnB1c2goZGVmYXVsdEludGVncmF0aW9uLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gRG9uJ3QgYWRkIHNhbWUgdXNlciBpbnRlZ3JhdGlvbiB0d2ljZVxuICAgICAgICB1c2VySW50ZWdyYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKHVzZXJJbnRlZ3JhdGlvbikge1xuICAgICAgICAgICAgaWYgKHBpY2tlZEludGVncmF0aW9uc05hbWVzXzEuaW5kZXhPZih1c2VySW50ZWdyYXRpb24ubmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaW50ZWdyYXRpb25zLnB1c2godXNlckludGVncmF0aW9uKTtcbiAgICAgICAgICAgICAgICBwaWNrZWRJbnRlZ3JhdGlvbnNOYW1lc18xLnB1c2godXNlckludGVncmF0aW9uLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJbnRlZ3JhdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaW50ZWdyYXRpb25zID0gdXNlckludGVncmF0aW9ucyhkZWZhdWx0SW50ZWdyYXRpb25zKTtcbiAgICAgICAgaW50ZWdyYXRpb25zID0gQXJyYXkuaXNBcnJheShpbnRlZ3JhdGlvbnMpID8gaW50ZWdyYXRpb25zIDogW2ludGVncmF0aW9uc107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbnRlZ3JhdGlvbnMgPSBfX3NwcmVhZChkZWZhdWx0SW50ZWdyYXRpb25zKTtcbiAgICB9XG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgaWYgcHJlc2VudCwgYERlYnVnYCBpbnRlZ3JhdGlvbiB3aWxsIGFsd2F5cyBydW4gbGFzdFxuICAgIHZhciBpbnRlZ3JhdGlvbnNOYW1lcyA9IGludGVncmF0aW9ucy5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkubmFtZTsgfSk7XG4gICAgdmFyIGFsd2F5c0xhc3RUb1J1biA9ICdEZWJ1Zyc7XG4gICAgaWYgKGludGVncmF0aW9uc05hbWVzLmluZGV4T2YoYWx3YXlzTGFzdFRvUnVuKSAhPT0gLTEpIHtcbiAgICAgICAgaW50ZWdyYXRpb25zLnB1c2guYXBwbHkoaW50ZWdyYXRpb25zLCBfX3NwcmVhZChpbnRlZ3JhdGlvbnMuc3BsaWNlKGludGVncmF0aW9uc05hbWVzLmluZGV4T2YoYWx3YXlzTGFzdFRvUnVuKSwgMSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGludGVncmF0aW9ucztcbn1cbi8qKiBTZXR1cCBnaXZlbiBpbnRlZ3JhdGlvbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwSW50ZWdyYXRpb24oaW50ZWdyYXRpb24pIHtcbiAgICBpZiAoaW5zdGFsbGVkSW50ZWdyYXRpb25zLmluZGV4T2YoaW50ZWdyYXRpb24ubmFtZSkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW50ZWdyYXRpb24uc2V0dXBPbmNlKGFkZEdsb2JhbEV2ZW50UHJvY2Vzc29yLCBnZXRDdXJyZW50SHViKTtcbiAgICBpbnN0YWxsZWRJbnRlZ3JhdGlvbnMucHVzaChpbnRlZ3JhdGlvbi5uYW1lKTtcbiAgICBsb2dnZXIubG9nKFwiSW50ZWdyYXRpb24gaW5zdGFsbGVkOiBcIiArIGludGVncmF0aW9uLm5hbWUpO1xufVxuLyoqXG4gKiBHaXZlbiBhIGxpc3Qgb2YgaW50ZWdyYXRpb24gaW5zdGFuY2VzIHRoaXMgaW5zdGFsbHMgdGhlbSBhbGwuIFdoZW4gYHdpdGhEZWZhdWx0c2AgaXMgc2V0IHRvIGB0cnVlYCB0aGVuIGFsbCBkZWZhdWx0XG4gKiBpbnRlZ3JhdGlvbnMgYXJlIGFkZGVkIHVubGVzcyB0aGV5IHdlcmUgYWxyZWFkeSBwcm92aWRlZCBiZWZvcmUuXG4gKiBAcGFyYW0gaW50ZWdyYXRpb25zIGFycmF5IG9mIGludGVncmF0aW9uIGluc3RhbmNlc1xuICogQHBhcmFtIHdpdGhEZWZhdWx0IHNob3VsZCBlbmFibGUgZGVmYXVsdCBpbnRlZ3JhdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwSW50ZWdyYXRpb25zKG9wdGlvbnMpIHtcbiAgICB2YXIgaW50ZWdyYXRpb25zID0ge307XG4gICAgZ2V0SW50ZWdyYXRpb25zVG9TZXR1cChvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChpbnRlZ3JhdGlvbikge1xuICAgICAgICBpbnRlZ3JhdGlvbnNbaW50ZWdyYXRpb24ubmFtZV0gPSBpbnRlZ3JhdGlvbjtcbiAgICAgICAgc2V0dXBJbnRlZ3JhdGlvbihpbnRlZ3JhdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGludGVncmF0aW9ucztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVncmF0aW9uLmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduLCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxpbmVzICovXG5pbXBvcnQgeyBTY29wZSB9IGZyb20gJ0BzZW50cnkvaHViJztcbmltcG9ydCB7IFNlc3Npb25TdGF0dXMsIH0gZnJvbSAnQHNlbnRyeS90eXBlcyc7XG5pbXBvcnQgeyBkYXRlVGltZXN0YW1wSW5TZWNvbmRzLCBEc24sIGlzUHJpbWl0aXZlLCBpc1RoZW5hYmxlLCBsb2dnZXIsIG5vcm1hbGl6ZSwgU2VudHJ5RXJyb3IsIFN5bmNQcm9taXNlLCB0cnVuY2F0ZSwgdXVpZDQsIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBzZXR1cEludGVncmF0aW9ucyB9IGZyb20gJy4vaW50ZWdyYXRpb24nO1xuLyoqXG4gKiBCYXNlIGltcGxlbWVudGF0aW9uIGZvciBhbGwgSmF2YVNjcmlwdCBTREsgY2xpZW50cy5cbiAqXG4gKiBDYWxsIHRoZSBjb25zdHJ1Y3RvciB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIGJhY2tlbmQgY29uc3RydWN0b3IgYW5kIG9wdGlvbnNcbiAqIHNwZWNpZmljIHRvIHRoZSBjbGllbnQgc3ViY2xhc3MuIFRvIGFjY2VzcyB0aGVzZSBvcHRpb25zIGxhdGVyLCB1c2VcbiAqIHtAbGluayBDbGllbnQuZ2V0T3B0aW9uc30uIEFsc28sIHRoZSBCYWNrZW5kIGluc3RhbmNlIGlzIGF2YWlsYWJsZSB2aWFcbiAqIHtAbGluayBDbGllbnQuZ2V0QmFja2VuZH0uXG4gKlxuICogSWYgYSBEc24gaXMgc3BlY2lmaWVkIGluIHRoZSBvcHRpb25zLCBpdCB3aWxsIGJlIHBhcnNlZCBhbmQgc3RvcmVkLiBVc2VcbiAqIHtAbGluayBDbGllbnQuZ2V0RHNufSB0byByZXRyaWV2ZSB0aGUgRHNuIGF0IGFueSBtb21lbnQuIEluIGNhc2UgdGhlIERzbiBpc1xuICogaW52YWxpZCwgdGhlIGNvbnN0cnVjdG9yIHdpbGwgdGhyb3cgYSB7QGxpbmsgU2VudHJ5RXhjZXB0aW9ufS4gTm90ZSB0aGF0XG4gKiB3aXRob3V0IGEgdmFsaWQgRHNuLCB0aGUgU0RLIHdpbGwgbm90IHNlbmQgYW55IGV2ZW50cyB0byBTZW50cnkuXG4gKlxuICogQmVmb3JlIHNlbmRpbmcgYW4gZXZlbnQgdmlhIHRoZSBiYWNrZW5kLCBpdCBpcyBwYXNzZWQgdGhyb3VnaFxuICoge0BsaW5rIEJhc2VDbGllbnQuX3ByZXBhcmVFdmVudH0gdG8gYWRkIFNESyBpbmZvcm1hdGlvbiBhbmQgc2NvcGUgZGF0YVxuICogKGJyZWFkY3J1bWJzIGFuZCBjb250ZXh0KS4gVG8gYWRkIG1vcmUgY3VzdG9tIGluZm9ybWF0aW9uLCBvdmVycmlkZSB0aGlzXG4gKiBtZXRob2QgYW5kIGV4dGVuZCB0aGUgcmVzdWx0aW5nIHByZXBhcmVkIGV2ZW50LlxuICpcbiAqIFRvIGlzc3VlIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBldmVudHMgKGUuZy4gdmlhIGluc3RydW1lbnRhdGlvbiksIHVzZVxuICoge0BsaW5rIENsaWVudC5jYXB0dXJlRXZlbnR9LiBJdCB3aWxsIHByZXBhcmUgdGhlIGV2ZW50IGFuZCBwYXNzIGl0IHRocm91Z2hcbiAqIHRoZSBjYWxsYmFjayBsaWZlY3ljbGUuIFRvIGlzc3VlIGF1dG8tYnJlYWRjcnVtYnMsIHVzZVxuICoge0BsaW5rIENsaWVudC5hZGRCcmVhZGNydW1ifS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY2xhc3MgTm9kZUNsaWVudCBleHRlbmRzIEJhc2VDbGllbnQ8Tm9kZUJhY2tlbmQsIE5vZGVPcHRpb25zPiB7XG4gKiAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvcHRpb25zOiBOb2RlT3B0aW9ucykge1xuICogICAgIHN1cGVyKE5vZGVCYWNrZW5kLCBvcHRpb25zKTtcbiAqICAgfVxuICpcbiAqICAgLy8gLi4uXG4gKiB9XG4gKi9cbnZhciBCYXNlQ2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoaXMgY2xpZW50IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJhY2tlbmRDbGFzcyBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYmFja2VuZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VDbGllbnQoYmFja2VuZENsYXNzLCBvcHRpb25zKSB7XG4gICAgICAgIC8qKiBBcnJheSBvZiB1c2VkIGludGVncmF0aW9ucy4gKi9cbiAgICAgICAgdGhpcy5faW50ZWdyYXRpb25zID0ge307XG4gICAgICAgIC8qKiBOdW1iZXIgb2YgY2FsbCBiZWluZyBwcm9jZXNzZWQgKi9cbiAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IDA7XG4gICAgICAgIHRoaXMuX2JhY2tlbmQgPSBuZXcgYmFja2VuZENsYXNzKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnMuZHNuKSB7XG4gICAgICAgICAgICB0aGlzLl9kc24gPSBuZXcgRHNuKG9wdGlvbnMuZHNuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuY2FwdHVyZUV4Y2VwdGlvbiA9IGZ1bmN0aW9uIChleGNlcHRpb24sIGhpbnQsIHNjb3BlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBldmVudElkID0gaGludCAmJiBoaW50LmV2ZW50X2lkO1xuICAgICAgICB0aGlzLl9wcm9jZXNzKHRoaXMuX2dldEJhY2tlbmQoKVxuICAgICAgICAgICAgLmV2ZW50RnJvbUV4Y2VwdGlvbihleGNlcHRpb24sIGhpbnQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIF90aGlzLl9jYXB0dXJlRXZlbnQoZXZlbnQsIGhpbnQsIHNjb3BlKTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGV2ZW50SWQgPSByZXN1bHQ7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50SWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLmNhcHR1cmVNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGxldmVsLCBoaW50LCBzY29wZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZXZlbnRJZCA9IGhpbnQgJiYgaGludC5ldmVudF9pZDtcbiAgICAgICAgdmFyIHByb21pc2VkRXZlbnQgPSBpc1ByaW1pdGl2ZShtZXNzYWdlKVxuICAgICAgICAgICAgPyB0aGlzLl9nZXRCYWNrZW5kKCkuZXZlbnRGcm9tTWVzc2FnZShTdHJpbmcobWVzc2FnZSksIGxldmVsLCBoaW50KVxuICAgICAgICAgICAgOiB0aGlzLl9nZXRCYWNrZW5kKCkuZXZlbnRGcm9tRXhjZXB0aW9uKG1lc3NhZ2UsIGhpbnQpO1xuICAgICAgICB0aGlzLl9wcm9jZXNzKHByb21pc2VkRXZlbnRcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gX3RoaXMuX2NhcHR1cmVFdmVudChldmVudCwgaGludCwgc2NvcGUpOyB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgZXZlbnRJZCA9IHJlc3VsdDtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gZXZlbnRJZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuY2FwdHVyZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBoaW50LCBzY29wZSkge1xuICAgICAgICB2YXIgZXZlbnRJZCA9IGhpbnQgJiYgaGludC5ldmVudF9pZDtcbiAgICAgICAgdGhpcy5fcHJvY2Vzcyh0aGlzLl9jYXB0dXJlRXZlbnQoZXZlbnQsIGhpbnQsIHNjb3BlKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGV2ZW50SWQgPSByZXN1bHQ7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50SWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLmNhcHR1cmVTZXNzaW9uID0gZnVuY3Rpb24gKHNlc3Npb24pIHtcbiAgICAgICAgaWYgKCFzZXNzaW9uLnJlbGVhc2UpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdEaXNjYXJkZWQgc2Vzc2lvbiBiZWNhdXNlIG9mIG1pc3NpbmcgcmVsZWFzZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2VuZFNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgICAvLyBBZnRlciBzZW5kaW5nLCB3ZSBzZXQgaW5pdCBmYWxzZSB0byBpbmlkY2F0ZSBpdCdzIG5vdCB0aGUgZmlyc3Qgb2NjdXJlbmNlXG4gICAgICAgICAgICBzZXNzaW9uLnVwZGF0ZSh7IGluaXQ6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLmdldERzbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RzbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQ2xpZW50UHJvY2Vzc2luZyh0aW1lb3V0KS50aGVuKGZ1bmN0aW9uIChyZWFkeSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9nZXRCYWNrZW5kKClcbiAgICAgICAgICAgICAgICAuZ2V0VHJhbnNwb3J0KClcbiAgICAgICAgICAgICAgICAuY2xvc2UodGltZW91dClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHJhbnNwb3J0Rmx1c2hlZCkgeyByZXR1cm4gcmVhZHkgJiYgdHJhbnNwb3J0Rmx1c2hlZDsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBCYXNlQ2xpZW50LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzLmZsdXNoKHRpbWVvdXQpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgX3RoaXMuZ2V0T3B0aW9ucygpLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgaW50ZWdyYXRpb25zXG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuc2V0dXBJbnRlZ3JhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5faW50ZWdyYXRpb25zID0gc2V0dXBJbnRlZ3JhdGlvbnModGhpcy5fb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuZ2V0SW50ZWdyYXRpb24gPSBmdW5jdGlvbiAoaW50ZWdyYXRpb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnRlZ3JhdGlvbnNbaW50ZWdyYXRpb24uaWRdIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9vTykge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJDYW5ub3QgcmV0cmlldmUgaW50ZWdyYXRpb24gXCIgKyBpbnRlZ3JhdGlvbi5pZCArIFwiIGZyb20gdGhlIGN1cnJlbnQgQ2xpZW50XCIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBVcGRhdGVzIGV4aXN0aW5nIHNlc3Npb24gYmFzZWQgb24gdGhlIHByb3ZpZGVkIGV2ZW50ICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuX3VwZGF0ZVNlc3Npb25Gcm9tRXZlbnQgPSBmdW5jdGlvbiAoc2Vzc2lvbiwgZXZlbnQpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHZhciBjcmFzaGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciB1c2VyQWdlbnQ7XG4gICAgICAgIHZhciBleGNlcHRpb25zID0gZXZlbnQuZXhjZXB0aW9uICYmIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXM7XG4gICAgICAgIGlmIChleGNlcHRpb25zKSB7XG4gICAgICAgICAgICBlcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZXhjZXB0aW9uc18xID0gX192YWx1ZXMoZXhjZXB0aW9ucyksIGV4Y2VwdGlvbnNfMV8xID0gZXhjZXB0aW9uc18xLm5leHQoKTsgIWV4Y2VwdGlvbnNfMV8xLmRvbmU7IGV4Y2VwdGlvbnNfMV8xID0gZXhjZXB0aW9uc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXggPSBleGNlcHRpb25zXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lY2hhbmlzbSA9IGV4Lm1lY2hhbmlzbTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lY2hhbmlzbSAmJiBtZWNoYW5pc20uaGFuZGxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyYXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2VwdGlvbnNfMV8xICYmICFleGNlcHRpb25zXzFfMS5kb25lICYmIChfYSA9IGV4Y2VwdGlvbnNfMS5yZXR1cm4pKSBfYS5jYWxsKGV4Y2VwdGlvbnNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdXNlciA9IGV2ZW50LnVzZXI7XG4gICAgICAgIGlmICghc2Vzc2lvbi51c2VyQWdlbnQpIHtcbiAgICAgICAgICAgIHZhciBoZWFkZXJzID0gZXZlbnQucmVxdWVzdCA/IGV2ZW50LnJlcXVlc3QuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT09ICd1c2VyLWFnZW50Jykge1xuICAgICAgICAgICAgICAgICAgICB1c2VyQWdlbnQgPSBoZWFkZXJzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXNzaW9uLnVwZGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgKGNyYXNoZWQgJiYgeyBzdGF0dXM6IFNlc3Npb25TdGF0dXMuQ3Jhc2hlZCB9KSksIHsgdXNlcjogdXNlcixcbiAgICAgICAgICAgIHVzZXJBZ2VudDogdXNlckFnZW50LCBlcnJvcnM6IHNlc3Npb24uZXJyb3JzICsgTnVtYmVyKGVycm9yZWQgfHwgY3Jhc2hlZCkgfSkpO1xuICAgICAgICB0aGlzLmNhcHR1cmVTZXNzaW9uKHNlc3Npb24pO1xuICAgIH07XG4gICAgLyoqIERlbGl2ZXIgY2FwdHVyZWQgc2Vzc2lvbiB0byBTZW50cnkgKi9cbiAgICBCYXNlQ2xpZW50LnByb3RvdHlwZS5fc2VuZFNlc3Npb24gPSBmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICB0aGlzLl9nZXRCYWNrZW5kKCkuc2VuZFNlc3Npb24oc2Vzc2lvbik7XG4gICAgfTtcbiAgICAvKiogV2FpdHMgZm9yIHRoZSBjbGllbnQgdG8gYmUgZG9uZSB3aXRoIHByb2Nlc3NpbmcuICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuX2lzQ2xpZW50UHJvY2Vzc2luZyA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgU3luY1Byb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHZhciB0aWNrZWQgPSAwO1xuICAgICAgICAgICAgdmFyIHRpY2sgPSAxO1xuICAgICAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fcHJvY2Vzc2luZyA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGlja2VkICs9IHRpY2s7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0ICYmIHRpY2tlZCA+PSB0aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGljayk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgdGhlIGN1cnJlbnQgYmFja2VuZC4gKi9cbiAgICBCYXNlQ2xpZW50LnByb3RvdHlwZS5fZ2V0QmFja2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tlbmQ7XG4gICAgfTtcbiAgICAvKiogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoaXMgU0RLIGlzIGVuYWJsZWQgYW5kIGEgdmFsaWQgRHNuIGlzIHByZXNlbnQuICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuX2lzRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9ucygpLmVuYWJsZWQgIT09IGZhbHNlICYmIHRoaXMuX2RzbiAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBjb21tb24gaW5mb3JtYXRpb24gdG8gZXZlbnRzLlxuICAgICAqXG4gICAgICogVGhlIGluZm9ybWF0aW9uIGluY2x1ZGVzIHJlbGVhc2UgYW5kIGVudmlyb25tZW50IGZyb20gYG9wdGlvbnNgLFxuICAgICAqIGJyZWFkY3J1bWJzIGFuZCBjb250ZXh0IChleHRyYSwgdGFncyBhbmQgdXNlcikgZnJvbSB0aGUgc2NvcGUuXG4gICAgICpcbiAgICAgKiBJbmZvcm1hdGlvbiB0aGF0IGlzIGFscmVhZHkgcHJlc2VudCBpbiB0aGUgZXZlbnQgaXMgbmV2ZXIgb3ZlcndyaXR0ZW4uIEZvclxuICAgICAqIG5lc3RlZCBvYmplY3RzLCBzdWNoIGFzIHRoZSBjb250ZXh0LCBrZXlzIGFyZSBtZXJnZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnQgVGhlIG9yaWdpbmFsIGV2ZW50LlxuICAgICAqIEBwYXJhbSBoaW50IE1heSBjb250YWluIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9yaWdpbmFsIGV4Y2VwdGlvbi5cbiAgICAgKiBAcGFyYW0gc2NvcGUgQSBzY29wZSBjb250YWluaW5nIGV2ZW50IG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIEEgbmV3IGV2ZW50IHdpdGggbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBCYXNlQ2xpZW50LnByb3RvdHlwZS5fcHJlcGFyZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBzY29wZSwgaGludCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLmdldE9wdGlvbnMoKS5ub3JtYWxpemVEZXB0aCwgbm9ybWFsaXplRGVwdGggPSBfYSA9PT0gdm9pZCAwID8gMyA6IF9hO1xuICAgICAgICB2YXIgcHJlcGFyZWQgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZXZlbnQpLCB7IGV2ZW50X2lkOiBldmVudC5ldmVudF9pZCB8fCAoaGludCAmJiBoaW50LmV2ZW50X2lkID8gaGludC5ldmVudF9pZCA6IHV1aWQ0KCkpLCB0aW1lc3RhbXA6IGV2ZW50LnRpbWVzdGFtcCB8fCBkYXRlVGltZXN0YW1wSW5TZWNvbmRzKCkgfSk7XG4gICAgICAgIHRoaXMuX2FwcGx5Q2xpZW50T3B0aW9ucyhwcmVwYXJlZCk7XG4gICAgICAgIHRoaXMuX2FwcGx5SW50ZWdyYXRpb25zTWV0YWRhdGEocHJlcGFyZWQpO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIHNjb3BlIGdpdmVuIHRvIHVzLCB1c2UgaXQgYXMgdGhlIGJhc2UgZm9yIGZ1cnRoZXIgbW9kaWZpY2F0aW9ucy5cbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgdXMgdG8gcHJldmVudCB1bm5lY2Vzc2FyeSBjb3B5aW5nIG9mIGRhdGEgaWYgYGNhcHR1cmVDb250ZXh0YCBpcyBub3QgcHJvdmlkZWQuXG4gICAgICAgIHZhciBmaW5hbFNjb3BlID0gc2NvcGU7XG4gICAgICAgIGlmIChoaW50ICYmIGhpbnQuY2FwdHVyZUNvbnRleHQpIHtcbiAgICAgICAgICAgIGZpbmFsU2NvcGUgPSBTY29wZS5jbG9uZShmaW5hbFNjb3BlKS51cGRhdGUoaGludC5jYXB0dXJlQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgcHJlcGFyZSB0aGUgcmVzdWx0IGhlcmUgd2l0aCBhIHJlc29sdmVkIEV2ZW50LlxuICAgICAgICB2YXIgcmVzdWx0ID0gU3luY1Byb21pc2UucmVzb2x2ZShwcmVwYXJlZCk7XG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIGJlIHRoZSBsYXN0IHRoaW5nIGNhbGxlZCwgc2luY2Ugd2Ugd2FudCB0aGF0XG4gICAgICAgIC8vIHtAbGluayBIdWIuYWRkRXZlbnRQcm9jZXNzb3J9IGdldHMgdGhlIGZpbmlzaGVkIHByZXBhcmVkIGV2ZW50LlxuICAgICAgICBpZiAoZmluYWxTY29wZSkge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSB3ZSBoYXZlIGEgaHViIHdlIHJlYXNzaWduIGl0LlxuICAgICAgICAgICAgcmVzdWx0ID0gZmluYWxTY29wZS5hcHBseVRvRXZlbnQocHJlcGFyZWQsIGhpbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQudGhlbihmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5vcm1hbGl6ZURlcHRoID09PSAnbnVtYmVyJyAmJiBub3JtYWxpemVEZXB0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX25vcm1hbGl6ZUV2ZW50KGV2dCwgbm9ybWFsaXplRGVwdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV2dDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGBub3JtYWxpemVgIGZ1bmN0aW9uIG9uIG5lY2Vzc2FyeSBgRXZlbnRgIGF0dHJpYnV0ZXMgdG8gbWFrZSB0aGVtIHNhZmUgZm9yIHNlcmlhbGl6YXRpb24uXG4gICAgICogTm9ybWFsaXplZCBrZXlzOlxuICAgICAqIC0gYGJyZWFkY3J1bWJzLmRhdGFgXG4gICAgICogLSBgdXNlcmBcbiAgICAgKiAtIGBjb250ZXh0c2BcbiAgICAgKiAtIGBleHRyYWBcbiAgICAgKiBAcGFyYW0gZXZlbnQgRXZlbnRcbiAgICAgKiBAcmV0dXJucyBOb3JtYWxpemVkIGV2ZW50XG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuX25vcm1hbGl6ZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBkZXB0aCkge1xuICAgICAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9ybWFsaXplZCA9IF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LCBldmVudCksIChldmVudC5icmVhZGNydW1icyAmJiB7XG4gICAgICAgICAgICBicmVhZGNydW1iczogZXZlbnQuYnJlYWRjcnVtYnMubWFwKGZ1bmN0aW9uIChiKSB7IHJldHVybiAoX19hc3NpZ24oX19hc3NpZ24oe30sIGIpLCAoYi5kYXRhICYmIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBub3JtYWxpemUoYi5kYXRhLCBkZXB0aCksXG4gICAgICAgICAgICB9KSkpOyB9KSxcbiAgICAgICAgfSkpLCAoZXZlbnQudXNlciAmJiB7XG4gICAgICAgICAgICB1c2VyOiBub3JtYWxpemUoZXZlbnQudXNlciwgZGVwdGgpLFxuICAgICAgICB9KSksIChldmVudC5jb250ZXh0cyAmJiB7XG4gICAgICAgICAgICBjb250ZXh0czogbm9ybWFsaXplKGV2ZW50LmNvbnRleHRzLCBkZXB0aCksXG4gICAgICAgIH0pKSwgKGV2ZW50LmV4dHJhICYmIHtcbiAgICAgICAgICAgIGV4dHJhOiBub3JtYWxpemUoZXZlbnQuZXh0cmEsIGRlcHRoKSxcbiAgICAgICAgfSkpO1xuICAgICAgICAvLyBldmVudC5jb250ZXh0cy50cmFjZSBzdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgYSBUcmFuc2FjdGlvbi4gU2ltaWxhcmx5LFxuICAgICAgICAvLyBldmVudC5zcGFuc1tdIHN0b3JlcyBpbmZvcm1hdGlvbiBhYm91dCBjaGlsZCBTcGFucy4gR2l2ZW4gdGhhdCBhXG4gICAgICAgIC8vIFRyYW5zYWN0aW9uIGlzIGNvbmNlcHR1YWxseSBhIFNwYW4sIG5vcm1hbGl6YXRpb24gc2hvdWxkIGFwcGx5IHRvIGJvdGhcbiAgICAgICAgLy8gVHJhbnNhY3Rpb25zIGFuZCBTcGFucyBjb25zaXN0ZW50bHkuXG4gICAgICAgIC8vIEZvciBub3cgdGhlIGRlY2lzaW9uIGlzIHRvIHNraXAgbm9ybWFsaXphdGlvbiBvZiBUcmFuc2FjdGlvbnMgYW5kIFNwYW5zLFxuICAgICAgICAvLyBzbyB0aGlzIGJsb2NrIG92ZXJ3cml0ZXMgdGhlIG5vcm1hbGl6ZWQgZXZlbnQgdG8gYWRkIGJhY2sgdGhlIG9yaWdpbmFsXG4gICAgICAgIC8vIFRyYW5zYWN0aW9uIGluZm9ybWF0aW9uIHByaW9yIHRvIG5vcm1hbGl6YXRpb24uXG4gICAgICAgIGlmIChldmVudC5jb250ZXh0cyAmJiBldmVudC5jb250ZXh0cy50cmFjZSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgICAgICAgICAgbm9ybWFsaXplZC5jb250ZXh0cy50cmFjZSA9IGV2ZW50LmNvbnRleHRzLnRyYWNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogIEVuaGFuY2VzIGV2ZW50IHVzaW5nIHRoZSBjbGllbnQgY29uZmlndXJhdGlvbi5cbiAgICAgKiAgSXQgdGFrZXMgY2FyZSBvZiBhbGwgXCJzdGF0aWNcIiB2YWx1ZXMgbGlrZSBlbnZpcm9ubWVudCwgcmVsZWFzZSBhbmQgYGRpc3RgLFxuICAgICAqICBhcyB3ZWxsIGFzIHRydW5jYXRpbmcgb3Zlcmx5IGxvbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSBldmVudCBldmVudCBpbnN0YW5jZSB0byBiZSBlbmhhbmNlZFxuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLl9hcHBseUNsaWVudE9wdGlvbnMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKTtcbiAgICAgICAgdmFyIGVudmlyb25tZW50ID0gb3B0aW9ucy5lbnZpcm9ubWVudCwgcmVsZWFzZSA9IG9wdGlvbnMucmVsZWFzZSwgZGlzdCA9IG9wdGlvbnMuZGlzdCwgX2EgPSBvcHRpb25zLm1heFZhbHVlTGVuZ3RoLCBtYXhWYWx1ZUxlbmd0aCA9IF9hID09PSB2b2lkIDAgPyAyNTAgOiBfYTtcbiAgICAgICAgaWYgKCEoJ2Vudmlyb25tZW50JyBpbiBldmVudCkpIHtcbiAgICAgICAgICAgIGV2ZW50LmVudmlyb25tZW50ID0gJ2Vudmlyb25tZW50JyBpbiBvcHRpb25zID8gZW52aXJvbm1lbnQgOiAncHJvZHVjdGlvbic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LnJlbGVhc2UgPT09IHVuZGVmaW5lZCAmJiByZWxlYXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGV2ZW50LnJlbGVhc2UgPSByZWxlYXNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5kaXN0ID09PSB1bmRlZmluZWQgJiYgZGlzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBldmVudC5kaXN0ID0gZGlzdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQubWVzc2FnZSkge1xuICAgICAgICAgICAgZXZlbnQubWVzc2FnZSA9IHRydW5jYXRlKGV2ZW50Lm1lc3NhZ2UsIG1heFZhbHVlTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXhjZXB0aW9uID0gZXZlbnQuZXhjZXB0aW9uICYmIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXMgJiYgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXTtcbiAgICAgICAgaWYgKGV4Y2VwdGlvbiAmJiBleGNlcHRpb24udmFsdWUpIHtcbiAgICAgICAgICAgIGV4Y2VwdGlvbi52YWx1ZSA9IHRydW5jYXRlKGV4Y2VwdGlvbi52YWx1ZSwgbWF4VmFsdWVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXF1ZXN0ID0gZXZlbnQucmVxdWVzdDtcbiAgICAgICAgaWYgKHJlcXVlc3QgJiYgcmVxdWVzdC51cmwpIHtcbiAgICAgICAgICAgIHJlcXVlc3QudXJsID0gdHJ1bmNhdGUocmVxdWVzdC51cmwsIG1heFZhbHVlTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBhZGRzIGFsbCB1c2VkIGludGVncmF0aW9ucyB0byB0aGUgU0RLIGluZm8gaW4gdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdGhhdCB3aWxsIGJlIGZpbGxlZCB3aXRoIGFsbCBpbnRlZ3JhdGlvbnMuXG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuX2FwcGx5SW50ZWdyYXRpb25zTWV0YWRhdGEgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHNka0luZm8gPSBldmVudC5zZGs7XG4gICAgICAgIHZhciBpbnRlZ3JhdGlvbnNBcnJheSA9IE9iamVjdC5rZXlzKHRoaXMuX2ludGVncmF0aW9ucyk7XG4gICAgICAgIGlmIChzZGtJbmZvICYmIGludGVncmF0aW9uc0FycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNka0luZm8uaW50ZWdyYXRpb25zID0gaW50ZWdyYXRpb25zQXJyYXk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlbGxzIHRoZSBiYWNrZW5kIHRvIHNlbmQgdGhpcyBldmVudFxuICAgICAqIEBwYXJhbSBldmVudCBUaGUgU2VudHJ5IGV2ZW50IHRvIHNlbmRcbiAgICAgKi9cbiAgICBCYXNlQ2xpZW50LnByb3RvdHlwZS5fc2VuZEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2dldEJhY2tlbmQoKS5zZW5kRXZlbnQoZXZlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSBldmVudCBhbmQgbG9ncyBhbiBlcnJvciBpbiBjYXNlIG9mIHJlamVjdGlvblxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqIEBwYXJhbSBoaW50XG4gICAgICogQHBhcmFtIHNjb3BlXG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuX2NhcHR1cmVFdmVudCA9IGZ1bmN0aW9uIChldmVudCwgaGludCwgc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3NFdmVudChldmVudCwgaGludCwgc2NvcGUpLnRoZW4oZnVuY3Rpb24gKGZpbmFsRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbEV2ZW50LmV2ZW50X2lkO1xuICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IocmVhc29uKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIGFuIGV2ZW50IChlaXRoZXIgZXJyb3Igb3IgbWVzc2FnZSkgYW5kIHNlbmRzIGl0IHRvIFNlbnRyeS5cbiAgICAgKlxuICAgICAqIFRoaXMgYWxzbyBhZGRzIGJyZWFkY3J1bWJzIGFuZCBjb250ZXh0IGluZm9ybWF0aW9uIHRvIHRoZSBldmVudC4gSG93ZXZlcixcbiAgICAgKiBwbGF0Zm9ybSBzcGVjaWZpYyBtZXRhIGRhdGEgKHN1Y2ggYXMgdGhlIFVzZXIncyBJUCBhZGRyZXNzKSBtdXN0IGJlIGFkZGVkXG4gICAgICogYnkgdGhlIFNESyBpbXBsZW1lbnRvci5cbiAgICAgKlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCB0byBzZW5kIHRvIFNlbnRyeS5cbiAgICAgKiBAcGFyYW0gaGludCBNYXkgY29udGFpbiBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvcmlnaW5hbCBleGNlcHRpb24uXG4gICAgICogQHBhcmFtIHNjb3BlIEEgc2NvcGUgY29udGFpbmluZyBldmVudCBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyBBIFN5bmNQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZXZlbnQgb3IgcmVqZWN0cyBpbiBjYXNlIGV2ZW50IHdhcy93aWxsIG5vdCBiZSBzZW5kLlxuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLl9wcm9jZXNzRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIGhpbnQsIHNjb3BlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcbiAgICAgICAgdmFyIF9hID0gdGhpcy5nZXRPcHRpb25zKCksIGJlZm9yZVNlbmQgPSBfYS5iZWZvcmVTZW5kLCBzYW1wbGVSYXRlID0gX2Euc2FtcGxlUmF0ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFN5bmNQcm9taXNlLnJlamVjdChuZXcgU2VudHJ5RXJyb3IoJ1NESyBub3QgZW5hYmxlZCwgd2lsbCBub3Qgc2VuZCBldmVudC4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzVHJhbnNhY3Rpb24gPSBldmVudC50eXBlID09PSAndHJhbnNhY3Rpb24nO1xuICAgICAgICAvLyAxLjAgPT09IDEwMCUgZXZlbnRzIGFyZSBzZW50XG4gICAgICAgIC8vIDAuMCA9PT0gMCUgZXZlbnRzIGFyZSBzZW50XG4gICAgICAgIC8vIFNhbXBsaW5nIGZvciB0cmFuc2FjdGlvbiBoYXBwZW5zIHNvbWV3aGVyZSBlbHNlXG4gICAgICAgIGlmICghaXNUcmFuc2FjdGlvbiAmJiB0eXBlb2Ygc2FtcGxlUmF0ZSA9PT0gJ251bWJlcicgJiYgTWF0aC5yYW5kb20oKSA+IHNhbXBsZVJhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBTeW5jUHJvbWlzZS5yZWplY3QobmV3IFNlbnRyeUVycm9yKFwiRGlzY2FyZGluZyBldmVudCBiZWNhdXNlIGl0J3Mgbm90IGluY2x1ZGVkIGluIHRoZSByYW5kb20gc2FtcGxlIChzYW1wbGluZyByYXRlID0gXCIgKyBzYW1wbGVSYXRlICsgXCIpXCIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJlcGFyZUV2ZW50KGV2ZW50LCBzY29wZSwgaGludClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwcmVwYXJlZCkge1xuICAgICAgICAgICAgaWYgKHByZXBhcmVkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlbnRyeUVycm9yKCdBbiBldmVudCBwcm9jZXNzb3IgcmV0dXJuZWQgbnVsbCwgd2lsbCBub3Qgc2VuZCBldmVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpc0ludGVybmFsRXhjZXB0aW9uID0gaGludCAmJiBoaW50LmRhdGEgJiYgaGludC5kYXRhLl9fc2VudHJ5X18gPT09IHRydWU7XG4gICAgICAgICAgICBpZiAoaXNJbnRlcm5hbEV4Y2VwdGlvbiB8fCBpc1RyYW5zYWN0aW9uIHx8ICFiZWZvcmVTZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXBhcmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJlZm9yZVNlbmRSZXN1bHQgPSBiZWZvcmVTZW5kKHByZXBhcmVkLCBoaW50KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYmVmb3JlU2VuZFJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2VudHJ5RXJyb3IoJ2BiZWZvcmVTZW5kYCBtZXRob2QgaGFzIHRvIHJldHVybiBgbnVsbGAgb3IgYSB2YWxpZCBldmVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzVGhlbmFibGUoYmVmb3JlU2VuZFJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmVmb3JlU2VuZFJlc3VsdC50aGVuKGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gZXZlbnQ7IH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZW50cnlFcnJvcihcImJlZm9yZVNlbmQgcmVqZWN0ZWQgd2l0aCBcIiArIGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJlZm9yZVNlbmRSZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocHJvY2Vzc2VkRXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzZWRFdmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZW50cnlFcnJvcignYGJlZm9yZVNlbmRgIHJldHVybmVkIGBudWxsYCwgd2lsbCBub3Qgc2VuZCBldmVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2NvcGUgJiYgc2NvcGUuZ2V0U2Vzc2lvbiAmJiBzY29wZS5nZXRTZXNzaW9uKCk7XG4gICAgICAgICAgICBpZiAoIWlzVHJhbnNhY3Rpb24gJiYgc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIF90aGlzLl91cGRhdGVTZXNzaW9uRnJvbUV2ZW50KHNlc3Npb24sIHByb2Nlc3NlZEV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl9zZW5kRXZlbnQocHJvY2Vzc2VkRXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NlZEV2ZW50O1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgaWYgKHJlYXNvbiBpbnN0YW5jZW9mIFNlbnRyeUVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuY2FwdHVyZUV4Y2VwdGlvbihyZWFzb24sIHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIF9fc2VudHJ5X186IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV4Y2VwdGlvbjogcmVhc29uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU2VudHJ5RXJyb3IoXCJFdmVudCBwcm9jZXNzaW5nIHBpcGVsaW5lIHRocmV3IGFuIGVycm9yLCBvcmlnaW5hbCBldmVudCB3aWxsIG5vdCBiZSBzZW50LiBEZXRhaWxzIGhhdmUgYmVlbiBzZW50IGFzIGEgbmV3IGV2ZW50LlxcblJlYXNvbjogXCIgKyByZWFzb24pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE9jY3VwaWVzIHRoZSBjbGllbnQgd2l0aCBwcm9jZXNzaW5nIGFuZCBldmVudFxuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLl9wcm9jZXNzID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyArPSAxO1xuICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBfdGhpcy5fcHJvY2Vzc2luZyAtPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICBfdGhpcy5fcHJvY2Vzc2luZyAtPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHJlYXNvbjtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZUNsaWVudDtcbn0oKSk7XG5leHBvcnQgeyBCYXNlQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlY2xpZW50LmpzLm1hcCIsIi8qKiBUaGUgc3RhdHVzIG9mIGFuIGV2ZW50LiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9leHBvcnRcbmV4cG9ydCB2YXIgU3RhdHVzO1xuKGZ1bmN0aW9uIChTdGF0dXMpIHtcbiAgICAvKiogVGhlIHN0YXR1cyBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZC4gKi9cbiAgICBTdGF0dXNbXCJVbmtub3duXCJdID0gXCJ1bmtub3duXCI7XG4gICAgLyoqIFRoZSBldmVudCB3YXMgc2tpcHBlZCBkdWUgdG8gY29uZmlndXJhdGlvbiBvciBjYWxsYmFja3MuICovXG4gICAgU3RhdHVzW1wiU2tpcHBlZFwiXSA9IFwic2tpcHBlZFwiO1xuICAgIC8qKiBUaGUgZXZlbnQgd2FzIHNlbnQgdG8gU2VudHJ5IHN1Y2Nlc3NmdWxseS4gKi9cbiAgICBTdGF0dXNbXCJTdWNjZXNzXCJdID0gXCJzdWNjZXNzXCI7XG4gICAgLyoqIFRoZSBjbGllbnQgaXMgY3VycmVudGx5IHJhdGUgbGltaXRlZCBhbmQgd2lsbCB0cnkgYWdhaW4gbGF0ZXIuICovXG4gICAgU3RhdHVzW1wiUmF0ZUxpbWl0XCJdID0gXCJyYXRlX2xpbWl0XCI7XG4gICAgLyoqIFRoZSBldmVudCBjb3VsZCBub3QgYmUgcHJvY2Vzc2VkLiAqL1xuICAgIFN0YXR1c1tcIkludmFsaWRcIl0gPSBcImludmFsaWRcIjtcbiAgICAvKiogQSBzZXJ2ZXItc2lkZSBlcnJvciBvY3VycmVkIGR1cmluZyBzdWJtaXNzaW9uLiAqL1xuICAgIFN0YXR1c1tcIkZhaWxlZFwiXSA9IFwiZmFpbGVkXCI7XG59KShTdGF0dXMgfHwgKFN0YXR1cyA9IHt9KSk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZSwgaW1wb3J0L2V4cG9ydFxuKGZ1bmN0aW9uIChTdGF0dXMpIHtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIEhUVFAgc3RhdHVzIGNvZGUgaW50byBhIHtAbGluayBTdGF0dXN9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvZGUgVGhlIEhUVFAgcmVzcG9uc2Ugc3RhdHVzIGNvZGUuXG4gICAgICogQHJldHVybnMgVGhlIHNlbmQgc3RhdHVzIG9yIHtAbGluayBTdGF0dXMuVW5rbm93bn0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUh0dHBDb2RlKGNvZGUpIHtcbiAgICAgICAgaWYgKGNvZGUgPj0gMjAwICYmIGNvZGUgPCAzMDApIHtcbiAgICAgICAgICAgIHJldHVybiBTdGF0dXMuU3VjY2VzcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZSA9PT0gNDI5KSB7XG4gICAgICAgICAgICByZXR1cm4gU3RhdHVzLlJhdGVMaW1pdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZSA+PSA0MDAgJiYgY29kZSA8IDUwMCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0YXR1cy5JbnZhbGlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlID49IDUwMCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0YXR1cy5GYWlsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFN0YXR1cy5Vbmtub3duO1xuICAgIH1cbiAgICBTdGF0dXMuZnJvbUh0dHBDb2RlID0gZnJvbUh0dHBDb2RlO1xufSkoU3RhdHVzIHx8IChTdGF0dXMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdHVzLmpzLm1hcCIsImltcG9ydCB7IFN0YXR1cyB9IGZyb20gJ0BzZW50cnkvdHlwZXMnO1xuaW1wb3J0IHsgU3luY1Byb21pc2UgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbi8qKiBOb29wIHRyYW5zcG9ydCAqL1xudmFyIE5vb3BUcmFuc3BvcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9vcFRyYW5zcG9ydCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBOb29wVHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kRXZlbnQgPSBmdW5jdGlvbiAoXykge1xuICAgICAgICByZXR1cm4gU3luY1Byb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICByZWFzb246IFwiTm9vcFRyYW5zcG9ydDogRXZlbnQgaGFzIGJlZW4gc2tpcHBlZCBiZWNhdXNlIG5vIERzbiBpcyBjb25maWd1cmVkLlwiLFxuICAgICAgICAgICAgc3RhdHVzOiBTdGF0dXMuU2tpcHBlZCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIE5vb3BUcmFuc3BvcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKF8pIHtcbiAgICAgICAgcmV0dXJuIFN5bmNQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm9vcFRyYW5zcG9ydDtcbn0oKSk7XG5leHBvcnQgeyBOb29wVHJhbnNwb3J0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcCIsIi8qKiBKU0RvYyAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9leHBvcnRcbmV4cG9ydCB2YXIgU2V2ZXJpdHk7XG4oZnVuY3Rpb24gKFNldmVyaXR5KSB7XG4gICAgLyoqIEpTRG9jICovXG4gICAgU2V2ZXJpdHlbXCJGYXRhbFwiXSA9IFwiZmF0YWxcIjtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTZXZlcml0eVtcIkVycm9yXCJdID0gXCJlcnJvclwiO1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFNldmVyaXR5W1wiV2FybmluZ1wiXSA9IFwid2FybmluZ1wiO1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFNldmVyaXR5W1wiTG9nXCJdID0gXCJsb2dcIjtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTZXZlcml0eVtcIkluZm9cIl0gPSBcImluZm9cIjtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTZXZlcml0eVtcIkRlYnVnXCJdID0gXCJkZWJ1Z1wiO1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFNldmVyaXR5W1wiQ3JpdGljYWxcIl0gPSBcImNyaXRpY2FsXCI7XG59KShTZXZlcml0eSB8fCAoU2V2ZXJpdHkgPSB7fSkpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2UsIGltcG9ydC9leHBvcnRcbihmdW5jdGlvbiAoU2V2ZXJpdHkpIHtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIHN0cmluZy1iYXNlZCBsZXZlbCBpbnRvIGEge0BsaW5rIFNldmVyaXR5fS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsZXZlbCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgU2V2ZXJpdHlcbiAgICAgKiBAcmV0dXJucyBTZXZlcml0eVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21TdHJpbmcobGV2ZWwpIHtcbiAgICAgICAgc3dpdGNoIChsZXZlbCkge1xuICAgICAgICAgICAgY2FzZSAnZGVidWcnOlxuICAgICAgICAgICAgICAgIHJldHVybiBTZXZlcml0eS5EZWJ1ZztcbiAgICAgICAgICAgIGNhc2UgJ2luZm8nOlxuICAgICAgICAgICAgICAgIHJldHVybiBTZXZlcml0eS5JbmZvO1xuICAgICAgICAgICAgY2FzZSAnd2Fybic6XG4gICAgICAgICAgICBjYXNlICd3YXJuaW5nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gU2V2ZXJpdHkuV2FybmluZztcbiAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gU2V2ZXJpdHkuRXJyb3I7XG4gICAgICAgICAgICBjYXNlICdmYXRhbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNldmVyaXR5LkZhdGFsO1xuICAgICAgICAgICAgY2FzZSAnY3JpdGljYWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBTZXZlcml0eS5Dcml0aWNhbDtcbiAgICAgICAgICAgIGNhc2UgJ2xvZyc6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBTZXZlcml0eS5Mb2c7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU2V2ZXJpdHkuZnJvbVN0cmluZyA9IGZyb21TdHJpbmc7XG59KShTZXZlcml0eSB8fCAoU2V2ZXJpdHkgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V2ZXJpdHkuanMubWFwIiwiaW1wb3J0IHsgbG9nZ2VyLCBTZW50cnlFcnJvciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgTm9vcFRyYW5zcG9ydCB9IGZyb20gJy4vdHJhbnNwb3J0cy9ub29wJztcbi8qKlxuICogVGhpcyBpcyB0aGUgYmFzZSBpbXBsZW1lbnRpb24gb2YgYSBCYWNrZW5kLlxuICogQGhpZGRlblxuICovXG52YXIgQmFzZUJhY2tlbmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBpbnN0YW5jZS4gKi9cbiAgICBmdW5jdGlvbiBCYXNlQmFja2VuZChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBpZiAoIXRoaXMuX29wdGlvbnMuZHNuKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignTm8gRFNOIHByb3ZpZGVkLCBiYWNrZW5kIHdpbGwgbm90IGRvIGFueXRoaW5nLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydCA9IHRoaXMuX3NldHVwVHJhbnNwb3J0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbiAgICBCYXNlQmFja2VuZC5wcm90b3R5cGUuZXZlbnRGcm9tRXhjZXB0aW9uID0gZnVuY3Rpb24gKF9leGNlcHRpb24sIF9oaW50KSB7XG4gICAgICAgIHRocm93IG5ldyBTZW50cnlFcnJvcignQmFja2VuZCBoYXMgdG8gaW1wbGVtZW50IGBldmVudEZyb21FeGNlcHRpb25gIG1ldGhvZCcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBCYXNlQmFja2VuZC5wcm90b3R5cGUuZXZlbnRGcm9tTWVzc2FnZSA9IGZ1bmN0aW9uIChfbWVzc2FnZSwgX2xldmVsLCBfaGludCkge1xuICAgICAgICB0aHJvdyBuZXcgU2VudHJ5RXJyb3IoJ0JhY2tlbmQgaGFzIHRvIGltcGxlbWVudCBgZXZlbnRGcm9tTWVzc2FnZWAgbWV0aG9kJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJhc2VCYWNrZW5kLnByb3RvdHlwZS5zZW5kRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0LnNlbmRFdmVudChldmVudCkudGhlbihudWxsLCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJFcnJvciB3aGlsZSBzZW5kaW5nIGV2ZW50OiBcIiArIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBCYXNlQmFja2VuZC5wcm90b3R5cGUuc2VuZFNlc3Npb24gPSBmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICBpZiAoIXRoaXMuX3RyYW5zcG9ydC5zZW5kU2Vzc2lvbikge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJEcm9wcGluZyBzZXNzaW9uIGJlY2F1c2UgY3VzdG9tIHRyYW5zcG9ydCBkb2Vzbid0IGltcGxlbWVudCBzZW5kU2Vzc2lvblwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc3BvcnQuc2VuZFNlc3Npb24oc2Vzc2lvbikudGhlbihudWxsLCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJFcnJvciB3aGlsZSBzZW5kaW5nIHNlc3Npb246IFwiICsgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJhc2VCYWNrZW5kLnByb3RvdHlwZS5nZXRUcmFuc3BvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSB0cmFuc3BvcnQgc28gaXQgY2FuIGJlIHVzZWQgbGF0ZXIgdG8gc2VuZCByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBCYXNlQmFja2VuZC5wcm90b3R5cGUuX3NldHVwVHJhbnNwb3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IE5vb3BUcmFuc3BvcnQoKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlQmFja2VuZDtcbn0oKSk7XG5leHBvcnQgeyBCYXNlQmFja2VuZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZWJhY2tlbmQuanMubWFwIiwiLyoqXG4gKiBUaGlzIHdhcyBvcmlnaW5hbGx5IGZvcmtlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9vY2MvVHJhY2VLaXQsIGJ1dCBoYXMgc2luY2UgYmVlblxuICogbGFyZ2VseSBtb2RpZmllZCBhbmQgaXMgbm93IG1haW50YWluZWQgYXMgcGFydCBvZiBTZW50cnkgSlMgU0RLLlxuICovXG5pbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuLy8gZ2xvYmFsIHJlZmVyZW5jZSB0byBzbGljZVxudmFyIFVOS05PV05fRlVOQ1RJT04gPSAnPyc7XG4vLyBDaHJvbWl1bSBiYXNlZCBicm93c2VyczogQ2hyb21lLCBCcmF2ZSwgbmV3IE9wZXJhLCBuZXcgRWRnZVxudmFyIGNocm9tZSA9IC9eXFxzKmF0ICg/OiguKj8pID9cXCgpPygoPzpmaWxlfGh0dHBzP3xibG9ifGNocm9tZS1leHRlbnNpb258YWRkcmVzc3xuYXRpdmV8ZXZhbHx3ZWJwYWNrfDxhbm9ueW1vdXM+fFstYS16XSs6fC4qYnVuZGxlfFxcLykuKj8pKD86OihcXGQrKSk/KD86OihcXGQrKSk/XFwpP1xccyokL2k7XG4vLyBnZWNrbyByZWdleDogYCg/OmJ1bmRsZXxcXGQrXFwuanMpYDogYGJ1bmRsZWAgaXMgZm9yIHJlYWN0IG5hdGl2ZSwgYFxcZCtcXC5qc2AgYWxzbyBidXQgc3BlY2lmaWNhbGx5IGZvciByYW0gYnVuZGxlcyBiZWNhdXNlIGl0XG4vLyBnZW5lcmF0ZXMgZmlsZW5hbWVzIHdpdGhvdXQgYSBwcmVmaXggbGlrZSBgZmlsZTovL2AgdGhlIGZpbGVuYW1lcyBpbiB0aGUgc3RhY2t0cmFjZSBhcmUganVzdCA0Mi5qc1xuLy8gV2UgbmVlZCB0aGlzIHNwZWNpZmljIGNhc2UgZm9yIG5vdyBiZWNhdXNlIHdlIHdhbnQgbm8gb3RoZXIgcmVnZXggdG8gbWF0Y2guXG52YXIgZ2Vja28gPSAvXlxccyooLio/KSg/OlxcKCguKj8pXFwpKT8oPzpefEApPygoPzpmaWxlfGh0dHBzP3xibG9ifGNocm9tZXx3ZWJwYWNrfHJlc291cmNlfG1vei1leHRlbnNpb258Y2FwYWNpdG9yKS4qPzpcXC8uKj98XFxbbmF0aXZlIGNvZGVcXF18W15AXSooPzpidW5kbGV8XFxkK1xcLmpzKXxcXC9bXFx3XFwtLiAvPV0rKSg/OjooXFxkKykpPyg/OjooXFxkKykpP1xccyokL2k7XG52YXIgd2luanMgPSAvXlxccyphdCAoPzooKD86XFxbb2JqZWN0IG9iamVjdFxcXSk/LispICk/XFwoPygoPzpmaWxlfG1zLWFwcHh8aHR0cHM/fHdlYnBhY2t8YmxvYik6Lio/KTooXFxkKykoPzo6KFxcZCspKT9cXCk/XFxzKiQvaTtcbnZhciBnZWNrb0V2YWwgPSAvKFxcUyspIGxpbmUgKFxcZCspKD86ID4gZXZhbCBsaW5lIFxcZCspKiA+IGV2YWwvaTtcbnZhciBjaHJvbWVFdmFsID0gL1xcKChcXFMqKSg/OjooXFxkKykpKD86OihcXGQrKSlcXCkvO1xuLy8gQmFzZWQgb24gb3VyIG93biBtYXBwaW5nIHBhdHRlcm4gLSBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS9ibG9iLzlmMDgzMDVlMDk4NjZjOGJkNmQwYzI0ZjViMGFhYmRkN2RkNmM1OWMvc3JjL3NlbnRyeS9sYW5nL2phdmFzY3JpcHQvZXJyb3JtYXBwaW5nLnB5I0w4My1MMTA4XG52YXIgcmVhY3RNaW5pZmllZFJlZ2V4cCA9IC9NaW5pZmllZCBSZWFjdCBlcnJvciAjXFxkKzsvaTtcbi8qKiBKU0RvYyAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlU3RhY2tUcmFjZShleCkge1xuICAgIHZhciBzdGFjayA9IG51bGw7XG4gICAgdmFyIHBvcFNpemUgPSAwO1xuICAgIGlmIChleCkge1xuICAgICAgICBpZiAodHlwZW9mIGV4LmZyYW1lc1RvUG9wID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcG9wU2l6ZSA9IGV4LmZyYW1lc1RvUG9wO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlYWN0TWluaWZpZWRSZWdleHAudGVzdChleC5tZXNzYWdlKSkge1xuICAgICAgICAgICAgcG9wU2l6ZSA9IDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBtdXN0IGJlIHRyaWVkIGZpcnN0IGJlY2F1c2UgT3BlcmEgMTAgKmRlc3Ryb3lzKlxuICAgICAgICAvLyBpdHMgc3RhY2t0cmFjZSBwcm9wZXJ0eSBpZiB5b3UgdHJ5IHRvIGFjY2VzcyB0aGUgc3RhY2tcbiAgICAgICAgLy8gcHJvcGVydHkgZmlyc3QhIVxuICAgICAgICBzdGFjayA9IGNvbXB1dGVTdGFja1RyYWNlRnJvbVN0YWNrdHJhY2VQcm9wKGV4KTtcbiAgICAgICAgaWYgKHN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9wRnJhbWVzKHN0YWNrLCBwb3BTaXplKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBuby1lbXB0eVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBzdGFjayA9IGNvbXB1dGVTdGFja1RyYWNlRnJvbVN0YWNrUHJvcChleCk7XG4gICAgICAgIGlmIChzdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuIHBvcEZyYW1lcyhzdGFjaywgcG9wU2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gbm8tZW1wdHlcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWVzc2FnZTogZXh0cmFjdE1lc3NhZ2UoZXgpLFxuICAgICAgICBuYW1lOiBleCAmJiBleC5uYW1lLFxuICAgICAgICBzdGFjazogW10sXG4gICAgICAgIGZhaWxlZDogdHJ1ZSxcbiAgICB9O1xufVxuLyoqIEpTRG9jICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgY29tcGxleGl0eVxuZnVuY3Rpb24gY29tcHV0ZVN0YWNrVHJhY2VGcm9tU3RhY2tQcm9wKGV4KSB7XG4gICAgaWYgKCFleCB8fCAhZXguc3RhY2spIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBzdGFjayA9IFtdO1xuICAgIHZhciBsaW5lcyA9IGV4LnN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICB2YXIgaXNFdmFsO1xuICAgIHZhciBzdWJtYXRjaDtcbiAgICB2YXIgcGFydHM7XG4gICAgdmFyIGVsZW1lbnQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoKHBhcnRzID0gY2hyb21lLmV4ZWMobGluZXNbaV0pKSkge1xuICAgICAgICAgICAgdmFyIGlzTmF0aXZlID0gcGFydHNbMl0gJiYgcGFydHNbMl0uaW5kZXhPZignbmF0aXZlJykgPT09IDA7IC8vIHN0YXJ0IG9mIGxpbmVcbiAgICAgICAgICAgIGlzRXZhbCA9IHBhcnRzWzJdICYmIHBhcnRzWzJdLmluZGV4T2YoJ2V2YWwnKSA9PT0gMDsgLy8gc3RhcnQgb2YgbGluZVxuICAgICAgICAgICAgaWYgKGlzRXZhbCAmJiAoc3VibWF0Y2ggPSBjaHJvbWVFdmFsLmV4ZWMocGFydHNbMl0pKSkge1xuICAgICAgICAgICAgICAgIC8vIHRocm93IG91dCBldmFsIGxpbmUvY29sdW1uIGFuZCB1c2UgdG9wLW1vc3QgbGluZS9jb2x1bW4gbnVtYmVyXG4gICAgICAgICAgICAgICAgcGFydHNbMl0gPSBzdWJtYXRjaFsxXTsgLy8gdXJsXG4gICAgICAgICAgICAgICAgcGFydHNbM10gPSBzdWJtYXRjaFsyXTsgLy8gbGluZVxuICAgICAgICAgICAgICAgIHBhcnRzWzRdID0gc3VibWF0Y2hbM107IC8vIGNvbHVtblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudCA9IHtcbiAgICAgICAgICAgICAgICAvLyB3b3JraW5nIHdpdGggdGhlIHJlZ2V4cCBhYm92ZSBpcyBzdXBlciBwYWluZnVsLiBpdCBpcyBxdWl0ZSBhIGhhY2ssIGJ1dCBqdXN0IHN0cmlwcGluZyB0aGUgYGFkZHJlc3MgYXQgYFxuICAgICAgICAgICAgICAgIC8vIHByZWZpeCBoZXJlIHNlZW1zIGxpa2UgdGhlIHF1aWNrZXN0IHNvbHV0aW9uIGZvciBub3cuXG4gICAgICAgICAgICAgICAgdXJsOiBwYXJ0c1syXSAmJiBwYXJ0c1syXS5pbmRleE9mKCdhZGRyZXNzIGF0ICcpID09PSAwID8gcGFydHNbMl0uc3Vic3RyKCdhZGRyZXNzIGF0ICcubGVuZ3RoKSA6IHBhcnRzWzJdLFxuICAgICAgICAgICAgICAgIGZ1bmM6IHBhcnRzWzFdIHx8IFVOS05PV05fRlVOQ1RJT04sXG4gICAgICAgICAgICAgICAgYXJnczogaXNOYXRpdmUgPyBbcGFydHNbMl1dIDogW10sXG4gICAgICAgICAgICAgICAgbGluZTogcGFydHNbM10gPyArcGFydHNbM10gOiBudWxsLFxuICAgICAgICAgICAgICAgIGNvbHVtbjogcGFydHNbNF0gPyArcGFydHNbNF0gOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocGFydHMgPSB3aW5qcy5leGVjKGxpbmVzW2ldKSkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiBwYXJ0c1syXSxcbiAgICAgICAgICAgICAgICBmdW5jOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICAgICAgICAgIGxpbmU6ICtwYXJ0c1szXSxcbiAgICAgICAgICAgICAgICBjb2x1bW46IHBhcnRzWzRdID8gK3BhcnRzWzRdIDogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHBhcnRzID0gZ2Vja28uZXhlYyhsaW5lc1tpXSkpKSB7XG4gICAgICAgICAgICBpc0V2YWwgPSBwYXJ0c1szXSAmJiBwYXJ0c1szXS5pbmRleE9mKCcgPiBldmFsJykgPiAtMTtcbiAgICAgICAgICAgIGlmIChpc0V2YWwgJiYgKHN1Ym1hdGNoID0gZ2Vja29FdmFsLmV4ZWMocGFydHNbM10pKSkge1xuICAgICAgICAgICAgICAgIC8vIHRocm93IG91dCBldmFsIGxpbmUvY29sdW1uIGFuZCB1c2UgdG9wLW1vc3QgbGluZSBudW1iZXJcbiAgICAgICAgICAgICAgICBwYXJ0c1sxXSA9IHBhcnRzWzFdIHx8IFwiZXZhbFwiO1xuICAgICAgICAgICAgICAgIHBhcnRzWzNdID0gc3VibWF0Y2hbMV07XG4gICAgICAgICAgICAgICAgcGFydHNbNF0gPSBzdWJtYXRjaFsyXTtcbiAgICAgICAgICAgICAgICBwYXJ0c1s1XSA9ICcnOyAvLyBubyBjb2x1bW4gd2hlbiBldmFsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpID09PSAwICYmICFwYXJ0c1s1XSAmJiBleC5jb2x1bW5OdW1iZXIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIC8vIEZpcmVGb3ggdXNlcyB0aGlzIGF3ZXNvbWUgY29sdW1uTnVtYmVyIHByb3BlcnR5IGZvciBpdHMgdG9wIGZyYW1lXG4gICAgICAgICAgICAgICAgLy8gQWxzbyBub3RlLCBGaXJlZm94J3MgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkIGFuZCBldmVyeXRoaW5nIGVsc2UgZXhwZWN0cyAxLWJhc2VkLFxuICAgICAgICAgICAgICAgIC8vIHNvIGFkZGluZyAxXG4gICAgICAgICAgICAgICAgLy8gTk9URTogdGhpcyBoYWNrIGRvZXNuJ3Qgd29yayBpZiB0b3AtbW9zdCBmcmFtZSBpcyBldmFsXG4gICAgICAgICAgICAgICAgc3RhY2tbMF0uY29sdW1uID0gZXguY29sdW1uTnVtYmVyICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnQgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiBwYXJ0c1szXSxcbiAgICAgICAgICAgICAgICBmdW5jOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLFxuICAgICAgICAgICAgICAgIGFyZ3M6IHBhcnRzWzJdID8gcGFydHNbMl0uc3BsaXQoJywnKSA6IFtdLFxuICAgICAgICAgICAgICAgIGxpbmU6IHBhcnRzWzRdID8gK3BhcnRzWzRdIDogbnVsbCxcbiAgICAgICAgICAgICAgICBjb2x1bW46IHBhcnRzWzVdID8gK3BhcnRzWzVdIDogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVsZW1lbnQuZnVuYyAmJiBlbGVtZW50LmxpbmUpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuZnVuYyA9IFVOS05PV05fRlVOQ1RJT047XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2sucHVzaChlbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKCFzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IGV4dHJhY3RNZXNzYWdlKGV4KSxcbiAgICAgICAgbmFtZTogZXgubmFtZSxcbiAgICAgICAgc3RhY2s6IHN0YWNrLFxuICAgIH07XG59XG4vKiogSlNEb2MgKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBjb21wdXRlU3RhY2tUcmFjZUZyb21TdGFja3RyYWNlUHJvcChleCkge1xuICAgIGlmICghZXggfHwgIWV4LnN0YWNrdHJhY2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIEFjY2VzcyBhbmQgc3RvcmUgdGhlIHN0YWNrdHJhY2UgcHJvcGVydHkgYmVmb3JlIGRvaW5nIEFOWVRISU5HXG4gICAgLy8gZWxzZSB0byBpdCBiZWNhdXNlIE9wZXJhIGlzIG5vdCB2ZXJ5IGdvb2QgYXQgcHJvdmlkaW5nIGl0XG4gICAgLy8gcmVsaWFibHkgaW4gb3RoZXIgY2lyY3Vtc3RhbmNlcy5cbiAgICB2YXIgc3RhY2t0cmFjZSA9IGV4LnN0YWNrdHJhY2U7XG4gICAgdmFyIG9wZXJhMTBSZWdleCA9IC8gbGluZSAoXFxkKykuKnNjcmlwdCAoPzppbiApPyhcXFMrKSg/OjogaW4gZnVuY3Rpb24gKFxcUyspKT8kL2k7XG4gICAgdmFyIG9wZXJhMTFSZWdleCA9IC8gbGluZSAoXFxkKyksIGNvbHVtbiAoXFxkKylcXHMqKD86aW4gKD86PGFub255bW91cyBmdW5jdGlvbjogKFtePl0rKT58KFteKV0rKSlcXCgoLiopXFwpKT8gaW4gKC4qKTpcXHMqJC9pO1xuICAgIHZhciBsaW5lcyA9IHN0YWNrdHJhY2Uuc3BsaXQoJ1xcbicpO1xuICAgIHZhciBzdGFjayA9IFtdO1xuICAgIHZhciBwYXJ0cztcbiAgICBmb3IgKHZhciBsaW5lID0gMDsgbGluZSA8IGxpbmVzLmxlbmd0aDsgbGluZSArPSAyKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgaWYgKChwYXJ0cyA9IG9wZXJhMTBSZWdleC5leGVjKGxpbmVzW2xpbmVdKSkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiBwYXJ0c1syXSxcbiAgICAgICAgICAgICAgICBmdW5jOiBwYXJ0c1szXSxcbiAgICAgICAgICAgICAgICBhcmdzOiBbXSxcbiAgICAgICAgICAgICAgICBsaW5lOiArcGFydHNbMV0sXG4gICAgICAgICAgICAgICAgY29sdW1uOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocGFydHMgPSBvcGVyYTExUmVnZXguZXhlYyhsaW5lc1tsaW5lXSkpKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0ge1xuICAgICAgICAgICAgICAgIHVybDogcGFydHNbNl0sXG4gICAgICAgICAgICAgICAgZnVuYzogcGFydHNbM10gfHwgcGFydHNbNF0sXG4gICAgICAgICAgICAgICAgYXJnczogcGFydHNbNV0gPyBwYXJ0c1s1XS5zcGxpdCgnLCcpIDogW10sXG4gICAgICAgICAgICAgICAgbGluZTogK3BhcnRzWzFdLFxuICAgICAgICAgICAgICAgIGNvbHVtbjogK3BhcnRzWzJdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50LmZ1bmMgJiYgZWxlbWVudC5saW5lKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5mdW5jID0gVU5LTk9XTl9GVU5DVElPTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YWNrLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IGV4dHJhY3RNZXNzYWdlKGV4KSxcbiAgICAgICAgbmFtZTogZXgubmFtZSxcbiAgICAgICAgc3RhY2s6IHN0YWNrLFxuICAgIH07XG59XG4vKiogUmVtb3ZlIE4gbnVtYmVyIG9mIGZyYW1lcyBmcm9tIHRoZSBzdGFjayAqL1xuZnVuY3Rpb24gcG9wRnJhbWVzKHN0YWNrdHJhY2UsIHBvcFNpemUpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YWNrdHJhY2UpLCB7IHN0YWNrOiBzdGFja3RyYWNlLnN0YWNrLnNsaWNlKHBvcFNpemUpIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gc3RhY2t0cmFjZTtcbiAgICB9XG59XG4vKipcbiAqIFRoZXJlIGFyZSBjYXNlcyB3aGVyZSBzdGFja3RyYWNlLm1lc3NhZ2UgaXMgYW4gRXZlbnQgb2JqZWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy8xOTQ5XG4gKiBJbiB0aGlzIHNwZWNpZmljIGNhc2Ugd2UgdHJ5IHRvIGV4dHJhY3Qgc3RhY2t0cmFjZS5tZXNzYWdlLmVycm9yLm1lc3NhZ2VcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGV4dHJhY3RNZXNzYWdlKGV4KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSBleCAmJiBleC5tZXNzYWdlO1xuICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gJ05vIGVycm9yIG1lc3NhZ2UnO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5lcnJvciAmJiB0eXBlb2YgbWVzc2FnZS5lcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbWVzc2FnZS5lcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNla2l0LmpzLm1hcCIsImltcG9ydCB7IGV4dHJhY3RFeGNlcHRpb25LZXlzRm9yTWVzc2FnZSwgaXNFdmVudCwgbm9ybWFsaXplVG9TaXplIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBjb21wdXRlU3RhY2tUcmFjZSB9IGZyb20gJy4vdHJhY2VraXQnO1xudmFyIFNUQUNLVFJBQ0VfTElNSVQgPSA1MDtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGFuIGV4Y2VwdGlvbiBmcm9tIGFuIFRyYWNlS2l0U3RhY2tUcmFjZVxuICogQHBhcmFtIHN0YWNrdHJhY2UgVHJhY2VLaXRTdGFja1RyYWNlIHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYW4gZXhjZXB0aW9uXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGNlcHRpb25Gcm9tU3RhY2t0cmFjZShzdGFja3RyYWNlKSB7XG4gICAgdmFyIGZyYW1lcyA9IHByZXBhcmVGcmFtZXNGb3JFdmVudChzdGFja3RyYWNlLnN0YWNrKTtcbiAgICB2YXIgZXhjZXB0aW9uID0ge1xuICAgICAgICB0eXBlOiBzdGFja3RyYWNlLm5hbWUsXG4gICAgICAgIHZhbHVlOiBzdGFja3RyYWNlLm1lc3NhZ2UsXG4gICAgfTtcbiAgICBpZiAoZnJhbWVzICYmIGZyYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgZXhjZXB0aW9uLnN0YWNrdHJhY2UgPSB7IGZyYW1lczogZnJhbWVzIH07XG4gICAgfVxuICAgIGlmIChleGNlcHRpb24udHlwZSA9PT0gdW5kZWZpbmVkICYmIGV4Y2VwdGlvbi52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgZXhjZXB0aW9uLnZhbHVlID0gJ1VucmVjb3ZlcmFibGUgZXJyb3IgY2F1Z2h0JztcbiAgICB9XG4gICAgcmV0dXJuIGV4Y2VwdGlvbjtcbn1cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRGcm9tUGxhaW5PYmplY3QoZXhjZXB0aW9uLCBzeW50aGV0aWNFeGNlcHRpb24sIHJlamVjdGlvbikge1xuICAgIHZhciBldmVudCA9IHtcbiAgICAgICAgZXhjZXB0aW9uOiB7XG4gICAgICAgICAgICB2YWx1ZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGlzRXZlbnQoZXhjZXB0aW9uKSA/IGV4Y2VwdGlvbi5jb25zdHJ1Y3Rvci5uYW1lIDogcmVqZWN0aW9uID8gJ1VuaGFuZGxlZFJlamVjdGlvbicgOiAnRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJOb24tRXJyb3IgXCIgKyAocmVqZWN0aW9uID8gJ3Byb21pc2UgcmVqZWN0aW9uJyA6ICdleGNlcHRpb24nKSArIFwiIGNhcHR1cmVkIHdpdGgga2V5czogXCIgKyBleHRyYWN0RXhjZXB0aW9uS2V5c0Zvck1lc3NhZ2UoZXhjZXB0aW9uKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgIF9fc2VyaWFsaXplZF9fOiBub3JtYWxpemVUb1NpemUoZXhjZXB0aW9uKSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGlmIChzeW50aGV0aWNFeGNlcHRpb24pIHtcbiAgICAgICAgdmFyIHN0YWNrdHJhY2UgPSBjb21wdXRlU3RhY2tUcmFjZShzeW50aGV0aWNFeGNlcHRpb24pO1xuICAgICAgICB2YXIgZnJhbWVzXzEgPSBwcmVwYXJlRnJhbWVzRm9yRXZlbnQoc3RhY2t0cmFjZS5zdGFjayk7XG4gICAgICAgIGV2ZW50LnN0YWNrdHJhY2UgPSB7XG4gICAgICAgICAgICBmcmFtZXM6IGZyYW1lc18xLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnQ7XG59XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50RnJvbVN0YWNrdHJhY2Uoc3RhY2t0cmFjZSkge1xuICAgIHZhciBleGNlcHRpb24gPSBleGNlcHRpb25Gcm9tU3RhY2t0cmFjZShzdGFja3RyYWNlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBleGNlcHRpb246IHtcbiAgICAgICAgICAgIHZhbHVlczogW2V4Y2VwdGlvbl0sXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUZyYW1lc0ZvckV2ZW50KHN0YWNrKSB7XG4gICAgaWYgKCFzdGFjayB8fCAhc3RhY2subGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdmFyIGxvY2FsU3RhY2sgPSBzdGFjaztcbiAgICB2YXIgZmlyc3RGcmFtZUZ1bmN0aW9uID0gbG9jYWxTdGFja1swXS5mdW5jIHx8ICcnO1xuICAgIHZhciBsYXN0RnJhbWVGdW5jdGlvbiA9IGxvY2FsU3RhY2tbbG9jYWxTdGFjay5sZW5ndGggLSAxXS5mdW5jIHx8ICcnO1xuICAgIC8vIElmIHN0YWNrIHN0YXJ0cyB3aXRoIG9uZSBvZiBvdXIgQVBJIGNhbGxzLCByZW1vdmUgaXQgKHN0YXJ0cywgbWVhbmluZyBpdCdzIHRoZSB0b3Agb2YgdGhlIHN0YWNrIC0gYWthIGxhc3QgY2FsbClcbiAgICBpZiAoZmlyc3RGcmFtZUZ1bmN0aW9uLmluZGV4T2YoJ2NhcHR1cmVNZXNzYWdlJykgIT09IC0xIHx8IGZpcnN0RnJhbWVGdW5jdGlvbi5pbmRleE9mKCdjYXB0dXJlRXhjZXB0aW9uJykgIT09IC0xKSB7XG4gICAgICAgIGxvY2FsU3RhY2sgPSBsb2NhbFN0YWNrLnNsaWNlKDEpO1xuICAgIH1cbiAgICAvLyBJZiBzdGFjayBlbmRzIHdpdGggb25lIG9mIG91ciBpbnRlcm5hbCBBUEkgY2FsbHMsIHJlbW92ZSBpdCAoZW5kcywgbWVhbmluZyBpdCdzIHRoZSBib3R0b20gb2YgdGhlIHN0YWNrIC0gYWthIHRvcC1tb3N0IGNhbGwpXG4gICAgaWYgKGxhc3RGcmFtZUZ1bmN0aW9uLmluZGV4T2YoJ3NlbnRyeVdyYXBwZWQnKSAhPT0gLTEpIHtcbiAgICAgICAgbG9jYWxTdGFjayA9IGxvY2FsU3RhY2suc2xpY2UoMCwgLTEpO1xuICAgIH1cbiAgICAvLyBUaGUgZnJhbWUgd2hlcmUgdGhlIGNyYXNoIGhhcHBlbmVkLCBzaG91bGQgYmUgdGhlIGxhc3QgZW50cnkgaW4gdGhlIGFycmF5XG4gICAgcmV0dXJuIGxvY2FsU3RhY2tcbiAgICAgICAgLnNsaWNlKDAsIFNUQUNLVFJBQ0VfTElNSVQpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKGZyYW1lKSB7IHJldHVybiAoe1xuICAgICAgICBjb2xubzogZnJhbWUuY29sdW1uID09PSBudWxsID8gdW5kZWZpbmVkIDogZnJhbWUuY29sdW1uLFxuICAgICAgICBmaWxlbmFtZTogZnJhbWUudXJsIHx8IGxvY2FsU3RhY2tbMF0udXJsLFxuICAgICAgICBmdW5jdGlvbjogZnJhbWUuZnVuYyB8fCAnPycsXG4gICAgICAgIGluX2FwcDogdHJ1ZSxcbiAgICAgICAgbGluZW5vOiBmcmFtZS5saW5lID09PSBudWxsID8gdW5kZWZpbmVkIDogZnJhbWUubGluZSxcbiAgICB9KTsgfSlcbiAgICAgICAgLnJldmVyc2UoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlcnMuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNldmVyaXR5IH0gZnJvbSAnQHNlbnRyeS90eXBlcyc7XG5pbXBvcnQgeyBhZGRFeGNlcHRpb25NZWNoYW5pc20sIGFkZEV4Y2VwdGlvblR5cGVWYWx1ZSwgaXNET01FcnJvciwgaXNET01FeGNlcHRpb24sIGlzRXJyb3IsIGlzRXJyb3JFdmVudCwgaXNFdmVudCwgaXNQbGFpbk9iamVjdCwgU3luY1Byb21pc2UsIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBldmVudEZyb21QbGFpbk9iamVjdCwgZXZlbnRGcm9tU3RhY2t0cmFjZSwgcHJlcGFyZUZyYW1lc0ZvckV2ZW50IH0gZnJvbSAnLi9wYXJzZXJzJztcbmltcG9ydCB7IGNvbXB1dGVTdGFja1RyYWNlIH0gZnJvbSAnLi90cmFjZWtpdCc7XG4vKipcbiAqIEJ1aWxkcyBhbmQgRXZlbnQgZnJvbSBhIEV4Y2VwdGlvblxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRGcm9tRXhjZXB0aW9uKG9wdGlvbnMsIGV4Y2VwdGlvbiwgaGludCkge1xuICAgIHZhciBzeW50aGV0aWNFeGNlcHRpb24gPSAoaGludCAmJiBoaW50LnN5bnRoZXRpY0V4Y2VwdGlvbikgfHwgdW5kZWZpbmVkO1xuICAgIHZhciBldmVudCA9IGV2ZW50RnJvbVVua25vd25JbnB1dChleGNlcHRpb24sIHN5bnRoZXRpY0V4Y2VwdGlvbiwge1xuICAgICAgICBhdHRhY2hTdGFja3RyYWNlOiBvcHRpb25zLmF0dGFjaFN0YWNrdHJhY2UsXG4gICAgfSk7XG4gICAgYWRkRXhjZXB0aW9uTWVjaGFuaXNtKGV2ZW50LCB7XG4gICAgICAgIGhhbmRsZWQ6IHRydWUsXG4gICAgICAgIHR5cGU6ICdnZW5lcmljJyxcbiAgICB9KTtcbiAgICBldmVudC5sZXZlbCA9IFNldmVyaXR5LkVycm9yO1xuICAgIGlmIChoaW50ICYmIGhpbnQuZXZlbnRfaWQpIHtcbiAgICAgICAgZXZlbnQuZXZlbnRfaWQgPSBoaW50LmV2ZW50X2lkO1xuICAgIH1cbiAgICByZXR1cm4gU3luY1Byb21pc2UucmVzb2x2ZShldmVudCk7XG59XG4vKipcbiAqIEJ1aWxkcyBhbmQgRXZlbnQgZnJvbSBhIE1lc3NhZ2VcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50RnJvbU1lc3NhZ2Uob3B0aW9ucywgbWVzc2FnZSwgbGV2ZWwsIGhpbnQpIHtcbiAgICBpZiAobGV2ZWwgPT09IHZvaWQgMCkgeyBsZXZlbCA9IFNldmVyaXR5LkluZm87IH1cbiAgICB2YXIgc3ludGhldGljRXhjZXB0aW9uID0gKGhpbnQgJiYgaGludC5zeW50aGV0aWNFeGNlcHRpb24pIHx8IHVuZGVmaW5lZDtcbiAgICB2YXIgZXZlbnQgPSBldmVudEZyb21TdHJpbmcobWVzc2FnZSwgc3ludGhldGljRXhjZXB0aW9uLCB7XG4gICAgICAgIGF0dGFjaFN0YWNrdHJhY2U6IG9wdGlvbnMuYXR0YWNoU3RhY2t0cmFjZSxcbiAgICB9KTtcbiAgICBldmVudC5sZXZlbCA9IGxldmVsO1xuICAgIGlmIChoaW50ICYmIGhpbnQuZXZlbnRfaWQpIHtcbiAgICAgICAgZXZlbnQuZXZlbnRfaWQgPSBoaW50LmV2ZW50X2lkO1xuICAgIH1cbiAgICByZXR1cm4gU3luY1Byb21pc2UucmVzb2x2ZShldmVudCk7XG59XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50RnJvbVVua25vd25JbnB1dChleGNlcHRpb24sIHN5bnRoZXRpY0V4Y2VwdGlvbiwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGV2ZW50O1xuICAgIGlmIChpc0Vycm9yRXZlbnQoZXhjZXB0aW9uKSAmJiBleGNlcHRpb24uZXJyb3IpIHtcbiAgICAgICAgLy8gSWYgaXQgaXMgYW4gRXJyb3JFdmVudCB3aXRoIGBlcnJvcmAgcHJvcGVydHksIGV4dHJhY3QgaXQgdG8gZ2V0IGFjdHVhbCBFcnJvclxuICAgICAgICB2YXIgZXJyb3JFdmVudCA9IGV4Y2VwdGlvbjtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGV4Y2VwdGlvbiA9IGVycm9yRXZlbnQuZXJyb3I7XG4gICAgICAgIGV2ZW50ID0gZXZlbnRGcm9tU3RhY2t0cmFjZShjb21wdXRlU3RhY2tUcmFjZShleGNlcHRpb24pKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cbiAgICBpZiAoaXNET01FcnJvcihleGNlcHRpb24pIHx8IGlzRE9NRXhjZXB0aW9uKGV4Y2VwdGlvbikpIHtcbiAgICAgICAgLy8gSWYgaXQgaXMgYSBET01FcnJvciBvciBET01FeGNlcHRpb24gKHdoaWNoIGFyZSBsZWdhY3kgQVBJcywgYnV0IHN0aWxsIHN1cHBvcnRlZCBpbiBzb21lIGJyb3dzZXJzKVxuICAgICAgICAvLyB0aGVuIHdlIGp1c3QgZXh0cmFjdCB0aGUgbmFtZSwgY29kZSwgYW5kIG1lc3NhZ2UsIGFzIHRoZXkgZG9uJ3QgcHJvdmlkZSBhbnl0aGluZyBlbHNlXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9ET01FcnJvclxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRE9NRXhjZXB0aW9uXG4gICAgICAgIHZhciBkb21FeGNlcHRpb24gPSBleGNlcHRpb247XG4gICAgICAgIHZhciBuYW1lXzEgPSBkb21FeGNlcHRpb24ubmFtZSB8fCAoaXNET01FcnJvcihkb21FeGNlcHRpb24pID8gJ0RPTUVycm9yJyA6ICdET01FeGNlcHRpb24nKTtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBkb21FeGNlcHRpb24ubWVzc2FnZSA/IG5hbWVfMSArIFwiOiBcIiArIGRvbUV4Y2VwdGlvbi5tZXNzYWdlIDogbmFtZV8xO1xuICAgICAgICBldmVudCA9IGV2ZW50RnJvbVN0cmluZyhtZXNzYWdlLCBzeW50aGV0aWNFeGNlcHRpb24sIG9wdGlvbnMpO1xuICAgICAgICBhZGRFeGNlcHRpb25UeXBlVmFsdWUoZXZlbnQsIG1lc3NhZ2UpO1xuICAgICAgICBpZiAoJ2NvZGUnIGluIGRvbUV4Y2VwdGlvbikge1xuICAgICAgICAgICAgZXZlbnQudGFncyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBldmVudC50YWdzKSwgeyAnRE9NRXhjZXB0aW9uLmNvZGUnOiBcIlwiICsgZG9tRXhjZXB0aW9uLmNvZGUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcihleGNlcHRpb24pKSB7XG4gICAgICAgIC8vIHdlIGhhdmUgYSByZWFsIEVycm9yIG9iamVjdCwgZG8gbm90aGluZ1xuICAgICAgICBldmVudCA9IGV2ZW50RnJvbVN0YWNrdHJhY2UoY29tcHV0ZVN0YWNrVHJhY2UoZXhjZXB0aW9uKSk7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG4gICAgaWYgKGlzUGxhaW5PYmplY3QoZXhjZXB0aW9uKSB8fCBpc0V2ZW50KGV4Y2VwdGlvbikpIHtcbiAgICAgICAgLy8gSWYgaXQgaXMgcGxhaW4gT2JqZWN0IG9yIEV2ZW50LCBzZXJpYWxpemUgaXQgbWFudWFsbHkgYW5kIGV4dHJhY3Qgb3B0aW9uc1xuICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgdXMgdG8gZ3JvdXAgZXZlbnRzIGJhc2VkIG9uIHRvcC1sZXZlbCBrZXlzXG4gICAgICAgIC8vIHdoaWNoIGlzIG11Y2ggYmV0dGVyIHRoYW4gY3JlYXRpbmcgbmV3IGdyb3VwIHdoZW4gYW55IGtleS92YWx1ZSBjaGFuZ2VcbiAgICAgICAgdmFyIG9iamVjdEV4Y2VwdGlvbiA9IGV4Y2VwdGlvbjtcbiAgICAgICAgZXZlbnQgPSBldmVudEZyb21QbGFpbk9iamVjdChvYmplY3RFeGNlcHRpb24sIHN5bnRoZXRpY0V4Y2VwdGlvbiwgb3B0aW9ucy5yZWplY3Rpb24pO1xuICAgICAgICBhZGRFeGNlcHRpb25NZWNoYW5pc20oZXZlbnQsIHtcbiAgICAgICAgICAgIHN5bnRoZXRpYzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG4gICAgLy8gSWYgbm9uZSBvZiBwcmV2aW91cyBjaGVja3Mgd2VyZSB2YWxpZCwgdGhlbiBpdCBtZWFucyB0aGF0IGl0J3Mgbm90OlxuICAgIC8vIC0gYW4gaW5zdGFuY2Ugb2YgRE9NRXJyb3JcbiAgICAvLyAtIGFuIGluc3RhbmNlIG9mIERPTUV4Y2VwdGlvblxuICAgIC8vIC0gYW4gaW5zdGFuY2Ugb2YgRXZlbnRcbiAgICAvLyAtIGFuIGluc3RhbmNlIG9mIEVycm9yXG4gICAgLy8gLSBhIHZhbGlkIEVycm9yRXZlbnQgKG9uZSB3aXRoIGFuIGVycm9yIHByb3BlcnR5KVxuICAgIC8vIC0gYSBwbGFpbiBPYmplY3RcbiAgICAvL1xuICAgIC8vIFNvIGJhaWwgb3V0IGFuZCBjYXB0dXJlIGl0IGFzIGEgc2ltcGxlIG1lc3NhZ2U6XG4gICAgZXZlbnQgPSBldmVudEZyb21TdHJpbmcoZXhjZXB0aW9uLCBzeW50aGV0aWNFeGNlcHRpb24sIG9wdGlvbnMpO1xuICAgIGFkZEV4Y2VwdGlvblR5cGVWYWx1ZShldmVudCwgXCJcIiArIGV4Y2VwdGlvbiwgdW5kZWZpbmVkKTtcbiAgICBhZGRFeGNlcHRpb25NZWNoYW5pc20oZXZlbnQsIHtcbiAgICAgICAgc3ludGhldGljOiB0cnVlLFxuICAgIH0pO1xuICAgIHJldHVybiBldmVudDtcbn1cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRGcm9tU3RyaW5nKGlucHV0LCBzeW50aGV0aWNFeGNlcHRpb24sIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBldmVudCA9IHtcbiAgICAgICAgbWVzc2FnZTogaW5wdXQsXG4gICAgfTtcbiAgICBpZiAob3B0aW9ucy5hdHRhY2hTdGFja3RyYWNlICYmIHN5bnRoZXRpY0V4Y2VwdGlvbikge1xuICAgICAgICB2YXIgc3RhY2t0cmFjZSA9IGNvbXB1dGVTdGFja1RyYWNlKHN5bnRoZXRpY0V4Y2VwdGlvbik7XG4gICAgICAgIHZhciBmcmFtZXNfMSA9IHByZXBhcmVGcmFtZXNGb3JFdmVudChzdGFja3RyYWNlLnN0YWNrKTtcbiAgICAgICAgZXZlbnQuc3RhY2t0cmFjZSA9IHtcbiAgICAgICAgICAgIGZyYW1lczogZnJhbWVzXzEsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBldmVudDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50YnVpbGRlci5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiwgX19yZWFkLCBfX3Jlc3QsIF9fc3ByZWFkIH0gZnJvbSBcInRzbGliXCI7XG4vKiogRXh0cmFjdCBzZGsgaW5mbyBmcm9tIGZyb20gdGhlIEFQSSBtZXRhZGF0YSAqL1xuZnVuY3Rpb24gZ2V0U2RrTWV0YWRhdGFGb3JFbnZlbG9wZUhlYWRlcihhcGkpIHtcbiAgICBpZiAoIWFwaS5tZXRhZGF0YSB8fCAhYXBpLm1ldGFkYXRhLnNkaykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBfYSA9IGFwaS5tZXRhZGF0YS5zZGssIG5hbWUgPSBfYS5uYW1lLCB2ZXJzaW9uID0gX2EudmVyc2lvbjtcbiAgICByZXR1cm4geyBuYW1lOiBuYW1lLCB2ZXJzaW9uOiB2ZXJzaW9uIH07XG59XG4vKipcbiAqIEFwcGx5IFNka0luZm8gKG5hbWUsIHZlcnNpb24sIHBhY2thZ2VzLCBpbnRlZ3JhdGlvbnMpIHRvIHRoZSBjb3JyZXNwb25kaW5nIGV2ZW50IGtleS5cbiAqIE1lcmdlIHdpdGggZXhpc3RpbmcgZGF0YSBpZiBhbnkuXG4gKiovXG5mdW5jdGlvbiBlbmhhbmNlRXZlbnRXaXRoU2RrSW5mbyhldmVudCwgc2RrSW5mbykge1xuICAgIGlmICghc2RrSW5mbykge1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfVxuICAgIGV2ZW50LnNkayA9IGV2ZW50LnNkayB8fCB7XG4gICAgICAgIG5hbWU6IHNka0luZm8ubmFtZSxcbiAgICAgICAgdmVyc2lvbjogc2RrSW5mby52ZXJzaW9uLFxuICAgIH07XG4gICAgZXZlbnQuc2RrLm5hbWUgPSBldmVudC5zZGsubmFtZSB8fCBzZGtJbmZvLm5hbWU7XG4gICAgZXZlbnQuc2RrLnZlcnNpb24gPSBldmVudC5zZGsudmVyc2lvbiB8fCBzZGtJbmZvLnZlcnNpb247XG4gICAgZXZlbnQuc2RrLmludGVncmF0aW9ucyA9IF9fc3ByZWFkKChldmVudC5zZGsuaW50ZWdyYXRpb25zIHx8IFtdKSwgKHNka0luZm8uaW50ZWdyYXRpb25zIHx8IFtdKSk7XG4gICAgZXZlbnQuc2RrLnBhY2thZ2VzID0gX19zcHJlYWQoKGV2ZW50LnNkay5wYWNrYWdlcyB8fCBbXSksIChzZGtJbmZvLnBhY2thZ2VzIHx8IFtdKSk7XG4gICAgcmV0dXJuIGV2ZW50O1xufVxuLyoqIENyZWF0ZXMgYSBTZW50cnlSZXF1ZXN0IGZyb20gYW4gZXZlbnQuICovXG5leHBvcnQgZnVuY3Rpb24gc2Vzc2lvblRvU2VudHJ5UmVxdWVzdChzZXNzaW9uLCBhcGkpIHtcbiAgICB2YXIgc2RrSW5mbyA9IGdldFNka01ldGFkYXRhRm9yRW52ZWxvcGVIZWFkZXIoYXBpKTtcbiAgICB2YXIgZW52ZWxvcGVIZWFkZXJzID0gSlNPTi5zdHJpbmdpZnkoX19hc3NpZ24oeyBzZW50X2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSwgKHNka0luZm8gJiYgeyBzZGs6IHNka0luZm8gfSkpKTtcbiAgICB2YXIgaXRlbUhlYWRlcnMgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHR5cGU6ICdzZXNzaW9uJyxcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBib2R5OiBlbnZlbG9wZUhlYWRlcnMgKyBcIlxcblwiICsgaXRlbUhlYWRlcnMgKyBcIlxcblwiICsgSlNPTi5zdHJpbmdpZnkoc2Vzc2lvbiksXG4gICAgICAgIHR5cGU6ICdzZXNzaW9uJyxcbiAgICAgICAgdXJsOiBhcGkuZ2V0RW52ZWxvcGVFbmRwb2ludFdpdGhVcmxFbmNvZGVkQXV0aCgpLFxuICAgIH07XG59XG4vKiogQ3JlYXRlcyBhIFNlbnRyeVJlcXVlc3QgZnJvbSBhbiBldmVudC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBldmVudFRvU2VudHJ5UmVxdWVzdChldmVudCwgYXBpKSB7XG4gICAgdmFyIHNka0luZm8gPSBnZXRTZGtNZXRhZGF0YUZvckVudmVsb3BlSGVhZGVyKGFwaSk7XG4gICAgdmFyIGV2ZW50VHlwZSA9IGV2ZW50LnR5cGUgfHwgJ2V2ZW50JztcbiAgICB2YXIgdXNlRW52ZWxvcGUgPSBldmVudFR5cGUgPT09ICd0cmFuc2FjdGlvbic7XG4gICAgdmFyIF9hID0gZXZlbnQuZGVidWdfbWV0YSB8fCB7fSwgdHJhbnNhY3Rpb25TYW1wbGluZyA9IF9hLnRyYW5zYWN0aW9uU2FtcGxpbmcsIG1ldGFkYXRhID0gX19yZXN0KF9hLCBbXCJ0cmFuc2FjdGlvblNhbXBsaW5nXCJdKTtcbiAgICB2YXIgX2IgPSB0cmFuc2FjdGlvblNhbXBsaW5nIHx8IHt9LCBzYW1wbGluZ01ldGhvZCA9IF9iLm1ldGhvZCwgc2FtcGxlUmF0ZSA9IF9iLnJhdGU7XG4gICAgaWYgKE9iamVjdC5rZXlzKG1ldGFkYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIGV2ZW50LmRlYnVnX21ldGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBldmVudC5kZWJ1Z19tZXRhID0gbWV0YWRhdGE7XG4gICAgfVxuICAgIHZhciByZXEgPSB7XG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNka0luZm8gPyBlbmhhbmNlRXZlbnRXaXRoU2RrSW5mbyhldmVudCwgYXBpLm1ldGFkYXRhLnNkaykgOiBldmVudCksXG4gICAgICAgIHR5cGU6IGV2ZW50VHlwZSxcbiAgICAgICAgdXJsOiB1c2VFbnZlbG9wZSA/IGFwaS5nZXRFbnZlbG9wZUVuZHBvaW50V2l0aFVybEVuY29kZWRBdXRoKCkgOiBhcGkuZ2V0U3RvcmVFbmRwb2ludFdpdGhVcmxFbmNvZGVkQXV0aCgpLFxuICAgIH07XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wLnNlbnRyeS5kZXYvc2RrL2VudmVsb3Blcy9cbiAgICAvLyBTaW5jZSB3ZSBkb24ndCBuZWVkIHRvIG1hbmlwdWxhdGUgZW52ZWxvcGVzIG5vciBzdG9yZSB0aGVtLCB0aGVyZSBpcyBub1xuICAgIC8vIGV4cG9ydGVkIGNvbmNlcHQgb2YgYW4gRW52ZWxvcGUgd2l0aCBvcGVyYXRpb25zIGluY2x1ZGluZyBzZXJpYWxpemF0aW9uIGFuZFxuICAgIC8vIGRlc2VyaWFsaXphdGlvbi4gSW5zdGVhZCwgd2Ugb25seSBpbXBsZW1lbnQgYSBtaW5pbWFsIHN1YnNldCBvZiB0aGUgc3BlYyB0b1xuICAgIC8vIHNlcmlhbGl6ZSBldmVudHMgaW5saW5lIGhlcmUuXG4gICAgaWYgKHVzZUVudmVsb3BlKSB7XG4gICAgICAgIHZhciBlbnZlbG9wZUhlYWRlcnMgPSBKU09OLnN0cmluZ2lmeShfX2Fzc2lnbih7IGV2ZW50X2lkOiBldmVudC5ldmVudF9pZCwgc2VudF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0sIChzZGtJbmZvICYmIHsgc2RrOiBzZGtJbmZvIH0pKSk7XG4gICAgICAgIHZhciBpdGVtSGVhZGVycyA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHR5cGU6IGV2ZW50LnR5cGUsXG4gICAgICAgICAgICAvLyBUT0RPOiBSaWdodCBub3csIHNhbXBsZVJhdGUgbWF5IG9yIG1heSBub3QgYmUgZGVmaW5lZCAoaXQgd29uJ3QgYmUgaW4gdGhlIGNhc2VzIG9mIGluaGVyaXRhbmNlIGFuZFxuICAgICAgICAgICAgLy8gZXhwbGljaXRseS1zZXQgc2FtcGxpbmcgZGVjaXNpb25zKS4gQXJlIHdlIGdvb2Qgd2l0aCB0aGF0P1xuICAgICAgICAgICAgc2FtcGxlX3JhdGVzOiBbeyBpZDogc2FtcGxpbmdNZXRob2QsIHJhdGU6IHNhbXBsZVJhdGUgfV0sXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUaGUgdHJhaWxpbmcgbmV3bGluZSBpcyBvcHRpb25hbC4gV2UgaW50ZW50aW9uYWxseSBkb24ndCBzZW5kIGl0IHRvIGF2b2lkXG4gICAgICAgIC8vIHNlbmRpbmcgdW5uZWNlc3NhcnkgYnl0ZXMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGNvbnN0IGVudmVsb3BlID0gYCR7ZW52ZWxvcGVIZWFkZXJzfVxcbiR7aXRlbUhlYWRlcnN9XFxuJHtyZXEuYm9keX1cXG5gO1xuICAgICAgICB2YXIgZW52ZWxvcGUgPSBlbnZlbG9wZUhlYWRlcnMgKyBcIlxcblwiICsgaXRlbUhlYWRlcnMgKyBcIlxcblwiICsgcmVxLmJvZHk7XG4gICAgICAgIHJlcS5ib2R5ID0gZW52ZWxvcGU7XG4gICAgfVxuICAgIHJldHVybiByZXE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0LmpzLm1hcCIsImltcG9ydCB7IERzbiwgdXJsRW5jb2RlIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG52YXIgU0VOVFJZX0FQSV9WRVJTSU9OID0gJzcnO1xuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gcHJvdmlkZSB1cmxzLCBoZWFkZXJzIGFuZCBtZXRhZGF0YSB0aGF0IGNhbiBiZSB1c2VkIHRvIGZvcm1cbiAqIGRpZmZlcmVudCB0eXBlcyBvZiByZXF1ZXN0cyB0byBTZW50cnkgZW5kcG9pbnRzLlxuICogU3VwcG9ydHMgYm90aCBlbnZlbG9wZXMgYW5kIHJlZ3VsYXIgZXZlbnQgcmVxdWVzdHMuXG4gKiovXG52YXIgQVBJID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQVBJICovXG4gICAgZnVuY3Rpb24gQVBJKGRzbiwgbWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKG1ldGFkYXRhID09PSB2b2lkIDApIHsgbWV0YWRhdGEgPSB7fTsgfVxuICAgICAgICB0aGlzLmRzbiA9IGRzbjtcbiAgICAgICAgdGhpcy5fZHNuT2JqZWN0ID0gbmV3IERzbihkc24pO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSBEc24gb2JqZWN0LiAqL1xuICAgIEFQSS5wcm90b3R5cGUuZ2V0RHNuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHNuT2JqZWN0O1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgdGhlIHByZWZpeCB0byBjb25zdHJ1Y3QgU2VudHJ5IGluZ2VzdGlvbiBBUEkgZW5kcG9pbnRzLiAqL1xuICAgIEFQSS5wcm90b3R5cGUuZ2V0QmFzZUFwaUVuZHBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZHNuID0gdGhpcy5fZHNuT2JqZWN0O1xuICAgICAgICB2YXIgcHJvdG9jb2wgPSBkc24ucHJvdG9jb2wgPyBkc24ucHJvdG9jb2wgKyBcIjpcIiA6ICcnO1xuICAgICAgICB2YXIgcG9ydCA9IGRzbi5wb3J0ID8gXCI6XCIgKyBkc24ucG9ydCA6ICcnO1xuICAgICAgICByZXR1cm4gcHJvdG9jb2wgKyBcIi8vXCIgKyBkc24uaG9zdCArIHBvcnQgKyAoZHNuLnBhdGggPyBcIi9cIiArIGRzbi5wYXRoIDogJycpICsgXCIvYXBpL1wiO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgdGhlIHN0b3JlIGVuZHBvaW50IFVSTC4gKi9cbiAgICBBUEkucHJvdG90eXBlLmdldFN0b3JlRW5kcG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRJbmdlc3RFbmRwb2ludCgnc3RvcmUnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN0b3JlIGVuZHBvaW50IFVSTCB3aXRoIGF1dGggaW4gdGhlIHF1ZXJ5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIFNlbmRpbmcgYXV0aCBhcyBwYXJ0IG9mIHRoZSBxdWVyeSBzdHJpbmcgYW5kIG5vdCBhcyBjdXN0b20gSFRUUCBoZWFkZXJzIGF2b2lkcyBDT1JTIHByZWZsaWdodCByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBBUEkucHJvdG90eXBlLmdldFN0b3JlRW5kcG9pbnRXaXRoVXJsRW5jb2RlZEF1dGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0b3JlRW5kcG9pbnQoKSArIFwiP1wiICsgdGhpcy5fZW5jb2RlZEF1dGgoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGVudmVsb3BlIGVuZHBvaW50IFVSTCB3aXRoIGF1dGggaW4gdGhlIHF1ZXJ5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIFNlbmRpbmcgYXV0aCBhcyBwYXJ0IG9mIHRoZSBxdWVyeSBzdHJpbmcgYW5kIG5vdCBhcyBjdXN0b20gSFRUUCBoZWFkZXJzIGF2b2lkcyBDT1JTIHByZWZsaWdodCByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBBUEkucHJvdG90eXBlLmdldEVudmVsb3BlRW5kcG9pbnRXaXRoVXJsRW5jb2RlZEF1dGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRFbnZlbG9wZUVuZHBvaW50KCkgKyBcIj9cIiArIHRoaXMuX2VuY29kZWRBdXRoKCk7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyBvbmx5IHRoZSBwYXRoIGNvbXBvbmVudCBmb3IgdGhlIHN0b3JlIGVuZHBvaW50LiAqL1xuICAgIEFQSS5wcm90b3R5cGUuZ2V0U3RvcmVFbmRwb2ludFBhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkc24gPSB0aGlzLl9kc25PYmplY3Q7XG4gICAgICAgIHJldHVybiAoZHNuLnBhdGggPyBcIi9cIiArIGRzbi5wYXRoIDogJycpICsgXCIvYXBpL1wiICsgZHNuLnByb2plY3RJZCArIFwiL3N0b3JlL1wiO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBpbiByZXF1ZXN0IGhlYWRlcnMuXG4gICAgICogVGhpcyBpcyBuZWVkZWQgZm9yIG5vZGUgYW5kIHRoZSBvbGQgL3N0b3JlIGVuZHBvaW50IGluIHNlbnRyeVxuICAgICAqL1xuICAgIEFQSS5wcm90b3R5cGUuZ2V0UmVxdWVzdEhlYWRlcnMgPSBmdW5jdGlvbiAoY2xpZW50TmFtZSwgY2xpZW50VmVyc2lvbikge1xuICAgICAgICAvLyBDSEFOR0UgVEhJUyB0byB1c2UgbWV0YWRhdGEgYnV0IGtlZXAgY2xpZW50TmFtZSBhbmQgY2xpZW50VmVyc2lvbiBjb21wYXRpYmxlXG4gICAgICAgIHZhciBkc24gPSB0aGlzLl9kc25PYmplY3Q7XG4gICAgICAgIHZhciBoZWFkZXIgPSBbXCJTZW50cnkgc2VudHJ5X3ZlcnNpb249XCIgKyBTRU5UUllfQVBJX1ZFUlNJT05dO1xuICAgICAgICBoZWFkZXIucHVzaChcInNlbnRyeV9jbGllbnQ9XCIgKyBjbGllbnROYW1lICsgXCIvXCIgKyBjbGllbnRWZXJzaW9uKTtcbiAgICAgICAgaGVhZGVyLnB1c2goXCJzZW50cnlfa2V5PVwiICsgZHNuLnB1YmxpY0tleSk7XG4gICAgICAgIGlmIChkc24ucGFzcykge1xuICAgICAgICAgICAgaGVhZGVyLnB1c2goXCJzZW50cnlfc2VjcmV0PVwiICsgZHNuLnBhc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ1gtU2VudHJ5LUF1dGgnOiBoZWFkZXIuam9pbignLCAnKSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRoZSB1cmwgdG8gdGhlIHJlcG9ydCBkaWFsb2cgZW5kcG9pbnQuICovXG4gICAgQVBJLnByb3RvdHlwZS5nZXRSZXBvcnREaWFsb2dFbmRwb2ludCA9IGZ1bmN0aW9uIChkaWFsb2dPcHRpb25zKSB7XG4gICAgICAgIGlmIChkaWFsb2dPcHRpb25zID09PSB2b2lkIDApIHsgZGlhbG9nT3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBkc24gPSB0aGlzLl9kc25PYmplY3Q7XG4gICAgICAgIHZhciBlbmRwb2ludCA9IHRoaXMuZ2V0QmFzZUFwaUVuZHBvaW50KCkgKyBcImVtYmVkL2Vycm9yLXBhZ2UvXCI7XG4gICAgICAgIHZhciBlbmNvZGVkT3B0aW9ucyA9IFtdO1xuICAgICAgICBlbmNvZGVkT3B0aW9ucy5wdXNoKFwiZHNuPVwiICsgZHNuLnRvU3RyaW5nKCkpO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGlhbG9nT3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2RzbicpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXkgPT09ICd1c2VyJykge1xuICAgICAgICAgICAgICAgIGlmICghZGlhbG9nT3B0aW9ucy51c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGlhbG9nT3B0aW9ucy51c2VyLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlZE9wdGlvbnMucHVzaChcIm5hbWU9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZGlhbG9nT3B0aW9ucy51c2VyLm5hbWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRpYWxvZ09wdGlvbnMudXNlci5lbWFpbCkge1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGVkT3B0aW9ucy5wdXNoKFwiZW1haWw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZGlhbG9nT3B0aW9ucy51c2VyLmVtYWlsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5jb2RlZE9wdGlvbnMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGRpYWxvZ09wdGlvbnNba2V5XSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbmNvZGVkT3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmRwb2ludCArIFwiP1wiICsgZW5jb2RlZE9wdGlvbnMuam9pbignJicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbmRwb2ludDtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRoZSBlbnZlbG9wZSBlbmRwb2ludCBVUkwuICovXG4gICAgQVBJLnByb3RvdHlwZS5fZ2V0RW52ZWxvcGVFbmRwb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEluZ2VzdEVuZHBvaW50KCdlbnZlbG9wZScpO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgdGhlIGluZ2VzdCBBUEkgZW5kcG9pbnQgZm9yIHRhcmdldC4gKi9cbiAgICBBUEkucHJvdG90eXBlLl9nZXRJbmdlc3RFbmRwb2ludCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIGJhc2UgPSB0aGlzLmdldEJhc2VBcGlFbmRwb2ludCgpO1xuICAgICAgICB2YXIgZHNuID0gdGhpcy5fZHNuT2JqZWN0O1xuICAgICAgICByZXR1cm4gXCJcIiArIGJhc2UgKyBkc24ucHJvamVjdElkICsgXCIvXCIgKyB0YXJnZXQgKyBcIi9cIjtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIGEgVVJMLWVuY29kZWQgc3RyaW5nIHdpdGggYXV0aCBjb25maWcgc3VpdGFibGUgZm9yIGEgcXVlcnkgc3RyaW5nLiAqL1xuICAgIEFQSS5wcm90b3R5cGUuX2VuY29kZWRBdXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZHNuID0gdGhpcy5fZHNuT2JqZWN0O1xuICAgICAgICB2YXIgYXV0aCA9IHtcbiAgICAgICAgICAgIC8vIFdlIHNlbmQgb25seSB0aGUgbWluaW11bSBzZXQgb2YgcmVxdWlyZWQgaW5mb3JtYXRpb24uIFNlZVxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9pc3N1ZXMvMjU3Mi5cbiAgICAgICAgICAgIHNlbnRyeV9rZXk6IGRzbi5wdWJsaWNLZXksXG4gICAgICAgICAgICBzZW50cnlfdmVyc2lvbjogU0VOVFJZX0FQSV9WRVJTSU9OLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdXJsRW5jb2RlKGF1dGgpO1xuICAgIH07XG4gICAgcmV0dXJuIEFQSTtcbn0oKSk7XG5leHBvcnQgeyBBUEkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwaS5qcy5tYXAiLCJpbXBvcnQgeyBTZW50cnlFcnJvciB9IGZyb20gJy4vZXJyb3InO1xuaW1wb3J0IHsgU3luY1Byb21pc2UgfSBmcm9tICcuL3N5bmNwcm9taXNlJztcbi8qKiBBIHNpbXBsZSBxdWV1ZSB0aGF0IGhvbGRzIHByb21pc2VzLiAqL1xudmFyIFByb21pc2VCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvbWlzZUJ1ZmZlcihfbGltaXQpIHtcbiAgICAgICAgdGhpcy5fbGltaXQgPSBfbGltaXQ7XG4gICAgICAgIC8qKiBJbnRlcm5hbCBzZXQgb2YgcXVldWVkIFByb21pc2VzICovXG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYXlzIGlmIHRoZSBidWZmZXIgaXMgcmVhZHkgdG8gdGFrZSBtb3JlIHJlcXVlc3RzXG4gICAgICovXG4gICAgUHJvbWlzZUJ1ZmZlci5wcm90b3R5cGUuaXNSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbWl0ID09PSB1bmRlZmluZWQgfHwgdGhpcy5sZW5ndGgoKSA8IHRoaXMuX2xpbWl0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgcHJvbWlzZSB0byB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFzayBDYW4gYmUgYW55IFByb21pc2VMaWtlPFQ+XG4gICAgICogQHJldHVybnMgVGhlIG9yaWdpbmFsIHByb21pc2UuXG4gICAgICovXG4gICAgUHJvbWlzZUJ1ZmZlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmlzUmVhZHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFN5bmNQcm9taXNlLnJlamVjdChuZXcgU2VudHJ5RXJyb3IoJ05vdCBhZGRpbmcgUHJvbWlzZSBkdWUgdG8gYnVmZmVyIGxpbWl0IHJlYWNoZWQuJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIuaW5kZXhPZih0YXNrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlci5wdXNoKHRhc2spO1xuICAgICAgICB9XG4gICAgICAgIHRhc2tcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJlbW92ZSh0YXNrKTsgfSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZW1vdmUodGFzaykudGhlbihudWxsLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0byBhZGQgdGhpcyBjYXRjaCBoZXJlIG90aGVyd2lzZSB3ZSBoYXZlIGFuIHVuaGFuZGxlZFByb21pc2VSZWplY3Rpb25cbiAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIGl0J3MgYSBuZXcgUHJvbWlzZSBjaGFpbi5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhc2s7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBwcm9taXNlIHRvIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0YXNrIENhbiBiZSBhbnkgUHJvbWlzZUxpa2U8VD5cbiAgICAgKiBAcmV0dXJucyBSZW1vdmVkIHByb21pc2UuXG4gICAgICovXG4gICAgUHJvbWlzZUJ1ZmZlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgdmFyIHJlbW92ZWRUYXNrID0gdGhpcy5fYnVmZmVyLnNwbGljZSh0aGlzLl9idWZmZXIuaW5kZXhPZih0YXNrKSwgMSlbMF07XG4gICAgICAgIHJldHVybiByZW1vdmVkVGFzaztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgbnVtYmVyIG9mIHVucmVzb2x2ZWQgcHJvbWlzZXMgaW4gdGhlIHF1ZXVlLlxuICAgICAqL1xuICAgIFByb21pc2VCdWZmZXIucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5sZW5ndGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgZHJhaW4gdGhlIHdob2xlIHF1ZXVlLCByZXR1cm5zIHRydWUgaWYgcXVldWUgaXMgZW1wdHkgb3IgZHJhaW5lZC5cbiAgICAgKiBJZiB0aW1lb3V0IGlzIHByb3ZpZGVkIGFuZCB0aGUgcXVldWUgdGFrZXMgbG9uZ2VyIHRvIGRyYWluLCB0aGUgcHJvbWlzZSBzdGlsbCByZXNvbHZlcyBidXQgd2l0aCBmYWxzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aW1lb3V0IE51bWJlciBpbiBtcyB0byB3YWl0IHVudGlsIGl0IHJlc29sdmVzIHdpdGggZmFsc2UuXG4gICAgICovXG4gICAgUHJvbWlzZUJ1ZmZlci5wcm90b3R5cGUuZHJhaW4gPSBmdW5jdGlvbiAodGltZW91dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFN5bmNQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICB2YXIgY2FwdHVyZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQgJiYgdGltZW91dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICBTeW5jUHJvbWlzZS5hbGwoX3RoaXMuX2J1ZmZlcilcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNhcHR1cmVkU2V0VGltZW91dCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4obnVsbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUHJvbWlzZUJ1ZmZlcjtcbn0oKSk7XG5leHBvcnQgeyBQcm9taXNlQnVmZmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlYnVmZmVyLmpzLm1hcCIsImltcG9ydCB7IF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBUEkgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgU3RhdHVzLCB9IGZyb20gJ0BzZW50cnkvdHlwZXMnO1xuaW1wb3J0IHsgbG9nZ2VyLCBwYXJzZVJldHJ5QWZ0ZXJIZWFkZXIsIFByb21pc2VCdWZmZXIsIFNlbnRyeUVycm9yIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG4vKiogQmFzZSBUcmFuc3BvcnQgY2xhc3MgaW1wbGVtZW50YXRpb24gKi9cbnZhciBCYXNlVHJhbnNwb3J0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhc2VUcmFuc3BvcnQob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAvKiogQSBzaW1wbGUgYnVmZmVyIGhvbGRpbmcgYWxsIHJlcXVlc3RzLiAqL1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBuZXcgUHJvbWlzZUJ1ZmZlcigzMCk7XG4gICAgICAgIC8qKiBMb2NrcyB0cmFuc3BvcnQgYWZ0ZXIgcmVjZWl2aW5nIHJhdGUgbGltaXRzIGluIGEgcmVzcG9uc2UgKi9cbiAgICAgICAgdGhpcy5fcmF0ZUxpbWl0cyA9IHt9O1xuICAgICAgICB0aGlzLl9hcGkgPSBuZXcgQVBJKG9wdGlvbnMuZHNuLCBvcHRpb25zLl9tZXRhZGF0YSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICB0aGlzLnVybCA9IHRoaXMuX2FwaS5nZXRTdG9yZUVuZHBvaW50V2l0aFVybEVuY29kZWRBdXRoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQmFzZVRyYW5zcG9ydC5wcm90b3R5cGUuc2VuZEV2ZW50ID0gZnVuY3Rpb24gKF8pIHtcbiAgICAgICAgdGhyb3cgbmV3IFNlbnRyeUVycm9yKCdUcmFuc3BvcnQgQ2xhc3MgaGFzIHRvIGltcGxlbWVudCBgc2VuZEV2ZW50YCBtZXRob2QnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQmFzZVRyYW5zcG9ydC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAodGltZW91dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmRyYWluKHRpbWVvdXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIFNlbnRyeSByZXBzb25zZSBmb3IgcHJvbWlzZS1iYXNlZCB0cmFuc3BvcnRzLlxuICAgICAqL1xuICAgIEJhc2VUcmFuc3BvcnQucHJvdG90eXBlLl9oYW5kbGVSZXNwb25zZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgcmVxdWVzdFR5cGUgPSBfYS5yZXF1ZXN0VHlwZSwgcmVzcG9uc2UgPSBfYS5yZXNwb25zZSwgaGVhZGVycyA9IF9hLmhlYWRlcnMsIHJlc29sdmUgPSBfYS5yZXNvbHZlLCByZWplY3QgPSBfYS5yZWplY3Q7XG4gICAgICAgIHZhciBzdGF0dXMgPSBTdGF0dXMuZnJvbUh0dHBDb2RlKHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBcIlRoZSBuYW1lIGlzIGNhc2UtaW5zZW5zaXRpdmUuXCJcbiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hlYWRlcnMvZ2V0XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgbGltaXRlZCA9IHRoaXMuX2hhbmRsZVJhdGVMaW1pdChoZWFkZXJzKTtcbiAgICAgICAgaWYgKGxpbWl0ZWQpXG4gICAgICAgICAgICBsb2dnZXIud2FybihcIlRvbyBtYW55IHJlcXVlc3RzLCBiYWNraW5nIG9mZiB1bnRpbDogXCIgKyB0aGlzLl9kaXNhYmxlZFVudGlsKHJlcXVlc3RUeXBlKSk7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IFN0YXR1cy5TdWNjZXNzKSB7XG4gICAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiBzdGF0dXMgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVqZWN0KHJlc3BvbnNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRpbWUgdGhhdCBnaXZlbiBjYXRlZ29yeSBpcyBkaXNhYmxlZCB1bnRpbCBmb3IgcmF0ZSBsaW1pdGluZ1xuICAgICAqL1xuICAgIEJhc2VUcmFuc3BvcnQucHJvdG90eXBlLl9kaXNhYmxlZFVudGlsID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXRlTGltaXRzW2NhdGVnb3J5XSB8fCB0aGlzLl9yYXRlTGltaXRzLmFsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGNhdGVnb3J5IGlzIHJhdGUgbGltaXRlZFxuICAgICAqL1xuICAgIEJhc2VUcmFuc3BvcnQucHJvdG90eXBlLl9pc1JhdGVMaW1pdGVkID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNhYmxlZFVudGlsKGNhdGVnb3J5KSA+IG5ldyBEYXRlKERhdGUubm93KCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBpbnRlcm5hbCBfcmF0ZUxpbWl0cyBmcm9tIGluY29taW5nIGhlYWRlcnMuIFJldHVybnMgdHJ1ZSBpZiBoZWFkZXJzIGNvbnRhaW5zIGEgbm9uLWVtcHR5IHJhdGUgbGltaXRpbmcgaGVhZGVyLlxuICAgICAqL1xuICAgIEJhc2VUcmFuc3BvcnQucHJvdG90eXBlLl9oYW5kbGVSYXRlTGltaXQgPSBmdW5jdGlvbiAoaGVhZGVycykge1xuICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjtcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBybEhlYWRlciA9IGhlYWRlcnNbJ3gtc2VudHJ5LXJhdGUtbGltaXRzJ107XG4gICAgICAgIHZhciByYUhlYWRlciA9IGhlYWRlcnNbJ3JldHJ5LWFmdGVyJ107XG4gICAgICAgIGlmIChybEhlYWRlcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyByYXRlIGxpbWl0IGhlYWRlcnMgYXJlIG9mIHRoZSBmb3JtXG4gICAgICAgICAgICAgICAgLy8gICAgIDxoZWFkZXI+LDxoZWFkZXI+LC4uXG4gICAgICAgICAgICAgICAgLy8gd2hlcmUgZWFjaCA8aGVhZGVyPiBpcyBvZiB0aGUgZm9ybVxuICAgICAgICAgICAgICAgIC8vICAgICA8cmV0cnlfYWZ0ZXI+OiA8Y2F0ZWdvcmllcz46IDxzY29wZT46IDxyZWFzb25fY29kZT5cbiAgICAgICAgICAgICAgICAvLyB3aGVyZVxuICAgICAgICAgICAgICAgIC8vICAgICA8cmV0cnlfYWZ0ZXI+IGlzIGEgZGVsYXkgaW4gbXNcbiAgICAgICAgICAgICAgICAvLyAgICAgPGNhdGVnb3JpZXM+IGlzIHRoZSBldmVudCB0eXBlKHMpIChlcnJvciwgdHJhbnNhY3Rpb24sIGV0YykgYmVpbmcgcmF0ZSBsaW1pdGVkIGFuZCBpcyBvZiB0aGUgZm9ybVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgPGNhdGVnb3J5Pjs8Y2F0ZWdvcnk+Oy4uLlxuICAgICAgICAgICAgICAgIC8vICAgICA8c2NvcGU+IGlzIHdoYXQncyBiZWluZyBsaW1pdGVkIChvcmcsIHByb2plY3QsIG9yIGtleSkgLSBpZ25vcmVkIGJ5IFNES1xuICAgICAgICAgICAgICAgIC8vICAgICA8cmVhc29uX2NvZGU+IGlzIGFuIGFyYml0cmFyeSBzdHJpbmcgbGlrZSBcIm9yZ19xdW90YVwiIC0gaWdub3JlZCBieSBTREtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKHJsSGVhZGVyLnRyaW0oKS5zcGxpdCgnLCcpKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGltaXQgPSBfZC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBsaW1pdC5zcGxpdCgnOicsIDIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGVyRGVsYXkgPSBwYXJzZUludChwYXJhbWV0ZXJzWzBdLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWxheSA9ICghaXNOYU4oaGVhZGVyRGVsYXkpID8gaGVhZGVyRGVsYXkgOiA2MCkgKiAxMDAwOyAvLyA2MHNlYyBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZSA9IChlXzIgPSB2b2lkIDAsIF9fdmFsdWVzKHBhcmFtZXRlcnNbMV0uc3BsaXQoJzsnKSkpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gX2YudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmF0ZUxpbWl0c1tjYXRlZ29yeSB8fCAnYWxsJ10gPSBuZXcgRGF0ZShub3cgKyBkZWxheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZiAmJiAhX2YuZG9uZSAmJiAoX2IgPSBfZS5yZXR1cm4pKSBfYi5jYWxsKF9lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhSGVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9yYXRlTGltaXRzLmFsbCA9IG5ldyBEYXRlKG5vdyArIHBhcnNlUmV0cnlBZnRlckhlYWRlcihub3csIHJhSGVhZGVyKSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZVRyYW5zcG9ydDtcbn0oKSk7XG5leHBvcnQgeyBCYXNlVHJhbnNwb3J0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZXZlbnRUb1NlbnRyeVJlcXVlc3QsIHNlc3Npb25Ub1NlbnRyeVJlcXVlc3QgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsT2JqZWN0LCBzdXBwb3J0c1JlZmVycmVyUG9saWN5LCBTeW5jUHJvbWlzZSB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgQmFzZVRyYW5zcG9ydCB9IGZyb20gJy4vYmFzZSc7XG52YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4vKiogYGZldGNoYCBiYXNlZCB0cmFuc3BvcnQgKi9cbnZhciBGZXRjaFRyYW5zcG9ydCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRmV0Y2hUcmFuc3BvcnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRmV0Y2hUcmFuc3BvcnQoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBGZXRjaFRyYW5zcG9ydC5wcm90b3R5cGUuc2VuZEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kUmVxdWVzdChldmVudFRvU2VudHJ5UmVxdWVzdChldmVudCwgdGhpcy5fYXBpKSwgZXZlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBGZXRjaFRyYW5zcG9ydC5wcm90b3R5cGUuc2VuZFNlc3Npb24gPSBmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZFJlcXVlc3Qoc2Vzc2lvblRvU2VudHJ5UmVxdWVzdChzZXNzaW9uLCB0aGlzLl9hcGkpLCBzZXNzaW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzZW50cnlSZXF1ZXN0IFByZXBhcmVkIFNlbnRyeVJlcXVlc3QgdG8gYmUgZGVsaXZlcmVkXG4gICAgICogQHBhcmFtIG9yaWdpbmFsUGF5bG9hZCBPcmlnaW5hbCBwYXlsb2FkIHVzZWQgdG8gY3JlYXRlIFNlbnRyeVJlcXVlc3RcbiAgICAgKi9cbiAgICBGZXRjaFRyYW5zcG9ydC5wcm90b3R5cGUuX3NlbmRSZXF1ZXN0ID0gZnVuY3Rpb24gKHNlbnRyeVJlcXVlc3QsIG9yaWdpbmFsUGF5bG9hZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5faXNSYXRlTGltaXRlZChzZW50cnlSZXF1ZXN0LnR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe1xuICAgICAgICAgICAgICAgIGV2ZW50OiBvcmlnaW5hbFBheWxvYWQsXG4gICAgICAgICAgICAgICAgdHlwZTogc2VudHJ5UmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogXCJUcmFuc3BvcnQgbG9ja2VkIHRpbGwgXCIgKyB0aGlzLl9kaXNhYmxlZFVudGlsKHNlbnRyeVJlcXVlc3QudHlwZSkgKyBcIiBkdWUgdG8gdG9vIG1hbnkgcmVxdWVzdHMuXCIsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiA0MjksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGJvZHk6IHNlbnRyeVJlcXVlc3QuYm9keSxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgLy8gRGVzcGl0ZSBhbGwgc3RhcnMgaW4gdGhlIHNreSBzYXlpbmcgdGhhdCBFZGdlIHN1cHBvcnRzIG9sZCBkcmFmdCBzeW50YXgsIGFrYSAnbmV2ZXInLCAnYWx3YXlzJywgJ29yaWdpbicgYW5kICdkZWZhdWx0XG4gICAgICAgICAgICAvLyBodHRwczovL2Nhbml1c2UuY29tLyNmZWF0PXJlZmVycmVyLXBvbGljeVxuICAgICAgICAgICAgLy8gSXQgZG9lc24ndC4gQW5kIGl0IHRocm93IGV4Y2VwdGlvbiBpbnN0ZWFkIG9mIGlnbm9yaW5nIHRoaXMgcGFyYW1ldGVyLi4uXG4gICAgICAgICAgICAvLyBSRUY6IGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvcmF2ZW4tanMvaXNzdWVzLzEyMzNcbiAgICAgICAgICAgIHJlZmVycmVyUG9saWN5OiAoc3VwcG9ydHNSZWZlcnJlclBvbGljeSgpID8gJ29yaWdpbicgOiAnJyksXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmV0Y2hQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgdGhpcy5vcHRpb25zLmZldGNoUGFyYW1ldGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oZWFkZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IHRoaXMub3B0aW9ucy5oZWFkZXJzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuYWRkKG5ldyBTeW5jUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBnbG9iYWxcbiAgICAgICAgICAgICAgICAuZmV0Y2goc2VudHJ5UmVxdWVzdC51cmwsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICd4LXNlbnRyeS1yYXRlLWxpbWl0cyc6IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdYLVNlbnRyeS1SYXRlLUxpbWl0cycpLFxuICAgICAgICAgICAgICAgICAgICAncmV0cnktYWZ0ZXInOiByZXNwb25zZS5oZWFkZXJzLmdldCgnUmV0cnktQWZ0ZXInKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzLl9oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RUeXBlOiBzZW50cnlSZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0OiByZWplY3QsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmV0Y2hUcmFuc3BvcnQ7XG59KEJhc2VUcmFuc3BvcnQpKTtcbmV4cG9ydCB7IEZldGNoVHJhbnNwb3J0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mZXRjaC5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGV2ZW50VG9TZW50cnlSZXF1ZXN0LCBzZXNzaW9uVG9TZW50cnlSZXF1ZXN0IH0gZnJvbSAnQHNlbnRyeS9jb3JlJztcbmltcG9ydCB7IFN5bmNQcm9taXNlIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBCYXNlVHJhbnNwb3J0IH0gZnJvbSAnLi9iYXNlJztcbi8qKiBgWEhSYCBiYXNlZCB0cmFuc3BvcnQgKi9cbnZhciBYSFJUcmFuc3BvcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFhIUlRyYW5zcG9ydCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBYSFJUcmFuc3BvcnQoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBYSFJUcmFuc3BvcnQucHJvdG90eXBlLnNlbmRFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZFJlcXVlc3QoZXZlbnRUb1NlbnRyeVJlcXVlc3QoZXZlbnQsIHRoaXMuX2FwaSksIGV2ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgWEhSVHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kU2Vzc2lvbiA9IGZ1bmN0aW9uIChzZXNzaW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kUmVxdWVzdChzZXNzaW9uVG9TZW50cnlSZXF1ZXN0KHNlc3Npb24sIHRoaXMuX2FwaSksIHNlc3Npb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNlbnRyeVJlcXVlc3QgUHJlcGFyZWQgU2VudHJ5UmVxdWVzdCB0byBiZSBkZWxpdmVyZWRcbiAgICAgKiBAcGFyYW0gb3JpZ2luYWxQYXlsb2FkIE9yaWdpbmFsIHBheWxvYWQgdXNlZCB0byBjcmVhdGUgU2VudHJ5UmVxdWVzdFxuICAgICAqL1xuICAgIFhIUlRyYW5zcG9ydC5wcm90b3R5cGUuX3NlbmRSZXF1ZXN0ID0gZnVuY3Rpb24gKHNlbnRyeVJlcXVlc3QsIG9yaWdpbmFsUGF5bG9hZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5faXNSYXRlTGltaXRlZChzZW50cnlSZXF1ZXN0LnR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe1xuICAgICAgICAgICAgICAgIGV2ZW50OiBvcmlnaW5hbFBheWxvYWQsXG4gICAgICAgICAgICAgICAgdHlwZTogc2VudHJ5UmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogXCJUcmFuc3BvcnQgbG9ja2VkIHRpbGwgXCIgKyB0aGlzLl9kaXNhYmxlZFVudGlsKHNlbnRyeVJlcXVlc3QudHlwZSkgKyBcIiBkdWUgdG8gdG9vIG1hbnkgcmVxdWVzdHMuXCIsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiA0MjksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmFkZChuZXcgU3luY1Byb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAneC1zZW50cnktcmF0ZS1saW1pdHMnOiByZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyKCdYLVNlbnRyeS1SYXRlLUxpbWl0cycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3JldHJ5LWFmdGVyJzogcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcignUmV0cnktQWZ0ZXInKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2hhbmRsZVJlc3BvbnNlKHsgcmVxdWVzdFR5cGU6IHNlbnRyeVJlcXVlc3QudHlwZSwgcmVzcG9uc2U6IHJlcXVlc3QsIGhlYWRlcnM6IGhlYWRlcnMsIHJlc29sdmU6IHJlc29sdmUsIHJlamVjdDogcmVqZWN0IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCBzZW50cnlSZXF1ZXN0LnVybCk7XG4gICAgICAgICAgICBmb3IgKHZhciBoZWFkZXIgaW4gX3RoaXMub3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShoZWFkZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihoZWFkZXIsIF90aGlzLm9wdGlvbnMuaGVhZGVyc1toZWFkZXJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoc2VudHJ5UmVxdWVzdC5ib2R5KTtcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFhIUlRyYW5zcG9ydDtcbn0oQmFzZVRyYW5zcG9ydCkpO1xuZXhwb3J0IHsgWEhSVHJhbnNwb3J0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD14aHIuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQmFzZUJhY2tlbmQgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgU2V2ZXJpdHkgfSBmcm9tICdAc2VudHJ5L3R5cGVzJztcbmltcG9ydCB7IHN1cHBvcnRzRmV0Y2ggfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IGV2ZW50RnJvbUV4Y2VwdGlvbiwgZXZlbnRGcm9tTWVzc2FnZSB9IGZyb20gJy4vZXZlbnRidWlsZGVyJztcbmltcG9ydCB7IEZldGNoVHJhbnNwb3J0LCBYSFJUcmFuc3BvcnQgfSBmcm9tICcuL3RyYW5zcG9ydHMnO1xuLyoqXG4gKiBUaGUgU2VudHJ5IEJyb3dzZXIgU0RLIEJhY2tlbmQuXG4gKiBAaGlkZGVuXG4gKi9cbnZhciBCcm93c2VyQmFja2VuZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnJvd3NlckJhY2tlbmQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQnJvd3NlckJhY2tlbmQoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBCcm93c2VyQmFja2VuZC5wcm90b3R5cGUuZXZlbnRGcm9tRXhjZXB0aW9uID0gZnVuY3Rpb24gKGV4Y2VwdGlvbiwgaGludCkge1xuICAgICAgICByZXR1cm4gZXZlbnRGcm9tRXhjZXB0aW9uKHRoaXMuX29wdGlvbnMsIGV4Y2VwdGlvbiwgaGludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJyb3dzZXJCYWNrZW5kLnByb3RvdHlwZS5ldmVudEZyb21NZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGxldmVsLCBoaW50KSB7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gdm9pZCAwKSB7IGxldmVsID0gU2V2ZXJpdHkuSW5mbzsgfVxuICAgICAgICByZXR1cm4gZXZlbnRGcm9tTWVzc2FnZSh0aGlzLl9vcHRpb25zLCBtZXNzYWdlLCBsZXZlbCwgaGludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJyb3dzZXJCYWNrZW5kLnByb3RvdHlwZS5fc2V0dXBUcmFuc3BvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5kc24pIHtcbiAgICAgICAgICAgIC8vIFdlIHJldHVybiB0aGUgbm9vcCB0cmFuc3BvcnQgaGVyZSBpbiBjYXNlIHRoZXJlIGlzIG5vIERzbi5cbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl9zZXR1cFRyYW5zcG9ydC5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmFuc3BvcnRPcHRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX29wdGlvbnMudHJhbnNwb3J0T3B0aW9ucyksIHsgZHNuOiB0aGlzLl9vcHRpb25zLmRzbiwgX21ldGFkYXRhOiB0aGlzLl9vcHRpb25zLl9tZXRhZGF0YSB9KTtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuX29wdGlvbnMudHJhbnNwb3J0KHRyYW5zcG9ydE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXBwb3J0c0ZldGNoKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmV0Y2hUcmFuc3BvcnQodHJhbnNwb3J0T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBYSFJUcmFuc3BvcnQodHJhbnNwb3J0T3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4gQnJvd3NlckJhY2tlbmQ7XG59KEJhc2VCYWNrZW5kKSk7XG5leHBvcnQgeyBCcm93c2VyQmFja2VuZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFja2VuZC5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQVBJLCBjYXB0dXJlRXhjZXB0aW9uLCB3aXRoU2NvcGUgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgYWRkRXhjZXB0aW9uTWVjaGFuaXNtLCBhZGRFeGNlcHRpb25UeXBlVmFsdWUsIGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xudmFyIGlnbm9yZU9uRXJyb3IgPSAwO1xuLyoqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRJZ25vcmVPbkVycm9yKCkge1xuICAgIHJldHVybiBpZ25vcmVPbkVycm9yID4gMDtcbn1cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gaWdub3JlTmV4dE9uRXJyb3IoKSB7XG4gICAgLy8gb25lcnJvciBzaG91bGQgdHJpZ2dlciBiZWZvcmUgc2V0VGltZW91dFxuICAgIGlnbm9yZU9uRXJyb3IgKz0gMTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWdub3JlT25FcnJvciAtPSAxO1xuICAgIH0pO1xufVxuLyoqXG4gKiBJbnN0cnVtZW50cyB0aGUgZ2l2ZW4gZnVuY3Rpb24gYW5kIHNlbmRzIGFuIGV2ZW50IHRvIFNlbnRyeSBldmVyeSB0aW1lIHRoZVxuICogZnVuY3Rpb24gdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAqXG4gKiBAcGFyYW0gZm4gQSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHJldHVybnMgVGhlIHdyYXBwZWQgZnVuY3Rpb24uXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3cmFwKGZuLCBvcHRpb25zLCBiZWZvcmUpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGZuO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyBXZSBkb24ndCB3YW5uYSB3cmFwIGl0IHR3aWNlXG4gICAgICAgIGlmIChmbi5fX3NlbnRyeV9fKSB7XG4gICAgICAgICAgICByZXR1cm4gZm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhpcyBoYXMgYWxyZWFkeSBiZWVuIHdyYXBwZWQgaW4gdGhlIHBhc3QsIHJldHVybiB0aGF0IHdyYXBwZWQgZnVuY3Rpb25cbiAgICAgICAgaWYgKGZuLl9fc2VudHJ5X3dyYXBwZWRfXykge1xuICAgICAgICAgICAgcmV0dXJuIGZuLl9fc2VudHJ5X3dyYXBwZWRfXztcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBKdXN0IGFjY2Vzc2luZyBjdXN0b20gcHJvcHMgaW4gc29tZSBTZWxlbml1bSBlbnZpcm9ubWVudHNcbiAgICAgICAgLy8gY2FuIGNhdXNlIGEgXCJQZXJtaXNzaW9uIGRlbmllZFwiIGV4Y2VwdGlvbiAoc2VlIHJhdmVuLWpzIzQ5NSkuXG4gICAgICAgIC8vIEJhaWwgb24gd3JhcHBpbmcgYW5kIHJldHVybiB0aGUgZnVuY3Rpb24gYXMtaXMgKGRlZmVycyB0byB3aW5kb3cub25lcnJvcikuXG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gICAgLyogZXNsaW50LWRpc2FibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICB2YXIgc2VudHJ5V3JhcHBlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGJlZm9yZSAmJiB0eXBlb2YgYmVmb3JlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgYmVmb3JlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgICAgICB2YXIgd3JhcHBlZEFyZ3VtZW50cyA9IGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIHdyYXAoYXJnLCBvcHRpb25zKTsgfSk7XG4gICAgICAgICAgICBpZiAoZm4uaGFuZGxlRXZlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHRvIGludm9rZSB1c2VyLWxhbmQgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAvLyBOT1RFOiBJZiB5b3UgYXJlIGEgU2VudHJ5IHVzZXIsIGFuZCB5b3UgYXJlIHNlZWluZyB0aGlzIHN0YWNrIGZyYW1lLCBpdFxuICAgICAgICAgICAgICAgIC8vICAgICAgIG1lYW5zIHRoZSBzZW50cnkuamF2YXNjcmlwdCBTREsgY2F1Z2h0IGFuIGVycm9yIGludm9raW5nIHlvdXIgYXBwbGljYXRpb24gY29kZS4gVGhpc1xuICAgICAgICAgICAgICAgIC8vICAgICAgIGlzIGV4cGVjdGVkIGJlaGF2aW9yIGFuZCBOT1QgaW5kaWNhdGl2ZSBvZiBhIGJ1ZyB3aXRoIHNlbnRyeS5qYXZhc2NyaXB0LlxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICAgICAgICByZXR1cm4gZm4uaGFuZGxlRXZlbnQuYXBwbHkodGhpcywgd3JhcHBlZEFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBdHRlbXB0IHRvIGludm9rZSB1c2VyLWxhbmQgZnVuY3Rpb25cbiAgICAgICAgICAgIC8vIE5PVEU6IElmIHlvdSBhcmUgYSBTZW50cnkgdXNlciwgYW5kIHlvdSBhcmUgc2VlaW5nIHRoaXMgc3RhY2sgZnJhbWUsIGl0XG4gICAgICAgICAgICAvLyAgICAgICBtZWFucyB0aGUgc2VudHJ5LmphdmFzY3JpcHQgU0RLIGNhdWdodCBhbiBlcnJvciBpbnZva2luZyB5b3VyIGFwcGxpY2F0aW9uIGNvZGUuIFRoaXNcbiAgICAgICAgICAgIC8vICAgICAgIGlzIGV4cGVjdGVkIGJlaGF2aW9yIGFuZCBOT1QgaW5kaWNhdGl2ZSBvZiBhIGJ1ZyB3aXRoIHNlbnRyeS5qYXZhc2NyaXB0LlxuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIHdyYXBwZWRBcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChleCkge1xuICAgICAgICAgICAgaWdub3JlTmV4dE9uRXJyb3IoKTtcbiAgICAgICAgICAgIHdpdGhTY29wZShmdW5jdGlvbiAoc2NvcGUpIHtcbiAgICAgICAgICAgICAgICBzY29wZS5hZGRFdmVudFByb2Nlc3NvcihmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2Nlc3NlZEV2ZW50ID0gX19hc3NpZ24oe30sIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubWVjaGFuaXNtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRFeGNlcHRpb25UeXBlVmFsdWUocHJvY2Vzc2VkRXZlbnQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEV4Y2VwdGlvbk1lY2hhbmlzbShwcm9jZXNzZWRFdmVudCwgb3B0aW9ucy5tZWNoYW5pc20pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NlZEV2ZW50LmV4dHJhID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHByb2Nlc3NlZEV2ZW50LmV4dHJhKSwgeyBhcmd1bWVudHM6IGFyZ3MgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzZWRFdmVudDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjYXB0dXJlRXhjZXB0aW9uKGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qIGVzbGludC1lbmFibGUgcHJlZmVyLXJlc3QtcGFyYW1zICovXG4gICAgLy8gQWNjZXNzaW5nIHNvbWUgb2JqZWN0cyBtYXkgdGhyb3dcbiAgICAvLyByZWY6IGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvc2VudHJ5LWphdmFzY3JpcHQvaXNzdWVzLzExNjhcbiAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBmbikge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChmbiwgcHJvcGVydHkpKSB7XG4gICAgICAgICAgICAgICAgc2VudHJ5V3JhcHBlZFtwcm9wZXJ0eV0gPSBmbltwcm9wZXJ0eV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKF9vTykgeyB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcbiAgICBmbi5wcm90b3R5cGUgPSBmbi5wcm90b3R5cGUgfHwge307XG4gICAgc2VudHJ5V3JhcHBlZC5wcm90b3R5cGUgPSBmbi5wcm90b3R5cGU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGZuLCAnX19zZW50cnlfd3JhcHBlZF9fJywge1xuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IHNlbnRyeVdyYXBwZWQsXG4gICAgfSk7XG4gICAgLy8gU2lnbmFsIHRoYXQgdGhpcyBmdW5jdGlvbiBoYXMgYmVlbiB3cmFwcGVkL2ZpbGxlZCBhbHJlYWR5XG4gICAgLy8gZm9yIGJvdGggZGVidWdnaW5nIGFuZCB0byBwcmV2ZW50IGl0IHRvIGJlaW5nIHdyYXBwZWQvZmlsbGVkIHR3aWNlXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoc2VudHJ5V3JhcHBlZCwge1xuICAgICAgICBfX3NlbnRyeV9fOiB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBfX3NlbnRyeV9vcmlnaW5hbF9fOiB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlOiBmbixcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICAvLyBSZXN0b3JlIG9yaWdpbmFsIGZ1bmN0aW9uIG5hbWUgKG5vdCBhbGwgYnJvd3NlcnMgYWxsb3cgdGhhdClcbiAgICB0cnkge1xuICAgICAgICB2YXIgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc2VudHJ5V3JhcHBlZCwgJ25hbWUnKTtcbiAgICAgICAgaWYgKGRlc2NyaXB0b3IuY29uZmlndXJhYmxlKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VudHJ5V3JhcHBlZCwgJ25hbWUnLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbi5uYW1lO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgICB9XG4gICAgY2F0Y2ggKF9vTykgeyB9XG4gICAgcmV0dXJuIHNlbnRyeVdyYXBwZWQ7XG59XG4vKipcbiAqIEluamVjdHMgdGhlIFJlcG9ydCBEaWFsb2cgc2NyaXB0XG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RSZXBvcnREaWFsb2cob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgaWYgKCFvcHRpb25zLmV2ZW50SWQpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiTWlzc2luZyBldmVudElkIG9wdGlvbiBpbiBzaG93UmVwb3J0RGlhbG9nIGNhbGxcIik7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmRzbikge1xuICAgICAgICBsb2dnZXIuZXJyb3IoXCJNaXNzaW5nIGRzbiBvcHRpb24gaW4gc2hvd1JlcG9ydERpYWxvZyBjYWxsXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAgIHNjcmlwdC5zcmMgPSBuZXcgQVBJKG9wdGlvbnMuZHNuKS5nZXRSZXBvcnREaWFsb2dFbmRwb2ludChvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5vbkxvYWQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgICBzY3JpcHQub25sb2FkID0gb3B0aW9ucy5vbkxvYWQ7XG4gICAgfVxuICAgIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkpLmFwcGVuZENoaWxkKHNjcmlwdCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1oZWxwZXJzLmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduLCBfX3JlYWQsIF9fc3ByZWFkIH0gZnJvbSBcInRzbGliXCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MgKi9cbi8qIGVzbGludC1kaXNhYmxlIG1heC1saW5lcyAqL1xuaW1wb3J0IHsgZ2V0Q3VycmVudEh1YiB9IGZyb20gJ0BzZW50cnkvY29yZSc7XG5pbXBvcnQgeyBTZXZlcml0eSB9IGZyb20gJ0BzZW50cnkvdHlwZXMnO1xuaW1wb3J0IHsgYWRkSW5zdHJ1bWVudGF0aW9uSGFuZGxlciwgZ2V0RXZlbnREZXNjcmlwdGlvbiwgZ2V0R2xvYmFsT2JqZWN0LCBodG1sVHJlZUFzU3RyaW5nLCBwYXJzZVVybCwgc2FmZUpvaW4sIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG4vKipcbiAqIERlZmF1bHQgQnJlYWRjcnVtYnMgaW5zdHJ1bWVudGF0aW9uc1xuICogVE9ETzogRGVwcmVjYXRlZCAtIHdpdGggdjYsIHRoaXMgd2lsbCBiZSByZW5hbWVkIHRvIGBJbnN0cnVtZW50YFxuICovXG52YXIgQnJlYWRjcnVtYnMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCcmVhZGNydW1icyhvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW5oZXJpdERvY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYW1lID0gQnJlYWRjcnVtYnMuaWQ7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBfX2Fzc2lnbih7IGNvbnNvbGU6IHRydWUsIGRvbTogdHJ1ZSwgZmV0Y2g6IHRydWUsIGhpc3Rvcnk6IHRydWUsIHNlbnRyeTogdHJ1ZSwgeGhyOiB0cnVlIH0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBicmVhZGNydW1iIG9mIGBzZW50cnlgIGZyb20gdGhlIGV2ZW50cyB0aGVtc2VsdmVzXG4gICAgICovXG4gICAgQnJlYWRjcnVtYnMucHJvdG90eXBlLmFkZFNlbnRyeUJyZWFkY3J1bWIgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vcHRpb25zLnNlbnRyeSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdldEN1cnJlbnRIdWIoKS5hZGRCcmVhZGNydW1iKHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcInNlbnRyeS5cIiArIChldmVudC50eXBlID09PSAndHJhbnNhY3Rpb24nID8gJ3RyYW5zYWN0aW9uJyA6ICdldmVudCcpLFxuICAgICAgICAgICAgZXZlbnRfaWQ6IGV2ZW50LmV2ZW50X2lkLFxuICAgICAgICAgICAgbGV2ZWw6IGV2ZW50LmxldmVsLFxuICAgICAgICAgICAgbWVzc2FnZTogZ2V0RXZlbnREZXNjcmlwdGlvbihldmVudCksXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbnN0cnVtZW50IGJyb3dzZXIgYnVpbHQtaW5zIHcvIGJyZWFkY3J1bWIgY2FwdHVyaW5nXG4gICAgICogIC0gQ29uc29sZSBBUElcbiAgICAgKiAgLSBET00gQVBJIChjbGljay90eXBpbmcpXG4gICAgICogIC0gWE1MSHR0cFJlcXVlc3QgQVBJXG4gICAgICogIC0gRmV0Y2ggQVBJXG4gICAgICogIC0gSGlzdG9yeSBBUElcbiAgICAgKi9cbiAgICBCcmVhZGNydW1icy5wcm90b3R5cGUuc2V0dXBPbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5jb25zb2xlKSB7XG4gICAgICAgICAgICBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyKHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9jb25zb2xlQnJlYWRjcnVtYi5hcHBseShfdGhpcywgX19zcHJlYWQoYXJncykpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ2NvbnNvbGUnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuZG9tKSB7XG4gICAgICAgICAgICBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyKHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9kb21CcmVhZGNydW1iLmFwcGx5KF90aGlzLCBfX3NwcmVhZChhcmdzKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZG9tJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnhocikge1xuICAgICAgICAgICAgYWRkSW5zdHJ1bWVudGF0aW9uSGFuZGxlcih7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5feGhyQnJlYWRjcnVtYi5hcHBseShfdGhpcywgX19zcHJlYWQoYXJncykpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ3hocicsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5mZXRjaCkge1xuICAgICAgICAgICAgYWRkSW5zdHJ1bWVudGF0aW9uSGFuZGxlcih7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZmV0Y2hCcmVhZGNydW1iLmFwcGx5KF90aGlzLCBfX3NwcmVhZChhcmdzKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmV0Y2gnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuaGlzdG9yeSkge1xuICAgICAgICAgICAgYWRkSW5zdHJ1bWVudGF0aW9uSGFuZGxlcih7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5faGlzdG9yeUJyZWFkY3J1bWIuYXBwbHkoX3RoaXMsIF9fc3ByZWFkKGFyZ3MpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGU6ICdoaXN0b3J5JyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGJyZWFkY3J1bWJzIGZyb20gY29uc29sZSBBUEkgY2FsbHNcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIEJyZWFkY3J1bWJzLnByb3RvdHlwZS5fY29uc29sZUJyZWFkY3J1bWIgPSBmdW5jdGlvbiAoaGFuZGxlckRhdGEpIHtcbiAgICAgICAgdmFyIGJyZWFkY3J1bWIgPSB7XG4gICAgICAgICAgICBjYXRlZ29yeTogJ2NvbnNvbGUnLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGFyZ3VtZW50czogaGFuZGxlckRhdGEuYXJncyxcbiAgICAgICAgICAgICAgICBsb2dnZXI6ICdjb25zb2xlJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsZXZlbDogU2V2ZXJpdHkuZnJvbVN0cmluZyhoYW5kbGVyRGF0YS5sZXZlbCksXG4gICAgICAgICAgICBtZXNzYWdlOiBzYWZlSm9pbihoYW5kbGVyRGF0YS5hcmdzLCAnICcpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoaGFuZGxlckRhdGEubGV2ZWwgPT09ICdhc3NlcnQnKSB7XG4gICAgICAgICAgICBpZiAoaGFuZGxlckRhdGEuYXJnc1swXSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBicmVhZGNydW1iLm1lc3NhZ2UgPSBcIkFzc2VydGlvbiBmYWlsZWQ6IFwiICsgKHNhZmVKb2luKGhhbmRsZXJEYXRhLmFyZ3Muc2xpY2UoMSksICcgJykgfHwgJ2NvbnNvbGUuYXNzZXJ0Jyk7XG4gICAgICAgICAgICAgICAgYnJlYWRjcnVtYi5kYXRhLmFyZ3VtZW50cyA9IGhhbmRsZXJEYXRhLmFyZ3Muc2xpY2UoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBjYXB0dXJlIGEgYnJlYWRjcnVtYiBmb3IgcGFzc2VkIGFzc2VydGlvbnNcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2V0Q3VycmVudEh1YigpLmFkZEJyZWFkY3J1bWIoYnJlYWRjcnVtYiwge1xuICAgICAgICAgICAgaW5wdXQ6IGhhbmRsZXJEYXRhLmFyZ3MsXG4gICAgICAgICAgICBsZXZlbDogaGFuZGxlckRhdGEubGV2ZWwsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBicmVhZGNydW1icyBmcm9tIERPTSBBUEkgY2FsbHNcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIEJyZWFkY3J1bWJzLnByb3RvdHlwZS5fZG9tQnJlYWRjcnVtYiA9IGZ1bmN0aW9uIChoYW5kbGVyRGF0YSkge1xuICAgICAgICB2YXIgdGFyZ2V0O1xuICAgICAgICAvLyBBY2Nlc3NpbmcgZXZlbnQudGFyZ2V0IGNhbiB0aHJvdyAoc2VlIGdldHNlbnRyeS9yYXZlbi1qcyM4MzgsICM3NjgpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0YXJnZXQgPSBoYW5kbGVyRGF0YS5ldmVudC50YXJnZXRcbiAgICAgICAgICAgICAgICA/IGh0bWxUcmVlQXNTdHJpbmcoaGFuZGxlckRhdGEuZXZlbnQudGFyZ2V0KVxuICAgICAgICAgICAgICAgIDogaHRtbFRyZWVBc1N0cmluZyhoYW5kbGVyRGF0YS5ldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRhcmdldCA9ICc8dW5rbm93bj4nO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0YXJnZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ2V0Q3VycmVudEh1YigpLmFkZEJyZWFkY3J1bWIoe1xuICAgICAgICAgICAgY2F0ZWdvcnk6IFwidWkuXCIgKyBoYW5kbGVyRGF0YS5uYW1lLFxuICAgICAgICAgICAgbWVzc2FnZTogdGFyZ2V0LFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBldmVudDogaGFuZGxlckRhdGEuZXZlbnQsXG4gICAgICAgICAgICBuYW1lOiBoYW5kbGVyRGF0YS5uYW1lLFxuICAgICAgICAgICAgZ2xvYmFsOiBoYW5kbGVyRGF0YS5nbG9iYWwsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBicmVhZGNydW1icyBmcm9tIFhIUiBBUEkgY2FsbHNcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIEJyZWFkY3J1bWJzLnByb3RvdHlwZS5feGhyQnJlYWRjcnVtYiA9IGZ1bmN0aW9uIChoYW5kbGVyRGF0YSkge1xuICAgICAgICBpZiAoaGFuZGxlckRhdGEuZW5kVGltZXN0YW1wKSB7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGNhcHR1cmUgY29tcGxldGUsIG5vbi1zZW50cnkgcmVxdWVzdHNcbiAgICAgICAgICAgIGlmIChoYW5kbGVyRGF0YS54aHIuX19zZW50cnlfb3duX3JlcXVlc3RfXykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBfYSA9IGhhbmRsZXJEYXRhLnhoci5fX3NlbnRyeV94aHJfXyB8fCB7fSwgbWV0aG9kID0gX2EubWV0aG9kLCB1cmwgPSBfYS51cmwsIHN0YXR1c19jb2RlID0gX2Euc3RhdHVzX2NvZGUsIGJvZHkgPSBfYS5ib2R5O1xuICAgICAgICAgICAgZ2V0Q3VycmVudEh1YigpLmFkZEJyZWFkY3J1bWIoe1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAneGhyJyxcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzX2NvZGU6IHN0YXR1c19jb2RlLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ2h0dHAnLFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHhocjogaGFuZGxlckRhdGEueGhyLFxuICAgICAgICAgICAgICAgIGlucHV0OiBib2R5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYnJlYWRjcnVtYnMgZnJvbSBmZXRjaCBBUEkgY2FsbHNcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIEJyZWFkY3J1bWJzLnByb3RvdHlwZS5fZmV0Y2hCcmVhZGNydW1iID0gZnVuY3Rpb24gKGhhbmRsZXJEYXRhKSB7XG4gICAgICAgIC8vIFdlIG9ubHkgY2FwdHVyZSBjb21wbGV0ZSBmZXRjaCByZXF1ZXN0c1xuICAgICAgICBpZiAoIWhhbmRsZXJEYXRhLmVuZFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYW5kbGVyRGF0YS5mZXRjaERhdGEudXJsLm1hdGNoKC9zZW50cnlfa2V5LykgJiYgaGFuZGxlckRhdGEuZmV0Y2hEYXRhLm1ldGhvZCA9PT0gJ1BPU1QnKSB7XG4gICAgICAgICAgICAvLyBXZSB3aWxsIG5vdCBjcmVhdGUgYnJlYWRjcnVtYnMgZm9yIGZldGNoIHJlcXVlc3RzIHRoYXQgY29udGFpbiBgc2VudHJ5X2tleWAgKGludGVybmFsIHNlbnRyeSByZXF1ZXN0cylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlckRhdGEuZXJyb3IpIHtcbiAgICAgICAgICAgIGdldEN1cnJlbnRIdWIoKS5hZGRCcmVhZGNydW1iKHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2ZldGNoJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBoYW5kbGVyRGF0YS5mZXRjaERhdGEsXG4gICAgICAgICAgICAgICAgbGV2ZWw6IFNldmVyaXR5LkVycm9yLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdodHRwJyxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBoYW5kbGVyRGF0YS5lcnJvcixcbiAgICAgICAgICAgICAgICBpbnB1dDogaGFuZGxlckRhdGEuYXJncyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2V0Q3VycmVudEh1YigpLmFkZEJyZWFkY3J1bWIoe1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAnZmV0Y2gnLFxuICAgICAgICAgICAgICAgIGRhdGE6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBoYW5kbGVyRGF0YS5mZXRjaERhdGEpLCB7IHN0YXR1c19jb2RlOiBoYW5kbGVyRGF0YS5yZXNwb25zZS5zdGF0dXMgfSksXG4gICAgICAgICAgICAgICAgdHlwZTogJ2h0dHAnLFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGlucHV0OiBoYW5kbGVyRGF0YS5hcmdzLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlOiBoYW5kbGVyRGF0YS5yZXNwb25zZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGJyZWFkY3J1bWJzIGZyb20gaGlzdG9yeSBBUEkgY2FsbHNcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIEJyZWFkY3J1bWJzLnByb3RvdHlwZS5faGlzdG9yeUJyZWFkY3J1bWIgPSBmdW5jdGlvbiAoaGFuZGxlckRhdGEpIHtcbiAgICAgICAgdmFyIGdsb2JhbCA9IGdldEdsb2JhbE9iamVjdCgpO1xuICAgICAgICB2YXIgZnJvbSA9IGhhbmRsZXJEYXRhLmZyb207XG4gICAgICAgIHZhciB0byA9IGhhbmRsZXJEYXRhLnRvO1xuICAgICAgICB2YXIgcGFyc2VkTG9jID0gcGFyc2VVcmwoZ2xvYmFsLmxvY2F0aW9uLmhyZWYpO1xuICAgICAgICB2YXIgcGFyc2VkRnJvbSA9IHBhcnNlVXJsKGZyb20pO1xuICAgICAgICB2YXIgcGFyc2VkVG8gPSBwYXJzZVVybCh0byk7XG4gICAgICAgIC8vIEluaXRpYWwgcHVzaFN0YXRlIGRvZXNuJ3QgcHJvdmlkZSBgZnJvbWAgaW5mb3JtYXRpb25cbiAgICAgICAgaWYgKCFwYXJzZWRGcm9tLnBhdGgpIHtcbiAgICAgICAgICAgIHBhcnNlZEZyb20gPSBwYXJzZWRMb2M7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXNlIG9ubHkgdGhlIHBhdGggY29tcG9uZW50IG9mIHRoZSBVUkwgaWYgdGhlIFVSTCBtYXRjaGVzIHRoZSBjdXJyZW50XG4gICAgICAgIC8vIGRvY3VtZW50IChhbG1vc3QgYWxsIHRoZSB0aW1lIHdoZW4gdXNpbmcgcHVzaFN0YXRlKVxuICAgICAgICBpZiAocGFyc2VkTG9jLnByb3RvY29sID09PSBwYXJzZWRUby5wcm90b2NvbCAmJiBwYXJzZWRMb2MuaG9zdCA9PT0gcGFyc2VkVG8uaG9zdCkge1xuICAgICAgICAgICAgdG8gPSBwYXJzZWRUby5yZWxhdGl2ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkTG9jLnByb3RvY29sID09PSBwYXJzZWRGcm9tLnByb3RvY29sICYmIHBhcnNlZExvYy5ob3N0ID09PSBwYXJzZWRGcm9tLmhvc3QpIHtcbiAgICAgICAgICAgIGZyb20gPSBwYXJzZWRGcm9tLnJlbGF0aXZlO1xuICAgICAgICB9XG4gICAgICAgIGdldEN1cnJlbnRIdWIoKS5hZGRCcmVhZGNydW1iKHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiAnbmF2aWdhdGlvbicsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgICAgICAgICB0bzogdG8sXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQnJlYWRjcnVtYnMuaWQgPSAnQnJlYWRjcnVtYnMnO1xuICAgIHJldHVybiBCcmVhZGNydW1icztcbn0oKSk7XG5leHBvcnQgeyBCcmVhZGNydW1icyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJlYWRjcnVtYnMuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQmFzZUNsaWVudCB9IGZyb20gJ0BzZW50cnkvY29yZSc7XG5pbXBvcnQgeyBnZXRHbG9iYWxPYmplY3QsIGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgQnJvd3NlckJhY2tlbmQgfSBmcm9tICcuL2JhY2tlbmQnO1xuaW1wb3J0IHsgaW5qZWN0UmVwb3J0RGlhbG9nIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IEJyZWFkY3J1bWJzIH0gZnJvbSAnLi9pbnRlZ3JhdGlvbnMnO1xuLyoqXG4gKiBUaGUgU2VudHJ5IEJyb3dzZXIgU0RLIENsaWVudC5cbiAqXG4gKiBAc2VlIEJyb3dzZXJPcHRpb25zIGZvciBkb2N1bWVudGF0aW9uIG9uIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAqIEBzZWUgU2VudHJ5Q2xpZW50IGZvciB1c2FnZSBkb2N1bWVudGF0aW9uLlxuICovXG52YXIgQnJvd3NlckNsaWVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnJvd3NlckNsaWVudCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IEJyb3dzZXIgU0RLIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGlzIFNESy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCcm93c2VyQ2xpZW50KG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMsIEJyb3dzZXJCYWNrZW5kLCBvcHRpb25zKSB8fCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaG93IGEgcmVwb3J0IGRpYWxvZyB0byB0aGUgdXNlciB0byBzZW5kIGZlZWRiYWNrIHRvIGEgc3BlY2lmaWMgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBTZXQgaW5kaXZpZHVhbCBvcHRpb25zIGZvciB0aGUgZGlhbG9nXG4gICAgICovXG4gICAgQnJvd3NlckNsaWVudC5wcm90b3R5cGUuc2hvd1JlcG9ydERpYWxvZyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8vIGRvZXNuJ3Qgd29yayB3aXRob3V0IGEgZG9jdW1lbnQgKFJlYWN0IE5hdGl2ZSlcbiAgICAgICAgdmFyIGRvY3VtZW50ID0gZ2V0R2xvYmFsT2JqZWN0KCkuZG9jdW1lbnQ7XG4gICAgICAgIGlmICghZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2lzRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ1RyeWluZyB0byBjYWxsIHNob3dSZXBvcnREaWFsb2cgd2l0aCBTZW50cnkgQ2xpZW50IGRpc2FibGVkJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaW5qZWN0UmVwb3J0RGlhbG9nKF9fYXNzaWduKF9fYXNzaWduKHt9LCBvcHRpb25zKSwgeyBkc246IG9wdGlvbnMuZHNuIHx8IHRoaXMuZ2V0RHNuKCkgfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBCcm93c2VyQ2xpZW50LnByb3RvdHlwZS5fcHJlcGFyZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBzY29wZSwgaGludCkge1xuICAgICAgICBldmVudC5wbGF0Zm9ybSA9IGV2ZW50LnBsYXRmb3JtIHx8ICdqYXZhc2NyaXB0JztcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuX3ByZXBhcmVFdmVudC5jYWxsKHRoaXMsIGV2ZW50LCBzY29wZSwgaGludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJyb3dzZXJDbGllbnQucHJvdG90eXBlLl9zZW5kRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGludGVncmF0aW9uID0gdGhpcy5nZXRJbnRlZ3JhdGlvbihCcmVhZGNydW1icyk7XG4gICAgICAgIGlmIChpbnRlZ3JhdGlvbikge1xuICAgICAgICAgICAgaW50ZWdyYXRpb24uYWRkU2VudHJ5QnJlYWRjcnVtYihldmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fc2VuZEV2ZW50LmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG4gICAgcmV0dXJuIEJyb3dzZXJDbGllbnQ7XG59KEJhc2VDbGllbnQpKTtcbmV4cG9ydCB7IEJyb3dzZXJDbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaWVudC5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZmlsbCwgZ2V0RnVuY3Rpb25OYW1lLCBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IHdyYXAgfSBmcm9tICcuLi9oZWxwZXJzJztcbnZhciBERUZBVUxUX0VWRU5UX1RBUkdFVCA9IFtcbiAgICAnRXZlbnRUYXJnZXQnLFxuICAgICdXaW5kb3cnLFxuICAgICdOb2RlJyxcbiAgICAnQXBwbGljYXRpb25DYWNoZScsXG4gICAgJ0F1ZGlvVHJhY2tMaXN0JyxcbiAgICAnQ2hhbm5lbE1lcmdlck5vZGUnLFxuICAgICdDcnlwdG9PcGVyYXRpb24nLFxuICAgICdFdmVudFNvdXJjZScsXG4gICAgJ0ZpbGVSZWFkZXInLFxuICAgICdIVE1MVW5rbm93bkVsZW1lbnQnLFxuICAgICdJREJEYXRhYmFzZScsXG4gICAgJ0lEQlJlcXVlc3QnLFxuICAgICdJREJUcmFuc2FjdGlvbicsXG4gICAgJ0tleU9wZXJhdGlvbicsXG4gICAgJ01lZGlhQ29udHJvbGxlcicsXG4gICAgJ01lc3NhZ2VQb3J0JyxcbiAgICAnTW9kYWxXaW5kb3cnLFxuICAgICdOb3RpZmljYXRpb24nLFxuICAgICdTVkdFbGVtZW50SW5zdGFuY2UnLFxuICAgICdTY3JlZW4nLFxuICAgICdUZXh0VHJhY2snLFxuICAgICdUZXh0VHJhY2tDdWUnLFxuICAgICdUZXh0VHJhY2tMaXN0JyxcbiAgICAnV2ViU29ja2V0JyxcbiAgICAnV2ViU29ja2V0V29ya2VyJyxcbiAgICAnV29ya2VyJyxcbiAgICAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICdYTUxIdHRwUmVxdWVzdEV2ZW50VGFyZ2V0JyxcbiAgICAnWE1MSHR0cFJlcXVlc3RVcGxvYWQnLFxuXTtcbi8qKiBXcmFwIHRpbWVyIGZ1bmN0aW9ucyBhbmQgZXZlbnQgdGFyZ2V0cyB0byBjYXRjaCBlcnJvcnMgYW5kIHByb3ZpZGUgYmV0dGVyIG1ldGEgZGF0YSAqL1xudmFyIFRyeUNhdGNoID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgZnVuY3Rpb24gVHJ5Q2F0Y2gob3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGluaGVyaXREb2NcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IFRyeUNhdGNoLmlkO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gX19hc3NpZ24oeyBYTUxIdHRwUmVxdWVzdDogdHJ1ZSwgZXZlbnRUYXJnZXQ6IHRydWUsIHJlcXVlc3RBbmltYXRpb25GcmFtZTogdHJ1ZSwgc2V0SW50ZXJ2YWw6IHRydWUsIHNldFRpbWVvdXQ6IHRydWUgfSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyYXAgdGltZXIgZnVuY3Rpb25zIGFuZCBldmVudCB0YXJnZXRzIHRvIGNhdGNoIGVycm9yc1xuICAgICAqIGFuZCBwcm92aWRlIGJldHRlciBtZXRhZGF0YS5cbiAgICAgKi9cbiAgICBUcnlDYXRjaC5wcm90b3R5cGUuc2V0dXBPbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnNldFRpbWVvdXQpIHtcbiAgICAgICAgICAgIGZpbGwoZ2xvYmFsLCAnc2V0VGltZW91dCcsIHRoaXMuX3dyYXBUaW1lRnVuY3Rpb24uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuc2V0SW50ZXJ2YWwpIHtcbiAgICAgICAgICAgIGZpbGwoZ2xvYmFsLCAnc2V0SW50ZXJ2YWwnLCB0aGlzLl93cmFwVGltZUZ1bmN0aW9uLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgZmlsbChnbG9iYWwsICdyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnLCB0aGlzLl93cmFwUkFGLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLlhNTEh0dHBSZXF1ZXN0ICYmICdYTUxIdHRwUmVxdWVzdCcgaW4gZ2xvYmFsKSB7XG4gICAgICAgICAgICBmaWxsKFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZSwgJ3NlbmQnLCB0aGlzLl93cmFwWEhSLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmV2ZW50VGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnRUYXJnZXQgPSBBcnJheS5pc0FycmF5KHRoaXMuX29wdGlvbnMuZXZlbnRUYXJnZXQpID8gdGhpcy5fb3B0aW9ucy5ldmVudFRhcmdldCA6IERFRkFVTFRfRVZFTlRfVEFSR0VUO1xuICAgICAgICAgICAgZXZlbnRUYXJnZXQuZm9yRWFjaCh0aGlzLl93cmFwRXZlbnRUYXJnZXQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFRyeUNhdGNoLnByb3RvdHlwZS5fd3JhcFRpbWVGdW5jdGlvbiA9IGZ1bmN0aW9uIChvcmlnaW5hbCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsQ2FsbGJhY2sgPSBhcmdzWzBdO1xuICAgICAgICAgICAgYXJnc1swXSA9IHdyYXAob3JpZ2luYWxDYWxsYmFjaywge1xuICAgICAgICAgICAgICAgIG1lY2hhbmlzbToge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IGZ1bmN0aW9uOiBnZXRGdW5jdGlvbk5hbWUob3JpZ2luYWwpIH0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbnN0cnVtZW50JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIFRyeUNhdGNoLnByb3RvdHlwZS5fd3JhcFJBRiA9IGZ1bmN0aW9uIChvcmlnaW5hbCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWwuY2FsbCh0aGlzLCB3cmFwKGNhbGxiYWNrLCB7XG4gICAgICAgICAgICAgICAgbWVjaGFuaXNtOiB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiAncmVxdWVzdEFuaW1hdGlvbkZyYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGdldEZ1bmN0aW9uTmFtZShvcmlnaW5hbCksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbnN0cnVtZW50JyxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgVHJ5Q2F0Y2gucHJvdG90eXBlLl93cmFwRXZlbnRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHZhciBnbG9iYWwgPSBnZXRHbG9iYWxPYmplY3QoKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgICAgICB2YXIgcHJvdG8gPSBnbG9iYWxbdGFyZ2V0XSAmJiBnbG9iYWxbdGFyZ2V0XS5wcm90b3R5cGU7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgaWYgKCFwcm90byB8fCAhcHJvdG8uaGFzT3duUHJvcGVydHkgfHwgIXByb3RvLmhhc093blByb3BlcnR5KCdhZGRFdmVudExpc3RlbmVyJykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmaWxsKHByb3RvLCAnYWRkRXZlbnRMaXN0ZW5lcicsIGZ1bmN0aW9uIChvcmlnaW5hbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudE5hbWUsIGZuLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbi5oYW5kbGVFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm4uaGFuZGxlRXZlbnQgPSB3cmFwKGZuLmhhbmRsZUV2ZW50LmJpbmQoZm4pLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVjaGFuaXNtOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiAnaGFuZGxlRXZlbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZ2V0RnVuY3Rpb25OYW1lKGZuKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5zdHJ1bWVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2FuIHNvbWV0aW1lcyBnZXQgJ1Blcm1pc3Npb24gZGVuaWVkIHRvIGFjY2VzcyBwcm9wZXJ0eSBcImhhbmRsZSBFdmVudCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmNhbGwodGhpcywgZXZlbnROYW1lLCBcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgIHdyYXAoZm4sIHtcbiAgICAgICAgICAgICAgICAgICAgbWVjaGFuaXNtOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb246ICdhZGRFdmVudExpc3RlbmVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBnZXRGdW5jdGlvbk5hbWUoZm4pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5zdHJ1bWVudCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSksIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbGwocHJvdG8sICdyZW1vdmVFdmVudExpc3RlbmVyJywgZnVuY3Rpb24gKG9yaWdpbmFsUmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudE5hbWUsIGZuLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRoZXJlIGFyZSAyIHBvc3NpYmxlIHNjZW5hcmlvcyBoZXJlOlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogMS4gU29tZW9uZSBwYXNzZXMgYSBjYWxsYmFjaywgd2hpY2ggd2FzIGF0dGFjaGVkIHByaW9yIHRvIFNlbnRyeSBpbml0aWFsaXphdGlvbiwgb3IgYnkgdXNpbmcgdW5tb2RpZmllZFxuICAgICAgICAgICAgICAgICAqIG1ldGhvZCwgZWcuIGBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyLmNhbGwoZWwsIG5hbWUsIGhhbmRsZXIpLiBJbiB0aGlzIGNhc2UsIHdlIHRyZWF0IHRoaXMgZnVuY3Rpb25cbiAgICAgICAgICAgICAgICAgKiBhcyBhIHBhc3MtdGhyb3VnaCwgYW5kIGNhbGwgb3JpZ2luYWwgYHJlbW92ZUV2ZW50TGlzdGVuZXJgIHdpdGggaXQuXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiAyLiBTb21lb25lIHBhc3NlcyBhIGNhbGxiYWNrLCB3aGljaCB3YXMgYXR0YWNoZWQgYWZ0ZXIgU2VudHJ5IHdhcyBpbml0aWFsaXplZCwgd2hpY2ggbWVhbnMgdGhhdCBpdCB3YXMgdXNpbmdcbiAgICAgICAgICAgICAgICAgKiBvdXIgd3JhcHBlZCB2ZXJzaW9uIG9mIGBhZGRFdmVudExpc3RlbmVyYCwgd2hpY2ggaW50ZXJuYWxseSBjYWxscyBgd3JhcGAgaGVscGVyLlxuICAgICAgICAgICAgICAgICAqIFRoaXMgaGVscGVyIFwid3JhcHNcIiB3aG9sZSBjYWxsYmFjayBpbnNpZGUgYSB0cnkvY2F0Y2ggc3RhdGVtZW50LCBhbmQgYXR0YWNoZWQgYXBwcm9wcmlhdGUgbWV0YWRhdGEgdG8gaXQsXG4gICAgICAgICAgICAgICAgICogaW4gb3JkZXIgZm9yIHVzIHRvIG1ha2UgYSBkaXN0aW5jdGlvbiBiZXR3ZWVuIHdyYXBwZWQvbm9uLXdyYXBwZWQgZnVuY3Rpb25zIHBvc3NpYmxlLlxuICAgICAgICAgICAgICAgICAqIElmIGEgZnVuY3Rpb24gd2FzIHdyYXBwZWQsIGl0IGhhcyBhZGRpdGlvbmFsIHByb3BlcnR5IG9mIGBfX3NlbnRyeV93cmFwcGVkX19gLCBob2xkaW5nIHRoZSBoYW5kbGVyLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogV2hlbiBzb21lb25lIGFkZHMgYSBoYW5kbGVyIHByaW9yIHRvIGluaXRpYWxpemF0aW9uLCBhbmQgdGhlbiBkbyBpdCBhZ2FpbiwgYnV0IGFmdGVyLFxuICAgICAgICAgICAgICAgICAqIHRoZW4gd2UgaGF2ZSB0byBkZXRhY2ggYm90aCBvZiB0aGVtLiBPdGhlcndpc2UsIGlmIHdlJ2QgZGV0YWNoIG9ubHkgd3JhcHBlZCBvbmUsIGl0J2QgYmUgaW1wb3NzaWJsZVxuICAgICAgICAgICAgICAgICAqIHRvIGdldCByaWQgb2YgdGhlIGluaXRpYWwgaGFuZGxlciBhbmQgaXQnZCBzdGljayB0aGVyZSBmb3JldmVyLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHZhciB3cmFwcGVkRXZlbnRIYW5kbGVyID0gZm47XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsRXZlbnRIYW5kbGVyID0gKF9hID0gd3JhcHBlZEV2ZW50SGFuZGxlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLl9fc2VudHJ5X3dyYXBwZWRfXztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsRXZlbnRIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFJlbW92ZUV2ZW50TGlzdGVuZXIuY2FsbCh0aGlzLCBldmVudE5hbWUsIG9yaWdpbmFsRXZlbnRIYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUsIGFjY2Vzc2luZyBfX3NlbnRyeV93cmFwcGVkX18gd2lsbCB0aHJvdyBpbiBzb21lIFNlbGVuaXVtIGVudmlyb25tZW50c1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxSZW1vdmVFdmVudExpc3RlbmVyLmNhbGwodGhpcywgZXZlbnROYW1lLCB3cmFwcGVkRXZlbnRIYW5kbGVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgVHJ5Q2F0Y2gucHJvdG90eXBlLl93cmFwWEhSID0gZnVuY3Rpb24gKG9yaWdpbmFsU2VuZCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICB2YXIgeGhyID0gdGhpcztcbiAgICAgICAgICAgIHZhciB4bWxIdHRwUmVxdWVzdFByb3BzID0gWydvbmxvYWQnLCAnb25lcnJvcicsICdvbnByb2dyZXNzJywgJ29ucmVhZHlzdGF0ZWNoYW5nZSddO1xuICAgICAgICAgICAgeG1sSHR0cFJlcXVlc3RQcm9wcy5mb3JFYWNoKGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3AgaW4geGhyICYmIHR5cGVvZiB4aHJbcHJvcF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgZmlsbCh4aHIsIHByb3AsIGZ1bmN0aW9uIChvcmlnaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdyYXBPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lY2hhbmlzbToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbjogcHJvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGdldEZ1bmN0aW9uTmFtZShvcmlnaW5hbCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbnN0cnVtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIEluc3RydW1lbnQgaW50ZWdyYXRpb24gaGFzIGJlZW4gY2FsbGVkIGJlZm9yZSBUcnlDYXRjaCwgZ2V0IHRoZSBuYW1lIG9mIG9yaWdpbmFsIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWwuX19zZW50cnlfb3JpZ2luYWxfXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdyYXBPcHRpb25zLm1lY2hhbmlzbS5kYXRhLmhhbmRsZXIgPSBnZXRGdW5jdGlvbk5hbWUob3JpZ2luYWwuX19zZW50cnlfb3JpZ2luYWxfXyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2Ugd3JhcCBkaXJlY3RseVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdyYXAob3JpZ2luYWwsIHdyYXBPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxTZW5kLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBUcnlDYXRjaC5pZCA9ICdUcnlDYXRjaCc7XG4gICAgcmV0dXJuIFRyeUNhdGNoO1xufSgpKTtcbmV4cG9ydCB7IFRyeUNhdGNoIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cnljYXRjaC5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzICovXG5pbXBvcnQgeyBnZXRDdXJyZW50SHViIH0gZnJvbSAnQHNlbnRyeS9jb3JlJztcbmltcG9ydCB7IFNldmVyaXR5IH0gZnJvbSAnQHNlbnRyeS90eXBlcyc7XG5pbXBvcnQgeyBhZGRFeGNlcHRpb25NZWNoYW5pc20sIGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIsIGdldExvY2F0aW9uSHJlZiwgaXNFcnJvckV2ZW50LCBpc1ByaW1pdGl2ZSwgaXNTdHJpbmcsIGxvZ2dlciwgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IGV2ZW50RnJvbVVua25vd25JbnB1dCB9IGZyb20gJy4uL2V2ZW50YnVpbGRlcic7XG5pbXBvcnQgeyBzaG91bGRJZ25vcmVPbkVycm9yIH0gZnJvbSAnLi4vaGVscGVycyc7XG4vKiogR2xvYmFsIGhhbmRsZXJzICovXG52YXIgR2xvYmFsSGFuZGxlcnMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIEpTRG9jICovXG4gICAgZnVuY3Rpb24gR2xvYmFsSGFuZGxlcnMob3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGluaGVyaXREb2NcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IEdsb2JhbEhhbmRsZXJzLmlkO1xuICAgICAgICAvKiogSlNEb2MgKi9cbiAgICAgICAgdGhpcy5fb25FcnJvckhhbmRsZXJJbnN0YWxsZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqIEpTRG9jICovXG4gICAgICAgIHRoaXMuX29uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlckluc3RhbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gX19hc3NpZ24oeyBvbmVycm9yOiB0cnVlLCBvbnVuaGFuZGxlZHJlamVjdGlvbjogdHJ1ZSB9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBHbG9iYWxIYW5kbGVycy5wcm90b3R5cGUuc2V0dXBPbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSA1MDtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMub25lcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnR2xvYmFsIEhhbmRsZXIgYXR0YWNoZWQ6IG9uZXJyb3InKTtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbGxHbG9iYWxPbkVycm9ySGFuZGxlcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9udW5oYW5kbGVkcmVqZWN0aW9uKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdHbG9iYWwgSGFuZGxlciBhdHRhY2hlZDogb251bmhhbmRsZWRyZWplY3Rpb24nKTtcbiAgICAgICAgICAgIHRoaXMuX2luc3RhbGxHbG9iYWxPblVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgR2xvYmFsSGFuZGxlcnMucHJvdG90eXBlLl9pbnN0YWxsR2xvYmFsT25FcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9ySGFuZGxlckluc3RhbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIoe1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IGRhdGEuZXJyb3I7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRIdWIgPSBnZXRDdXJyZW50SHViKCk7XG4gICAgICAgICAgICAgICAgdmFyIGhhc0ludGVncmF0aW9uID0gY3VycmVudEh1Yi5nZXRJbnRlZ3JhdGlvbihHbG9iYWxIYW5kbGVycyk7XG4gICAgICAgICAgICAgICAgdmFyIGlzRmFpbGVkT3duRGVsaXZlcnkgPSBlcnJvciAmJiBlcnJvci5fX3NlbnRyeV9vd25fcmVxdWVzdF9fID09PSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghaGFzSW50ZWdyYXRpb24gfHwgc2hvdWxkSWdub3JlT25FcnJvcigpIHx8IGlzRmFpbGVkT3duRGVsaXZlcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2xpZW50ID0gY3VycmVudEh1Yi5nZXRDbGllbnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBpc1ByaW1pdGl2ZShlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgPyBfdGhpcy5fZXZlbnRGcm9tSW5jb21wbGV0ZU9uRXJyb3IoZGF0YS5tc2csIGRhdGEudXJsLCBkYXRhLmxpbmUsIGRhdGEuY29sdW1uKVxuICAgICAgICAgICAgICAgICAgICA6IF90aGlzLl9lbmhhbmNlRXZlbnRXaXRoSW5pdGlhbEZyYW1lKGV2ZW50RnJvbVVua25vd25JbnB1dChlcnJvciwgdW5kZWZpbmVkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hTdGFja3RyYWNlOiBjbGllbnQgJiYgY2xpZW50LmdldE9wdGlvbnMoKS5hdHRhY2hTdGFja3RyYWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgfSksIGRhdGEudXJsLCBkYXRhLmxpbmUsIGRhdGEuY29sdW1uKTtcbiAgICAgICAgICAgICAgICBhZGRFeGNlcHRpb25NZWNoYW5pc20oZXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdvbmVycm9yJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50SHViLmNhcHR1cmVFdmVudChldmVudCwge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV4Y2VwdGlvbjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX29uRXJyb3JIYW5kbGVySW5zdGFsbGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEdsb2JhbEhhbmRsZXJzLnByb3RvdHlwZS5faW5zdGFsbEdsb2JhbE9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX29uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlckluc3RhbGxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIoe1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBlcnJvciA9IGU7XG4gICAgICAgICAgICAgICAgLy8gZGlnIHRoZSBvYmplY3Qgb2YgdGhlIHJlamVjdGlvbiBvdXQgb2Yga25vd24gZXZlbnQgdHlwZXNcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBQcm9taXNlUmVqZWN0aW9uRXZlbnRzIHN0b3JlIHRoZSBvYmplY3Qgb2YgdGhlIHJlamVjdGlvbiB1bmRlciAncmVhc29uJ1xuICAgICAgICAgICAgICAgICAgICAvLyBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1Byb21pc2VSZWplY3Rpb25FdmVudFxuICAgICAgICAgICAgICAgICAgICBpZiAoJ3JlYXNvbicgaW4gZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBlLnJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBzb21ldGhpbmcsIHNvbWV3aGVyZSwgKGxpa2VseSBhIGJyb3dzZXIgZXh0ZW5zaW9uKSBlZmZlY3RpdmVseSBjYXN0cyBQcm9taXNlUmVqZWN0aW9uRXZlbnRzXG4gICAgICAgICAgICAgICAgICAgIC8vIHRvIEN1c3RvbUV2ZW50cywgbW92aW5nIHRoZSBgcHJvbWlzZWAgYW5kIGByZWFzb25gIGF0dHJpYnV0ZXMgb2YgdGhlIFBSRSBpbnRvXG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSBDdXN0b21FdmVudCdzIGBkZXRhaWxgIGF0dHJpYnV0ZSwgc2luY2UgdGhleSdyZSBub3QgcGFydCBvZiBDdXN0b21FdmVudCdzIHNwZWNcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DdXN0b21FdmVudCBhbmRcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9pc3N1ZXMvMjM4MFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgnZGV0YWlsJyBpbiBlICYmICdyZWFzb24nIGluIGUuZGV0YWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IGUuZGV0YWlsLnJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoX29PKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vLWVtcHR5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SHViID0gZ2V0Q3VycmVudEh1YigpO1xuICAgICAgICAgICAgICAgIHZhciBoYXNJbnRlZ3JhdGlvbiA9IGN1cnJlbnRIdWIuZ2V0SW50ZWdyYXRpb24oR2xvYmFsSGFuZGxlcnMpO1xuICAgICAgICAgICAgICAgIHZhciBpc0ZhaWxlZE93bkRlbGl2ZXJ5ID0gZXJyb3IgJiYgZXJyb3IuX19zZW50cnlfb3duX3JlcXVlc3RfXyA9PT0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0ludGVncmF0aW9uIHx8IHNob3VsZElnbm9yZU9uRXJyb3IoKSB8fCBpc0ZhaWxlZE93bkRlbGl2ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2xpZW50ID0gY3VycmVudEh1Yi5nZXRDbGllbnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSBpc1ByaW1pdGl2ZShlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgPyBfdGhpcy5fZXZlbnRGcm9tUmVqZWN0aW9uV2l0aFByaW1pdGl2ZShlcnJvcilcbiAgICAgICAgICAgICAgICAgICAgOiBldmVudEZyb21Vbmtub3duSW5wdXQoZXJyb3IsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoU3RhY2t0cmFjZTogY2xpZW50ICYmIGNsaWVudC5nZXRPcHRpb25zKCkuYXR0YWNoU3RhY2t0cmFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZXZlbnQubGV2ZWwgPSBTZXZlcml0eS5FcnJvcjtcbiAgICAgICAgICAgICAgICBhZGRFeGNlcHRpb25NZWNoYW5pc20oZXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdvbnVuaGFuZGxlZHJlamVjdGlvbicsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY3VycmVudEh1Yi5jYXB0dXJlRXZlbnQoZXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFeGNlcHRpb246IGVycm9yLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eXBlOiAndW5oYW5kbGVkcmVqZWN0aW9uJyxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX29uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlckluc3RhbGxlZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYSBzdGFjayBmcm9tIGFuIG9sZCwgZXJyb3ItbGVzcyBvbmVycm9yIGhhbmRsZXIuXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBHbG9iYWxIYW5kbGVycy5wcm90b3R5cGUuX2V2ZW50RnJvbUluY29tcGxldGVPbkVycm9yID0gZnVuY3Rpb24gKG1zZywgdXJsLCBsaW5lLCBjb2x1bW4pIHtcbiAgICAgICAgdmFyIEVSUk9SX1RZUEVTX1JFID0gL14oPzpbVXVdbmNhdWdodCAoPzpleGNlcHRpb246ICk/KT8oPzooKD86RXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJfClFcnJvcik6ICk/KC4qKSQvaTtcbiAgICAgICAgLy8gSWYgJ21lc3NhZ2UnIGlzIEVycm9yRXZlbnQsIGdldCByZWFsIG1lc3NhZ2UgZnJvbSBpbnNpZGVcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBpc0Vycm9yRXZlbnQobXNnKSA/IG1zZy5tZXNzYWdlIDogbXNnO1xuICAgICAgICB2YXIgbmFtZTtcbiAgICAgICAgaWYgKGlzU3RyaW5nKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXBzID0gbWVzc2FnZS5tYXRjaChFUlJPUl9UWVBFU19SRSk7XG4gICAgICAgICAgICBpZiAoZ3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgbmFtZSA9IGdyb3Vwc1sxXTtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gZ3JvdXBzWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBldmVudCA9IHtcbiAgICAgICAgICAgIGV4Y2VwdGlvbjoge1xuICAgICAgICAgICAgICAgIHZhbHVlczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBuYW1lIHx8ICdFcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuaGFuY2VFdmVudFdpdGhJbml0aWFsRnJhbWUoZXZlbnQsIHVybCwgbGluZSwgY29sdW1uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBldmVudCBmcm9tIGEgcHJvbWlzZSByZWplY3Rpb24gd2hlcmUgdGhlIGByZWFzb25gIGlzIGEgcHJpbWl0aXZlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHJlYXNvbjogVGhlIGByZWFzb25gIHByb3BlcnR5IG9mIHRoZSBwcm9taXNlIHJlamVjdGlvblxuICAgICAqIEByZXR1cm5zIEFuIEV2ZW50IG9iamVjdCB3aXRoIGFuIGFwcHJvcHJpYXRlIGBleGNlcHRpb25gIHZhbHVlXG4gICAgICovXG4gICAgR2xvYmFsSGFuZGxlcnMucHJvdG90eXBlLl9ldmVudEZyb21SZWplY3Rpb25XaXRoUHJpbWl0aXZlID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZXhjZXB0aW9uOiB7XG4gICAgICAgICAgICAgICAgdmFsdWVzOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdVbmhhbmRsZWRSZWplY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RyaW5nKCkgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIFByaW1pdGl2ZSB0eXBlIGluY2x1ZGVzIHN5bWJvbHMgKHdoaWNoIGNhbid0IGJlIGF1dG9tYXRpY2FsbHkgc3RyaW5naWZpZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJOb24tRXJyb3IgcHJvbWlzZSByZWplY3Rpb24gY2FwdHVyZWQgd2l0aCB2YWx1ZTogXCIgKyBTdHJpbmcocmVhc29uKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgR2xvYmFsSGFuZGxlcnMucHJvdG90eXBlLl9lbmhhbmNlRXZlbnRXaXRoSW5pdGlhbEZyYW1lID0gZnVuY3Rpb24gKGV2ZW50LCB1cmwsIGxpbmUsIGNvbHVtbikge1xuICAgICAgICBldmVudC5leGNlcHRpb24gPSBldmVudC5leGNlcHRpb24gfHwge307XG4gICAgICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXMgPSBldmVudC5leGNlcHRpb24udmFsdWVzIHx8IFtdO1xuICAgICAgICBldmVudC5leGNlcHRpb24udmFsdWVzWzBdID0gZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXSB8fCB7fTtcbiAgICAgICAgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXS5zdGFja3RyYWNlID0gZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXS5zdGFja3RyYWNlIHx8IHt9O1xuICAgICAgICBldmVudC5leGNlcHRpb24udmFsdWVzWzBdLnN0YWNrdHJhY2UuZnJhbWVzID0gZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXS5zdGFja3RyYWNlLmZyYW1lcyB8fCBbXTtcbiAgICAgICAgdmFyIGNvbG5vID0gaXNOYU4ocGFyc2VJbnQoY29sdW1uLCAxMCkpID8gdW5kZWZpbmVkIDogY29sdW1uO1xuICAgICAgICB2YXIgbGluZW5vID0gaXNOYU4ocGFyc2VJbnQobGluZSwgMTApKSA/IHVuZGVmaW5lZCA6IGxpbmU7XG4gICAgICAgIHZhciBmaWxlbmFtZSA9IGlzU3RyaW5nKHVybCkgJiYgdXJsLmxlbmd0aCA+IDAgPyB1cmwgOiBnZXRMb2NhdGlvbkhyZWYoKTtcbiAgICAgICAgaWYgKGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0uc3RhY2t0cmFjZS5mcmFtZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBldmVudC5leGNlcHRpb24udmFsdWVzWzBdLnN0YWNrdHJhY2UuZnJhbWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvbG5vOiBjb2xubyxcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogZmlsZW5hbWUsXG4gICAgICAgICAgICAgICAgZnVuY3Rpb246ICc/JyxcbiAgICAgICAgICAgICAgICBpbl9hcHA6IHRydWUsXG4gICAgICAgICAgICAgICAgbGluZW5vOiBsaW5lbm8sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEdsb2JhbEhhbmRsZXJzLmlkID0gJ0dsb2JhbEhhbmRsZXJzJztcbiAgICByZXR1cm4gR2xvYmFsSGFuZGxlcnM7XG59KCkpO1xuZXhwb3J0IHsgR2xvYmFsSGFuZGxlcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdsb2JhbGhhbmRsZXJzLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWQgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGFkZEdsb2JhbEV2ZW50UHJvY2Vzc29yLCBnZXRDdXJyZW50SHViIH0gZnJvbSAnQHNlbnRyeS9jb3JlJztcbmltcG9ydCB7IGlzSW5zdGFuY2VPZiB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgZXhjZXB0aW9uRnJvbVN0YWNrdHJhY2UgfSBmcm9tICcuLi9wYXJzZXJzJztcbmltcG9ydCB7IGNvbXB1dGVTdGFja1RyYWNlIH0gZnJvbSAnLi4vdHJhY2VraXQnO1xudmFyIERFRkFVTFRfS0VZID0gJ2NhdXNlJztcbnZhciBERUZBVUxUX0xJTUlUID0gNTtcbi8qKiBBZGRzIFNESyBpbmZvIHRvIGFuIGV2ZW50LiAqL1xudmFyIExpbmtlZEVycm9ycyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIExpbmtlZEVycm9ycyhvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW5oZXJpdERvY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYW1lID0gTGlua2VkRXJyb3JzLmlkO1xuICAgICAgICB0aGlzLl9rZXkgPSBvcHRpb25zLmtleSB8fCBERUZBVUxUX0tFWTtcbiAgICAgICAgdGhpcy5fbGltaXQgPSBvcHRpb25zLmxpbWl0IHx8IERFRkFVTFRfTElNSVQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgTGlua2VkRXJyb3JzLnByb3RvdHlwZS5zZXR1cE9uY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFkZEdsb2JhbEV2ZW50UHJvY2Vzc29yKGZ1bmN0aW9uIChldmVudCwgaGludCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSBnZXRDdXJyZW50SHViKCkuZ2V0SW50ZWdyYXRpb24oTGlua2VkRXJyb3JzKTtcbiAgICAgICAgICAgIGlmIChzZWxmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX2hhbmRsZXIoZXZlbnQsIGhpbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgTGlua2VkRXJyb3JzLnByb3RvdHlwZS5faGFuZGxlciA9IGZ1bmN0aW9uIChldmVudCwgaGludCkge1xuICAgICAgICBpZiAoIWV2ZW50LmV4Y2VwdGlvbiB8fCAhZXZlbnQuZXhjZXB0aW9uLnZhbHVlcyB8fCAhaGludCB8fCAhaXNJbnN0YW5jZU9mKGhpbnQub3JpZ2luYWxFeGNlcHRpb24sIEVycm9yKSkge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5rZWRFcnJvcnMgPSB0aGlzLl93YWxrRXJyb3JUcmVlKGhpbnQub3JpZ2luYWxFeGNlcHRpb24sIHRoaXMuX2tleSk7XG4gICAgICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXMgPSBfX3NwcmVhZChsaW5rZWRFcnJvcnMsIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXMpO1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIExpbmtlZEVycm9ycy5wcm90b3R5cGUuX3dhbGtFcnJvclRyZWUgPSBmdW5jdGlvbiAoZXJyb3IsIGtleSwgc3RhY2spIHtcbiAgICAgICAgaWYgKHN0YWNrID09PSB2b2lkIDApIHsgc3RhY2sgPSBbXTsgfVxuICAgICAgICBpZiAoIWlzSW5zdGFuY2VPZihlcnJvcltrZXldLCBFcnJvcikgfHwgc3RhY2subGVuZ3RoICsgMSA+PSB0aGlzLl9saW1pdCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YWNrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGFja3RyYWNlID0gY29tcHV0ZVN0YWNrVHJhY2UoZXJyb3Jba2V5XSk7XG4gICAgICAgIHZhciBleGNlcHRpb24gPSBleGNlcHRpb25Gcm9tU3RhY2t0cmFjZShzdGFja3RyYWNlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dhbGtFcnJvclRyZWUoZXJyb3Jba2V5XSwga2V5LCBfX3NwcmVhZChbZXhjZXB0aW9uXSwgc3RhY2spKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgTGlua2VkRXJyb3JzLmlkID0gJ0xpbmtlZEVycm9ycyc7XG4gICAgcmV0dXJuIExpbmtlZEVycm9ycztcbn0oKSk7XG5leHBvcnQgeyBMaW5rZWRFcnJvcnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpbmtlZGVycm9ycy5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYWRkR2xvYmFsRXZlbnRQcm9jZXNzb3IsIGdldEN1cnJlbnRIdWIgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsT2JqZWN0IH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG52YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4vKiogVXNlckFnZW50ICovXG52YXIgVXNlckFnZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVzZXJBZ2VudCgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbmhlcml0RG9jXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBVc2VyQWdlbnQuaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgVXNlckFnZW50LnByb3RvdHlwZS5zZXR1cE9uY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFkZEdsb2JhbEV2ZW50UHJvY2Vzc29yKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgICAgICAgICBpZiAoZ2V0Q3VycmVudEh1YigpLmdldEludGVncmF0aW9uKFVzZXJBZ2VudCkpIHtcbiAgICAgICAgICAgICAgICAvLyBpZiBub25lIG9mIHRoZSBpbmZvcm1hdGlvbiB3ZSB3YW50IGV4aXN0cywgZG9uJ3QgYm90aGVyXG4gICAgICAgICAgICAgICAgaWYgKCFnbG9iYWwubmF2aWdhdG9yICYmICFnbG9iYWwubG9jYXRpb24gJiYgIWdsb2JhbC5kb2N1bWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGdyYWIgYXMgbXVjaCBpbmZvIGFzIGV4aXN0cyBhbmQgYWRkIGl0IHRvIHRoZSBldmVudFxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSAoKF9hID0gZXZlbnQucmVxdWVzdCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnVybCkgfHwgKChfYiA9IGdsb2JhbC5sb2NhdGlvbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmhyZWYpO1xuICAgICAgICAgICAgICAgIHZhciByZWZlcnJlciA9IChnbG9iYWwuZG9jdW1lbnQgfHwge30pLnJlZmVycmVyO1xuICAgICAgICAgICAgICAgIHZhciB1c2VyQWdlbnQgPSAoZ2xvYmFsLm5hdmlnYXRvciB8fCB7fSkudXNlckFnZW50O1xuICAgICAgICAgICAgICAgIHZhciBoZWFkZXJzID0gX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sIChfYyA9IGV2ZW50LnJlcXVlc3QpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5oZWFkZXJzKSwgKHJlZmVycmVyICYmIHsgUmVmZXJlcjogcmVmZXJyZXIgfSkpLCAodXNlckFnZW50ICYmIHsgJ1VzZXItQWdlbnQnOiB1c2VyQWdlbnQgfSkpO1xuICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0ID0gX19hc3NpZ24oX19hc3NpZ24oe30sICh1cmwgJiYgeyB1cmw6IHVybCB9KSksIHsgaGVhZGVyczogaGVhZGVycyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIGV2ZW50KSwgeyByZXF1ZXN0OiByZXF1ZXN0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgVXNlckFnZW50LmlkID0gJ1VzZXJBZ2VudCc7XG4gICAgcmV0dXJuIFVzZXJBZ2VudDtcbn0oKSk7XG5leHBvcnQgeyBVc2VyQWdlbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZXJhZ2VudC5qcy5tYXAiLCJpbXBvcnQgeyBnZXRDdXJyZW50SHViLCBpbml0QW5kQmluZCwgSW50ZWdyYXRpb25zIGFzIENvcmVJbnRlZ3JhdGlvbnMsIFNES19WRVJTSU9OIH0gZnJvbSAnQHNlbnRyeS9jb3JlJztcbmltcG9ydCB7IGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIsIGdldEdsb2JhbE9iamVjdCwgbG9nZ2VyLCBTeW5jUHJvbWlzZSB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgQnJvd3NlckNsaWVudCB9IGZyb20gJy4vY2xpZW50JztcbmltcG9ydCB7IHdyYXAgYXMgaW50ZXJuYWxXcmFwIH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCB7IEJyZWFkY3J1bWJzLCBHbG9iYWxIYW5kbGVycywgTGlua2VkRXJyb3JzLCBUcnlDYXRjaCwgVXNlckFnZW50IH0gZnJvbSAnLi9pbnRlZ3JhdGlvbnMnO1xuZXhwb3J0IHZhciBkZWZhdWx0SW50ZWdyYXRpb25zID0gW1xuICAgIG5ldyBDb3JlSW50ZWdyYXRpb25zLkluYm91bmRGaWx0ZXJzKCksXG4gICAgbmV3IENvcmVJbnRlZ3JhdGlvbnMuRnVuY3Rpb25Ub1N0cmluZygpLFxuICAgIG5ldyBUcnlDYXRjaCgpLFxuICAgIG5ldyBCcmVhZGNydW1icygpLFxuICAgIG5ldyBHbG9iYWxIYW5kbGVycygpLFxuICAgIG5ldyBMaW5rZWRFcnJvcnMoKSxcbiAgICBuZXcgVXNlckFnZW50KCksXG5dO1xuLyoqXG4gKiBUaGUgU2VudHJ5IEJyb3dzZXIgU0RLIENsaWVudC5cbiAqXG4gKiBUbyB1c2UgdGhpcyBTREssIGNhbGwgdGhlIHtAbGluayBpbml0fSBmdW5jdGlvbiBhcyBlYXJseSBhcyBwb3NzaWJsZSB3aGVuXG4gKiBsb2FkaW5nIHRoZSB3ZWIgcGFnZS4gVG8gc2V0IGNvbnRleHQgaW5mb3JtYXRpb24gb3Igc2VuZCBtYW51YWwgZXZlbnRzLCB1c2VcbiAqIHRoZSBwcm92aWRlZCBtZXRob2RzLlxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgXG4gKlxuICogaW1wb3J0IHsgaW5pdCB9IGZyb20gJ0BzZW50cnkvYnJvd3Nlcic7XG4gKlxuICogaW5pdCh7XG4gKiAgIGRzbjogJ19fRFNOX18nLFxuICogICAvLyAuLi5cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYFxuICpcbiAqIGltcG9ydCB7IGNvbmZpZ3VyZVNjb3BlIH0gZnJvbSAnQHNlbnRyeS9icm93c2VyJztcbiAqIGNvbmZpZ3VyZVNjb3BlKChzY29wZTogU2NvcGUpID0+IHtcbiAqICAgc2NvcGUuc2V0RXh0cmEoeyBiYXR0ZXJ5OiAwLjcgfSk7XG4gKiAgIHNjb3BlLnNldFRhZyh7IHVzZXJfbW9kZTogJ2FkbWluJyB9KTtcbiAqICAgc2NvcGUuc2V0VXNlcih7IGlkOiAnNDcxMScgfSk7XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBpbXBvcnQgeyBhZGRCcmVhZGNydW1iIH0gZnJvbSAnQHNlbnRyeS9icm93c2VyJztcbiAqIGFkZEJyZWFkY3J1bWIoe1xuICogICBtZXNzYWdlOiAnTXkgQnJlYWRjcnVtYicsXG4gKiAgIC8vIC4uLlxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYFxuICpcbiAqIGltcG9ydCAqIGFzIFNlbnRyeSBmcm9tICdAc2VudHJ5L2Jyb3dzZXInO1xuICogU2VudHJ5LmNhcHR1cmVNZXNzYWdlKCdIZWxsbywgd29ybGQhJyk7XG4gKiBTZW50cnkuY2FwdHVyZUV4Y2VwdGlvbihuZXcgRXJyb3IoJ0dvb2QgYnllJykpO1xuICogU2VudHJ5LmNhcHR1cmVFdmVudCh7XG4gKiAgIG1lc3NhZ2U6ICdNYW51YWwnLFxuICogICBzdGFja3RyYWNlOiBbXG4gKiAgICAgLy8gLi4uXG4gKiAgIF0sXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUge0BsaW5rIEJyb3dzZXJPcHRpb25zfSBmb3IgZG9jdW1lbnRhdGlvbiBvbiBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0KG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIGlmIChvcHRpb25zLmRlZmF1bHRJbnRlZ3JhdGlvbnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBvcHRpb25zLmRlZmF1bHRJbnRlZ3JhdGlvbnMgPSBkZWZhdWx0SW50ZWdyYXRpb25zO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5yZWxlYXNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdmFyIHdpbmRvd18xID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4gICAgICAgIC8vIFRoaXMgc3VwcG9ydHMgdGhlIHZhcmlhYmxlIHRoYXQgc2VudHJ5LXdlYnBhY2stcGx1Z2luIGluamVjdHNcbiAgICAgICAgaWYgKHdpbmRvd18xLlNFTlRSWV9SRUxFQVNFICYmIHdpbmRvd18xLlNFTlRSWV9SRUxFQVNFLmlkKSB7XG4gICAgICAgICAgICBvcHRpb25zLnJlbGVhc2UgPSB3aW5kb3dfMS5TRU5UUllfUkVMRUFTRS5pZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAob3B0aW9ucy5hdXRvU2Vzc2lvblRyYWNraW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3B0aW9ucy5hdXRvU2Vzc2lvblRyYWNraW5nID0gdHJ1ZTtcbiAgICB9XG4gICAgb3B0aW9ucy5fbWV0YWRhdGEgPSBvcHRpb25zLl9tZXRhZGF0YSB8fCB7fTtcbiAgICBvcHRpb25zLl9tZXRhZGF0YS5zZGsgPSB7XG4gICAgICAgIG5hbWU6ICdzZW50cnkuamF2YXNjcmlwdC5icm93c2VyJyxcbiAgICAgICAgcGFja2FnZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnbnBtOkBzZW50cnkvYnJvd3NlcicsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogU0RLX1ZFUlNJT04sXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICB2ZXJzaW9uOiBTREtfVkVSU0lPTixcbiAgICB9O1xuICAgIGluaXRBbmRCaW5kKEJyb3dzZXJDbGllbnQsIG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLmF1dG9TZXNzaW9uVHJhY2tpbmcpIHtcbiAgICAgICAgc3RhcnRTZXNzaW9uVHJhY2tpbmcoKTtcbiAgICB9XG59XG4vKipcbiAqIFByZXNlbnQgdGhlIHVzZXIgd2l0aCBhIHJlcG9ydCBkaWFsb2cuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgRXZlcnl0aGluZyBpcyBvcHRpb25hbCwgd2UgdHJ5IHRvIGZldGNoIGFsbCBpbmZvIG5lZWQgZnJvbSB0aGUgZ2xvYmFsIHNjb3BlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hvd1JlcG9ydERpYWxvZyhvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBpZiAoIW9wdGlvbnMuZXZlbnRJZCkge1xuICAgICAgICBvcHRpb25zLmV2ZW50SWQgPSBnZXRDdXJyZW50SHViKCkubGFzdEV2ZW50SWQoKTtcbiAgICB9XG4gICAgdmFyIGNsaWVudCA9IGdldEN1cnJlbnRIdWIoKS5nZXRDbGllbnQoKTtcbiAgICBpZiAoY2xpZW50KSB7XG4gICAgICAgIGNsaWVudC5zaG93UmVwb3J0RGlhbG9nKG9wdGlvbnMpO1xuICAgIH1cbn1cbi8qKlxuICogVGhpcyBpcyB0aGUgZ2V0dGVyIGZvciBsYXN0RXZlbnRJZC5cbiAqXG4gKiBAcmV0dXJucyBUaGUgbGFzdCBldmVudCBpZCBvZiBhIGNhcHR1cmVkIGV2ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbGFzdEV2ZW50SWQoKSB7XG4gICAgcmV0dXJuIGdldEN1cnJlbnRIdWIoKS5sYXN0RXZlbnRJZCgpO1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGhlcmUgdG8gYmUgQVBJIGNvbXBhdGlibGUgd2l0aCB0aGUgbG9hZGVyLlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gZm9yY2VMb2FkKCkge1xuICAgIC8vIE5vb3Bcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBoZXJlIHRvIGJlIEFQSSBjb21wYXRpYmxlIHdpdGggdGhlIGxvYWRlci5cbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uTG9hZChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKCk7XG59XG4vKipcbiAqIEEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gYWxsIGN1cnJlbnQgZXZlbnRzIGhhdmUgYmVlbiBzZW50LlxuICogSWYgeW91IHByb3ZpZGUgYSB0aW1lb3V0IGFuZCB0aGUgcXVldWUgdGFrZXMgbG9uZ2VyIHRvIGRyYWluIHRoZSBwcm9taXNlIHJldHVybnMgZmFsc2UuXG4gKlxuICogQHBhcmFtIHRpbWVvdXQgTWF4aW11bSB0aW1lIGluIG1zIHRoZSBjbGllbnQgc2hvdWxkIHdhaXQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaCh0aW1lb3V0KSB7XG4gICAgdmFyIGNsaWVudCA9IGdldEN1cnJlbnRIdWIoKS5nZXRDbGllbnQoKTtcbiAgICBpZiAoY2xpZW50KSB7XG4gICAgICAgIHJldHVybiBjbGllbnQuZmx1c2godGltZW91dCk7XG4gICAgfVxuICAgIHJldHVybiBTeW5jUHJvbWlzZS5yZWplY3QoZmFsc2UpO1xufVxuLyoqXG4gKiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCBjdXJyZW50IGV2ZW50cyBoYXZlIGJlZW4gc2VudC5cbiAqIElmIHlvdSBwcm92aWRlIGEgdGltZW91dCBhbmQgdGhlIHF1ZXVlIHRha2VzIGxvbmdlciB0byBkcmFpbiB0aGUgcHJvbWlzZSByZXR1cm5zIGZhbHNlLlxuICpcbiAqIEBwYXJhbSB0aW1lb3V0IE1heGltdW0gdGltZSBpbiBtcyB0aGUgY2xpZW50IHNob3VsZCB3YWl0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xvc2UodGltZW91dCkge1xuICAgIHZhciBjbGllbnQgPSBnZXRDdXJyZW50SHViKCkuZ2V0Q2xpZW50KCk7XG4gICAgaWYgKGNsaWVudCkge1xuICAgICAgICByZXR1cm4gY2xpZW50LmNsb3NlKHRpbWVvdXQpO1xuICAgIH1cbiAgICByZXR1cm4gU3luY1Byb21pc2UucmVqZWN0KGZhbHNlKTtcbn1cbi8qKlxuICogV3JhcCBjb2RlIHdpdGhpbiBhIHRyeS9jYXRjaCBibG9jayBzbyB0aGUgU0RLIGlzIGFibGUgdG8gY2FwdHVyZSBlcnJvcnMuXG4gKlxuICogQHBhcmFtIGZuIEEgZnVuY3Rpb24gdG8gd3JhcC5cbiAqXG4gKiBAcmV0dXJucyBUaGUgcmVzdWx0IG9mIHdyYXBwZWQgZnVuY3Rpb24gY2FsbC5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiB3cmFwKGZuKSB7XG4gICAgcmV0dXJuIGludGVybmFsV3JhcChmbikoKTtcbn1cbi8qKlxuICogRW5hYmxlIGF1dG9tYXRpYyBTZXNzaW9uIFRyYWNraW5nIGZvciB0aGUgaW5pdGlhbCBwYWdlIGxvYWQuXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0U2Vzc2lvblRyYWNraW5nKCkge1xuICAgIHZhciB3aW5kb3cgPSBnZXRHbG9iYWxPYmplY3QoKTtcbiAgICB2YXIgZG9jdW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQ7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oJ1Nlc3Npb24gdHJhY2tpbmcgaW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnQgd2l0aCBAc2VudHJ5L2Jyb3dzZXIgaXMgbm90IHN1cHBvcnRlZC4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaHViID0gZ2V0Q3VycmVudEh1YigpO1xuICAgIGh1Yi5zdGFydFNlc3Npb24oKTtcbiAgICBodWIuY2FwdHVyZVNlc3Npb24oKTtcbiAgICAvLyBXZSB3YW50IHRvIGNyZWF0ZSBhIHNlc3Npb24gZm9yIGV2ZXJ5IG5hdmlnYXRpb24gYXMgd2VsbFxuICAgIGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIoe1xuICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaHViLnN0YXJ0U2Vzc2lvbigpO1xuICAgICAgICAgICAgaHViLmNhcHR1cmVTZXNzaW9uKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHR5cGU6ICdoaXN0b3J5JyxcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNkay5qcy5tYXAiLCIvLyBTbGlnaHRseSBtb2RpZmllZCAobm8gSUU4IHN1cHBvcnQsIEVTNikgYW5kIHRyYW5zY3JpYmVkIHRvIFR5cGVTY3JpcHRcbi8vIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9jYWx2aW5tZXRjYWxmL3JvbGx1cC1wbHVnaW4tbm9kZS1idWlsdGlucy9tYXN0ZXIvc3JjL2VzNi9wYXRoLmpzXG4vKiogSlNEb2MgKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5KHBhcnRzLCBhbGxvd0Fib3ZlUm9vdCkge1xuICAgIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gICAgdmFyIHVwID0gMDtcbiAgICBmb3IgKHZhciBpID0gcGFydHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIGxhc3QgPSBwYXJ0c1tpXTtcbiAgICAgICAgaWYgKGxhc3QgPT09ICcuJykge1xuICAgICAgICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wbHVzcGx1c1xuICAgICAgICAgICAgdXArKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1cCkge1xuICAgICAgICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBsdXNwbHVzXG4gICAgICAgICAgICB1cC0tO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGlmIHRoZSBwYXRoIGlzIGFsbG93ZWQgdG8gZ28gYWJvdmUgdGhlIHJvb3QsIHJlc3RvcmUgbGVhZGluZyAuLnNcbiAgICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBsdXNwbHVzXG4gICAgICAgIGZvciAoOyB1cC0tOyB1cCkge1xuICAgICAgICAgICAgcGFydHMudW5zaGlmdCgnLi4nKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGFydHM7XG59XG4vLyBTcGxpdCBhIGZpbGVuYW1lIGludG8gW3Jvb3QsIGRpciwgYmFzZW5hbWUsIGV4dF0sIHVuaXggdmVyc2lvblxuLy8gJ3Jvb3QnIGlzIGp1c3QgYSBzbGFzaCwgb3Igbm90aGluZy5cbnZhciBzcGxpdFBhdGhSZSA9IC9eKFxcLz98KShbXFxzXFxTXSo/KSgoPzpcXC57MSwyfXxbXi9dKz98KShcXC5bXi4vXSp8KSkoPzpbL10qKSQvO1xuLyoqIEpTRG9jICovXG5mdW5jdGlvbiBzcGxpdFBhdGgoZmlsZW5hbWUpIHtcbiAgICB2YXIgcGFydHMgPSBzcGxpdFBhdGhSZS5leGVjKGZpbGVuYW1lKTtcbiAgICByZXR1cm4gcGFydHMgPyBwYXJ0cy5zbGljZSgxKSA6IFtdO1xufVxuLy8gcGF0aC5yZXNvbHZlKFtmcm9tIC4uLl0sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuLyoqIEpTRG9jICovXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHJlc29sdmVkUGF0aCA9ICcnO1xuICAgIHZhciByZXNvbHZlZEFic29sdXRlID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IGFyZ3MubGVuZ3RoIC0gMTsgaSA+PSAtMSAmJiAhcmVzb2x2ZWRBYnNvbHV0ZTsgaS0tKSB7XG4gICAgICAgIHZhciBwYXRoID0gaSA+PSAwID8gYXJnc1tpXSA6ICcvJztcbiAgICAgICAgLy8gU2tpcCBlbXB0eSBlbnRyaWVzXG4gICAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZWRQYXRoID0gcGF0aCArIFwiL1wiICsgcmVzb2x2ZWRQYXRoO1xuICAgICAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbiAgICB9XG4gICAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAgIC8vIGhhbmRsZSByZWxhdGl2ZSBwYXRocyB0byBiZSBzYWZlIChtaWdodCBoYXBwZW4gd2hlbiBwcm9jZXNzLmN3ZCgpIGZhaWxzKVxuICAgIC8vIE5vcm1hbGl6ZSB0aGUgcGF0aFxuICAgIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZUFycmF5KHJlc29sdmVkUGF0aC5zcGxpdCgnLycpLmZpbHRlcihmdW5jdGlvbiAocCkgeyByZXR1cm4gISFwOyB9KSwgIXJlc29sdmVkQWJzb2x1dGUpLmpvaW4oJy8nKTtcbiAgICByZXR1cm4gKHJlc29sdmVkQWJzb2x1dGUgPyAnLycgOiAnJykgKyByZXNvbHZlZFBhdGggfHwgJy4nO1xufVxuLyoqIEpTRG9jICovXG5mdW5jdGlvbiB0cmltKGFycikge1xuICAgIHZhciBzdGFydCA9IDA7XG4gICAgZm9yICg7IHN0YXJ0IDwgYXJyLmxlbmd0aDsgc3RhcnQrKykge1xuICAgICAgICBpZiAoYXJyW3N0YXJ0XSAhPT0gJycpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBlbmQgPSBhcnIubGVuZ3RoIC0gMTtcbiAgICBmb3IgKDsgZW5kID49IDA7IGVuZC0tKSB7XG4gICAgICAgIGlmIChhcnJbZW5kXSAhPT0gJycpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzdGFydCA+IGVuZCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7XG59XG4vLyBwYXRoLnJlbGF0aXZlKGZyb20sIHRvKVxuLy8gcG9zaXggdmVyc2lvblxuLyoqIEpTRG9jICovXG5leHBvcnQgZnVuY3Rpb24gcmVsYXRpdmUoZnJvbSwgdG8pIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuICAgIGZyb20gPSByZXNvbHZlKGZyb20pLnN1YnN0cigxKTtcbiAgICB0byA9IHJlc29sdmUodG8pLnN1YnN0cigxKTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXBhcmFtLXJlYXNzaWduICovXG4gICAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oZnJvbS5zcGxpdCgnLycpKTtcbiAgICB2YXIgdG9QYXJ0cyA9IHRyaW0odG8uc3BsaXQoJy8nKSk7XG4gICAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTtcbiAgICB2YXIgc2FtZVBhcnRzTGVuZ3RoID0gbGVuZ3RoO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGZyb21QYXJ0c1tpXSAhPT0gdG9QYXJ0c1tpXSkge1xuICAgICAgICAgICAgc2FtZVBhcnRzTGVuZ3RoID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBvdXRwdXRQYXJ0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSBzYW1lUGFydHNMZW5ndGg7IGkgPCBmcm9tUGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgb3V0cHV0UGFydHMucHVzaCgnLi4nKTtcbiAgICB9XG4gICAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcbiAgICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xufVxuLy8gcGF0aC5ub3JtYWxpemUocGF0aClcbi8vIHBvc2l4IHZlcnNpb25cbi8qKiBKU0RvYyAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZVBhdGgocGF0aCkge1xuICAgIHZhciBpc1BhdGhBYnNvbHV0ZSA9IGlzQWJzb2x1dGUocGF0aCk7XG4gICAgdmFyIHRyYWlsaW5nU2xhc2ggPSBwYXRoLnN1YnN0cigtMSkgPT09ICcvJztcbiAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICB2YXIgbm9ybWFsaXplZFBhdGggPSBub3JtYWxpemVBcnJheShwYXRoLnNwbGl0KCcvJykuZmlsdGVyKGZ1bmN0aW9uIChwKSB7IHJldHVybiAhIXA7IH0pLCAhaXNQYXRoQWJzb2x1dGUpLmpvaW4oJy8nKTtcbiAgICBpZiAoIW5vcm1hbGl6ZWRQYXRoICYmICFpc1BhdGhBYnNvbHV0ZSkge1xuICAgICAgICBub3JtYWxpemVkUGF0aCA9ICcuJztcbiAgICB9XG4gICAgaWYgKG5vcm1hbGl6ZWRQYXRoICYmIHRyYWlsaW5nU2xhc2gpIHtcbiAgICAgICAgbm9ybWFsaXplZFBhdGggKz0gJy8nO1xuICAgIH1cbiAgICByZXR1cm4gKGlzUGF0aEFic29sdXRlID8gJy8nIDogJycpICsgbm9ybWFsaXplZFBhdGg7XG59XG4vLyBwb3NpeCB2ZXJzaW9uXG4vKiogSlNEb2MgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Fic29sdXRlKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aC5jaGFyQXQoMCkgPT09ICcvJztcbn1cbi8vIHBvc2l4IHZlcnNpb25cbi8qKiBKU0RvYyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGpvaW4oKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiBub3JtYWxpemVQYXRoKGFyZ3Muam9pbignLycpKTtcbn1cbi8qKiBKU0RvYyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpcm5hbWUocGF0aCkge1xuICAgIHZhciByZXN1bHQgPSBzcGxpdFBhdGgocGF0aCk7XG4gICAgdmFyIHJvb3QgPSByZXN1bHRbMF07XG4gICAgdmFyIGRpciA9IHJlc3VsdFsxXTtcbiAgICBpZiAoIXJvb3QgJiYgIWRpcikge1xuICAgICAgICAvLyBObyBkaXJuYW1lIHdoYXRzb2V2ZXJcbiAgICAgICAgcmV0dXJuICcuJztcbiAgICB9XG4gICAgaWYgKGRpcikge1xuICAgICAgICAvLyBJdCBoYXMgYSBkaXJuYW1lLCBzdHJpcCB0cmFpbGluZyBzbGFzaFxuICAgICAgICBkaXIgPSBkaXIuc3Vic3RyKDAsIGRpci5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgcmV0dXJuIHJvb3QgKyBkaXI7XG59XG4vKiogSlNEb2MgKi9cbmV4cG9ydCBmdW5jdGlvbiBiYXNlbmFtZShwYXRoLCBleHQpIHtcbiAgICB2YXIgZiA9IHNwbGl0UGF0aChwYXRoKVsyXTtcbiAgICBpZiAoZXh0ICYmIGYuc3Vic3RyKGV4dC5sZW5ndGggKiAtMSkgPT09IGV4dCkge1xuICAgICAgICBmID0gZi5zdWJzdHIoMCwgZi5sZW5ndGggLSBleHQubGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuIGY7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXRoLmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduLCBfX3JlYWQsIF9fc3ByZWFkIH0gZnJvbSBcInRzbGliXCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGluZXMsIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmltcG9ydCB7IGdldEN1cnJlbnRIdWIsIGluaXQgYXMgYnJvd3NlckluaXQsIFNES19WRVJTSU9OIH0gZnJvbSAnQHNlbnRyeS9icm93c2VyJztcbmltcG9ydCB7IGJhc2VuYW1lLCBnZXRHbG9iYWxPYmplY3QsIGxvZ2dlciwgdGltZXN0YW1wV2l0aE1zIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG4vLyBNYXBwaW5ncyBmcm9tIG9wZXJhdGlvbiB0byBjb3JyZXNwb25kaW5nIGxpZmVjeWNsZSBob29rLlxudmFyIEhPT0tTID0ge1xuICAgIGFjdGl2YXRlOiBbJ2FjdGl2YXRlZCcsICdkZWFjdGl2YXRlZCddLFxuICAgIGNyZWF0ZTogWydiZWZvcmVDcmVhdGUnLCAnY3JlYXRlZCddLFxuICAgIGRlc3Ryb3k6IFsnYmVmb3JlRGVzdHJveScsICdkZXN0cm95ZWQnXSxcbiAgICBtb3VudDogWydiZWZvcmVNb3VudCcsICdtb3VudGVkJ10sXG4gICAgdXBkYXRlOiBbJ2JlZm9yZVVwZGF0ZScsICd1cGRhdGVkJ10sXG59O1xudmFyIENPTVBPTkVOVF9OQU1FX1JFR0VYUCA9IC8oPzpefFstXy9dKShcXHcpL2c7XG52YXIgUk9PVF9DT01QT05FTlRfTkFNRSA9ICdyb290JztcbnZhciBBTk9OWU1PVVNfQ09NUE9ORU5UX05BTUUgPSAnYW5vbnltb3VzIGNvbXBvbmVudCc7XG4vKipcbiAqIEluaXRzIHRoZSBWdWUgU0RLXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0KG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBmaW5hbE9wdGlvbnMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7IFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgIFZ1ZTogZ2V0R2xvYmFsT2JqZWN0KCkuVnVlLCBhdHRhY2hQcm9wczogdHJ1ZSwgbG9nRXJyb3JzOiBmYWxzZSwgdHJhY2luZzogZmFsc2UgfSwgb3B0aW9ucyksIHsgdHJhY2luZ09wdGlvbnM6IF9fYXNzaWduKHsgaG9va3M6IFsnYWN0aXZhdGUnLCAnbW91bnQnLCAndXBkYXRlJ10sIHRpbWVvdXQ6IDIwMDAsIHRyYWNrQ29tcG9uZW50czogZmFsc2UgfSwgb3B0aW9ucy50cmFjaW5nT3B0aW9ucykgfSk7XG4gICAgZmluYWxPcHRpb25zLl9tZXRhZGF0YSA9IGZpbmFsT3B0aW9ucy5fbWV0YWRhdGEgfHwge307XG4gICAgZmluYWxPcHRpb25zLl9tZXRhZGF0YS5zZGsgPSB7XG4gICAgICAgIG5hbWU6ICdzZW50cnkuamF2YXNjcmlwdC52dWUnLFxuICAgICAgICBwYWNrYWdlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICducG06QHNlbnRyeS92dWUnLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IFNES19WRVJTSU9OLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgdmVyc2lvbjogU0RLX1ZFUlNJT04sXG4gICAgfTtcbiAgICBicm93c2VySW5pdChmaW5hbE9wdGlvbnMpO1xuICAgIGlmIChmaW5hbE9wdGlvbnMuVnVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oJ05vIFZ1ZSBpbnN0YW5jZSB3YXMgcHJvdmlkZWQuIEFsc28gdGhlcmUgaXMgbm8gVnVlIGluc3RhbmNlIG9uIHRoZSBgd2luZG93YCBvYmplY3QuJyk7XG4gICAgICAgIGxvZ2dlci53YXJuKCdXZSB3aWxsIG9ubHkgY2FwdHVyZSBnbG9iYWwgdW5oYW5kbGVkIGVycm9ycy4nKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciB2dWVIZWxwZXIgPSBuZXcgVnVlSGVscGVyKGZpbmFsT3B0aW9ucyk7XG4gICAgICAgIHZ1ZUhlbHBlci5zZXR1cCgpO1xuICAgIH1cbn1cbi8qKiBKU0RvYyAqL1xudmFyIFZ1ZUhlbHBlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFZ1ZUhlbHBlcihvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBob2xkaW5nIGFscmVhZHkgcHJvY2Vzc2VkIGNvbXBvbmVudCBuYW1lc1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fY29tcG9uZW50c0NhY2hlID0ge307XG4gICAgICAgIC8qKiBLZWVwIGl0IGFzIGF0dHJpYnV0ZSBmdW5jdGlvbiwgdG8ga2VlcCBjb3JyZWN0IGB0aGlzYCBiaW5kaW5nIGluc2lkZSB0aGUgaG9va3MgY2FsbGJhY2tzICAqL1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3R5cGVkZWZcbiAgICAgICAgdGhpcy5fYXBwbHlUcmFjaW5nSG9va3MgPSBmdW5jdGlvbiAodm0pIHtcbiAgICAgICAgICAgIC8vIERvbid0IGF0dGFjaCB0d2ljZSwganVzdCBpbiBjYXNlXG4gICAgICAgICAgICBpZiAodm0uJG9wdGlvbnMuJF9zZW50cnlQZXJmSG9vaykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZtLiRvcHRpb25zLiRfc2VudHJ5UGVyZkhvb2sgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBfdGhpcy5fZ2V0Q29tcG9uZW50TmFtZSh2bSk7XG4gICAgICAgICAgICB2YXIgcm9vdE1vdW50ID0gbmFtZSA9PT0gUk9PVF9DT01QT05FTlRfTkFNRTtcbiAgICAgICAgICAgIHZhciBzcGFucyA9IHt9O1xuICAgICAgICAgICAgLy8gUmVuZGVyIGhvb2sgc3RhcnRzIGFmdGVyIG9uY2UgZXZlbnQgaXMgZW1pdHRlZCxcbiAgICAgICAgICAgIC8vIGJ1dCBpdCBlbmRzIGJlZm9yZSB0aGUgc2Vjb25kIGV2ZW50IG9mIHRoZSBzYW1lIHR5cGUuXG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gQmVjYXVzZSBvZiB0aGlzLCB3ZSBzdGFydCBtZWFzdXJpbmcgaW5zaWRlIHRoZSBmaXJzdCBldmVudCxcbiAgICAgICAgICAgIC8vIGJ1dCBmaW5pc2ggaXQgYmVmb3JlIGl0IHRyaWdnZXJzLCB0byBza2lwIHRoZSBldmVudCBlbWl0dGVyIHRpbWluZyBpdHNlbGYuXG4gICAgICAgICAgICB2YXIgcm9vdEhhbmRsZXIgPSBmdW5jdGlvbiAoaG9vaykge1xuICAgICAgICAgICAgICAgIHZhciBub3cgPSB0aW1lc3RhbXBXaXRoTXMoKTtcbiAgICAgICAgICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaGFuZGxlciBjYWxsIChiZWZvcmUpLCBpdCdsbCBiZSB1bmRlZmluZWQsIGFzIGAkb25jZWAgd2lsbCBhZGQgaXQgaW4gdGhlIGZ1dHVyZS5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCBvbiB0aGUgc2Vjb25kIGNhbGwgKGFmdGVyKSwgaXQnbGwgYmUgYWxyZWFkeSBpbiBwbGFjZS5cbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX3Jvb3RTcGFuKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9maW5pc2hSb290U3Bhbihub3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdm0uJG9uY2UoXCJob29rOlwiICsgaG9vaywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIGFjdGl2aXR5IG9uIHRoZSBmaXJzdCBldmVudCBjYWxsLiBUaGVyZSdsbCBiZSBubyBzZWNvbmQgY2FsbCwgYXMgcm9vdFNwYW4gd2lsbCBiZSBpbiBwbGFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRodXMgbmV3IGV2ZW50IGhhbmRsZXIgd29uJ3QgYmUgYXR0YWNoZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlVHJhbnNhY3Rpb24gPSBnZXRBY3RpdmVUcmFuc2FjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3Jvb3RTcGFuID0gYWN0aXZlVHJhbnNhY3Rpb24uc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQXBwbGljYXRpb24gUmVuZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3A6ICdWdWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGNoaWxkSGFuZGxlciA9IGZ1bmN0aW9uIChob29rLCBvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIGNvbXBvbmVudHMgdGhhdCB3ZSBkb24ndCB3YW50IHRvIHRyYWNrIHRvIG1pbmltaXplIHRoZSBub2lzZSBhbmQgZ2l2ZSBhIG1vcmUgZ3JhbnVsYXIgY29udHJvbCB0byB0aGUgdXNlclxuICAgICAgICAgICAgICAgIHZhciBzaG91bGRUcmFjayA9IEFycmF5LmlzQXJyYXkoX3RoaXMuX29wdGlvbnMudHJhY2luZ09wdGlvbnMudHJhY2tDb21wb25lbnRzKVxuICAgICAgICAgICAgICAgICAgICA/IF90aGlzLl9vcHRpb25zLnRyYWNpbmdPcHRpb25zLnRyYWNrQ29tcG9uZW50cy5pbmRleE9mKG5hbWUpID4gLTFcbiAgICAgICAgICAgICAgICAgICAgOiBfdGhpcy5fb3B0aW9ucy50cmFjaW5nT3B0aW9ucy50cmFja0NvbXBvbmVudHM7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkT2YgPSBfdGhpcy5fcm9vdFNwYW4gfHwgZ2V0QWN0aXZlVHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBpZiAoIWNoaWxkT2YgfHwgIXNob3VsZFRyYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG5vdyA9IHRpbWVzdGFtcFdpdGhNcygpO1xuICAgICAgICAgICAgICAgIHZhciBzcGFuID0gc3BhbnNbb3BlcmF0aW9uXTtcbiAgICAgICAgICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaGFuZGxlciBjYWxsIChiZWZvcmUpLCBpdCdsbCBiZSB1bmRlZmluZWQsIGFzIGAkb25jZWAgd2lsbCBhZGQgaXQgaW4gdGhlIGZ1dHVyZS5cbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCBvbiB0aGUgc2Vjb25kIGNhbGwgKGFmdGVyKSwgaXQnbGwgYmUgYWxyZWFkeSBpbiBwbGFjZS5cbiAgICAgICAgICAgICAgICBpZiAoc3Bhbikge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZmluaXNoUm9vdFNwYW4obm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLiRvbmNlKFwiaG9vazpcIiArIGhvb2ssIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGlsZE9mKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhbnNbb3BlcmF0aW9uXSA9IGNoaWxkT2Yuc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIlZ1ZSA8XCIgKyBuYW1lICsgXCI+XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wOiBvcGVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBFYWNoIGNvbXBvbmVudCBoYXMgaXQncyBvd24gc2NvcGUsIHNvIGFsbCBhY3Rpdml0aWVzIGFyZSBvbmx5IHJlbGF0ZWQgdG8gb25lIG9mIHRoZW1cbiAgICAgICAgICAgIF90aGlzLl9vcHRpb25zLnRyYWNpbmdPcHRpb25zLmhvb2tzLmZvckVhY2goZnVuY3Rpb24gKG9wZXJhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFJldHJpZXZlIGNvcnJlc3BvbmRpbmcgaG9va3MgZnJvbSBWdWUgbGlmZWN5Y2xlLlxuICAgICAgICAgICAgICAgIC8vIGVnLiBtb3VudCA9PiBbJ2JlZm9yZU1vdW50JywgJ21vdW50ZWQnXVxuICAgICAgICAgICAgICAgIHZhciBpbnRlcm5hbEhvb2tzID0gSE9PS1Nbb3BlcmF0aW9uXTtcbiAgICAgICAgICAgICAgICBpZiAoIWludGVybmFsSG9va3MpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJVbmtub3duIGhvb2s6IFwiICsgb3BlcmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbnRlcm5hbEhvb2tzLmZvckVhY2goZnVuY3Rpb24gKGludGVybmFsSG9vaykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlciA9IHJvb3RNb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgPyByb290SGFuZGxlci5iaW5kKF90aGlzLCBpbnRlcm5hbEhvb2spXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGNoaWxkSGFuZGxlci5iaW5kKF90aGlzLCBpbnRlcm5hbEhvb2ssIG9wZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSB2bS4kb3B0aW9uc1tpbnRlcm5hbEhvb2tdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50VmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS4kb3B0aW9uc1tpbnRlcm5hbEhvb2tdID0gX19zcHJlYWQoW2hhbmRsZXJdLCBjdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBjdXJyZW50VmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLiRvcHRpb25zW2ludGVybmFsSG9va10gPSBbaGFuZGxlciwgY3VycmVudFZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZtLiRvcHRpb25zW2ludGVybmFsSG9va10gPSBbaGFuZGxlcl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0YWNoZXMgdGhlIGVycm9yIGhhbmRsZXIgYW5kIHN0YXJ0cyB0cmFjaW5nXG4gICAgICovXG4gICAgVnVlSGVscGVyLnByb3RvdHlwZS5zZXR1cCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYXR0YWNoRXJyb3JIYW5kbGVyKCk7XG4gICAgICAgIGlmICgndHJhY2VzU2FtcGxlUmF0ZScgaW4gdGhpcy5fb3B0aW9ucyB8fCAndHJhY2VzU2FtcGxlcicgaW4gdGhpcy5fb3B0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRUcmFjaW5nKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4dHJhY3QgY29tcG9uZW50IG5hbWUgZnJvbSB0aGUgVmlld01vZGVsXG4gICAgICovXG4gICAgVnVlSGVscGVyLnByb3RvdHlwZS5fZ2V0Q29tcG9uZW50TmFtZSA9IGZ1bmN0aW9uICh2bSkge1xuICAgICAgICAvLyBTdWNoIGxldmVsIG9mIGdyYW51bGFyaXR5IGlzIG1vc3QgbGlrZWx5IG5vdCBuZWNlc3NhcnksIGJ1dCBiZXR0ZXIgc2FmZSB0aGFuIHNvcnJ5LiDigJQgS2FtaWxcbiAgICAgICAgaWYgKCF2bSkge1xuICAgICAgICAgICAgcmV0dXJuIEFOT05ZTU9VU19DT01QT05FTlRfTkFNRTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodm0uJHJvb3QgPT09IHZtKSB7XG4gICAgICAgICAgICByZXR1cm4gUk9PVF9DT01QT05FTlRfTkFNRTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXZtLiRvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gQU5PTllNT1VTX0NPTVBPTkVOVF9OQU1FO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2bS4kb3B0aW9ucy5uYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gdm0uJG9wdGlvbnMubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodm0uJG9wdGlvbnMuX2NvbXBvbmVudFRhZykge1xuICAgICAgICAgICAgcmV0dXJuIHZtLiRvcHRpb25zLl9jb21wb25lbnRUYWc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5qZWN0ZWQgYnkgdnVlLWxvYWRlclxuICAgICAgICBpZiAodm0uJG9wdGlvbnMuX19maWxlKSB7XG4gICAgICAgICAgICB2YXIgdW5pZmllZEZpbGUgPSB2bS4kb3B0aW9ucy5fX2ZpbGUucmVwbGFjZSgvXlthLXpBLVpdOi8sICcnKS5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG4gICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSBiYXNlbmFtZSh1bmlmaWVkRmlsZSwgJy52dWUnKTtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fY29tcG9uZW50c0NhY2hlW2ZpbGVuYW1lXSB8fFxuICAgICAgICAgICAgICAgICh0aGlzLl9jb21wb25lbnRzQ2FjaGVbZmlsZW5hbWVdID0gZmlsZW5hbWUucmVwbGFjZShDT01QT05FTlRfTkFNRV9SRUdFWFAsIGZ1bmN0aW9uIChfLCBjKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjID8gYy50b1VwcGVyQ2FzZSgpIDogJyc7XG4gICAgICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQU5PTllNT1VTX0NPTVBPTkVOVF9OQU1FO1xuICAgIH07XG4gICAgLyoqIEZpbmlzaCB0b3AtbGV2ZWwgc3BhbiBhbmQgYWN0aXZpdHkgd2l0aCBhIGRlYm91bmNlIGNvbmZpZ3VyZWQgdXNpbmcgYHRpbWVvdXRgIG9wdGlvbiAqL1xuICAgIFZ1ZUhlbHBlci5wcm90b3R5cGUuX2ZpbmlzaFJvb3RTcGFuID0gZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fcm9vdFNwYW5UaW1lcikge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3Jvb3RTcGFuVGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Jvb3RTcGFuVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIFdlIHNob3VsZCBhbHdheXMgZmluaXNoIHRoZSBzcGFuLCBvbmx5IHNob3VsZCBwb3AgYWN0aXZpdHkgaWYgdXNpbmcgQHNlbnRyeS9hcG1cbiAgICAgICAgICAgIGlmIChfdGhpcy5fcm9vdFNwYW4pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcm9vdFNwYW4uZmluaXNoKHRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Jvb3RTcGFuID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLl9vcHRpb25zLnRyYWNpbmdPcHRpb25zLnRpbWVvdXQpO1xuICAgIH07XG4gICAgLyoqIEluamVjdCBjb25maWd1cmVkIHRyYWNpbmcgaG9va3MgaW50byBWdWUncyBjb21wb25lbnQgbGlmZWN5Y2xlcyAqL1xuICAgIFZ1ZUhlbHBlci5wcm90b3R5cGUuX3N0YXJ0VHJhY2luZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFwcGx5VHJhY2luZ0hvb2tzID0gdGhpcy5fYXBwbHlUcmFjaW5nSG9va3M7XG4gICAgICAgIHZhciBhcHBsaWVkVHJhY2luZ0hvb2tzID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihcIkRpZG4ndCBhcHBseSB0cmFjaW5nIGhvb2tzLCBtYWtlIHN1cmUgeW91IGNhbGwgU2VudHJ5LmluaXQgYmVmb3JlIGluaXRpYWx6aW5nIFZ1ZSFcIik7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICAgIHRoaXMuX29wdGlvbnMuVnVlLm1peGluKHtcbiAgICAgICAgICAgIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChhcHBsaWVkVHJhY2luZ0hvb2tzKTtcbiAgICAgICAgICAgICAgICBhcHBseVRyYWNpbmdIb29rcyh0aGlzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIEluamVjdCBTZW50cnkncyBoYW5kbGVyIGludG8gb3ducyBWdWUncyBlcnJvciBoYW5kbGVyICAqL1xuICAgIFZ1ZUhlbHBlci5wcm90b3R5cGUuX2F0dGFjaEVycm9ySGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgICB2YXIgY3VycmVudEVycm9ySGFuZGxlciA9IHRoaXMuX29wdGlvbnMuVnVlLmNvbmZpZy5lcnJvckhhbmRsZXI7XG4gICAgICAgIHRoaXMuX29wdGlvbnMuVnVlLmNvbmZpZy5lcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoZXJyb3IsIHZtLCBpbmZvKSB7XG4gICAgICAgICAgICB2YXIgbWV0YWRhdGEgPSB7fTtcbiAgICAgICAgICAgIGlmICh2bSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLmNvbXBvbmVudE5hbWUgPSBfdGhpcy5fZ2V0Q29tcG9uZW50TmFtZSh2bSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb3B0aW9ucy5hdHRhY2hQcm9wcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEucHJvcHNEYXRhID0gdm0uJG9wdGlvbnMucHJvcHNEYXRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfb08pIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1VuYWJsZSB0byBleHRyYWN0IG1ldGFkYXRhIGZyb20gVnVlIGNvbXBvbmVudC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5mbykge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhLmxpZmVjeWNsZUhvb2sgPSBpbmZvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2FwdHVyZSBleGNlcHRpb24gaW4gdGhlIG5leHQgZXZlbnQgbG9vcCwgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIGJyZWFkY3J1bWJzIGFyZSByZWNvcmRlZCBpbiB0aW1lLlxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZ2V0Q3VycmVudEh1YigpLndpdGhTY29wZShmdW5jdGlvbiAoc2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuc2V0Q29udGV4dCgndnVlJywgbWV0YWRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBnZXRDdXJyZW50SHViKCkuY2FwdHVyZUV4Y2VwdGlvbihlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY3VycmVudEVycm9ySGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRFcnJvckhhbmRsZXIuY2FsbChfdGhpcy5fb3B0aW9ucy5WdWUsIGVycm9yLCB2bSwgaW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX3RoaXMuX29wdGlvbnMubG9nRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9vcHRpb25zLlZ1ZS51dGlsKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9vcHRpb25zLlZ1ZS51dGlsLndhcm4oXCJFcnJvciBpbiBcIiArIGluZm8gKyBcIjogXFxcIlwiICsgKGVycm9yICYmIGVycm9yLnRvU3RyaW5nKCkpICsgXCJcXFwiXCIsIHZtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBWdWVIZWxwZXI7XG59KCkpO1xuLyoqIEdyYWJzIGFjdGl2ZSB0cmFuc2FjdGlvbiBvZmYgc2NvcGUsIGlmIGFueSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGl2ZVRyYW5zYWN0aW9uKCkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKF9hID0gZ2V0Q3VycmVudEh1YigpXG4gICAgICAgIC5nZXRTY29wZSgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0VHJhbnNhY3Rpb24oKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNkay5qcy5tYXAiLCJleHBvcnQgdmFyIFRyYW5zYWN0aW9uU2FtcGxpbmdNZXRob2Q7XG4oZnVuY3Rpb24gKFRyYW5zYWN0aW9uU2FtcGxpbmdNZXRob2QpIHtcbiAgICBUcmFuc2FjdGlvblNhbXBsaW5nTWV0aG9kW1wiRXhwbGljaXRcIl0gPSBcImV4cGxpY2l0bHlfc2V0XCI7XG4gICAgVHJhbnNhY3Rpb25TYW1wbGluZ01ldGhvZFtcIlNhbXBsZXJcIl0gPSBcImNsaWVudF9zYW1wbGVyXCI7XG4gICAgVHJhbnNhY3Rpb25TYW1wbGluZ01ldGhvZFtcIlJhdGVcIl0gPSBcImNsaWVudF9yYXRlXCI7XG4gICAgVHJhbnNhY3Rpb25TYW1wbGluZ01ldGhvZFtcIkluaGVyaXRhbmNlXCJdID0gXCJpbmhlcml0YW5jZVwiO1xufSkoVHJhbnNhY3Rpb25TYW1wbGluZ01ldGhvZCB8fCAoVHJhbnNhY3Rpb25TYW1wbGluZ01ldGhvZCA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFuc2FjdGlvbi5qcy5tYXAiLCIvKiogVGhlIHN0YXR1cyBvZiBhbiBTcGFuLiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9leHBvcnRcbmV4cG9ydCB2YXIgU3BhblN0YXR1cztcbihmdW5jdGlvbiAoU3BhblN0YXR1cykge1xuICAgIC8qKiBUaGUgb3BlcmF0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuICovXG4gICAgU3BhblN0YXR1c1tcIk9rXCJdID0gXCJva1wiO1xuICAgIC8qKiBEZWFkbGluZSBleHBpcmVkIGJlZm9yZSBvcGVyYXRpb24gY291bGQgY29tcGxldGUuICovXG4gICAgU3BhblN0YXR1c1tcIkRlYWRsaW5lRXhjZWVkZWRcIl0gPSBcImRlYWRsaW5lX2V4Y2VlZGVkXCI7XG4gICAgLyoqIDQwMSBVbmF1dGhvcml6ZWQgKGFjdHVhbGx5IGRvZXMgbWVhbiB1bmF1dGhlbnRpY2F0ZWQgYWNjb3JkaW5nIHRvIFJGQyA3MjM1KSAqL1xuICAgIFNwYW5TdGF0dXNbXCJVbmF1dGhlbnRpY2F0ZWRcIl0gPSBcInVuYXV0aGVudGljYXRlZFwiO1xuICAgIC8qKiA0MDMgRm9yYmlkZGVuICovXG4gICAgU3BhblN0YXR1c1tcIlBlcm1pc3Npb25EZW5pZWRcIl0gPSBcInBlcm1pc3Npb25fZGVuaWVkXCI7XG4gICAgLyoqIDQwNCBOb3QgRm91bmQuIFNvbWUgcmVxdWVzdGVkIGVudGl0eSAoZmlsZSBvciBkaXJlY3RvcnkpIHdhcyBub3QgZm91bmQuICovXG4gICAgU3BhblN0YXR1c1tcIk5vdEZvdW5kXCJdID0gXCJub3RfZm91bmRcIjtcbiAgICAvKiogNDI5IFRvbyBNYW55IFJlcXVlc3RzICovXG4gICAgU3BhblN0YXR1c1tcIlJlc291cmNlRXhoYXVzdGVkXCJdID0gXCJyZXNvdXJjZV9leGhhdXN0ZWRcIjtcbiAgICAvKiogQ2xpZW50IHNwZWNpZmllZCBhbiBpbnZhbGlkIGFyZ3VtZW50LiA0eHguICovXG4gICAgU3BhblN0YXR1c1tcIkludmFsaWRBcmd1bWVudFwiXSA9IFwiaW52YWxpZF9hcmd1bWVudFwiO1xuICAgIC8qKiA1MDEgTm90IEltcGxlbWVudGVkICovXG4gICAgU3BhblN0YXR1c1tcIlVuaW1wbGVtZW50ZWRcIl0gPSBcInVuaW1wbGVtZW50ZWRcIjtcbiAgICAvKiogNTAzIFNlcnZpY2UgVW5hdmFpbGFibGUgKi9cbiAgICBTcGFuU3RhdHVzW1wiVW5hdmFpbGFibGVcIl0gPSBcInVuYXZhaWxhYmxlXCI7XG4gICAgLyoqIE90aGVyL2dlbmVyaWMgNXh4LiAqL1xuICAgIFNwYW5TdGF0dXNbXCJJbnRlcm5hbEVycm9yXCJdID0gXCJpbnRlcm5hbF9lcnJvclwiO1xuICAgIC8qKiBVbmtub3duLiBBbnkgbm9uLXN0YW5kYXJkIEhUVFAgc3RhdHVzIGNvZGUuICovXG4gICAgU3BhblN0YXR1c1tcIlVua25vd25FcnJvclwiXSA9IFwidW5rbm93bl9lcnJvclwiO1xuICAgIC8qKiBUaGUgb3BlcmF0aW9uIHdhcyBjYW5jZWxsZWQgKHR5cGljYWxseSBieSB0aGUgdXNlcikuICovXG4gICAgU3BhblN0YXR1c1tcIkNhbmNlbGxlZFwiXSA9IFwiY2FuY2VsbGVkXCI7XG4gICAgLyoqIEFscmVhZHkgZXhpc3RzICg0MDkpICovXG4gICAgU3BhblN0YXR1c1tcIkFscmVhZHlFeGlzdHNcIl0gPSBcImFscmVhZHlfZXhpc3RzXCI7XG4gICAgLyoqIE9wZXJhdGlvbiB3YXMgcmVqZWN0ZWQgYmVjYXVzZSB0aGUgc3lzdGVtIGlzIG5vdCBpbiBhIHN0YXRlIHJlcXVpcmVkIGZvciB0aGUgb3BlcmF0aW9uJ3MgKi9cbiAgICBTcGFuU3RhdHVzW1wiRmFpbGVkUHJlY29uZGl0aW9uXCJdID0gXCJmYWlsZWRfcHJlY29uZGl0aW9uXCI7XG4gICAgLyoqIFRoZSBvcGVyYXRpb24gd2FzIGFib3J0ZWQsIHR5cGljYWxseSBkdWUgdG8gYSBjb25jdXJyZW5jeSBpc3N1ZS4gKi9cbiAgICBTcGFuU3RhdHVzW1wiQWJvcnRlZFwiXSA9IFwiYWJvcnRlZFwiO1xuICAgIC8qKiBPcGVyYXRpb24gd2FzIGF0dGVtcHRlZCBwYXN0IHRoZSB2YWxpZCByYW5nZS4gKi9cbiAgICBTcGFuU3RhdHVzW1wiT3V0T2ZSYW5nZVwiXSA9IFwib3V0X29mX3JhbmdlXCI7XG4gICAgLyoqIFVucmVjb3ZlcmFibGUgZGF0YSBsb3NzIG9yIGNvcnJ1cHRpb24gKi9cbiAgICBTcGFuU3RhdHVzW1wiRGF0YUxvc3NcIl0gPSBcImRhdGFfbG9zc1wiO1xufSkoU3BhblN0YXR1cyB8fCAoU3BhblN0YXR1cyA9IHt9KSk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZSwgaW1wb3J0L2V4cG9ydFxuKGZ1bmN0aW9uIChTcGFuU3RhdHVzKSB7XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBIVFRQIHN0YXR1cyBjb2RlIGludG8gYSB7QGxpbmsgU3BhblN0YXR1c30uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaHR0cFN0YXR1cyBUaGUgSFRUUCByZXNwb25zZSBzdGF0dXMgY29kZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgc3BhbiBzdGF0dXMgb3Ige0BsaW5rIFNwYW5TdGF0dXMuVW5rbm93bkVycm9yfS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tSHR0cENvZGUoaHR0cFN0YXR1cykge1xuICAgICAgICBpZiAoaHR0cFN0YXR1cyA8IDQwMCkge1xuICAgICAgICAgICAgcmV0dXJuIFNwYW5TdGF0dXMuT2s7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGh0dHBTdGF0dXMgPj0gNDAwICYmIGh0dHBTdGF0dXMgPCA1MDApIHtcbiAgICAgICAgICAgIHN3aXRjaCAoaHR0cFN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNhc2UgNDAxOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3BhblN0YXR1cy5VbmF1dGhlbnRpY2F0ZWQ7XG4gICAgICAgICAgICAgICAgY2FzZSA0MDM6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcGFuU3RhdHVzLlBlcm1pc3Npb25EZW5pZWQ7XG4gICAgICAgICAgICAgICAgY2FzZSA0MDQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcGFuU3RhdHVzLk5vdEZvdW5kO1xuICAgICAgICAgICAgICAgIGNhc2UgNDA5OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3BhblN0YXR1cy5BbHJlYWR5RXhpc3RzO1xuICAgICAgICAgICAgICAgIGNhc2UgNDEzOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3BhblN0YXR1cy5GYWlsZWRQcmVjb25kaXRpb247XG4gICAgICAgICAgICAgICAgY2FzZSA0Mjk6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcGFuU3RhdHVzLlJlc291cmNlRXhoYXVzdGVkO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcGFuU3RhdHVzLkludmFsaWRBcmd1bWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaHR0cFN0YXR1cyA+PSA1MDAgJiYgaHR0cFN0YXR1cyA8IDYwMCkge1xuICAgICAgICAgICAgc3dpdGNoIChodHRwU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSA1MDE6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcGFuU3RhdHVzLlVuaW1wbGVtZW50ZWQ7XG4gICAgICAgICAgICAgICAgY2FzZSA1MDM6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcGFuU3RhdHVzLlVuYXZhaWxhYmxlO1xuICAgICAgICAgICAgICAgIGNhc2UgNTA0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3BhblN0YXR1cy5EZWFkbGluZUV4Y2VlZGVkO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBTcGFuU3RhdHVzLkludGVybmFsRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNwYW5TdGF0dXMuVW5rbm93bkVycm9yO1xuICAgIH1cbiAgICBTcGFuU3RhdHVzLmZyb21IdHRwQ29kZSA9IGZyb21IdHRwQ29kZTtcbn0pKFNwYW5TdGF0dXMgfHwgKFNwYW5TdGF0dXMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3BhbnN0YXR1cy5qcy5tYXAiLCJpbXBvcnQgeyBnZXRDdXJyZW50SHViIH0gZnJvbSAnQHNlbnRyeS9odWInO1xuZXhwb3J0IHZhciBUUkFDRVBBUkVOVF9SRUdFWFAgPSBuZXcgUmVnRXhwKCdeWyBcXFxcdF0qJyArIC8vIHdoaXRlc3BhY2VcbiAgICAnKFswLTlhLWZdezMyfSk/JyArIC8vIHRyYWNlX2lkXG4gICAgJy0/KFswLTlhLWZdezE2fSk/JyArIC8vIHNwYW5faWRcbiAgICAnLT8oWzAxXSk/JyArIC8vIHNhbXBsZWRcbiAgICAnWyBcXFxcdF0qJCcpO1xuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRyYWNpbmcgaXMgY3VycmVudGx5IGVuYWJsZWQuXG4gKlxuICogVHJhY2luZyBpcyBlbmFibGVkIHdoZW4gYXQgbGVhc3Qgb25lIG9mIGB0cmFjZXNTYW1wbGVSYXRlYCBhbmQgYHRyYWNlc1NhbXBsZXJgIGlzIGRlZmluZWQgaW4gdGhlIFNESyBjb25maWcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNUcmFjaW5nRW5hYmxlZChvcHRpb25zKSB7XG4gICAgcmV0dXJuICd0cmFjZXNTYW1wbGVSYXRlJyBpbiBvcHRpb25zIHx8ICd0cmFjZXNTYW1wbGVyJyBpbiBvcHRpb25zO1xufVxuLyoqXG4gKiBFeHRyYWN0IHRyYW5zYWN0aW9uIGNvbnRleHQgZGF0YSBmcm9tIGEgYHNlbnRyeS10cmFjZWAgaGVhZGVyLlxuICpcbiAqIEBwYXJhbSB0cmFjZXBhcmVudCBUcmFjZXBhcmVudCBzdHJpbmdcbiAqXG4gKiBAcmV0dXJucyBPYmplY3QgY29udGFpbmluZyBkYXRhIGZyb20gdGhlIGhlYWRlciwgb3IgdW5kZWZpbmVkIGlmIHRyYWNlcGFyZW50IHN0cmluZyBpcyBtYWxmb3JtZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RUcmFjZXBhcmVudERhdGEodHJhY2VwYXJlbnQpIHtcbiAgICB2YXIgbWF0Y2hlcyA9IHRyYWNlcGFyZW50Lm1hdGNoKFRSQUNFUEFSRU5UX1JFR0VYUCk7XG4gICAgaWYgKG1hdGNoZXMpIHtcbiAgICAgICAgdmFyIHBhcmVudFNhbXBsZWQgPSB2b2lkIDA7XG4gICAgICAgIGlmIChtYXRjaGVzWzNdID09PSAnMScpIHtcbiAgICAgICAgICAgIHBhcmVudFNhbXBsZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1hdGNoZXNbM10gPT09ICcwJykge1xuICAgICAgICAgICAgcGFyZW50U2FtcGxlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0cmFjZUlkOiBtYXRjaGVzWzFdLFxuICAgICAgICAgICAgcGFyZW50U2FtcGxlZDogcGFyZW50U2FtcGxlZCxcbiAgICAgICAgICAgIHBhcmVudFNwYW5JZDogbWF0Y2hlc1syXSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKiBHcmFicyBhY3RpdmUgdHJhbnNhY3Rpb24gb2ZmIHNjb3BlLCBpZiBhbnkgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3RpdmVUcmFuc2FjdGlvbihodWIpIHtcbiAgICBpZiAoaHViID09PSB2b2lkIDApIHsgaHViID0gZ2V0Q3VycmVudEh1YigpOyB9XG4gICAgdmFyIF9hLCBfYjtcbiAgICByZXR1cm4gKF9iID0gKF9hID0gaHViKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0U2NvcGUoKSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmdldFRyYW5zYWN0aW9uKCk7XG59XG4vKipcbiAqIENvbnZlcnRzIGZyb20gbWlsbGlzZWNvbmRzIHRvIHNlY29uZHNcbiAqIEBwYXJhbSB0aW1lIHRpbWUgaW4gbXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1zVG9TZWModGltZSkge1xuICAgIHJldHVybiB0aW1lIC8gMTAwMDtcbn1cbi8qKlxuICogQ29udmVydHMgZnJvbSBzZWNvbmRzIHRvIG1pbGxpc2Vjb25kc1xuICogQHBhcmFtIHRpbWUgdGltZSBpbiBzZWNvbmRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWNUb01zKHRpbWUpIHtcbiAgICByZXR1cm4gdGltZSAqIDEwMDA7XG59XG4vLyBzbyBpdCBjYW4gYmUgdXNlZCBpbiBtYW51YWwgaW5zdHJ1bWVudGF0aW9uIHdpdGhvdXQgbmVjZXNzaXRhdGluZyBhIGhhcmQgZGVwZW5kZW5jeSBvbiBAc2VudHJ5L3V0aWxzXG5leHBvcnQgeyBzdHJpcFVybFF1ZXJ5QW5kRnJhZ21lbnQgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLmpzLm1hcCIsImltcG9ydCB7IGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIsIGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgU3BhblN0YXR1cyB9IGZyb20gJy4vc3BhbnN0YXR1cyc7XG5pbXBvcnQgeyBnZXRBY3RpdmVUcmFuc2FjdGlvbiB9IGZyb20gJy4vdXRpbHMnO1xuLyoqXG4gKiBDb25maWd1cmVzIGdsb2JhbCBlcnJvciBsaXN0ZW5lcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyRXJyb3JJbnN0cnVtZW50YXRpb24oKSB7XG4gICAgYWRkSW5zdHJ1bWVudGF0aW9uSGFuZGxlcih7XG4gICAgICAgIGNhbGxiYWNrOiBlcnJvckNhbGxiYWNrLFxuICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgIH0pO1xuICAgIGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIoe1xuICAgICAgICBjYWxsYmFjazogZXJyb3JDYWxsYmFjayxcbiAgICAgICAgdHlwZTogJ3VuaGFuZGxlZHJlamVjdGlvbicsXG4gICAgfSk7XG59XG4vKipcbiAqIElmIGFuIGVycm9yIG9yIHVuaGFuZGxlZCBwcm9taXNlIG9jY3Vycywgd2UgbWFyayB0aGUgYWN0aXZlIHRyYW5zYWN0aW9uIGFzIGZhaWxlZFxuICovXG5mdW5jdGlvbiBlcnJvckNhbGxiYWNrKCkge1xuICAgIHZhciBhY3RpdmVUcmFuc2FjdGlvbiA9IGdldEFjdGl2ZVRyYW5zYWN0aW9uKCk7XG4gICAgaWYgKGFjdGl2ZVRyYW5zYWN0aW9uKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJbVHJhY2luZ10gVHJhbnNhY3Rpb246IFwiICsgU3BhblN0YXR1cy5JbnRlcm5hbEVycm9yICsgXCIgLT4gR2xvYmFsIGVycm9yIG9jY3VyZWRcIik7XG4gICAgICAgIGFjdGl2ZVRyYW5zYWN0aW9uLnNldFN0YXR1cyhTcGFuU3RhdHVzLkludGVybmFsRXJyb3IpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZHJvcFVuZGVmaW5lZEtleXMsIHRpbWVzdGFtcFdpdGhNcywgdXVpZDQgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IFNwYW5TdGF0dXMgfSBmcm9tICcuL3NwYW5zdGF0dXMnO1xuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiBmaW5pc2hlZCBzcGFucyBmb3IgYSBnaXZlbiB0cmFuc2FjdGlvblxuICogQGludGVybmFsXG4gKiBAaGlkZWNvbnN0cnVjdG9yXG4gKiBAaGlkZGVuXG4gKi9cbnZhciBTcGFuUmVjb3JkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3BhblJlY29yZGVyKG1heGxlbikge1xuICAgICAgICBpZiAobWF4bGVuID09PSB2b2lkIDApIHsgbWF4bGVuID0gMTAwMDsgfVxuICAgICAgICB0aGlzLnNwYW5zID0gW107XG4gICAgICAgIHRoaXMuX21heGxlbiA9IG1heGxlbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBqdXN0IHNvIHRoYXQgd2UgZG9uJ3QgcnVuIG91dCBvZiBtZW1vcnkgd2hpbGUgcmVjb3JkaW5nIGEgbG90XG4gICAgICogb2Ygc3BhbnMuIEF0IHNvbWUgcG9pbnQgd2UganVzdCBzdG9wIGFuZCBmbHVzaCBvdXQgdGhlIHN0YXJ0IG9mIHRoZVxuICAgICAqIHRyYWNlIHRyZWUgKGkuZS50aGUgZmlyc3QgbiBzcGFucyB3aXRoIHRoZSBzbWFsbGVzdFxuICAgICAqIHN0YXJ0X3RpbWVzdGFtcCkuXG4gICAgICovXG4gICAgU3BhblJlY29yZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoc3Bhbikge1xuICAgICAgICBpZiAodGhpcy5zcGFucy5sZW5ndGggPiB0aGlzLl9tYXhsZW4pIHtcbiAgICAgICAgICAgIHNwYW4uc3BhblJlY29yZGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zcGFucy5wdXNoKHNwYW4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU3BhblJlY29yZGVyO1xufSgpKTtcbmV4cG9ydCB7IFNwYW5SZWNvcmRlciB9O1xuLyoqXG4gKiBTcGFuIGNvbnRhaW5zIGFsbCBkYXRhIGFib3V0IGEgc3BhblxuICovXG52YXIgU3BhbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBZb3Ugc2hvdWxkIG5ldmVyIGNhbGwgdGhlIGNvbnN0cnVjdG9yIG1hbnVhbGx5LCBhbHdheXMgdXNlIGBTZW50cnkuc3RhcnRUcmFuc2FjdGlvbigpYFxuICAgICAqIG9yIGNhbGwgYHN0YXJ0Q2hpbGQoKWAgb24gYW4gZXhpc3Rpbmcgc3Bhbi5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFNwYW4oc3BhbkNvbnRleHQpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbmhlcml0RG9jXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRyYWNlSWQgPSB1dWlkNCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGluaGVyaXREb2NcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3BhbklkID0gdXVpZDQoKS5zdWJzdHJpbmcoMTYpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGltZXN0YW1wIGluIHNlY29uZHMgd2hlbiB0aGUgc3BhbiB3YXMgY3JlYXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lc3RhbXAgPSB0aW1lc3RhbXBXaXRoTXMoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbmhlcml0RG9jXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnRhZ3MgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbmhlcml0RG9jXG4gICAgICAgICAqL1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB0aGlzLmRhdGEgPSB7fTtcbiAgICAgICAgaWYgKCFzcGFuQ29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwYW5Db250ZXh0LnRyYWNlSWQpIHtcbiAgICAgICAgICAgIHRoaXMudHJhY2VJZCA9IHNwYW5Db250ZXh0LnRyYWNlSWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwYW5Db250ZXh0LnNwYW5JZCkge1xuICAgICAgICAgICAgdGhpcy5zcGFuSWQgPSBzcGFuQ29udGV4dC5zcGFuSWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwYW5Db250ZXh0LnBhcmVudFNwYW5JZCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnRTcGFuSWQgPSBzcGFuQ29udGV4dC5wYXJlbnRTcGFuSWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2Ugd2FudCB0byBpbmNsdWRlIGJvb2xlYW5zIGFzIHdlbGwgaGVyZVxuICAgICAgICBpZiAoJ3NhbXBsZWQnIGluIHNwYW5Db250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnNhbXBsZWQgPSBzcGFuQ29udGV4dC5zYW1wbGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFuQ29udGV4dC5vcCkge1xuICAgICAgICAgICAgdGhpcy5vcCA9IHNwYW5Db250ZXh0Lm9wO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFuQ29udGV4dC5kZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5kZXNjcmlwdGlvbiA9IHNwYW5Db250ZXh0LmRlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFuQ29udGV4dC5kYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBzcGFuQ29udGV4dC5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFuQ29udGV4dC50YWdzKSB7XG4gICAgICAgICAgICB0aGlzLnRhZ3MgPSBzcGFuQ29udGV4dC50YWdzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFuQ29udGV4dC5zdGF0dXMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gc3BhbkNvbnRleHQuc3RhdHVzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFuQ29udGV4dC5zdGFydFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFRpbWVzdGFtcCA9IHNwYW5Db250ZXh0LnN0YXJ0VGltZXN0YW1wO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFuQ29udGV4dC5lbmRUaW1lc3RhbXApIHtcbiAgICAgICAgICAgIHRoaXMuZW5kVGltZXN0YW1wID0gc3BhbkNvbnRleHQuZW5kVGltZXN0YW1wO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICBTcGFuLnByb3RvdHlwZS5jaGlsZCA9IGZ1bmN0aW9uIChzcGFuQ29udGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFydENoaWxkKHNwYW5Db250ZXh0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU3Bhbi5wcm90b3R5cGUuc3RhcnRDaGlsZCA9IGZ1bmN0aW9uIChzcGFuQ29udGV4dCkge1xuICAgICAgICB2YXIgY2hpbGRTcGFuID0gbmV3IFNwYW4oX19hc3NpZ24oX19hc3NpZ24oe30sIHNwYW5Db250ZXh0KSwgeyBwYXJlbnRTcGFuSWQ6IHRoaXMuc3BhbklkLCBzYW1wbGVkOiB0aGlzLnNhbXBsZWQsIHRyYWNlSWQ6IHRoaXMudHJhY2VJZCB9KSk7XG4gICAgICAgIGNoaWxkU3Bhbi5zcGFuUmVjb3JkZXIgPSB0aGlzLnNwYW5SZWNvcmRlcjtcbiAgICAgICAgaWYgKGNoaWxkU3Bhbi5zcGFuUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIGNoaWxkU3Bhbi5zcGFuUmVjb3JkZXIuYWRkKGNoaWxkU3Bhbik7XG4gICAgICAgIH1cbiAgICAgICAgY2hpbGRTcGFuLnRyYW5zYWN0aW9uID0gdGhpcy50cmFuc2FjdGlvbjtcbiAgICAgICAgcmV0dXJuIGNoaWxkU3BhbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU3Bhbi5wcm90b3R5cGUuc2V0VGFnID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnRhZ3MgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy50YWdzKSwgKF9hID0ge30sIF9hW2tleV0gPSB2YWx1ZSwgX2EpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG4gICAgU3Bhbi5wcm90b3R5cGUuc2V0RGF0YSA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5kYXRhID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuZGF0YSksIChfYSA9IHt9LCBfYVtrZXldID0gdmFsdWUsIF9hKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTcGFuLnByb3RvdHlwZS5zZXRTdGF0dXMgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNwYW4ucHJvdG90eXBlLnNldEh0dHBTdGF0dXMgPSBmdW5jdGlvbiAoaHR0cFN0YXR1cykge1xuICAgICAgICB0aGlzLnNldFRhZygnaHR0cC5zdGF0dXNfY29kZScsIFN0cmluZyhodHRwU3RhdHVzKSk7XG4gICAgICAgIHZhciBzcGFuU3RhdHVzID0gU3BhblN0YXR1cy5mcm9tSHR0cENvZGUoaHR0cFN0YXR1cyk7XG4gICAgICAgIGlmIChzcGFuU3RhdHVzICE9PSBTcGFuU3RhdHVzLlVua25vd25FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0dXMoc3BhblN0YXR1cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNwYW4ucHJvdG90eXBlLmlzU3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzID09PSBTcGFuU3RhdHVzLk9rO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTcGFuLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoZW5kVGltZXN0YW1wKSB7XG4gICAgICAgIHRoaXMuZW5kVGltZXN0YW1wID0gdHlwZW9mIGVuZFRpbWVzdGFtcCA9PT0gJ251bWJlcicgPyBlbmRUaW1lc3RhbXAgOiB0aW1lc3RhbXBXaXRoTXMoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU3Bhbi5wcm90b3R5cGUudG9UcmFjZXBhcmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNhbXBsZWRTdHJpbmcgPSAnJztcbiAgICAgICAgaWYgKHRoaXMuc2FtcGxlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzYW1wbGVkU3RyaW5nID0gdGhpcy5zYW1wbGVkID8gJy0xJyA6ICctMCc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudHJhY2VJZCArIFwiLVwiICsgdGhpcy5zcGFuSWQgKyBzYW1wbGVkU3RyaW5nO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTcGFuLnByb3RvdHlwZS50b0NvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBkcm9wVW5kZWZpbmVkS2V5cyh7XG4gICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGEsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIGVuZFRpbWVzdGFtcDogdGhpcy5lbmRUaW1lc3RhbXAsXG4gICAgICAgICAgICBvcDogdGhpcy5vcCxcbiAgICAgICAgICAgIHBhcmVudFNwYW5JZDogdGhpcy5wYXJlbnRTcGFuSWQsXG4gICAgICAgICAgICBzYW1wbGVkOiB0aGlzLnNhbXBsZWQsXG4gICAgICAgICAgICBzcGFuSWQ6IHRoaXMuc3BhbklkLFxuICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXA6IHRoaXMuc3RhcnRUaW1lc3RhbXAsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICAgICAgdGFnczogdGhpcy50YWdzLFxuICAgICAgICAgICAgdHJhY2VJZDogdGhpcy50cmFjZUlkLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU3Bhbi5wcm90b3R5cGUudXBkYXRlV2l0aENvbnRleHQgPSBmdW5jdGlvbiAoc3BhbkNvbnRleHQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgdGhpcy5kYXRhID0gKF9hID0gc3BhbkNvbnRleHQuZGF0YSwgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9KSk7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBzcGFuQ29udGV4dC5kZXNjcmlwdGlvbjtcbiAgICAgICAgdGhpcy5lbmRUaW1lc3RhbXAgPSBzcGFuQ29udGV4dC5lbmRUaW1lc3RhbXA7XG4gICAgICAgIHRoaXMub3AgPSBzcGFuQ29udGV4dC5vcDtcbiAgICAgICAgdGhpcy5wYXJlbnRTcGFuSWQgPSBzcGFuQ29udGV4dC5wYXJlbnRTcGFuSWQ7XG4gICAgICAgIHRoaXMuc2FtcGxlZCA9IHNwYW5Db250ZXh0LnNhbXBsZWQ7XG4gICAgICAgIHRoaXMuc3BhbklkID0gKF9iID0gc3BhbkNvbnRleHQuc3BhbklkLCAoX2IgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5zcGFuSWQpKTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVzdGFtcCA9IChfYyA9IHNwYW5Db250ZXh0LnN0YXJ0VGltZXN0YW1wLCAoX2MgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogdGhpcy5zdGFydFRpbWVzdGFtcCkpO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IHNwYW5Db250ZXh0LnN0YXR1cztcbiAgICAgICAgdGhpcy50YWdzID0gKF9kID0gc3BhbkNvbnRleHQudGFncywgKF9kICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IHt9KSk7XG4gICAgICAgIHRoaXMudHJhY2VJZCA9IChfZSA9IHNwYW5Db250ZXh0LnRyYWNlSWQsIChfZSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiB0aGlzLnRyYWNlSWQpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNwYW4ucHJvdG90eXBlLmdldFRyYWNlQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGRyb3BVbmRlZmluZWRLZXlzKHtcbiAgICAgICAgICAgIGRhdGE6IE9iamVjdC5rZXlzKHRoaXMuZGF0YSkubGVuZ3RoID4gMCA/IHRoaXMuZGF0YSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgb3A6IHRoaXMub3AsXG4gICAgICAgICAgICBwYXJlbnRfc3Bhbl9pZDogdGhpcy5wYXJlbnRTcGFuSWQsXG4gICAgICAgICAgICBzcGFuX2lkOiB0aGlzLnNwYW5JZCxcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgICAgICB0YWdzOiBPYmplY3Qua2V5cyh0aGlzLnRhZ3MpLmxlbmd0aCA+IDAgPyB0aGlzLnRhZ3MgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0cmFjZV9pZDogdGhpcy50cmFjZUlkLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU3Bhbi5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZHJvcFVuZGVmaW5lZEtleXMoe1xuICAgICAgICAgICAgZGF0YTogT2JqZWN0LmtleXModGhpcy5kYXRhKS5sZW5ndGggPiAwID8gdGhpcy5kYXRhIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBvcDogdGhpcy5vcCxcbiAgICAgICAgICAgIHBhcmVudF9zcGFuX2lkOiB0aGlzLnBhcmVudFNwYW5JZCxcbiAgICAgICAgICAgIHNwYW5faWQ6IHRoaXMuc3BhbklkLFxuICAgICAgICAgICAgc3RhcnRfdGltZXN0YW1wOiB0aGlzLnN0YXJ0VGltZXN0YW1wLFxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgIHRhZ3M6IE9iamVjdC5rZXlzKHRoaXMudGFncykubGVuZ3RoID4gMCA/IHRoaXMudGFncyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy5lbmRUaW1lc3RhbXAsXG4gICAgICAgICAgICB0cmFjZV9pZDogdGhpcy50cmFjZUlkLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBTcGFuO1xufSgpKTtcbmV4cG9ydCB7IFNwYW4gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwYW4uanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZ2V0Q3VycmVudEh1YiwgSHViIH0gZnJvbSAnQHNlbnRyeS9odWInO1xuaW1wb3J0IHsgZHJvcFVuZGVmaW5lZEtleXMsIGlzSW5zdGFuY2VPZiwgbG9nZ2VyIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBTcGFuIGFzIFNwYW5DbGFzcywgU3BhblJlY29yZGVyIH0gZnJvbSAnLi9zcGFuJztcbi8qKiBKU0RvYyAqL1xudmFyIFRyYW5zYWN0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUcmFuc2FjdGlvbiwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNvbnN0cnVjdG9yIHNob3VsZCBuZXZlciBiZSBjYWxsZWQgbWFudWFsbHkuIFRob3NlIGluc3RydW1lbnRpbmcgdHJhY2luZyBzaG91bGQgdXNlXG4gICAgICogYFNlbnRyeS5zdGFydFRyYW5zYWN0aW9uKClgLCBhbmQgaW50ZXJuYWwgbWV0aG9kcyBzaG91bGQgdXNlIGBodWIuc3RhcnRUcmFuc2FjdGlvbigpYC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uQ29udGV4dCwgaHViKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uQ29udGV4dCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX21ldGFkYXRhID0ge307XG4gICAgICAgIF90aGlzLl9tZWFzdXJlbWVudHMgPSB7fTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgaHViLlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX2h1YiA9IGdldEN1cnJlbnRIdWIoKTtcbiAgICAgICAgaWYgKGlzSW5zdGFuY2VPZihodWIsIEh1YikpIHtcbiAgICAgICAgICAgIF90aGlzLl9odWIgPSBodWI7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMubmFtZSA9IHRyYW5zYWN0aW9uQ29udGV4dC5uYW1lIHx8ICcnO1xuICAgICAgICBfdGhpcy5fdHJpbUVuZCA9IHRyYW5zYWN0aW9uQ29udGV4dC50cmltRW5kO1xuICAgICAgICAvLyB0aGlzIGlzIGJlY2F1c2UgdHJhbnNhY3Rpb25zIGFyZSBhbHNvIHNwYW5zLCBhbmQgc3BhbnMgaGF2ZSBhIHRyYW5zYWN0aW9uIHBvaW50ZXJcbiAgICAgICAgX3RoaXMudHJhbnNhY3Rpb24gPSBfdGhpcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBKU0RvY1xuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5zZXROYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIFNwYW5SZWNvcmRlciB0byB0aGUgc3BhbiBpdHNlbGZcbiAgICAgKiBAcGFyYW0gbWF4bGVuIG1heGltdW0gbnVtYmVyIG9mIHNwYW5zIHRoYXQgY2FuIGJlIHJlY29yZGVkXG4gICAgICovXG4gICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLmluaXRTcGFuUmVjb3JkZXIgPSBmdW5jdGlvbiAobWF4bGVuKSB7XG4gICAgICAgIGlmIChtYXhsZW4gPT09IHZvaWQgMCkgeyBtYXhsZW4gPSAxMDAwOyB9XG4gICAgICAgIGlmICghdGhpcy5zcGFuUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3BhblJlY29yZGVyID0gbmV3IFNwYW5SZWNvcmRlcihtYXhsZW4pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3BhblJlY29yZGVyLmFkZCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBvYnNlcnZlZCBtZWFzdXJlbWVudHMgZm9yIHRoaXMgdHJhbnNhY3Rpb24uXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5zZXRNZWFzdXJlbWVudHMgPSBmdW5jdGlvbiAobWVhc3VyZW1lbnRzKSB7XG4gICAgICAgIHRoaXMuX21lYXN1cmVtZW50cyA9IF9fYXNzaWduKHt9LCBtZWFzdXJlbWVudHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IG1ldGFkYXRhIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuc2V0TWV0YWRhdGEgPSBmdW5jdGlvbiAobmV3TWV0YWRhdGEpIHtcbiAgICAgICAgdGhpcy5fbWV0YWRhdGEgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5fbWV0YWRhdGEpLCBuZXdNZXRhZGF0YSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoZW5kVGltZXN0YW1wKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFRoaXMgdHJhbnNhY3Rpb24gaXMgYWxyZWFkeSBmaW5pc2hlZCwgc28gd2Ugc2hvdWxkIG5vdCBmbHVzaCBpdCBhZ2Fpbi5cbiAgICAgICAgaWYgKHRoaXMuZW5kVGltZXN0YW1wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLm5hbWUpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdUcmFuc2FjdGlvbiBoYXMgbm8gbmFtZSwgZmFsbGluZyBiYWNrIHRvIGA8dW5sYWJlbGVkIHRyYW5zYWN0aW9uPmAuJyk7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSAnPHVubGFiZWxlZCB0cmFuc2FjdGlvbj4nO1xuICAgICAgICB9XG4gICAgICAgIC8vIGp1c3Qgc2V0cyB0aGUgZW5kIHRpbWVzdGFtcFxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmZpbmlzaC5jYWxsKHRoaXMsIGVuZFRpbWVzdGFtcCk7XG4gICAgICAgIGlmICh0aGlzLnNhbXBsZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgaWYgYHNhbXBsZWQgIT09IHRydWVgIHdlIHdhbnQgdG8gZGlzY2FyZCB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICBsb2dnZXIubG9nKCdbVHJhY2luZ10gRGlzY2FyZGluZyB0cmFuc2FjdGlvbiBiZWNhdXNlIGl0cyB0cmFjZSB3YXMgbm90IGNob3NlbiB0byBiZSBzYW1wbGVkLicpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmluaXNoZWRTcGFucyA9IHRoaXMuc3BhblJlY29yZGVyID8gdGhpcy5zcGFuUmVjb3JkZXIuc3BhbnMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzICE9PSBfdGhpcyAmJiBzLmVuZFRpbWVzdGFtcDsgfSkgOiBbXTtcbiAgICAgICAgaWYgKHRoaXMuX3RyaW1FbmQgJiYgZmluaXNoZWRTcGFucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmVuZFRpbWVzdGFtcCA9IGZpbmlzaGVkU3BhbnMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXYuZW5kVGltZXN0YW1wICYmIGN1cnJlbnQuZW5kVGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmV2LmVuZFRpbWVzdGFtcCA+IGN1cnJlbnQuZW5kVGltZXN0YW1wID8gcHJldiA6IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgfSkuZW5kVGltZXN0YW1wO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IHtcbiAgICAgICAgICAgIGNvbnRleHRzOiB7XG4gICAgICAgICAgICAgICAgdHJhY2U6IHRoaXMuZ2V0VHJhY2VDb250ZXh0KCksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3BhbnM6IGZpbmlzaGVkU3BhbnMsXG4gICAgICAgICAgICBzdGFydF90aW1lc3RhbXA6IHRoaXMuc3RhcnRUaW1lc3RhbXAsXG4gICAgICAgICAgICB0YWdzOiB0aGlzLnRhZ3MsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMuZW5kVGltZXN0YW1wLFxuICAgICAgICAgICAgdHJhbnNhY3Rpb246IHRoaXMubmFtZSxcbiAgICAgICAgICAgIHR5cGU6ICd0cmFuc2FjdGlvbicsXG4gICAgICAgICAgICBkZWJ1Z19tZXRhOiB0aGlzLl9tZXRhZGF0YSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGhhc01lYXN1cmVtZW50cyA9IE9iamVjdC5rZXlzKHRoaXMuX21lYXN1cmVtZW50cykubGVuZ3RoID4gMDtcbiAgICAgICAgaWYgKGhhc01lYXN1cmVtZW50cykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnW01lYXN1cmVtZW50c10gQWRkaW5nIG1lYXN1cmVtZW50cyB0byB0cmFuc2FjdGlvbicsIEpTT04uc3RyaW5naWZ5KHRoaXMuX21lYXN1cmVtZW50cywgdW5kZWZpbmVkLCAyKSk7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5tZWFzdXJlbWVudHMgPSB0aGlzLl9tZWFzdXJlbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2h1Yi5jYXB0dXJlRXZlbnQodHJhbnNhY3Rpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUudG9Db250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3BhbkNvbnRleHQgPSBfc3VwZXIucHJvdG90eXBlLnRvQ29udGV4dC5jYWxsKHRoaXMpO1xuICAgICAgICByZXR1cm4gZHJvcFVuZGVmaW5lZEtleXMoX19hc3NpZ24oX19hc3NpZ24oe30sIHNwYW5Db250ZXh0KSwgeyBuYW1lOiB0aGlzLm5hbWUsIHRyaW1FbmQ6IHRoaXMuX3RyaW1FbmQgfSkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUudXBkYXRlV2l0aENvbnRleHQgPSBmdW5jdGlvbiAodHJhbnNhY3Rpb25Db250ZXh0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51cGRhdGVXaXRoQ29udGV4dC5jYWxsKHRoaXMsIHRyYW5zYWN0aW9uQ29udGV4dCk7XG4gICAgICAgIHRoaXMubmFtZSA9IChfYSA9IHRyYW5zYWN0aW9uQ29udGV4dC5uYW1lLCAoX2EgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycpKTtcbiAgICAgICAgdGhpcy5fdHJpbUVuZCA9IHRyYW5zYWN0aW9uQ29udGV4dC50cmltRW5kO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBUcmFuc2FjdGlvbjtcbn0oU3BhbkNsYXNzKSk7XG5leHBvcnQgeyBUcmFuc2FjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNhY3Rpb24uanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzLCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgbG9nZ2VyLCB0aW1lc3RhbXBXaXRoTXMgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IFNwYW5SZWNvcmRlciB9IGZyb20gJy4vc3Bhbic7XG5pbXBvcnQgeyBTcGFuU3RhdHVzIH0gZnJvbSAnLi9zcGFuc3RhdHVzJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uIH0gZnJvbSAnLi90cmFuc2FjdGlvbic7XG5leHBvcnQgdmFyIERFRkFVTFRfSURMRV9USU1FT1VUID0gMTAwMDtcbi8qKlxuICogQGluaGVyaXREb2NcbiAqL1xudmFyIElkbGVUcmFuc2FjdGlvblNwYW5SZWNvcmRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSWRsZVRyYW5zYWN0aW9uU3BhblJlY29yZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElkbGVUcmFuc2FjdGlvblNwYW5SZWNvcmRlcihfcHVzaEFjdGl2aXR5LCBfcG9wQWN0aXZpdHksIHRyYW5zYWN0aW9uU3BhbklkLCBtYXhsZW4pIHtcbiAgICAgICAgaWYgKHRyYW5zYWN0aW9uU3BhbklkID09PSB2b2lkIDApIHsgdHJhbnNhY3Rpb25TcGFuSWQgPSAnJzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtYXhsZW4pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9wdXNoQWN0aXZpdHkgPSBfcHVzaEFjdGl2aXR5O1xuICAgICAgICBfdGhpcy5fcG9wQWN0aXZpdHkgPSBfcG9wQWN0aXZpdHk7XG4gICAgICAgIF90aGlzLnRyYW5zYWN0aW9uU3BhbklkID0gdHJhbnNhY3Rpb25TcGFuSWQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBJZGxlVHJhbnNhY3Rpb25TcGFuUmVjb3JkZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChzcGFuKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIFdlIHNob3VsZCBtYWtlIHN1cmUgd2UgZG8gbm90IHB1c2ggYW5kIHBvcCBhY3Rpdml0aWVzIGZvclxuICAgICAgICAvLyB0aGUgdHJhbnNhY3Rpb24gdGhhdCB0aGlzIHNwYW4gcmVjb3JkZXIgYmVsb25ncyB0by5cbiAgICAgICAgaWYgKHNwYW4uc3BhbklkICE9PSB0aGlzLnRyYW5zYWN0aW9uU3BhbklkKSB7XG4gICAgICAgICAgICAvLyBXZSBwYXRjaCBzcGFuLmZpbmlzaCgpIHRvIHBvcCBhbiBhY3Rpdml0eSBhZnRlciBzZXR0aW5nIGFuIGVuZFRpbWVzdGFtcC5cbiAgICAgICAgICAgIHNwYW4uZmluaXNoID0gZnVuY3Rpb24gKGVuZFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgIHNwYW4uZW5kVGltZXN0YW1wID0gdHlwZW9mIGVuZFRpbWVzdGFtcCA9PT0gJ251bWJlcicgPyBlbmRUaW1lc3RhbXAgOiB0aW1lc3RhbXBXaXRoTXMoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5fcG9wQWN0aXZpdHkoc3Bhbi5zcGFuSWQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIFdlIHNob3VsZCBvbmx5IHB1c2ggbmV3IGFjdGl2aXRpZXMgaWYgdGhlIHNwYW4gZG9lcyBub3QgaGF2ZSBhbiBlbmQgdGltZXN0YW1wLlxuICAgICAgICAgICAgaWYgKHNwYW4uZW5kVGltZXN0YW1wID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wdXNoQWN0aXZpdHkoc3Bhbi5zcGFuSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuYWRkLmNhbGwodGhpcywgc3Bhbik7XG4gICAgfTtcbiAgICByZXR1cm4gSWRsZVRyYW5zYWN0aW9uU3BhblJlY29yZGVyO1xufShTcGFuUmVjb3JkZXIpKTtcbmV4cG9ydCB7IElkbGVUcmFuc2FjdGlvblNwYW5SZWNvcmRlciB9O1xuLyoqXG4gKiBBbiBJZGxlVHJhbnNhY3Rpb24gaXMgYSB0cmFuc2FjdGlvbiB0aGF0IGF1dG9tYXRpY2FsbHkgZmluaXNoZXMuIEl0IGRvZXMgdGhpcyBieSB0cmFja2luZyBjaGlsZCBzcGFucyBhcyBhY3Rpdml0aWVzLlxuICogWW91IGNhbiBoYXZlIG11bHRpcGxlIElkbGVUcmFuc2FjdGlvbnMgYWN0aXZlLCBidXQgaWYgdGhlIGBvblNjb3BlYCBvcHRpb24gaXMgc3BlY2lmaWVkLCB0aGUgaWRsZSB0cmFuc2FjdGlvbiB3aWxsXG4gKiBwdXQgaXRzZWxmIG9uIHRoZSBzY29wZSBvbiBjcmVhdGlvbi5cbiAqL1xudmFyIElkbGVUcmFuc2FjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoSWRsZVRyYW5zYWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIElkbGVUcmFuc2FjdGlvbih0cmFuc2FjdGlvbkNvbnRleHQsIF9pZGxlSHViLCBcbiAgICAvLyBUaGUgdGltZSB0byB3YWl0IGluIG1zIHVudGlsIHRoZSBpZGxlIHRyYW5zYWN0aW9uIHdpbGwgYmUgZmluaXNoZWQuIERlZmF1bHQ6IDEwMDBcbiAgICBfaWRsZVRpbWVvdXQsIFxuICAgIC8vIElmIGFuIGlkbGUgdHJhbnNhY3Rpb24gc2hvdWxkIGJlIHB1dCBpdHNlbGYgb24gYW5kIG9mZiB0aGUgc2NvcGUgYXV0b21hdGljYWxseS5cbiAgICBfb25TY29wZSkge1xuICAgICAgICBpZiAoX2lkbGVUaW1lb3V0ID09PSB2b2lkIDApIHsgX2lkbGVUaW1lb3V0ID0gREVGQVVMVF9JRExFX1RJTUVPVVQ7IH1cbiAgICAgICAgaWYgKF9vblNjb3BlID09PSB2b2lkIDApIHsgX29uU2NvcGUgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbkNvbnRleHQsIF9pZGxlSHViKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5faWRsZUh1YiA9IF9pZGxlSHViO1xuICAgICAgICBfdGhpcy5faWRsZVRpbWVvdXQgPSBfaWRsZVRpbWVvdXQ7XG4gICAgICAgIF90aGlzLl9vblNjb3BlID0gX29uU2NvcGU7XG4gICAgICAgIC8vIEFjdGl2aXRpZXMgc3RvcmUgYSBsaXN0IG9mIGFjdGl2ZSBzcGFuc1xuICAgICAgICBfdGhpcy5hY3Rpdml0aWVzID0ge307XG4gICAgICAgIC8vIFN0b3JlcyByZWZlcmVuY2UgdG8gdGhlIHRpbWVvdXQgdGhhdCBjYWxscyBfYmVhdCgpLlxuICAgICAgICBfdGhpcy5faGVhcnRiZWF0VGltZXIgPSAwO1xuICAgICAgICAvLyBBbW91bnQgb2YgdGltZXMgaGVhcnRiZWF0IGhhcyBjb3VudGVkLiBXaWxsIGNhdXNlIHRyYW5zYWN0aW9uIHRvIGZpbmlzaCBhZnRlciAzIGJlYXRzLlxuICAgICAgICBfdGhpcy5faGVhcnRiZWF0Q291bnRlciA9IDA7XG4gICAgICAgIC8vIFdlIHNob3VsZCBub3QgdXNlIGhlYXJ0YmVhdCBpZiB3ZSBmaW5pc2hlZCBhIHRyYW5zYWN0aW9uXG4gICAgICAgIF90aGlzLl9maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5fYmVmb3JlRmluaXNoQ2FsbGJhY2tzID0gW107XG4gICAgICAgIGlmIChfaWRsZUh1YiAmJiBfb25TY29wZSkge1xuICAgICAgICAgICAgLy8gVGhlcmUgc2hvdWxkIG9ubHkgYmUgb25lIGFjdGl2ZSB0cmFuc2FjdGlvbiBvbiB0aGUgc2NvcGVcbiAgICAgICAgICAgIGNsZWFyQWN0aXZlVHJhbnNhY3Rpb24oX2lkbGVIdWIpO1xuICAgICAgICAgICAgLy8gV2Ugc2V0IHRoZSB0cmFuc2FjdGlvbiBoZXJlIG9uIHRoZSBzY29wZSBzbyBlcnJvciBldmVudHMgcGljayB1cCB0aGUgdHJhY2VcbiAgICAgICAgICAgIC8vIGNvbnRleHQgYW5kIGF0dGFjaCBpdCB0byB0aGUgZXJyb3IuXG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiU2V0dGluZyBpZGxlIHRyYW5zYWN0aW9uIG9uIHNjb3BlLiBTcGFuIElEOiBcIiArIF90aGlzLnNwYW5JZCk7XG4gICAgICAgICAgICBfaWRsZUh1Yi5jb25maWd1cmVTY29wZShmdW5jdGlvbiAoc2NvcGUpIHsgcmV0dXJuIHNjb3BlLnNldFNwYW4oX3RoaXMpOyB9KTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5faW5pdFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXMuX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZmluaXNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIF90aGlzLl9pZGxlVGltZW91dCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqIHtAaW5oZXJpdERvY30gKi9cbiAgICBJZGxlVHJhbnNhY3Rpb24ucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uIChlbmRUaW1lc3RhbXApIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChlbmRUaW1lc3RhbXAgPT09IHZvaWQgMCkgeyBlbmRUaW1lc3RhbXAgPSB0aW1lc3RhbXBXaXRoTXMoKTsgfVxuICAgICAgICB0aGlzLl9maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYWN0aXZpdGllcyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5zcGFuUmVjb3JkZXIpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ1tUcmFjaW5nXSBmaW5pc2hpbmcgSWRsZVRyYW5zYWN0aW9uJywgbmV3IERhdGUoZW5kVGltZXN0YW1wICogMTAwMCkudG9JU09TdHJpbmcoKSwgdGhpcy5vcCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXModGhpcy5fYmVmb3JlRmluaXNoQ2FsbGJhY2tzKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodGhpcywgZW5kVGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNwYW5SZWNvcmRlci5zcGFucyA9IHRoaXMuc3BhblJlY29yZGVyLnNwYW5zLmZpbHRlcihmdW5jdGlvbiAoc3Bhbikge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGFyZSBkZWFsaW5nIHdpdGggdGhlIHRyYW5zYWN0aW9uIGl0c2VsZiwgd2UganVzdCByZXR1cm4gaXRcbiAgICAgICAgICAgICAgICBpZiAoc3Bhbi5zcGFuSWQgPT09IF90aGlzLnNwYW5JZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuY2VsIGFsbCBwZW5kaW5nIHNwYW5zIHdpdGggc3RhdHVzIFwiY2FuY2VsbGVkXCIgdG8gaW5kaWNhdGUgdGhlIGlkbGUgdHJhbnNhY3Rpb24gd2FzIGZpbmlzaGVkIGVhcmx5XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuLmVuZFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLmVuZFRpbWVzdGFtcCA9IGVuZFRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRTdGF0dXMoU3BhblN0YXR1cy5DYW5jZWxsZWQpO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdbVHJhY2luZ10gY2FuY2VsbGluZyBzcGFuIHNpbmNlIHRyYW5zYWN0aW9uIGVuZGVkIGVhcmx5JywgSlNPTi5zdHJpbmdpZnkoc3BhbiwgdW5kZWZpbmVkLCAyKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBrZWVwU3BhbiA9IHNwYW4uc3RhcnRUaW1lc3RhbXAgPCBlbmRUaW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgaWYgKCFrZWVwU3Bhbikge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdbVHJhY2luZ10gZGlzY2FyZGluZyBTcGFuIHNpbmNlIGl0IGhhcHBlbmVkIGFmdGVyIFRyYW5zYWN0aW9uIHdhcyBmaW5pc2hlZCcsIEpTT04uc3RyaW5naWZ5KHNwYW4sIHVuZGVmaW5lZCwgMikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ga2VlcFNwYW47XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ1tUcmFjaW5nXSBmbHVzaGluZyBJZGxlVHJhbnNhY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ1tUcmFjaW5nXSBObyBhY3RpdmUgSWRsZVRyYW5zYWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcy5fb25TY29wZSBpcyB0cnVlIGlmIHRoZSB0cmFuc2FjdGlvbiB3YXMgcHJldmlvdXNseSBvbiB0aGUgc2NvcGUuXG4gICAgICAgIGlmICh0aGlzLl9vblNjb3BlKSB7XG4gICAgICAgICAgICBjbGVhckFjdGl2ZVRyYW5zYWN0aW9uKHRoaXMuX2lkbGVIdWIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmZpbmlzaC5jYWxsKHRoaXMsIGVuZFRpbWVzdGFtcCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgZ2V0cyBleGNlY3V0ZWQgYmVmb3JlIHRoZSB0cmFuc2FjdGlvbiBmaW5pc2hlcy5cbiAgICAgKiBVc2VmdWwgZm9yIGNsZWFudXAgb3IgaWYgeW91IHdhbnQgdG8gYWRkIGFueSBhZGRpdGlvbmFsIHNwYW5zIGJhc2VkIG9uIGN1cnJlbnQgY29udGV4dC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgZXhwb3NlZCBiZWNhdXNlIHVzZXJzIGhhdmUgbm8gb3RoZXIgd2F5IG9mIHJ1bm5pbmcgc29tZXRoaW5nIGJlZm9yZSBhbiBpZGxlIHRyYW5zYWN0aW9uXG4gICAgICogZmluaXNoZXMuXG4gICAgICovXG4gICAgSWRsZVRyYW5zYWN0aW9uLnByb3RvdHlwZS5yZWdpc3RlckJlZm9yZUZpbmlzaENhbGxiYWNrID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2JlZm9yZUZpbmlzaENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSWRsZVRyYW5zYWN0aW9uLnByb3RvdHlwZS5pbml0U3BhblJlY29yZGVyID0gZnVuY3Rpb24gKG1heGxlbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuc3BhblJlY29yZGVyKSB7XG4gICAgICAgICAgICB2YXIgcHVzaEFjdGl2aXR5ID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLl9wdXNoQWN0aXZpdHkoaWQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBwb3BBY3Rpdml0eSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5fcG9wQWN0aXZpdHkoaWQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc3BhblJlY29yZGVyID0gbmV3IElkbGVUcmFuc2FjdGlvblNwYW5SZWNvcmRlcihwdXNoQWN0aXZpdHksIHBvcEFjdGl2aXR5LCB0aGlzLnNwYW5JZCwgbWF4bGVuKTtcbiAgICAgICAgICAgIC8vIFN0YXJ0IGhlYXJ0YmVhdCBzbyB0aGF0IHRyYW5zYWN0aW9ucyBkbyBub3QgcnVuIGZvcmV2ZXIuXG4gICAgICAgICAgICBsb2dnZXIubG9nKCdTdGFydGluZyBoZWFydGJlYXQnKTtcbiAgICAgICAgICAgIHRoaXMuX3BpbmdIZWFydGJlYXQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwYW5SZWNvcmRlci5hZGQodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdGFydCB0cmFja2luZyBhIHNwZWNpZmljIGFjdGl2aXR5LlxuICAgICAqIEBwYXJhbSBzcGFuSWQgVGhlIHNwYW4gaWQgdGhhdCByZXByZXNlbnRzIHRoZSBhY3Rpdml0eVxuICAgICAqL1xuICAgIElkbGVUcmFuc2FjdGlvbi5wcm90b3R5cGUuX3B1c2hBY3Rpdml0eSA9IGZ1bmN0aW9uIChzcGFuSWQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2luaXRUaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5faW5pdFRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5faW5pdFRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZyhcIltUcmFjaW5nXSBwdXNoQWN0aXZpdHk6IFwiICsgc3BhbklkKTtcbiAgICAgICAgdGhpcy5hY3Rpdml0aWVzW3NwYW5JZF0gPSB0cnVlO1xuICAgICAgICBsb2dnZXIubG9nKCdbVHJhY2luZ10gbmV3IGFjdGl2aXRpZXMgY291bnQnLCBPYmplY3Qua2V5cyh0aGlzLmFjdGl2aXRpZXMpLmxlbmd0aCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYW4gYWN0aXZpdHkgZnJvbSB1c2FnZVxuICAgICAqIEBwYXJhbSBzcGFuSWQgVGhlIHNwYW4gaWQgdGhhdCByZXByZXNlbnRzIHRoZSBhY3Rpdml0eVxuICAgICAqL1xuICAgIElkbGVUcmFuc2FjdGlvbi5wcm90b3R5cGUuX3BvcEFjdGl2aXR5ID0gZnVuY3Rpb24gKHNwYW5JZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5hY3Rpdml0aWVzW3NwYW5JZF0pIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJbVHJhY2luZ10gcG9wQWN0aXZpdHkgXCIgKyBzcGFuSWQpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1keW5hbWljLWRlbGV0ZVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWN0aXZpdGllc1tzcGFuSWRdO1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnW1RyYWNpbmddIG5ldyBhY3Rpdml0aWVzIGNvdW50JywgT2JqZWN0LmtleXModGhpcy5hY3Rpdml0aWVzKS5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmFjdGl2aXRpZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSB0aGlzLl9pZGxlVGltZW91dDtcbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gYWRkIHRoZSB0aW1lb3V0IGhlcmUgdG8gaGF2ZSB0aGUgcmVhbCBlbmR0aW1lc3RhbXAgb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAgICAgICAgICAvLyBSZW1lbWJlciB0aW1lc3RhbXBXaXRoTXMgaXMgaW4gc2Vjb25kcywgdGltZW91dCBpcyBpbiBtc1xuICAgICAgICAgICAgdmFyIGVuZF8xID0gdGltZXN0YW1wV2l0aE1zKCkgKyB0aW1lb3V0IC8gMTAwMDtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmZpbmlzaChlbmRfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGVuIGVudHJpZXMgb2YgdGhpcy5hY3Rpdml0aWVzIGFyZSBub3QgY2hhbmdpbmcgZm9yIDMgYmVhdHMuXG4gICAgICogSWYgdGhpcyBvY2N1cnMgd2UgZmluaXNoIHRoZSB0cmFuc2FjdGlvbi5cbiAgICAgKi9cbiAgICBJZGxlVHJhbnNhY3Rpb24ucHJvdG90eXBlLl9iZWF0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5faGVhcnRiZWF0VGltZXIpO1xuICAgICAgICAvLyBXZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaGVhcnRiZWF0IGlmIHRoZSBpZGxlIHRyYW5zYWN0aW9uIGlzIGZpbmlzaGVkLlxuICAgICAgICBpZiAodGhpcy5fZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuYWN0aXZpdGllcyk7XG4gICAgICAgIHZhciBoZWFydGJlYXRTdHJpbmcgPSBrZXlzLmxlbmd0aCA/IGtleXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyZW50KSB7IHJldHVybiBwcmV2ICsgY3VycmVudDsgfSkgOiAnJztcbiAgICAgICAgaWYgKGhlYXJ0YmVhdFN0cmluZyA9PT0gdGhpcy5fcHJldkhlYXJ0YmVhdFN0cmluZykge1xuICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0Q291bnRlciArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0Q291bnRlciA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJldkhlYXJ0YmVhdFN0cmluZyA9IGhlYXJ0YmVhdFN0cmluZztcbiAgICAgICAgaWYgKHRoaXMuX2hlYXJ0YmVhdENvdW50ZXIgPj0gMykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIltUcmFjaW5nXSBUcmFuc2FjdGlvbiBmaW5pc2hlZCBiZWNhdXNlIG9mIG5vIGNoYW5nZSBmb3IgMyBoZWFydCBiZWF0c1wiKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKFNwYW5TdGF0dXMuRGVhZGxpbmVFeGNlZWRlZCk7XG4gICAgICAgICAgICB0aGlzLnNldFRhZygnaGVhcnRiZWF0JywgJ2ZhaWxlZCcpO1xuICAgICAgICAgICAgdGhpcy5maW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3BpbmdIZWFydGJlYXQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogUGluZ3MgdGhlIGhlYXJ0YmVhdFxuICAgICAqL1xuICAgIElkbGVUcmFuc2FjdGlvbi5wcm90b3R5cGUuX3BpbmdIZWFydGJlYXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGxvZ2dlci5sb2coXCJwaW5naW5nIEhlYXJ0YmVhdCAtPiBjdXJyZW50IGNvdW50ZXI6IFwiICsgdGhpcy5faGVhcnRiZWF0Q291bnRlcik7XG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5fYmVhdCgpO1xuICAgICAgICB9LCA1MDAwKTtcbiAgICB9O1xuICAgIHJldHVybiBJZGxlVHJhbnNhY3Rpb247XG59KFRyYW5zYWN0aW9uKSk7XG5leHBvcnQgeyBJZGxlVHJhbnNhY3Rpb24gfTtcbi8qKlxuICogUmVzZXQgYWN0aXZlIHRyYW5zYWN0aW9uIG9uIHNjb3BlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyQWN0aXZlVHJhbnNhY3Rpb24oaHViKSB7XG4gICAgaWYgKGh1Yikge1xuICAgICAgICB2YXIgc2NvcGUgPSBodWIuZ2V0U2NvcGUoKTtcbiAgICAgICAgaWYgKHNjb3BlKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSBzY29wZS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICAgICAgaWYgKHRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuc2V0U3Bhbih1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWRsZXRyYW5zYWN0aW9uLmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBnZXRNYWluQ2FycmllciB9IGZyb20gJ0BzZW50cnkvaHViJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uU2FtcGxpbmdNZXRob2QgfSBmcm9tICdAc2VudHJ5L3R5cGVzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgcmVnaXN0ZXJFcnJvckluc3RydW1lbnRhdGlvbiB9IGZyb20gJy4vZXJyb3JzJztcbmltcG9ydCB7IElkbGVUcmFuc2FjdGlvbiB9IGZyb20gJy4vaWRsZXRyYW5zYWN0aW9uJztcbmltcG9ydCB7IFRyYW5zYWN0aW9uIH0gZnJvbSAnLi90cmFuc2FjdGlvbic7XG5pbXBvcnQgeyBoYXNUcmFjaW5nRW5hYmxlZCB9IGZyb20gJy4vdXRpbHMnO1xuLyoqIFJldHVybnMgYWxsIHRyYWNlIGhlYWRlcnMgdGhhdCBhcmUgY3VycmVudGx5IG9uIHRoZSB0b3Agc2NvcGUuICovXG5mdW5jdGlvbiB0cmFjZUhlYWRlcnMoKSB7XG4gICAgdmFyIHNjb3BlID0gdGhpcy5nZXRTY29wZSgpO1xuICAgIGlmIChzY29wZSkge1xuICAgICAgICB2YXIgc3BhbiA9IHNjb3BlLmdldFNwYW4oKTtcbiAgICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgJ3NlbnRyeS10cmFjZSc6IHNwYW4udG9UcmFjZXBhcmVudCgpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge307XG59XG4vKipcbiAqIE1ha2VzIGEgc2FtcGxpbmcgZGVjaXNpb24gZm9yIHRoZSBnaXZlbiB0cmFuc2FjdGlvbiBhbmQgc3RvcmVzIGl0IG9uIHRoZSB0cmFuc2FjdGlvbi5cbiAqXG4gKiBDYWxsZWQgZXZlcnkgdGltZSBhIHRyYW5zYWN0aW9uIGlzIGNyZWF0ZWQuIE9ubHkgdHJhbnNhY3Rpb25zIHdoaWNoIGVtZXJnZSB3aXRoIGEgYHNhbXBsZWRgIHZhbHVlIG9mIGB0cnVlYCB3aWxsIGJlXG4gKiBzZW50IHRvIFNlbnRyeS5cbiAqXG4gKiBAcGFyYW0gaHViOiBUaGUgaHViIG9mZiBvZiB3aGljaCB0byByZWFkIGNvbmZpZyBvcHRpb25zXG4gKiBAcGFyYW0gdHJhbnNhY3Rpb246IFRoZSB0cmFuc2FjdGlvbiBuZWVkaW5nIGEgc2FtcGxpbmcgZGVjaXNpb25cbiAqIEBwYXJhbSBzYW1wbGluZ0NvbnRleHQ6IERlZmF1bHQgYW5kIHVzZXItcHJvdmlkZWQgZGF0YSB3aGljaCBtYXkgYmUgdXNlZCB0byBoZWxwIG1ha2UgdGhlIGRlY2lzaW9uXG4gKlxuICogQHJldHVybnMgVGhlIGdpdmVuIHRyYW5zYWN0aW9uIHdpdGggaXRzIGBzYW1wbGVkYCB2YWx1ZSBzZXRcbiAqL1xuZnVuY3Rpb24gc2FtcGxlKGh1YiwgdHJhbnNhY3Rpb24sIHNhbXBsaW5nQ29udGV4dCkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgY2xpZW50ID0gaHViLmdldENsaWVudCgpO1xuICAgIHZhciBvcHRpb25zID0gKGNsaWVudCAmJiBjbGllbnQuZ2V0T3B0aW9ucygpKSB8fCB7fTtcbiAgICAvLyBub3RoaW5nIHRvIGRvIGlmIHRoZXJlJ3Mgbm8gY2xpZW50IG9yIGlmIHRyYWNpbmcgaXMgZGlzYWJsZWRcbiAgICBpZiAoIWNsaWVudCB8fCAhaGFzVHJhY2luZ0VuYWJsZWQob3B0aW9ucykpIHtcbiAgICAgICAgdHJhbnNhY3Rpb24uc2FtcGxlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb247XG4gICAgfVxuICAgIC8vIGlmIHRoZSB1c2VyIGhhcyBmb3JjZWQgYSBzYW1wbGluZyBkZWNpc2lvbiBieSBwYXNzaW5nIGEgYHNhbXBsZWRgIHZhbHVlIGluIHRoZWlyIHRyYW5zYWN0aW9uIGNvbnRleHQsIGdvIHdpdGggdGhhdFxuICAgIGlmICh0cmFuc2FjdGlvbi5zYW1wbGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdHJhbnNhY3Rpb24uc2V0TWV0YWRhdGEoe1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25TYW1wbGluZzogeyBtZXRob2Q6IFRyYW5zYWN0aW9uU2FtcGxpbmdNZXRob2QuRXhwbGljaXQgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjtcbiAgICB9XG4gICAgLy8gd2Ugd291bGQgaGF2ZSBiYWlsZWQgYWxyZWFkeSBpZiBuZWl0aGVyIGB0cmFjZXNTYW1wbGVyYCBub3IgYHRyYWNlc1NhbXBsZVJhdGVgIHdlcmUgZGVmaW5lZCwgc28gb25lIG9mIHRoZXNlIHNob3VsZFxuICAgIC8vIHdvcms7IHByZWZlciB0aGUgaG9vayBpZiBzb1xuICAgIHZhciBzYW1wbGVSYXRlO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50cmFjZXNTYW1wbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNhbXBsZVJhdGUgPSBvcHRpb25zLnRyYWNlc1NhbXBsZXIoc2FtcGxpbmdDb250ZXh0KTtcbiAgICAgICAgdHJhbnNhY3Rpb24uc2V0TWV0YWRhdGEoe1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25TYW1wbGluZzoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogVHJhbnNhY3Rpb25TYW1wbGluZ01ldGhvZC5TYW1wbGVyLFxuICAgICAgICAgICAgICAgIC8vIGNhc3QgdG8gbnVtYmVyIGluIGNhc2UgaXQncyBhIGJvb2xlYW5cbiAgICAgICAgICAgICAgICByYXRlOiBOdW1iZXIoc2FtcGxlUmF0ZSksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc2FtcGxpbmdDb250ZXh0LnBhcmVudFNhbXBsZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzYW1wbGVSYXRlID0gc2FtcGxpbmdDb250ZXh0LnBhcmVudFNhbXBsZWQ7XG4gICAgICAgIHRyYW5zYWN0aW9uLnNldE1ldGFkYXRhKHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU2FtcGxpbmc6IHsgbWV0aG9kOiBUcmFuc2FjdGlvblNhbXBsaW5nTWV0aG9kLkluaGVyaXRhbmNlIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2FtcGxlUmF0ZSA9IG9wdGlvbnMudHJhY2VzU2FtcGxlUmF0ZTtcbiAgICAgICAgdHJhbnNhY3Rpb24uc2V0TWV0YWRhdGEoe1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25TYW1wbGluZzoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogVHJhbnNhY3Rpb25TYW1wbGluZ01ldGhvZC5SYXRlLFxuICAgICAgICAgICAgICAgIC8vIGNhc3QgdG8gbnVtYmVyIGluIGNhc2UgaXQncyBhIGJvb2xlYW5cbiAgICAgICAgICAgICAgICByYXRlOiBOdW1iZXIoc2FtcGxlUmF0ZSksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gU2luY2UgdGhpcyBpcyBjb21pbmcgZnJvbSB0aGUgdXNlciAob3IgZnJvbSBhIGZ1bmN0aW9uIHByb3ZpZGVkIGJ5IHRoZSB1c2VyKSwgd2hvIGtub3dzIHdoYXQgd2UgbWlnaHQgZ2V0LiAoVGhlXG4gICAgLy8gb25seSB2YWxpZCB2YWx1ZXMgYXJlIGJvb2xlYW5zIG9yIG51bWJlcnMgYmV0d2VlbiAwIGFuZCAxLilcbiAgICBpZiAoIWlzVmFsaWRTYW1wbGVSYXRlKHNhbXBsZVJhdGUpKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiW1RyYWNpbmddIERpc2NhcmRpbmcgdHJhbnNhY3Rpb24gYmVjYXVzZSBvZiBpbnZhbGlkIHNhbXBsZSByYXRlLlwiKTtcbiAgICAgICAgdHJhbnNhY3Rpb24uc2FtcGxlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb247XG4gICAgfVxuICAgIC8vIGlmIHRoZSBmdW5jdGlvbiByZXR1cm5lZCAwIChvciBmYWxzZSksIG9yIGlmIGB0cmFjZXNTYW1wbGVSYXRlYCBpcyAwLCBpdCdzIGEgc2lnbiB0aGUgdHJhbnNhY3Rpb24gc2hvdWxkIGJlIGRyb3BwZWRcbiAgICBpZiAoIXNhbXBsZVJhdGUpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIltUcmFjaW5nXSBEaXNjYXJkaW5nIHRyYW5zYWN0aW9uIGJlY2F1c2UgXCIgKyAodHlwZW9mIG9wdGlvbnMudHJhY2VzU2FtcGxlciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyAndHJhY2VzU2FtcGxlciByZXR1cm5lZCAwIG9yIGZhbHNlJ1xuICAgICAgICAgICAgOiAnYSBuZWdhdGl2ZSBzYW1wbGluZyBkZWNpc2lvbiB3YXMgaW5oZXJpdGVkIG9yIHRyYWNlc1NhbXBsZVJhdGUgaXMgc2V0IHRvIDAnKSk7XG4gICAgICAgIHRyYW5zYWN0aW9uLnNhbXBsZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xuICAgIH1cbiAgICAvLyBOb3cgd2Ugcm9sbCB0aGUgZGljZS4gTWF0aC5yYW5kb20gaXMgaW5jbHVzaXZlIG9mIDAsIGJ1dCBub3Qgb2YgMSwgc28gc3RyaWN0IDwgaXMgc2FmZSBoZXJlLiBJbiBjYXNlIHNhbXBsZVJhdGUgaXNcbiAgICAvLyBhIGJvb2xlYW4sIHRoZSA8IGNvbXBhcmlzb24gd2lsbCBjYXVzZSBpdCB0byBiZSBhdXRvbWF0aWNhbGx5IGNhc3QgdG8gMSBpZiBpdCdzIHRydWUgYW5kIDAgaWYgaXQncyBmYWxzZS5cbiAgICB0cmFuc2FjdGlvbi5zYW1wbGVkID0gTWF0aC5yYW5kb20oKSA8IHNhbXBsZVJhdGU7XG4gICAgLy8gaWYgd2UncmUgbm90IGdvaW5nIHRvIGtlZXAgaXQsIHdlJ3JlIGRvbmVcbiAgICBpZiAoIXRyYW5zYWN0aW9uLnNhbXBsZWQpIHtcbiAgICAgICAgbG9nZ2VyLmxvZyhcIltUcmFjaW5nXSBEaXNjYXJkaW5nIHRyYW5zYWN0aW9uIGJlY2F1c2UgaXQncyBub3QgaW5jbHVkZWQgaW4gdGhlIHJhbmRvbSBzYW1wbGUgKHNhbXBsaW5nIHJhdGUgPSBcIiArIE51bWJlcihzYW1wbGVSYXRlKSArIFwiKVwiKTtcbiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xuICAgIH1cbiAgICAvLyBhdCB0aGlzIHBvaW50IHdlIGtub3cgd2UncmUga2VlcGluZyB0aGUgdHJhbnNhY3Rpb24sIHdoZXRoZXIgYmVjYXVzZSBvZiBhbiBpbmhlcml0ZWQgZGVjaXNpb24gb3IgYmVjYXVzZSBpdCBnb3RcbiAgICAvLyBsdWNreSB3aXRoIHRoZSBkaWNlIHJvbGxcbiAgICB0cmFuc2FjdGlvbi5pbml0U3BhblJlY29yZGVyKChfYSA9IG9wdGlvbnMuX2V4cGVyaW1lbnRzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWF4U3BhbnMpO1xuICAgIGxvZ2dlci5sb2coXCJbVHJhY2luZ10gc3RhcnRpbmcgXCIgKyB0cmFuc2FjdGlvbi5vcCArIFwiIHRyYW5zYWN0aW9uIC0gXCIgKyB0cmFuc2FjdGlvbi5uYW1lKTtcbiAgICByZXR1cm4gdHJhbnNhY3Rpb247XG59XG4vKipcbiAqIENoZWNrcyB0aGUgZ2l2ZW4gc2FtcGxlIHJhdGUgdG8gbWFrZSBzdXJlIGl0IGlzIHZhbGlkIHR5cGUgYW5kIHZhbHVlIChhIGJvb2xlYW4sIG9yIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMSkuXG4gKi9cbmZ1bmN0aW9uIGlzVmFsaWRTYW1wbGVSYXRlKHJhdGUpIHtcbiAgICAvLyB3ZSBuZWVkIHRvIGNoZWNrIE5hTiBleHBsaWNpdGx5IGJlY2F1c2UgaXQncyBvZiB0eXBlICdudW1iZXInIGFuZCB0aGVyZWZvcmUgd291bGRuJ3QgZ2V0IGNhdWdodCBieSB0aGlzIHR5cGVjaGVja1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgaWYgKGlzTmFOKHJhdGUpIHx8ICEodHlwZW9mIHJhdGUgPT09ICdudW1iZXInIHx8IHR5cGVvZiByYXRlID09PSAnYm9vbGVhbicpKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiW1RyYWNpbmddIEdpdmVuIHNhbXBsZSByYXRlIGlzIGludmFsaWQuIFNhbXBsZSByYXRlIG11c3QgYmUgYSBib29sZWFuIG9yIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS4gR290IFwiICsgSlNPTi5zdHJpbmdpZnkocmF0ZSkgKyBcIiBvZiB0eXBlIFwiICsgSlNPTi5zdHJpbmdpZnkodHlwZW9mIHJhdGUpICsgXCIuXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIGluIGNhc2Ugc2FtcGxlUmF0ZSBpcyBhIGJvb2xlYW4sIGl0IHdpbGwgZ2V0IGF1dG9tYXRpY2FsbHkgY2FzdCB0byAxIGlmIGl0J3MgdHJ1ZSBhbmQgMCBpZiBpdCdzIGZhbHNlXG4gICAgaWYgKHJhdGUgPCAwIHx8IHJhdGUgPiAxKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiW1RyYWNpbmddIEdpdmVuIHNhbXBsZSByYXRlIGlzIGludmFsaWQuIFNhbXBsZSByYXRlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxLiBHb3QgXCIgKyByYXRlICsgXCIuXCIpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHRyYW5zYWN0aW9uIGFuZCBhZGRzIGEgc2FtcGxpbmcgZGVjaXNpb24gaWYgaXQgZG9lc24ndCB5ZXQgaGF2ZSBvbmUuXG4gKlxuICogVGhlIEh1Yi5zdGFydFRyYW5zYWN0aW9uIG1ldGhvZCBkZWxlZ2F0ZXMgdG8gdGhpcyBtZXRob2QgdG8gZG8gaXRzIHdvcmssIHBhc3NpbmcgdGhlIEh1YiBpbnN0YW5jZSBpbiBhcyBgdGhpc2AsIGFzIGlmXG4gKiBpdCBoYWQgYmVlbiBjYWxsZWQgb24gdGhlIGh1YiBkaXJlY3RseS4gRXhpc3RzIGFzIGEgc2VwYXJhdGUgZnVuY3Rpb24gc28gdGhhdCBpdCBjYW4gYmUgaW5qZWN0ZWQgaW50byB0aGUgY2xhc3MgYXMgYW5cbiAqIFwiZXh0ZW5zaW9uIG1ldGhvZC5cIlxuICpcbiAqIEBwYXJhbSB0aGlzOiBUaGUgSHViIHN0YXJ0aW5nIHRoZSB0cmFuc2FjdGlvblxuICogQHBhcmFtIHRyYW5zYWN0aW9uQ29udGV4dDogRGF0YSB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUgdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSBDdXN0b21TYW1wbGluZ0NvbnRleHQ6IE9wdGlvbmFsIGRhdGEgdG8gYmUgcHJvdmlkZWQgdG8gdGhlIGB0cmFjZXNTYW1wbGVyYCBmdW5jdGlvbiAoaWYgYW55KVxuICpcbiAqIEByZXR1cm5zIFRoZSBuZXcgdHJhbnNhY3Rpb25cbiAqXG4gKiBAc2VlIHtAbGluayBIdWIuc3RhcnRUcmFuc2FjdGlvbn1cbiAqL1xuZnVuY3Rpb24gX3N0YXJ0VHJhbnNhY3Rpb24odHJhbnNhY3Rpb25Db250ZXh0LCBjdXN0b21TYW1wbGluZ0NvbnRleHQpIHtcbiAgICB2YXIgdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25Db250ZXh0LCB0aGlzKTtcbiAgICByZXR1cm4gc2FtcGxlKHRoaXMsIHRyYW5zYWN0aW9uLCBfX2Fzc2lnbih7IHBhcmVudFNhbXBsZWQ6IHRyYW5zYWN0aW9uQ29udGV4dC5wYXJlbnRTYW1wbGVkLCB0cmFuc2FjdGlvbkNvbnRleHQ6IHRyYW5zYWN0aW9uQ29udGV4dCB9LCBjdXN0b21TYW1wbGluZ0NvbnRleHQpKTtcbn1cbi8qKlxuICogQ3JlYXRlIG5ldyBpZGxlIHRyYW5zYWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRJZGxlVHJhbnNhY3Rpb24oaHViLCB0cmFuc2FjdGlvbkNvbnRleHQsIGlkbGVUaW1lb3V0LCBvblNjb3BlLCBjdXN0b21TYW1wbGluZ0NvbnRleHQpIHtcbiAgICB2YXIgdHJhbnNhY3Rpb24gPSBuZXcgSWRsZVRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uQ29udGV4dCwgaHViLCBpZGxlVGltZW91dCwgb25TY29wZSk7XG4gICAgcmV0dXJuIHNhbXBsZShodWIsIHRyYW5zYWN0aW9uLCBfX2Fzc2lnbih7IHBhcmVudFNhbXBsZWQ6IHRyYW5zYWN0aW9uQ29udGV4dC5wYXJlbnRTYW1wbGVkLCB0cmFuc2FjdGlvbkNvbnRleHQ6IHRyYW5zYWN0aW9uQ29udGV4dCB9LCBjdXN0b21TYW1wbGluZ0NvbnRleHQpKTtcbn1cbi8qKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9hZGRUcmFjaW5nRXh0ZW5zaW9ucygpIHtcbiAgICB2YXIgY2FycmllciA9IGdldE1haW5DYXJyaWVyKCk7XG4gICAgaWYgKGNhcnJpZXIuX19TRU5UUllfXykge1xuICAgICAgICBjYXJyaWVyLl9fU0VOVFJZX18uZXh0ZW5zaW9ucyA9IGNhcnJpZXIuX19TRU5UUllfXy5leHRlbnNpb25zIHx8IHt9O1xuICAgICAgICBpZiAoIWNhcnJpZXIuX19TRU5UUllfXy5leHRlbnNpb25zLnN0YXJ0VHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgIGNhcnJpZXIuX19TRU5UUllfXy5leHRlbnNpb25zLnN0YXJ0VHJhbnNhY3Rpb24gPSBfc3RhcnRUcmFuc2FjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhcnJpZXIuX19TRU5UUllfXy5leHRlbnNpb25zLnRyYWNlSGVhZGVycykge1xuICAgICAgICAgICAgY2Fycmllci5fX1NFTlRSWV9fLmV4dGVuc2lvbnMudHJhY2VIZWFkZXJzID0gdHJhY2VIZWFkZXJzO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBUaGlzIHBhdGNoZXMgdGhlIGdsb2JhbCBvYmplY3QgYW5kIGluamVjdHMgdGhlIFRyYWNpbmcgZXh0ZW5zaW9ucyBtZXRob2RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFeHRlbnNpb25NZXRob2RzKCkge1xuICAgIF9hZGRUcmFjaW5nRXh0ZW5zaW9ucygpO1xuICAgIC8vIElmIGFuIGVycm9yIGhhcHBlbnMgZ2xvYmFsbHksIHdlIHNob3VsZCBtYWtlIHN1cmUgdHJhbnNhY3Rpb24gc3RhdHVzIGlzIHNldCB0byBlcnJvci5cbiAgICByZWdpc3RlckVycm9ySW5zdHJ1bWVudGF0aW9uKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1odWJleHRlbnNpb25zLmpzLm1hcCIsImltcG9ydCB7IGdldEdsb2JhbE9iamVjdCwgbG9nZ2VyIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBTcGFuU3RhdHVzIH0gZnJvbSAnLi4vc3BhbnN0YXR1cyc7XG5pbXBvcnQgeyBnZXRBY3RpdmVUcmFuc2FjdGlvbiB9IGZyb20gJy4uL3V0aWxzJztcbnZhciBnbG9iYWwgPSBnZXRHbG9iYWxPYmplY3QoKTtcbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgdGhhdCBjYW5jZWxzIGFuZCBmaW5pc2hlcyBhIHRyYW5zYWN0aW9uIHdoZW4gdGhlIGdsb2JhbFxuICogZG9jdW1lbnQgaXMgaGlkZGVuLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJCYWNrZ3JvdW5kVGFiRGV0ZWN0aW9uKCkge1xuICAgIGlmIChnbG9iYWwgJiYgZ2xvYmFsLmRvY3VtZW50KSB7XG4gICAgICAgIGdsb2JhbC5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFjdGl2ZVRyYW5zYWN0aW9uID0gZ2V0QWN0aXZlVHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgIGlmIChnbG9iYWwuZG9jdW1lbnQuaGlkZGVuICYmIGFjdGl2ZVRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIltUcmFjaW5nXSBUcmFuc2FjdGlvbjogXCIgKyBTcGFuU3RhdHVzLkNhbmNlbGxlZCArIFwiIC0+IHNpbmNlIHRhYiBtb3ZlZCB0byB0aGUgYmFja2dyb3VuZCwgb3A6IFwiICsgYWN0aXZlVHJhbnNhY3Rpb24ub3ApO1xuICAgICAgICAgICAgICAgIC8vIFdlIHNob3VsZCBub3Qgc2V0IHN0YXR1cyBpZiBpdCBpcyBhbHJlYWR5IHNldCwgdGhpcyBwcmV2ZW50IGltcG9ydGFudCBzdGF0dXNlcyBsaWtlXG4gICAgICAgICAgICAgICAgLy8gZXJyb3Igb3IgZGF0YSBsb3NzIGZyb20gYmVpbmcgb3ZlcndyaXR0ZW4gb24gdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgaWYgKCFhY3RpdmVUcmFuc2FjdGlvbi5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlVHJhbnNhY3Rpb24uc2V0U3RhdHVzKFNwYW5TdGF0dXMuQ2FuY2VsbGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWN0aXZlVHJhbnNhY3Rpb24uc2V0VGFnKCd2aXNpYmlsaXR5Y2hhbmdlJywgJ2RvY3VtZW50LmhpZGRlbicpO1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRyYW5zYWN0aW9uLmZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdbVHJhY2luZ10gQ291bGQgbm90IHNldCB1cCBiYWNrZ3JvdW5kIHRhYiBkZXRlY3Rpb24gZHVlIHRvIGxhY2sgb2YgZ2xvYmFsIGRvY3VtZW50Jyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFja2dyb3VuZHRhYi5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IG9uSGlkZGVuIH0gZnJvbSAnLi9vbkhpZGRlbic7XG52YXIgZmlyc3RIaWRkZW5UaW1lO1xuZXhwb3J0IHZhciBnZXRGaXJzdEhpZGRlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZmlyc3RIaWRkZW5UaW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gSWYgdGhlIGRvY3VtZW50IGlzIGhpZGRlbiB3aGVuIHRoaXMgY29kZSBydW5zLCBhc3N1bWUgaXQgd2FzIGhpZGRlblxuICAgICAgICAvLyBzaW5jZSBuYXZpZ2F0aW9uIHN0YXJ0LiBUaGlzIGlzbid0IGEgcGVyZmVjdCBoZXVyaXN0aWMsIGJ1dCBpdCdzIHRoZVxuICAgICAgICAvLyBiZXN0IHdlIGNhbiBkbyB1bnRpbCBhbiBBUEkgaXMgYXZhaWxhYmxlIHRvIHN1cHBvcnQgcXVlcnlpbmcgcGFzdFxuICAgICAgICAvLyB2aXNpYmlsaXR5U3RhdGUuXG4gICAgICAgIGZpcnN0SGlkZGVuVGltZSA9IGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicgPyAwIDogSW5maW5pdHk7XG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgdGltZSBpZi93aGVuIHRoZSBkb2N1bWVudCBiZWNvbWVzIGhpZGRlbi5cbiAgICAgICAgb25IaWRkZW4oZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgdGltZVN0YW1wID0gX2EudGltZVN0YW1wO1xuICAgICAgICAgICAgcmV0dXJuIChmaXJzdEhpZGRlblRpbWUgPSB0aW1lU3RhbXApO1xuICAgICAgICB9LCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0IHRpbWVTdGFtcCgpIHtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdEhpZGRlblRpbWU7XG4gICAgICAgIH0sXG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRGaXJzdEhpZGRlbi5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBpbnB1dFByb21pc2U7XG5leHBvcnQgdmFyIHdoZW5JbnB1dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWlucHV0UHJvbWlzZSkge1xuICAgICAgICBpbnB1dFByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgcmV0dXJuIFsnc2Nyb2xsJywgJ2tleWRvd24nLCAncG9pbnRlcmRvd24nXS5tYXAoZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBhZGRFdmVudExpc3RlbmVyKHR5cGUsIHIsIHtcbiAgICAgICAgICAgICAgICAgICAgb25jZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGFzc2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGlucHV0UHJvbWlzZTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aGVuSW5wdXQuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5leHBvcnQgdmFyIGJpbmRSZXBvcnRlciA9IGZ1bmN0aW9uIChjYWxsYmFjaywgbWV0cmljLCBwbywgb2JzZXJ2ZUFsbFVwZGF0ZXMpIHtcbiAgICB2YXIgcHJldlZhbHVlO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChwbyAmJiBtZXRyaWMuaXNGaW5hbCkge1xuICAgICAgICAgICAgcG8uZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXRyaWMudmFsdWUgPj0gMCkge1xuICAgICAgICAgICAgaWYgKG9ic2VydmVBbGxVcGRhdGVzIHx8IG1ldHJpYy5pc0ZpbmFsIHx8IGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSA9PT0gJ2hpZGRlbicpIHtcbiAgICAgICAgICAgICAgICBtZXRyaWMuZGVsdGEgPSBtZXRyaWMudmFsdWUgLSAocHJldlZhbHVlIHx8IDApO1xuICAgICAgICAgICAgICAgIC8vIFJlcG9ydCB0aGUgbWV0cmljIGlmIHRoZXJlJ3MgYSBub24temVybyBkZWx0YSwgaWYgdGhlIG1ldHJpYyBpc1xuICAgICAgICAgICAgICAgIC8vIGZpbmFsLCBvciBpZiBubyBwcmV2aW91cyB2YWx1ZSBleGlzdHMgKHdoaWNoIGNhbiBoYXBwZW4gaW4gdGhlIGNhc2VcbiAgICAgICAgICAgICAgICAvLyBvZiB0aGUgZG9jdW1lbnQgYmVjb21pbmcgaGlkZGVuIHdoZW4gdGhlIG1ldHJpYyB2YWx1ZSBpcyAwKS5cbiAgICAgICAgICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWUvd2ViLXZpdGFscy9pc3N1ZXMvMTRcbiAgICAgICAgICAgICAgICBpZiAobWV0cmljLmRlbHRhIHx8IG1ldHJpYy5pc0ZpbmFsIHx8IHByZXZWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG1ldHJpYyk7XG4gICAgICAgICAgICAgICAgICAgIHByZXZWYWx1ZSA9IG1ldHJpYy52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpbmRSZXBvcnRlci5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IGdlbmVyYXRlVW5pcXVlSUQgfSBmcm9tICcuL2dlbmVyYXRlVW5pcXVlSUQnO1xuZXhwb3J0IHZhciBpbml0TWV0cmljID0gZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHsgdmFsdWUgPSAtMTsgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgZGVsdGE6IDAsXG4gICAgICAgIGVudHJpZXM6IFtdLFxuICAgICAgICBpZDogZ2VuZXJhdGVVbmlxdWVJRCgpLFxuICAgICAgICBpc0ZpbmFsOiBmYWxzZSxcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluaXRNZXRyaWMuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFBlcmZvcm1hbnRseSBnZW5lcmF0ZSBhIHVuaXF1ZSwgMjctY2hhciBzdHJpbmcgYnkgY29tYmluaW5nIHRoZSBjdXJyZW50XG4gKiB0aW1lc3RhbXAgd2l0aCBhIDEzLWRpZ2l0IHJhbmRvbSBudW1iZXIuXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCB2YXIgZ2VuZXJhdGVVbmlxdWVJRCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKSArIFwiLVwiICsgKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICg5ZTEyIC0gMSkpICsgMWUxMik7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGVVbmlxdWVJRC5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogVGFrZXMgYSBwZXJmb3JtYW5jZSBlbnRyeSB0eXBlIGFuZCBhIGNhbGxiYWNrIGZ1bmN0aW9uLCBhbmQgY3JlYXRlcyBhXG4gKiBgUGVyZm9ybWFuY2VPYnNlcnZlcmAgaW5zdGFuY2UgdGhhdCB3aWxsIG9ic2VydmUgdGhlIHNwZWNpZmllZCBlbnRyeSB0eXBlXG4gKiB3aXRoIGJ1ZmZlcmluZyBlbmFibGVkIGFuZCBjYWxsIHRoZSBjYWxsYmFjayBfZm9yIGVhY2ggZW50cnlfLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gYWxzbyBmZWF0dXJlLWRldGVjdHMgZW50cnkgc3VwcG9ydCBhbmQgd3JhcHMgdGhlIGxvZ2ljIGluIGFcbiAqIHRyeS9jYXRjaCB0byBhdm9pZCBlcnJvcnMgaW4gdW5zdXBwb3J0aW5nIGJyb3dzZXJzLlxuICovXG5leHBvcnQgdmFyIG9ic2VydmUgPSBmdW5jdGlvbiAodHlwZSwgY2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoUGVyZm9ybWFuY2VPYnNlcnZlci5zdXBwb3J0ZWRFbnRyeVR5cGVzLmluY2x1ZGVzKHR5cGUpKSB7XG4gICAgICAgICAgICB2YXIgcG8gPSBuZXcgUGVyZm9ybWFuY2VPYnNlcnZlcihmdW5jdGlvbiAobCkgeyByZXR1cm4gbC5nZXRFbnRyaWVzKCkubWFwKGNhbGxiYWNrKTsgfSk7XG4gICAgICAgICAgICBwby5vYnNlcnZlKHsgdHlwZTogdHlwZSwgYnVmZmVyZWQ6IHRydWUgfSk7XG4gICAgICAgICAgICByZXR1cm4gcG87XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRG8gbm90aGluZy5cbiAgICB9XG4gICAgcmV0dXJuO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmUuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgaXNVbmxvYWRpbmcgPSBmYWxzZTtcbnZhciBsaXN0ZW5lcnNBZGRlZCA9IGZhbHNlO1xudmFyIG9uUGFnZUhpZGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpc1VubG9hZGluZyA9ICFldmVudC5wZXJzaXN0ZWQ7XG59O1xudmFyIGFkZExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICBhZGRFdmVudExpc3RlbmVyKCdwYWdlaGlkZScsIG9uUGFnZUhpZGUpO1xuICAgIC8vIGBiZWZvcmV1bmxvYWRgIGlzIG5lZWRlZCB0byBmaXggdGhpcyBidWc6XG4gICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9OTg3NDA5XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICAgIGFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsIGZ1bmN0aW9uICgpIHsgfSk7XG59O1xuZXhwb3J0IHZhciBvbkhpZGRlbiA9IGZ1bmN0aW9uIChjYiwgb25jZSkge1xuICAgIGlmIChvbmNlID09PSB2b2lkIDApIHsgb25jZSA9IGZhbHNlOyB9XG4gICAgaWYgKCFsaXN0ZW5lcnNBZGRlZCkge1xuICAgICAgICBhZGRMaXN0ZW5lcnMoKTtcbiAgICAgICAgbGlzdGVuZXJzQWRkZWQgPSB0cnVlO1xuICAgIH1cbiAgICBhZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciB0aW1lU3RhbXAgPSBfYS50aW1lU3RhbXA7XG4gICAgICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICBjYih7IHRpbWVTdGFtcDogdGltZVN0YW1wLCBpc1VubG9hZGluZzogaXNVbmxvYWRpbmcgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7IGNhcHR1cmU6IHRydWUsIG9uY2U6IG9uY2UgfSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b25IaWRkZW4uanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IGluaXRNZXRyaWMgfSBmcm9tICcuL2xpYi9pbml0TWV0cmljJztcbnZhciBnbG9iYWwgPSBnZXRHbG9iYWxPYmplY3QoKTtcbnZhciBhZnRlckxvYWQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAvLyBRdWV1ZSBhIHRhc2sgc28gdGhlIGNhbGxiYWNrIHJ1bnMgYWZ0ZXIgYGxvYWRFdmVudEVuZGAuXG4gICAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gVXNlIGBwYWdlc2hvd2Agc28gdGhlIGNhbGxiYWNrIHJ1bnMgYWZ0ZXIgYGxvYWRFdmVudEVuZGAuXG4gICAgICAgIGFkZEV2ZW50TGlzdGVuZXIoJ3BhZ2VzaG93JywgY2FsbGJhY2spO1xuICAgIH1cbn07XG52YXIgZ2V0TmF2aWdhdGlvbkVudHJ5RnJvbVBlcmZvcm1hbmNlVGltaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFJlYWxseSBhbm5veWluZyB0aGF0IFR5cGVTY3JpcHQgZXJyb3JzIHdoZW4gdXNpbmcgYFBlcmZvcm1hbmNlVGltaW5nYC5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICB2YXIgdGltaW5nID0gZ2xvYmFsLnBlcmZvcm1hbmNlLnRpbWluZztcbiAgICB2YXIgbmF2aWdhdGlvbkVudHJ5ID0ge1xuICAgICAgICBlbnRyeVR5cGU6ICduYXZpZ2F0aW9uJyxcbiAgICAgICAgc3RhcnRUaW1lOiAwLFxuICAgIH07XG4gICAgZm9yICh2YXIga2V5IGluIHRpbWluZykge1xuICAgICAgICBpZiAoa2V5ICE9PSAnbmF2aWdhdGlvblN0YXJ0JyAmJiBrZXkgIT09ICd0b0pTT04nKSB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uRW50cnlba2V5XSA9IE1hdGgubWF4KHRpbWluZ1trZXldIC0gdGltaW5nLm5hdmlnYXRpb25TdGFydCwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5hdmlnYXRpb25FbnRyeTtcbn07XG5leHBvcnQgdmFyIGdldFRURkIgPSBmdW5jdGlvbiAob25SZXBvcnQpIHtcbiAgICB2YXIgbWV0cmljID0gaW5pdE1ldHJpYygnVFRGQicpO1xuICAgIGFmdGVyTG9hZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIE5hdmlnYXRpb25UaW1pbmcgTDIgZW50cnkgaWYgYXZhaWxhYmxlLlxuICAgICAgICAgICAgdmFyIG5hdmlnYXRpb25FbnRyeSA9IGdsb2JhbC5wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlUeXBlKCduYXZpZ2F0aW9uJylbMF0gfHwgZ2V0TmF2aWdhdGlvbkVudHJ5RnJvbVBlcmZvcm1hbmNlVGltaW5nKCk7XG4gICAgICAgICAgICBtZXRyaWMudmFsdWUgPSBtZXRyaWMuZGVsdGEgPSBuYXZpZ2F0aW9uRW50cnkucmVzcG9uc2VTdGFydDtcbiAgICAgICAgICAgIG1ldHJpYy5lbnRyaWVzID0gW25hdmlnYXRpb25FbnRyeV07XG4gICAgICAgICAgICBvblJlcG9ydChtZXRyaWMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gRG8gbm90aGluZy5cbiAgICAgICAgfVxuICAgIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldFRURkIuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fcmVzdCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYnJvd3NlclBlcmZvcm1hbmNlVGltZU9yaWdpbiwgZ2V0R2xvYmFsT2JqZWN0LCBsb2dnZXIgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IG1zVG9TZWMgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBnZXRDTFMgfSBmcm9tICcuL3dlYi12aXRhbHMvZ2V0Q0xTJztcbmltcG9ydCB7IGdldEZJRCB9IGZyb20gJy4vd2ViLXZpdGFscy9nZXRGSUQnO1xuaW1wb3J0IHsgZ2V0TENQIH0gZnJvbSAnLi93ZWItdml0YWxzL2dldExDUCc7XG5pbXBvcnQgeyBnZXRUVEZCIH0gZnJvbSAnLi93ZWItdml0YWxzL2dldFRURkInO1xuaW1wb3J0IHsgZ2V0Rmlyc3RIaWRkZW4gfSBmcm9tICcuL3dlYi12aXRhbHMvbGliL2dldEZpcnN0SGlkZGVuJztcbnZhciBnbG9iYWwgPSBnZXRHbG9iYWxPYmplY3QoKTtcbi8qKiBDbGFzcyB0cmFja2luZyBtZXRyaWNzICAqL1xudmFyIE1ldHJpY3NJbnN0cnVtZW50YXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWV0cmljc0luc3RydW1lbnRhdGlvbigpIHtcbiAgICAgICAgdGhpcy5fbWVhc3VyZW1lbnRzID0ge307XG4gICAgICAgIHRoaXMuX3BlcmZvcm1hbmNlQ3Vyc29yID0gMDtcbiAgICAgICAgaWYgKGdsb2JhbCAmJiBnbG9iYWwucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgICAgIGlmIChnbG9iYWwucGVyZm9ybWFuY2UubWFyaykge1xuICAgICAgICAgICAgICAgIGdsb2JhbC5wZXJmb3JtYW5jZS5tYXJrKCdzZW50cnktdHJhY2luZy1pbml0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90cmFja0NMUygpO1xuICAgICAgICAgICAgdGhpcy5fdHJhY2tMQ1AoKTtcbiAgICAgICAgICAgIHRoaXMuX3RyYWNrRklEKCk7XG4gICAgICAgICAgICB0aGlzLl90cmFja1RURkIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogQWRkIHBlcmZvcm1hbmNlIHJlbGF0ZWQgc3BhbnMgdG8gYSB0cmFuc2FjdGlvbiAqL1xuICAgIE1ldHJpY3NJbnN0cnVtZW50YXRpb24ucHJvdG90eXBlLmFkZFBlcmZvcm1hbmNlRW50cmllcyA9IGZ1bmN0aW9uICh0cmFuc2FjdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIWdsb2JhbCB8fCAhZ2xvYmFsLnBlcmZvcm1hbmNlIHx8ICFnbG9iYWwucGVyZm9ybWFuY2UuZ2V0RW50cmllcyB8fCAhYnJvd3NlclBlcmZvcm1hbmNlVGltZU9yaWdpbikge1xuICAgICAgICAgICAgLy8gR2F0ZWtlZXBlciBpZiBwZXJmb3JtYW5jZSBBUEkgbm90IGF2YWlsYWJsZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5sb2coJ1tUcmFjaW5nXSBBZGRpbmcgJiBhZGp1c3Rpbmcgc3BhbnMgdXNpbmcgUGVyZm9ybWFuY2UgQVBJJyk7XG4gICAgICAgIHZhciB0aW1lT3JpZ2luID0gbXNUb1NlYyhicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luKTtcbiAgICAgICAgdmFyIGVudHJ5U2NyaXB0U3JjO1xuICAgICAgICBpZiAoZ2xvYmFsLmRvY3VtZW50KSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1mb3Itb2ZcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jdW1lbnQuc2NyaXB0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIFdlIGdvIHRocm91Z2ggYWxsIHNjcmlwdHMgb24gdGhlIHBhZ2UgYW5kIGxvb2sgZm9yICdkYXRhLWVudHJ5J1xuICAgICAgICAgICAgICAgIC8vIFdlIHJlbWVtYmVyIHRoZSBuYW1lIGFuZCBtZWFzdXJlIHRoZSB0aW1lIGJldHdlZW4gdGhpcyBzY3JpcHQgZmluaXNoZWQgbG9hZGluZyBhbmRcbiAgICAgICAgICAgICAgICAvLyBvdXIgbWFyayAnc2VudHJ5LXRyYWNpbmctaW5pdCdcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuc2NyaXB0c1tpXS5kYXRhc2V0LmVudHJ5ID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50cnlTY3JpcHRTcmMgPSBkb2N1bWVudC5zY3JpcHRzW2ldLnNyYztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBlbnRyeVNjcmlwdFN0YXJ0VGltZXN0YW1wO1xuICAgICAgICB2YXIgdHJhY2luZ0luaXRNYXJrU3RhcnRUaW1lO1xuICAgICAgICBnbG9iYWwucGVyZm9ybWFuY2VcbiAgICAgICAgICAgIC5nZXRFbnRyaWVzKClcbiAgICAgICAgICAgIC5zbGljZSh0aGlzLl9wZXJmb3JtYW5jZUN1cnNvcilcbiAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0VGltZSA9IG1zVG9TZWMoZW50cnkuc3RhcnRUaW1lKTtcbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IG1zVG9TZWMoZW50cnkuZHVyYXRpb24pO1xuICAgICAgICAgICAgaWYgKHRyYW5zYWN0aW9uLm9wID09PSAnbmF2aWdhdGlvbicgJiYgdGltZU9yaWdpbiArIHN0YXJ0VGltZSA8IHRyYW5zYWN0aW9uLnN0YXJ0VGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChlbnRyeS5lbnRyeVR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICduYXZpZ2F0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgYWRkTmF2aWdhdGlvblNwYW5zKHRyYW5zYWN0aW9uLCBlbnRyeSwgdGltZU9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ21hcmsnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ3BhaW50JzpcbiAgICAgICAgICAgICAgICBjYXNlICdtZWFzdXJlJzoge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnRUaW1lc3RhbXAgPSBhZGRNZWFzdXJlU3BhbnModHJhbnNhY3Rpb24sIGVudHJ5LCBzdGFydFRpbWUsIGR1cmF0aW9uLCB0aW1lT3JpZ2luKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNpbmdJbml0TWFya1N0YXJ0VGltZSA9PT0gdW5kZWZpbmVkICYmIGVudHJ5Lm5hbWUgPT09ICdzZW50cnktdHJhY2luZy1pbml0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2luZ0luaXRNYXJrU3RhcnRUaW1lID0gc3RhcnRUaW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gY2FwdHVyZSB3ZWIgdml0YWxzXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdEhpZGRlbiA9IGdldEZpcnN0SGlkZGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgcmVwb3J0IGlmIHRoZSBwYWdlIHdhc24ndCBoaWRkZW4gcHJpb3IgdG8gdGhlIHdlYiB2aXRhbC5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHNob3VsZFJlY29yZCA9IGVudHJ5LnN0YXJ0VGltZSA8IGZpcnN0SGlkZGVuLnRpbWVTdGFtcDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5Lm5hbWUgPT09ICdmaXJzdC1wYWludCcgJiYgc2hvdWxkUmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdbTWVhc3VyZW1lbnRzXSBBZGRpbmcgRlAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9tZWFzdXJlbWVudHNbJ2ZwJ10gPSB7IHZhbHVlOiBlbnRyeS5zdGFydFRpbWUgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9tZWFzdXJlbWVudHNbJ21hcmsuZnAnXSA9IHsgdmFsdWU6IHN0YXJ0VGltZXN0YW1wIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5Lm5hbWUgPT09ICdmaXJzdC1jb250ZW50ZnVsLXBhaW50JyAmJiBzaG91bGRSZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ1tNZWFzdXJlbWVudHNdIEFkZGluZyBGQ1AnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9tZWFzdXJlbWVudHNbJ2ZjcCddID0geyB2YWx1ZTogZW50cnkuc3RhcnRUaW1lIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbWVhc3VyZW1lbnRzWydtYXJrLmZjcCddID0geyB2YWx1ZTogc3RhcnRUaW1lc3RhbXAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSAncmVzb3VyY2UnOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZU5hbWUgPSBlbnRyeS5uYW1lLnJlcGxhY2Uod2luZG93LmxvY2F0aW9uLm9yaWdpbiwgJycpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZW5kVGltZXN0YW1wID0gYWRkUmVzb3VyY2VTcGFucyh0cmFuc2FjdGlvbiwgZW50cnksIHJlc291cmNlTmFtZSwgc3RhcnRUaW1lLCBkdXJhdGlvbiwgdGltZU9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHJlbWVtYmVyIHRoZSBlbnRyeSBzY3JpcHQgZW5kIHRpbWUgdG8gY2FsY3VsYXRlIHRoZSBkaWZmZXJlbmNlIHRvIHRoZSBmaXJzdCBpbml0IG1hcmtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5U2NyaXB0U3RhcnRUaW1lc3RhbXAgPT09IHVuZGVmaW5lZCAmJiAoZW50cnlTY3JpcHRTcmMgfHwgJycpLmluZGV4T2YocmVzb3VyY2VOYW1lKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRyeVNjcmlwdFN0YXJ0VGltZXN0YW1wID0gZW5kVGltZXN0YW1wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIElnbm9yZSBvdGhlciBlbnRyeSB0eXBlcy5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChlbnRyeVNjcmlwdFN0YXJ0VGltZXN0YW1wICE9PSB1bmRlZmluZWQgJiYgdHJhY2luZ0luaXRNYXJrU3RhcnRUaW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIF9zdGFydENoaWxkKHRyYW5zYWN0aW9uLCB7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdldmFsdWF0aW9uJyxcbiAgICAgICAgICAgICAgICBlbmRUaW1lc3RhbXA6IHRyYWNpbmdJbml0TWFya1N0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBvcDogJ3NjcmlwdCcsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXA6IGVudHJ5U2NyaXB0U3RhcnRUaW1lc3RhbXAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wZXJmb3JtYW5jZUN1cnNvciA9IE1hdGgubWF4KHBlcmZvcm1hbmNlLmdldEVudHJpZXMoKS5sZW5ndGggLSAxLCAwKTtcbiAgICAgICAgdGhpcy5fdHJhY2tOYXZpZ2F0b3IodHJhbnNhY3Rpb24pO1xuICAgICAgICAvLyBNZWFzdXJlbWVudHMgYXJlIG9ubHkgYXZhaWxhYmxlIGZvciBwYWdlbG9hZCB0cmFuc2FjdGlvbnNcbiAgICAgICAgaWYgKHRyYW5zYWN0aW9uLm9wID09PSAncGFnZWxvYWQnKSB7XG4gICAgICAgICAgICAvLyBub3JtYWxpemUgYXBwbGljYWJsZSB3ZWIgdml0YWwgdmFsdWVzIHRvIGJlIHJlbGF0aXZlIHRvIHRyYW5zYWN0aW9uLnN0YXJ0VGltZXN0YW1wXG4gICAgICAgICAgICB2YXIgdGltZU9yaWdpbl8xID0gbXNUb1NlYyhicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luKTtcbiAgICAgICAgICAgIFsnZmNwJywgJ2ZwJywgJ2xjcCcsICd0dGZiJ10uZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIGlmICghX3RoaXMuX21lYXN1cmVtZW50c1tuYW1lXSB8fCB0aW1lT3JpZ2luXzEgPj0gdHJhbnNhY3Rpb24uc3RhcnRUaW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUaGUgd2ViIHZpdGFscywgZmNwLCBmcCwgbGNwLCBhbmQgdHRmYiwgYWxsIG1lYXN1cmUgcmVsYXRpdmUgdG8gdGltZU9yaWdpbi5cbiAgICAgICAgICAgICAgICAvLyBVbmZvcnR1bmF0ZWx5LCB0aW1lT3JpZ2luIGlzIG5vdCBjYXB0dXJlZCB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uIHNwYW4gZGF0YSwgc28gdGhlc2Ugd2ViIHZpdGFscyB3aWxsIG5lZWRcbiAgICAgICAgICAgICAgICAvLyB0byBiZSBhZGp1c3RlZCB0byBiZSByZWxhdGl2ZSB0byB0cmFuc2FjdGlvbi5zdGFydFRpbWVzdGFtcC5cbiAgICAgICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSBfdGhpcy5fbWVhc3VyZW1lbnRzW25hbWVdLnZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBtZWFzdXJlbWVudFRpbWVzdGFtcCA9IHRpbWVPcmlnaW5fMSArIG1zVG9TZWMob2xkVmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIG5vcm1hbGl6ZWRWYWx1ZSBzaG91bGQgYmUgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWRWYWx1ZSA9IE1hdGguYWJzKChtZWFzdXJlbWVudFRpbWVzdGFtcCAtIHRyYW5zYWN0aW9uLnN0YXJ0VGltZXN0YW1wKSAqIDEwMDApO1xuICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IG5vcm1hbGl6ZWRWYWx1ZSAtIG9sZFZhbHVlO1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJbTWVhc3VyZW1lbnRzXSBOb3JtYWxpemVkIFwiICsgbmFtZSArIFwiIGZyb20gXCIgKyBvbGRWYWx1ZSArIFwiIHRvIFwiICsgbm9ybWFsaXplZFZhbHVlICsgXCIgKFwiICsgZGVsdGEgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgX3RoaXMuX21lYXN1cmVtZW50c1tuYW1lXS52YWx1ZSA9IG5vcm1hbGl6ZWRWYWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMuX21lYXN1cmVtZW50c1snbWFyay5maWQnXSAmJiB0aGlzLl9tZWFzdXJlbWVudHNbJ2ZpZCddKSB7XG4gICAgICAgICAgICAgICAgLy8gY3JlYXRlIHNwYW4gZm9yIEZJRFxuICAgICAgICAgICAgICAgIF9zdGFydENoaWxkKHRyYW5zYWN0aW9uLCB7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnZmlyc3QgaW5wdXQgZGVsYXknLFxuICAgICAgICAgICAgICAgICAgICBlbmRUaW1lc3RhbXA6IHRoaXMuX21lYXN1cmVtZW50c1snbWFyay5maWQnXS52YWx1ZSArIG1zVG9TZWModGhpcy5fbWVhc3VyZW1lbnRzWydmaWQnXS52YWx1ZSksXG4gICAgICAgICAgICAgICAgICAgIG9wOiAnd2ViLnZpdGFscycsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wOiB0aGlzLl9tZWFzdXJlbWVudHNbJ21hcmsuZmlkJ10udmFsdWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5zZXRNZWFzdXJlbWVudHModGhpcy5fbWVhc3VyZW1lbnRzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIFN0YXJ0cyB0cmFja2luZyB0aGUgQ3VtdWxhdGl2ZSBMYXlvdXQgU2hpZnQgb24gdGhlIGN1cnJlbnQgcGFnZS4gKi9cbiAgICBNZXRyaWNzSW5zdHJ1bWVudGF0aW9uLnByb3RvdHlwZS5fdHJhY2tDTFMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGdldENMUyhmdW5jdGlvbiAobWV0cmljKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBtZXRyaWMuZW50cmllcy5wb3AoKTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdbTWVhc3VyZW1lbnRzXSBBZGRpbmcgQ0xTJyk7XG4gICAgICAgICAgICBfdGhpcy5fbWVhc3VyZW1lbnRzWydjbHMnXSA9IHsgdmFsdWU6IG1ldHJpYy52YWx1ZSB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhcHR1cmUgdGhlIGluZm9ybWF0aW9uIG9mIHRoZSB1c2VyIGFnZW50LlxuICAgICAqL1xuICAgIE1ldHJpY3NJbnN0cnVtZW50YXRpb24ucHJvdG90eXBlLl90cmFja05hdmlnYXRvciA9IGZ1bmN0aW9uICh0cmFuc2FjdGlvbikge1xuICAgICAgICB2YXIgbmF2aWdhdG9yID0gZ2xvYmFsLm5hdmlnYXRvcjtcbiAgICAgICAgaWYgKCFuYXZpZ2F0b3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyB0cmFjayBuZXR3b3JrIGNvbm5lY3Rpdml0eVxuICAgICAgICB2YXIgY29ubmVjdGlvbiA9IG5hdmlnYXRvci5jb25uZWN0aW9uO1xuICAgICAgICBpZiAoY29ubmVjdGlvbikge1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24uZWZmZWN0aXZlVHlwZSkge1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLnNldFRhZygnZWZmZWN0aXZlQ29ubmVjdGlvblR5cGUnLCBjb25uZWN0aW9uLmVmZmVjdGl2ZVR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24udHlwZSkge1xuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLnNldFRhZygnY29ubmVjdGlvblR5cGUnLCBjb25uZWN0aW9uLnR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzTWVhc3VyZW1lbnRWYWx1ZShjb25uZWN0aW9uLnJ0dCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWFzdXJlbWVudHNbJ2Nvbm5lY3Rpb24ucnR0J10gPSB7IHZhbHVlOiBjb25uZWN0aW9uLnJ0dCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzTWVhc3VyZW1lbnRWYWx1ZShjb25uZWN0aW9uLmRvd25saW5rKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX21lYXN1cmVtZW50c1snY29ubmVjdGlvbi5kb3dubGluayddID0geyB2YWx1ZTogY29ubmVjdGlvbi5kb3dubGluayB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc01lYXN1cmVtZW50VmFsdWUobmF2aWdhdG9yLmRldmljZU1lbW9yeSkpIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLnNldFRhZygnZGV2aWNlTWVtb3J5JywgU3RyaW5nKG5hdmlnYXRvci5kZXZpY2VNZW1vcnkpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNZWFzdXJlbWVudFZhbHVlKG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5KSkge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24uc2V0VGFnKCdoYXJkd2FyZUNvbmN1cnJlbmN5JywgU3RyaW5nKG5hdmlnYXRvci5oYXJkd2FyZUNvbmN1cnJlbmN5KSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBTdGFydHMgdHJhY2tpbmcgdGhlIExhcmdlc3QgQ29udGVudGZ1bCBQYWludCBvbiB0aGUgY3VycmVudCBwYWdlLiAqL1xuICAgIE1ldHJpY3NJbnN0cnVtZW50YXRpb24ucHJvdG90eXBlLl90cmFja0xDUCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZ2V0TENQKGZ1bmN0aW9uIChtZXRyaWMpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IG1ldHJpYy5lbnRyaWVzLnBvcCgpO1xuICAgICAgICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0aW1lT3JpZ2luID0gbXNUb1NlYyhwZXJmb3JtYW5jZS50aW1lT3JpZ2luKTtcbiAgICAgICAgICAgIHZhciBzdGFydFRpbWUgPSBtc1RvU2VjKGVudHJ5LnN0YXJ0VGltZSk7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdbTWVhc3VyZW1lbnRzXSBBZGRpbmcgTENQJyk7XG4gICAgICAgICAgICBfdGhpcy5fbWVhc3VyZW1lbnRzWydsY3AnXSA9IHsgdmFsdWU6IG1ldHJpYy52YWx1ZSB9O1xuICAgICAgICAgICAgX3RoaXMuX21lYXN1cmVtZW50c1snbWFyay5sY3AnXSA9IHsgdmFsdWU6IHRpbWVPcmlnaW4gKyBzdGFydFRpbWUgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKiogU3RhcnRzIHRyYWNraW5nIHRoZSBGaXJzdCBJbnB1dCBEZWxheSBvbiB0aGUgY3VycmVudCBwYWdlLiAqL1xuICAgIE1ldHJpY3NJbnN0cnVtZW50YXRpb24ucHJvdG90eXBlLl90cmFja0ZJRCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZ2V0RklEKGZ1bmN0aW9uIChtZXRyaWMpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IG1ldHJpYy5lbnRyaWVzLnBvcCgpO1xuICAgICAgICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0aW1lT3JpZ2luID0gbXNUb1NlYyhwZXJmb3JtYW5jZS50aW1lT3JpZ2luKTtcbiAgICAgICAgICAgIHZhciBzdGFydFRpbWUgPSBtc1RvU2VjKGVudHJ5LnN0YXJ0VGltZSk7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdbTWVhc3VyZW1lbnRzXSBBZGRpbmcgRklEJyk7XG4gICAgICAgICAgICBfdGhpcy5fbWVhc3VyZW1lbnRzWydmaWQnXSA9IHsgdmFsdWU6IG1ldHJpYy52YWx1ZSB9O1xuICAgICAgICAgICAgX3RoaXMuX21lYXN1cmVtZW50c1snbWFyay5maWQnXSA9IHsgdmFsdWU6IHRpbWVPcmlnaW4gKyBzdGFydFRpbWUgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKiogU3RhcnRzIHRyYWNraW5nIHRoZSBUaW1lIHRvIEZpcnN0IEJ5dGUgb24gdGhlIGN1cnJlbnQgcGFnZS4gKi9cbiAgICBNZXRyaWNzSW5zdHJ1bWVudGF0aW9uLnByb3RvdHlwZS5fdHJhY2tUVEZCID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBnZXRUVEZCKGZ1bmN0aW9uIChtZXRyaWMpIHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IG1ldHJpYy5lbnRyaWVzLnBvcCgpO1xuICAgICAgICAgICAgaWYgKCFlbnRyeSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ1tNZWFzdXJlbWVudHNdIEFkZGluZyBUVEZCJyk7XG4gICAgICAgICAgICBfdGhpcy5fbWVhc3VyZW1lbnRzWyd0dGZiJ10gPSB7IHZhbHVlOiBtZXRyaWMudmFsdWUgfTtcbiAgICAgICAgICAgIC8vIENhcHR1cmUgdGhlIHRpbWUgc3BlbnQgbWFraW5nIHRoZSByZXF1ZXN0IGFuZCByZWNlaXZpbmcgdGhlIGZpcnN0IGJ5dGUgb2YgdGhlIHJlc3BvbnNlXG4gICAgICAgICAgICB2YXIgcmVxdWVzdFRpbWUgPSBtZXRyaWMudmFsdWUgLSAoX2EgPSBtZXRyaWMuZW50cmllc1swXSwgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGVudHJ5KSkucmVxdWVzdFN0YXJ0O1xuICAgICAgICAgICAgX3RoaXMuX21lYXN1cmVtZW50c1sndHRmYi5yZXF1ZXN0VGltZSddID0geyB2YWx1ZTogcmVxdWVzdFRpbWUgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWV0cmljc0luc3RydW1lbnRhdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBNZXRyaWNzSW5zdHJ1bWVudGF0aW9uIH07XG4vKiogSW5zdHJ1bWVudCBuYXZpZ2F0aW9uIGVudHJpZXMgKi9cbmZ1bmN0aW9uIGFkZE5hdmlnYXRpb25TcGFucyh0cmFuc2FjdGlvbiwgZW50cnksIHRpbWVPcmlnaW4pIHtcbiAgICBhZGRQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcodHJhbnNhY3Rpb24sIGVudHJ5LCAndW5sb2FkRXZlbnQnLCB0aW1lT3JpZ2luKTtcbiAgICBhZGRQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcodHJhbnNhY3Rpb24sIGVudHJ5LCAncmVkaXJlY3QnLCB0aW1lT3JpZ2luKTtcbiAgICBhZGRQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcodHJhbnNhY3Rpb24sIGVudHJ5LCAnZG9tQ29udGVudExvYWRlZEV2ZW50JywgdGltZU9yaWdpbik7XG4gICAgYWRkUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nKHRyYW5zYWN0aW9uLCBlbnRyeSwgJ2xvYWRFdmVudCcsIHRpbWVPcmlnaW4pO1xuICAgIGFkZFBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZyh0cmFuc2FjdGlvbiwgZW50cnksICdjb25uZWN0JywgdGltZU9yaWdpbik7XG4gICAgYWRkUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nKHRyYW5zYWN0aW9uLCBlbnRyeSwgJ3NlY3VyZUNvbm5lY3Rpb24nLCB0aW1lT3JpZ2luLCAnY29ubmVjdEVuZCcpO1xuICAgIGFkZFBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZyh0cmFuc2FjdGlvbiwgZW50cnksICdmZXRjaCcsIHRpbWVPcmlnaW4sICdkb21haW5Mb29rdXBTdGFydCcpO1xuICAgIGFkZFBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZyh0cmFuc2FjdGlvbiwgZW50cnksICdkb21haW5Mb29rdXAnLCB0aW1lT3JpZ2luKTtcbiAgICBhZGRSZXF1ZXN0KHRyYW5zYWN0aW9uLCBlbnRyeSwgdGltZU9yaWdpbik7XG59XG4vKiogQ3JlYXRlIG1lYXN1cmUgcmVsYXRlZCBzcGFucyAqL1xuZnVuY3Rpb24gYWRkTWVhc3VyZVNwYW5zKHRyYW5zYWN0aW9uLCBlbnRyeSwgc3RhcnRUaW1lLCBkdXJhdGlvbiwgdGltZU9yaWdpbikge1xuICAgIHZhciBtZWFzdXJlU3RhcnRUaW1lc3RhbXAgPSB0aW1lT3JpZ2luICsgc3RhcnRUaW1lO1xuICAgIHZhciBtZWFzdXJlRW5kVGltZXN0YW1wID0gbWVhc3VyZVN0YXJ0VGltZXN0YW1wICsgZHVyYXRpb247XG4gICAgX3N0YXJ0Q2hpbGQodHJhbnNhY3Rpb24sIHtcbiAgICAgICAgZGVzY3JpcHRpb246IGVudHJ5Lm5hbWUsXG4gICAgICAgIGVuZFRpbWVzdGFtcDogbWVhc3VyZUVuZFRpbWVzdGFtcCxcbiAgICAgICAgb3A6IGVudHJ5LmVudHJ5VHlwZSxcbiAgICAgICAgc3RhcnRUaW1lc3RhbXA6IG1lYXN1cmVTdGFydFRpbWVzdGFtcCxcbiAgICB9KTtcbiAgICByZXR1cm4gbWVhc3VyZVN0YXJ0VGltZXN0YW1wO1xufVxuLyoqIENyZWF0ZSByZXNvdXJjZS1yZWxhdGVkIHNwYW5zICovXG5leHBvcnQgZnVuY3Rpb24gYWRkUmVzb3VyY2VTcGFucyh0cmFuc2FjdGlvbiwgZW50cnksIHJlc291cmNlTmFtZSwgc3RhcnRUaW1lLCBkdXJhdGlvbiwgdGltZU9yaWdpbikge1xuICAgIC8vIHdlIGFscmVhZHkgaW5zdHJ1bWVudCBiYXNlZCBvbiBmZXRjaCBhbmQgeGhyLCBzbyB3ZSBkb24ndCBuZWVkIHRvXG4gICAgLy8gZHVwbGljYXRlIHNwYW5zIGhlcmUuXG4gICAgaWYgKGVudHJ5LmluaXRpYXRvclR5cGUgPT09ICd4bWxodHRwcmVxdWVzdCcgfHwgZW50cnkuaW5pdGlhdG9yVHlwZSA9PT0gJ2ZldGNoJykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB2YXIgZGF0YSA9IHt9O1xuICAgIGlmICgndHJhbnNmZXJTaXplJyBpbiBlbnRyeSkge1xuICAgICAgICBkYXRhWydUcmFuc2ZlciBTaXplJ10gPSBlbnRyeS50cmFuc2ZlclNpemU7XG4gICAgfVxuICAgIGlmICgnZW5jb2RlZEJvZHlTaXplJyBpbiBlbnRyeSkge1xuICAgICAgICBkYXRhWydFbmNvZGVkIEJvZHkgU2l6ZSddID0gZW50cnkuZW5jb2RlZEJvZHlTaXplO1xuICAgIH1cbiAgICBpZiAoJ2RlY29kZWRCb2R5U2l6ZScgaW4gZW50cnkpIHtcbiAgICAgICAgZGF0YVsnRGVjb2RlZCBCb2R5IFNpemUnXSA9IGVudHJ5LmRlY29kZWRCb2R5U2l6ZTtcbiAgICB9XG4gICAgdmFyIHN0YXJ0VGltZXN0YW1wID0gdGltZU9yaWdpbiArIHN0YXJ0VGltZTtcbiAgICB2YXIgZW5kVGltZXN0YW1wID0gc3RhcnRUaW1lc3RhbXAgKyBkdXJhdGlvbjtcbiAgICBfc3RhcnRDaGlsZCh0cmFuc2FjdGlvbiwge1xuICAgICAgICBkZXNjcmlwdGlvbjogcmVzb3VyY2VOYW1lLFxuICAgICAgICBlbmRUaW1lc3RhbXA6IGVuZFRpbWVzdGFtcCxcbiAgICAgICAgb3A6IGVudHJ5LmluaXRpYXRvclR5cGUgPyBcInJlc291cmNlLlwiICsgZW50cnkuaW5pdGlhdG9yVHlwZSA6ICdyZXNvdXJjZScsXG4gICAgICAgIHN0YXJ0VGltZXN0YW1wOiBzdGFydFRpbWVzdGFtcCxcbiAgICAgICAgZGF0YTogZGF0YSxcbiAgICB9KTtcbiAgICByZXR1cm4gZW5kVGltZXN0YW1wO1xufVxuLyoqIENyZWF0ZSBwZXJmb3JtYW5jZSBuYXZpZ2F0aW9uIHJlbGF0ZWQgc3BhbnMgKi9cbmZ1bmN0aW9uIGFkZFBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZyh0cmFuc2FjdGlvbiwgZW50cnksIGV2ZW50LCB0aW1lT3JpZ2luLCBldmVudEVuZCkge1xuICAgIHZhciBlbmQgPSBldmVudEVuZCA/IGVudHJ5W2V2ZW50RW5kXSA6IGVudHJ5W2V2ZW50ICsgXCJFbmRcIl07XG4gICAgdmFyIHN0YXJ0ID0gZW50cnlbZXZlbnQgKyBcIlN0YXJ0XCJdO1xuICAgIGlmICghc3RhcnQgfHwgIWVuZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIF9zdGFydENoaWxkKHRyYW5zYWN0aW9uLCB7XG4gICAgICAgIG9wOiAnYnJvd3NlcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBldmVudCxcbiAgICAgICAgc3RhcnRUaW1lc3RhbXA6IHRpbWVPcmlnaW4gKyBtc1RvU2VjKHN0YXJ0KSxcbiAgICAgICAgZW5kVGltZXN0YW1wOiB0aW1lT3JpZ2luICsgbXNUb1NlYyhlbmQpLFxuICAgIH0pO1xufVxuLyoqIENyZWF0ZSByZXF1ZXN0IGFuZCByZXNwb25zZSByZWxhdGVkIHNwYW5zICovXG5mdW5jdGlvbiBhZGRSZXF1ZXN0KHRyYW5zYWN0aW9uLCBlbnRyeSwgdGltZU9yaWdpbikge1xuICAgIF9zdGFydENoaWxkKHRyYW5zYWN0aW9uLCB7XG4gICAgICAgIG9wOiAnYnJvd3NlcicsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAncmVxdWVzdCcsXG4gICAgICAgIHN0YXJ0VGltZXN0YW1wOiB0aW1lT3JpZ2luICsgbXNUb1NlYyhlbnRyeS5yZXF1ZXN0U3RhcnQpLFxuICAgICAgICBlbmRUaW1lc3RhbXA6IHRpbWVPcmlnaW4gKyBtc1RvU2VjKGVudHJ5LnJlc3BvbnNlRW5kKSxcbiAgICB9KTtcbiAgICBfc3RhcnRDaGlsZCh0cmFuc2FjdGlvbiwge1xuICAgICAgICBvcDogJ2Jyb3dzZXInLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ3Jlc3BvbnNlJyxcbiAgICAgICAgc3RhcnRUaW1lc3RhbXA6IHRpbWVPcmlnaW4gKyBtc1RvU2VjKGVudHJ5LnJlc3BvbnNlU3RhcnQpLFxuICAgICAgICBlbmRUaW1lc3RhbXA6IHRpbWVPcmlnaW4gKyBtc1RvU2VjKGVudHJ5LnJlc3BvbnNlRW5kKSxcbiAgICB9KTtcbn1cbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIHN0YXJ0IGNoaWxkIG9uIHRyYW5zYWN0aW9ucy4gVGhpcyBmdW5jdGlvbiB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZSB0cmFuc2FjdGlvbiB3aWxsXG4gKiB1c2UgdGhlIHN0YXJ0IHRpbWVzdGFtcCBvZiB0aGUgY3JlYXRlZCBjaGlsZCBzcGFuIGlmIGl0IGlzIGVhcmxpZXIgdGhhbiB0aGUgdHJhbnNhY3Rpb25zIGFjdHVhbFxuICogc3RhcnQgdGltZXN0YW1wLlxuICovXG5leHBvcnQgZnVuY3Rpb24gX3N0YXJ0Q2hpbGQodHJhbnNhY3Rpb24sIF9hKSB7XG4gICAgdmFyIHN0YXJ0VGltZXN0YW1wID0gX2Euc3RhcnRUaW1lc3RhbXAsIGN0eCA9IF9fcmVzdChfYSwgW1wic3RhcnRUaW1lc3RhbXBcIl0pO1xuICAgIGlmIChzdGFydFRpbWVzdGFtcCAmJiB0cmFuc2FjdGlvbi5zdGFydFRpbWVzdGFtcCA+IHN0YXJ0VGltZXN0YW1wKSB7XG4gICAgICAgIHRyYW5zYWN0aW9uLnN0YXJ0VGltZXN0YW1wID0gc3RhcnRUaW1lc3RhbXA7XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2FjdGlvbi5zdGFydENoaWxkKF9fYXNzaWduKHsgc3RhcnRUaW1lc3RhbXA6IHN0YXJ0VGltZXN0YW1wIH0sIGN0eCkpO1xufVxuLyoqXG4gKiBDaGVja3MgaWYgYSBnaXZlbiB2YWx1ZSBpcyBhIHZhbGlkIG1lYXN1cmVtZW50IHZhbHVlLlxuICovXG5mdW5jdGlvbiBpc01lYXN1cmVtZW50VmFsdWUodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWx1ZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRyaWNzLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgYmluZFJlcG9ydGVyIH0gZnJvbSAnLi9saWIvYmluZFJlcG9ydGVyJztcbmltcG9ydCB7IGluaXRNZXRyaWMgfSBmcm9tICcuL2xpYi9pbml0TWV0cmljJztcbmltcG9ydCB7IG9ic2VydmUgfSBmcm9tICcuL2xpYi9vYnNlcnZlJztcbmltcG9ydCB7IG9uSGlkZGVuIH0gZnJvbSAnLi9saWIvb25IaWRkZW4nO1xuZXhwb3J0IHZhciBnZXRDTFMgPSBmdW5jdGlvbiAob25SZXBvcnQsIHJlcG9ydEFsbENoYW5nZXMpIHtcbiAgICBpZiAocmVwb3J0QWxsQ2hhbmdlcyA9PT0gdm9pZCAwKSB7IHJlcG9ydEFsbENoYW5nZXMgPSBmYWxzZTsgfVxuICAgIHZhciBtZXRyaWMgPSBpbml0TWV0cmljKCdDTFMnLCAwKTtcbiAgICB2YXIgcmVwb3J0O1xuICAgIHZhciBlbnRyeUhhbmRsZXIgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgLy8gT25seSBjb3VudCBsYXlvdXQgc2hpZnRzIHdpdGhvdXQgcmVjZW50IHVzZXIgaW5wdXQuXG4gICAgICAgIGlmICghZW50cnkuaGFkUmVjZW50SW5wdXQpIHtcbiAgICAgICAgICAgIG1ldHJpYy52YWx1ZSArPSBlbnRyeS52YWx1ZTtcbiAgICAgICAgICAgIG1ldHJpYy5lbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgcmVwb3J0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBwbyA9IG9ic2VydmUoJ2xheW91dC1zaGlmdCcsIGVudHJ5SGFuZGxlcik7XG4gICAgaWYgKHBvKSB7XG4gICAgICAgIHJlcG9ydCA9IGJpbmRSZXBvcnRlcihvblJlcG9ydCwgbWV0cmljLCBwbywgcmVwb3J0QWxsQ2hhbmdlcyk7XG4gICAgICAgIG9uSGlkZGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGlzVW5sb2FkaW5nID0gX2EuaXNVbmxvYWRpbmc7XG4gICAgICAgICAgICBwby50YWtlUmVjb3JkcygpLm1hcChlbnRyeUhhbmRsZXIpO1xuICAgICAgICAgICAgaWYgKGlzVW5sb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgbWV0cmljLmlzRmluYWwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVwb3J0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRDTFMuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBiaW5kUmVwb3J0ZXIgfSBmcm9tICcuL2xpYi9iaW5kUmVwb3J0ZXInO1xuaW1wb3J0IHsgZ2V0Rmlyc3RIaWRkZW4gfSBmcm9tICcuL2xpYi9nZXRGaXJzdEhpZGRlbic7XG5pbXBvcnQgeyBpbml0TWV0cmljIH0gZnJvbSAnLi9saWIvaW5pdE1ldHJpYyc7XG5pbXBvcnQgeyBvYnNlcnZlIH0gZnJvbSAnLi9saWIvb2JzZXJ2ZSc7XG5pbXBvcnQgeyBvbkhpZGRlbiB9IGZyb20gJy4vbGliL29uSGlkZGVuJztcbmltcG9ydCB7IHdoZW5JbnB1dCB9IGZyb20gJy4vbGliL3doZW5JbnB1dCc7XG5leHBvcnQgdmFyIGdldExDUCA9IGZ1bmN0aW9uIChvblJlcG9ydCwgcmVwb3J0QWxsQ2hhbmdlcykge1xuICAgIGlmIChyZXBvcnRBbGxDaGFuZ2VzID09PSB2b2lkIDApIHsgcmVwb3J0QWxsQ2hhbmdlcyA9IGZhbHNlOyB9XG4gICAgdmFyIG1ldHJpYyA9IGluaXRNZXRyaWMoJ0xDUCcpO1xuICAgIHZhciBmaXJzdEhpZGRlbiA9IGdldEZpcnN0SGlkZGVuKCk7XG4gICAgdmFyIHJlcG9ydDtcbiAgICB2YXIgZW50cnlIYW5kbGVyID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIC8vIFRoZSBzdGFydFRpbWUgYXR0cmlidXRlIHJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSByZW5kZXJUaW1lIGlmIGl0IGlzIG5vdCAwLFxuICAgICAgICAvLyBhbmQgdGhlIHZhbHVlIG9mIHRoZSBsb2FkVGltZSBvdGhlcndpc2UuXG4gICAgICAgIHZhciB2YWx1ZSA9IGVudHJ5LnN0YXJ0VGltZTtcbiAgICAgICAgLy8gSWYgdGhlIHBhZ2Ugd2FzIGhpZGRlbiBwcmlvciB0byBwYWludCB0aW1lIG9mIHRoZSBlbnRyeSxcbiAgICAgICAgLy8gaWdub3JlIGl0IGFuZCBtYXJrIHRoZSBtZXRyaWMgYXMgZmluYWwsIG90aGVyd2lzZSBhZGQgdGhlIGVudHJ5LlxuICAgICAgICBpZiAodmFsdWUgPCBmaXJzdEhpZGRlbi50aW1lU3RhbXApIHtcbiAgICAgICAgICAgIG1ldHJpYy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgbWV0cmljLmVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtZXRyaWMuaXNGaW5hbCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmVwb3J0KCk7XG4gICAgfTtcbiAgICB2YXIgcG8gPSBvYnNlcnZlKCdsYXJnZXN0LWNvbnRlbnRmdWwtcGFpbnQnLCBlbnRyeUhhbmRsZXIpO1xuICAgIGlmIChwbykge1xuICAgICAgICByZXBvcnQgPSBiaW5kUmVwb3J0ZXIob25SZXBvcnQsIG1ldHJpYywgcG8sIHJlcG9ydEFsbENoYW5nZXMpO1xuICAgICAgICB2YXIgb25GaW5hbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghbWV0cmljLmlzRmluYWwpIHtcbiAgICAgICAgICAgICAgICBwby50YWtlUmVjb3JkcygpLm1hcChlbnRyeUhhbmRsZXIpO1xuICAgICAgICAgICAgICAgIG1ldHJpYy5pc0ZpbmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXBvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdm9pZCB3aGVuSW5wdXQoKS50aGVuKG9uRmluYWwpO1xuICAgICAgICBvbkhpZGRlbihvbkZpbmFsLCB0cnVlKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0TENQLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgYmluZFJlcG9ydGVyIH0gZnJvbSAnLi9saWIvYmluZFJlcG9ydGVyJztcbmltcG9ydCB7IGdldEZpcnN0SGlkZGVuIH0gZnJvbSAnLi9saWIvZ2V0Rmlyc3RIaWRkZW4nO1xuaW1wb3J0IHsgaW5pdE1ldHJpYyB9IGZyb20gJy4vbGliL2luaXRNZXRyaWMnO1xuaW1wb3J0IHsgb2JzZXJ2ZSB9IGZyb20gJy4vbGliL29ic2VydmUnO1xuaW1wb3J0IHsgb25IaWRkZW4gfSBmcm9tICcuL2xpYi9vbkhpZGRlbic7XG5leHBvcnQgdmFyIGdldEZJRCA9IGZ1bmN0aW9uIChvblJlcG9ydCkge1xuICAgIHZhciBtZXRyaWMgPSBpbml0TWV0cmljKCdGSUQnKTtcbiAgICB2YXIgZmlyc3RIaWRkZW4gPSBnZXRGaXJzdEhpZGRlbigpO1xuICAgIHZhciBlbnRyeUhhbmRsZXIgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgLy8gT25seSByZXBvcnQgaWYgdGhlIHBhZ2Ugd2Fzbid0IGhpZGRlbiBwcmlvciB0byB0aGUgZmlyc3QgaW5wdXQuXG4gICAgICAgIGlmIChlbnRyeS5zdGFydFRpbWUgPCBmaXJzdEhpZGRlbi50aW1lU3RhbXApIHtcbiAgICAgICAgICAgIG1ldHJpYy52YWx1ZSA9IGVudHJ5LnByb2Nlc3NpbmdTdGFydCAtIGVudHJ5LnN0YXJ0VGltZTtcbiAgICAgICAgICAgIG1ldHJpYy5lbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgbWV0cmljLmlzRmluYWwgPSB0cnVlO1xuICAgICAgICAgICAgcmVwb3J0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBwbyA9IG9ic2VydmUoJ2ZpcnN0LWlucHV0JywgZW50cnlIYW5kbGVyKTtcbiAgICB2YXIgcmVwb3J0ID0gYmluZFJlcG9ydGVyKG9uUmVwb3J0LCBtZXRyaWMsIHBvKTtcbiAgICBpZiAocG8pIHtcbiAgICAgICAgb25IaWRkZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG8udGFrZVJlY29yZHMoKS5tYXAoZW50cnlIYW5kbGVyKTtcbiAgICAgICAgICAgIHBvLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAod2luZG93LnBlcmZNZXRyaWNzICYmIHdpbmRvdy5wZXJmTWV0cmljcy5vbkZpcnN0SW5wdXREZWxheSkge1xuICAgICAgICAgICAgd2luZG93LnBlcmZNZXRyaWNzLm9uRmlyc3RJbnB1dERlbGF5KGZ1bmN0aW9uICh2YWx1ZSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHJlcG9ydCBpZiB0aGUgcGFnZSB3YXNuJ3QgaGlkZGVuIHByaW9yIHRvIHRoZSBmaXJzdCBpbnB1dC5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGltZVN0YW1wIDwgZmlyc3RIaWRkZW4udGltZVN0YW1wKSB7XG4gICAgICAgICAgICAgICAgICAgIG1ldHJpYy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBtZXRyaWMuaXNGaW5hbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG1ldHJpYy5lbnRyaWVzID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5VHlwZTogJ2ZpcnN0LWlucHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBldmVudC50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IGV2ZW50LmNhbmNlbGFibGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiBldmVudC50aW1lU3RhbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc2luZ1N0YXJ0OiBldmVudC50aW1lU3RhbXAgKyB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIHJlcG9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldEZJRC5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiwgX19yZWFkLCBfX3NwcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZ2V0Q3VycmVudEh1YiB9IGZyb20gJ0BzZW50cnkvaHViJztcbmltcG9ydCB7IGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIsIGlzSW5zdGFuY2VPZiwgaXNNYXRjaGluZ1BhdHRlcm4gfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IGdldEFjdGl2ZVRyYW5zYWN0aW9uLCBoYXNUcmFjaW5nRW5hYmxlZCB9IGZyb20gJy4uL3V0aWxzJztcbmV4cG9ydCB2YXIgREVGQVVMVF9UUkFDSU5HX09SSUdJTlMgPSBbJ2xvY2FsaG9zdCcsIC9eXFwvL107XG5leHBvcnQgdmFyIGRlZmF1bHRSZXF1ZXN0SW5zdHJ1bWVudGF0aW9uT3B0aW9ucyA9IHtcbiAgICB0cmFjZUZldGNoOiB0cnVlLFxuICAgIHRyYWNlWEhSOiB0cnVlLFxuICAgIHRyYWNpbmdPcmlnaW5zOiBERUZBVUxUX1RSQUNJTkdfT1JJR0lOUyxcbn07XG4vKiogUmVnaXN0ZXJzIHNwYW4gY3JlYXRvcnMgZm9yIHhociBhbmQgZmV0Y2ggcmVxdWVzdHMgICovXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJSZXF1ZXN0SW5zdHJ1bWVudGF0aW9uKF9vcHRpb25zKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgIHZhciBfYSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBkZWZhdWx0UmVxdWVzdEluc3RydW1lbnRhdGlvbk9wdGlvbnMpLCBfb3B0aW9ucyksIHRyYWNlRmV0Y2ggPSBfYS50cmFjZUZldGNoLCB0cmFjZVhIUiA9IF9hLnRyYWNlWEhSLCB0cmFjaW5nT3JpZ2lucyA9IF9hLnRyYWNpbmdPcmlnaW5zLCBzaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdCA9IF9hLnNob3VsZENyZWF0ZVNwYW5Gb3JSZXF1ZXN0O1xuICAgIC8vIFdlIHNob3VsZCBjYWNoZSB1cmwgLT4gZGVjaXNpb24gc28gdGhhdCB3ZSBkb24ndCBoYXZlIHRvIGNvbXB1dGVcbiAgICAvLyByZWdleHAgZXZlcnl0aW1lIHdlIGNyZWF0ZSBhIHJlcXVlc3QuXG4gICAgdmFyIHVybE1hcCA9IHt9O1xuICAgIHZhciBkZWZhdWx0U2hvdWxkQ3JlYXRlU3BhbiA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgaWYgKHVybE1hcFt1cmxdKSB7XG4gICAgICAgICAgICByZXR1cm4gdXJsTWFwW3VybF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9yaWdpbnMgPSB0cmFjaW5nT3JpZ2lucztcbiAgICAgICAgdXJsTWFwW3VybF0gPVxuICAgICAgICAgICAgb3JpZ2lucy5zb21lKGZ1bmN0aW9uIChvcmlnaW4pIHsgcmV0dXJuIGlzTWF0Y2hpbmdQYXR0ZXJuKHVybCwgb3JpZ2luKTsgfSkgJiZcbiAgICAgICAgICAgICAgICAhaXNNYXRjaGluZ1BhdHRlcm4odXJsLCAnc2VudHJ5X2tleScpO1xuICAgICAgICByZXR1cm4gdXJsTWFwW3VybF07XG4gICAgfTtcbiAgICAvLyBXZSB3YW50IHRoYXQgb3VyIHVzZXJzIGRvbid0IGhhdmUgdG8gcmUtaW1wbGVtZW50IHNob3VsZENyZWF0ZVNwYW5Gb3JSZXF1ZXN0IHRoZW1zZWx2ZXNcbiAgICAvLyBUaGF0J3Mgd2h5IHdlIGZpbHRlciBvdXQgYWxyZWFkeSB1bndhbnRlZCBTcGFucyBmcm9tIHRyYWNpbmdPcmlnaW5zXG4gICAgdmFyIHNob3VsZENyZWF0ZVNwYW4gPSBkZWZhdWx0U2hvdWxkQ3JlYXRlU3BhbjtcbiAgICBpZiAodHlwZW9mIHNob3VsZENyZWF0ZVNwYW5Gb3JSZXF1ZXN0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHNob3VsZENyZWF0ZVNwYW4gPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFNob3VsZENyZWF0ZVNwYW4odXJsKSAmJiBzaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdCh1cmwpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgc3BhbnMgPSB7fTtcbiAgICBpZiAodHJhY2VGZXRjaCkge1xuICAgICAgICBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyKHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoaGFuZGxlckRhdGEpIHtcbiAgICAgICAgICAgICAgICBmZXRjaENhbGxiYWNrKGhhbmRsZXJEYXRhLCBzaG91bGRDcmVhdGVTcGFuLCBzcGFucyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ2ZldGNoJyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICh0cmFjZVhIUikge1xuICAgICAgICBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyKHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoaGFuZGxlckRhdGEpIHtcbiAgICAgICAgICAgICAgICB4aHJDYWxsYmFjayhoYW5kbGVyRGF0YSwgc2hvdWxkQ3JlYXRlU3Bhbiwgc3BhbnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6ICd4aHInLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhbmQgdHJhY2sgZmV0Y2ggcmVxdWVzdCBzcGFuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hDYWxsYmFjayhoYW5kbGVyRGF0YSwgc2hvdWxkQ3JlYXRlU3Bhbiwgc3BhbnMpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIGN1cnJlbnRDbGllbnRPcHRpb25zID0gKF9hID0gZ2V0Q3VycmVudEh1YigpXG4gICAgICAgIC5nZXRDbGllbnQoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldE9wdGlvbnMoKTtcbiAgICBpZiAoIShjdXJyZW50Q2xpZW50T3B0aW9ucyAmJiBoYXNUcmFjaW5nRW5hYmxlZChjdXJyZW50Q2xpZW50T3B0aW9ucykpIHx8XG4gICAgICAgICEoaGFuZGxlckRhdGEuZmV0Y2hEYXRhICYmIHNob3VsZENyZWF0ZVNwYW4oaGFuZGxlckRhdGEuZmV0Y2hEYXRhLnVybCkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGhhbmRsZXJEYXRhLmVuZFRpbWVzdGFtcCAmJiBoYW5kbGVyRGF0YS5mZXRjaERhdGEuX19zcGFuKSB7XG4gICAgICAgIHZhciBzcGFuID0gc3BhbnNbaGFuZGxlckRhdGEuZmV0Y2hEYXRhLl9fc3Bhbl07XG4gICAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSBoYW5kbGVyRGF0YS5yZXNwb25zZTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gKGttY2xiKSByZW1vdmUgdGhpcyBvbmNlIHR5cGVzIFBSIGdvZXMgdGhyb3VnaFxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICAgICAgICBzcGFuLnNldEh0dHBTdGF0dXMocmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNwYW4uZmluaXNoKCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWR5bmFtaWMtZGVsZXRlXG4gICAgICAgICAgICBkZWxldGUgc3BhbnNbaGFuZGxlckRhdGEuZmV0Y2hEYXRhLl9fc3Bhbl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgYWN0aXZlVHJhbnNhY3Rpb24gPSBnZXRBY3RpdmVUcmFuc2FjdGlvbigpO1xuICAgIGlmIChhY3RpdmVUcmFuc2FjdGlvbikge1xuICAgICAgICB2YXIgc3BhbiA9IGFjdGl2ZVRyYW5zYWN0aW9uLnN0YXJ0Q2hpbGQoe1xuICAgICAgICAgICAgZGF0YTogX19hc3NpZ24oX19hc3NpZ24oe30sIGhhbmRsZXJEYXRhLmZldGNoRGF0YSksIHsgdHlwZTogJ2ZldGNoJyB9KSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBoYW5kbGVyRGF0YS5mZXRjaERhdGEubWV0aG9kICsgXCIgXCIgKyBoYW5kbGVyRGF0YS5mZXRjaERhdGEudXJsLFxuICAgICAgICAgICAgb3A6ICdodHRwJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZXJEYXRhLmZldGNoRGF0YS5fX3NwYW4gPSBzcGFuLnNwYW5JZDtcbiAgICAgICAgc3BhbnNbc3Bhbi5zcGFuSWRdID0gc3BhbjtcbiAgICAgICAgdmFyIHJlcXVlc3QgPSAoaGFuZGxlckRhdGEuYXJnc1swXSA9IGhhbmRsZXJEYXRhLmFyZ3NbMF0pO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB2YXIgb3B0aW9ucyA9IChoYW5kbGVyRGF0YS5hcmdzWzFdID0gaGFuZGxlckRhdGEuYXJnc1sxXSB8fCB7fSk7XG4gICAgICAgIHZhciBoZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICAgICAgICBpZiAoaXNJbnN0YW5jZU9mKHJlcXVlc3QsIFJlcXVlc3QpKSB7XG4gICAgICAgICAgICBoZWFkZXJzID0gcmVxdWVzdC5oZWFkZXJzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoZWFkZXJzKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgICAgICBpZiAodHlwZW9mIGhlYWRlcnMuYXBwZW5kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKCdzZW50cnktdHJhY2UnLCBzcGFuLnRvVHJhY2VwYXJlbnQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyA9IF9fc3ByZWFkKGhlYWRlcnMsIFtbJ3NlbnRyeS10cmFjZScsIHNwYW4udG9UcmFjZXBhcmVudCgpXV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBoZWFkZXJzKSwgeyAnc2VudHJ5LXRyYWNlJzogc3Bhbi50b1RyYWNlcGFyZW50KCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoZWFkZXJzID0geyAnc2VudHJ5LXRyYWNlJzogc3Bhbi50b1RyYWNlcGFyZW50KCkgfTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgIH1cbn1cbi8qKlxuICogQ3JlYXRlIGFuZCB0cmFjayB4aHIgcmVxdWVzdCBzcGFuc1xuICovXG5leHBvcnQgZnVuY3Rpb24geGhyQ2FsbGJhY2soaGFuZGxlckRhdGEsIHNob3VsZENyZWF0ZVNwYW4sIHNwYW5zKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciBjdXJyZW50Q2xpZW50T3B0aW9ucyA9IChfYSA9IGdldEN1cnJlbnRIdWIoKVxuICAgICAgICAuZ2V0Q2xpZW50KCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRPcHRpb25zKCk7XG4gICAgaWYgKCEoY3VycmVudENsaWVudE9wdGlvbnMgJiYgaGFzVHJhY2luZ0VuYWJsZWQoY3VycmVudENsaWVudE9wdGlvbnMpKSB8fFxuICAgICAgICAhKGhhbmRsZXJEYXRhLnhociAmJiBoYW5kbGVyRGF0YS54aHIuX19zZW50cnlfeGhyX18gJiYgc2hvdWxkQ3JlYXRlU3BhbihoYW5kbGVyRGF0YS54aHIuX19zZW50cnlfeGhyX18udXJsKSkgfHxcbiAgICAgICAgaGFuZGxlckRhdGEueGhyLl9fc2VudHJ5X293bl9yZXF1ZXN0X18pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgeGhyID0gaGFuZGxlckRhdGEueGhyLl9fc2VudHJ5X3hocl9fO1xuICAgIC8vIGNoZWNrIGZpcnN0IGlmIHRoZSByZXF1ZXN0IGhhcyBmaW5pc2hlZCBhbmQgaXMgdHJhY2tlZCBieSBhbiBleGlzdGluZyBzcGFuIHdoaWNoIHNob3VsZCBub3cgZW5kXG4gICAgaWYgKGhhbmRsZXJEYXRhLmVuZFRpbWVzdGFtcCAmJiBoYW5kbGVyRGF0YS54aHIuX19zZW50cnlfeGhyX3NwYW5faWRfXykge1xuICAgICAgICB2YXIgc3BhbiA9IHNwYW5zW2hhbmRsZXJEYXRhLnhoci5fX3NlbnRyeV94aHJfc3Bhbl9pZF9fXTtcbiAgICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgICAgIHNwYW4uc2V0SHR0cFN0YXR1cyh4aHIuc3RhdHVzX2NvZGUpO1xuICAgICAgICAgICAgc3Bhbi5maW5pc2goKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZHluYW1pYy1kZWxldGVcbiAgICAgICAgICAgIGRlbGV0ZSBzcGFuc1toYW5kbGVyRGF0YS54aHIuX19zZW50cnlfeGhyX3NwYW5faWRfX107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBpZiBub3QsIGNyZWF0ZSBhIG5ldyBzcGFuIHRvIHRyYWNrIGl0XG4gICAgdmFyIGFjdGl2ZVRyYW5zYWN0aW9uID0gZ2V0QWN0aXZlVHJhbnNhY3Rpb24oKTtcbiAgICBpZiAoYWN0aXZlVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgdmFyIHNwYW4gPSBhY3RpdmVUcmFuc2FjdGlvbi5zdGFydENoaWxkKHtcbiAgICAgICAgICAgIGRhdGE6IF9fYXNzaWduKF9fYXNzaWduKHt9LCB4aHIuZGF0YSksIHsgdHlwZTogJ3hocicsIG1ldGhvZDogeGhyLm1ldGhvZCwgdXJsOiB4aHIudXJsIH0pLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHhoci5tZXRob2QgKyBcIiBcIiArIHhoci51cmwsXG4gICAgICAgICAgICBvcDogJ2h0dHAnLFxuICAgICAgICB9KTtcbiAgICAgICAgaGFuZGxlckRhdGEueGhyLl9fc2VudHJ5X3hocl9zcGFuX2lkX18gPSBzcGFuLnNwYW5JZDtcbiAgICAgICAgc3BhbnNbaGFuZGxlckRhdGEueGhyLl9fc2VudHJ5X3hocl9zcGFuX2lkX19dID0gc3BhbjtcbiAgICAgICAgaWYgKGhhbmRsZXJEYXRhLnhoci5zZXRSZXF1ZXN0SGVhZGVyKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJEYXRhLnhoci5zZXRSZXF1ZXN0SGVhZGVyKCdzZW50cnktdHJhY2UnLCBzcGFuLnRvVHJhY2VwYXJlbnQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoXykge1xuICAgICAgICAgICAgICAgIC8vIEVycm9yOiBJbnZhbGlkU3RhdGVFcnJvcjogRmFpbGVkIHRvIGV4ZWN1dGUgJ3NldFJlcXVlc3RIZWFkZXInIG9uICdYTUxIdHRwUmVxdWVzdCc6IFRoZSBvYmplY3QncyBzdGF0ZSBtdXN0IGJlIE9QRU5FRC5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlcXVlc3QuanMubWFwIiwiaW1wb3J0IHsgYWRkSW5zdHJ1bWVudGF0aW9uSGFuZGxlciwgZ2V0R2xvYmFsT2JqZWN0LCBsb2dnZXIgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbnZhciBnbG9iYWwgPSBnZXRHbG9iYWxPYmplY3QoKTtcbi8qKlxuICogRGVmYXVsdCBmdW5jdGlvbiBpbXBsZW1lbnRpbmcgcGFnZWxvYWQgYW5kIG5hdmlnYXRpb24gdHJhbnNhY3Rpb25zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWZhdWx0Um91dGluZ0luc3RydW1lbnRhdGlvbihzdGFydFRyYW5zYWN0aW9uLCBzdGFydFRyYW5zYWN0aW9uT25QYWdlTG9hZCwgc3RhcnRUcmFuc2FjdGlvbk9uTG9jYXRpb25DaGFuZ2UpIHtcbiAgICBpZiAoc3RhcnRUcmFuc2FjdGlvbk9uUGFnZUxvYWQgPT09IHZvaWQgMCkgeyBzdGFydFRyYW5zYWN0aW9uT25QYWdlTG9hZCA9IHRydWU7IH1cbiAgICBpZiAoc3RhcnRUcmFuc2FjdGlvbk9uTG9jYXRpb25DaGFuZ2UgPT09IHZvaWQgMCkgeyBzdGFydFRyYW5zYWN0aW9uT25Mb2NhdGlvbkNoYW5nZSA9IHRydWU7IH1cbiAgICBpZiAoIWdsb2JhbCB8fCAhZ2xvYmFsLmxvY2F0aW9uKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdDb3VsZCBub3QgaW5pdGlhbGl6ZSByb3V0aW5nIGluc3RydW1lbnRhdGlvbiBkdWUgdG8gaW52YWxpZCBsb2NhdGlvbicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBzdGFydGluZ1VybCA9IGdsb2JhbC5sb2NhdGlvbi5ocmVmO1xuICAgIHZhciBhY3RpdmVUcmFuc2FjdGlvbjtcbiAgICBpZiAoc3RhcnRUcmFuc2FjdGlvbk9uUGFnZUxvYWQpIHtcbiAgICAgICAgYWN0aXZlVHJhbnNhY3Rpb24gPSBzdGFydFRyYW5zYWN0aW9uKHsgbmFtZTogZ2xvYmFsLmxvY2F0aW9uLnBhdGhuYW1lLCBvcDogJ3BhZ2Vsb2FkJyB9KTtcbiAgICB9XG4gICAgaWYgKHN0YXJ0VHJhbnNhY3Rpb25PbkxvY2F0aW9uQ2hhbmdlKSB7XG4gICAgICAgIGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIoe1xuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHZhciB0byA9IF9hLnRvLCBmcm9tID0gX2EuZnJvbTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUaGlzIGVhcmx5IHJldHVybiBpcyB0aGVyZSB0byBhY2NvdW50IGZvciBzb21lIGNhc2VzIHdoZXJlIGEgbmF2aWdhdGlvbiB0cmFuc2FjdGlvbiBzdGFydHMgcmlnaHQgYWZ0ZXJcbiAgICAgICAgICAgICAgICAgKiBsb25nLXJ1bm5pbmcgcGFnZWxvYWQuIFdlIG1ha2Ugc3VyZSB0aGF0IGlmIGBmcm9tYCBpcyB1bmRlZmluZWQgYW5kIGEgdmFsaWQgYHN0YXJ0aW5nVVJMYCBleGlzdHMsIHdlIGRvbid0XG4gICAgICAgICAgICAgICAgICogY3JlYXRlIGFuIHVuZWNjZXNzYXJ5IG5hdmlnYXRpb24gdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAgKiBUaGlzIHdhcyBoYXJkIHRvIGR1cGxpY2F0ZSwgYnV0IHRoaXMgYmVoYXZpb3Igc3RvcHBlZCBhcyBzb29uIGFzIHRoaXMgZml4IHdhcyBhcHBsaWVkLiBUaGlzIGlzc3VlIG1pZ2h0IGFsc29cbiAgICAgICAgICAgICAgICAgKiBvbmx5IGJlIGNhdXNlZCBpbiBjZXJ0YWluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyB3aGVyZSB0aGUgdXNhZ2Ugb2YgYSBob3QgbW9kdWxlIHJlbG9hZGVyIGlzIGNhdXNpbmdcbiAgICAgICAgICAgICAgICAgKiBlcnJvcnMuXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKGZyb20gPT09IHVuZGVmaW5lZCAmJiBzdGFydGluZ1VybCAmJiBzdGFydGluZ1VybC5pbmRleE9mKHRvKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRpbmdVcmwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZyb20gIT09IHRvKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0aW5nVXJsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJbVHJhY2luZ10gRmluaXNoaW5nIGN1cnJlbnQgdHJhbnNhY3Rpb24gd2l0aCBvcDogXCIgKyBhY3RpdmVUcmFuc2FjdGlvbi5vcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGFuIG9wZW4gdHJhbnNhY3Rpb24gb24gdGhlIHNjb3BlLCB3ZSBuZWVkIHRvIGZpbmlzaCBpdCBiZWZvcmUgY3JlYXRpbmcgYW4gbmV3IG9uZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRyYW5zYWN0aW9uLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRyYW5zYWN0aW9uID0gc3RhcnRUcmFuc2FjdGlvbih7IG5hbWU6IGdsb2JhbC5sb2NhdGlvbi5wYXRobmFtZSwgb3A6ICduYXZpZ2F0aW9uJyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ2hpc3RvcnknLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yb3V0ZXIuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGdldEdsb2JhbE9iamVjdCwgbG9nZ2VyIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBzdGFydElkbGVUcmFuc2FjdGlvbiB9IGZyb20gJy4uL2h1YmV4dGVuc2lvbnMnO1xuaW1wb3J0IHsgREVGQVVMVF9JRExFX1RJTUVPVVQgfSBmcm9tICcuLi9pZGxldHJhbnNhY3Rpb24nO1xuaW1wb3J0IHsgU3BhblN0YXR1cyB9IGZyb20gJy4uL3NwYW5zdGF0dXMnO1xuaW1wb3J0IHsgZXh0cmFjdFRyYWNlcGFyZW50RGF0YSwgc2VjVG9NcyB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IHJlZ2lzdGVyQmFja2dyb3VuZFRhYkRldGVjdGlvbiB9IGZyb20gJy4vYmFja2dyb3VuZHRhYic7XG5pbXBvcnQgeyBNZXRyaWNzSW5zdHJ1bWVudGF0aW9uIH0gZnJvbSAnLi9tZXRyaWNzJztcbmltcG9ydCB7IGRlZmF1bHRSZXF1ZXN0SW5zdHJ1bWVudGF0aW9uT3B0aW9ucywgcmVnaXN0ZXJSZXF1ZXN0SW5zdHJ1bWVudGF0aW9uLCB9IGZyb20gJy4vcmVxdWVzdCc7XG5pbXBvcnQgeyBkZWZhdWx0Um91dGluZ0luc3RydW1lbnRhdGlvbiB9IGZyb20gJy4vcm91dGVyJztcbmV4cG9ydCB2YXIgREVGQVVMVF9NQVhfVFJBTlNBQ1RJT05fRFVSQVRJT05fU0VDT05EUyA9IDYwMDtcbnZhciBERUZBVUxUX0JST1dTRVJfVFJBQ0lOR19PUFRJT05TID0gX19hc3NpZ24oeyBpZGxlVGltZW91dDogREVGQVVMVF9JRExFX1RJTUVPVVQsIG1hcmtCYWNrZ3JvdW5kVHJhbnNhY3Rpb25zOiB0cnVlLCBtYXhUcmFuc2FjdGlvbkR1cmF0aW9uOiBERUZBVUxUX01BWF9UUkFOU0FDVElPTl9EVVJBVElPTl9TRUNPTkRTLCByb3V0aW5nSW5zdHJ1bWVudGF0aW9uOiBkZWZhdWx0Um91dGluZ0luc3RydW1lbnRhdGlvbiwgc3RhcnRUcmFuc2FjdGlvbk9uTG9jYXRpb25DaGFuZ2U6IHRydWUsIHN0YXJ0VHJhbnNhY3Rpb25PblBhZ2VMb2FkOiB0cnVlIH0sIGRlZmF1bHRSZXF1ZXN0SW5zdHJ1bWVudGF0aW9uT3B0aW9ucyk7XG4vKipcbiAqIFRoZSBCcm93c2VyIFRyYWNpbmcgaW50ZWdyYXRpb24gYXV0b21hdGljYWxseSBpbnN0cnVtZW50cyBicm93c2VyIHBhZ2Vsb2FkL25hdmlnYXRpb25cbiAqIGFjdGlvbnMgYXMgdHJhbnNhY3Rpb25zLCBhbmQgY2FwdHVyZXMgcmVxdWVzdHMsIG1ldHJpY3MgYW5kIGVycm9ycyBhcyBzcGFucy5cbiAqXG4gKiBUaGUgaW50ZWdyYXRpb24gY2FuIGJlIGNvbmZpZ3VyZWQgd2l0aCBhIHZhcmlldHkgb2Ygb3B0aW9ucywgYW5kIGNhbiBiZSBleHRlbmRlZCB0byB1c2VcbiAqIGFueSByb3V0aW5nIGxpYnJhcnkuIFRoaXMgaW50ZWdyYXRpb24gdXNlcyB7QHNlZSBJZGxlVHJhbnNhY3Rpb259IHRvIGNyZWF0ZSB0cmFuc2FjdGlvbnMuXG4gKi9cbnZhciBCcm93c2VyVHJhY2luZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCcm93c2VyVHJhY2luZyhfb3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGluaGVyaXREb2NcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IEJyb3dzZXJUcmFjaW5nLmlkO1xuICAgICAgICB0aGlzLl9tZXRyaWNzID0gbmV3IE1ldHJpY3NJbnN0cnVtZW50YXRpb24oKTtcbiAgICAgICAgdGhpcy5fZW1pdE9wdGlvbnNXYXJuaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciB0cmFjaW5nT3JpZ2lucyA9IGRlZmF1bHRSZXF1ZXN0SW5zdHJ1bWVudGF0aW9uT3B0aW9ucy50cmFjaW5nT3JpZ2lucztcbiAgICAgICAgLy8gTk9URTogTG9nZ2VyIGRvZXNuJ3Qgd29yayBpbiBjb25zdHJ1Y3RvcnMsIGFzIGl0J3MgaW5pdGlhbGl6ZWQgYWZ0ZXIgaW50ZWdyYXRpb25zIGluc3RhbmNlc1xuICAgICAgICBpZiAoX29wdGlvbnMgJiZcbiAgICAgICAgICAgIF9vcHRpb25zLnRyYWNpbmdPcmlnaW5zICYmXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KF9vcHRpb25zLnRyYWNpbmdPcmlnaW5zKSAmJlxuICAgICAgICAgICAgX29wdGlvbnMudHJhY2luZ09yaWdpbnMubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICB0cmFjaW5nT3JpZ2lucyA9IF9vcHRpb25zLnRyYWNpbmdPcmlnaW5zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZW1pdE9wdGlvbnNXYXJuaW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7fSwgREVGQVVMVF9CUk9XU0VSX1RSQUNJTkdfT1BUSU9OUyksIF9vcHRpb25zKSwgeyB0cmFjaW5nT3JpZ2luczogdHJhY2luZ09yaWdpbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQnJvd3NlclRyYWNpbmcucHJvdG90eXBlLnNldHVwT25jZSA9IGZ1bmN0aW9uIChfLCBnZXRDdXJyZW50SHViKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX2dldEN1cnJlbnRIdWIgPSBnZXRDdXJyZW50SHViO1xuICAgICAgICBpZiAodGhpcy5fZW1pdE9wdGlvbnNXYXJuaW5nKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignW1RyYWNpbmddIFlvdSBuZWVkIHRvIGRlZmluZSBgdHJhY2luZ09yaWdpbnNgIGluIHRoZSBvcHRpb25zLiBTZXQgYW4gYXJyYXkgb2YgdXJscyBvciBwYXR0ZXJucyB0byB0cmFjZS4nKTtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKFwiW1RyYWNpbmddIFdlIGFkZGVkIGEgcmVhc29uYWJsZSBkZWZhdWx0IGZvciB5b3U6IFwiICsgZGVmYXVsdFJlcXVlc3RJbnN0cnVtZW50YXRpb25PcHRpb25zLnRyYWNpbmdPcmlnaW5zKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3VuYm91bmQtbWV0aG9kXG4gICAgICAgIHZhciBfYSA9IHRoaXMub3B0aW9ucywgcm91dGluZ0luc3RydW1lbnRhdGlvbiA9IF9hLnJvdXRpbmdJbnN0cnVtZW50YXRpb24sIHN0YXJ0VHJhbnNhY3Rpb25PbkxvY2F0aW9uQ2hhbmdlID0gX2Euc3RhcnRUcmFuc2FjdGlvbk9uTG9jYXRpb25DaGFuZ2UsIHN0YXJ0VHJhbnNhY3Rpb25PblBhZ2VMb2FkID0gX2Euc3RhcnRUcmFuc2FjdGlvbk9uUGFnZUxvYWQsIG1hcmtCYWNrZ3JvdW5kVHJhbnNhY3Rpb25zID0gX2EubWFya0JhY2tncm91bmRUcmFuc2FjdGlvbnMsIHRyYWNlRmV0Y2ggPSBfYS50cmFjZUZldGNoLCB0cmFjZVhIUiA9IF9hLnRyYWNlWEhSLCB0cmFjaW5nT3JpZ2lucyA9IF9hLnRyYWNpbmdPcmlnaW5zLCBzaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdCA9IF9hLnNob3VsZENyZWF0ZVNwYW5Gb3JSZXF1ZXN0O1xuICAgICAgICByb3V0aW5nSW5zdHJ1bWVudGF0aW9uKGZ1bmN0aW9uIChjb250ZXh0KSB7IHJldHVybiBfdGhpcy5fY3JlYXRlUm91dGVUcmFuc2FjdGlvbihjb250ZXh0KTsgfSwgc3RhcnRUcmFuc2FjdGlvbk9uUGFnZUxvYWQsIHN0YXJ0VHJhbnNhY3Rpb25PbkxvY2F0aW9uQ2hhbmdlKTtcbiAgICAgICAgaWYgKG1hcmtCYWNrZ3JvdW5kVHJhbnNhY3Rpb25zKSB7XG4gICAgICAgICAgICByZWdpc3RlckJhY2tncm91bmRUYWJEZXRlY3Rpb24oKTtcbiAgICAgICAgfVxuICAgICAgICByZWdpc3RlclJlcXVlc3RJbnN0cnVtZW50YXRpb24oeyB0cmFjZUZldGNoOiB0cmFjZUZldGNoLCB0cmFjZVhIUjogdHJhY2VYSFIsIHRyYWNpbmdPcmlnaW5zOiB0cmFjaW5nT3JpZ2lucywgc2hvdWxkQ3JlYXRlU3BhbkZvclJlcXVlc3Q6IHNob3VsZENyZWF0ZVNwYW5Gb3JSZXF1ZXN0IH0pO1xuICAgIH07XG4gICAgLyoqIENyZWF0ZSByb3V0aW5nIGlkbGUgdHJhbnNhY3Rpb24uICovXG4gICAgQnJvd3NlclRyYWNpbmcucHJvdG90eXBlLl9jcmVhdGVSb3V0ZVRyYW5zYWN0aW9uID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLl9nZXRDdXJyZW50SHViKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihcIltUcmFjaW5nXSBEaWQgbm90IGNyZWF0ZSBcIiArIGNvbnRleHQub3AgKyBcIiB0cmFuc2FjdGlvbiBiZWNhdXNlIF9nZXRDdXJyZW50SHViIGlzIGludmFsaWQuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3VuYm91bmQtbWV0aG9kXG4gICAgICAgIHZhciBfYSA9IHRoaXMub3B0aW9ucywgYmVmb3JlTmF2aWdhdGUgPSBfYS5iZWZvcmVOYXZpZ2F0ZSwgaWRsZVRpbWVvdXQgPSBfYS5pZGxlVGltZW91dCwgbWF4VHJhbnNhY3Rpb25EdXJhdGlvbiA9IF9hLm1heFRyYW5zYWN0aW9uRHVyYXRpb247XG4gICAgICAgIHZhciBwYXJlbnRDb250ZXh0RnJvbUhlYWRlciA9IGNvbnRleHQub3AgPT09ICdwYWdlbG9hZCcgPyBnZXRIZWFkZXJDb250ZXh0KCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBleHBhbmRlZENvbnRleHQgPSBfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29udGV4dCksIHBhcmVudENvbnRleHRGcm9tSGVhZGVyKSwgeyB0cmltRW5kOiB0cnVlIH0pO1xuICAgICAgICB2YXIgbW9kaWZpZWRDb250ZXh0ID0gdHlwZW9mIGJlZm9yZU5hdmlnYXRlID09PSAnZnVuY3Rpb24nID8gYmVmb3JlTmF2aWdhdGUoZXhwYW5kZWRDb250ZXh0KSA6IGV4cGFuZGVkQ29udGV4dDtcbiAgICAgICAgLy8gRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHJlYXNvbnMsIGJlZm9yZU5hdmlnYXRlIGNhbiByZXR1cm4gdW5kZWZpbmVkIHRvIFwiZHJvcFwiIHRoZSB0cmFuc2FjdGlvbiAocHJldmVudCBpdFxuICAgICAgICAvLyBmcm9tIGJlaW5nIHNlbnQgdG8gU2VudHJ5KS5cbiAgICAgICAgdmFyIGZpbmFsQ29udGV4dCA9IG1vZGlmaWVkQ29udGV4dCA9PT0gdW5kZWZpbmVkID8gX19hc3NpZ24oX19hc3NpZ24oe30sIGV4cGFuZGVkQ29udGV4dCksIHsgc2FtcGxlZDogZmFsc2UgfSkgOiBtb2RpZmllZENvbnRleHQ7XG4gICAgICAgIGlmIChmaW5hbENvbnRleHQuc2FtcGxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJbVHJhY2luZ10gV2lsbCBub3Qgc2VuZCBcIiArIGZpbmFsQ29udGV4dC5vcCArIFwiIHRyYW5zYWN0aW9uIGJlY2F1c2Ugb2YgYmVmb3JlTmF2aWdhdGUuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5sb2coXCJbVHJhY2luZ10gU3RhcnRpbmcgXCIgKyBmaW5hbENvbnRleHQub3AgKyBcIiB0cmFuc2FjdGlvbiBvbiBzY29wZVwiKTtcbiAgICAgICAgdmFyIGh1YiA9IHRoaXMuX2dldEN1cnJlbnRIdWIoKTtcbiAgICAgICAgdmFyIGxvY2F0aW9uID0gZ2V0R2xvYmFsT2JqZWN0KCkubG9jYXRpb247XG4gICAgICAgIHZhciBpZGxlVHJhbnNhY3Rpb24gPSBzdGFydElkbGVUcmFuc2FjdGlvbihodWIsIGZpbmFsQ29udGV4dCwgaWRsZVRpbWVvdXQsIHRydWUsIHsgbG9jYXRpb246IGxvY2F0aW9uIH0pO1xuICAgICAgICBpZGxlVHJhbnNhY3Rpb24ucmVnaXN0ZXJCZWZvcmVGaW5pc2hDYWxsYmFjayhmdW5jdGlvbiAodHJhbnNhY3Rpb24sIGVuZFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgX3RoaXMuX21ldHJpY3MuYWRkUGVyZm9ybWFuY2VFbnRyaWVzKHRyYW5zYWN0aW9uKTtcbiAgICAgICAgICAgIGFkanVzdFRyYW5zYWN0aW9uRHVyYXRpb24oc2VjVG9NcyhtYXhUcmFuc2FjdGlvbkR1cmF0aW9uKSwgdHJhbnNhY3Rpb24sIGVuZFRpbWVzdGFtcCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaWRsZVRyYW5zYWN0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBCcm93c2VyVHJhY2luZy5pZCA9ICdCcm93c2VyVHJhY2luZyc7XG4gICAgcmV0dXJuIEJyb3dzZXJUcmFjaW5nO1xufSgpKTtcbmV4cG9ydCB7IEJyb3dzZXJUcmFjaW5nIH07XG4vKipcbiAqIEdldHMgdHJhbnNhY3Rpb24gY29udGV4dCBmcm9tIGEgc2VudHJ5LXRyYWNlIG1ldGEuXG4gKlxuICogQHJldHVybnMgVHJhbnNhY3Rpb24gY29udGV4dCBkYXRhIGZyb20gdGhlIGhlYWRlciBvciB1bmRlZmluZWQgaWYgdGhlcmUncyBubyBoZWFkZXIgb3IgdGhlIGhlYWRlciBpcyBtYWxmb3JtZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEhlYWRlckNvbnRleHQoKSB7XG4gICAgdmFyIGhlYWRlciA9IGdldE1ldGFDb250ZW50KCdzZW50cnktdHJhY2UnKTtcbiAgICBpZiAoaGVhZGVyKSB7XG4gICAgICAgIHJldHVybiBleHRyYWN0VHJhY2VwYXJlbnREYXRhKGhlYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKiogUmV0dXJucyB0aGUgdmFsdWUgb2YgYSBtZXRhIHRhZyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldE1ldGFDb250ZW50KG1ldGFOYW1lKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1ldGFbbmFtZT1cIiArIG1ldGFOYW1lICsgXCJdXCIpO1xuICAgIHJldHVybiBlbCA/IGVsLmdldEF0dHJpYnV0ZSgnY29udGVudCcpIDogbnVsbDtcbn1cbi8qKiBBZGp1c3RzIHRyYW5zYWN0aW9uIHZhbHVlIGJhc2VkIG9uIG1heCB0cmFuc2FjdGlvbiBkdXJhdGlvbiAqL1xuZnVuY3Rpb24gYWRqdXN0VHJhbnNhY3Rpb25EdXJhdGlvbihtYXhEdXJhdGlvbiwgdHJhbnNhY3Rpb24sIGVuZFRpbWVzdGFtcCkge1xuICAgIHZhciBkaWZmID0gZW5kVGltZXN0YW1wIC0gdHJhbnNhY3Rpb24uc3RhcnRUaW1lc3RhbXA7XG4gICAgdmFyIGlzT3V0ZGF0ZWRUcmFuc2FjdGlvbiA9IGVuZFRpbWVzdGFtcCAmJiAoZGlmZiA+IG1heER1cmF0aW9uIHx8IGRpZmYgPCAwKTtcbiAgICBpZiAoaXNPdXRkYXRlZFRyYW5zYWN0aW9uKSB7XG4gICAgICAgIHRyYW5zYWN0aW9uLnNldFN0YXR1cyhTcGFuU3RhdHVzLkRlYWRsaW5lRXhjZWVkZWQpO1xuICAgICAgICB0cmFuc2FjdGlvbi5zZXRUYWcoJ21heFRyYW5zYWN0aW9uRHVyYXRpb25FeGNlZWRlZCcsICd0cnVlJyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnJvd3NlcnRyYWNpbmcuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG4vKipcbiAqIEV4cHJlc3MgaW50ZWdyYXRpb25cbiAqXG4gKiBQcm92aWRlcyBhbiByZXF1ZXN0IGFuZCBlcnJvciBoYW5kbGVyIGZvciBFeHByZXNzIGZyYW1ld29yayBhcyB3ZWxsIGFzIHRyYWNpbmcgY2FwYWJpbGl0aWVzXG4gKi9cbnZhciBFeHByZXNzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgZnVuY3Rpb24gRXhwcmVzcyhvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW5oZXJpdERvY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYW1lID0gRXhwcmVzcy5pZDtcbiAgICAgICAgdGhpcy5fcm91dGVyID0gb3B0aW9ucy5yb3V0ZXIgfHwgb3B0aW9ucy5hcHA7XG4gICAgICAgIHRoaXMuX21ldGhvZHMgPSAoQXJyYXkuaXNBcnJheShvcHRpb25zLm1ldGhvZHMpID8gb3B0aW9ucy5tZXRob2RzIDogW10pLmNvbmNhdCgndXNlJyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgRXhwcmVzcy5wcm90b3R5cGUuc2V0dXBPbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3JvdXRlcikge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdFeHByZXNzSW50ZWdyYXRpb24gaXMgbWlzc2luZyBhbiBFeHByZXNzIGluc3RhbmNlJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaW5zdHJ1bWVudE1pZGRsZXdhcmVzKHRoaXMuX3JvdXRlciwgdGhpcy5fbWV0aG9kcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEV4cHJlc3MuaWQgPSAnRXhwcmVzcyc7XG4gICAgcmV0dXJuIEV4cHJlc3M7XG59KCkpO1xuZXhwb3J0IHsgRXhwcmVzcyB9O1xuLyoqXG4gKiBXcmFwcyBvcmlnaW5hbCBtaWRkbGV3YXJlIGZ1bmN0aW9uIGluIGEgdHJhY2luZyBjYWxsLCB3aGljaCBzdG9yZXMgdGhlIGluZm8gYWJvdXQgdGhlIGNhbGwgYXMgYSBzcGFuLFxuICogYW5kIGZpbmlzaGVzIGl0IG9uY2UgdGhlIG1pZGRsZXdhcmUgaXMgZG9uZSBpbnZva2luZy5cbiAqXG4gKiBFeHByZXNzIG1pZGRsZXdhcmVzIGhhdmUgMyB2YXJpb3VzIGZvcm1zLCB0aHVzIHdlIGhhdmUgdG8gdGFrZSBjYXJlIG9mIGFsbCBvZiB0aGVtOlxuICogLy8gc3luY1xuICogYXBwLnVzZShmdW5jdGlvbiAocmVxLCByZXMpIHsgLi4uIH0pXG4gKiAvLyBhc3luY1xuICogYXBwLnVzZShmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHsgLi4uIH0pXG4gKiAvLyBlcnJvciBoYW5kbGVyXG4gKiBhcHAudXNlKGZ1bmN0aW9uIChlcnIsIHJlcSwgcmVzLCBuZXh0KSB7IC4uLiB9KVxuICpcbiAqIFRoZXkgYWxsIGludGVybmFsbHkgZGVsZWdhdGUgdG8gdGhlIGByb3V0ZXJbbWV0aG9kXWAgb2YgdGhlIGdpdmVuIGFwcGxpY2F0aW9uIGluc3RhbmNlLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlcywgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gd3JhcChmbiwgbWV0aG9kKSB7XG4gICAgdmFyIGFyaXR5ID0gZm4ubGVuZ3RoO1xuICAgIHN3aXRjaCAoYXJpdHkpIHtcbiAgICAgICAgY2FzZSAyOiB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gcmVzLl9fc2VudHJ5X3RyYW5zYWN0aW9uO1xuICAgICAgICAgICAgICAgIGlmICh0cmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3Bhbl8xID0gdHJhbnNhY3Rpb24uc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZm4ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wOiBcIm1pZGRsZXdhcmUuXCIgKyBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXMub25jZSgnZmluaXNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Bhbl8xLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgcmVxLCByZXMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gcmVzLl9fc2VudHJ5X3RyYW5zYWN0aW9uO1xuICAgICAgICAgICAgICAgIHZhciBzcGFuID0gKF9hID0gdHJhbnNhY3Rpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5zdGFydENoaWxkKHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGZuLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIG9wOiBcIm1pZGRsZXdhcmUuXCIgKyBtZXRob2QsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCByZXEsIHJlcywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3BhbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0LmNhbGwuYXBwbHkobmV4dCwgX19zcHJlYWQoW3RoaXNdLCBhcmdzKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgNDoge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlcnIsIHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IHJlcy5fX3NlbnRyeV90cmFuc2FjdGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IChfYSA9IHRyYW5zYWN0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBvcDogXCJtaWRkbGV3YXJlLlwiICsgbWV0aG9kLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZuLmNhbGwodGhpcywgZXJyLCByZXEsIHJlcywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3BhbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0LmNhbGwuYXBwbHkobmV4dCwgX19zcHJlYWQoW3RoaXNdLCBhcmdzKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV4cHJlc3MgbWlkZGxld2FyZSB0YWtlcyAyLTQgYXJndW1lbnRzLiBHb3Q6IFwiICsgYXJpdHkpO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBUYWtlcyBhbGwgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIG9yaWdpbmFsIGBhcHBgIG9yIGByb3V0ZXJgIG1ldGhvZCwgZWcuIGBhcHAudXNlYCBvciBgcm91dGVyLnVzZWBcbiAqIGFuZCB3cmFwcyBldmVyeSBmdW5jdGlvbiwgYXMgd2VsbCBhcyBhcnJheSBvZiBmdW5jdGlvbnMgd2l0aCBhIGNhbGwgdG8gb3VyIGB3cmFwYCBtZXRob2QuXG4gKiBXZSBoYXZlIHRvIHRha2UgY2FyZSBvZiB0aGUgYXJyYXlzIGFzIHdlbGwgYXMgaXRlcmF0ZSBvdmVyIGFsbCBvZiB0aGUgYXJndW1lbnRzLFxuICogYXMgYGFwcC51c2VgIGNhbiBhY2NlcHQgbWlkZGxld2FyZXMgaW4gZmV3IHZhcmlvdXMgZm9ybXMuXG4gKlxuICogYXBwLnVzZShbPHBhdGg+XSwgPGZuPilcbiAqIGFwcC51c2UoWzxwYXRoPl0sIDxmbj4sIC4uLjxmbj4pXG4gKiBhcHAudXNlKFs8cGF0aD5dLCAuLi48Zm4+W10pXG4gKi9cbmZ1bmN0aW9uIHdyYXBNaWRkbGV3YXJlQXJncyhhcmdzLCBtZXRob2QpIHtcbiAgICByZXR1cm4gYXJncy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgICBpZiAodHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAoYXJnLCBtZXRob2QpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFyZykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmcubWFwKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3cmFwKGEsIG1ldGhvZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyZztcbiAgICB9KTtcbn1cbi8qKlxuICogUGF0Y2hlcyBvcmlnaW5hbCByb3V0ZXIgdG8gdXRpbGl6ZSBvdXIgdHJhY2luZyBmdW5jdGlvbmFsaXR5XG4gKi9cbmZ1bmN0aW9uIHBhdGNoTWlkZGxld2FyZShyb3V0ZXIsIG1ldGhvZCkge1xuICAgIHZhciBvcmlnaW5hbENhbGxiYWNrID0gcm91dGVyW21ldGhvZF07XG4gICAgcm91dGVyW21ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsQ2FsbGJhY2suY2FsbC5hcHBseShvcmlnaW5hbENhbGxiYWNrLCBfX3NwcmVhZChbdGhpc10sIHdyYXBNaWRkbGV3YXJlQXJncyhhcmdzLCBtZXRob2QpKSk7XG4gICAgfTtcbiAgICByZXR1cm4gcm91dGVyO1xufVxuLyoqXG4gKiBQYXRjaGVzIG9yaWdpbmFsIHJvdXRlciBtZXRob2RzXG4gKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRNaWRkbGV3YXJlcyhyb3V0ZXIsIG1ldGhvZHMpIHtcbiAgICBpZiAobWV0aG9kcyA9PT0gdm9pZCAwKSB7IG1ldGhvZHMgPSBbXTsgfVxuICAgIG1ldGhvZHMuZm9yRWFjaChmdW5jdGlvbiAobWV0aG9kKSB7IHJldHVybiBwYXRjaE1pZGRsZXdhcmUocm91dGVyLCBtZXRob2QpOyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4cHJlc3MuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEJyb3dzZXJUcmFjaW5nIH0gZnJvbSAnLi9icm93c2VyJztcbmltcG9ydCB7IGFkZEV4dGVuc2lvbk1ldGhvZHMgfSBmcm9tICcuL2h1YmV4dGVuc2lvbnMnO1xuaW1wb3J0ICogYXMgVHJhY2luZ0ludGVncmF0aW9ucyBmcm9tICcuL2ludGVncmF0aW9ucyc7XG52YXIgSW50ZWdyYXRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIFRyYWNpbmdJbnRlZ3JhdGlvbnMpLCB7IEJyb3dzZXJUcmFjaW5nOiBCcm93c2VyVHJhY2luZyB9KTtcbmV4cG9ydCB7IEludGVncmF0aW9ucyB9O1xuZXhwb3J0IHsgU3BhbiB9IGZyb20gJy4vc3Bhbic7XG5leHBvcnQgeyBUcmFuc2FjdGlvbiB9IGZyb20gJy4vdHJhbnNhY3Rpb24nO1xuZXhwb3J0IHsgcmVnaXN0ZXJSZXF1ZXN0SW5zdHJ1bWVudGF0aW9uLCBkZWZhdWx0UmVxdWVzdEluc3RydW1lbnRhdGlvbk9wdGlvbnMsIH0gZnJvbSAnLi9icm93c2VyJztcbmV4cG9ydCB7IFNwYW5TdGF0dXMgfSBmcm9tICcuL3NwYW5zdGF0dXMnO1xuZXhwb3J0IHsgSWRsZVRyYW5zYWN0aW9uIH0gZnJvbSAnLi9pZGxldHJhbnNhY3Rpb24nO1xuZXhwb3J0IHsgc3RhcnRJZGxlVHJhbnNhY3Rpb24gfSBmcm9tICcuL2h1YmV4dGVuc2lvbnMnO1xuLy8gV2UgYXJlIHBhdGNoaW5nIHRoZSBnbG9iYWwgb2JqZWN0IHdpdGggb3VyIGh1YiBleHRlbnNpb24gbWV0aG9kc1xuYWRkRXh0ZW5zaW9uTWV0aG9kcygpO1xuZXhwb3J0IHsgYWRkRXh0ZW5zaW9uTWV0aG9kcyB9O1xuZXhwb3J0IHsgZXh0cmFjdFRyYWNlcGFyZW50RGF0YSwgZ2V0QWN0aXZlVHJhbnNhY3Rpb24sIGhhc1RyYWNpbmdFbmFibGVkLCBzdHJpcFVybFF1ZXJ5QW5kRnJhZ21lbnQsIFRSQUNFUEFSRU5UX1JFR0VYUCwgfSBmcm9tICcuL3V0aWxzJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsImltcG9ydCB7IGdldEN1cnJlbnRIdWIgfSBmcm9tICdAc2VudHJ5L2h1Yic7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbi8qKlxuICogSW50ZXJuYWwgZnVuY3Rpb24gdG8gY3JlYXRlIGEgbmV3IFNESyBjbGllbnQgaW5zdGFuY2UuIFRoZSBjbGllbnQgaXNcbiAqIGluc3RhbGxlZCBhbmQgdGhlbiBib3VuZCB0byB0aGUgY3VycmVudCBzY29wZS5cbiAqXG4gKiBAcGFyYW0gY2xpZW50Q2xhc3MgVGhlIGNsaWVudCBjbGFzcyB0byBpbnN0YW50aWF0ZS5cbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgdG8gcGFzcyB0byB0aGUgY2xpZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEFuZEJpbmQoY2xpZW50Q2xhc3MsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5kZWJ1ZyA9PT0gdHJ1ZSkge1xuICAgICAgICBsb2dnZXIuZW5hYmxlKCk7XG4gICAgfVxuICAgIHZhciBodWIgPSBnZXRDdXJyZW50SHViKCk7XG4gICAgdmFyIGNsaWVudCA9IG5ldyBjbGllbnRDbGFzcyhvcHRpb25zKTtcbiAgICBodWIuYmluZENsaWVudChjbGllbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2RrLmpzLm1hcCIsImltcG9ydCBWdWUgZnJvbSAndnVlJztcclxuaW1wb3J0ICogYXMgU2VudHJ5IGZyb20gJ0BzZW50cnkvdnVlJztcclxuaW1wb3J0IHsgSW50ZWdyYXRpb25zIH0gZnJvbSAnQHNlbnRyeS90cmFjaW5nJztcclxuXHJcblNlbnRyeS5pbml0KHtcclxuICBWdWUsXHJcbiAgZHNuOiBwcm9jZXNzLmVudi5TRU5UUllfRFNOIHx8ICcnLFxyXG4gIGludGVncmF0aW9uczogW25ldyBJbnRlZ3JhdGlvbnMuQnJvd3NlclRyYWNpbmcoKV0sXHJcblxyXG4gIC8vIFdlIHJlY29tbWVuZCBhZGp1c3RpbmcgdGhpcyB2YWx1ZSBpbiBwcm9kdWN0aW9uLCBvciB1c2luZyB0cmFjZXNTYW1wbGVyXHJcbiAgLy8gZm9yIGZpbmVyIGNvbnRyb2xcclxuICB0cmFjZXNTYW1wbGVSYXRlOiAxLjAsXHJcbn0pO1xyXG4iLCJpbXBvcnQgYXBpIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21haW4uY3NzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307IiwiLyogZXNsaW50LWRpc2FibGUgIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cclxuaW1wb3J0IFZ1ZSwgeyBDcmVhdGVFbGVtZW50LCBWTm9kZSB9IGZyb20gJ3Z1ZSc7XHJcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gJy4vY29tcG9uZW50cy9uYXZpZ2F0aW9uJztcclxuaW1wb3J0IHsgc3VtbWFyeSB9IGZyb20gJy4vYXN5bmMtYWN0aW9uJztcclxuaW1wb3J0IHsgc3RvcmUkIH0gZnJvbSAnLi9zdG9yZSc7XHJcblxyXG5pbXBvcnQgJy4uL2xpYi9zZW50cnknO1xyXG5pbXBvcnQgJy4vbWFpbi5jc3MnO1xyXG5cclxuLy8gY29uc3Qgd29ya2VycyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3b3JrZXJzJyk7XHJcbi8vIGNvbnN0IHRhc2tzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2tzJyk7XHJcbi8vIGNvbnN0IGRvbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGFzay1kb25lJyk7XHJcbi8vIGNvbnN0IGNhbmNlbGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rhc2stY2FuY2VsZWQnKTtcclxuLy8gY29uc3QgcmVmcmVzaCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWZyZXNoJyk7XHJcbi8vIGNvbnN0IGVycm9yVHh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Vycm9yLXRleHQnKTtcclxuLy8gY29uc3QgbG9hZGluZ1R4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nLXRleHQnKTtcclxuXHJcbi8vIHByZXNlbnRhdGlvbiBsYXllclxyXG4vLyBzdG9yZSQuc3Vic2NyaWJlKCgpID0+IHtcclxuLy8gICBjb25zdCBzdGF0ZSA9IHN0b3JlJC5nZXRTdGF0ZSgpO1xyXG4vLyAgIHJlbmRlcihzdGF0ZSk7XHJcbi8vIH0pO1xyXG4vLyBjb25zdCBzdGF0ZSA9IHN0b3JlJC5nZXRTdGF0ZSgpO1xyXG4vLyByZW5kZXIoc3RhdGUpO1xyXG5cclxuLy8gc3RvcmUkLmRpc3BhdGNoPGFueT4oc3VtbWFyeSk7XHJcblxyXG4vLyByZWZyZXNoLm9uY2xpY2sgPSAoKSA9PiB7XHJcbi8vICAgc3RvcmUkLmRpc3BhdGNoPGFueT4oc3VtbWFyeSk7XHJcbi8vIH07XHJcblxyXG4vLyBmdW5jdGlvbiByZW5kZXIoc3RhdGU6IGFueSkge1xyXG4vLyAgIC8vIHJlbmRlciBlcnJvclxyXG4vLyAgIGlmIChzdGF0ZS5lcnJvcikge1xyXG4vLyAgICAgZXJyb3JUeHQudGV4dENvbnRlbnQgPSBzdGF0ZS5lcnJvci50b1N0cmluZygpO1xyXG4vLyAgIH0gZWxzZSB7XHJcbi8vICAgICBlcnJvclR4dC50ZXh0Q29udGVudCA9ICcnO1xyXG4vLyAgIH1cclxuLy8gICBpZiAoc3RhdGUubG9hZGluZykge1xyXG4vLyAgICAgbG9hZGluZ1R4dC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuLy8gICB9IGVsc2Uge1xyXG4vLyAgICAgbG9hZGluZ1R4dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4vLyAgIH1cclxuXHJcbi8vICAgLy8gcmVuZGVyIGxpc3Qgb2Ygd29ya2VyXHJcbi8vICAgd29ya2Vycy5pbm5lclRleHQgPSBzdGF0ZS5zdW1tYXJ5Py50b3RhbF93b3JrZXI/LnRvU3RyaW5nKCkgPz8gJzAnO1xyXG4vLyAgIHRhc2tzLmlubmVyVGV4dCA9IHN0YXRlLnN1bW1hcnk/LnRvdGFsX3Rhc2s/LnRvU3RyaW5nKCkgPz8gJzAnO1xyXG4vLyAgIGRvbmUuaW5uZXJUZXh0ID0gc3RhdGUuc3VtbWFyeT8udGFza19kb25lPy50b1N0cmluZygpID8/ICcwJztcclxuLy8gICBjYW5jZWxlZC5pbm5lclRleHQgPSBzdGF0ZS5zdW1tYXJ5Py50YXNrX2NhbmNlbGxlZD8udG9TdHJpbmcoKSA/PyAnMCc7XHJcbi8vIH1cclxuXHJcbm5ldyBWdWUoe1xyXG4gIGVsOiAnI3BlcmZvcm1hbmNlLWFwcCcsXHJcbiAgY29tcG9uZW50czoge1xyXG4gICAgbmF2aWdhdGlvbjogTmF2aWdhdGlvbixcclxuICB9LFxyXG4gIHJlbmRlcihjcmVhdGVFbGVtZW50OiBDcmVhdGVFbGVtZW50KTogVk5vZGUge1xyXG4gICAgLy8gY29uc3QgcGVyZm9ybWFuY2UgPSB0aGlzLnN1bW1hcnkoKCkgPT4ge1xyXG4gICAgLy8gICByZXR1cm4gY3JlYXRlRWxlbWVudCgnbGknKTtcclxuICAgIC8vIH0pO1xyXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoJ2RpdicsIFtcclxuICAgICAgY3JlYXRlRWxlbWVudCgnbmF2aWdhdGlvbicpLFxyXG4gICAgICBjcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICdwJyxcclxuICAgICAgICB7IGRvbVByb3BzOiB7IGlkOiAnZXJyb3ItdGV4dCcgfSwgY2xhc3M6IHsgZXJyb3I6IHRydWUgfSB9LFxyXG4gICAgICAgIHRoaXMuZXJyb3JcclxuICAgICAgKSxcclxuICAgICAgdGhpcy5sb2FkaW5nXHJcbiAgICAgICAgPyBjcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICAgICAncCcsXHJcbiAgICAgICAgICAgIHsgZG9tUHJvcHM6IHsgaWQ6ICdsb2FkaW5nLXRleHQnIH0sIGNsYXNzOiB7IHByaW1hcnk6IHRydWUgfSB9LFxyXG4gICAgICAgICAgICAnbWVtdWF0Li4uJ1xyXG4gICAgICAgICAgKVxyXG4gICAgICAgIDogbnVsbCxcclxuICAgICAgY3JlYXRlRWxlbWVudChcclxuICAgICAgICAnYnV0dG9uJyxcclxuICAgICAgICB7IG9uOiB7IGNsaWNrOiAoKSA9PiBzdG9yZSQuZGlzcGF0Y2g8YW55PihzdW1tYXJ5KSB9IH0sXHJcbiAgICAgICAgJ3JlZnJlc2gnXHJcbiAgICAgICksXHJcbiAgICAgIGNyZWF0ZUVsZW1lbnQoJ3VsJywgW1xyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2xpJywgW1xyXG4gICAgICAgICAgY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICAgJ3NwYW4nLFxyXG4gICAgICAgICAgICB7IGRvbVByb3BzOiB7IGlkOiAnd29ya2VycycgfSB9LFxyXG4gICAgICAgICAgICAnanVtbGFoIHBla2VyamE6ICcgKyB0aGlzLnN1bW1hcnkudG90YWxfd29ya2VyXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgIF0pLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2xpJywgW1xyXG4gICAgICAgICAgY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICAgJ3NwYW4nLFxyXG4gICAgICAgICAgICB7IGRvbVByb3BzOiB7IGlkOiAndGFza3MnIH0gfSxcclxuICAgICAgICAgICAgJ2p1bWxhaCB0dWdhczogJyArIHRoaXMuc3VtbWFyeS50b3RhbF90YXNrXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgIF0pLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2xpJywgW1xyXG4gICAgICAgICAgY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICAgJ3NwYW4nLFxyXG4gICAgICAgICAgICB7IGRvbVByb3BzOiB7IGlkOiAndGFzay1kb25lJyB9IH0sXHJcbiAgICAgICAgICAgICdqdW1sYWggeWFuZyBzZWxlc2FpOiAnICsgdGhpcy5zdW1tYXJ5LnRhc2tfZG9uZVxyXG4gICAgICAgICAgKSxcclxuICAgICAgICBdKSxcclxuICAgICAgICBjcmVhdGVFbGVtZW50KCdsaScsIFtcclxuICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICAgICdzcGFuJyxcclxuICAgICAgICAgICAgeyBkb21Qcm9wczogeyBpZDogJ3Rhc2stY2FuY2VsZWQnIH0gfSxcclxuICAgICAgICAgICAgJ3lhbmcgZGliYXRhbGthbjogJyArIHRoaXMuc3VtbWFyeS50YXNrX2NhbmNlbGxlZFxyXG4gICAgICAgICAgKSxcclxuICAgICAgICBdKSxcclxuICAgICAgXSksXHJcbiAgICBdKTtcclxuICB9LFxyXG4gIGRhdGE6IHtcclxuICAgIHN1bW1hcnk6IFtdLFxyXG4gICAgZXJyb3I6ICcnLFxyXG4gICAgbG9hZGluZzogZmFsc2UsXHJcbiAgfSxcclxuICBtb3VudGVkKCkge1xyXG4gICAgY29uc3Qgc3RhdGUgPSBzdG9yZSQuZ2V0U3RhdGUoKTtcclxuICAgIHRoaXMubG9hZGluZyA9IHN0YXRlLmxvYWRpbmc7XHJcbiAgICB0aGlzLmVycm9yID0gc3RhdGUuZXJyb3I7XHJcbiAgICB0aGlzLnN1bW1hcnkgPSBzdGF0ZS5zdW1tYXJ5O1xyXG4gICAgc3RvcmUkLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgIGNvbnN0IHN0YXRlID0gc3RvcmUkLmdldFN0YXRlKCk7XHJcbiAgICAgIHRoaXMubG9hZGluZyA9IHN0YXRlLmxvYWRpbmc7XHJcbiAgICAgIHRoaXMuZXJyb3IgPSBzdGF0ZS5lcnJvcjtcclxuICAgICAgdGhpcy5zdW1tYXJ5ID0gc3RhdGUuc3VtbWFyeTtcclxuICAgICAgY29uc29sZS5sb2codGhpcy5zdW1tYXJ5KTtcclxuICAgIH0pO1xyXG4gICAgc3RvcmUkLmRpc3BhdGNoPGFueT4oc3VtbWFyeSk7XHJcbiAgfSxcclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=
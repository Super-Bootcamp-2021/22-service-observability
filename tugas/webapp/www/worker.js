/*! For license information please see worker.js.LICENSE.txt */
(()=>{"use strict";var t={873:(t,e,n)=>{n.d(e,{_:()=>l});var r=n(655),i=n(422),o=n(343),a=n(470),s=n(597);t=n.hmd(t);var c=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],u={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},l=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:c,this._describeOperations=!("describeOperations"in t)||t.describeOperations}return e.prototype.setupOnce=function(e,n){var r;try{r=(0,i.l)(t,"mongodb").Collection}catch(t){return void o.k.error("Mongo Integration was unable to require `mongodb` package.")}this._instrumentOperations(r,this._operations,n)},e.prototype._instrumentOperations=function(t,e,n){var r=this;e.forEach((function(e){return r._patchOperation(t,e,n)}))},e.prototype._patchOperation=function(t,e,n){if(e in t.prototype){var i=this._getSpanContextFromOperationArguments.bind(this);(0,a.hl)(t.prototype,e,(function(t){return function(){for(var o,a,c,u,l=[],p=0;p<arguments.length;p++)l[p]=arguments[p];var f=l[l.length-1],d=n().getScope(),h=null===(o=d)||void 0===o?void 0:o.getSpan();if("function"!=typeof f||"mapReduce"===e&&2===l.length){var v=null===(a=h)||void 0===a?void 0:a.startChild(i(this,e,l)),m=t.call.apply(t,(0,r.fl)([this],l));return(0,s.J8)(m)?m.then((function(t){var e;return null===(e=v)||void 0===e||e.finish(),t})):(null===(c=v)||void 0===c||c.finish(),m)}var y=null===(u=h)||void 0===u?void 0:u.startChild(i(this,e,l.slice(0,-1)));return t.call.apply(t,(0,r.fl)([this],l.slice(0,-1),[function(t,e){var n;null===(n=y)||void 0===n||n.finish(),f(t,e)}]))}}))}},e.prototype._getSpanContextFromOperationArguments=function(t,e,n){var i={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},o={op:"db",description:e,data:i},a=u[e],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!a||!s)return o;try{if("mapReduce"===e){var c=(0,r.CR)(n,2),l=c[0],p=c[1];i[a[0]]="string"==typeof l?l:l.name||"<anonymous>",i[a[1]]="string"==typeof p?p:p.name||"<anonymous>"}else for(var f=0;f<a.length;f++)i[a[f]]=JSON.stringify(n[f])}catch(t){}return o},e.id="Mongo",e}()},736:(t,e,n)=>{n.d(e,{m:()=>a});var r=n(422),i=n(343),o=n(470);t=n.hmd(t);var a=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(e,n){var a;try{a=(0,r.l)(t,"mysql/lib/Connection.js")}catch(t){return void i.k.error("Mysql Integration was unable to require `mysql` package.")}(0,o.hl)(a.prototype,"query",(function(t){return function(e,r,i){var o,a,s=null===(a=null===(o=n().getScope())||void 0===o?void 0:o.getSpan())||void 0===a?void 0:a.startChild({description:"string"==typeof e?e:e.sql,op:"db"});return"function"==typeof i?t.call(this,e,r,(function(t,e,n){var r;null===(r=s)||void 0===r||r.finish(),i(t,e,n)})):"function"==typeof r?t.call(this,e,(function(t,e,n){var i;null===(i=s)||void 0===i||i.finish(),r(t,e,n)})):t.call(this,e,r,i)}}))},e.id="Mysql",e}()},136:(t,e,n)=>{n.d(e,{E:()=>a});var r=n(422),i=n(343),o=n(470);t=n.hmd(t);var a=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(e,n){var a;try{a=(0,r.l)(t,"pg").Client}catch(t){return void i.k.error("Postgres Integration was unable to require `pg` package.")}(0,o.hl)(a.prototype,"query",(function(t){return function(e,r,i){var o,a,s=null===(a=null===(o=n().getScope())||void 0===o?void 0:o.getSpan())||void 0===a?void 0:a.startChild({description:"string"==typeof e?e:e.text,op:"db"});return"function"==typeof i?t.call(this,e,r,(function(t,e){var n;null===(n=s)||void 0===n||n.finish(),i(t,e)})):"function"==typeof r?t.call(this,e,(function(t,e){var n;null===(n=s)||void 0===n||n.finish(),r(t,e)})):t.call(this,e,r).then((function(t){var e;return null===(e=s)||void 0===e||e.finish(),t}))}}))},e.id="Postgres",e}()},464:(t,e,n)=>{n.d(e,{R:()=>i});var r=n(597);function i(t){try{for(var e=t,n=[],r=0,i=0,a=" > ".length,s=void 0;e&&r++<5&&!("html"===(s=o(e))||r>1&&i+n.length*a+s.length>=80);)n.push(s),i+=s.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function o(t){var e,n,i,o,a,s=t,c=[];if(!s||!s.tagName)return"";if(c.push(s.tagName.toLowerCase()),s.id&&c.push("#"+s.id),(e=s.className)&&(0,r.HD)(e))for(n=e.split(/\s+/),a=0;a<n.length;a++)c.push("."+n[a]);var u=["type","name","title","alt"];for(a=0;a<u.length;a++)i=u[a],(o=s.getAttribute(i))&&c.push("["+i+'="'+o+'"]');return c.join("")}},597:(t,e,n)=>{function r(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return v(t,Error)}}function i(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function a(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function s(t){return"[object String]"===Object.prototype.toString.call(t)}function c(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function u(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"undefined"!=typeof Event&&v(t,Event)}function p(t){return"undefined"!=typeof Element&&v(t,Element)}function f(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function d(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function h(t){return u(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function v(t,e){try{return t instanceof e}catch(t){return!1}}n.d(e,{VZ:()=>r,VW:()=>i,TX:()=>o,fm:()=>a,HD:()=>s,pt:()=>c,PO:()=>u,cO:()=>l,kK:()=>p,Kj:()=>f,J8:()=>d,Cy:()=>h,V9:()=>v})},343:(t,e,n)=>{n.d(e,{k:()=>s});var r=n(844),i=(0,r.Rf)(),o="Sentry Logger ",a=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&(0,r.Cf)((function(){i.console.log(o+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&(0,r.Cf)((function(){i.console.warn(o+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&(0,r.Cf)((function(){i.console.error(o+"[Error]: "+t.join(" "))}))},t}();i.__SENTRY__=i.__SENTRY__||{};var s=i.__SENTRY__.logger||(i.__SENTRY__.logger=new a)},844:(t,e,n)=>{n.d(e,{Rf:()=>o,DM:()=>a,en:()=>s,jH:()=>c,Cf:()=>u,Db:()=>l,EG:()=>p,l4:()=>f,JY:()=>d});var r=n(422),i={};function o(){return(0,r.K)()?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function a(){var t=o(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function s(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function c(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function u(t){var e=o();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)}));var i=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),i}function l(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function p(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(t){}}function f(){try{return document.location.href}catch(t){return""}}function d(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}},422:(t,e,n)=>{function r(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function i(t,e){return t.require(e)}n.d(e,{K:()=>r,l:()=>i})},470:(t,e,n)=>{n.d(e,{Jr:()=>y,zf:()=>m,hl:()=>u,Fv:()=>v,Qy:()=>f,_j:()=>l});var r=n(655),i=n(464),o=n(597),a=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t)return!0;return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}(),s=n(360),c=n(321);function u(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(t){}t[e]=i}}function l(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function p(t){if((0,o.VZ)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if((0,o.cO)(t)){var a=t,s={};s.type=a.type;try{s.target=(0,o.kK)(a.target)?(0,i.R)(a.target):Object.prototype.toString.call(a.target)}catch(t){s.target="<unknown>"}try{s.currentTarget=(0,o.kK)(a.currentTarget)?(0,i.R)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(t){s.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&(0,o.V9)(t,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,r)&&(s[r]=a);return s}return t}function f(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r,i=v(t,e);return r=i,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(r))>n?f(t,e-1,n):i}function d(t,e){return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==n.g&&t===n.g?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,o.Cy)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+(0,s.$)(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t}function h(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new a),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=d(t);return(0,o.pt)(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var i=d(e,t);if((0,o.pt)(i))return i;var s=p(e),c=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(c[u]=h(u,s[u],n-1,r));return r.unmemoize(e),c}function v(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return h(t,n,e)})))}catch(t){return"**non-serializable**"}}function m(t,e){void 0===e&&(e=40);var n=Object.keys(p(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return(0,c.$G)(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:(0,c.$G)(i,e)}return""}function y(t){var e,n;if((0,o.PO)(t)){var i=t,a={};try{for(var s=(0,r.XA)(Object.keys(i)),c=s.next();!c.done;c=s.next()){var u=c.value;void 0!==i[u]&&(a[u]=y(i[u]))}}catch(t){e={error:t}}finally{try{c&&!c.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return a}return Array.isArray(t)?t.map(y):t}},360:(t,e,n)=>{n.d(e,{$:()=>i});var r="<anonymous>";function i(t){try{return t&&"function"==typeof t&&t.name||r}catch(t){return r}}},321:(t,e,n)=>{n.d(e,{$G:()=>i,nK:()=>o,zC:()=>a});var r=n(597);function i(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function a(t,e){return!!(0,r.HD)(t)&&((0,r.Kj)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}},170:(t,e,n)=>{n.d(e,{yW:()=>c,_I:()=>u,Z1:()=>l});var r=n(844),i=n(422);t=n.hmd(t);var o={nowSeconds:function(){return Date.now()/1e3}},a=(0,i.K)()?function(){try{return(0,i.l)(t,"perf_hooks").performance}catch(t){return}}():function(){var t=(0,r.Rf)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},c=o.nowSeconds.bind(o),u=s.nowSeconds.bind(s),l=function(){var t=(0,r.Rf)().performance;if(t)return t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()}()},904:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(15),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,".error {\r\n  color: red;\r\n}\r\n.primary {\r\n  color: blue;\r\n}","",{version:3,sources:["webpack://./webapp/src/worker/main.css"],names:[],mappings:"AAAA;EACE,UAAU;AACZ;AACA;EACE,WAAW;AACb",sourcesContent:[".error {\r\n  color: red;\r\n}\r\n.primary {\r\n  color: blue;\r\n}"],sourceRoot:""}]);const s=a},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var c=[].concat(t[s]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},15:t=>{function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}t.exports=function(t){var n,r,i=(r=4,function(t){if(Array.isArray(t))return t}(n=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(n,r)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=i[1],a=i[3];if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),u="/*# ".concat(c," */"),l=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[o].concat(l).concat([u]).join("\n")}return[o].join("\n")}},379:(t,e,n)=>{var r,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function a(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},r=[],i=0;i<t.length;i++){var s=t[i],c=e.base?s[0]+e.base:s[0],u=n[c]||0,l="".concat(c," ").concat(u);n[c]=u+1;var p=a(l),f={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(o[p].references++,o[p].updater(f)):o.push({identifier:l,updater:v(f,e),references:1}),r.push(l)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var u,l=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function p(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=l(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var d=null,h=0;function v(t,e){var n,r,i;if(e.singleton){var o=h++;n=d||(d=c(e)),r=p.bind(null,n,o,!1),i=p.bind(null,n,o,!0)}else n=c(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);o[i].references--}for(var c=s(t,e),u=0;u<n.length;u++){var l=a(n[u]);0===o[l].references&&(o[l].updater(),o.splice(l,1))}n=c}}}},121:(t,e,n)=>{n.d(e,{Z:()=>r}),t=n.hmd(t);const r=function(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}("undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:t)},655:(t,e,n)=>{n.d(e,{ZT:()=>i,pi:()=>o,_T:()=>a,XA:()=>s,CR:()=>c,fl:()=>u});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}}},e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={};n.r(t),n.d(t,{Express:()=>zu,Mongo:()=>Xu._,Mysql:()=>Yu.m,Postgres:()=>Gu.E});var e=n(379),r=n.n(e),i=n(904);r()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var o=Object.freeze({});function a(t){return null==t}function s(t){return null!=t}function c(t){return!0===t}function u(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function l(t){return null!==t&&"object"==typeof t}var p=Object.prototype.toString;function f(t){return"[object Object]"===p.call(t)}function d(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function h(t){return s(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function v(t){return null==t?"":Array.isArray(t)||f(t)&&t.toString===p?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function y(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var g=y("slot,component",!0),_=y("key,ref,slot,slot-scope,is");function b(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var w=Object.prototype.hasOwnProperty;function S(t,e){return w.call(t,e)}function x(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var k=/-(\w)/g,E=x((function(t){return t.replace(k,(function(t,e){return e?e.toUpperCase():""}))})),O=x((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),T=/\B([A-Z])/g,C=x((function(t){return t.replace(T,"-$1").toLowerCase()})),A=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function j(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function R(t,e){for(var n in e)t[n]=e[n];return t}function $(t){for(var e={},n=0;n<t.length;n++)t[n]&&R(e,t[n]);return e}function I(t,e,n){}var D=function(t,e,n){return!1},P=function(t){return t};function N(t,e){if(t===e)return!0;var n=l(t),r=l(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return N(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(n){return N(t[n],e[n])}))}catch(t){return!1}}function L(t,e){for(var n=0;n<t.length;n++)if(N(t[n],e))return n;return-1}function M(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var F="data-server-rendered",U=["component","directive","filter"],H=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:I,parsePlatformTagName:P,mustUseProp:D,async:!0,_lifecycleHooks:H},q=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function W(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function z(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var V,J=new RegExp("[^"+q.source+".$_\\d]"),K="__proto__"in{},G="undefined"!=typeof window,Y="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,X=Y&&WXEnvironment.platform.toLowerCase(),Z=G&&window.navigator.userAgent.toLowerCase(),Q=Z&&/msie|trident/.test(Z),tt=Z&&Z.indexOf("msie 9.0")>0,et=Z&&Z.indexOf("edge/")>0,nt=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===X),rt=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),it={}.watch,ot=!1;if(G)try{var at={};Object.defineProperty(at,"passive",{get:function(){ot=!0}}),window.addEventListener("test-passive",null,at)}catch(t){}var st=function(){return void 0===V&&(V=!G&&!Y&&void 0!==n.g&&n.g.process&&"server"===n.g.process.env.VUE_ENV),V},ct=G&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"==typeof t&&/native code/.test(t.toString())}var lt,pt="undefined"!=typeof Symbol&&ut(Symbol)&&"undefined"!=typeof Reflect&&ut(Reflect.ownKeys);lt="undefined"!=typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ft=I,dt=0,ht=function(){this.id=dt++,this.subs=[]};ht.prototype.addSub=function(t){this.subs.push(t)},ht.prototype.removeSub=function(t){b(this.subs,t)},ht.prototype.depend=function(){ht.target&&ht.target.addDep(this)},ht.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},ht.target=null;var vt=[];function mt(t){vt.push(t),ht.target=t}function yt(){vt.pop(),ht.target=vt[vt.length-1]}var gt=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},_t={child:{configurable:!0}};_t.child.get=function(){return this.componentInstance},Object.defineProperties(gt.prototype,_t);var bt=function(t){void 0===t&&(t="");var e=new gt;return e.text=t,e.isComment=!0,e};function wt(t){return new gt(void 0,void 0,void 0,String(t))}function St(t){var e=new gt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var xt=Array.prototype,kt=Object.create(xt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=xt[t];z(kt,t,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o}))}));var Et=Object.getOwnPropertyNames(kt),Ot=!0;function Tt(t){Ot=t}var Ct=function(t){this.value=t,this.dep=new ht,this.vmCount=0,z(t,"__ob__",this),Array.isArray(t)?(K?function(t,e){t.__proto__=e}(t,kt):function(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];z(t,o,e[o])}}(t,kt,Et),this.observeArray(t)):this.walk(t)};function At(t,e){var n;if(l(t)&&!(t instanceof gt))return S(t,"__ob__")&&t.__ob__ instanceof Ct?n=t.__ob__:Ot&&!st()&&(Array.isArray(t)||f(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Ct(t)),e&&n&&n.vmCount++,n}function jt(t,e,n,r,i){var o=new ht,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set;s&&!c||2!==arguments.length||(n=t[e]);var u=!i&&At(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return ht.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(e)&&It(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!=e&&r!=r||s&&!c||(c?c.call(t,e):n=e,u=!i&&At(e),o.notify())}})}}function Rt(t,e,n){if(Array.isArray(t)&&d(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(jt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function $t(t,e){if(Array.isArray(t)&&d(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||S(t,e)&&(delete t[e],n&&n.dep.notify())}}function It(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&It(e)}Ct.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)jt(t,e[n])},Ct.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)At(t[e])};var Dt=B.optionMergeStrategies;function Pt(t,e){if(!e)return t;for(var n,r,i,o=pt?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)"__ob__"!==(n=o[a])&&(r=t[n],i=e[n],S(t,n)?r!==i&&f(r)&&f(i)&&Pt(r,i):Rt(t,n,i));return t}function Nt(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?Pt(r,i):i}:e?t?function(){return Pt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Lt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Mt(t,e,n,r){var i=Object.create(t||null);return e?R(i,e):i}Dt.data=function(t,e,n){return n?Nt(t,e,n):e&&"function"!=typeof e?t:Nt(t,e)},H.forEach((function(t){Dt[t]=Lt})),U.forEach((function(t){Dt[t+"s"]=Mt})),Dt.watch=function(t,e,n,r){if(t===it&&(t=void 0),e===it&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in R(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Dt.props=Dt.methods=Dt.inject=Dt.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return R(i,t),e&&R(i,e),i},Dt.provide=Nt;var Ft=function(t,e){return void 0===e?t:e};function Ut(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(o[E(i)]={type:null});else if(f(n))for(var a in n)i=n[a],o[E(a)]=f(i)?i:{type:i};t.props=o}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(f(n))for(var o in n){var a=n[o];r[o]=f(a)?R({from:o},a):{from:a}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=Ut(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Ut(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)S(t,o)||s(o);function s(r){var i=Dt[r]||Ft;a[r]=i(t[r],e[r],n,r)}return a}function Ht(t,e,n,r){if("string"==typeof n){var i=t[e];if(S(i,n))return i[n];var o=E(n);if(S(i,o))return i[o];var a=O(o);return S(i,a)?i[a]:i[n]||i[o]||i[a]}}function Bt(t,e,n,r){var i=e[t],o=!S(n,t),a=n[t],s=zt(Boolean,i.type);if(s>-1)if(o&&!S(i,"default"))a=!1;else if(""===a||a===C(t)){var c=zt(String,i.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=function(t,e,n){if(S(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof r&&"Function"!==qt(e.type)?r.call(t):r}}(r,i,t);var u=Ot;Tt(!0),At(a),Tt(u)}return a}function qt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Wt(t,e){return qt(t)===qt(e)}function zt(t,e){if(!Array.isArray(e))return Wt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Wt(e[n],t))return n;return-1}function Vt(t,e,n){mt();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,t,e,n))return}catch(t){Kt(t,r,"errorCaptured hook")}}Kt(t,e,n)}finally{yt()}}function Jt(t,e,n,r,i){var o;try{(o=n?t.apply(e,n):t.call(e))&&!o._isVue&&h(o)&&!o._handled&&(o.catch((function(t){return Vt(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(t){Vt(t,r,i)}return o}function Kt(t,e,n){if(B.errorHandler)try{return B.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Gt(e)}Gt(t)}function Gt(t,e,n){if(!G&&!Y||"undefined"==typeof console)throw t;console.error(t)}var Yt,Xt=!1,Zt=[],Qt=!1;function te(){Qt=!1;var t=Zt.slice(0);Zt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&ut(Promise)){var ee=Promise.resolve();Yt=function(){ee.then(te),nt&&setTimeout(I)},Xt=!0}else if(Q||"undefined"==typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Yt="undefined"!=typeof setImmediate&&ut(setImmediate)?function(){setImmediate(te)}:function(){setTimeout(te,0)};else{var ne=1,re=new MutationObserver(te),ie=document.createTextNode(String(ne));re.observe(ie,{characterData:!0}),Yt=function(){ne=(ne+1)%2,ie.data=String(ne)},Xt=!0}function oe(t,e){var n;if(Zt.push((function(){if(t)try{t.call(e)}catch(t){Vt(t,e,"nextTick")}else n&&n(e)})),Qt||(Qt=!0,Yt()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}var ae=new lt;function se(t){ce(t,ae),ae.clear()}function ce(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!l(t)||Object.isFrozen(t)||t instanceof gt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i)for(n=t.length;n--;)ce(t[n],e);else for(n=(r=Object.keys(t)).length;n--;)ce(t[r[n]],e)}}var ue=x((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function le(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return Jt(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)Jt(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function pe(t,e,n,r,i,o){var s,u,l,p;for(s in t)u=t[s],l=e[s],p=ue(s),a(u)||(a(l)?(a(u.fns)&&(u=t[s]=le(u,o)),c(p.once)&&(u=t[s]=i(p.name,u,p.capture)),n(p.name,u,p.capture,p.passive,p.params)):u!==l&&(l.fns=u,t[s]=l));for(s in e)a(t[s])&&r((p=ue(s)).name,e[s],p.capture)}function fe(t,e,n){var r;t instanceof gt&&(t=t.data.hook||(t.data.hook={}));var i=t[e];function o(){n.apply(this,arguments),b(r.fns,o)}a(i)?r=le([o]):s(i.fns)&&c(i.merged)?(r=i).fns.push(o):r=le([i,o]),r.merged=!0,t[e]=r}function de(t,e,n,r,i){if(s(e)){if(S(e,n))return t[n]=e[n],i||delete e[n],!0;if(S(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function he(t){return u(t)?[wt(t)]:Array.isArray(t)?me(t):void 0}function ve(t){return s(t)&&s(t.text)&&function(t){return!1===t}(t.isComment)}function me(t,e){var n,r,i,o,l=[];for(n=0;n<t.length;n++)a(r=t[n])||"boolean"==typeof r||(o=l[i=l.length-1],Array.isArray(r)?r.length>0&&(ve((r=me(r,(e||"")+"_"+n))[0])&&ve(o)&&(l[i]=wt(o.text+r[0].text),r.shift()),l.push.apply(l,r)):u(r)?ve(o)?l[i]=wt(o.text+r):""!==r&&l.push(wt(r)):ve(r)&&ve(o)?l[i]=wt(o.text+r.text):(c(t._isVList)&&s(r.tag)&&a(r.key)&&s(e)&&(r.key="__vlist"+e+"_"+n+"__"),l.push(r)));return l}function ye(t,e){if(t){for(var n=Object.create(null),r=pt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){for(var a=t[o].from,s=e;s;){if(s._provided&&S(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s&&"default"in t[o]){var c=t[o].default;n[o]="function"==typeof c?c.call(e):c}}}return n}}function ge(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,c=n[s]||(n[s]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var u in n)n[u].every(_e)&&delete n[u];return n}function _e(t){return t.isComment&&!t.asyncFactory||" "===t.text}function be(t,e,n){var r,i=Object.keys(e).length>0,a=t?!!t.$stable:!i,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&n&&n!==o&&s===n.$key&&!i&&!n.$hasNormal)return n;for(var c in r={},t)t[c]&&"$"!==c[0]&&(r[c]=we(e,c,t[c]))}else r={};for(var u in e)u in r||(r[u]=Se(e,u));return t&&Object.isExtensible(t)&&(t._normalized=r),z(r,"$stable",a),z(r,"$key",s),z(r,"$hasNormal",i),r}function we(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});return(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:he(t))&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function Se(t,e){return function(){return t[e]}}function xe(t,e){var n,r,i,o,a;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(l(t))if(pt&&t[Symbol.iterator]){n=[];for(var c=t[Symbol.iterator](),u=c.next();!u.done;)n.push(e(u.value,n.length)),u=c.next()}else for(o=Object.keys(t),n=new Array(o.length),r=0,i=o.length;r<i;r++)a=o[r],n[r]=e(t[a],a,r);return s(n)||(n=[]),n._isVList=!0,n}function ke(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=R(R({},r),n)),i=o(n)||e):i=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function Ee(t){return Ht(this.$options,"filters",t)||P}function Oe(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Te(t,e,n,r,i){var o=B.keyCodes[e]||n;return i&&r&&!B.keyCodes[e]?Oe(i,r):o?Oe(o,t):r?C(r)!==e:void 0}function Ce(t,e,n,r,i){if(n&&l(n)){var o;Array.isArray(n)&&(n=$(n));var a=function(a){if("class"===a||"style"===a||_(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||B.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=E(a),u=C(a);c in o||u in o||(o[a]=n[a],i&&((t.on||(t.on={}))["update:"+a]=function(t){n[a]=t}))};for(var s in n)a(s)}return t}function Ae(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||Re(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function je(t,e,n){return Re(t,"__once__"+e+(n?"_"+n:""),!0),t}function Re(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&$e(t[r],e+"_"+r,n);else $e(t,e,n)}function $e(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Ie(t,e){if(e&&f(e)){var n=t.on=t.on?R({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}return t}function De(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?De(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Pe(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Ne(t,e){return"string"==typeof t?e+t:t}function Le(t){t._o=je,t._n=m,t._s=v,t._l=xe,t._t=ke,t._q=N,t._i=L,t._m=Ae,t._f=Ee,t._k=Te,t._b=Ce,t._v=wt,t._e=bt,t._u=De,t._g=Ie,t._d=Pe,t._p=Ne}function Me(t,e,n,r,i){var a,s=this,u=i.options;S(r,"_uid")?(a=Object.create(r))._original=r:(a=r,r=r._original);var l=c(u._compiled),p=!l;this.data=t,this.props=e,this.children=n,this.parent=r,this.listeners=t.on||o,this.injections=ye(u.inject,r),this.slots=function(){return s.$slots||be(t.scopedSlots,s.$slots=ge(n,r)),s.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return be(t.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=be(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,i){var o=ze(a,t,e,n,i,p);return o&&!Array.isArray(o)&&(o.fnScopeId=u._scopeId,o.fnContext=r),o}:this._c=function(t,e,n,r){return ze(a,t,e,n,r,p)}}function Fe(t,e,n,r,i){var o=St(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function Ue(t,e){for(var n in e)t[E(n)]=e[n]}Le(Me.prototype);var He={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;He.prepatch(n,n)}else(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return s(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}(t,nn)).$mount(e?t.elm:void 0,e)},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,r,i){var a=r.data.scopedSlots,s=t.$scopedSlots,c=!!(a&&!a.$stable||s!==o&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),u=!!(i||t.$options._renderChildren||c);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=i,t.$attrs=r.data.attrs||o,t.$listeners=n||o,e&&t.$options.props){Tt(!1);for(var l=t._props,p=t.$options._propKeys||[],f=0;f<p.length;f++){var d=p[f],h=t.$options.props;l[d]=Bt(d,h,e,t)}Tt(!0),t.$options.propsData=e}n=n||o;var v=t.$options._parentListeners;t.$options._parentListeners=n,en(t,n,v),u&&(t.$slots=ge(i,r.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,cn(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,ln.push(e)):an(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?sn(e,!0):e.$destroy())}},Be=Object.keys(He);function qe(t,e,n,r,i){if(!a(t)){var u=n.$options._base;if(l(t)&&(t=u.extend(t)),"function"==typeof t){var p;if(a(t.cid)&&void 0===(t=function(t,e){if(c(t.error)&&s(t.errorComp))return t.errorComp;if(s(t.resolved))return t.resolved;var n=Ke;if(n&&s(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),c(t.loading)&&s(t.loadingComp))return t.loadingComp;if(n&&!s(t.owners)){var r=t.owners=[n],i=!0,o=null,u=null;n.$on("hook:destroyed",(function(){return b(r,n)}));var p=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==o&&(clearTimeout(o),o=null),null!==u&&(clearTimeout(u),u=null))},f=M((function(n){t.resolved=Ge(n,e),i?r.length=0:p(!0)})),d=M((function(e){s(t.errorComp)&&(t.error=!0,p(!0))})),v=t(f,d);return l(v)&&(h(v)?a(t.resolved)&&v.then(f,d):h(v.component)&&(v.component.then(f,d),s(v.error)&&(t.errorComp=Ge(v.error,e)),s(v.loading)&&(t.loadingComp=Ge(v.loading,e),0===v.delay?t.loading=!0:o=setTimeout((function(){o=null,a(t.resolved)&&a(t.error)&&(t.loading=!0,p(!1))}),v.delay||200)),s(v.timeout)&&(u=setTimeout((function(){u=null,a(t.resolved)&&d(null)}),v.timeout)))),i=!1,t.loading?t.loadingComp:t.resolved}}(p=t,u)))return function(t,e,n,r,i){var o=bt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}(p,e,n,r,i);e=e||{},An(t),s(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),o=i[r],a=e.model.callback;s(o)?(Array.isArray(o)?-1===o.indexOf(a):o!==a)&&(i[r]=[a].concat(o)):i[r]=a}(t.options,e);var f=function(t,e,n){var r=e.options.props;if(!a(r)){var i={},o=t.attrs,c=t.props;if(s(o)||s(c))for(var u in r){var l=C(u);de(i,c,u,l,!0)||de(i,o,u,l,!1)}return i}}(e,t);if(c(t.options.functional))return function(t,e,n,r,i){var a=t.options,c={},u=a.props;if(s(u))for(var l in u)c[l]=Bt(l,u,e||o);else s(n.attrs)&&Ue(c,n.attrs),s(n.props)&&Ue(c,n.props);var p=new Me(n,c,i,r,t),f=a.render.call(null,p._c,p);if(f instanceof gt)return Fe(f,n,p.parent,a);if(Array.isArray(f)){for(var d=he(f)||[],h=new Array(d.length),v=0;v<d.length;v++)h[v]=Fe(d[v],n,p.parent,a);return h}}(t,f,e,n,r);var d=e.on;if(e.on=e.nativeOn,c(t.options.abstract)){var v=e.slot;e={},v&&(e.slot=v)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Be.length;n++){var r=Be[n],i=e[r],o=He[r];i===o||i&&i._merged||(e[r]=i?We(o,i):o)}}(e);var m=t.options.name||i;return new gt("vue-component-"+t.cid+(m?"-"+m:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:f,listeners:d,tag:i,children:r},p)}}}function We(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function ze(t,e,n,r,i,o){return(Array.isArray(n)||u(n))&&(i=r,r=n,n=void 0),c(o)&&(i=2),function(t,e,n,r,i){if(s(n)&&s(n.__ob__))return bt();if(s(n)&&s(n.is)&&(e=n.is),!e)return bt();var o,a,c;(Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),2===i?r=he(r):1===i&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r)),"string"==typeof e)?(a=t.$vnode&&t.$vnode.ns||B.getTagNamespace(e),o=B.isReservedTag(e)?new gt(B.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!s(c=Ht(t.$options,"components",e))?new gt(e,n,r,void 0,void 0,t):qe(c,n,t,r,e)):o=qe(e,n,t,r);return Array.isArray(o)?o:s(o)?(s(a)&&Ve(o,a),s(n)&&function(t){l(t.style)&&se(t.style),l(t.class)&&se(t.class)}(n),o):bt()}(t,e,n,r,i)}function Ve(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),s(t.children))for(var r=0,i=t.children.length;r<i;r++){var o=t.children[r];s(o.tag)&&(a(o.ns)||c(n)&&"svg"!==o.tag)&&Ve(o,e,n)}}var Je,Ke=null;function Ge(t,e){return(t.__esModule||pt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function Ye(t){return t.isComment&&t.asyncFactory}function Xe(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(s(n)&&(s(n.componentOptions)||Ye(n)))return n}}function Ze(t,e){Je.$on(t,e)}function Qe(t,e){Je.$off(t,e)}function tn(t,e){var n=Je;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function en(t,e,n){Je=t,pe(e,n||{},Ze,Qe,tn,t),Je=void 0}var nn=null;function rn(t){var e=nn;return nn=t,function(){nn=e}}function on(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function an(t,e){if(e){if(t._directInactive=!1,on(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)an(t.$children[n]);cn(t,"activated")}}function sn(t,e){if(!(e&&(t._directInactive=!0,on(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)sn(t.$children[n]);cn(t,"deactivated")}}function cn(t,e){mt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)Jt(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),yt()}var un=[],ln=[],pn={},fn=!1,dn=!1,hn=0,vn=0,mn=Date.now;if(G&&!Q){var yn=window.performance;yn&&"function"==typeof yn.now&&mn()>document.createEvent("Event").timeStamp&&(mn=function(){return yn.now()})}function gn(){var t,e;for(vn=mn(),dn=!0,un.sort((function(t,e){return t.id-e.id})),hn=0;hn<un.length;hn++)(t=un[hn]).before&&t.before(),e=t.id,pn[e]=null,t.run();var n=ln.slice(),r=un.slice();hn=un.length=ln.length=0,pn={},fn=dn=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,an(t[e],!0)}(n),function(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&cn(r,"updated")}}(r),ct&&B.devtools&&ct.emit("flush")}var _n=0,bn=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++_n,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new lt,this.newDepIds=new lt,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!J.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=I)),this.value=this.lazy?void 0:this.get()};bn.prototype.get=function(){var t;mt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Vt(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&se(t),yt(),this.cleanupDeps()}return t},bn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},bn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},bn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==pn[e]){if(pn[e]=!0,dn){for(var n=un.length-1;n>hn&&un[n].id>t.id;)n--;un.splice(n+1,0,t)}else un.push(t);fn||(fn=!0,oe(gn))}}(this)},bn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){Vt(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},bn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},bn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},bn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||b(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var wn={enumerable:!0,configurable:!0,get:I,set:I};function Sn(t,e,n){wn.get=function(){return this[e][n]},wn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,wn)}var xn={lazy:!0};function kn(t,e,n){var r=!st();"function"==typeof n?(wn.get=r?En(e):On(n),wn.set=I):(wn.get=n.get?r&&!1!==n.cache?En(e):On(n.get):I,wn.set=n.set||I),Object.defineProperty(t,e,wn)}function En(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),ht.target&&e.depend(),e.value}}function On(t){return function(){return t.call(this,this)}}function Tn(t,e,n,r){return f(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var Cn=0;function An(t){var e=t.options;if(t.super){var n=An(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}(t);r&&R(t.extendOptions,r),(e=t.options=Ut(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function jn(t){this._init(t)}function Rn(t){return t&&(t.Ctor.options.name||t.tag)}function $n(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!function(t){return"[object RegExp]"===p.call(t)}(t)&&t.test(e)}function In(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=Rn(a.componentOptions);s&&!e(s)&&Dn(n,o,r,i)}}}function Dn(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,b(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=Cn++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Ut(An(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&en(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,r=n&&n.context;t.$slots=ge(e._renderChildren,r),t.$scopedSlots=o,t._c=function(e,n,r,i){return ze(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return ze(t,e,n,r,i,!0)};var i=n&&n.data;jt(t,"$attrs",i&&i.attrs||o,null,!0),jt(t,"$listeners",e._parentListeners||o,null,!0)}(e),cn(e,"beforeCreate"),function(t){var e=ye(t.$options.inject,t);e&&(Tt(!1),Object.keys(e).forEach((function(n){jt(t,n,e[n])})),Tt(!0))}(e),function(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[];t.$parent&&Tt(!1);var o=function(o){i.push(o);var a=Bt(o,e,n,t);jt(r,o,a),o in t||Sn(t,"_props",o)};for(var a in e)o(a);Tt(!0)}(t,e.props),e.methods&&function(t,e){for(var n in t.$options.props,e)t[n]="function"!=typeof e[n]?I:A(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;f(e=t._data="function"==typeof e?function(t,e){mt();try{return t.call(e,e)}catch(t){return Vt(t,e,"data()"),{}}finally{yt()}}(e,t):e||{})||(e={});for(var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);i--;){var o=n[i];r&&S(r,o)||W(o)||Sn(t,"_data",o)}At(e,!0)}(t):At(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=st();for(var i in e){var o=e[i],a="function"==typeof o?o:o.get;r||(n[i]=new bn(t,a||I,I,xn)),i in t||kn(t,i,o)}}(t,e.computed),e.watch&&e.watch!==it&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Tn(t,n,r[i]);else Tn(t,n,r)}}(t,e.watch)}(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),cn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(jn),function(t){Object.defineProperty(t.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(t.prototype,"$props",{get:function(){return this._props}}),t.prototype.$set=Rt,t.prototype.$delete=$t,t.prototype.$watch=function(t,e,n){var r=this;if(f(e))return Tn(r,t,e,n);(n=n||{}).user=!0;var i=new bn(r,t,e,n);if(n.immediate)try{e.call(r,i.value)}catch(t){Vt(t,r,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}(jn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;for(var s=a.length;s--;)if((o=a[s])===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?j(n):n;for(var r=j(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)Jt(n[o],e,r,e,i)}return e}}(jn),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=rn(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){cn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||b(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),cn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(jn),function(t){Le(t.prototype),t.prototype.$nextTick=function(t){return oe(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=be(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{Ke=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){Vt(n,e,"render"),t=e._vnode}finally{Ke=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof gt||(t=bt()),t.parent=i,t}}(jn);var Pn=[String,RegExp,Array],Nn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Pn,exclude:Pn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Dn(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){In(t,(function(t){return $n(e,t)}))})),this.$watch("exclude",(function(e){In(t,(function(t){return!$n(e,t)}))}))},render:function(){var t=this.$slots.default,e=Xe(t),n=e&&e.componentOptions;if(n){var r=Rn(n),i=this.include,o=this.exclude;if(i&&(!r||!$n(i,r))||o&&r&&$n(o,r))return e;var a=this.cache,s=this.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;a[c]?(e.componentInstance=a[c].componentInstance,b(s,c),s.push(c)):(a[c]=e,s.push(c),this.max&&s.length>parseInt(this.max)&&Dn(a,s[0],s,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return B}};Object.defineProperty(t,"config",e),t.util={warn:ft,extend:R,mergeOptions:Ut,defineReactive:jt},t.set=Rt,t.delete=$t,t.nextTick=oe,t.observable=function(t){return At(t),t},t.options=Object.create(null),U.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,R(t.options.components,Nn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=j(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Ut(this.options,t),this}}(t),function(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name,a=function(t){this._init(t)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=e++,a.options=Ut(n.options,t),a.super=n,a.options.props&&function(t){var e=t.options.props;for(var n in e)Sn(t.prototype,"_props",n)}(a),a.options.computed&&function(t){var e=t.options.computed;for(var n in e)kn(t.prototype,n,e[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,U.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=R({},a.options),i[r]=a,a}}(t),function(t){U.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&f(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(jn),Object.defineProperty(jn.prototype,"$isServer",{get:st}),Object.defineProperty(jn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(jn,"FunctionalRenderContext",{value:Me}),jn.version="2.6.12";var Ln=y("style,class"),Mn=y("input,textarea,option,select,progress"),Fn=function(t,e,n){return"value"===n&&Mn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Un=y("contenteditable,draggable,spellcheck"),Hn=y("events,caret,typing,plaintext-only"),Bn=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),qn="http://www.w3.org/1999/xlink",Wn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},zn=function(t){return Wn(t)?t.slice(6,t.length):""},Vn=function(t){return null==t||!1===t};function Jn(t,e){return{staticClass:Kn(t.staticClass,e.staticClass),class:s(t.class)?[t.class,e.class]:e.class}}function Kn(t,e){return t?e?t+" "+e:t:e||""}function Gn(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,i=t.length;r<i;r++)s(e=Gn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):l(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Yn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Xn=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Zn=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Qn=function(t){return Xn(t)||Zn(t)};function tr(t){return Zn(t)?"svg":"math"===t?"math":void 0}var er=Object.create(null),nr=y("text,number,password,search,email,tel,url");function rr(t){return"string"==typeof t?document.querySelector(t)||document.createElement("div"):t}var ir=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Yn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),or={create:function(t,e){ar(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ar(t,!0),ar(e))},destroy:function(t){ar(t,!0)}};function ar(t,e){var n=t.data.ref;if(s(n)){var r=t.context,i=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?b(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var sr=new gt("",{},[]),cr=["create","activate","update","remove","destroy"];function ur(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&s(t.data)===s(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=s(n=t.data)&&s(n=n.attrs)&&n.type,i=s(n=e.data)&&s(n=n.attrs)&&n.type;return r===i||nr(r)&&nr(i)}(t,e)||c(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&a(e.asyncFactory.error))}function lr(t,e,n){var r,i,o={};for(r=e;r<=n;++r)s(i=t[r].key)&&(o[i]=r);return o}var pr={create:fr,update:fr,destroy:function(t){fr(t,sr)}};function fr(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,o=t===sr,a=e===sr,s=hr(t.data.directives,t.context),c=hr(e.data.directives,e.context),u=[],l=[];for(n in c)r=s[n],i=c[n],r?(i.oldValue=r.value,i.oldArg=r.arg,mr(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(mr(i,"bind",e,t),i.def&&i.def.inserted&&u.push(i));if(u.length){var p=function(){for(var n=0;n<u.length;n++)mr(u[n],"inserted",e,t)};o?fe(e,"insert",p):p()}if(l.length&&fe(e,"postpatch",(function(){for(var n=0;n<l.length;n++)mr(l[n],"componentUpdated",e,t)})),!o)for(n in s)c[n]||mr(s[n],"unbind",t,t,a)}(t,e)}var dr=Object.create(null);function hr(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=dr),i[vr(r)]=r,r.def=Ht(e.$options,"directives",r.name);return i}function vr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function mr(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(r){Vt(r,n.context,"directive "+t.name+" "+e+" hook")}}var yr=[or,pr];function gr(t,e){var n=e.componentOptions;if(!(s(n)&&!1===n.Ctor.options.inheritAttrs||a(t.data.attrs)&&a(e.data.attrs))){var r,i,o=e.elm,c=t.data.attrs||{},u=e.data.attrs||{};for(r in s(u.__ob__)&&(u=e.data.attrs=R({},u)),u)i=u[r],c[r]!==i&&_r(o,r,i);for(r in(Q||et)&&u.value!==c.value&&_r(o,"value",u.value),c)a(u[r])&&(Wn(r)?o.removeAttributeNS(qn,zn(r)):Un(r)||o.removeAttribute(r))}}function _r(t,e,n){t.tagName.indexOf("-")>-1?br(t,e,n):Bn(e)?Vn(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Un(e)?t.setAttribute(e,function(t,e){return Vn(e)||"false"===e?"false":"contenteditable"===t&&Hn(e)?e:"true"}(e,n)):Wn(e)?Vn(n)?t.removeAttributeNS(qn,zn(e)):t.setAttributeNS(qn,e,n):br(t,e,n)}function br(t,e,n){if(Vn(n))t.removeAttribute(e);else{if(Q&&!tt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var wr={create:gr,update:gr};function Sr(t,e){var n=e.elm,r=e.data,i=t.data;if(!(a(r.staticClass)&&a(r.class)&&(a(i)||a(i.staticClass)&&a(i.class)))){var o=function(t){for(var e=t.data,n=t,r=t;s(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Jn(r.data,e));for(;s(n=n.parent);)n&&n.data&&(e=Jn(e,n.data));return i=e.staticClass,o=e.class,s(i)||s(o)?Kn(i,Gn(o)):"";var i,o}(e),c=n._transitionClasses;s(c)&&(o=Kn(o,Gn(c))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}var xr,kr,Er,Or,Tr,Cr,Ar={create:Sr,update:Sr},jr=/[\w).+\-_$\]]/;function Rr(t){var e,n,r,i,o,a=!1,s=!1,c=!1,u=!1,l=0,p=0,f=0,d=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),a)39===e&&92!==n&&(a=!1);else if(s)34===e&&92!==n&&(s=!1);else if(c)96===e&&92!==n&&(c=!1);else if(u)47===e&&92!==n&&(u=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||l||p||f){switch(e){case 34:s=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:f++;break;case 41:f--;break;case 91:p++;break;case 93:p--;break;case 123:l++;break;case 125:l--}if(47===e){for(var h=r-1,v=void 0;h>=0&&" "===(v=t.charAt(h));h--);v&&jr.test(v)||(u=!0)}}else void 0===i?(d=r+1,i=t.slice(0,r).trim()):m();function m(){(o||(o=[])).push(t.slice(d,r).trim()),d=r+1}if(void 0===i?i=t.slice(0,r).trim():0!==d&&m(),o)for(r=0;r<o.length;r++)i=$r(i,o[r]);return i}function $r(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),i=e.slice(n+1);return'_f("'+r+'")('+t+(")"!==i?","+i:i)}function Ir(t,e){console.error("[Vue compiler]: "+t)}function Dr(t,e){return t?t.map((function(t){return t[e]})).filter((function(t){return t})):[]}function Pr(t,e,n,r,i){(t.props||(t.props=[])).push(Wr({name:e,value:n,dynamic:i},r)),t.plain=!1}function Nr(t,e,n,r,i){(i?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(Wr({name:e,value:n,dynamic:i},r)),t.plain=!1}function Lr(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(Wr({name:e,value:n},r))}function Mr(t,e,n,r,i,o,a,s){(t.directives||(t.directives=[])).push(Wr({name:e,rawName:n,value:r,arg:i,isDynamicArg:o,modifiers:a},s)),t.plain=!1}function Fr(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function Ur(t,e,n,r,i,a,s,c){var u;(r=r||o).right?c?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete r.right):r.middle&&(c?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),r.capture&&(delete r.capture,e=Fr("!",e,c)),r.once&&(delete r.once,e=Fr("~",e,c)),r.passive&&(delete r.passive,e=Fr("&",e,c)),r.native?(delete r.native,u=t.nativeEvents||(t.nativeEvents={})):u=t.events||(t.events={});var l=Wr({value:n.trim(),dynamic:c},s);r!==o&&(l.modifiers=r);var p=u[e];Array.isArray(p)?i?p.unshift(l):p.push(l):u[e]=p?i?[l,p]:[p,l]:l,t.plain=!1}function Hr(t,e,n){var r=Br(t,":"+e)||Br(t,"v-bind:"+e);if(null!=r)return Rr(r);if(!1!==n){var i=Br(t,e);if(null!=i)return JSON.stringify(i)}}function Br(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var i=t.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===e){i.splice(o,1);break}return n&&delete t.attrsMap[e],r}function qr(t,e){for(var n=t.attrsList,r=0,i=n.length;r<i;r++){var o=n[r];if(e.test(o.name))return n.splice(r,1),o}}function Wr(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function zr(t,e,n){var r=n||{},i=r.number,o="$$v";r.trim&&(o="(typeof $$v === 'string'? $$v.trim(): $$v)"),i&&(o="_n("+o+")");var a=Vr(e,o);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+a+"}"}}function Vr(t,e){var n=function(t){if(t=t.trim(),xr=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<xr-1)return(Or=t.lastIndexOf("."))>-1?{exp:t.slice(0,Or),key:'"'+t.slice(Or+1)+'"'}:{exp:t,key:null};for(kr=t,Or=Tr=Cr=0;!Kr();)Gr(Er=Jr())?Xr(Er):91===Er&&Yr(Er);return{exp:t.slice(0,Tr),key:t.slice(Tr+1,Cr)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Jr(){return kr.charCodeAt(++Or)}function Kr(){return Or>=xr}function Gr(t){return 34===t||39===t}function Yr(t){var e=1;for(Tr=Or;!Kr();)if(Gr(t=Jr()))Xr(t);else if(91===t&&e++,93===t&&e--,0===e){Cr=Or;break}}function Xr(t){for(var e=t;!Kr()&&(t=Jr())!==e;);}var Zr;function Qr(t,e,n){var r=Zr;return function i(){var o=e.apply(null,arguments);null!==o&&ni(t,i,n,r)}}var ti=Xt&&!(rt&&Number(rt[1])<=53);function ei(t,e,n,r){if(ti){var i=vn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Zr.addEventListener(t,e,ot?{capture:n,passive:r}:n)}function ni(t,e,n,r){(r||Zr).removeEventListener(t,e._wrapper||e,n)}function ri(t,e){if(!a(t.data.on)||!a(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Zr=e.elm,function(t){if(s(t.__r)){var e=Q?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}s(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),pe(n,r,ei,ni,Qr,e.context),Zr=void 0}}var ii,oi={create:ri,update:ri};function ai(t,e){if(!a(t.data.domProps)||!a(e.data.domProps)){var n,r,i=e.elm,o=t.data.domProps||{},c=e.data.domProps||{};for(n in s(c.__ob__)&&(c=e.data.domProps=R({},c)),o)n in c||(i[n]="");for(n in c){if(r=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===o[n])continue;1===i.childNodes.length&&i.removeChild(i.childNodes[0])}if("value"===n&&"PROGRESS"!==i.tagName){i._value=r;var u=a(r)?"":String(r);si(i,u)&&(i.value=u)}else if("innerHTML"===n&&Zn(i.tagName)&&a(i.innerHTML)){(ii=ii||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var l=ii.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}else if(r!==o[n])try{i[n]=r}catch(t){}}}}function si(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(s(r)){if(r.number)return m(n)!==m(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var ci={create:ai,update:ai},ui=x((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function li(t){var e=pi(t.style);return t.staticStyle?R(t.staticStyle,e):e}function pi(t){return Array.isArray(t)?$(t):"string"==typeof t?ui(t):t}var fi,di=/^--/,hi=/\s*!important$/,vi=function(t,e,n){if(di.test(e))t.style.setProperty(e,n);else if(hi.test(n))t.style.setProperty(C(e),n.replace(hi,""),"important");else{var r=yi(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},mi=["Webkit","Moz","ms"],yi=x((function(t){if(fi=fi||document.createElement("div").style,"filter"!==(t=E(t))&&t in fi)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<mi.length;n++){var r=mi[n]+e;if(r in fi)return r}}));function gi(t,e){var n=e.data,r=t.data;if(!(a(n.staticStyle)&&a(n.style)&&a(r.staticStyle)&&a(r.style))){var i,o,c=e.elm,u=r.staticStyle,l=r.normalizedStyle||r.style||{},p=u||l,f=pi(e.data.style)||{};e.data.normalizedStyle=s(f.__ob__)?R({},f):f;var d=function(t,e){for(var n,r={},i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=li(i.data))&&R(r,n);(n=li(t.data))&&R(r,n);for(var o=t;o=o.parent;)o.data&&(n=li(o.data))&&R(r,n);return r}(e);for(o in p)a(d[o])&&vi(c,o,"");for(o in d)(i=d[o])!==p[o]&&vi(c,o,null==i?"":i)}}var _i={create:gi,update:gi},bi=/\s+/;function wi(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(bi).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Si(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(bi).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function xi(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&R(e,ki(t.name||"v")),R(e,t),e}return"string"==typeof t?ki(t):void 0}}var ki=x((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Ei=G&&!tt,Oi="transition",Ti="animation",Ci="transition",Ai="transitionend",ji="animation",Ri="animationend";Ei&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ci="WebkitTransition",Ai="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ji="WebkitAnimation",Ri="webkitAnimationEnd"));var $i=G?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ii(t){$i((function(){$i(t)}))}function Di(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),wi(t,e))}function Pi(t,e){t._transitionClasses&&b(t._transitionClasses,e),Si(t,e)}function Ni(t,e,n){var r=Mi(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===Oi?Ai:Ri,c=0,u=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++c>=a&&u()};setTimeout((function(){c<a&&u()}),o+1),t.addEventListener(s,l)}var Li=/\b(transform|all)(,|$)/;function Mi(t,e){var n,r=window.getComputedStyle(t),i=(r[Ci+"Delay"]||"").split(", "),o=(r[Ci+"Duration"]||"").split(", "),a=Fi(i,o),s=(r[ji+"Delay"]||"").split(", "),c=(r[ji+"Duration"]||"").split(", "),u=Fi(s,c),l=0,p=0;return e===Oi?a>0&&(n=Oi,l=a,p=o.length):e===Ti?u>0&&(n=Ti,l=u,p=c.length):p=(n=(l=Math.max(a,u))>0?a>u?Oi:Ti:null)?n===Oi?o.length:c.length:0,{type:n,timeout:l,propCount:p,hasTransform:n===Oi&&Li.test(r[Ci+"Property"])}}function Fi(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Ui(e)+Ui(t[n])})))}function Ui(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Hi(t,e){var n=t.elm;s(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=xi(t.data.transition);if(!a(r)&&!s(n._enterCb)&&1===n.nodeType){for(var i=r.css,o=r.type,c=r.enterClass,u=r.enterToClass,p=r.enterActiveClass,f=r.appearClass,d=r.appearToClass,h=r.appearActiveClass,v=r.beforeEnter,y=r.enter,g=r.afterEnter,_=r.enterCancelled,b=r.beforeAppear,w=r.appear,S=r.afterAppear,x=r.appearCancelled,k=r.duration,E=nn,O=nn.$vnode;O&&O.parent;)E=O.context,O=O.parent;var T=!E._isMounted||!t.isRootInsert;if(!T||w||""===w){var C=T&&f?f:c,A=T&&h?h:p,j=T&&d?d:u,R=T&&b||v,$=T&&"function"==typeof w?w:y,I=T&&S||g,D=T&&x||_,P=m(l(k)?k.enter:k),N=!1!==i&&!tt,L=Wi($),F=n._enterCb=M((function(){N&&(Pi(n,j),Pi(n,A)),F.cancelled?(N&&Pi(n,C),D&&D(n)):I&&I(n),n._enterCb=null}));t.data.show||fe(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),$&&$(n,F)})),R&&R(n),N&&(Di(n,C),Di(n,A),Ii((function(){Pi(n,C),F.cancelled||(Di(n,j),L||(qi(P)?setTimeout(F,P):Ni(n,o,F)))}))),t.data.show&&(e&&e(),$&&$(n,F)),N||L||F()}}}function Bi(t,e){var n=t.elm;s(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=xi(t.data.transition);if(a(r)||1!==n.nodeType)return e();if(!s(n._leaveCb)){var i=r.css,o=r.type,c=r.leaveClass,u=r.leaveToClass,p=r.leaveActiveClass,f=r.beforeLeave,d=r.leave,h=r.afterLeave,v=r.leaveCancelled,y=r.delayLeave,g=r.duration,_=!1!==i&&!tt,b=Wi(d),w=m(l(g)?g.leave:g),S=n._leaveCb=M((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),_&&(Pi(n,u),Pi(n,p)),S.cancelled?(_&&Pi(n,c),v&&v(n)):(e(),h&&h(n)),n._leaveCb=null}));y?y(x):x()}function x(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),_&&(Di(n,c),Di(n,p),Ii((function(){Pi(n,c),S.cancelled||(Di(n,u),b||(qi(w)?setTimeout(S,w):Ni(n,o,S)))}))),d&&d(n,S),_||b||S())}}function qi(t){return"number"==typeof t&&!isNaN(t)}function Wi(t){if(a(t))return!1;var e=t.fns;return s(e)?Wi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function zi(t,e){!0!==e.data.show&&Hi(e)}var Vi=function(t){var e,n,r={},i=t.modules,o=t.nodeOps;for(e=0;e<cr.length;++e)for(r[cr[e]]=[],n=0;n<i.length;++n)s(i[n][cr[e]])&&r[cr[e]].push(i[n][cr[e]]);function l(t){var e=o.parentNode(t);s(e)&&o.removeChild(e,t)}function p(t,e,n,i,a,u,l){if(s(t.elm)&&s(u)&&(t=u[l]=St(t)),t.isRootInsert=!a,!function(t,e,n,i){var o=t.data;if(s(o)){var a=s(t.componentInstance)&&o.keepAlive;if(s(o=o.hook)&&s(o=o.init)&&o(t,!1),s(t.componentInstance))return f(t,e),d(n,t.elm,i),c(a)&&function(t,e,n,i){for(var o,a=t;a.componentInstance;)if(s(o=(a=a.componentInstance._vnode).data)&&s(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](sr,a);e.push(a);break}d(n,t.elm,i)}(t,e,n,i),!0}}(t,e,n,i)){var p=t.data,v=t.children,y=t.tag;s(y)?(t.elm=t.ns?o.createElementNS(t.ns,y):o.createElement(y,t),g(t),h(t,v,e),s(p)&&m(t,e),d(n,t.elm,i)):c(t.isComment)?(t.elm=o.createComment(t.text),d(n,t.elm,i)):(t.elm=o.createTextNode(t.text),d(n,t.elm,i))}}function f(t,e){s(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,v(t)?(m(t,e),g(t)):(ar(t),e.push(t))}function d(t,e,n){s(t)&&(s(n)?o.parentNode(n)===t&&o.insertBefore(t,e,n):o.appendChild(t,e))}function h(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r);else u(t.text)&&o.appendChild(t.elm,o.createTextNode(String(t.text)))}function v(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return s(t.tag)}function m(t,n){for(var i=0;i<r.create.length;++i)r.create[i](sr,t);s(e=t.data.hook)&&(s(e.create)&&e.create(sr,t),s(e.insert)&&n.push(t))}function g(t){var e;if(s(e=t.fnScopeId))o.setStyleScope(t.elm,e);else for(var n=t;n;)s(e=n.context)&&s(e=e.$options._scopeId)&&o.setStyleScope(t.elm,e),n=n.parent;s(e=nn)&&e!==t.context&&e!==t.fnContext&&s(e=e.$options._scopeId)&&o.setStyleScope(t.elm,e)}function _(t,e,n,r,i,o){for(;r<=i;++r)p(n[r],o,t,e,!1,n,r)}function b(t){var e,n,i=t.data;if(s(i))for(s(e=i.hook)&&s(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(s(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function w(t,e,n){for(;e<=n;++e){var r=t[e];s(r)&&(s(r.tag)?(S(r),b(r)):l(r.elm))}}function S(t,e){if(s(e)||s(t.data)){var n,i=r.remove.length+1;for(s(e)?e.listeners+=i:e=function(t,e){function n(){0==--n.listeners&&l(t)}return n.listeners=e,n}(t.elm,i),s(n=t.componentInstance)&&s(n=n._vnode)&&s(n.data)&&S(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);s(n=t.data.hook)&&s(n=n.remove)?n(t,e):e()}else l(t.elm)}function x(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(s(o)&&ur(t,o))return i}}function k(t,e,n,i,u,l){if(t!==e){s(e.elm)&&s(i)&&(e=i[u]=St(e));var f=e.elm=t.elm;if(c(t.isAsyncPlaceholder))s(e.asyncFactory.resolved)?T(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(c(e.isStatic)&&c(t.isStatic)&&e.key===t.key&&(c(e.isCloned)||c(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,h=e.data;s(h)&&s(d=h.hook)&&s(d=d.prepatch)&&d(t,e);var m=t.children,y=e.children;if(s(h)&&v(e)){for(d=0;d<r.update.length;++d)r.update[d](t,e);s(d=h.hook)&&s(d=d.update)&&d(t,e)}a(e.text)?s(m)&&s(y)?m!==y&&function(t,e,n,r,i){for(var c,u,l,f=0,d=0,h=e.length-1,v=e[0],m=e[h],y=n.length-1,g=n[0],b=n[y],S=!i;f<=h&&d<=y;)a(v)?v=e[++f]:a(m)?m=e[--h]:ur(v,g)?(k(v,g,r,n,d),v=e[++f],g=n[++d]):ur(m,b)?(k(m,b,r,n,y),m=e[--h],b=n[--y]):ur(v,b)?(k(v,b,r,n,y),S&&o.insertBefore(t,v.elm,o.nextSibling(m.elm)),v=e[++f],b=n[--y]):ur(m,g)?(k(m,g,r,n,d),S&&o.insertBefore(t,m.elm,v.elm),m=e[--h],g=n[++d]):(a(c)&&(c=lr(e,f,h)),a(u=s(g.key)?c[g.key]:x(g,e,f,h))?p(g,r,t,v.elm,!1,n,d):ur(l=e[u],g)?(k(l,g,r,n,d),e[u]=void 0,S&&o.insertBefore(t,l.elm,v.elm)):p(g,r,t,v.elm,!1,n,d),g=n[++d]);f>h?_(t,a(n[y+1])?null:n[y+1].elm,n,d,y,r):d>y&&w(e,f,h)}(f,m,y,n,l):s(y)?(s(t.text)&&o.setTextContent(f,""),_(f,null,y,0,y.length-1,n)):s(m)?w(m,0,m.length-1):s(t.text)&&o.setTextContent(f,""):t.text!==e.text&&o.setTextContent(f,e.text),s(h)&&s(d=h.hook)&&s(d=d.postpatch)&&d(t,e)}}}function E(t,e,n){if(c(n)&&s(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var O=y("attrs,class,staticClass,staticStyle,key");function T(t,e,n,r){var i,o=e.tag,a=e.data,u=e.children;if(r=r||a&&a.pre,e.elm=t,c(e.isComment)&&s(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(s(a)&&(s(i=a.hook)&&s(i=i.init)&&i(e,!0),s(i=e.componentInstance)))return f(e,n),!0;if(s(o)){if(s(u))if(t.hasChildNodes())if(s(i=a)&&s(i=i.domProps)&&s(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var l=!0,p=t.firstChild,d=0;d<u.length;d++){if(!p||!T(p,u[d],n,r)){l=!1;break}p=p.nextSibling}if(!l||p)return!1}else h(e,u,n);if(s(a)){var v=!1;for(var y in a)if(!O(y)){v=!0,m(e,n);break}!v&&a.class&&se(a.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,i){if(!a(e)){var u,l=!1,f=[];if(a(t))l=!0,p(e,f);else{var d=s(t.nodeType);if(!d&&ur(t,e))k(t,e,f,null,null,i);else{if(d){if(1===t.nodeType&&t.hasAttribute(F)&&(t.removeAttribute(F),n=!0),c(n)&&T(t,e,f))return E(e,f,!0),t;u=t,t=new gt(o.tagName(u).toLowerCase(),{},[],void 0,u)}var h=t.elm,m=o.parentNode(h);if(p(e,f,h._leaveCb?null:m,o.nextSibling(h)),s(e.parent))for(var y=e.parent,g=v(e);y;){for(var _=0;_<r.destroy.length;++_)r.destroy[_](y);if(y.elm=e.elm,g){for(var S=0;S<r.create.length;++S)r.create[S](sr,y);var x=y.data.hook.insert;if(x.merged)for(var O=1;O<x.fns.length;O++)x.fns[O]()}else ar(y);y=y.parent}s(m)?w([t],0,0):s(t.tag)&&b(t)}}return E(e,f,l),e.elm}s(t)&&b(t)}}({nodeOps:ir,modules:[wr,Ar,oi,ci,_i,G?{create:zi,activate:zi,remove:function(t,e){!0!==t.data.show?Bi(t,e):e()}}:{}].concat(yr)});tt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&to(t,"input")}));var Ji={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?fe(n,"postpatch",(function(){Ji.componentUpdated(t,e,n)})):Ki(t,e,n.context),t._vOptions=[].map.call(t.options,Xi)):("textarea"===n.tag||nr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Zi),t.addEventListener("compositionend",Qi),t.addEventListener("change",Qi),tt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ki(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Xi);i.some((function(t,e){return!N(t,r[e])}))&&(t.multiple?e.value.some((function(t){return Yi(t,i)})):e.value!==e.oldValue&&Yi(e.value,i))&&to(t,"change")}}};function Ki(t,e,n){Gi(t,e),(Q||et)&&setTimeout((function(){Gi(t,e)}),0)}function Gi(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,c=t.options.length;s<c;s++)if(a=t.options[s],i)o=L(r,Xi(a))>-1,a.selected!==o&&(a.selected=o);else if(N(Xi(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function Yi(t,e){return e.every((function(e){return!N(e,t)}))}function Xi(t){return"_value"in t?t._value:t.value}function Zi(t){t.target.composing=!0}function Qi(t){t.target.composing&&(t.target.composing=!1,to(t.target,"input"))}function to(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function eo(t){return!t.componentInstance||t.data&&t.data.transition?t:eo(t.componentInstance._vnode)}var no={model:Ji,show:{bind:function(t,e,n){var r=e.value,i=(n=eo(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,Hi(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=eo(n)).data&&n.data.transition?(n.data.show=!0,r?Hi(n,(function(){t.style.display=t.__vOriginalDisplay})):Bi(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},ro={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function io(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?io(Xe(e.children)):t}function oo(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[E(o)]=i[o];return e}function ao(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var so=function(t){return t.tag||Ye(t)},co=function(t){return"show"===t.name},uo={name:"transition",props:ro,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(so)).length){var r=this.mode,i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var o=io(i);if(!o)return i;if(this._leaving)return ao(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:u(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var s=(o.data||(o.data={})).transition=oo(this),c=this._vnode,l=io(c);if(o.data.directives&&o.data.directives.some(co)&&(o.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(o,l)&&!Ye(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var p=l.data.transition=R({},s);if("out-in"===r)return this._leaving=!0,fe(p,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ao(t,i);if("in-out"===r){if(Ye(o))return c;var f,d=function(){f()};fe(s,"afterEnter",d),fe(s,"enterCancelled",d),fe(p,"delayLeave",(function(t){f=t}))}}return i}}},lo=R({tag:String,moveClass:String},ro);function po(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function fo(t){t.data.newPos=t.elm.getBoundingClientRect()}function ho(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}delete lo.mode;var vo={Transition:uo,TransitionGroup:{props:lo,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=rn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=oo(this),s=0;s<i.length;s++){var c=i[s];c.tag&&null!=c.key&&0!==String(c.key).indexOf("__vlist")&&(o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=a)}if(r){for(var u=[],l=[],p=0;p<r.length;p++){var f=r[p];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?u.push(f):l.push(f)}this.kept=t(e,null,u),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(po),t.forEach(fo),t.forEach(ho),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;Di(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Ai,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Ai,t),n._moveCb=null,Pi(n,e))})}})))},methods:{hasMove:function(t,e){if(!Ei)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Si(n,t)})),wi(n,e),n.style.display="none",this.$el.appendChild(n);var r=Mi(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};jn.config.mustUseProp=Fn,jn.config.isReservedTag=Qn,jn.config.isReservedAttr=Ln,jn.config.getTagNamespace=tr,jn.config.isUnknownElement=function(t){if(!G)return!0;if(Qn(t))return!1;if(t=t.toLowerCase(),null!=er[t])return er[t];var e=document.createElement(t);return t.indexOf("-")>-1?er[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:er[t]=/HTMLUnknownElement/.test(e.toString())},R(jn.options.directives,no),R(jn.options.components,vo),jn.prototype.__patch__=G?Vi:I,jn.prototype.$mount=function(t,e){return function(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=bt),cn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new bn(t,r,I,{before:function(){t._isMounted&&!t._isDestroyed&&cn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,cn(t,"mounted")),t}(this,t=t&&G?rr(t):void 0,e)},G&&setTimeout((function(){B.devtools&&ct&&ct.emit("init",jn)}),0);var mo,yo=/\{\{((?:.|\r?\n)+?)\}\}/g,go=/[-.*+?^${}()|[\]\/\\]/g,_o=x((function(t){var e=t[0].replace(go,"\\$&"),n=t[1].replace(go,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")})),bo={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Br(t,"class");n&&(t.staticClass=JSON.stringify(n));var r=Hr(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}},wo={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Br(t,"style");n&&(t.staticStyle=JSON.stringify(ui(n)));var r=Hr(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},So=y("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),xo=y("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),ko=y("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),Eo=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,Oo=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,To="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+q.source+"]*",Co="((?:"+To+"\\:)?"+To+")",Ao=new RegExp("^<"+Co),jo=/^\s*(\/?)>/,Ro=new RegExp("^<\\/"+Co+"[^>]*>"),$o=/^<!DOCTYPE [^>]+>/i,Io=/^<!\--/,Do=/^<!\[/,Po=y("script,style,textarea",!0),No={},Lo={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},Mo=/&(?:lt|gt|quot|amp|#39);/g,Fo=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Uo=y("pre,textarea",!0),Ho=function(t,e){return t&&Uo(t)&&"\n"===e[0]};function Bo(t,e){var n=e?Fo:Mo;return t.replace(n,(function(t){return Lo[t]}))}var qo,Wo,zo,Vo,Jo,Ko,Go,Yo,Xo=/^@|^v-on:/,Zo=/^v-|^@|^:|^#/,Qo=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,ta=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,ea=/^\(|\)$/g,na=/^\[.*\]$/,ra=/:(.*)$/,ia=/^:|^\.|^v-bind:/,oa=/\.[^.\]]+(?=[^\]]*$)/g,aa=/^v-slot(:|$)|^#/,sa=/[\r\n]/,ca=/\s+/g,ua=x((function(t){return(mo=mo||document.createElement("div")).innerHTML=t,mo.textContent})),la="_empty_";function pa(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:ya(e),rawAttrsMap:{},parent:n,children:[]}}function fa(t,e){var n;!function(t){var e=Hr(t,"key");e&&(t.key=e)}(t),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=Hr(t,"ref");e&&(t.ref=e,t.refInFor=function(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=Br(t,"scope"),t.slotScope=e||Br(t,"slot-scope")):(e=Br(t,"slot-scope"))&&(t.slotScope=e);var n=Hr(t,"slot");if(n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||Nr(t,"slot",n,function(t,e){return t.rawAttrsMap[":slot"]||t.rawAttrsMap["v-bind:slot"]||t.rawAttrsMap.slot}(t))),"template"===t.tag){var r=qr(t,aa);if(r){var i=va(r),o=i.name,a=i.dynamic;t.slotTarget=o,t.slotTargetDynamic=a,t.slotScope=r.value||la}}else{var s=qr(t,aa);if(s){var c=t.scopedSlots||(t.scopedSlots={}),u=va(s),l=u.name,p=u.dynamic,f=c[l]=pa("template",[],t);f.slotTarget=l,f.slotTargetDynamic=p,f.children=t.children.filter((function(t){if(!t.slotScope)return t.parent=f,!0})),f.slotScope=s.value||la,t.children=[],t.plain=!1}}}(t),"slot"===(n=t).tag&&(n.slotName=Hr(n,"name")),function(t){var e;(e=Hr(t,"is"))&&(t.component=e),null!=Br(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var r=0;r<zo.length;r++)t=zo[r](t,e)||t;return function(t){var e,n,r,i,o,a,s,c,u=t.attrsList;for(e=0,n=u.length;e<n;e++)if(r=i=u[e].name,o=u[e].value,Zo.test(r))if(t.hasBindings=!0,(a=ma(r.replace(Zo,"")))&&(r=r.replace(oa,"")),ia.test(r))r=r.replace(ia,""),o=Rr(o),(c=na.test(r))&&(r=r.slice(1,-1)),a&&(a.prop&&!c&&"innerHtml"===(r=E(r))&&(r="innerHTML"),a.camel&&!c&&(r=E(r)),a.sync&&(s=Vr(o,"$event"),c?Ur(t,'"update:"+('+r+")",s,null,!1,0,u[e],!0):(Ur(t,"update:"+E(r),s,null,!1,0,u[e]),C(r)!==E(r)&&Ur(t,"update:"+C(r),s,null,!1,0,u[e])))),a&&a.prop||!t.component&&Go(t.tag,t.attrsMap.type,r)?Pr(t,r,o,u[e],c):Nr(t,r,o,u[e],c);else if(Xo.test(r))r=r.replace(Xo,""),(c=na.test(r))&&(r=r.slice(1,-1)),Ur(t,r,o,a,!1,0,u[e],c);else{var l=(r=r.replace(Zo,"")).match(ra),p=l&&l[1];c=!1,p&&(r=r.slice(0,-(p.length+1)),na.test(p)&&(p=p.slice(1,-1),c=!0)),Mr(t,r,i,o,p,c,a,u[e])}else Nr(t,r,JSON.stringify(o),u[e]),!t.component&&"muted"===r&&Go(t.tag,t.attrsMap.type,r)&&Pr(t,r,"true",u[e])}(t),t}function da(t){var e;if(e=Br(t,"v-for")){var n=function(t){var e=t.match(Qo);if(e){var n={};n.for=e[2].trim();var r=e[1].trim().replace(ea,""),i=r.match(ta);return i?(n.alias=r.replace(ta,"").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r,n}}(e);n&&R(t,n)}}function ha(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function va(t){var e=t.name.replace(aa,"");return e||"#"!==t.name[0]&&(e="default"),na.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function ma(t){var e=t.match(oa);if(e){var n={};return e.forEach((function(t){n[t.slice(1)]=!0})),n}}function ya(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}var ga=/^xmlns:NS\d+/,_a=/^NS\d+:/;function ba(t){return pa(t.tag,t.attrsList.slice(),t.parent)}var wa,Sa,xa,ka=[bo,wo,{preTransformNode:function(t,e){if("input"===t.tag){var n,r=t.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=Hr(t,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var i=Br(t,"v-if",!0),o=i?"&&("+i+")":"",a=null!=Br(t,"v-else",!0),s=Br(t,"v-else-if",!0),c=ba(t);da(c),Lr(c,"type","checkbox"),fa(c,e),c.processed=!0,c.if="("+n+")==='checkbox'"+o,ha(c,{exp:c.if,block:c});var u=ba(t);Br(u,"v-for",!0),Lr(u,"type","radio"),fa(u,e),ha(c,{exp:"("+n+")==='radio'"+o,block:u});var l=ba(t);return Br(l,"v-for",!0),Lr(l,":type",n),fa(l,e),ha(c,{exp:i,block:l}),a?c.else=!0:s&&(c.elseif=s),c}}}}],Ea={expectHTML:!0,modules:ka,directives:{model:function(t,e,n){var r=e.value,i=e.modifiers,o=t.tag,a=t.attrsMap.type;if(t.component)return zr(t,r,i),!1;if("select"===o)!function(t,e,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";Ur(t,"change",r=r+" "+Vr(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0)}(t,r,i);else if("input"===o&&"checkbox"===a)!function(t,e,n){var r=n&&n.number,i=Hr(t,"value")||"null",o=Hr(t,"true-value")||"true",a=Hr(t,"false-value")||"false";Pr(t,"checked","Array.isArray("+e+")?_i("+e+","+i+")>-1"+("true"===o?":("+e+")":":_q("+e+","+o+")")),Ur(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+o+"):("+a+");if(Array.isArray($$a)){var $$v="+(r?"_n("+i+")":i)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+Vr(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+Vr(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+Vr(e,"$$c")+"}",null,!0)}(t,r,i);else if("input"===o&&"radio"===a)!function(t,e,n){var r=n&&n.number,i=Hr(t,"value")||"null";Pr(t,"checked","_q("+e+","+(i=r?"_n("+i+")":i)+")"),Ur(t,"change",Vr(e,i),null,!0)}(t,r,i);else if("input"===o||"textarea"===o)!function(t,e,n){var r=t.attrsMap.type,i=n||{},o=i.lazy,a=i.number,s=i.trim,c=!o&&"range"!==r,u=o?"change":"range"===r?"__r":"input",l="$event.target.value";s&&(l="$event.target.value.trim()"),a&&(l="_n("+l+")");var p=Vr(e,l);c&&(p="if($event.target.composing)return;"+p),Pr(t,"value","("+e+")"),Ur(t,u,p,null,!0),(s||a)&&Ur(t,"blur","$forceUpdate()")}(t,r,i);else if(!B.isReservedTag(o))return zr(t,r,i),!1;return!0},text:function(t,e){e.value&&Pr(t,"textContent","_s("+e.value+")",e)},html:function(t,e){e.value&&Pr(t,"innerHTML","_s("+e.value+")",e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:So,mustUseProp:Fn,canBeLeftOpenTag:xo,isReservedTag:Qn,getTagNamespace:tr,staticKeys:(xa=ka,xa.reduce((function(t,e){return t.concat(e.staticKeys||[])}),[]).join(","))},Oa=x((function(t){return y("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}));function Ta(t,e){t&&(wa=Oa(e.staticKeys||""),Sa=e.isReservedTag||D,Ca(t),Aa(t,!1))}function Ca(t){if(t.static=function(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||g(t.tag)||!Sa(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(wa))))}(t),1===t.type){if(!Sa(t.tag)&&"slot"!==t.tag&&null==t.attrsMap["inline-template"])return;for(var e=0,n=t.children.length;e<n;e++){var r=t.children[e];Ca(r),r.static||(t.static=!1)}if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++){var a=t.ifConditions[i].block;Ca(a),a.static||(t.static=!1)}}}function Aa(t,e){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=e),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var n=0,r=t.children.length;n<r;n++)Aa(t.children[n],e||!!t.for);if(t.ifConditions)for(var i=1,o=t.ifConditions.length;i<o;i++)Aa(t.ifConditions[i].block,e)}}var ja=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,Ra=/\([^)]*?\);*$/,$a=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Ia={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},Da={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Pa=function(t){return"if("+t+")return null;"},Na={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Pa("$event.target !== $event.currentTarget"),ctrl:Pa("!$event.ctrlKey"),shift:Pa("!$event.shiftKey"),alt:Pa("!$event.altKey"),meta:Pa("!$event.metaKey"),left:Pa("'button' in $event && $event.button !== 0"),middle:Pa("'button' in $event && $event.button !== 1"),right:Pa("'button' in $event && $event.button !== 2")};function La(t,e){var n=e?"nativeOn:":"on:",r="",i="";for(var o in t){var a=Ma(t[o]);t[o]&&t[o].dynamic?i+=o+","+a+",":r+='"'+o+'":'+a+","}return r="{"+r.slice(0,-1)+"}",i?n+"_d("+r+",["+i.slice(0,-1)+"])":n+r}function Ma(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map((function(t){return Ma(t)})).join(",")+"]";var e=$a.test(t.value),n=ja.test(t.value),r=$a.test(t.value.replace(Ra,""));if(t.modifiers){var i="",o="",a=[];for(var s in t.modifiers)if(Na[s])o+=Na[s],Ia[s]&&a.push(s);else if("exact"===s){var c=t.modifiers;o+=Pa(["ctrl","shift","alt","meta"].filter((function(t){return!c[t]})).map((function(t){return"$event."+t+"Key"})).join("||"))}else a.push(s);return a.length&&(i+=function(t){return"if(!$event.type.indexOf('key')&&"+t.map(Fa).join("&&")+")return null;"}(a)),o&&(i+=o),"function($event){"+i+(e?"return "+t.value+"($event)":n?"return ("+t.value+")($event)":r?"return "+t.value:t.value)+"}"}return e||n?t.value:"function($event){"+(r?"return "+t.value:t.value)+"}"}function Fa(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Ia[t],r=Da[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var Ua={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:I},Ha=function(t){this.options=t,this.warn=t.warn||Ir,this.transforms=Dr(t.modules,"transformCode"),this.dataGenFns=Dr(t.modules,"genData"),this.directives=R(R({},Ua),t.directives);var e=t.isReservedTag||D;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function Ba(t,e){var n=new Ha(e);return{render:"with(this){return "+(t?qa(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function qa(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Wa(t,e);if(t.once&&!t.onceProcessed)return za(t,e);if(t.for&&!t.forProcessed)return Ka(t,e);if(t.if&&!t.ifProcessed)return Va(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=Za(t,e),i="_t("+n+(r?","+r:""),o=t.attrs||t.dynamicAttrs?es((t.attrs||[]).concat(t.dynamicAttrs||[]).map((function(t){return{name:E(t.name),value:t.value,dynamic:t.dynamic}}))):null,a=t.attrsMap["v-bind"];return!o&&!a||r||(i+=",null"),o&&(i+=","+o),a&&(i+=(o?"":",null")+","+a),i+")"}(t,e);var n;if(t.component)n=function(t,e,n){var r=e.inlineTemplate?null:Za(e,n,!0);return"_c("+t+","+Ga(e,n)+(r?","+r:"")+")"}(t.component,t,e);else{var r;(!t.plain||t.pre&&e.maybeComponent(t))&&(r=Ga(t,e));var i=t.inlineTemplate?null:Za(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(i?","+i:"")+")"}for(var o=0;o<e.transforms.length;o++)n=e.transforms[o](t,n);return n}return Za(t,e)||"void 0"}function Wa(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+qa(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function za(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Va(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+qa(t,e)+","+e.onceId+++","+n+")":qa(t,e)}return Wa(t,e)}function Va(t,e,n,r){return t.ifProcessed=!0,Ja(t.ifConditions.slice(),e,n,r)}function Ja(t,e,n,r){if(!t.length)return r||"_e()";var i=t.shift();return i.exp?"("+i.exp+")?"+o(i.block)+":"+Ja(t,e,n,r):""+o(i.block);function o(t){return n?n(t,e):t.once?za(t,e):qa(t,e)}}function Ka(t,e,n,r){var i=t.for,o=t.alias,a=t.iterator1?","+t.iterator1:"",s=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(r||"_l")+"(("+i+"),function("+o+a+s+"){return "+(n||qa)(t,e)+"})"}function Ga(t,e){var n="{",r=function(t,e){var n=t.directives;if(n){var r,i,o,a,s="directives:[",c=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var u=e.directives[o.name];u&&(a=!!u(t,o,e.warn)),a&&(c=!0,s+='{name:"'+o.name+'",rawName:"'+o.rawName+'"'+(o.value?",value:("+o.value+"),expression:"+JSON.stringify(o.value):"")+(o.arg?",arg:"+(o.isDynamicArg?o.arg:'"'+o.arg+'"'):"")+(o.modifiers?",modifiers:"+JSON.stringify(o.modifiers):"")+"},")}return c?s.slice(0,-1)+"]":void 0}}(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var i=0;i<e.dataGenFns.length;i++)n+=e.dataGenFns[i](t);if(t.attrs&&(n+="attrs:"+es(t.attrs)+","),t.props&&(n+="domProps:"+es(t.props)+","),t.events&&(n+=La(t.events,!1)+","),t.nativeEvents&&(n+=La(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e,n){var r=t.for||Object.keys(e).some((function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||Ya(n)})),i=!!t.if;if(!r)for(var o=t.parent;o;){if(o.slotScope&&o.slotScope!==la||o.for){r=!0;break}o.if&&(i=!0),o=o.parent}var a=Object.keys(e).map((function(t){return Xa(e[t],n)})).join(",");return"scopedSlots:_u(["+a+"]"+(r?",null,true":"")+(!r&&i?",null,false,"+function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(a):"")+")"}(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var o=function(t,e){var n=t.children[0];if(n&&1===n.type){var r=Ba(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map((function(t){return"function(){"+t+"}"})).join(",")+"]}"}}(t,e);o&&(n+=o+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+es(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function Ya(t){return 1===t.type&&("slot"===t.tag||t.children.some(Ya))}function Xa(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Va(t,e,Xa,"null");if(t.for&&!t.forProcessed)return Ka(t,e,Xa);var r=t.slotScope===la?"":String(t.slotScope),i="function("+r+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(Za(t,e)||"undefined")+":undefined":Za(t,e)||"undefined":qa(t,e))+"}",o=r?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+i+o+"}"}function Za(t,e,n,r,i){var o=t.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&"template"!==a.tag&&"slot"!==a.tag){var s=n?e.maybeComponent(a)?",1":",0":"";return""+(r||qa)(a,e)+s}var c=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var i=t[r];if(1===i.type){if(Qa(i)||i.ifConditions&&i.ifConditions.some((function(t){return Qa(t.block)}))){n=2;break}(e(i)||i.ifConditions&&i.ifConditions.some((function(t){return e(t.block)})))&&(n=1)}}return n}(o,e.maybeComponent):0,u=i||ts;return"["+o.map((function(t){return u(t,e)})).join(",")+"]"+(c?","+c:"")}}function Qa(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function ts(t,e){return 1===t.type?qa(t,e):3===t.type&&t.isComment?function(t){return"_e("+JSON.stringify(t.text)+")"}(t):"_v("+(2===(n=t).type?n.expression:ns(JSON.stringify(n.text)))+")";var n}function es(t){for(var e="",n="",r=0;r<t.length;r++){var i=t[r],o=ns(i.value);i.dynamic?n+=i.name+","+o+",":e+='"'+i.name+'":'+o+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function ns(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function rs(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),I}}function is(t){var e=Object.create(null);return function(n,r,i){(r=R({},r)).warn,delete r.warn;var o=r.delimiters?String(r.delimiters)+n:n;if(e[o])return e[o];var a=t(n,r),s={},c=[];return s.render=rs(a.render,c),s.staticRenderFns=a.staticRenderFns.map((function(t){return rs(t,c)})),e[o]=s}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b"),new RegExp("\\b"+"delete,typeof,void".split(",").join("\\s*\\([^\\)]*\\)|\\b")+"\\s*\\([^\\)]*\\)");var os,as,ss=(os=function(t,e){var n=function(t,e){qo=e.warn||Ir,Ko=e.isPreTag||D,Go=e.mustUseProp||D,Yo=e.getTagNamespace||D,e.isReservedTag,zo=Dr(e.modules,"transformNode"),Vo=Dr(e.modules,"preTransformNode"),Jo=Dr(e.modules,"postTransformNode"),Wo=e.delimiters;var n,r,i=[],o=!1!==e.preserveWhitespace,a=e.whitespace,s=!1,c=!1;function u(t){if(l(t),s||t.processed||(t=fa(t,e)),i.length||t===n||n.if&&(t.elseif||t.else)&&ha(n,{exp:t.elseif,block:t}),r&&!t.forbidden)if(t.elseif||t.else)a=t,(u=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(r.children))&&u.if&&ha(u,{exp:a.elseif,block:a});else{if(t.slotScope){var o=t.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[o]=t}r.children.push(t),t.parent=r}var a,u;t.children=t.children.filter((function(t){return!t.slotScope})),l(t),t.pre&&(s=!1),Ko(t.tag)&&(c=!1);for(var p=0;p<Jo.length;p++)Jo[p](t,e)}function l(t){if(!c)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return function(t,e){for(var n,r,i=[],o=e.expectHTML,a=e.isUnaryTag||D,s=e.canBeLeftOpenTag||D,c=0;t;){if(n=t,r&&Po(r)){var u=0,l=r.toLowerCase(),p=No[l]||(No[l]=new RegExp("([\\s\\S]*?)(</"+l+"[^>]*>)","i")),f=t.replace(p,(function(t,n,r){return u=r.length,Po(l)||"noscript"===l||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Ho(l,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""}));c+=t.length-f.length,t=f,O(l,c-u,c)}else{var d=t.indexOf("<");if(0===d){if(Io.test(t)){var h=t.indexOf("--\x3e");if(h>=0){e.shouldKeepComment&&e.comment(t.substring(4,h),c,c+h+3),x(h+3);continue}}if(Do.test(t)){var v=t.indexOf("]>");if(v>=0){x(v+2);continue}}var m=t.match($o);if(m){x(m[0].length);continue}var y=t.match(Ro);if(y){var g=c;x(y[0].length),O(y[1],g,c);continue}var _=k();if(_){E(_),Ho(_.tagName,t)&&x(1);continue}}var b=void 0,w=void 0,S=void 0;if(d>=0){for(w=t.slice(d);!(Ro.test(w)||Ao.test(w)||Io.test(w)||Do.test(w)||(S=w.indexOf("<",1))<0);)d+=S,w=t.slice(d);b=t.substring(0,d)}d<0&&(b=t),b&&x(b.length),e.chars&&b&&e.chars(b,c-b.length,c)}if(t===n){e.chars&&e.chars(t);break}}function x(e){c+=e,t=t.substring(e)}function k(){var e=t.match(Ao);if(e){var n,r,i={tagName:e[1],attrs:[],start:c};for(x(e[0].length);!(n=t.match(jo))&&(r=t.match(Oo)||t.match(Eo));)r.start=c,x(r[0].length),r.end=c,i.attrs.push(r);if(n)return i.unarySlash=n[1],x(n[0].length),i.end=c,i}}function E(t){var n=t.tagName,c=t.unarySlash;o&&("p"===r&&ko(n)&&O(r),s(n)&&r===n&&O(n));for(var u=a(n)||!!c,l=t.attrs.length,p=new Array(l),f=0;f<l;f++){var d=t.attrs[f],h=d[3]||d[4]||d[5]||"",v="a"===n&&"href"===d[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;p[f]={name:d[1],value:Bo(h,v)}}u||(i.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:p,start:t.start,end:t.end}),r=n),e.start&&e.start(n,p,u,t.start,t.end)}function O(t,n,o){var a,s;if(null==n&&(n=c),null==o&&(o=c),t)for(s=t.toLowerCase(),a=i.length-1;a>=0&&i[a].lowerCasedTag!==s;a--);else a=0;if(a>=0){for(var u=i.length-1;u>=a;u--)e.end&&e.end(i[u].tag,n,o);i.length=a,r=a&&i[a-1].tag}else"br"===s?e.start&&e.start(t,[],!0,n,o):"p"===s&&(e.start&&e.start(t,[],!1,n,o),e.end&&e.end(t,n,o))}O()}(t,{warn:qo,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,o,a,l,p){var f=r&&r.ns||Yo(t);Q&&"svg"===f&&(o=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];ga.test(r.name)||(r.name=r.name.replace(_a,""),e.push(r))}return e}(o));var d,h=pa(t,o,r);f&&(h.ns=f),"style"!==(d=h).tag&&("script"!==d.tag||d.attrsMap.type&&"text/javascript"!==d.attrsMap.type)||st()||(h.forbidden=!0);for(var v=0;v<Vo.length;v++)h=Vo[v](h,e)||h;s||(function(t){null!=Br(t,"v-pre")&&(t.pre=!0)}(h),h.pre&&(s=!0)),Ko(h.tag)&&(c=!0),s?function(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),i=0;i<n;i++)r[i]={name:e[i].name,value:JSON.stringify(e[i].value)},null!=e[i].start&&(r[i].start=e[i].start,r[i].end=e[i].end);else t.pre||(t.plain=!0)}(h):h.processed||(da(h),function(t){var e=Br(t,"v-if");if(e)t.if=e,ha(t,{exp:e,block:t});else{null!=Br(t,"v-else")&&(t.else=!0);var n=Br(t,"v-else-if");n&&(t.elseif=n)}}(h),function(t){null!=Br(t,"v-once")&&(t.once=!0)}(h)),n||(n=h),a?u(h):(r=h,i.push(h))},end:function(t,e,n){var o=i[i.length-1];i.length-=1,r=i[i.length-1],u(o)},chars:function(t,e,n){if(r&&(!Q||"textarea"!==r.tag||r.attrsMap.placeholder!==t)){var i,u,l,p=r.children;(t=c||t.trim()?"script"===(i=r).tag||"style"===i.tag?t:ua(t):p.length?a?"condense"===a&&sa.test(t)?"":" ":o?" ":"":"")&&(c||"condense"!==a||(t=t.replace(ca," ")),!s&&" "!==t&&(u=function(t,e){var n=e?_o(e):yo;if(n.test(t)){for(var r,i,o,a=[],s=[],c=n.lastIndex=0;r=n.exec(t);){(i=r.index)>c&&(s.push(o=t.slice(c,i)),a.push(JSON.stringify(o)));var u=Rr(r[1].trim());a.push("_s("+u+")"),s.push({"@binding":u}),c=i+r[0].length}return c<t.length&&(s.push(o=t.slice(c)),a.push(JSON.stringify(o))),{expression:a.join("+"),tokens:s}}}(t,Wo))?l={type:2,expression:u.expression,tokens:u.tokens,text:t}:" "===t&&p.length&&" "===p[p.length-1].text||(l={type:3,text:t}),l&&p.push(l))}},comment:function(t,e,n){if(r){var i={type:3,text:t,isComment:!0};r.children.push(i)}}}),n}(t.trim(),e);!1!==e.optimize&&Ta(n,e);var r=Ba(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(t){function e(e,n){var r=Object.create(t),i=[],o=[];if(n)for(var a in n.modules&&(r.modules=(t.modules||[]).concat(n.modules)),n.directives&&(r.directives=R(Object.create(t.directives||null),n.directives)),n)"modules"!==a&&"directives"!==a&&(r[a]=n[a]);r.warn=function(t,e,n){(n?o:i).push(t)};var s=os(e.trim(),r);return s.errors=i,s.tips=o,s}return{compile:e,compileToFunctions:is(e)}})(Ea),cs=(ss.compile,ss.compileToFunctions);function us(t){return(as=as||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',as.innerHTML.indexOf("&#10;")>0}var ls=!!G&&us(!1),ps=!!G&&us(!0),fs=x((function(t){var e=rr(t);return e&&e.innerHTML})),ds=jn.prototype.$mount;jn.prototype.$mount=function(t,e){if((t=t&&rr(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=fs(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(r){var i=cs(r,{outputSourceRange:!1,shouldDecodeNewlines:ls,shouldDecodeNewlinesForHref:ps,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return ds.call(this,t,e)},jn.compile=cs;const hs=jn;var vs,ms=n(655),ys="6.1.0";!function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(vs||(vs={}));var gs,_s=n(844),bs=n(170),ws=n(343),Ss=n(422),xs=n(597);!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(gs||(gs={}));var ks=function(){function t(t){var e=this;this._state=gs.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(gs.RESOLVED,t)},this._reject=function(t){e._setResult(gs.REJECTED,t)},this._setResult=function(t,n){e._state===gs.PENDING&&((0,xs.J8)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==gs.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===gs.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===gs.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,r){if(Array.isArray(e))if(0!==e.length){var i=e.length,o=[];e.forEach((function(e,a){t.resolve(e).then((function(t){o[a]=t,0==(i-=1)&&n(o)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var r=this;return new t((function(t,i){r._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void i(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void i(t)}else i(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var i,o;return n.then((function(t){o=!1,i=t,e&&e()}),(function(t){o=!0,i=t,e&&e()})).then((function(){o?r(i):t(i)}))}))},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),Es=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=(0,ms.fl)(e._breadcrumbs),n._tags=(0,ms.pi)({},e._tags),n._extra=(0,ms.pi)({},e._extra),n._contexts=(0,ms.pi)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=(0,ms.fl)(e._eventProcessors)),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(t){return this._tags=(0,ms.pi)((0,ms.pi)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=(0,ms.pi)((0,ms.pi)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=(0,ms.pi)((0,ms.pi)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=(0,ms.pi)((0,ms.pi)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=(0,ms.pi)((0,ms.pi)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,r,i=this.getSpan();return(null===(t=i)||void 0===t?void 0:t.transaction)?null===(e=i)||void 0===e?void 0:e.transaction:(null===(r=null===(n=i)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?i.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=(0,ms.pi)((0,ms.pi)({},this._tags),e._tags),this._extra=(0,ms.pi)((0,ms.pi)({},this._extra),e._extra),this._contexts=(0,ms.pi)((0,ms.pi)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):(0,xs.PO)(e)&&(e=e,this._tags=(0,ms.pi)((0,ms.pi)({},this._tags),e.tags),this._extra=(0,ms.pi)((0,ms.pi)({},this._extra),e.extra),this._contexts=(0,ms.pi)((0,ms.pi)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=(0,ms.pi)({timestamp:(0,bs.yW)()},t);return this._breadcrumbs=void 0!==e&&e>=0?(0,ms.fl)(this._breadcrumbs,[n]).slice(-e):(0,ms.fl)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=(0,ms.pi)((0,ms.pi)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=(0,ms.pi)((0,ms.pi)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=(0,ms.pi)((0,ms.pi)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=(0,ms.pi)((0,ms.pi)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=(0,ms.pi)({trace:this._span.getTraceContext()},t.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(t.tags=(0,ms.pi)({transaction:r},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=(0,ms.fl)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors((0,ms.fl)(Os(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,r){var i=this;return void 0===r&&(r=0),new ks((function(o,a){var s=t[r];if(null===e||"function"!=typeof s)o(e);else{var c=s((0,ms.pi)({},e),n);(0,xs.J8)(c)?c.then((function(e){return i._notifyEventProcessors(t,e,n,r+1).then(o)})).then(null,a):i._notifyEventProcessors(t,c,n,r+1).then(o).then(null,a)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function Os(){var t=(0,_s.Rf)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function Ts(t){Os().push(t)}var Cs=n(470),As=function(){function t(t){this.errors=0,this.sid=(0,_s.DM)(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=vs.Ok,this.init=!0,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:(0,_s.DM)()),void 0!==t.init&&(this.init=t.init),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),"number"==typeof t.duration?this.duration=t.duration:this.duration=this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===vs.Ok?this.update({status:vs.Exited}):this.update()},t.prototype.toJSON=function(){return(0,Cs.Jr)({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:(0,Cs.Jr)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),js=function(){function t(t,e,n){void 0===e&&(e=new Es),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=Es.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=(0,_s.DM)(),r=e;if(!e){var i=void 0;try{throw new Error("Sentry syntheticException")}catch(t){i=t}r={originalException:t,syntheticException:i}}return this._invokeClient("captureException",t,(0,ms.pi)((0,ms.pi)({},r),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=(0,_s.DM)(),i=n;if(!n){var o=void 0;try{throw new Error(t)}catch(t){o=t}i={originalException:t,syntheticException:o}}return this._invokeClient("captureMessage",t,e,(0,ms.pi)((0,ms.pi)({},i),{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=(0,_s.DM)();return this._invokeClient("captureEvent",t,(0,ms.pi)((0,ms.pi)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),r=n.scope,i=n.client;if(r&&i){var o=i.getOptions&&i.getOptions()||{},a=o.beforeBreadcrumb,s=void 0===a?null:a,c=o.maxBreadcrumbs,u=void 0===c?100:c;if(!(u<=0)){var l=(0,bs.yW)(),p=(0,ms.pi)({timestamp:l},t),f=s?(0,_s.Cf)((function(){return s(p,e)})):p;null!==f&&r.addBreadcrumb(f,Math.min(u,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,r=e.client;n&&r&&t(n)},t.prototype.run=function(t){var e=$s(this);try{t(this)}finally{$s(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return ws.k.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t,e,n,r,i;null===(n=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(i=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===i||i.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,r=e.client,i=r&&r.getOptions()||{},o=i.release,a=i.environment,s=new As((0,ms.pi)((0,ms.pi)({release:o,environment:a},n&&{user:n.getUser()}),t));if(n){var c=n.getSession&&n.getSession();c&&c.status===vs.Ok&&c.update({status:vs.Exited}),this.endSession(),n.setSession(s)}return s},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.getStackTop(),o=i.scope,a=i.client;a&&a[t]&&(e=a)[t].apply(e,(0,ms.fl)(n,[o]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Rs(),i=r.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[t])return i.extensions[t].apply(this,e);ws.k.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function Rs(){var t=(0,_s.Rf)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function $s(t){var e=Rs(),n=Ps(e);return Ns(e,t),n}function Is(){var t=Rs();return Ds(t)&&!Ps(t).isOlderThan(3)||Ns(t,new js),(0,Ss.K)()?function(t){var e,n,r;try{var i=null===(r=null===(n=null===(e=Rs().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;if(!i)return Ps(t);if(!Ds(i)||Ps(i).isOlderThan(3)){var o=Ps(t).getStackTop();Ns(i,new js(o.client,Es.clone(o.scope)))}return Ps(i)}catch(e){return Ps(t)}}(t):Ps(t)}function Ds(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Ps(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new js),t.__SENTRY__.hub}function Ns(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}var Ls,Ms=n(321),Fs=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Us=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Ts((function(e){var n=Is();if(!n)return e;var r=n.getIntegration(t);if(r){var i=n.getClient(),o=i?i.getOptions():{},a=r._mergeOptions(o);if(r._shouldDropEvent(e,a))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(ws.k.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,_s.jH)(t)),!0):this._isIgnoredError(t,e)?(ws.k.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,_s.jH)(t)),!0):this._isDeniedUrl(t,e)?(ws.k.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,_s.jH)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(ws.k.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,_s.jH)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return(0,Ms.zC)(t,e)}))}))},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some((function(t){return(0,Ms.zC)(n,t)}))},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some((function(t){return(0,Ms.zC)(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:(0,ms.fl)(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:(0,ms.fl)(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:(0,ms.fl)(this._options.ignoreErrors||[],t.ignoreErrors||[],Fs),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=void 0===n?"":n,i=e.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(e){return ws.k.error("Cannot extract message for event "+(0,_s.jH)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return ws.k.error("Cannot extract url for event "+(0,_s.jH)(t)),null}},t.id="InboundFilters",t}(),Hs=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Ls=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return Ls.apply(n,t)}},t.id="FunctionToString",t}(),Bs=n(360);function qs(){if(!("fetch"in(0,_s.Rf)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function Ws(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function zs(){if(!qs())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}var Vs,Js,Ks,Gs=(0,_s.Rf)(),Ys={},Xs={};function Zs(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(Ys[t.type]=Ys[t.type]||[],Ys[t.type].push(t.callback),function(t){if(!Xs[t])switch(Xs[t]=!0,t){case"console":"console"in Gs&&["debug","info","warn","error","log","assert"].forEach((function(t){t in Gs.console&&(0,Cs.hl)(Gs.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Qs("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,Gs.console,n)}}))}));break;case"dom":!function(){if("document"in Gs){var t=Qs.bind(null,"dom"),e=nc(t,!0);Gs.document.addEventListener("click",e,!1),Gs.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=Gs[e]&&Gs[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,Cs.hl)(n,"addEventListener",(function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){var s=nc(t);a.handler=s,e.call(this,n,s,i)}a.refCount+=1}catch(t){}return e.call(this,n,r,i)}})),(0,Cs.hl)(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var i=this.__sentry_instrumentation_handlers__||{},o=i[e];o&&(o.refCount-=1,o.refCount<=0&&(t.call(this,e,o.handler,r),o.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}}();break;case"xhr":!function(){if("XMLHttpRequest"in Gs){var t=[],e=[],n=XMLHttpRequest.prototype;(0,Cs.hl)(n,"open",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=this,a=r[1];o.__sentry_xhr__={method:(0,xs.HD)(r[0])?r[0].toUpperCase():r[0],url:r[1]},(0,xs.HD)(a)&&"POST"===o.__sentry_xhr__.method&&a.match(/sentry_key/)&&(o.__sentry_own_request__=!0);var s=function(){if(4===o.readyState){try{o.__sentry_xhr__&&(o.__sentry_xhr__.status_code=o.status)}catch(t){}try{var n=t.indexOf(o);if(-1!==n){t.splice(n);var i=e.splice(n)[0];o.__sentry_xhr__&&void 0!==i[0]&&(o.__sentry_xhr__.body=i[0])}}catch(t){}Qs("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:o})}};return"onreadystatechange"in o&&"function"==typeof o.onreadystatechange?(0,Cs.hl)(o,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return s(),t.apply(o,e)}})):o.addEventListener("readystatechange",s),n.apply(o,r)}})),(0,Cs.hl)(n,"send",(function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return t.push(this),e.push(r),Qs("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}}();break;case"fetch":(function(){if(!qs())return!1;var t=(0,_s.Rf)();if(Ws(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=Ws(r.contentWindow.fetch)),n.head.removeChild(r)}catch(t){ws.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e})()&&(0,Cs.hl)(Gs,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:tc(e),url:ec(e)},startTimestamp:Date.now()};return Qs("fetch",(0,ms.pi)({},r)),t.apply(Gs,e).then((function(t){return Qs("fetch",(0,ms.pi)((0,ms.pi)({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw Qs("fetch",(0,ms.pi)((0,ms.pi)({},r),{endTimestamp:Date.now(),error:t})),t}))}}));break;case"history":!function(){if(function(){var t=(0,_s.Rf)(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}()){var t=Gs.onpopstate;Gs.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Gs.location.href,i=Vs;if(Vs=r,Qs("history",{from:i,to:r}),t)return t.apply(this,e)},(0,Cs.hl)(Gs.history,"pushState",e),(0,Cs.hl)(Gs.history,"replaceState",e)}function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var i=Vs,o=String(r);Vs=o,Qs("history",{from:i,to:o})}return t.apply(this,e)}}}();break;case"error":rc=Gs.onerror,Gs.onerror=function(t,e,n,r,i){return Qs("error",{column:r,error:i,line:n,msg:t,url:e}),!!rc&&rc.apply(this,arguments)};break;case"unhandledrejection":ic=Gs.onunhandledrejection,Gs.onunhandledrejection=function(t){return Qs("unhandledrejection",t),!ic||ic.apply(this,arguments)};break;default:ws.k.warn("unknown instrumentation type:",t)}}(t.type))}function Qs(t,e){var n,r;if(t&&Ys[t])try{for(var i=(0,ms.XA)(Ys[t]||[]),o=i.next();!o.done;o=i.next()){var a=o.value;try{a(e)}catch(e){ws.k.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+(0,Bs.$)(a)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function tc(t){return void 0===t&&(t=[]),"Request"in Gs&&(0,xs.V9)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function ec(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in Gs&&(0,xs.V9)(t[0],Request)?t[0].url:String(t[0])}function nc(t,e){return void 0===e&&(e=!1),function(n){if(n&&Ks!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===Js||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(Ks,n))&&(t({event:n,name:r,global:e}),Ks=n),clearTimeout(Js),Js=Gs.setTimeout((function(){Js=void 0}),1e3)}}}var rc=null,ic=null,oc=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}),ac=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,oc(r,n.prototype),r}return(0,ms.ZT)(e,t),e}(Error),sc=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,cc=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,r=e.path,i=e.pass,o=e.port,a=e.projectId;return e.protocol+"://"+e.publicKey+(t&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+a},t.prototype._fromString=function(t){var e=sc.exec(t);if(!e)throw new ac("Invalid Dsn");var n=(0,ms.CR)(e.slice(1),6),r=n[0],i=n[1],o=n[2],a=void 0===o?"":o,s=n[3],c=n[4],u=void 0===c?"":c,l="",p=n[5],f=p.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),p=f.pop()),p){var d=p.match(/^\d+/);d&&(p=d[0])}this._fromComponents({host:s,pass:a,path:l,projectId:p,port:u,protocol:r,publicKey:i})},t.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new ac("Invalid Dsn: "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new ac("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new ac("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new ac("Invalid Dsn: Invalid port "+this.port)},t}(),uc=[];var lc,pc=function(){function t(t,e){this._integrations={},this._processing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new cc(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this,i=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return r._captureEvent(t,e,n)})).then((function(t){i=t}))),i},t.prototype.captureMessage=function(t,e,n,r){var i=this,o=n&&n.event_id,a=(0,xs.pt)(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(a.then((function(t){return i._captureEvent(t,n,r)})).then((function(t){o=t}))),o},t.prototype.captureEvent=function(t,e,n){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){r=t}))),r},t.prototype.captureSession=function(t){t.release?(this._sendSession(t),t.update({init:!1})):ws.k.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return e._getBackend().getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=function(t){var e={};return function(t){var e=t.defaultIntegrations&&(0,ms.fl)(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var i=n.map((function(t){return t.name})),o=[];e.forEach((function(t){-1===i.indexOf(t.name)&&-1===o.indexOf(t.name)&&(r.push(t),o.push(t.name))})),n.forEach((function(t){-1===o.indexOf(t.name)&&(r.push(t),o.push(t.name))}))}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=(0,ms.fl)(e);var a=r.map((function(t){return t.name})),s="Debug";return-1!==a.indexOf(s)&&r.push.apply(r,(0,ms.fl)(r.splice(a.indexOf(s),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===uc.indexOf(t.name)&&(t.setupOnce(Ts,Is),uc.push(t.name),ws.k.log("Integration installed: "+t.name))}(t)})),e}(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return ws.k.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,i,o=!1,a=!1,s=e.exception&&e.exception.values;if(s){a=!0;try{for(var c=(0,ms.XA)(s),u=c.next();!u.done;u=c.next()){var l=u.value.mechanism;if(l&&!1===l.handled){o=!0;break}}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var p=e.user;if(!t.userAgent){var f=e.request?e.request.headers:{};for(var d in f)if("user-agent"===d.toLowerCase()){i=f[d];break}}t.update((0,ms.pi)((0,ms.pi)({},o&&{status:vs.Crashed}),{user:p,userAgent:i,errors:t.errors+Number(a||o)})),this.captureSession(t)},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientProcessing=function(t){var e=this;return new ks((function(n){var r=0,i=setInterval((function(){0==e._processing?(clearInterval(i),n(!0)):(r+=1,t&&r>=t&&(clearInterval(i),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,i=this.getOptions().normalizeDepth,o=void 0===i?3:i,a=(0,ms.pi)((0,ms.pi)({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:(0,_s.DM)()),timestamp:t.timestamp||(0,bs.yW)()});this._applyClientOptions(a),this._applyIntegrationsMetadata(a);var s=e;n&&n.captureContext&&(s=Es.clone(s).update(n.captureContext));var c=ks.resolve(a);return s&&(c=s.applyToEvent(a,n)),c.then((function(t){return"number"==typeof o&&o>0?r._normalizeEvent(t,o):t}))},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=(0,ms.pi)((0,ms.pi)((0,ms.pi)((0,ms.pi)((0,ms.pi)({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return(0,ms.pi)((0,ms.pi)({},t),t.data&&{data:(0,Cs.Fv)(t.data,e)})}))}),t.user&&{user:(0,Cs.Fv)(t.user,e)}),t.contexts&&{contexts:(0,Cs.Fv)(t.contexts,e)}),t.extra&&{extra:(0,Cs.Fv)(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,i=e.dist,o=e.maxValueLength,a=void 0===o?250:o;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=(0,Ms.$G)(t.message,a));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=(0,Ms.$G)(s.value,a));var c=t.request;c&&c.url&&(c.url=(0,Ms.$G)(c.url,a))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){ws.k.error(t)}))},t.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate;if(!this._isEnabled())return ks.reject(new ac("SDK not enabled, will not send event."));var s="transaction"===t.type;return!s&&"number"==typeof a&&Math.random()>a?ks.reject(new ac("Discarding event because it's not included in the random sample (sampling rate = "+a+")")):this._prepareEvent(t,n,e).then((function(t){if(null===t)throw new ac("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||s||!o)return t;var n=o(t,e);if(void 0===n)throw new ac("`beforeSend` method has to return `null` or a valid event.");return(0,xs.J8)(n)?n.then((function(t){return t}),(function(t){throw new ac("beforeSend rejected with "+t)})):n})).then((function(t){if(null===t)throw new ac("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!s&&e&&r._updateSessionFromEvent(e,t),r._sendEvent(t),t})).then(null,(function(t){if(t instanceof ac)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new ac("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._processing+=1,t.then((function(t){return e._processing-=1,t}),(function(t){return e._processing-=1,t}))},t}();!function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(lc||(lc={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(lc||(lc={}));var fc,dc=function(){function t(){}return t.prototype.sendEvent=function(t){return ks.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:lc.Skipped})},t.prototype.close=function(t){return ks.resolve(!0)},t}(),hc=function(){function t(t){this._options=t,this._options.dsn||ws.k.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new ac("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new ac("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){ws.k.error("Error while sending event: "+t)}))},t.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,(function(t){ws.k.error("Error while sending session: "+t)})):ws.k.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new dc},t}();!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(fc||(fc={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(fc||(fc={}));var vc="?",mc=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,yc=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,gc=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,_c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,bc=/\((\S*)(?::(\d+))(?::(\d+))\)/,wc=/Minified React error #\d+;/i;function Sc(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:wc.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.stacktrace.split("\n"),o=[],a=0;a<i.length;a+=2){var s=null;(e=n.exec(i[a]))?s={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=r.exec(i[a]))&&(s={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),s&&(!s.func&&s.line&&(s.func=vc),o.push(s))}return o.length?{message:kc(t),name:t.name,stack:o}:null}(t))return xc(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,i=[],o=t.stack.split("\n"),a=0;a<o.length;++a){if(n=mc.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=bc.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||vc,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=gc.exec(o[a]))r={url:n[2],func:n[1]||vc,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=yc.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=_c.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==a||n[5]||void 0===t.columnNumber||(i[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||vc,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=vc),i.push(r)}return i.length?{message:kc(t),name:t.name,stack:i}:null}(t))return xc(e,n)}catch(t){}return{message:kc(t),name:t&&t.name,stack:[],failed:!0}}function xc(t,e){try{return(0,ms.pi)((0,ms.pi)({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function kc(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Ec(t){var e=Tc(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Oc(t){return{exception:{values:[Ec(t)]}}}function Tc(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function Cc(t,e,n){var r;if(void 0===n&&(n={}),(0,xs.VW)(t)&&t.error)return Oc(Sc(t=t.error));if((0,xs.TX)(t)||(0,xs.fm)(t)){var i=t,o=i.name||((0,xs.TX)(i)?"DOMError":"DOMException"),a=i.message?o+": "+i.message:o;return r=Ac(a,e,n),(0,_s.Db)(r,a),"code"in i&&(r.tags=(0,ms.pi)((0,ms.pi)({},r.tags),{"DOMException.code":""+i.code})),r}return(0,xs.VZ)(t)?r=Oc(Sc(t)):(0,xs.PO)(t)||(0,xs.cO)(t)?(r=function(t,e,n){var r={exception:{values:[{type:(0,xs.cO)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,Cs.zf)(t)}]},extra:{__serialized__:(0,Cs.Qy)(t)}};if(e){var i=Tc(Sc(e).stack);r.stacktrace={frames:i}}return r}(t,e,n.rejection),(0,_s.EG)(r,{synthetic:!0}),r):(r=Ac(t,e,n),(0,_s.Db)(r,""+t,void 0),(0,_s.EG)(r,{synthetic:!0}),r)}function Ac(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var i=Tc(Sc(e).stack);r.stacktrace={frames:i}}return r}function jc(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function Rc(t,e){return e?(t.sdk=t.sdk||{name:e.name,version:e.version},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=(0,ms.fl)(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=(0,ms.fl)(t.sdk.packages||[],e.packages||[]),t):t}function $c(t,e){var n=jc(e);return{body:JSON.stringify((0,ms.pi)({sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function Ic(t,e){var n=jc(e),r=t.type||"event",i="transaction"===r,o=t.debug_meta||{},a=o.transactionSampling,s=(0,ms._T)(o,["transactionSampling"]),c=a||{},u=c.method,l=c.rate;0===Object.keys(s).length?delete t.debug_meta:t.debug_meta=s;var p={body:JSON.stringify(n?Rc(t,e.metadata.sdk):t),type:r,url:i?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(i){var f=JSON.stringify((0,ms.pi)({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:t.type,sample_rates:[{id:u,rate:l}]})+"\n"+p.body;p.body=f}return p}var Dc=function(){function t(t,e){void 0===e&&(e={}),this.dsn=t,this._dsnObject=new cc(t),this.metadata=e}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+e.toString()),t)if("dsn"!==i)if("user"===i){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return r.length?n+"?"+r.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype._encodedAuth=function(){var t={sentry_key:this._dsnObject.publicKey,sentry_version:"7"};return(0,Cs._j)(t)},t}(),Pc=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):ks.reject(new ac("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new ks((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);ks.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},t}(),Nc=function(){function t(t){this.options=t,this._buffer=new Pc(30),this._rateLimits={},this._api=new Dc(t.dsn,t._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new ac("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,i=t.resolve,o=t.reject,a=lc.fromHttpCode(n.status);this._handleRateLimit(r)&&ws.k.warn("Too many requests, backing off until: "+this._disabledUntil(e)),a!==lc.Success?o(n):i({status:a})},t.prototype._disabledUntil=function(t){return this._rateLimits[t]||this._rateLimits.all},t.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},t.prototype._handleRateLimit=function(t){var e,n,r,i,o=Date.now(),a=t["x-sentry-rate-limits"],s=t["retry-after"];if(a){try{for(var c=(0,ms.XA)(a.trim().split(",")),u=c.next();!u.done;u=c.next()){var l=u.value.split(":",2),p=parseInt(l[0],10),f=1e3*(isNaN(p)?60:p);try{for(var d=(r=void 0,(0,ms.XA)(l[1].split(";"))),h=d.next();!h.done;h=d.next()){var v=h.value;this._rateLimits[v||"all"]=new Date(o+f)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return!0}return!!s&&(this._rateLimits.all=new Date(o+(0,_s.JY)(o,s)),!0)},t}(),Lc=(0,_s.Rf)(),Mc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ms.ZT)(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(Ic(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest($c(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:zs()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new ks((function(e,i){Lc.fetch(t.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:o,resolve:e,reject:i})})).catch(i)})))},e}(Nc),Fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ms.ZT)(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(Ic(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest($c(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429}):this._buffer.add(new ks((function(e,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:i,headers:o,resolve:e,reject:r})}},i.open("POST",t.url),n.options.headers)n.options.headers.hasOwnProperty(o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(t.body)})))},e}(Nc),Uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,ms.ZT)(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=Cc(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return(0,_s.EG)(r,{handled:!0,type:"generic"}),r.level=fc.Error,n&&n.event_id&&(r.event_id=n.event_id),ks.resolve(r)}(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=fc.Info),function(t,e,n,r){void 0===n&&(n=fc.Info);var i=Ac(e,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),ks.resolve(i)}(this._options,t,e,n)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=(0,ms.pi)((0,ms.pi)({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(e):qs()?new Mc(e):new Fc(e)},e}(hc);function Hc(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Is();if(r&&r[t])return r[t].apply(r,(0,ms.fl)(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function Bc(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return Hc("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function qc(t){Hc("withScope",t)}var Wc=0;function zc(){return Wc>0}function Vc(){Wc+=1,setTimeout((function(){Wc-=1}))}function Jc(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map((function(t){return Jc(t,e)}));return t.handleEvent?t.handleEvent.apply(this,i):t.apply(this,i)}catch(t){throw Vc(),qc((function(n){n.addEventProcessor((function(t){var n=(0,ms.pi)({},t);return e.mechanism&&((0,_s.Db)(n,void 0,void 0),(0,_s.EG)(n,e.mechanism)),n.extra=(0,ms.pi)((0,ms.pi)({},n.extra),{arguments:r}),n})),Bc(t)})),t}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch(t){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(t){}return r}var Kc=n(464),Gc=function(){function t(e){this.name=t.id,this._options=(0,ms.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&Is().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,_s.jH)(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this._options.console&&Zs({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,(0,ms.fl)(e))},type:"console"}),this._options.dom&&Zs({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,(0,ms.fl)(e))},type:"dom"}),this._options.xhr&&Zs({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,(0,ms.fl)(e))},type:"xhr"}),this._options.fetch&&Zs({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,(0,ms.fl)(e))},type:"fetch"}),this._options.history&&Zs({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,(0,ms.fl)(e))},type:"history"})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:fc.fromString(t.level),message:(0,Ms.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+((0,Ms.nK)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}Is().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?(0,Kc.R)(t.event.target):(0,Kc.R)(t.event)}catch(t){e="<unknown>"}0!==e.length&&Is().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name,global:t.global})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,i=e.status_code,o=e.body;Is().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:t.xhr,input:o})}},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?Is().addBreadcrumb({category:"fetch",data:t.fetchData,level:fc.Error,type:"http"},{data:t.error,input:t.args}):Is().addBreadcrumb({category:"fetch",data:(0,ms.pi)((0,ms.pi)({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=(0,_s.Rf)(),n=t.from,r=t.to,i=(0,_s.en)(e.location.href),o=(0,_s.en)(n),a=(0,_s.en)(r);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),Is().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},t.id="Breadcrumbs",t}(),Yc=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Uc,e)||this}return(0,ms.ZT)(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),(0,_s.Rf)().document&&(this._isEnabled()?function(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new Dc(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else ws.k.error("Missing dsn option in showReportDialog call");else ws.k.error("Missing eventId option in showReportDialog call")}((0,ms.pi)((0,ms.pi)({},t),{dsn:t.dsn||this.getDsn()})):ws.k.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(Gc);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(pc),Xc=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Zc=function(){function t(e){this.name=t.id,this._options=(0,ms.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=(0,_s.Rf)();this._options.setTimeout&&(0,Cs.hl)(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&(0,Cs.hl)(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&(0,Cs.hl)(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,Cs.hl)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:Xc).forEach(this._wrapEventTarget.bind(this))},t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=Jc(r,{mechanism:{data:{function:(0,Bs.$)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,Jc(e,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,Bs.$)(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=(0,_s.Rf)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,Cs.hl)(n,"addEventListener",(function(e){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=Jc(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,Bs.$)(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,Jc(r,{mechanism:{data:{function:"addEventListener",handler:(0,Bs.$)(r),target:t},handled:!0,type:"instrument"}}),i)}})),(0,Cs.hl)(n,"removeEventListener",(function(t){return function(e,n,r){var i,o=n;try{var a=null===(i=o)||void 0===i?void 0:i.__sentry_wrapped__;a&&t.call(this,e,a,r)}catch(t){}return t.call(this,e,o,r)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(t){t in r&&"function"==typeof r[t]&&(0,Cs.hl)(r,t,(function(e){var n={mechanism:{data:{function:t,handler:(0,Bs.$)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=(0,Bs.$)(e.__sentry_original__)),Jc(e,n)}))})),t.apply(this,e)}},t.id="TryCatch",t}(),Qc=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=(0,ms.pi)({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(ws.k.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(ws.k.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(Zs({callback:function(n){var r=n.error,i=Is(),o=i.getIntegration(t),a=r&&!0===r.__sentry_own_request__;if(o&&!zc()&&!a){var s=i.getClient(),c=(0,xs.pt)(r)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(Cc(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);(0,_s.EG)(c,{handled:!1,type:"onerror"}),i.captureEvent(c,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(Zs({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(t){}var i=Is(),o=i.getIntegration(t),a=r&&!0===r.__sentry_own_request__;if(!o||zc()||a)return!0;var s=i.getClient(),c=(0,xs.pt)(r)?e._eventFromRejectionWithPrimitive(r):Cc(r,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});c.level=fc.Error,(0,_s.EG)(c,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(c,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var i,o=(0,xs.VW)(t)?t.message:t;if((0,xs.HD)(o)){var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(i=a[1],o=a[2])}var s={exception:{values:[{type:i||"Error",value:o}]}};return this._enhanceEventWithInitialFrame(s,e,n,r)},t.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,o=isNaN(parseInt(n,10))?void 0:n,a=(0,xs.HD)(e)&&e.length>0?e:(0,_s.l4)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:i,filename:a,function:"?",in_app:!0,lineno:o}),t},t.id="GlobalHandlers",t}(),tu=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){Ts((function(e,n){var r=Is().getIntegration(t);return r?r._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&(0,xs.V9)(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=(0,ms.fl)(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!(0,xs.V9)(t[e],Error)||n.length+1>=this._limit)return n;var r=Ec(Sc(t[e]));return this._walkErrorTree(t[e],e,(0,ms.fl)([r],n))},t.id="LinkedErrors",t}(),eu=(0,_s.Rf)(),nu=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Ts((function(e){var n,r,i;if(Is().getIntegration(t)){if(!eu.navigator&&!eu.location&&!eu.document)return e;var o=(null===(n=e.request)||void 0===n?void 0:n.url)||(null===(r=eu.location)||void 0===r?void 0:r.href),a=(eu.document||{}).referrer,s=(eu.navigator||{}).userAgent,c=(0,ms.pi)((0,ms.pi)((0,ms.pi)({},null===(i=e.request)||void 0===i?void 0:i.headers),a&&{Referer:a}),s&&{"User-Agent":s}),u=(0,ms.pi)((0,ms.pi)({},o&&{url:o}),{headers:c});return(0,ms.pi)((0,ms.pi)({},e),{request:u})}return e}))},t.id="UserAgent",t}(),ru=[new Us,new Hs,new Zc,new Gc,new Qc,new tu,new nu];var iu=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;var ou,au,su={activate:["activated","deactivated"],create:["beforeCreate","created"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]},cu=/(?:^|[-_/])(\w)/g,uu="root",lu="anonymous component",pu=function(){function t(t){var e=this;this._componentsCache={},this._applyTracingHooks=function(t){if(!t.$options.$_sentryPerfHook){t.$options.$_sentryPerfHook=!0;var n=e._getComponentName(t),r=n===uu,i={},o=function(n){var r=(0,bs._I)();e._rootSpan?e._finishRootSpan(r):t.$once("hook:"+n,(function(){var t=fu();t&&(e._rootSpan=t.startChild({description:"Application Render",op:"Vue"}))}))},a=function(r,o){var a=Array.isArray(e._options.tracingOptions.trackComponents)?e._options.tracingOptions.trackComponents.indexOf(n)>-1:e._options.tracingOptions.trackComponents,s=e._rootSpan||fu();if(s&&a){var c=(0,bs._I)(),u=i[o];u?(u.finish(),e._finishRootSpan(c)):t.$once("hook:"+r,(function(){s&&(i[o]=s.startChild({description:"Vue <"+n+">",op:o}))}))}};e._options.tracingOptions.hooks.forEach((function(n){var i=su[n];i?i.forEach((function(i){var s=r?o.bind(e,i):a.bind(e,i,n),c=t.$options[i];Array.isArray(c)?t.$options[i]=(0,ms.fl)([s],c):t.$options[i]="function"==typeof c?[s,c]:[s]})):ws.k.warn("Unknown hook: "+n)}))}},this._options=t}return t.prototype.setup=function(){this._attachErrorHandler(),("tracesSampleRate"in this._options||"tracesSampler"in this._options)&&this._startTracing()},t.prototype._getComponentName=function(t){if(!t)return lu;if(t.$root===t)return uu;if(!t.$options)return lu;if(t.$options.name)return t.$options.name;if(t.$options._componentTag)return t.$options._componentTag;if(t.$options.__file){var e=function(t,e){var n=function(t){var e=iu.exec(t);return e?e.slice(1):[]}(t)[2];return n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n}(t.$options.__file.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"),".vue");return this._componentsCache[e]||(this._componentsCache[e]=e.replace(cu,(function(t,e){return e?e.toUpperCase():""})))}return lu},t.prototype._finishRootSpan=function(t){var e=this;this._rootSpanTimer&&clearTimeout(this._rootSpanTimer),this._rootSpanTimer=setTimeout((function(){e._rootSpan&&(e._rootSpan.finish(t),e._rootSpan=void 0)}),this._options.tracingOptions.timeout)},t.prototype._startTracing=function(){var t=this._applyTracingHooks,e=setTimeout((function(){ws.k.warn("Didn't apply tracing hooks, make sure you call Sentry.init before initialzing Vue!")}),500);this._options.Vue.mixin({beforeCreate:function(){clearTimeout(e),t(this)}})},t.prototype._attachErrorHandler=function(){var t=this,e=this._options.Vue.config.errorHandler;this._options.Vue.config.errorHandler=function(n,r,i){var o={};if(r)try{o.componentName=t._getComponentName(r),t._options.attachProps&&(o.propsData=r.$options.propsData)}catch(t){ws.k.warn("Unable to extract metadata from Vue component.")}i&&(o.lifecycleHook=i),setTimeout((function(){Is().withScope((function(t){t.setContext("vue",o),Is().captureException(n)}))})),"function"==typeof e&&e.call(t._options.Vue,n,r,i),t._options.logErrors&&(t._options.Vue.util&&t._options.Vue.util.warn("Error in "+i+': "'+(n&&n.toString())+'"',r),console.error(n))}},t}();function fu(){var t;return null===(t=Is().getScope())||void 0===t?void 0:t.getTransaction()}!function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}(ou||(ou={})),function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(au||(au={})),function(t){t.fromHttpCode=function(e){if(e<400)return t.Ok;if(e>=400&&e<500)switch(e){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}}(au||(au={}));var du=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function hu(t){return"tracesSampleRate"in t||"tracesSampler"in t}function vu(t){var e,n;return void 0===t&&(t=Is()),null===(n=null===(e=t)||void 0===e?void 0:e.getScope())||void 0===n?void 0:n.getTransaction()}function mu(t){return t/1e3}function yu(){var t=vu();t&&(ws.k.log("[Tracing] Transaction: "+au.InternalError+" -> Global error occured"),t.setStatus(au.InternalError))}var gu=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),_u=function(t){function e(e,n){var r=t.call(this,e)||this;return r._metadata={},r._measurements={},r._hub=Is(),(0,xs.V9)(n,js)&&(r._hub=n),r.name=e.name||"",r._trimEnd=e.trimEnd,r.transaction=r,r}return(0,ms.ZT)(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new gu(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=(0,ms.pi)({},t)},e.prototype.setMetadata=function(t){this._metadata=(0,ms.pi)((0,ms.pi)({},this._metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(ws.k.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this._metadata};return Object.keys(this._measurements).length>0&&(ws.k.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),this._hub.captureEvent(i)}ws.k.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return(0,Cs.Jr)((0,ms.pi)((0,ms.pi)({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!=(n=e.name)?n:"",this._trimEnd=e.trimEnd,this},e}(function(){function t(t){if(this.traceId=(0,_s.DM)(),this.spanId=(0,_s.DM)().substring(16),this.startTimestamp=(0,bs._I)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t((0,ms.pi)((0,ms.pi)({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=(0,ms.pi)((0,ms.pi)({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=(0,ms.pi)((0,ms.pi)({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=au.fromHttpCode(t);return e!==au.UnknownError&&this.setStatus(e),this},t.prototype.isSuccess=function(){return this.status===au.Ok},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:(0,bs._I)()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return(0,Cs.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,i,o;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(r=t.startTimestamp)?r:this.startTimestamp,this.status=t.status,this.tags=null!=(i=t.tags)?i:{},this.traceId=null!=(o=t.traceId)?o:this.traceId,this},t.prototype.getTraceContext=function(){return(0,Cs.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return(0,Cs.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()),bu=function(t){function e(e,n,r,i){void 0===r&&(r="");var o=t.call(this,i)||this;return o._pushActivity=e,o._popActivity=n,o.transactionSpanId=r,o}return(0,ms.ZT)(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:(0,bs._I)(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(gu),wu=function(t){function e(e,n,r,i){void 0===r&&(r=1e3),void 0===i&&(i=!1);var o=t.call(this,e,n)||this;return o._idleHub=n,o._idleTimeout=r,o._onScope=i,o.activities={},o._heartbeatTimer=0,o._heartbeatCounter=0,o._finished=!1,o._beforeFinishCallbacks=[],n&&i&&(Su(n),ws.k.log("Setting idle transaction on scope. Span ID: "+o.spanId),n.configureScope((function(t){return t.setSpan(o)}))),o._initTimeout=setTimeout((function(){o._finished||o.finish()}),o._idleTimeout),o}return(0,ms.ZT)(e,t),e.prototype.finish=function(e){var n,r,i=this;if(void 0===e&&(e=(0,bs._I)()),this._finished=!0,this.activities={},this.spanRecorder){ws.k.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var o=(0,ms.XA)(this._beforeFinishCallbacks),a=o.next();!a.done;a=o.next())(0,a.value)(this,e)}catch(t){n={error:t}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===i.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus(au.Cancelled),ws.k.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||ws.k.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),ws.k.log("[Tracing] flushing IdleTransaction")}else ws.k.log("[Tracing] No active IdleTransaction");return this._onScope&&Su(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;this.spanRecorder||(this.spanRecorder=new bu((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),ws.k.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),ws.k.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,ws.k.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(ws.k.log("[Tracing] popActivity "+t),delete this.activities[t],ws.k.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=(0,bs._I)()+n/1e3;setTimeout((function(){e._finished||e.finish(r)}),n)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var t=Object.keys(this.activities),e=t.length?t.reduce((function(t,e){return t+e})):"";e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(ws.k.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(au.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;ws.k.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){t._beat()}),5e3)},e}(_u);function Su(t){if(t){var e=t.getScope();e&&e.getTransaction()&&e.setSpan(void 0)}}function xu(t,e,n){var r,i,o,a=t.getClient(),s=a&&a.getOptions()||{};return a&&hu(s)?void 0!==e.sampled?(e.setMetadata({transactionSampling:{method:ou.Explicit}}),e):("function"==typeof s.tracesSampler?(i=s.tracesSampler(n),e.setMetadata({transactionSampling:{method:ou.Sampler,rate:Number(i)}})):void 0!==n.parentSampled?(i=n.parentSampled,e.setMetadata({transactionSampling:{method:ou.Inheritance}})):(i=s.tracesSampleRate,e.setMetadata({transactionSampling:{method:ou.Rate,rate:Number(i)}})),o=i,(isNaN(o)||"number"!=typeof o&&"boolean"!=typeof o?(ws.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(o)+" of type "+JSON.stringify(typeof o)+"."),0):!(o<0||o>1)||(ws.k.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+o+"."),0))?i?(e.sampled=Math.random()<i,e.sampled?(e.initSpanRecorder(null===(r=s._experiments)||void 0===r?void 0:r.maxSpans),ws.k.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(ws.k.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(i)+")"),e)):(ws.k.log("[Tracing] Discarding transaction because "+("function"==typeof s.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(ws.k.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e)}var ku,Eu,Ou=(0,_s.Rf)(),Tu=function(t,e,n,r){var i;return function(){n&&e.isFinal&&n.disconnect(),e.value>=0&&(r||e.isFinal||"hidden"===document.visibilityState)&&(e.delta=e.value-(i||0),(e.delta||e.isFinal||void 0===i)&&(t(e),i=e.value))}},Cu=function(t,e){return void 0===e&&(e=-1),{name:t,value:e,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},Au=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},ju=!1,Ru=!1,$u=function(t){ju=!t.persisted},Iu=function(t,e){void 0===e&&(e=!1),Ru||(addEventListener("pagehide",$u),addEventListener("beforeunload",(function(){})),Ru=!0),addEventListener("visibilitychange",(function(e){var n=e.timeStamp;"hidden"===document.visibilityState&&t({timeStamp:n,isUnloading:ju})}),{capture:!0,once:e})},Du=function(){return void 0===ku&&(ku="hidden"===document.visibilityState?0:1/0,Iu((function(t){var e=t.timeStamp;return ku=e}),!0)),{get timeStamp(){return ku}}},Pu=(0,_s.Rf)(),Nu=(0,_s.Rf)(),Lu=function(){function t(){this._measurements={},this._performanceCursor=0,Nu&&Nu.performance&&(Nu.performance.mark&&Nu.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(Nu&&Nu.performance&&Nu.performance.getEntries&&bs.Z1){ws.k.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i,o=mu(bs.Z1);if(Nu.document)for(var a=0;a<document.scripts.length;a++)if("true"===document.scripts[a].dataset.entry){n=document.scripts[a].src;break}if(Nu.performance.getEntries().slice(this._performanceCursor).forEach((function(a){var s=mu(a.startTime),c=mu(a.duration);if(!("navigation"===t.op&&o+s<t.startTimestamp))switch(a.entryType){case"navigation":!function(t,e,n){Mu(t,e,"unloadEvent",n),Mu(t,e,"redirect",n),Mu(t,e,"domContentLoadedEvent",n),Mu(t,e,"loadEvent",n),Mu(t,e,"connect",n),Mu(t,e,"secureConnection",n,"connectEnd"),Mu(t,e,"fetch",n,"domainLookupStart"),Mu(t,e,"domainLookup",n),function(t,e,n){Fu(t,{op:"browser",description:"request",startTimestamp:n+mu(e.requestStart),endTimestamp:n+mu(e.responseEnd)}),Fu(t,{op:"browser",description:"response",startTimestamp:n+mu(e.responseStart),endTimestamp:n+mu(e.responseEnd)})}(t,e,n)}(t,a,o);break;case"mark":case"paint":case"measure":var u=function(t,e,n,r,i){var o=i+n,a=o+r;return Fu(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:o}),o}(t,a,s,c,o);void 0===i&&"sentry-tracing-init"===a.name&&(i=u);var l=Du(),p=a.startTime<l.timeStamp;"first-paint"===a.name&&p&&(ws.k.log("[Measurements] Adding FP"),e._measurements.fp={value:a.startTime},e._measurements["mark.fp"]={value:u}),"first-contentful-paint"===a.name&&p&&(ws.k.log("[Measurements] Adding FCP"),e._measurements.fcp={value:a.startTime},e._measurements["mark.fcp"]={value:u});break;case"resource":var f=a.name.replace(window.location.origin,""),d=function(t,e,n,r,i,o){if("xmlhttprequest"!==e.initiatorType&&"fetch"!==e.initiatorType){var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var s=o+r,c=s+i;return Fu(t,{description:n,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:s,data:a}),c}}(t,a,f,s,c,o);void 0===r&&(n||"").indexOf(f)>-1&&(r=d)}})),void 0!==r&&void 0!==i&&Fu(t,{description:"evaluation",endTimestamp:i,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var s=mu(bs.Z1);["fcp","fp","lcp","ttfb"].forEach((function(n){if(e._measurements[n]&&!(s>=t.startTimestamp)){var r=e._measurements[n].value,i=s+mu(r),o=Math.abs(1e3*(i-t.startTimestamp)),a=o-r;ws.k.log("[Measurements] Normalized "+n+" from "+r+" to "+o+" ("+a+")"),e._measurements[n].value=o}})),this._measurements["mark.fid"]&&this._measurements.fid&&Fu(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+mu(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements)}}},t.prototype._trackCLS=function(){var t=this;!function(e,n){void 0===n&&(n=!1);var r,i=Cu("CLS",0),o=function(t){t.hadRecentInput||(i.value+=t.value,i.entries.push(t),r())},a=Au("layout-shift",o);a&&(r=Tu((function(e){e.entries.pop()&&(ws.k.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value})}),i,a,n),Iu((function(t){var e=t.isUnloading;a.takeRecords().map(o),e&&(i.isFinal=!0),r()})))}()},t.prototype._trackNavigator=function(t){var e=Nu.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),Uu(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),Uu(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),Uu(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),Uu(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackLCP=function(){var t=this;!function(t,e){void 0===e&&(e=!1);var n,r=Cu("LCP"),i=Du(),o=function(t){var e=t.startTime;e<i.timeStamp?(r.value=e,r.entries.push(t)):r.isFinal=!0,n()},a=Au("largest-contentful-paint",o);if(a){n=Tu(t,r,a,e);var s=function(){r.isFinal||(a.takeRecords().map(o),r.isFinal=!0,n())};(Eu||(Eu=new Promise((function(t){return["scroll","keydown","pointerdown"].map((function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})}))}))),Eu).then(s),Iu(s,!0)}}((function(e){var n=e.entries.pop();if(n){var r=mu(performance.timeOrigin),i=mu(n.startTime);ws.k.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:r+i}}}))},t.prototype._trackFID=function(){var t,e,n,r,i,o,a=this;t=function(t){var e=t.entries.pop();if(e){var n=mu(performance.timeOrigin),r=mu(e.startTime);ws.k.log("[Measurements] Adding FID"),a._measurements.fid={value:t.value},a._measurements["mark.fid"]={value:n+r}}},e=Cu("FID"),n=Du(),i=Au("first-input",r=function(t){t.startTime<n.timeStamp&&(e.value=t.processingStart-t.startTime,e.entries.push(t),e.isFinal=!0,o())}),o=Tu(t,e,i),i?Iu((function(){i.takeRecords().map(r),i.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,r){r.timeStamp<n.timeStamp&&(e.value=t,e.isFinal=!0,e.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+t}],o())}))},t.prototype._trackTTFB=function(){var t,e,n,r=this;t=function(t){var e,n=t.entries.pop();if(n){ws.k.log("[Measurements] Adding TTFB"),r._measurements.ttfb={value:t.value};var i=t.value-(e=t.entries[0],null!=e?e:n).requestStart;r._measurements["ttfb.requestTime"]={value:i}}},n=Cu("TTFB"),e=function(){try{var e=Pu.performance.getEntriesByType("navigation")[0]||function(){var t=Pu.performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();n.value=n.delta=e.responseStart,n.entries=[e],t(n)}catch(t){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)},t}();function Mu(t,e,n,r,i){var o=i?e[i]:e[n+"End"],a=e[n+"Start"];a&&o&&Fu(t,{op:"browser",description:n,startTimestamp:r+mu(a),endTimestamp:r+mu(o)})}function Fu(t,e){var n=e.startTimestamp,r=(0,ms._T)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild((0,ms.pi)({startTimestamp:n},r))}function Uu(t){return"number"==typeof t&&isFinite(t)}var Hu={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};var Bu=(0,_s.Rf)(),qu=(0,ms.pi)({idleTimeout:1e3,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),Bu&&Bu.location){var r,i=Bu.location.href;e&&(r=t({name:Bu.location.pathname,op:"pageload"})),n&&Zs({callback:function(e){var n=e.to,o=e.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(ws.k.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:Bu.location.pathname,op:"navigation"}))},type:"history"})}else ws.k.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},Hu),Wu=function(){function t(e){this.name=t.id,this._metrics=new Lu,this._emitOptionsWarning=!1;var n=Hu.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=(0,ms.pi)((0,ms.pi)((0,ms.pi)({},qu),e),{tracingOrigins:n})}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(ws.k.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),ws.k.warn("[Tracing] We added a reasonable default for you: "+Hu.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,a=r.startTransactionOnPageLoad,s=r.markBackgroundTransactions,c=r.traceFetch,u=r.traceXHR,l=r.tracingOrigins,p=r.shouldCreateSpanForRequest;i((function(t){return n._createRouteTransaction(t)}),a,o),s&&(Ou&&Ou.document?Ou.document.addEventListener("visibilitychange",(function(){var t=vu();Ou.document.hidden&&t&&(ws.k.log("[Tracing] Transaction: "+au.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(au.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())})):ws.k.warn("[Tracing] Could not set up background tab detection due to lack of global document")),function(t){var e=(0,ms.pi)((0,ms.pi)({},Hu),t),n=e.traceFetch,r=e.traceXHR,i=e.tracingOrigins,o=e.shouldCreateSpanForRequest,a={},s=function(t){if(a[t])return a[t];var e=i;return a[t]=e.some((function(e){return(0,Ms.zC)(t,e)}))&&!(0,Ms.zC)(t,"sentry_key"),a[t]},c=s;"function"==typeof o&&(c=function(t){return s(t)&&o(t)});var u={};n&&Zs({callback:function(t){!function(t,e,n){var r,i=null===(r=Is().getClient())||void 0===r?void 0:r.getOptions();if(i&&hu(i)&&t.fetchData&&e(t.fetchData.url))if(t.endTimestamp&&t.fetchData.__span){if(s=n[t.fetchData.__span]){var o=t.response;o&&s.setHttpStatus(o.status),s.finish(),delete n[t.fetchData.__span]}}else{var a=vu();if(a){var s=a.startChild({data:(0,ms.pi)((0,ms.pi)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=s.spanId,n[s.spanId]=s;var c=t.args[0]=t.args[0],u=t.args[1]=t.args[1]||{},l=u.headers;(0,xs.V9)(c,Request)&&(l=c.headers),l?"function"==typeof l.append?l.append("sentry-trace",s.toTraceparent()):l=Array.isArray(l)?(0,ms.fl)(l,[["sentry-trace",s.toTraceparent()]]):(0,ms.pi)((0,ms.pi)({},l),{"sentry-trace":s.toTraceparent()}):l={"sentry-trace":s.toTraceparent()},u.headers=l}}}(t,c,u)},type:"fetch"}),r&&Zs({callback:function(t){!function(t,e,n){var r,i=null===(r=Is().getClient())||void 0===r?void 0:r.getOptions();if(i&&hu(i)&&t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)&&!t.xhr.__sentry_own_request__){var o=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__)(s=n[t.xhr.__sentry_xhr_span_id__])&&(s.setHttpStatus(o.status_code),s.finish(),delete n[t.xhr.__sentry_xhr_span_id__]);else{var a=vu();if(a){var s=a.startChild({data:(0,ms.pi)((0,ms.pi)({},o.data),{type:"xhr",method:o.method,url:o.url}),description:o.method+" "+o.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=s.spanId,n[t.xhr.__sentry_xhr_span_id__]=s,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",s.toTraceparent())}catch(t){}}}}}(t,c,u)},type:"xhr"})}({traceFetch:c,traceXHR:u,tracingOrigins:l,shouldCreateSpanForRequest:p})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,a="pageload"===t.op?function(){var t,e=("sentry-trace",(t=document.querySelector("meta[name=sentry-trace]"))?t.getAttribute("content"):null);if(e)return function(t){var e=t.match(du);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}(e)}():void 0,s=(0,ms.pi)((0,ms.pi)((0,ms.pi)({},t),a),{trimEnd:!0}),c="function"==typeof r?r(s):s,u=void 0===c?(0,ms.pi)((0,ms.pi)({},s),{sampled:!1}):c;!1===u.sampled&&ws.k.log("[Tracing] Will not send "+u.op+" transaction because of beforeNavigate."),ws.k.log("[Tracing] Starting "+u.op+" transaction on scope");var l=function(t,e,n,r,i){return xu(t,new wu(e,t,n,!0),(0,ms.pi)({parentSampled:e.parentSampled,transactionContext:e},i))}(this._getCurrentHub(),u,i,0,{location:(0,_s.Rf)().location});return l.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp;n&&(r>t||r<0)&&(e.setStatus(au.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}(function(t){return 1e3*t}(o),t,n)})),l}ws.k.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}(),zu=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){var t,e;this._router?(t=this._router,void 0===(e=this._methods)&&(e=[]),e.forEach((function(e){return function(t,e){var n=t[e];return t[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.call.apply(n,(0,ms.fl)([this],Ju(t,e)))},t}(t,e)}))):ws.k.error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function Vu(t,e){var n=t.length;switch(n){case 2:return function(n,r){var i=r.__sentry_transaction;if(i){var o=i.startChild({description:t.name,op:"middleware."+e});r.once("finish",(function(){o.finish()}))}return t.call(this,n,r)};case 3:return function(n,r,i){var o,a=null===(o=r.__sentry_transaction)||void 0===o?void 0:o.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=a)||void 0===t||t.finish(),i.call.apply(i,(0,ms.fl)([this],e))}))};case 4:return function(n,r,i,o){var a,s=null===(a=i.__sentry_transaction)||void 0===a?void 0:a.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,i,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=s)||void 0===t||t.finish(),o.call.apply(o,(0,ms.fl)([this],e))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function Ju(t,e){return t.map((function(t){return"function"==typeof t?Vu(t,e):Array.isArray(t)?t.map((function(t){return"function"==typeof t?Vu(t,e):t})):t}))}var Ku,Gu=n(136),Yu=n(736),Xu=n(873),Zu=(0,ms.pi)((0,ms.pi)({},t),{BrowserTracing:Wu});function Qu(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function tl(t){return!!t&&!!t[Ul]}function el(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}(t)||Array.isArray(t)||!!t[Fl]||!!t.constructor[Fl]||sl(t)||cl(t))}function nl(t,e,n){void 0===n&&(n=!1),0===rl(t)?(n?Object.keys:Hl)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function rl(t){var e=t[Ul];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:sl(t)?2:cl(t)?3:0}function il(t,e){return 2===rl(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function ol(t,e,n){var r=rl(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function al(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function sl(t){return Pl&&t instanceof Map}function cl(t){return Nl&&t instanceof Set}function ul(t){return t.o||t.t}function ll(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Bl(t);delete e[Ul];for(var n=Hl(e),r=0;r<n.length;r++){var i=n[r],o=e[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(e[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function pl(t,e){return void 0===e&&(e=!1),dl(t)||tl(t)||!el(t)||(rl(t)>1&&(t.set=t.add=t.clear=t.delete=fl),Object.freeze(t),e&&nl(t,(function(t,e){return pl(e,!0)}),!0)),t}function fl(){Qu(2)}function dl(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function hl(t){var e=ql[t];return e||Qu(18,t),e}function vl(){return Il}function ml(t,e){e&&(hl("Patches"),t.u=[],t.s=[],t.v=e)}function yl(t){gl(t),t.p.forEach(bl),t.p=null}function gl(t){t===Il&&(Il=t.l)}function _l(t){return Il={p:[],l:Il,h:t,m:!0,_:0}}function bl(t){var e=t[Ul];0===e.i||1===e.i?e.j():e.g=!0}function wl(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.O||hl("ES5").S(e,t,r),r?(n[Ul].P&&(yl(e),Qu(4)),el(t)&&(t=Sl(e,t),e.l||kl(e,t)),e.u&&hl("Patches").M(n[Ul],t,e.u,e.s)):t=Sl(e,n,[]),yl(e),e.u&&e.v(e.u,e.s),t!==Ml?t:void 0}function Sl(t,e,n){if(dl(e))return e;var r=e[Ul];if(!r)return nl(e,(function(i,o){return xl(t,r,e,i,o,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return kl(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=ll(r.k):r.o;nl(3===r.i?new Set(i):i,(function(e,o){return xl(t,r,i,e,o,n)})),kl(t,i,!1),n&&t.u&&hl("Patches").R(r,n,t.u,t.s)}return r.o}function xl(t,e,n,r,i,o){if(tl(i)){var a=Sl(t,i,o&&e&&3!==e.i&&!il(e.D,r)?o.concat(r):void 0);if(ol(n,r,a),!tl(a))return;t.m=!1}if(el(i)&&!dl(i)){if(!t.h.N&&t._<1)return;Sl(t,i),e&&e.A.l||kl(t,i)}}function kl(t,e,n){void 0===n&&(n=!1),t.h.N&&t.m&&pl(e,n)}function El(t,e){var n=t[Ul];return(n?ul(n):t)[e]}function Ol(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function Tl(t){t.P||(t.P=!0,t.l&&Tl(t.l))}function Cl(t){t.o||(t.o=ll(t.t))}function Al(t,e,n){var r=sl(e)?hl("MapSet").T(e,n):cl(e)?hl("MapSet").F(e,n):t.O?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:vl(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},i=r,o=Wl;n&&(i=[r],o=zl);var a=Proxy.revocable(i,o),s=a.revoke,c=a.proxy;return r.k=c,r.j=s,c}(e,n):hl("ES5").J(e,n);return(n?n.A:vl()).p.push(r),r}function jl(t){return tl(t)||Qu(22,t),function t(e){if(!el(e))return e;var n,r=e[Ul],i=rl(e);if(r){if(!r.P&&(r.i<4||!hl("ES5").K(r)))return r.t;r.I=!0,n=Rl(e,i),r.I=!1}else n=Rl(e,i);return nl(n,(function(e,i){r&&function(t,e){return 2===rl(t)?t.get(e):t[e]}(r.t,e)===i||ol(n,e,t(i))})),3===i?new Set(n):n}(t)}function Rl(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return ll(t)}(Ku=Rs()).__SENTRY__&&(Ku.__SENTRY__.extensions=Ku.__SENTRY__.extensions||{},Ku.__SENTRY__.extensions.startTransaction||(Ku.__SENTRY__.extensions.startTransaction=function(t,e){return xu(this,new _u(t,this),(0,ms.pi)({parentSampled:t.parentSampled,transactionContext:t},e))}),Ku.__SENTRY__.extensions.traceHeaders||(Ku.__SENTRY__.extensions.traceHeaders=function(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}})),Zs({callback:yu,type:"error"}),Zs({callback:yu,type:"unhandledrejection"}),function(t){void 0===t&&(t={});var e=(0,ms.pi)((0,ms.pi)({Vue:(0,_s.Rf)().Vue,attachProps:!0,logErrors:!1,tracing:!1},t),{tracingOptions:(0,ms.pi)({hooks:["activate","mount","update"],timeout:2e3,trackComponents:!1},t.tracingOptions)});e._metadata=e._metadata||{},e._metadata.sdk={name:"sentry.javascript.vue",packages:[{name:"npm:@sentry/vue",version:ys}],version:ys},function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=ru),void 0===t.release){var e=(0,_s.Rf)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),t._metadata=t._metadata||{},t._metadata.sdk={name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:ys}],version:ys},function(t,e){!0===e.debug&&ws.k.enable();var n=Is(),r=new t(e);n.bindClient(r)}(Yc,t),t.autoSessionTracking&&function(){if(void 0!==(0,_s.Rf)().document){var t=Is();t.startSession(),t.captureSession(),Zs({callback:function(){t.startSession(),t.captureSession()},type:"history"})}else ws.k.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}(e),void 0===e.Vue?(ws.k.warn("No Vue instance was provided. Also there is no Vue instance on the `window` object."),ws.k.warn("We will only capture global unhandled errors.")):new pu(e).setup()}({Vue:hs,dsn:"https://8c6b0b6c784749179d544c24b9b21e8b@o527335.ingest.sentry.io/5643515",integrations:[new Zu.BrowserTracing],tracesSampleRate:1});var $l,Il,Dl="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Pl="undefined"!=typeof Map,Nl="undefined"!=typeof Set,Ll="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ml=Dl?Symbol.for("immer-nothing"):(($l={})["immer-nothing"]=!0,$l),Fl=Dl?Symbol.for("immer-draftable"):"__$immer_draftable",Ul=Dl?Symbol.for("immer-state"):"__$immer_state",Hl=("undefined"!=typeof Symbol&&Symbol.iterator,"undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames),Bl=Object.getOwnPropertyDescriptors||function(t){var e={};return Hl(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},ql={},Wl={get:function(t,e){if(e===Ul)return t;var n=ul(t);if(!il(n,e))return function(t,e,n){var r,i=Ol(e,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!el(r)?r:r===El(t.t,e)?(Cl(t),t.o[e]=Al(t.A.h,r,t)):r},has:function(t,e){return e in ul(t)},ownKeys:function(t){return Reflect.ownKeys(ul(t))},set:function(t,e,n){var r=Ol(ul(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=El(ul(t),e),o=null==i?void 0:i[Ul];if(o&&o.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(al(n,i)&&(void 0!==n||il(t.t,e)))return!0;Cl(t),Tl(t)}return t.o[e]=n,t.D[e]=!0,!0},deleteProperty:function(t,e){return void 0!==El(t.t,e)||e in t.t?(t.D[e]=!1,Cl(t),Tl(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=ul(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){Qu(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Qu(12)}},zl={};nl(Wl,(function(t,e){zl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),zl.deleteProperty=function(t,e){return Wl.deleteProperty.call(this,t[0],e)},zl.set=function(t,e,n){return Wl.set.call(this,t[0],e,n,t[0])};var Vl=new(function(){function t(t){this.O=Ll,this.N=!0,"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var e=t.prototype;return e.produce=function(t,e,n){if("function"==typeof t&&"function"!=typeof e){var r=e;e=t;var i=this;return function(t){var n=this;void 0===t&&(t=r);for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];return i.produce(t,(function(t){var r;return(r=e).call.apply(r,[n,t].concat(a))}))}}var o;if("function"!=typeof e&&Qu(6),void 0!==n&&"function"!=typeof n&&Qu(7),el(t)){var a=_l(this),s=Al(this,t,void 0),c=!0;try{o=e(s),c=!1}finally{c?yl(a):gl(a)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(t){return ml(a,n),wl(t,a)}),(function(t){throw yl(a),t})):(ml(a,n),wl(o,a))}if(!t||"object"!=typeof t){if((o=e(t))===Ml)return;return void 0===o&&(o=t),this.N&&pl(o,!0),o}Qu(21,t)},e.produceWithPatches=function(t,e){var n,r,i=this;return"function"==typeof t?function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return i.produceWithPatches(e,(function(e){return t.apply(void 0,[e].concat(r))}))}:[this.produce(t,e,(function(t,e){n=t,r=e})),n,r]},e.createDraft=function(t){el(t)||Qu(8),tl(t)&&(t=jl(t));var e=_l(this),n=Al(this,t,void 0);return n[Ul].C=!0,gl(e),n},e.finishDraft=function(t,e){var n=(t&&t[Ul]).A;return ml(n,e),wl(void 0,n)},e.setAutoFreeze=function(t){this.N=t},e.setUseProxies=function(t){t&&!Ll&&Qu(20),this.O=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}var i=hl("Patches").$;return tl(t)?i(t,e):this.produce(t,(function(t){return i(t,e.slice(n+1))}))},t}()),Jl=Vl.produce;Vl.produceWithPatches.bind(Vl),Vl.setAutoFreeze.bind(Vl),Vl.setUseProxies.bind(Vl),Vl.applyPatches.bind(Vl),Vl.createDraft.bind(Vl),Vl.finishDraft.bind(Vl);const Kl=Jl;var Gl=n(121),Yl=function(){return Math.random().toString(36).substring(7).split("").join(".")},Xl={INIT:"@@redux/INIT"+Yl(),REPLACE:"@@redux/REPLACE"+Yl(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Yl()}};function Zl(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Ql(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(Ql)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,o=e,a=[],s=a,c=!1;function u(){s===a&&(s=a.slice())}function l(){if(c)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function p(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(c)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var e=!0;return u(),s.push(t),function(){if(e){if(c)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");e=!1,u();var n=s.indexOf(t);s.splice(n,1),a=null}}}function f(t){if(!Zl(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(c)throw new Error("Reducers may not dispatch actions.");try{c=!0,o=i(o,t)}finally{c=!1}for(var e=a=s,n=0;n<e.length;n++)(0,e[n])();return t}function d(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");i=t,f({type:Xl.REPLACE})}function h(){var t,e=p;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function n(){t.next&&t.next(l())}return n(),{unsubscribe:e(n)}}})[Gl.Z]=function(){return this},t}return f({type:Xl.INIT}),(r={dispatch:f,subscribe:p,getState:l,replaceReducer:d})[Gl.Z]=h,r}function tp(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function ep(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function np(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n}function rp(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?np(n,!0).forEach((function(e){ep(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):np(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ip(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function op(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map((function(t){return t(i)}));return rp({},n,{dispatch:r=ip.apply(void 0,o)(n.dispatch)})}}}function ap(t,e){return t===e}function sp(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}function cp(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}!function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r]}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ap,n=null,r=null;return function(){return sp(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}}));var up=cp();up.withExtraArgument=cp;const lp=up;function pp(){return(pp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function fp(t){return(fp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dp(t,e){return(dp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function hp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function vp(t,e,n){return(vp=hp()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&dp(i,n.prototype),i}).apply(null,arguments)}function mp(t){var e="function"==typeof Map?new Map:void 0;return(mp=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return vp(t,arguments,fp(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),dp(r,t)})(t)}var yp="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?ip:ip.apply(null,arguments)};var gp,_p=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i=r.prototype;return i.concat=function(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return vp(r,(e=t.prototype.concat).call.apply(e,[this].concat(i)))},i.prepend=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?vp(r,e[0].concat(this)):vp(r,e.concat(this))},r}(mp(Array));function bp(t,e){function n(){if(e){var n=e.apply(void 0,arguments);if(!n)throw new Error("prepareAction did not return an object");return pp({type:t,payload:n.payload},"meta"in n&&{meta:n.meta},{},"error"in n&&{error:n.error})}return{type:t,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),function(){function t(t,e){var n=i[t];return n?n.enumerable=e:i[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[Ul];return Wl.get(e,t)},set:function(e){var n=this[Ul];Wl.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var i=t[e][Ul];if(!i.P)switch(i.i){case 5:r(i)&&Tl(i);break;case 4:n(i)&&Tl(i)}}}function n(t){for(var e=t.t,n=t.k,r=Hl(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==Ul){var a=e[o];if(void 0===a&&!il(e,o))return!0;var s=n[o],c=s&&s[Ul];if(c?c.t!==a:!al(s,a))return!0}}var u=!!e[Ul];return r.length!==Hl(e).length+(u?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!n||n.get)}var i={};!function(t,e){ql[t]||(ql[t]=e)}("ES5",{J:function(e,n){var r=Array.isArray(e),i=function(e,n){if(e){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,t(i,!0));return r}var o=Bl(n);delete o[Ul];for(var a=Hl(o),s=0;s<a.length;s++){var c=a[s];o[c]=t(c,e||!!o[c].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,e),o={i:r?5:4,A:n?n.A:vl(),P:!1,I:!1,D:{},l:n,t:e,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Ul,{value:o,writable:!0}),i},S:function(t,n,i){i?tl(n)&&n[Ul].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[Ul];if(n){var i=n.t,o=n.k,a=n.D,s=n.i;if(4===s)nl(o,(function(e){e!==Ul&&(void 0!==i[e]||il(i,e)?a[e]||t(o[e]):(a[e]=!0,Tl(n)))})),nl(i,(function(t){void 0!==o[t]||il(o,t)||(a[t]=!1,Tl(n))}));else if(5===s){if(r(n)&&(Tl(n),a.length=!0),o.length<i.length)for(var c=o.length;c<i.length;c++)a[c]=!1;else for(var u=i.length;u<o.length;u++)a[u]=!0;for(var l=Math.min(o.length,i.length),p=0;p<l;p++)void 0===a[p]&&t(o[p])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}(),function(t){t.ERROR="error",t.LOADING="loading",t.REGISTERED="registered",t.REMOVED="removed",t.WORKERS_LOADED="workersLoaded",t.CLEAR_ERROR="clearError"}(gp||(gp={}));const wp=bp(gp.ERROR),Sp=bp(gp.LOADING),xp=bp(gp.REGISTERED),kp=bp(gp.REMOVED),Ep=bp(gp.WORKERS_LOADED),Op=bp(gp.CLEAR_ERROR),Tp=function(t){var e,n=function(t){return function(t){void 0===t&&(t={});var e=t,n=e.thunk,r=void 0===n||n,i=(e.immutableCheck,e.serializableCheck,new _p);return r&&(function(t){return"boolean"==typeof t}(r)?i.push(lp):i.push(lp.withExtraArgument(r.extraArgument))),i}(t)},r=t||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,c=r.devTools,u=void 0===c||c,l=r.preloadedState,p=void 0===l?void 0:l,f=r.enhancers,d=void 0===f?void 0:f;if("function"==typeof o)e=o;else{if(!function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];"function"==typeof t[i]&&(n[i]=t[i])}var o,a=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:Xl.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:Xl.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+Xl.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(t){o=t}return function(t,e){if(void 0===t&&(t={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var c=a[s],u=n[c],l=t[c],p=u(l,e);if(void 0===p){var f=tp(c,e);throw new Error(f)}i[c]=p,r=r||p!==l}return(r=r||a.length!==Object.keys(t).length)?i:t}}(o)}var h=op.apply(void 0,"function"==typeof s?s(n):s),v=ip;u&&(v=yp(pp({trace:!1},"object"==typeof u&&u)));var m=[h];return Array.isArray(d)?m=[h].concat(d):"function"==typeof d&&(m=d(m)),Ql(e,p,v.apply(void 0,m))}({reducer:function(t,e,n,r){void 0===n&&(n=[]);var i="function"==typeof e?function(t){var e,n={},r=[],i={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,i},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),i},addDefaultCase:function(t){return e=t,i}};return t(i),[n,r,e]}(e):[e,n,r],o=i[0],a=i[1],s=i[2];return function(e,n){void 0===e&&(e=t);var r=[o[n.type]].concat(a.filter((function(t){return(0,t.matcher)(n)})).map((function(t){return t.reducer})));return 0===r.filter((function(t){return!!t})).length&&(r=[s]),r.reduce((function(t,e){if(e){if(tl(t)){var r=e(t,n);return void 0===r?t:r}if(el(t))return Kl(t,(function(t){return e(t,n)}));var i=e(t,n);if(void 0===i){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return i}return t}),e)}}({loading:!1,error:null,workers:[]},{[gp.ERROR]:function(t,e){t.loading=!1,t.error=e.payload},[gp.LOADING]:function(t){t.loading=!0,t.error=null},[gp.REGISTERED]:function(t,e){const n=e.payload;return t.workers.push({id:n.id,name:n.name,photo:`http://localhost:7001/photo/${n.photo}`,bio:n.bio}),t.loading=!1,t.error=null,t},[gp.REMOVED]:function(t,e){const n=t.workers.findIndex((t=>t.id===e.payload));return t.workers.splice(n,1),t.loading=!1,t.error=null,t},[gp.WORKERS_LOADED]:function(t,e){var n;return t.workers=null===(n=null==e?void 0:e.payload)||void 0===n?void 0:n.map((t=>({id:t.id,name:t.name,photo:`http://localhost:7001/photo/${t.photo}`,bio:t.bio}))),t.loading=!1,t.error=null,t},[gp.CLEAR_ERROR]:function(t){t.error=null}}),middleware:[lp]});function Cp(t,e,n){var r,i,o;return function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))}(this,void 0,void 0,(function*(){let a;e&&(a={"Content-Type":"application/json"});const s=Object.assign(Object.assign({method:null!==(r=null==n?void 0:n.method)&&void 0!==r?r:"GET"},null==n?void 0:n.customConf),{headers:Object.assign(Object.assign({},a),null===(i=null==n?void 0:n.customConf)||void 0===i?void 0:i.headers)});if(null==n?void 0:n.body)if(e)s.body=JSON.stringify(null==n?void 0:n.body);else{const t=new FormData;for(const e in null==n?void 0:n.body)t.append(e,null==n?void 0:n.body[e]);s.body=t}let c;try{const e=yield window.fetch(t,s);if(c=yield e.json(),!e.ok)throw new Error(null!==(o=null==c?void 0:c.statusText)&&void 0!==o?o:"Gagal request ke api");return c}catch(t){return Promise.reject(t.message||c)}}))}Cp.get=(t,e={})=>Cp(t,!0,Object.assign({method:"GET"},e)),Cp.post=(t,e,n=null,r={})=>Cp(t,n,Object.assign({method:"POST",body:e},r)),Cp.put=(t,e=null,n=null,r={})=>Cp(t,n,Object.assign({method:"PUT",body:e},r)),Cp.del=(t,e=null,n=null,r={})=>Cp(t,n,Object.assign({method:"DELETE",body:e},r));var Ap=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}c((r=r.apply(t,e||[])).next())}))};const jp=t=>Ap(void 0,void 0,void 0,(function*(){t(Sp());try{const e=yield Cp.get("http://localhost:7001/list");t(Ep(e))}catch(e){Bc(new Error(e)),t(wp("gagal memuat daftar pekerja"))}})),Rp=hs.extend({render:t=>t("div",[t("ul",[t("li",[t("a",{domProps:{href:"worker.html"}},"pekerja")]),t("li",[t("a",{domProps:{href:"tasks.html"}},"pekerjaan")]),t("li",[t("a",{domProps:{href:"performance.html"}},"kinerja")])]),t("hr")])}),$p=hs.extend({render(t){return t("form",{on:{submit:this.submitNewTask}},[t("label",{domProps:{for:"name"}},"Nama:"),t("br"),t("input",{domProps:{name:"name",placeholder:"misal budiman"},on:{input:t=>{this.name=t.target.value}}}),t("br"),t("label",{domProps:{for:"age"}},"Umur:"),t("br"),t("input",{domProps:{name:"age",placeholder:"misal budiman",type:"number"},on:{input:t=>{this.age=t.target.value}}}),t("br"),t("label",{domProps:{for:"photo"}},"Foto:"),t("br"),t("input",{domProps:{name:"photo",type:"file"},on:{change:t=>{this.photo=t.target.files[0]}}}),t("br"),t("label",{domProps:{for:"bio"}},"Biodata singkat:"),t("br"),t("textarea",{domProps:{name:"bio",cols:"30",rows:"3",placeholder:"biodata singkat pekerja"},on:{input:t=>{this.bio=t.target.value}}},""),t("br"),t("label",{domProps:{for:"address"}},"Alamat:"),t("br"),t("textarea",{domProps:{name:"address",cols:"30",rows:"3",placeholder:"alamat pekerja"},on:{input:t=>{this.address=t.target.value}}},""),t("br"),t("button","kirim")])},data:{name:"",photo:null,age:0,bio:"",address:""},methods:{submitNewTask(t){var e;t.preventDefault(),Tp.dispatch(Op()),this.name&&this.age&&this.photo&&this.bio&&this.address?(Tp.dispatch((e={name:this.name,photo:this.photo,age:this.age,bio:this.bio,address:this.address},t=>Ap(void 0,void 0,void 0,(function*(){t(Sp());try{const n=yield function(t){return Cp.post("http://localhost:7001/register",t)}(e);t(xp(n))}catch(n){Bc(new Error(n)),t(wp(`gagal mendaftarkan ${e.name}`))}})))),function(t,e){var n;try{throw new Error(t)}catch(t){n=t}var r={captureContext:e};Hc("captureMessage",t,void 0,(0,ms.pi)({originalException:t,syntheticException:n},r))}("Worker added"),this.name="",this.photo=null,this.age=0,this.bio="",this.address="",t.target.reset()):Tp.dispatch(wp("form isian tidak lengkap!"))}}}),Ip=hs.extend({props:["workers"],render(t){const e=this.$props.workers.map((e=>t("div",[t("img",{domProps:{src:e.photo,alt:"",width:"50",height:"50"}})," ",t("span",e.name)," ",t("button",{on:{click:()=>this.deleteWorker(e.id)}},"hapus")])));return t("div",e)},methods:{deleteWorker(t){Tp.dispatch((t=>e=>Ap(void 0,void 0,void 0,(function*(){e(Sp());try{yield function(t){return Cp.del(`http://localhost:7001/remove?id=${t}`)}(t),e(kp(t))}catch(t){Bc(new Error(t)),e(wp("gagal menghapus pekerja"))}})))(t))}}});new hs({el:"#worker",components:{navigation:Rp,"worker-list":Ip,"form-worker":$p},render(t){return t("div",[t("navigation"),t("p",{domProps:{id:"error-text"},class:{error:!0}},this.error),this.loading?t("p",{domProps:{id:"loading-text"},class:{primary:!0}},"memuat..."):null,t("h4","Daftarkan pekerjaan baru"),t("form-worker"),t("hr"),t("h4","Daftar pekerja"),t("worker-list",{props:{workers:this.worker}})])},data:{worker:[],error:"",loading:!1},mounted(){const t=Tp.getState();this.worker=t.workers,this.loading=t.loading,this.error=t.error,Tp.subscribe((()=>{const t=Tp.getState();this.worker=t.workers,this.loading=t.loading,this.error=t.error})),Tp.dispatch(jp)}})})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9pbnRlZ3JhdGlvbnMvbW9uZ28uanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vaW50ZWdyYXRpb25zL215c3FsLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3RyYWNpbmcvZXNtL2ludGVncmF0aW9ucy9wb3N0Z3Jlcy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vaXMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdXRpbHMvZXNtL2xvZ2dlci5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vbWlzYy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vbm9kZS5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vbWVtby5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vb2JqZWN0LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3V0aWxzL2VzbS9zdGFja3RyYWNlLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3V0aWxzL2VzbS9zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdXRpbHMvZXNtL3RpbWUuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vd2ViYXBwL3NyYy93b3JrZXIvbWFpbi5jc3MiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvY3NzV2l0aE1hcHBpbmdUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL3N5bWJvbC1vYnNlcnZhYmxlL2VzL2luZGV4LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9zeW1ib2wtb2JzZXJ2YWJsZS9lcy9wb255ZmlsbC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvd2VicGFjay9ydW50aW1lL2hhcm1vbnkgbW9kdWxlIGRlY29yYXRvciIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi93ZWJhcHAvc3JjL3dvcmtlci9tYWluLmNzcz81N2E2Iiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy92dWUvZGlzdC92dWUuZXNtLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3R5cGVzL2VzbS9zZXNzaW9uLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL3ZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdXRpbHMvZXNtL3N5bmNwcm9taXNlLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2h1Yi9lc20vc2NvcGUuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvaHViL2VzbS9zZXNzaW9uLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2h1Yi9lc20vaHViLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL2ludGVncmF0aW9ucy9mdW5jdGlvbnRvc3RyaW5nLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL2ludGVncmF0aW9ucy9pbmJvdW5kZmlsdGVycy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vc3VwcG9ydHMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdXRpbHMvZXNtL2luc3RydW1lbnQuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdXRpbHMvZXNtL3BvbHlmaWxsLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3V0aWxzL2VzbS9lcnJvci5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vZHNuLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL2ludGVncmF0aW9uLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL2Jhc2VjbGllbnQuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHlwZXMvZXNtL3N0YXR1cy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9jb3JlL2VzbS90cmFuc3BvcnRzL25vb3AuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHlwZXMvZXNtL3NldmVyaXR5LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL2Jhc2ViYWNrZW5kLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL3RyYWNla2l0LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL3BhcnNlcnMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvYnJvd3Nlci9lc20vZXZlbnRidWlsZGVyLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2NvcmUvZXNtL3JlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvY29yZS9lc20vYXBpLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3V0aWxzL2VzbS9wcm9taXNlYnVmZmVyLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL3RyYW5zcG9ydHMvYmFzZS5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9icm93c2VyL2VzbS90cmFuc3BvcnRzL2ZldGNoLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL3RyYW5zcG9ydHMveGhyLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL2JhY2tlbmQuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvbWluaW1hbC9lc20vaW5kZXguanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvYnJvd3Nlci9lc20vaGVscGVycy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9icm93c2VyL2VzbS9pbnRlZ3JhdGlvbnMvYnJlYWRjcnVtYnMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvYnJvd3Nlci9lc20vY2xpZW50LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL2ludGVncmF0aW9ucy90cnljYXRjaC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9icm93c2VyL2VzbS9pbnRlZ3JhdGlvbnMvZ2xvYmFsaGFuZGxlcnMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvYnJvd3Nlci9lc20vaW50ZWdyYXRpb25zL2xpbmtlZGVycm9ycy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9icm93c2VyL2VzbS9pbnRlZ3JhdGlvbnMvdXNlcmFnZW50LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L2Jyb3dzZXIvZXNtL3Nkay5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vcGF0aC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS92dWUvZXNtL3Nkay5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90eXBlcy9lc20vdHJhbnNhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vc3BhbnN0YXR1cy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS91dGlscy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9lcnJvcnMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vc3Bhbi5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS90cmFuc2FjdGlvbi5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9pZGxldHJhbnNhY3Rpb24uanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vaHViZXh0ZW5zaW9ucy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL2JhY2tncm91bmR0YWIuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9nZXRGaXJzdEhpZGRlbi5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL3doZW5JbnB1dC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL2JpbmRSZXBvcnRlci5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL2luaXRNZXRyaWMuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2xpYi9nZW5lcmF0ZVVuaXF1ZUlELmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3RyYWNpbmcvZXNtL2Jyb3dzZXIvd2ViLXZpdGFscy9saWIvb2JzZXJ2ZS5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvbGliL29uSGlkZGVuLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3RyYWNpbmcvZXNtL2Jyb3dzZXIvd2ViLXZpdGFscy9nZXRUVEZCLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3RyYWNpbmcvZXNtL2Jyb3dzZXIvbWV0cmljcy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL3dlYi12aXRhbHMvZ2V0Q0xTLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3RyYWNpbmcvZXNtL2Jyb3dzZXIvd2ViLXZpdGFscy9nZXRMQ1AuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vYnJvd3Nlci93ZWItdml0YWxzL2dldEZJRC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9icm93c2VyL3JlcXVlc3QuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vYnJvd3Nlci9yb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdHJhY2luZy9lc20vYnJvd3Nlci9icm93c2VydHJhY2luZy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9pbnRlZ3JhdGlvbnMvZXhwcmVzcy5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHNlbnRyeS90cmFjaW5nL2VzbS9pbmRleC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvaW1tZXIvZGlzdC9pbW1lci5lc20uanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvY29yZS9lc20vc2RrLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL3dlYmFwcC9zcmMvbGliL3NlbnRyeS50cyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvcmVkdXgvZXMvcmVkdXguanMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vbm9kZV9tb2R1bGVzL3Jlc2VsZWN0L2VzL2luZGV4LmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL25vZGVfbW9kdWxlcy9yZWR1eC10aHVuay9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi9ub2RlX21vZHVsZXMvQHJlZHV4anMvdG9vbGtpdC9kaXN0L3JlZHV4LXRvb2xraXQuZXNtLmpzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL3dlYmFwcC9zcmMvd29ya2VyL3N0b3JlLnRzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL3dlYmFwcC9zcmMvd29ya2VyL3JlZHVjZXIudHMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vd2ViYXBwL3NyYy9saWIvaHR0cC1jbGllbnQudHMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vd2ViYXBwL3NyYy93b3JrZXIvYXN5bmMtYWN0aW9uLnRzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL3dlYmFwcC9zcmMvd29ya2VyL3dvcmtlci5jbGllbnQudHMiLCJ3ZWJwYWNrOi8vdGFzay1tYW5hZ2VyLy4vd2ViYXBwL3NyYy93b3JrZXIvY29tcG9uZW50cy9uYXZpZ2F0aW9uLnRzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL3dlYmFwcC9zcmMvd29ya2VyL2NvbXBvbmVudHMvZm9ybS50cyIsIndlYnBhY2s6Ly90YXNrLW1hbmFnZXIvLi93ZWJhcHAvc3JjL3dvcmtlci9jb21wb25lbnRzL3dvcmtlci1saXN0LnRzIiwid2VicGFjazovL3Rhc2stbWFuYWdlci8uL3dlYmFwcC9zcmMvd29ya2VyL21haW4udHMiXSwibmFtZXMiOlsiT1BFUkFUSU9OUyIsIk9QRVJBVElPTl9TSUdOQVRVUkVTIiwiYnVsa1dyaXRlIiwiY291bnREb2N1bWVudHMiLCJjcmVhdGVJbmRleCIsImNyZWF0ZUluZGV4ZXMiLCJkZWxldGVNYW55IiwiZGVsZXRlT25lIiwiZGlzdGluY3QiLCJkcm9wSW5kZXgiLCJmaW5kT25lIiwiZmluZE9uZUFuZERlbGV0ZSIsImZpbmRPbmVBbmRSZXBsYWNlIiwiZmluZE9uZUFuZFVwZGF0ZSIsImluZGV4RXhpc3RzIiwiaW5zZXJ0TWFueSIsImluc2VydE9uZSIsIm1hcFJlZHVjZSIsInJlbmFtZSIsInJlcGxhY2VPbmUiLCJ1cGRhdGVNYW55IiwidXBkYXRlT25lIiwiTW9uZ28iLCJvcHRpb25zIiwidGhpcyIsIm5hbWUiLCJpZCIsIl9vcGVyYXRpb25zIiwiQXJyYXkiLCJpc0FycmF5Iiwib3BlcmF0aW9ucyIsIl9kZXNjcmliZU9wZXJhdGlvbnMiLCJkZXNjcmliZU9wZXJhdGlvbnMiLCJwcm90b3R5cGUiLCJzZXR1cE9uY2UiLCJfIiwiZ2V0Q3VycmVudEh1YiIsImNvbGxlY3Rpb24iLCJtb2R1bGUiLCJDb2xsZWN0aW9uIiwiZSIsIl9pbnN0cnVtZW50T3BlcmF0aW9ucyIsIl90aGlzIiwiZm9yRWFjaCIsIm9wZXJhdGlvbiIsIl9wYXRjaE9wZXJhdGlvbiIsImdldFNwYW5Db250ZXh0IiwiX2dldFNwYW5Db250ZXh0RnJvbU9wZXJhdGlvbkFyZ3VtZW50cyIsImJpbmQiLCJvcmlnIiwiX2EiLCJfYiIsIl9jIiwiX2QiLCJhcmdzIiwiX2kiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJsYXN0QXJnIiwic2NvcGUiLCJnZXRTY29wZSIsInBhcmVudFNwYW4iLCJnZXRTcGFuIiwic3Bhbl8xIiwic3RhcnRDaGlsZCIsIm1heWJlUHJvbWlzZSIsImNhbGwiLCJhcHBseSIsInRoZW4iLCJyZXMiLCJmaW5pc2giLCJzcGFuIiwic2xpY2UiLCJlcnIiLCJyZXN1bHQiLCJkYXRhIiwiY29sbGVjdGlvbk5hbWUiLCJkYk5hbWUiLCJuYW1lc3BhY2UiLCJzcGFuQ29udGV4dCIsIm9wIiwiZGVzY3JpcHRpb24iLCJzaWduYXR1cmUiLCJzaG91bGREZXNjcmliZSIsImluY2x1ZGVzIiwibWFwIiwicmVkdWNlIiwiaSIsIkpTT04iLCJzdHJpbmdpZnkiLCJfb08iLCJNeXNxbCIsImNvbm5lY3Rpb24iLCJ2YWx1ZXMiLCJjYWxsYmFjayIsInNxbCIsImZpZWxkcyIsIlBvc3RncmVzIiwiY2xpZW50IiwiQ2xpZW50IiwiY29uZmlnIiwidGV4dCIsImh0bWxUcmVlQXNTdHJpbmciLCJlbGVtIiwiY3VycmVudEVsZW0iLCJvdXQiLCJoZWlnaHQiLCJsZW4iLCJzZXBMZW5ndGgiLCJuZXh0U3RyIiwiX2h0bWxFbGVtZW50QXNTdHJpbmciLCJwdXNoIiwicGFyZW50Tm9kZSIsInJldmVyc2UiLCJqb2luIiwiZWwiLCJjbGFzc05hbWUiLCJjbGFzc2VzIiwia2V5IiwiYXR0ciIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsInNwbGl0IiwiYWxsb3dlZEF0dHJzIiwiZ2V0QXR0cmlidXRlIiwiaXNFcnJvciIsIndhdCIsIk9iamVjdCIsInRvU3RyaW5nIiwiaXNJbnN0YW5jZU9mIiwiRXJyb3IiLCJpc0Vycm9yRXZlbnQiLCJpc0RPTUVycm9yIiwiaXNET01FeGNlcHRpb24iLCJpc1N0cmluZyIsImlzUHJpbWl0aXZlIiwiaXNQbGFpbk9iamVjdCIsImlzRXZlbnQiLCJFdmVudCIsImlzRWxlbWVudCIsIkVsZW1lbnQiLCJpc1JlZ0V4cCIsImlzVGhlbmFibGUiLCJCb29sZWFuIiwiaXNTeW50aGV0aWNFdmVudCIsImJhc2UiLCJfZSIsImdsb2JhbCIsIlBSRUZJWCIsIkxvZ2dlciIsIl9lbmFibGVkIiwiZGlzYWJsZSIsImVuYWJsZSIsImxvZyIsImNvbnNvbGUiLCJ3YXJuIiwiZXJyb3IiLCJfX1NFTlRSWV9fIiwibG9nZ2VyIiwiZmFsbGJhY2tHbG9iYWxPYmplY3QiLCJnZXRHbG9iYWxPYmplY3QiLCJnIiwid2luZG93Iiwic2VsZiIsInV1aWQ0IiwiY3J5cHRvIiwibXNDcnlwdG8iLCJnZXRSYW5kb21WYWx1ZXMiLCJhcnIiLCJVaW50MTZBcnJheSIsInBhZCIsIm51bSIsInYiLCJyZXBsYWNlIiwiYyIsInIiLCJNYXRoIiwicmFuZG9tIiwicGFyc2VVcmwiLCJ1cmwiLCJtYXRjaCIsInF1ZXJ5IiwiZnJhZ21lbnQiLCJob3N0IiwicGF0aCIsInByb3RvY29sIiwicmVsYXRpdmUiLCJnZXRFdmVudERlc2NyaXB0aW9uIiwiZXZlbnQiLCJtZXNzYWdlIiwiZXhjZXB0aW9uIiwidHlwZSIsInZhbHVlIiwiZXZlbnRfaWQiLCJjb25zb2xlU2FuZGJveCIsIm9yaWdpbmFsQ29uc29sZSIsIndyYXBwZWRMZXZlbHMiLCJsZXZlbCIsIl9fc2VudHJ5X29yaWdpbmFsX18iLCJrZXlzIiwiYWRkRXhjZXB0aW9uVHlwZVZhbHVlIiwiYWRkRXhjZXB0aW9uTWVjaGFuaXNtIiwibWVjaGFuaXNtIiwiZ2V0TG9jYXRpb25IcmVmIiwiZG9jdW1lbnQiLCJsb2NhdGlvbiIsImhyZWYiLCJvTyIsInBhcnNlUmV0cnlBZnRlckhlYWRlciIsIm5vdyIsImhlYWRlciIsImhlYWRlckRlbGF5IiwicGFyc2VJbnQiLCJpc05hTiIsImhlYWRlckRhdGUiLCJEYXRlIiwicGFyc2UiLCJpc05vZGVFbnYiLCJwcm9jZXNzIiwiZHluYW1pY1JlcXVpcmUiLCJtb2QiLCJyZXF1ZXN0IiwicmVxdWlyZSIsIk1lbW8iLCJfaGFzV2Vha1NldCIsIldlYWtTZXQiLCJfaW5uZXIiLCJtZW1vaXplIiwib2JqIiwiaGFzIiwiYWRkIiwidW5tZW1vaXplIiwiZGVsZXRlIiwic3BsaWNlIiwiZmlsbCIsInNvdXJjZSIsInJlcGxhY2VtZW50RmFjdG9yeSIsIm9yaWdpbmFsIiwid3JhcHBlZCIsImRlZmluZVByb3BlcnRpZXMiLCJlbnVtZXJhYmxlIiwiX09vIiwidXJsRW5jb2RlIiwib2JqZWN0IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZ2V0V2Fsa1NvdXJjZSIsImlzIiwic3RhY2siLCJoYXNPd25Qcm9wZXJ0eSIsImV2ZW50XzEiLCJ0YXJnZXQiLCJjdXJyZW50VGFyZ2V0IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJub3JtYWxpemVUb1NpemUiLCJkZXB0aCIsIm1heFNpemUiLCJzZXJpYWxpemVkIiwibm9ybWFsaXplIiwiZW5jb2RlVVJJIiwidXRmOExlbmd0aCIsIm5vcm1hbGl6ZVZhbHVlIiwiX2V2ZW50cyIsIlN0cmluZyIsIndhbGsiLCJtZW1vIiwibm9ybWFsaXplZCIsInNlcmlhbGl6ZVZhbHVlIiwidG9KU09OIiwiYWNjIiwiaW5uZXJLZXkiLCJpbnB1dCIsImV4dHJhY3RFeGNlcHRpb25LZXlzRm9yTWVzc2FnZSIsIm1heExlbmd0aCIsInNvcnQiLCJpbmNsdWRlZEtleXMiLCJkcm9wVW5kZWZpbmVkS2V5cyIsInZhbCIsImVfMSIsInJ2IiwibmV4dCIsImRvbmUiLCJlXzFfMSIsInJldHVybiIsImRlZmF1bHRGdW5jdGlvbk5hbWUiLCJnZXRGdW5jdGlvbk5hbWUiLCJmbiIsInRydW5jYXRlIiwic3RyIiwibWF4Iiwic3Vic3RyIiwic2FmZUpvaW4iLCJkZWxpbWl0ZXIiLCJvdXRwdXQiLCJpc01hdGNoaW5nUGF0dGVybiIsInBhdHRlcm4iLCJ0ZXN0IiwiaW5kZXhPZiIsImRhdGVUaW1lc3RhbXBTb3VyY2UiLCJub3dTZWNvbmRzIiwicGxhdGZvcm1QZXJmb3JtYW5jZSIsInBlcmZvcm1hbmNlIiwiZ2V0Tm9kZVBlcmZvcm1hbmNlIiwidGltZU9yaWdpbiIsImdldEJyb3dzZXJQZXJmb3JtYW5jZSIsInRpbWVzdGFtcFNvdXJjZSIsInVuZGVmaW5lZCIsImRhdGVUaW1lc3RhbXBJblNlY29uZHMiLCJ0aW1lc3RhbXBXaXRoTXMiLCJicm93c2VyUGVyZm9ybWFuY2VUaW1lT3JpZ2luIiwidGltaW5nIiwibmF2aWdhdGlvblN0YXJ0IiwiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJpdGVtIiwiY29udGVudCIsImNvbmNhdCIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsIl9hcnJheUxpa2VUb0FycmF5IiwiYXJyMiIsIl9pdGVtIiwiX2FycmF5V2l0aEhvbGVzIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfYXJyIiwiX24iLCJfcyIsIl9pdGVyYWJsZVRvQXJyYXlMaW1pdCIsIm8iLCJtaW5MZW4iLCJuIiwiY29uc3RydWN0b3IiLCJmcm9tIiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlUmVzdCIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2VSb290IiwiZ2V0VGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJtb2R1bGVzVG9Eb20iLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJjb3VudCIsImluZGV4IiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImFsbCIsImF0b2IiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwicm9vdCIsIm9ic2VydmFibGUiLCJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsInAiLCJfX2V4dGVuZHMiLCJfXyIsImNyZWF0ZSIsIl9fYXNzaWduIiwiYXNzaWduIiwidCIsInMiLCJfX3Jlc3QiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIl9fdmFsdWVzIiwibSIsIl9fcmVhZCIsImFyIiwiX19zcHJlYWQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImEiLCJkZWZpbml0aW9uIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJobWQiLCJjaGlsZHJlbiIsInNldCIsInByb3AiLCJ0b1N0cmluZ1RhZyIsImVtcHR5T2JqZWN0IiwiZnJlZXplIiwiaXNVbmRlZiIsImlzRGVmIiwiaXNUcnVlIiwiaXNPYmplY3QiLCJfdG9TdHJpbmciLCJpc1ZhbGlkQXJyYXlJbmRleCIsInBhcnNlRmxvYXQiLCJmbG9vciIsImlzRmluaXRlIiwiaXNQcm9taXNlIiwiY2F0Y2giLCJ0b051bWJlciIsIm1ha2VNYXAiLCJleHBlY3RzTG93ZXJDYXNlIiwiaXNCdWlsdEluVGFnIiwiaXNSZXNlcnZlZEF0dHJpYnV0ZSIsImhhc093biIsImNhY2hlZCIsImNhY2hlIiwiY2FtZWxpemVSRSIsImNhbWVsaXplIiwidG9VcHBlckNhc2UiLCJjYXBpdGFsaXplIiwiY2hhckF0IiwiaHlwaGVuYXRlUkUiLCJoeXBoZW5hdGUiLCJjdHgiLCJib3VuZEZuIiwibCIsIl9sZW5ndGgiLCJ0b0FycmF5Iiwic3RhcnQiLCJyZXQiLCJleHRlbmQiLCJ0byIsIl9mcm9tIiwidG9PYmplY3QiLCJub29wIiwibm8iLCJpZGVudGl0eSIsImxvb3NlRXF1YWwiLCJpc09iamVjdEEiLCJpc09iamVjdEIiLCJpc0FycmF5QSIsImlzQXJyYXlCIiwiZXZlcnkiLCJnZXRUaW1lIiwia2V5c0EiLCJrZXlzQiIsImxvb3NlSW5kZXhPZiIsIm9uY2UiLCJjYWxsZWQiLCJTU1JfQVRUUiIsIkFTU0VUX1RZUEVTIiwiTElGRUNZQ0xFX0hPT0tTIiwib3B0aW9uTWVyZ2VTdHJhdGVnaWVzIiwic2lsZW50IiwicHJvZHVjdGlvblRpcCIsImRldnRvb2xzIiwiZXJyb3JIYW5kbGVyIiwid2FybkhhbmRsZXIiLCJpZ25vcmVkRWxlbWVudHMiLCJrZXlDb2RlcyIsImlzUmVzZXJ2ZWRUYWciLCJpc1Jlc2VydmVkQXR0ciIsImlzVW5rbm93bkVsZW1lbnQiLCJnZXRUYWdOYW1lc3BhY2UiLCJwYXJzZVBsYXRmb3JtVGFnTmFtZSIsIm11c3RVc2VQcm9wIiwiYXN5bmMiLCJfbGlmZWN5Y2xlSG9va3MiLCJ1bmljb2RlUmVnRXhwIiwiaXNSZXNlcnZlZCIsImNoYXJDb2RlQXQiLCJkZWYiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIl9pc1NlcnZlciIsImJhaWxSRSIsIlJlZ0V4cCIsImhhc1Byb3RvIiwiaW5Ccm93c2VyIiwiaW5XZWV4IiwiV1hFbnZpcm9ubWVudCIsInBsYXRmb3JtIiwid2VleFBsYXRmb3JtIiwiVUEiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpc0lFIiwiaXNJRTkiLCJpc0VkZ2UiLCJpc0lPUyIsImlzRkYiLCJuYXRpdmVXYXRjaCIsIndhdGNoIiwic3VwcG9ydHNQYXNzaXZlIiwib3B0cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJpc1NlcnZlclJlbmRlcmluZyIsImVudiIsIlZVRV9FTlYiLCJfX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fIiwiaXNOYXRpdmUiLCJDdG9yIiwiX1NldCIsImhhc1N5bWJvbCIsIlJlZmxlY3QiLCJvd25LZXlzIiwiU2V0IiwiY2xlYXIiLCJ1aWQiLCJEZXAiLCJzdWJzIiwiYWRkU3ViIiwic3ViIiwicmVtb3ZlU3ViIiwiZGVwZW5kIiwiYWRkRGVwIiwibm90aWZ5IiwidGFyZ2V0U3RhY2siLCJwdXNoVGFyZ2V0IiwicG9wVGFyZ2V0IiwicG9wIiwiVk5vZGUiLCJ0YWciLCJlbG0iLCJjb250ZXh0IiwiY29tcG9uZW50T3B0aW9ucyIsImFzeW5jRmFjdG9yeSIsIm5zIiwiZm5Db250ZXh0IiwiZm5PcHRpb25zIiwiZm5TY29wZUlkIiwiY29tcG9uZW50SW5zdGFuY2UiLCJwYXJlbnQiLCJyYXciLCJpc1N0YXRpYyIsImlzUm9vdEluc2VydCIsImlzQ29tbWVudCIsImlzQ2xvbmVkIiwiaXNPbmNlIiwiYXN5bmNNZXRhIiwiaXNBc3luY1BsYWNlaG9sZGVyIiwicHJvdG90eXBlQWNjZXNzb3JzIiwiY2hpbGQiLCJjcmVhdGVFbXB0eVZOb2RlIiwibm9kZSIsImNyZWF0ZVRleHRWTm9kZSIsImNsb25lVk5vZGUiLCJ2bm9kZSIsImNsb25lZCIsImFycmF5UHJvdG8iLCJhcnJheU1ldGhvZHMiLCJtZXRob2QiLCJpbnNlcnRlZCIsIm9iIiwiX19vYl9fIiwib2JzZXJ2ZUFycmF5IiwiZGVwIiwiYXJyYXlLZXlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsInNob3VsZE9ic2VydmUiLCJ0b2dnbGVPYnNlcnZpbmciLCJPYnNlcnZlciIsInZtQ291bnQiLCJzcmMiLCJwcm90b0F1Z21lbnQiLCJjb3B5QXVnbWVudCIsIm9ic2VydmUiLCJhc1Jvb3REYXRhIiwiaXNFeHRlbnNpYmxlIiwiX2lzVnVlIiwiZGVmaW5lUmVhY3RpdmUkJDEiLCJjdXN0b21TZXR0ZXIiLCJzaGFsbG93IiwicHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzZXR0ZXIiLCJjaGlsZE9iIiwiZGVwZW5kQXJyYXkiLCJuZXdWYWwiLCJkZWwiLCJpdGVtcyIsInN0cmF0cyIsIm1lcmdlRGF0YSIsInRvVmFsIiwiZnJvbVZhbCIsIm1lcmdlRGF0YU9yRm4iLCJwYXJlbnRWYWwiLCJjaGlsZFZhbCIsInZtIiwiaW5zdGFuY2VEYXRhIiwiZGVmYXVsdERhdGEiLCJtZXJnZUhvb2siLCJob29rcyIsImRlZHVwZUhvb2tzIiwibWVyZ2VBc3NldHMiLCJob29rIiwia2V5JDEiLCJwcm9wcyIsIm1ldGhvZHMiLCJpbmplY3QiLCJjb21wdXRlZCIsInByb3ZpZGUiLCJkZWZhdWx0U3RyYXQiLCJtZXJnZU9wdGlvbnMiLCJub3JtYWxpemVQcm9wcyIsIm5vcm1hbGl6ZUluamVjdCIsImRpcnMiLCJkaXJlY3RpdmVzIiwiZGVmJCQxIiwibm9ybWFsaXplRGlyZWN0aXZlcyIsIl9iYXNlIiwiZXh0ZW5kcyIsIm1peGlucyIsIm1lcmdlRmllbGQiLCJzdHJhdCIsInJlc29sdmVBc3NldCIsIndhcm5NaXNzaW5nIiwiYXNzZXRzIiwiY2FtZWxpemVkSWQiLCJQYXNjYWxDYXNlSWQiLCJ2YWxpZGF0ZVByb3AiLCJwcm9wT3B0aW9ucyIsInByb3BzRGF0YSIsImFic2VudCIsImJvb2xlYW5JbmRleCIsImdldFR5cGVJbmRleCIsInN0cmluZ0luZGV4IiwiZGVmYXVsdCIsIiRvcHRpb25zIiwiX3Byb3BzIiwiZ2V0VHlwZSIsImdldFByb3BEZWZhdWx0VmFsdWUiLCJwcmV2U2hvdWxkT2JzZXJ2ZSIsImlzU2FtZVR5cGUiLCJleHBlY3RlZFR5cGVzIiwiaGFuZGxlRXJyb3IiLCJpbmZvIiwiY3VyIiwiJHBhcmVudCIsImVycm9yQ2FwdHVyZWQiLCJnbG9iYWxIYW5kbGVFcnJvciIsImludm9rZVdpdGhFcnJvckhhbmRsaW5nIiwiaGFuZGxlciIsIl9oYW5kbGVkIiwibG9nRXJyb3IiLCJ0aW1lckZ1bmMiLCJpc1VzaW5nTWljcm9UYXNrIiwiY2FsbGJhY2tzIiwicGVuZGluZyIsImZsdXNoQ2FsbGJhY2tzIiwiY29waWVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiTXV0YXRpb25PYnNlcnZlciIsInNldEltbWVkaWF0ZSIsImNvdW50ZXIiLCJvYnNlcnZlciIsInRleHROb2RlIiwiY2hhcmFjdGVyRGF0YSIsIm5leHRUaWNrIiwiY2IiLCJfcmVzb2x2ZSIsInNlZW5PYmplY3RzIiwidHJhdmVyc2UiLCJfdHJhdmVyc2UiLCJzZWVuIiwiaXNBIiwiaXNGcm96ZW4iLCJkZXBJZCIsIm5vcm1hbGl6ZUV2ZW50IiwicGFzc2l2ZSIsIm9uY2UkJDEiLCJjYXB0dXJlIiwiY3JlYXRlRm5JbnZva2VyIiwiZm5zIiwiaW52b2tlciIsImFyZ3VtZW50cyQxIiwidXBkYXRlTGlzdGVuZXJzIiwib24iLCJvbGRPbiIsInJlbW92ZSQkMSIsImNyZWF0ZU9uY2VIYW5kbGVyIiwib2xkIiwicGFyYW1zIiwibWVyZ2VWTm9kZUhvb2siLCJob29rS2V5Iiwib2xkSG9vayIsIndyYXBwZWRIb29rIiwibWVyZ2VkIiwiY2hlY2tQcm9wIiwiaGFzaCIsImFsdEtleSIsInByZXNlcnZlIiwibm9ybWFsaXplQ2hpbGRyZW4iLCJub3JtYWxpemVBcnJheUNoaWxkcmVuIiwiaXNUZXh0Tm9kZSIsImlzRmFsc2UiLCJuZXN0ZWRJbmRleCIsImxhc3RJbmRleCIsImxhc3QiLCJzaGlmdCIsIl9pc1ZMaXN0IiwicmVzb2x2ZUluamVjdCIsInByb3ZpZGVLZXkiLCJfcHJvdmlkZWQiLCJwcm92aWRlRGVmYXVsdCIsInJlc29sdmVTbG90cyIsInNsb3RzIiwiYXR0cnMiLCJzbG90IiwibmFtZSQxIiwiaXNXaGl0ZXNwYWNlIiwibm9ybWFsaXplU2NvcGVkU2xvdHMiLCJub3JtYWxTbG90cyIsInByZXZTbG90cyIsImhhc05vcm1hbFNsb3RzIiwiaXNTdGFibGUiLCIkc3RhYmxlIiwiJGtleSIsIl9ub3JtYWxpemVkIiwiJGhhc05vcm1hbCIsIm5vcm1hbGl6ZVNjb3BlZFNsb3QiLCJrZXkkMiIsInByb3h5Tm9ybWFsU2xvdCIsInByb3h5IiwicmVuZGVyTGlzdCIsInJlbmRlciIsInJlbmRlclNsb3QiLCJmYWxsYmFjayIsImJpbmRPYmplY3QiLCJub2RlcyIsInNjb3BlZFNsb3RGbiIsIiRzY29wZWRTbG90cyIsIiRzbG90cyIsIiRjcmVhdGVFbGVtZW50IiwicmVzb2x2ZUZpbHRlciIsImlzS2V5Tm90TWF0Y2giLCJleHBlY3QiLCJhY3R1YWwiLCJjaGVja0tleUNvZGVzIiwiZXZlbnRLZXlDb2RlIiwiYnVpbHRJbktleUNvZGUiLCJldmVudEtleU5hbWUiLCJidWlsdEluS2V5TmFtZSIsIm1hcHBlZEtleUNvZGUiLCJiaW5kT2JqZWN0UHJvcHMiLCJhc1Byb3AiLCJpc1N5bmMiLCJsb29wIiwiZG9tUHJvcHMiLCJjYW1lbGl6ZWRLZXkiLCJoeXBoZW5hdGVkS2V5IiwiJGV2ZW50IiwicmVuZGVyU3RhdGljIiwiaXNJbkZvciIsIl9zdGF0aWNUcmVlcyIsInRyZWUiLCJtYXJrU3RhdGljIiwic3RhdGljUmVuZGVyRm5zIiwiX3JlbmRlclByb3h5IiwibWFya09uY2UiLCJtYXJrU3RhdGljTm9kZSIsImJpbmRPYmplY3RMaXN0ZW5lcnMiLCJleGlzdGluZyIsIm91cnMiLCJyZXNvbHZlU2NvcGVkU2xvdHMiLCJoYXNEeW5hbWljS2V5cyIsImNvbnRlbnRIYXNoS2V5IiwiYmluZER5bmFtaWNLZXlzIiwiYmFzZU9iaiIsInByZXBlbmRNb2RpZmllciIsInN5bWJvbCIsImluc3RhbGxSZW5kZXJIZWxwZXJzIiwiX28iLCJfbCIsIl90IiwiX3EiLCJfbSIsIl9mIiwiX2siLCJfdiIsIl91IiwiX2ciLCJfcCIsIkZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0IiwiY29udGV4dFZtIiwidGhpcyQxIiwiX29yaWdpbmFsIiwiaXNDb21waWxlZCIsIl9jb21waWxlZCIsIm5lZWROb3JtYWxpemF0aW9uIiwibGlzdGVuZXJzIiwiaW5qZWN0aW9ucyIsInNjb3BlZFNsb3RzIiwiX3Njb3BlSWQiLCJjbG9uZUFuZE1hcmtGdW5jdGlvbmFsUmVzdWx0IiwicmVuZGVyQ29udGV4dCIsImNsb25lIiwibWVyZ2VQcm9wcyIsImNvbXBvbmVudFZOb2RlSG9va3MiLCJpbml0IiwiaHlkcmF0aW5nIiwiX2lzRGVzdHJveWVkIiwia2VlcEFsaXZlIiwibW91bnRlZE5vZGUiLCJwcmVwYXRjaCIsIl9pc0NvbXBvbmVudCIsIl9wYXJlbnRWbm9kZSIsImlubGluZVRlbXBsYXRlIiwiY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSIsImFjdGl2ZUluc3RhbmNlIiwiJG1vdW50Iiwib2xkVm5vZGUiLCJwYXJlbnRWbm9kZSIsInJlbmRlckNoaWxkcmVuIiwibmV3U2NvcGVkU2xvdHMiLCJvbGRTY29wZWRTbG90cyIsImhhc0R5bmFtaWNTY29wZWRTbG90IiwibmVlZHNGb3JjZVVwZGF0ZSIsIl9yZW5kZXJDaGlsZHJlbiIsIiR2bm9kZSIsIl92bm9kZSIsIiRhdHRycyIsIiRsaXN0ZW5lcnMiLCJwcm9wS2V5cyIsIl9wcm9wS2V5cyIsIm9sZExpc3RlbmVycyIsIl9wYXJlbnRMaXN0ZW5lcnMiLCJ1cGRhdGVDb21wb25lbnRMaXN0ZW5lcnMiLCIkZm9yY2VVcGRhdGUiLCJ1cGRhdGVDaGlsZENvbXBvbmVudCIsIl9pc01vdW50ZWQiLCJjYWxsSG9vayIsIl9pbmFjdGl2ZSIsImFjdGl2YXRlZENoaWxkcmVuIiwiYWN0aXZhdGVDaGlsZENvbXBvbmVudCIsImRlc3Ryb3kiLCJkZWFjdGl2YXRlQ2hpbGRDb21wb25lbnQiLCIkZGVzdHJveSIsImhvb2tzVG9NZXJnZSIsImNyZWF0ZUNvbXBvbmVudCIsImJhc2VDdG9yIiwiY2lkIiwiZmFjdG9yeSIsImVycm9yQ29tcCIsInJlc29sdmVkIiwib3duZXIiLCJjdXJyZW50UmVuZGVyaW5nSW5zdGFuY2UiLCJvd25lcnMiLCJsb2FkaW5nIiwibG9hZGluZ0NvbXAiLCJzeW5jIiwidGltZXJMb2FkaW5nIiwidGltZXJUaW1lb3V0IiwiJG9uIiwiZm9yY2VSZW5kZXIiLCJyZW5kZXJDb21wbGV0ZWQiLCJjbGVhclRpbWVvdXQiLCJlbnN1cmVDdG9yIiwicmVqZWN0IiwicmVhc29uIiwiY29tcG9uZW50IiwiZGVsYXkiLCJ0aW1lb3V0IiwicmVzb2x2ZUFzeW5jQ29tcG9uZW50IiwiY3JlYXRlQXN5bmNQbGFjZWhvbGRlciIsInJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMiLCJtb2RlbCIsInRyYW5zZm9ybU1vZGVsIiwiZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YSIsImZ1bmN0aW9uYWwiLCJ2bm9kZXMiLCJjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50IiwibmF0aXZlT24iLCJhYnN0cmFjdCIsInRvTWVyZ2UiLCJfbWVyZ2VkIiwibWVyZ2VIb29rJDEiLCJpbnN0YWxsQ29tcG9uZW50SG9va3MiLCJmMSIsImYyIiwibm9ybWFsaXphdGlvblR5cGUiLCJhbHdheXNOb3JtYWxpemUiLCJzaW1wbGVOb3JtYWxpemVDaGlsZHJlbiIsInByZSIsImFwcGx5TlMiLCJjbGFzcyIsInJlZ2lzdGVyRGVlcEJpbmRpbmdzIiwiX2NyZWF0ZUVsZW1lbnQiLCJmb3JjZSIsImNvbXAiLCJnZXRGaXJzdENvbXBvbmVudENoaWxkIiwicmVtb3ZlJDEiLCIkb2ZmIiwiX3RhcmdldCIsIm9uY2VIYW5kbGVyIiwic2V0QWN0aXZlSW5zdGFuY2UiLCJwcmV2QWN0aXZlSW5zdGFuY2UiLCJpc0luSW5hY3RpdmVUcmVlIiwiZGlyZWN0IiwiX2RpcmVjdEluYWN0aXZlIiwiJGNoaWxkcmVuIiwiaGFuZGxlcnMiLCJqIiwiX2hhc0hvb2tFdmVudCIsIiRlbWl0IiwicXVldWUiLCJ3YWl0aW5nIiwiZmx1c2hpbmciLCJjdXJyZW50Rmx1c2hUaW1lc3RhbXAiLCJnZXROb3ciLCJjcmVhdGVFdmVudCIsInRpbWVTdGFtcCIsImZsdXNoU2NoZWR1bGVyUXVldWUiLCJ3YXRjaGVyIiwiYmVmb3JlIiwicnVuIiwiYWN0aXZhdGVkUXVldWUiLCJ1cGRhdGVkUXVldWUiLCJjYWxsQWN0aXZhdGVkSG9va3MiLCJfd2F0Y2hlciIsImNhbGxVcGRhdGVkSG9va3MiLCJlbWl0IiwidWlkJDIiLCJXYXRjaGVyIiwiZXhwT3JGbiIsImlzUmVuZGVyV2F0Y2hlciIsIl93YXRjaGVycyIsImRlZXAiLCJ1c2VyIiwibGF6eSIsImFjdGl2ZSIsImRpcnR5IiwiZGVwcyIsIm5ld0RlcHMiLCJkZXBJZHMiLCJuZXdEZXBJZHMiLCJleHByZXNzaW9uIiwic2VnbWVudHMiLCJwYXJzZVBhdGgiLCJjbGVhbnVwRGVwcyIsInRtcCIsInF1ZXVlV2F0Y2hlciIsIm9sZFZhbHVlIiwiZXZhbHVhdGUiLCJ0ZWFyZG93biIsIl9pc0JlaW5nRGVzdHJveWVkIiwic2hhcmVkUHJvcGVydHlEZWZpbml0aW9uIiwic291cmNlS2V5IiwiY29tcHV0ZWRXYXRjaGVyT3B0aW9ucyIsImRlZmluZUNvbXB1dGVkIiwidXNlckRlZiIsInNob3VsZENhY2hlIiwiY3JlYXRlQ29tcHV0ZWRHZXR0ZXIiLCJjcmVhdGVHZXR0ZXJJbnZva2VyIiwiX2NvbXB1dGVkV2F0Y2hlcnMiLCJjcmVhdGVXYXRjaGVyIiwiJHdhdGNoIiwidWlkJDMiLCJzdXBlciIsInN1cGVyT3B0aW9ucyIsIm1vZGlmaWVkT3B0aW9ucyIsIm1vZGlmaWVkIiwibGF0ZXN0Iiwic2VhbGVkIiwic2VhbGVkT3B0aW9ucyIsInJlc29sdmVNb2RpZmllZE9wdGlvbnMiLCJleHRlbmRPcHRpb25zIiwiY29tcG9uZW50cyIsIlZ1ZSIsIl9pbml0IiwiZ2V0Q29tcG9uZW50TmFtZSIsIm1hdGNoZXMiLCJwcnVuZUNhY2hlIiwia2VlcEFsaXZlSW5zdGFuY2UiLCJjYWNoZWROb2RlIiwicHJ1bmVDYWNoZUVudHJ5IiwiY3VycmVudCIsImNhY2hlZCQkMSIsIl91aWQiLCJ2bm9kZUNvbXBvbmVudE9wdGlvbnMiLCJfY29tcG9uZW50VGFnIiwiaW5pdEludGVybmFsQ29tcG9uZW50IiwiX3NlbGYiLCIkcm9vdCIsIiRyZWZzIiwiaW5pdExpZmVjeWNsZSIsImluaXRFdmVudHMiLCJwYXJlbnREYXRhIiwiaW5pdFJlbmRlciIsImluaXRJbmplY3Rpb25zIiwicHJvcHNPcHRpb25zIiwiaW5pdFByb3BzIiwiaW5pdE1ldGhvZHMiLCJfZGF0YSIsImdldERhdGEiLCJpbml0RGF0YSIsIndhdGNoZXJzIiwiaXNTU1IiLCJpbml0Q29tcHV0ZWQiLCJpbml0V2F0Y2giLCJpbml0U3RhdGUiLCJpbml0UHJvdmlkZSIsImluaXRNaXhpbiIsIiRzZXQiLCIkZGVsZXRlIiwiaW1tZWRpYXRlIiwic3RhdGVNaXhpbiIsImhvb2tSRSIsIiRvbmNlIiwiaSQxIiwiY2JzIiwiZXZlbnRzTWl4aW4iLCJfdXBkYXRlIiwicHJldkVsIiwiJGVsIiwicHJldlZub2RlIiwicmVzdG9yZUFjdGl2ZUluc3RhbmNlIiwiX19wYXRjaF9fIiwiX192dWVfXyIsImxpZmVjeWNsZU1peGluIiwiJG5leHRUaWNrIiwiX3JlbmRlciIsInJlZiIsInJlbmRlck1peGluIiwicGF0dGVyblR5cGVzIiwiYnVpbHRJbkNvbXBvbmVudHMiLCJLZWVwQWxpdmUiLCJpbmNsdWRlIiwiZXhjbHVkZSIsIk51bWJlciIsImNyZWF0ZWQiLCJkZXN0cm95ZWQiLCJtb3VudGVkIiwiY29uZmlnRGVmIiwidXRpbCIsImRlZmluZVJlYWN0aXZlIiwidXNlIiwicGx1Z2luIiwiaW5zdGFsbGVkUGx1Z2lucyIsIl9pbnN0YWxsZWRQbHVnaW5zIiwidW5zaGlmdCIsImluc3RhbGwiLCJpbml0VXNlIiwibWl4aW4iLCJpbml0TWl4aW4kMSIsIlN1cGVyIiwiU3VwZXJJZCIsImNhY2hlZEN0b3JzIiwiX0N0b3IiLCJTdWIiLCJDb21wIiwiaW5pdFByb3BzJDEiLCJpbml0Q29tcHV0ZWQkMSIsImluaXRFeHRlbmQiLCJpbml0QXNzZXRSZWdpc3RlcnMiLCJpbml0R2xvYmFsQVBJIiwic3NyQ29udGV4dCIsInZlcnNpb24iLCJhY2NlcHRWYWx1ZSIsImlzRW51bWVyYXRlZEF0dHIiLCJpc1ZhbGlkQ29udGVudEVkaXRhYmxlVmFsdWUiLCJpc0Jvb2xlYW5BdHRyIiwieGxpbmtOUyIsImlzWGxpbmsiLCJnZXRYbGlua1Byb3AiLCJpc0ZhbHN5QXR0clZhbHVlIiwibWVyZ2VDbGFzc0RhdGEiLCJzdGF0aWNDbGFzcyIsInN0cmluZ2lmeUNsYXNzIiwic3RyaW5naWZpZWQiLCJzdHJpbmdpZnlBcnJheSIsInN0cmluZ2lmeU9iamVjdCIsIm5hbWVzcGFjZU1hcCIsInN2ZyIsIm1hdGgiLCJpc0hUTUxUYWciLCJpc1NWRyIsInVua25vd25FbGVtZW50Q2FjaGUiLCJpc1RleHRJbnB1dFR5cGUiLCJub2RlT3BzIiwibXVsdGlwbGUiLCJjcmVhdGVFbGVtZW50TlMiLCJjcmVhdGVDb21tZW50IiwibmV3Tm9kZSIsInJlZmVyZW5jZU5vZGUiLCJuZXh0U2libGluZyIsInNldFRleHRDb250ZW50IiwidGV4dENvbnRlbnQiLCJzZXRTdHlsZVNjb3BlIiwic2NvcGVJZCIsInJlZ2lzdGVyUmVmIiwiaXNSZW1vdmFsIiwicmVmcyIsInJlZkluRm9yIiwiZW1wdHlOb2RlIiwic2FtZVZub2RlIiwidHlwZUEiLCJ0eXBlQiIsInNhbWVJbnB1dFR5cGUiLCJjcmVhdGVLZXlUb09sZElkeCIsImJlZ2luSWR4IiwiZW5kSWR4IiwidXBkYXRlRGlyZWN0aXZlcyIsIm9sZERpciIsImRpciIsImlzQ3JlYXRlIiwiaXNEZXN0cm95Iiwib2xkRGlycyIsIm5vcm1hbGl6ZURpcmVjdGl2ZXMkMSIsIm5ld0RpcnMiLCJkaXJzV2l0aEluc2VydCIsImRpcnNXaXRoUG9zdHBhdGNoIiwib2xkQXJnIiwiYXJnIiwiY2FsbEhvb2skMSIsImNvbXBvbmVudFVwZGF0ZWQiLCJjYWxsSW5zZXJ0IiwiZW1wdHlNb2RpZmllcnMiLCJtb2RpZmllcnMiLCJnZXRSYXdEaXJOYW1lIiwicmF3TmFtZSIsImJhc2VNb2R1bGVzIiwidXBkYXRlQXR0cnMiLCJpbmhlcml0QXR0cnMiLCJvbGRBdHRycyIsInNldEF0dHIiLCJyZW1vdmVBdHRyaWJ1dGVOUyIsImJhc2VTZXRBdHRyIiwiY29udmVydEVudW1lcmF0ZWRWYWx1ZSIsInNldEF0dHJpYnV0ZU5TIiwiX19pZXBoIiwiYmxvY2tlciIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVDbGFzcyIsIm9sZERhdGEiLCJjbHMiLCJjaGlsZE5vZGUiLCJkeW5hbWljQ2xhc3MiLCJnZW5DbGFzc0ZvclZub2RlIiwidHJhbnNpdGlvbkNsYXNzIiwiX3RyYW5zaXRpb25DbGFzc2VzIiwiX3ByZXZDbGFzcyIsImNociIsImluZGV4JDEiLCJleHByZXNzaW9uUG9zIiwiZXhwcmVzc2lvbkVuZFBvcyIsImtsYXNzIiwidmFsaWREaXZpc2lvbkNoYXJSRSIsInBhcnNlRmlsdGVycyIsImV4cCIsInByZXYiLCJmaWx0ZXJzIiwiaW5TaW5nbGUiLCJpbkRvdWJsZSIsImluVGVtcGxhdGVTdHJpbmciLCJpblJlZ2V4IiwiY3VybHkiLCJzcXVhcmUiLCJwYXJlbiIsImxhc3RGaWx0ZXJJbmRleCIsInRyaW0iLCJwdXNoRmlsdGVyIiwid3JhcEZpbHRlciIsImJhc2VXYXJuIiwibXNnIiwicmFuZ2UiLCJwbHVja01vZHVsZUZ1bmN0aW9uIiwiYWRkUHJvcCIsImR5bmFtaWMiLCJyYW5nZVNldEl0ZW0iLCJwbGFpbiIsImFkZEF0dHIiLCJkeW5hbWljQXR0cnMiLCJhZGRSYXdBdHRyIiwiYXR0cnNNYXAiLCJhdHRyc0xpc3QiLCJhZGREaXJlY3RpdmUiLCJpc0R5bmFtaWNBcmciLCJwcmVwZW5kTW9kaWZpZXJNYXJrZXIiLCJhZGRIYW5kbGVyIiwiaW1wb3J0YW50IiwiZXZlbnRzIiwicmlnaHQiLCJtaWRkbGUiLCJuYXRpdmUiLCJuYXRpdmVFdmVudHMiLCJuZXdIYW5kbGVyIiwiZ2V0QmluZGluZ0F0dHIiLCJnZXRTdGF0aWMiLCJkeW5hbWljVmFsdWUiLCJnZXRBbmRSZW1vdmVBdHRyIiwic3RhdGljVmFsdWUiLCJyZW1vdmVGcm9tTWFwIiwiZ2V0QW5kUmVtb3ZlQXR0ckJ5UmVnZXgiLCJlbmQiLCJnZW5Db21wb25lbnRNb2RlbCIsIm51bWJlciIsInZhbHVlRXhwcmVzc2lvbiIsImFzc2lnbm1lbnQiLCJnZW5Bc3NpZ25tZW50Q29kZSIsImxhc3RJbmRleE9mIiwiZW9mIiwiaXNTdHJpbmdTdGFydCIsInBhcnNlU3RyaW5nIiwicGFyc2VCcmFja2V0IiwicGFyc2VNb2RlbCIsImluQnJhY2tldCIsInN0cmluZ1F1b3RlIiwidGFyZ2V0JDEiLCJjcmVhdGVPbmNlSGFuZGxlciQxIiwicmVtb3ZlJDIiLCJ1c2VNaWNyb3Rhc2tGaXgiLCJhZGQkMSIsImF0dGFjaGVkVGltZXN0YW1wIiwiX3dyYXBwZXIiLCJvd25lckRvY3VtZW50IiwidXBkYXRlRE9NTGlzdGVuZXJzIiwiY2hhbmdlIiwibm9ybWFsaXplRXZlbnRzIiwic3ZnQ29udGFpbmVyIiwidXBkYXRlRE9NUHJvcHMiLCJvbGRQcm9wcyIsIl92YWx1ZSIsInN0ckN1ciIsInNob3VsZFVwZGF0ZVZhbHVlIiwiaW5uZXJIVE1MIiwiY2hlY2tWYWwiLCJjb21wb3NpbmciLCJub3RJbkZvY3VzIiwiYWN0aXZlRWxlbWVudCIsImlzTm90SW5Gb2N1c0FuZERpcnR5IiwiX3ZNb2RpZmllcnMiLCJpc0RpcnR5V2l0aE1vZGlmaWVycyIsInBhcnNlU3R5bGVUZXh0IiwicHJvcGVydHlEZWxpbWl0ZXIiLCJub3JtYWxpemVTdHlsZURhdGEiLCJub3JtYWxpemVTdHlsZUJpbmRpbmciLCJzdGF0aWNTdHlsZSIsImJpbmRpbmdTdHlsZSIsImVtcHR5U3R5bGUiLCJjc3NWYXJSRSIsImltcG9ydGFudFJFIiwic2V0UHJvcCIsInNldFByb3BlcnR5Iiwibm9ybWFsaXplZE5hbWUiLCJ2ZW5kb3JOYW1lcyIsImNhcE5hbWUiLCJ1cGRhdGVTdHlsZSIsIm9sZFN0YXRpY1N0eWxlIiwib2xkU3R5bGVCaW5kaW5nIiwibm9ybWFsaXplZFN0eWxlIiwib2xkU3R5bGUiLCJuZXdTdHlsZSIsImNoZWNrQ2hpbGQiLCJzdHlsZURhdGEiLCJnZXRTdHlsZSIsIndoaXRlc3BhY2VSRSIsImFkZENsYXNzIiwiY2xhc3NMaXN0IiwicmVtb3ZlQ2xhc3MiLCJ0YXIiLCJyZXNvbHZlVHJhbnNpdGlvbiIsImF1dG9Dc3NUcmFuc2l0aW9uIiwiZW50ZXJDbGFzcyIsImVudGVyVG9DbGFzcyIsImVudGVyQWN0aXZlQ2xhc3MiLCJsZWF2ZUNsYXNzIiwibGVhdmVUb0NsYXNzIiwibGVhdmVBY3RpdmVDbGFzcyIsImhhc1RyYW5zaXRpb24iLCJUUkFOU0lUSU9OIiwiQU5JTUFUSU9OIiwidHJhbnNpdGlvblByb3AiLCJ0cmFuc2l0aW9uRW5kRXZlbnQiLCJhbmltYXRpb25Qcm9wIiwiYW5pbWF0aW9uRW5kRXZlbnQiLCJvbnRyYW5zaXRpb25lbmQiLCJvbndlYmtpdHRyYW5zaXRpb25lbmQiLCJvbmFuaW1hdGlvbmVuZCIsIm9ud2Via2l0YW5pbWF0aW9uZW5kIiwicmFmIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibmV4dEZyYW1lIiwiYWRkVHJhbnNpdGlvbkNsYXNzIiwidHJhbnNpdGlvbkNsYXNzZXMiLCJyZW1vdmVUcmFuc2l0aW9uQ2xhc3MiLCJ3aGVuVHJhbnNpdGlvbkVuZHMiLCJleHBlY3RlZFR5cGUiLCJnZXRUcmFuc2l0aW9uSW5mbyIsInByb3BDb3VudCIsImVuZGVkIiwib25FbmQiLCJ0cmFuc2Zvcm1SRSIsInN0eWxlcyIsImdldENvbXB1dGVkU3R5bGUiLCJ0cmFuc2l0aW9uRGVsYXlzIiwidHJhbnNpdGlvbkR1cmF0aW9ucyIsInRyYW5zaXRpb25UaW1lb3V0IiwiZ2V0VGltZW91dCIsImFuaW1hdGlvbkRlbGF5cyIsImFuaW1hdGlvbkR1cmF0aW9ucyIsImFuaW1hdGlvblRpbWVvdXQiLCJoYXNUcmFuc2Zvcm0iLCJkZWxheXMiLCJkdXJhdGlvbnMiLCJ0b01zIiwiZW50ZXIiLCJ0b2dnbGVEaXNwbGF5IiwiX2xlYXZlQ2IiLCJjYW5jZWxsZWQiLCJ0cmFuc2l0aW9uIiwiX2VudGVyQ2IiLCJub2RlVHlwZSIsImFwcGVhckNsYXNzIiwiYXBwZWFyVG9DbGFzcyIsImFwcGVhckFjdGl2ZUNsYXNzIiwiYmVmb3JlRW50ZXIiLCJhZnRlckVudGVyIiwiZW50ZXJDYW5jZWxsZWQiLCJiZWZvcmVBcHBlYXIiLCJhcHBlYXIiLCJhZnRlckFwcGVhciIsImFwcGVhckNhbmNlbGxlZCIsImR1cmF0aW9uIiwidHJhbnNpdGlvbk5vZGUiLCJpc0FwcGVhciIsInN0YXJ0Q2xhc3MiLCJhY3RpdmVDbGFzcyIsInRvQ2xhc3MiLCJiZWZvcmVFbnRlckhvb2siLCJlbnRlckhvb2siLCJhZnRlckVudGVySG9vayIsImVudGVyQ2FuY2VsbGVkSG9vayIsImV4cGxpY2l0RW50ZXJEdXJhdGlvbiIsImV4cGVjdHNDU1MiLCJ1c2VyV2FudHNDb250cm9sIiwiZ2V0SG9va0FyZ3VtZW50c0xlbmd0aCIsInNob3ciLCJwZW5kaW5nTm9kZSIsIl9wZW5kaW5nIiwiaXNWYWxpZER1cmF0aW9uIiwibGVhdmUiLCJybSIsImJlZm9yZUxlYXZlIiwiYWZ0ZXJMZWF2ZSIsImxlYXZlQ2FuY2VsbGVkIiwiZGVsYXlMZWF2ZSIsImV4cGxpY2l0TGVhdmVEdXJhdGlvbiIsInBlcmZvcm1MZWF2ZSIsImludm9rZXJGbnMiLCJfZW50ZXIiLCJwYXRjaCIsImJhY2tlbmQiLCJyZW1vdmVOb2RlIiwiY3JlYXRlRWxtIiwiaW5zZXJ0ZWRWbm9kZVF1ZXVlIiwicGFyZW50RWxtIiwicmVmRWxtIiwibmVzdGVkIiwib3duZXJBcnJheSIsImlzUmVhY3RpdmF0ZWQiLCJpbml0Q29tcG9uZW50IiwiaW5uZXJOb2RlIiwiYWN0aXZhdGUiLCJyZWFjdGl2YXRlQ29tcG9uZW50Iiwic2V0U2NvcGUiLCJjcmVhdGVDaGlsZHJlbiIsImludm9rZUNyZWF0ZUhvb2tzIiwicGVuZGluZ0luc2VydCIsImlzUGF0Y2hhYmxlIiwicmVmJCQxIiwiYW5jZXN0b3IiLCJhZGRWbm9kZXMiLCJzdGFydElkeCIsImludm9rZURlc3Ryb3lIb29rIiwicmVtb3ZlVm5vZGVzIiwiY2giLCJyZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rIiwiY2hpbGRFbG0iLCJjcmVhdGVSbUNiIiwiZmluZElkeEluT2xkIiwib2xkQ2giLCJwYXRjaFZub2RlIiwicmVtb3ZlT25seSIsImh5ZHJhdGUiLCJuZXdDaCIsIm9sZEtleVRvSWR4IiwiaWR4SW5PbGQiLCJ2bm9kZVRvTW92ZSIsIm9sZFN0YXJ0SWR4IiwibmV3U3RhcnRJZHgiLCJvbGRFbmRJZHgiLCJvbGRTdGFydFZub2RlIiwib2xkRW5kVm5vZGUiLCJuZXdFbmRJZHgiLCJuZXdTdGFydFZub2RlIiwibmV3RW5kVm5vZGUiLCJjYW5Nb3ZlIiwidXBkYXRlQ2hpbGRyZW4iLCJwb3N0cGF0Y2giLCJpbnZva2VJbnNlcnRIb29rIiwiaW5pdGlhbCIsImlzUmVuZGVyZWRNb2R1bGUiLCJpblZQcmUiLCJoYXNDaGlsZE5vZGVzIiwiY2hpbGRyZW5NYXRjaCIsImZ1bGxJbnZva2UiLCJpc0luaXRpYWxQYXRjaCIsImlzUmVhbEVsZW1lbnQiLCJoYXNBdHRyaWJ1dGUiLCJvbGRFbG0iLCJwYXRjaGFibGUiLCJpJDIiLCJjcmVhdGVQYXRjaEZ1bmN0aW9uIiwidm1vZGVsIiwidHJpZ2dlciIsImRpcmVjdGl2ZSIsImJpbmRpbmciLCJfdk9wdGlvbnMiLCJzZXRTZWxlY3RlZCIsImdldFZhbHVlIiwib25Db21wb3NpdGlvblN0YXJ0Iiwib25Db21wb3NpdGlvbkVuZCIsInByZXZPcHRpb25zIiwiY3VyT3B0aW9ucyIsInNvbWUiLCJoYXNOb01hdGNoaW5nT3B0aW9uIiwiYWN0dWFsbHlTZXRTZWxlY3RlZCIsImlzTXVsdGlwbGUiLCJzZWxlY3RlZCIsIm9wdGlvbiIsInNlbGVjdGVkSW5kZXgiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwibG9jYXRlTm9kZSIsInBsYXRmb3JtRGlyZWN0aXZlcyIsInRyYW5zaXRpb24kJDEiLCJvcmlnaW5hbERpc3BsYXkiLCJfX3ZPcmlnaW5hbERpc3BsYXkiLCJkaXNwbGF5IiwidW5iaW5kIiwidHJhbnNpdGlvblByb3BzIiwibW9kZSIsImdldFJlYWxDaGlsZCIsImNvbXBPcHRpb25zIiwiZXh0cmFjdFRyYW5zaXRpb25EYXRhIiwicGxhY2Vob2xkZXIiLCJoIiwicmF3Q2hpbGQiLCJpc05vdFRleHROb2RlIiwiaXNWU2hvd0RpcmVjdGl2ZSIsIlRyYW5zaXRpb24iLCJoYXNQYXJlbnRUcmFuc2l0aW9uIiwiX2xlYXZpbmciLCJvbGRSYXdDaGlsZCIsIm9sZENoaWxkIiwiaXNTYW1lQ2hpbGQiLCJkZWxheWVkTGVhdmUiLCJtb3ZlQ2xhc3MiLCJjYWxsUGVuZGluZ0NicyIsIl9tb3ZlQ2IiLCJyZWNvcmRQb3NpdGlvbiIsIm5ld1BvcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFwcGx5VHJhbnNsYXRpb24iLCJvbGRQb3MiLCJwb3MiLCJkeCIsImxlZnQiLCJkeSIsInRvcCIsIm1vdmVkIiwidHJhbnNmb3JtIiwiV2Via2l0VHJhbnNmb3JtIiwidHJhbnNpdGlvbkR1cmF0aW9uIiwicGxhdGZvcm1Db21wb25lbnRzIiwiVHJhbnNpdGlvbkdyb3VwIiwiYmVmb3JlTW91bnQiLCJrZXB0IiwicHJldkNoaWxkcmVuIiwicmF3Q2hpbGRyZW4iLCJ0cmFuc2l0aW9uRGF0YSIsInJlbW92ZWQiLCJjJDEiLCJ1cGRhdGVkIiwiaGFzTW92ZSIsIl9yZWZsb3ciLCJib2R5Iiwib2Zmc2V0SGVpZ2h0IiwicHJvcGVydHlOYW1lIiwiX2hhc01vdmUiLCJjbG9uZU5vZGUiLCJIVE1MVW5rbm93bkVsZW1lbnQiLCJIVE1MRWxlbWVudCIsInVwZGF0ZUNvbXBvbmVudCIsIm1vdW50Q29tcG9uZW50IiwiZGVjb2RlciIsImRlZmF1bHRUYWdSRSIsInJlZ2V4RXNjYXBlUkUiLCJidWlsZFJlZ2V4IiwiZGVsaW1pdGVycyIsIm9wZW4iLCJjbG9zZSIsImtsYXNzJDEiLCJzdGF0aWNLZXlzIiwidHJhbnNmb3JtTm9kZSIsImNsYXNzQmluZGluZyIsImdlbkRhdGEiLCJzdHlsZSQxIiwic3R5bGVCaW5kaW5nIiwiaXNVbmFyeVRhZyIsImNhbkJlTGVmdE9wZW5UYWciLCJpc05vblBocmFzaW5nVGFnIiwiYXR0cmlidXRlIiwiZHluYW1pY0FyZ0F0dHJpYnV0ZSIsIm5jbmFtZSIsInFuYW1lQ2FwdHVyZSIsInN0YXJ0VGFnT3BlbiIsInN0YXJ0VGFnQ2xvc2UiLCJlbmRUYWciLCJkb2N0eXBlIiwiY29tbWVudCIsImNvbmRpdGlvbmFsQ29tbWVudCIsImlzUGxhaW5UZXh0RWxlbWVudCIsInJlQ2FjaGUiLCJkZWNvZGluZ01hcCIsImVuY29kZWRBdHRyIiwiZW5jb2RlZEF0dHJXaXRoTmV3TGluZXMiLCJpc0lnbm9yZU5ld2xpbmVUYWciLCJzaG91bGRJZ25vcmVGaXJzdE5ld2xpbmUiLCJodG1sIiwiZGVjb2RlQXR0ciIsInNob3VsZERlY29kZU5ld2xpbmVzIiwicmUiLCJ3YXJuJDIiLCJ0cmFuc2Zvcm1zIiwicHJlVHJhbnNmb3JtcyIsInBvc3RUcmFuc2Zvcm1zIiwicGxhdGZvcm1Jc1ByZVRhZyIsInBsYXRmb3JtTXVzdFVzZVByb3AiLCJwbGF0Zm9ybUdldFRhZ05hbWVzcGFjZSIsIm9uUkUiLCJkaXJSRSIsImZvckFsaWFzUkUiLCJmb3JJdGVyYXRvclJFIiwic3RyaXBQYXJlbnNSRSIsImR5bmFtaWNBcmdSRSIsImFyZ1JFIiwiYmluZFJFIiwibW9kaWZpZXJSRSIsInNsb3RSRSIsImxpbmVCcmVha1JFIiwid2hpdGVzcGFjZVJFJDEiLCJkZWNvZGVIVE1MQ2FjaGVkIiwiZW1wdHlTbG90U2NvcGVUb2tlbiIsImNyZWF0ZUFTVEVsZW1lbnQiLCJtYWtlQXR0cnNNYXAiLCJyYXdBdHRyc01hcCIsInByb2Nlc3NFbGVtZW50IiwiZWxlbWVudCIsInByb2Nlc3NLZXkiLCJmb3IiLCJjaGVja0luRm9yIiwicHJvY2Vzc1JlZiIsInNsb3RTY29wZSIsInNsb3RUYXJnZXQiLCJzbG90VGFyZ2V0RHluYW1pYyIsImdldFJhd0JpbmRpbmdBdHRyIiwic2xvdEJpbmRpbmciLCJnZXRTbG90TmFtZSIsInNsb3RCaW5kaW5nJDEiLCJyZWYkMSIsImR5bmFtaWMkMSIsInNsb3RDb250YWluZXIiLCJwcm9jZXNzU2xvdENvbnRlbnQiLCJzbG90TmFtZSIsInByb2Nlc3NDb21wb25lbnQiLCJzeW5jR2VuIiwiaXNEeW5hbWljIiwiaGFzQmluZGluZ3MiLCJwYXJzZU1vZGlmaWVycyIsImNhbWVsIiwiYXJnTWF0Y2giLCJwcm9jZXNzQXR0cnMiLCJwcm9jZXNzRm9yIiwiaW5NYXRjaCIsImFsaWFzIiwiaXRlcmF0b3JNYXRjaCIsIml0ZXJhdG9yMSIsIml0ZXJhdG9yMiIsInBhcnNlRm9yIiwiYWRkSWZDb25kaXRpb24iLCJjb25kaXRpb24iLCJpZkNvbmRpdGlvbnMiLCJpZU5TQnVnIiwiaWVOU1ByZWZpeCIsImNsb25lQVNURWxlbWVudCIsImlzU3RhdGljS2V5IiwiaXNQbGF0Zm9ybVJlc2VydmVkVGFnIiwibW9kdWxlcyQxIiwicHJlVHJhbnNmb3JtTm9kZSIsInR5cGVCaW5kaW5nIiwiaWZDb25kaXRpb24iLCJpZkNvbmRpdGlvbkV4dHJhIiwiaGFzRWxzZSIsImVsc2VJZkNvbmRpdGlvbiIsImJyYW5jaDAiLCJwcm9jZXNzZWQiLCJpZiIsImJsb2NrIiwiYnJhbmNoMSIsImJyYW5jaDIiLCJlbHNlIiwiZWxzZWlmIiwiYmFzZU9wdGlvbnMiLCJleHBlY3RIVE1MIiwiX3dhcm4iLCJjb2RlIiwiZ2VuU2VsZWN0IiwidmFsdWVCaW5kaW5nIiwidHJ1ZVZhbHVlQmluZGluZyIsImZhbHNlVmFsdWVCaW5kaW5nIiwiZ2VuQ2hlY2tib3hNb2RlbCIsImdlblJhZGlvTW9kZWwiLCJuZWVkQ29tcG9zaXRpb25HdWFyZCIsImdlbkRlZmF1bHRNb2RlbCIsImlzUHJlVGFnIiwiZ2VuU3RhdGljS2V5c0NhY2hlZCIsIm9wdGltaXplIiwibWFya1N0YXRpYyQxIiwibWFya1N0YXRpY1Jvb3RzIiwic3RhdGljIiwiaXNEaXJlY3RDaGlsZE9mVGVtcGxhdGVGb3IiLCJsJDEiLCJzdGF0aWNJbkZvciIsInN0YXRpY1Jvb3QiLCJmbkV4cFJFIiwiZm5JbnZva2VSRSIsInNpbXBsZVBhdGhSRSIsImVzYyIsInRhYiIsInNwYWNlIiwidXAiLCJkb3duIiwia2V5TmFtZXMiLCJnZW5HdWFyZCIsIm1vZGlmaWVyQ29kZSIsInN0b3AiLCJwcmV2ZW50IiwiY3RybCIsImFsdCIsIm1ldGEiLCJnZW5IYW5kbGVycyIsInByZWZpeCIsInN0YXRpY0hhbmRsZXJzIiwiZHluYW1pY0hhbmRsZXJzIiwiaGFuZGxlckNvZGUiLCJnZW5IYW5kbGVyIiwiaXNNZXRob2RQYXRoIiwiaXNGdW5jdGlvbkV4cHJlc3Npb24iLCJpc0Z1bmN0aW9uSW52b2NhdGlvbiIsImdlbk1vZGlmaWVyQ29kZSIsImtleU1vZGlmaWVyIiwiZ2VuRmlsdGVyQ29kZSIsImdlbktleUZpbHRlciIsImtleVZhbCIsImtleUNvZGUiLCJrZXlOYW1lIiwiYmFzZURpcmVjdGl2ZXMiLCJ3cmFwTGlzdGVuZXJzIiwid3JhcERhdGEiLCJjbG9hayIsIkNvZGVnZW5TdGF0ZSIsImRhdGFHZW5GbnMiLCJtYXliZUNvbXBvbmVudCIsIm9uY2VJZCIsImdlbmVyYXRlIiwiYXN0Iiwic3RhdGUiLCJnZW5FbGVtZW50Iiwic3RhdGljUHJvY2Vzc2VkIiwiZ2VuU3RhdGljIiwib25jZVByb2Nlc3NlZCIsImdlbk9uY2UiLCJmb3JQcm9jZXNzZWQiLCJnZW5Gb3IiLCJpZlByb2Nlc3NlZCIsImdlbklmIiwiZ2VuQ2hpbGRyZW4iLCJnZW5Qcm9wcyIsImJpbmQkJDEiLCJnZW5TbG90IiwiY29tcG9uZW50TmFtZSIsImdlbkRhdGEkMiIsImdlbkNvbXBvbmVudCIsIm9yaWdpbmFsUHJlU3RhdGUiLCJhbHRHZW4iLCJhbHRFbXB0eSIsImdlbklmQ29uZGl0aW9ucyIsImNvbmRpdGlvbnMiLCJnZW5UZXJuYXJ5RXhwIiwiYWx0SGVscGVyIiwibmVlZFJ1bnRpbWUiLCJoYXNSdW50aW1lIiwiZ2VuIiwiZ2VuRGlyZWN0aXZlcyIsImNvbnRhaW5zU2xvdENoaWxkIiwibmVlZHNLZXkiLCJnZW5lcmF0ZWRTbG90cyIsImdlblNjb3BlZFNsb3QiLCJpbmxpbmVSZW5kZXJGbnMiLCJnZW5JbmxpbmVUZW1wbGF0ZSIsImlzTGVnYWN5U3ludGF4IiwicmV2ZXJzZVByb3h5IiwiY2hlY2tTa2lwIiwiYWx0R2VuRWxlbWVudCIsImFsdEdlbk5vZGUiLCJlbCQxIiwibm9ybWFsaXphdGlvblR5cGUkMSIsIm5lZWRzTm9ybWFsaXphdGlvbiIsImdldE5vcm1hbGl6YXRpb25UeXBlIiwiZ2VuTm9kZSIsImdlbkNvbW1lbnQiLCJ0cmFuc2Zvcm1TcGVjaWFsTmV3bGluZXMiLCJzdGF0aWNQcm9wcyIsImR5bmFtaWNQcm9wcyIsImNyZWF0ZUZ1bmN0aW9uIiwiZXJyb3JzIiwiY3JlYXRlQ29tcGlsZVRvRnVuY3Rpb25GbiIsImNvbXBpbGUiLCJ0ZW1wbGF0ZSIsImNvbXBpbGVkIiwiZm5HZW5FcnJvcnMiLCJiYXNlQ29tcGlsZSIsImRpdiIsImN1cnJlbnRQYXJlbnQiLCJwcmVzZXJ2ZVdoaXRlc3BhY2UiLCJ3aGl0ZXNwYWNlT3B0aW9uIiwid2hpdGVzcGFjZSIsImluUHJlIiwiY2xvc2VFbGVtZW50IiwidHJpbUVuZGluZ1doaXRlc3BhY2UiLCJmb3JiaWRkZW4iLCJmaW5kUHJldkVsZW1lbnQiLCJsYXN0Tm9kZSIsImxhc3RUYWciLCJpc1VuYXJ5VGFnJCQxIiwiY2FuQmVMZWZ0T3BlblRhZyQkMSIsImVuZFRhZ0xlbmd0aCIsInN0YWNrZWRUYWciLCJyZVN0YWNrZWRUYWciLCJyZXN0JDEiLCJjaGFycyIsInBhcnNlRW5kVGFnIiwidGV4dEVuZCIsImNvbW1lbnRFbmQiLCJzaG91bGRLZWVwQ29tbWVudCIsInN1YnN0cmluZyIsImFkdmFuY2UiLCJjb25kaXRpb25hbEVuZCIsImRvY3R5cGVNYXRjaCIsImVuZFRhZ01hdGNoIiwiY3VySW5kZXgiLCJzdGFydFRhZ01hdGNoIiwicGFyc2VTdGFydFRhZyIsImhhbmRsZVN0YXJ0VGFnIiwicmVzdCIsInVuYXJ5U2xhc2giLCJ1bmFyeSIsInNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZiIsImxvd2VyQ2FzZWRUYWciLCJsb3dlckNhc2VkVGFnTmFtZSIsInBhcnNlSFRNTCIsImNvbW1lbnRzIiwib3V0cHV0U291cmNlUmFuZ2UiLCJzdGFydCQxIiwiZ3VhcmRJRVNWR0J1ZyIsInByb2Nlc3NQcmUiLCJwcm9jZXNzUmF3QXR0cnMiLCJwcm9jZXNzSWYiLCJwcm9jZXNzT25jZSIsImVuZCQxIiwidGFnUkUiLCJ0b2tlblZhbHVlIiwidG9rZW5zIiwicmF3VG9rZW5zIiwiZXhlYyIsInBhcnNlVGV4dCIsImZpbmFsT3B0aW9ucyIsInRpcHMiLCJ0aXAiLCJjb21waWxlVG9GdW5jdGlvbnMiLCJnZXRTaG91bGREZWNvZGUiLCJpZFRvVGVtcGxhdGUiLCJtb3VudCIsImRvY3VtZW50RWxlbWVudCIsIm91dGVySFRNTCIsImNvbnRhaW5lciIsImdldE91dGVySFRNTCIsIlNlc3Npb25TdGF0dXMiLCJTREtfVkVSU0lPTiIsIlN0YXRlcyIsIlN5bmNQcm9taXNlIiwiZXhlY3V0b3IiLCJfc3RhdGUiLCJQRU5ESU5HIiwiX2hhbmRsZXJzIiwiX3NldFJlc3VsdCIsIlJFU09MVkVEIiwiX3JlamVjdCIsIlJFSkVDVEVEIiwiX2V4ZWN1dGVIYW5kbGVycyIsIl9hdHRhY2hIYW5kbGVyIiwiY2FjaGVkSGFuZGxlcnMiLCJvbmZ1bGZpbGxlZCIsIm9ucmVqZWN0ZWQiLCJyZXNvbHZlZENvbGxlY3Rpb24iLCJmaW5hbGx5Iiwib25maW5hbGx5IiwiaXNSZWplY3RlZCIsIlNjb3BlIiwiX25vdGlmeWluZ0xpc3RlbmVycyIsIl9zY29wZUxpc3RlbmVycyIsIl9ldmVudFByb2Nlc3NvcnMiLCJfYnJlYWRjcnVtYnMiLCJfdXNlciIsIl90YWdzIiwiX2V4dHJhIiwiX2NvbnRleHRzIiwibmV3U2NvcGUiLCJfbGV2ZWwiLCJfc3BhbiIsIl9zZXNzaW9uIiwiX3RyYW5zYWN0aW9uTmFtZSIsIl9maW5nZXJwcmludCIsImFkZFNjb3BlTGlzdGVuZXIiLCJhZGRFdmVudFByb2Nlc3NvciIsInNldFVzZXIiLCJfbm90aWZ5U2NvcGVMaXN0ZW5lcnMiLCJnZXRVc2VyIiwic2V0VGFncyIsInRhZ3MiLCJzZXRUYWciLCJzZXRFeHRyYXMiLCJleHRyYXMiLCJzZXRFeHRyYSIsImV4dHJhIiwic2V0RmluZ2VycHJpbnQiLCJmaW5nZXJwcmludCIsInNldExldmVsIiwic2V0VHJhbnNhY3Rpb25OYW1lIiwic2V0VHJhbnNhY3Rpb24iLCJzZXRDb250ZXh0Iiwic2V0U3BhbiIsImdldFRyYW5zYWN0aW9uIiwidHJhbnNhY3Rpb24iLCJzcGFuUmVjb3JkZXIiLCJzcGFucyIsInNldFNlc3Npb24iLCJzZXNzaW9uIiwiZ2V0U2Vzc2lvbiIsImNhcHR1cmVDb250ZXh0IiwidXBkYXRlZFNjb3BlIiwiY29udGV4dHMiLCJhZGRCcmVhZGNydW1iIiwiYnJlYWRjcnVtYiIsIm1heEJyZWFkY3J1bWJzIiwibWVyZ2VkQnJlYWRjcnVtYiIsInRpbWVzdGFtcCIsImNsZWFyQnJlYWRjcnVtYnMiLCJhcHBseVRvRXZlbnQiLCJoaW50IiwidHJhY2UiLCJnZXRUcmFjZUNvbnRleHQiLCJ0cmFuc2FjdGlvbk5hbWUiLCJfYXBwbHlGaW5nZXJwcmludCIsImJyZWFkY3J1bWJzIiwiX25vdGlmeUV2ZW50UHJvY2Vzc29ycyIsImdldEdsb2JhbEV2ZW50UHJvY2Vzc29ycyIsInByb2Nlc3NvcnMiLCJwcm9jZXNzb3IiLCJmaW5hbCIsImdsb2JhbEV2ZW50UHJvY2Vzc29ycyIsImFkZEdsb2JhbEV2ZW50UHJvY2Vzc29yIiwiU2Vzc2lvbiIsInNpZCIsInN0YXJ0ZWQiLCJzdGF0dXMiLCJPayIsImlwX2FkZHJlc3MiLCJpcEFkZHJlc3MiLCJkaWQiLCJlbWFpbCIsInVzZXJuYW1lIiwicmVsZWFzZSIsImVudmlyb25tZW50IiwiRXhpdGVkIiwidG9JU09TdHJpbmciLCJ1c2VyX2FnZW50IiwiSHViIiwiX3ZlcnNpb24iLCJfc3RhY2siLCJnZXRTdGFja1RvcCIsImJpbmRDbGllbnQiLCJpc09sZGVyVGhhbiIsInNldHVwSW50ZWdyYXRpb25zIiwicHVzaFNjb3BlIiwiZ2V0U3RhY2siLCJnZXRDbGllbnQiLCJwb3BTY29wZSIsIndpdGhTY29wZSIsImNhcHR1cmVFeGNlcHRpb24iLCJldmVudElkIiwiX2xhc3RFdmVudElkIiwiZmluYWxIaW50Iiwic3ludGhldGljRXhjZXB0aW9uIiwib3JpZ2luYWxFeGNlcHRpb24iLCJfaW52b2tlQ2xpZW50IiwiY2FwdHVyZU1lc3NhZ2UiLCJjYXB0dXJlRXZlbnQiLCJsYXN0RXZlbnRJZCIsImdldE9wdGlvbnMiLCJiZWZvcmVCcmVhZGNydW1iIiwiZmluYWxCcmVhZGNydW1iIiwibWluIiwiY29uZmlndXJlU2NvcGUiLCJvbGRIdWIiLCJtYWtlTWFpbiIsImdldEludGVncmF0aW9uIiwiaW50ZWdyYXRpb24iLCJzdGFydFNwYW4iLCJfY2FsbEV4dGVuc2lvbk1ldGhvZCIsInN0YXJ0VHJhbnNhY3Rpb24iLCJjdXN0b21TYW1wbGluZ0NvbnRleHQiLCJ0cmFjZUhlYWRlcnMiLCJjYXB0dXJlU2Vzc2lvbiIsImVuZFNlc3Npb24iLCJfc2VuZFNlc3Npb25VcGRhdGUiLCJzdGFydFNlc3Npb24iLCJjdXJyZW50U2Vzc2lvbiIsImNhcnJpZXIiLCJnZXRNYWluQ2FycmllciIsInNlbnRyeSIsImV4dGVuc2lvbnMiLCJodWIiLCJyZWdpc3RyeSIsImdldEh1YkZyb21DYXJyaWVyIiwic2V0SHViT25DYXJyaWVyIiwiaGFzSHViT25DYXJyaWVyIiwiYWN0aXZlRG9tYWluIiwiZG9tYWluIiwicmVnaXN0cnlIdWJUb3BTdGFjayIsImdldEh1YkZyb21BY3RpdmVEb21haW4iLCJvcmlnaW5hbEZ1bmN0aW9uVG9TdHJpbmciLCJERUZBVUxUX0lHTk9SRV9FUlJPUlMiLCJJbmJvdW5kRmlsdGVycyIsIl9vcHRpb25zIiwiY2xpZW50T3B0aW9ucyIsIl9tZXJnZU9wdGlvbnMiLCJfc2hvdWxkRHJvcEV2ZW50IiwiX2lzU2VudHJ5RXJyb3IiLCJfaXNJZ25vcmVkRXJyb3IiLCJfaXNEZW5pZWRVcmwiLCJfZ2V0RXZlbnRGaWx0ZXJVcmwiLCJfaXNBbGxvd2VkVXJsIiwiaWdub3JlSW50ZXJuYWwiLCJpZ25vcmVFcnJvcnMiLCJfZ2V0UG9zc2libGVFdmVudE1lc3NhZ2VzIiwiZGVueVVybHMiLCJhbGxvd1VybHMiLCJ3aGl0ZWxpc3RVcmxzIiwiYmxhY2tsaXN0VXJscyIsInN0YWNrdHJhY2UiLCJmcmFtZXNfMSIsImZyYW1lcyIsImZpbGVuYW1lIiwiZnJhbWVzXzIiLCJGdW5jdGlvblRvU3RyaW5nIiwic3VwcG9ydHNGZXRjaCIsIkhlYWRlcnMiLCJSZXF1ZXN0IiwiUmVzcG9uc2UiLCJpc05hdGl2ZUZldGNoIiwiZnVuYyIsInN1cHBvcnRzUmVmZXJyZXJQb2xpY3kiLCJyZWZlcnJlclBvbGljeSIsImxhc3RIcmVmIiwiZGVib3VuY2VUaW1lcklEIiwibGFzdENhcHR1cmVkRXZlbnQiLCJpbnN0cnVtZW50ZWQiLCJhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyIiwib3JpZ2luYWxDb25zb2xlTGV2ZWwiLCJ0cmlnZ2VySGFuZGxlcnMiLCJ0cmlnZ2VyRE9NSGFuZGxlciIsImdsb2JhbERPTUV2ZW50SGFuZGxlciIsIm1ha2VET01FdmVudEhhbmRsZXIiLCJwcm90byIsIm9yaWdpbmFsQWRkRXZlbnRMaXN0ZW5lciIsImxpc3RlbmVyIiwiaGFuZGxlcnNfMSIsIl9fc2VudHJ5X2luc3RydW1lbnRhdGlvbl9oYW5kbGVyc19fIiwiaGFuZGxlckZvclR5cGUiLCJyZWZDb3VudCIsIm9yaWdpbmFsUmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZXJzXzIiLCJpbnN0cnVtZW50RE9NIiwicmVxdWVzdEtleXMiLCJyZXF1ZXN0VmFsdWVzIiwieGhycHJvdG8iLCJYTUxIdHRwUmVxdWVzdCIsIm9yaWdpbmFsT3BlbiIsInhociIsIl9fc2VudHJ5X3hocl9fIiwiX19zZW50cnlfb3duX3JlcXVlc3RfXyIsIm9ucmVhZHlzdGF0ZWNoYW5nZUhhbmRsZXIiLCJyZWFkeVN0YXRlIiwic3RhdHVzX2NvZGUiLCJyZXF1ZXN0UG9zIiwiYXJnc18xIiwiZW5kVGltZXN0YW1wIiwic3RhcnRUaW1lc3RhbXAiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlQXJncyIsIm9yaWdpbmFsU2VuZCIsImluc3RydW1lbnRYSFIiLCJmZXRjaCIsImRvYyIsInNhbmRib3giLCJoaWRkZW4iLCJjb250ZW50V2luZG93Iiwic3VwcG9ydHNOYXRpdmVGZXRjaCIsIm9yaWdpbmFsRmV0Y2giLCJoYW5kbGVyRGF0YSIsImZldGNoRGF0YSIsImdldEZldGNoTWV0aG9kIiwiZ2V0RmV0Y2hVcmwiLCJyZXNwb25zZSIsImNocm9tZSIsImlzQ2hyb21lUGFja2FnZWRBcHAiLCJhcHAiLCJydW50aW1lIiwiaGFzSGlzdG9yeUFwaSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJyZXBsYWNlU3RhdGUiLCJzdXBwb3J0c0hpc3RvcnkiLCJvbGRPblBvcFN0YXRlIiwib25wb3BzdGF0ZSIsImhpc3RvcnlSZXBsYWNlbWVudEZ1bmN0aW9uIiwib3JpZ2luYWxIaXN0b3J5RnVuY3Rpb24iLCJpbnN0cnVtZW50SGlzdG9yeSIsIl9vbGRPbkVycm9ySGFuZGxlciIsIm9uZXJyb3IiLCJsaW5lIiwiY29sdW1uIiwiX29sZE9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlciIsIm9udW5oYW5kbGVkcmVqZWN0aW9uIiwiaW5zdHJ1bWVudCIsImZldGNoQXJncyIsImdsb2JhbExpc3RlbmVyIiwiaXNDb250ZW50RWRpdGFibGUiLCJzaG91bGRTa2lwRE9NRXZlbnQiLCJwcmV2aW91cyIsInNob3VsZFNob3J0Y2lyY3VpdFByZXZpb3VzRGVib3VuY2UiLCJTZW50cnlFcnJvciIsIl9zdXBlciIsIl9uZXdUYXJnZXQiLCJEU05fUkVHRVgiLCJEc24iLCJfZnJvbVN0cmluZyIsIl9mcm9tQ29tcG9uZW50cyIsIl92YWxpZGF0ZSIsIndpdGhQYXNzd29yZCIsInBhc3MiLCJwb3J0IiwicHJvamVjdElkIiwicHVibGljS2V5IiwicHJvamVjdE1hdGNoIiwiRVJST1JfTUVTU0FHRSIsImluc3RhbGxlZEludGVncmF0aW9ucyIsIlN0YXR1cyIsIkJhc2VDbGllbnQiLCJiYWNrZW5kQ2xhc3MiLCJfaW50ZWdyYXRpb25zIiwiX3Byb2Nlc3NpbmciLCJfYmFja2VuZCIsImRzbiIsIl9kc24iLCJfcHJvY2VzcyIsIl9nZXRCYWNrZW5kIiwiZXZlbnRGcm9tRXhjZXB0aW9uIiwiX2NhcHR1cmVFdmVudCIsInByb21pc2VkRXZlbnQiLCJldmVudEZyb21NZXNzYWdlIiwiX3NlbmRTZXNzaW9uIiwiZ2V0RHNuIiwiZmx1c2giLCJfaXNDbGllbnRQcm9jZXNzaW5nIiwicmVhZHkiLCJnZXRUcmFuc3BvcnQiLCJ0cmFuc3BvcnRGbHVzaGVkIiwiZW5hYmxlZCIsIl9pc0VuYWJsZWQiLCJpbnRlZ3JhdGlvbnMiLCJkZWZhdWx0SW50ZWdyYXRpb25zIiwidXNlckludGVncmF0aW9ucyIsInVzZXJJbnRlZ3JhdGlvbnNOYW1lc18xIiwicGlja2VkSW50ZWdyYXRpb25zTmFtZXNfMSIsImRlZmF1bHRJbnRlZ3JhdGlvbiIsInVzZXJJbnRlZ3JhdGlvbiIsImludGVncmF0aW9uc05hbWVzIiwiYWx3YXlzTGFzdFRvUnVuIiwiZ2V0SW50ZWdyYXRpb25zVG9TZXR1cCIsInNldHVwSW50ZWdyYXRpb24iLCJfdXBkYXRlU2Vzc2lvbkZyb21FdmVudCIsImNyYXNoZWQiLCJlcnJvcmVkIiwiZXhjZXB0aW9ucyIsImV4Y2VwdGlvbnNfMSIsImV4Y2VwdGlvbnNfMV8xIiwiaGFuZGxlZCIsImhlYWRlcnMiLCJDcmFzaGVkIiwic2VuZFNlc3Npb24iLCJ0aWNrZWQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIl9wcmVwYXJlRXZlbnQiLCJub3JtYWxpemVEZXB0aCIsInByZXBhcmVkIiwiX2FwcGx5Q2xpZW50T3B0aW9ucyIsIl9hcHBseUludGVncmF0aW9uc01ldGFkYXRhIiwiZmluYWxTY29wZSIsImV2dCIsIl9ub3JtYWxpemVFdmVudCIsImRpc3QiLCJtYXhWYWx1ZUxlbmd0aCIsInNka0luZm8iLCJzZGsiLCJpbnRlZ3JhdGlvbnNBcnJheSIsIl9zZW5kRXZlbnQiLCJzZW5kRXZlbnQiLCJfcHJvY2Vzc0V2ZW50IiwiZmluYWxFdmVudCIsImJlZm9yZVNlbmQiLCJzYW1wbGVSYXRlIiwiaXNUcmFuc2FjdGlvbiIsIl9fc2VudHJ5X18iLCJiZWZvcmVTZW5kUmVzdWx0IiwicHJvY2Vzc2VkRXZlbnQiLCJwcm9taXNlIiwiZnJvbUh0dHBDb2RlIiwiU3VjY2VzcyIsIlJhdGVMaW1pdCIsIkludmFsaWQiLCJGYWlsZWQiLCJVbmtub3duIiwiU2V2ZXJpdHkiLCJOb29wVHJhbnNwb3J0IiwiU2tpcHBlZCIsIkJhc2VCYWNrZW5kIiwiX3RyYW5zcG9ydCIsIl9zZXR1cFRyYW5zcG9ydCIsIl9leGNlcHRpb24iLCJfaGludCIsIl9tZXNzYWdlIiwiZnJvbVN0cmluZyIsIkRlYnVnIiwiSW5mbyIsIldhcm5pbmciLCJGYXRhbCIsIkNyaXRpY2FsIiwiTG9nIiwiVU5LTk9XTl9GVU5DVElPTiIsImdlY2tvIiwid2luanMiLCJnZWNrb0V2YWwiLCJjaHJvbWVFdmFsIiwicmVhY3RNaW5pZmllZFJlZ2V4cCIsImNvbXB1dGVTdGFja1RyYWNlIiwiZXgiLCJwb3BTaXplIiwiZnJhbWVzVG9Qb3AiLCJwYXJ0cyIsIm9wZXJhMTBSZWdleCIsIm9wZXJhMTFSZWdleCIsImxpbmVzIiwiZXh0cmFjdE1lc3NhZ2UiLCJjb21wdXRlU3RhY2tUcmFjZUZyb21TdGFja3RyYWNlUHJvcCIsInBvcEZyYW1lcyIsInN1Ym1hdGNoIiwiY29sdW1uTnVtYmVyIiwiY29tcHV0ZVN0YWNrVHJhY2VGcm9tU3RhY2tQcm9wIiwiZmFpbGVkIiwiZXhjZXB0aW9uRnJvbVN0YWNrdHJhY2UiLCJwcmVwYXJlRnJhbWVzRm9yRXZlbnQiLCJldmVudEZyb21TdGFja3RyYWNlIiwibG9jYWxTdGFjayIsImZpcnN0RnJhbWVGdW5jdGlvbiIsImxhc3RGcmFtZUZ1bmN0aW9uIiwiZnJhbWUiLCJjb2xubyIsImZ1bmN0aW9uIiwiaW5fYXBwIiwibGluZW5vIiwiZXZlbnRGcm9tVW5rbm93bklucHV0IiwiZG9tRXhjZXB0aW9uIiwibmFtZV8xIiwiZXZlbnRGcm9tU3RyaW5nIiwicmVqZWN0aW9uIiwiX19zZXJpYWxpemVkX18iLCJldmVudEZyb21QbGFpbk9iamVjdCIsInN5bnRoZXRpYyIsImF0dGFjaFN0YWNrdHJhY2UiLCJnZXRTZGtNZXRhZGF0YUZvckVudmVsb3BlSGVhZGVyIiwiYXBpIiwibWV0YWRhdGEiLCJlbmhhbmNlRXZlbnRXaXRoU2RrSW5mbyIsInBhY2thZ2VzIiwic2Vzc2lvblRvU2VudHJ5UmVxdWVzdCIsInNlbnRfYXQiLCJnZXRFbnZlbG9wZUVuZHBvaW50V2l0aFVybEVuY29kZWRBdXRoIiwiZXZlbnRUb1NlbnRyeVJlcXVlc3QiLCJldmVudFR5cGUiLCJ1c2VFbnZlbG9wZSIsImRlYnVnX21ldGEiLCJ0cmFuc2FjdGlvblNhbXBsaW5nIiwic2FtcGxpbmdNZXRob2QiLCJyYXRlIiwicmVxIiwiZ2V0U3RvcmVFbmRwb2ludFdpdGhVcmxFbmNvZGVkQXV0aCIsImVudmVsb3BlIiwic2FtcGxlX3JhdGVzIiwiQVBJIiwiX2Rzbk9iamVjdCIsImdldEJhc2VBcGlFbmRwb2ludCIsImdldFN0b3JlRW5kcG9pbnQiLCJfZ2V0SW5nZXN0RW5kcG9pbnQiLCJfZW5jb2RlZEF1dGgiLCJfZ2V0RW52ZWxvcGVFbmRwb2ludCIsImdldFN0b3JlRW5kcG9pbnRQYXRoIiwiZ2V0UmVxdWVzdEhlYWRlcnMiLCJjbGllbnROYW1lIiwiY2xpZW50VmVyc2lvbiIsImdldFJlcG9ydERpYWxvZ0VuZHBvaW50IiwiZGlhbG9nT3B0aW9ucyIsImVuZHBvaW50IiwiZW5jb2RlZE9wdGlvbnMiLCJhdXRoIiwic2VudHJ5X2tleSIsInNlbnRyeV92ZXJzaW9uIiwiUHJvbWlzZUJ1ZmZlciIsIl9saW1pdCIsIl9idWZmZXIiLCJpc1JlYWR5IiwidGFzayIsImRyYWluIiwiY2FwdHVyZWRTZXRUaW1lb3V0IiwiQmFzZVRyYW5zcG9ydCIsIl9yYXRlTGltaXRzIiwiX2FwaSIsIl9tZXRhZGF0YSIsIl9oYW5kbGVSZXNwb25zZSIsInJlcXVlc3RUeXBlIiwiX2hhbmRsZVJhdGVMaW1pdCIsIl9kaXNhYmxlZFVudGlsIiwiY2F0ZWdvcnkiLCJfaXNSYXRlTGltaXRlZCIsImVfMiIsInJsSGVhZGVyIiwicmFIZWFkZXIiLCJwYXJhbWV0ZXJzIiwiZV8yXzEiLCJGZXRjaFRyYW5zcG9ydCIsIl9zZW5kUmVxdWVzdCIsInNlbnRyeVJlcXVlc3QiLCJvcmlnaW5hbFBheWxvYWQiLCJmZXRjaFBhcmFtZXRlcnMiLCJYSFJUcmFuc3BvcnQiLCJnZXRSZXNwb25zZUhlYWRlciIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiQnJvd3NlckJhY2tlbmQiLCJ0cmFuc3BvcnRPcHRpb25zIiwidHJhbnNwb3J0IiwiY2FsbE9uSHViIiwiaWdub3JlT25FcnJvciIsInNob3VsZElnbm9yZU9uRXJyb3IiLCJpZ25vcmVOZXh0T25FcnJvciIsIndyYXAiLCJfX3NlbnRyeV93cmFwcGVkX18iLCJzZW50cnlXcmFwcGVkIiwid3JhcHBlZEFyZ3VtZW50cyIsImhhbmRsZUV2ZW50IiwiQnJlYWRjcnVtYnMiLCJkb20iLCJhZGRTZW50cnlCcmVhZGNydW1iIiwiX2NvbnNvbGVCcmVhZGNydW1iIiwiX2RvbUJyZWFkY3J1bWIiLCJfeGhyQnJlYWRjcnVtYiIsIl9mZXRjaEJyZWFkY3J1bWIiLCJfaGlzdG9yeUJyZWFkY3J1bWIiLCJwYXJzZWRMb2MiLCJwYXJzZWRGcm9tIiwicGFyc2VkVG8iLCJCcm93c2VyQ2xpZW50Iiwic2hvd1JlcG9ydERpYWxvZyIsInNjcmlwdCIsIm9uTG9hZCIsIm9ubG9hZCIsImluamVjdFJlcG9ydERpYWxvZyIsIkRFRkFVTFRfRVZFTlRfVEFSR0VUIiwiVHJ5Q2F0Y2giLCJldmVudFRhcmdldCIsIl93cmFwVGltZUZ1bmN0aW9uIiwiX3dyYXBSQUYiLCJfd3JhcFhIUiIsIl93cmFwRXZlbnRUYXJnZXQiLCJvcmlnaW5hbENhbGxiYWNrIiwiZXZlbnROYW1lIiwid3JhcHBlZEV2ZW50SGFuZGxlciIsIm9yaWdpbmFsRXZlbnRIYW5kbGVyIiwieG1sSHR0cFJlcXVlc3RQcm9wcyIsIndyYXBPcHRpb25zIiwiR2xvYmFsSGFuZGxlcnMiLCJfb25FcnJvckhhbmRsZXJJbnN0YWxsZWQiLCJfb25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVySW5zdGFsbGVkIiwic3RhY2tUcmFjZUxpbWl0IiwiX2luc3RhbGxHbG9iYWxPbkVycm9ySGFuZGxlciIsIl9pbnN0YWxsR2xvYmFsT25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyIiwiY3VycmVudEh1YiIsImhhc0ludGVncmF0aW9uIiwiaXNGYWlsZWRPd25EZWxpdmVyeSIsIl9ldmVudEZyb21JbmNvbXBsZXRlT25FcnJvciIsIl9lbmhhbmNlRXZlbnRXaXRoSW5pdGlhbEZyYW1lIiwiX2V2ZW50RnJvbVJlamVjdGlvbldpdGhQcmltaXRpdmUiLCJncm91cHMiLCJMaW5rZWRFcnJvcnMiLCJfa2V5IiwibGltaXQiLCJfaGFuZGxlciIsImxpbmtlZEVycm9ycyIsIl93YWxrRXJyb3JUcmVlIiwiVXNlckFnZW50IiwicmVmZXJyZXIiLCJSZWZlcmVyIiwic3BsaXRQYXRoUmUiLCJUcmFuc2FjdGlvblNhbXBsaW5nTWV0aG9kIiwiU3BhblN0YXR1cyIsIkhPT0tTIiwiQ09NUE9ORU5UX05BTUVfUkVHRVhQIiwiUk9PVF9DT01QT05FTlRfTkFNRSIsIkFOT05ZTU9VU19DT01QT05FTlRfTkFNRSIsIlZ1ZUhlbHBlciIsIl9jb21wb25lbnRzQ2FjaGUiLCJfYXBwbHlUcmFjaW5nSG9va3MiLCIkX3NlbnRyeVBlcmZIb29rIiwiX2dldENvbXBvbmVudE5hbWUiLCJyb290TW91bnQiLCJyb290SGFuZGxlciIsInRpbWUiLCJfcm9vdFNwYW4iLCJfZmluaXNoUm9vdFNwYW4iLCJhY3RpdmVUcmFuc2FjdGlvbiIsImdldEFjdGl2ZVRyYW5zYWN0aW9uIiwiY2hpbGRIYW5kbGVyIiwic2hvdWxkVHJhY2siLCJ0cmFjaW5nT3B0aW9ucyIsInRyYWNrQ29tcG9uZW50cyIsImNoaWxkT2YiLCJpbnRlcm5hbEhvb2tzIiwiaW50ZXJuYWxIb29rIiwiY3VycmVudFZhbHVlIiwic2V0dXAiLCJfYXR0YWNoRXJyb3JIYW5kbGVyIiwiX3N0YXJ0VHJhY2luZyIsIl9fZmlsZSIsImV4dCIsImYiLCJzcGxpdFBhdGgiLCJiYXNlbmFtZSIsIl9yb290U3BhblRpbWVyIiwiYXBwbHlUcmFjaW5nSG9va3MiLCJhcHBsaWVkVHJhY2luZ0hvb2tzIiwiYmVmb3JlQ3JlYXRlIiwiY3VycmVudEVycm9ySGFuZGxlciIsImF0dGFjaFByb3BzIiwibGlmZWN5Y2xlSG9vayIsImxvZ0Vycm9ycyIsImh0dHBTdGF0dXMiLCJVbmF1dGhlbnRpY2F0ZWQiLCJQZXJtaXNzaW9uRGVuaWVkIiwiTm90Rm91bmQiLCJBbHJlYWR5RXhpc3RzIiwiRmFpbGVkUHJlY29uZGl0aW9uIiwiUmVzb3VyY2VFeGhhdXN0ZWQiLCJJbnZhbGlkQXJndW1lbnQiLCJVbmltcGxlbWVudGVkIiwiVW5hdmFpbGFibGUiLCJEZWFkbGluZUV4Y2VlZGVkIiwiSW50ZXJuYWxFcnJvciIsIlVua25vd25FcnJvciIsIlRSQUNFUEFSRU5UX1JFR0VYUCIsImhhc1RyYWNpbmdFbmFibGVkIiwibXNUb1NlYyIsImVycm9yQ2FsbGJhY2siLCJzZXRTdGF0dXMiLCJTcGFuUmVjb3JkZXIiLCJtYXhsZW4iLCJfbWF4bGVuIiwiVHJhbnNhY3Rpb24iLCJ0cmFuc2FjdGlvbkNvbnRleHQiLCJfbWVhc3VyZW1lbnRzIiwiX2h1YiIsIl90cmltRW5kIiwidHJpbUVuZCIsInNldE5hbWUiLCJpbml0U3BhblJlY29yZGVyIiwic2V0TWVhc3VyZW1lbnRzIiwibWVhc3VyZW1lbnRzIiwic2V0TWV0YWRhdGEiLCJuZXdNZXRhZGF0YSIsInNhbXBsZWQiLCJmaW5pc2hlZFNwYW5zIiwic3RhcnRfdGltZXN0YW1wIiwidG9Db250ZXh0IiwidXBkYXRlV2l0aENvbnRleHQiLCJTcGFuIiwidHJhY2VJZCIsInNwYW5JZCIsInBhcmVudFNwYW5JZCIsImNoaWxkU3BhbiIsInNldERhdGEiLCJzZXRIdHRwU3RhdHVzIiwic3BhblN0YXR1cyIsImlzU3VjY2VzcyIsInRvVHJhY2VwYXJlbnQiLCJzYW1wbGVkU3RyaW5nIiwicGFyZW50X3NwYW5faWQiLCJzcGFuX2lkIiwidHJhY2VfaWQiLCJJZGxlVHJhbnNhY3Rpb25TcGFuUmVjb3JkZXIiLCJfcHVzaEFjdGl2aXR5IiwiX3BvcEFjdGl2aXR5IiwidHJhbnNhY3Rpb25TcGFuSWQiLCJJZGxlVHJhbnNhY3Rpb24iLCJfaWRsZUh1YiIsIl9pZGxlVGltZW91dCIsIl9vblNjb3BlIiwiYWN0aXZpdGllcyIsIl9oZWFydGJlYXRUaW1lciIsIl9oZWFydGJlYXRDb3VudGVyIiwiX2ZpbmlzaGVkIiwiX2JlZm9yZUZpbmlzaENhbGxiYWNrcyIsImNsZWFyQWN0aXZlVHJhbnNhY3Rpb24iLCJfaW5pdFRpbWVvdXQiLCJDYW5jZWxsZWQiLCJrZWVwU3BhbiIsInJlZ2lzdGVyQmVmb3JlRmluaXNoQ2FsbGJhY2siLCJfcGluZ0hlYXJ0YmVhdCIsImVuZF8xIiwiX2JlYXQiLCJoZWFydGJlYXRTdHJpbmciLCJfcHJldkhlYXJ0YmVhdFN0cmluZyIsInNhbXBsZSIsInNhbXBsaW5nQ29udGV4dCIsIkV4cGxpY2l0IiwidHJhY2VzU2FtcGxlciIsIlNhbXBsZXIiLCJwYXJlbnRTYW1wbGVkIiwiSW5oZXJpdGFuY2UiLCJ0cmFjZXNTYW1wbGVSYXRlIiwiUmF0ZSIsIl9leHBlcmltZW50cyIsIm1heFNwYW5zIiwiZmlyc3RIaWRkZW5UaW1lIiwiaW5wdXRQcm9taXNlIiwiYmluZFJlcG9ydGVyIiwibWV0cmljIiwicG8iLCJvYnNlcnZlQWxsVXBkYXRlcyIsInByZXZWYWx1ZSIsImlzRmluYWwiLCJkaXNjb25uZWN0IiwidmlzaWJpbGl0eVN0YXRlIiwiZGVsdGEiLCJpbml0TWV0cmljIiwiZW50cmllcyIsIlBlcmZvcm1hbmNlT2JzZXJ2ZXIiLCJzdXBwb3J0ZWRFbnRyeVR5cGVzIiwiZ2V0RW50cmllcyIsImJ1ZmZlcmVkIiwiaXNVbmxvYWRpbmciLCJsaXN0ZW5lcnNBZGRlZCIsIm9uUGFnZUhpZGUiLCJwZXJzaXN0ZWQiLCJvbkhpZGRlbiIsImdldEZpcnN0SGlkZGVuIiwiSW5maW5pdHkiLCJNZXRyaWNzSW5zdHJ1bWVudGF0aW9uIiwiX3BlcmZvcm1hbmNlQ3Vyc29yIiwibWFyayIsIl90cmFja0NMUyIsIl90cmFja0xDUCIsIl90cmFja0ZJRCIsIl90cmFja1RURkIiLCJhZGRQZXJmb3JtYW5jZUVudHJpZXMiLCJlbnRyeVNjcmlwdFNyYyIsImVudHJ5U2NyaXB0U3RhcnRUaW1lc3RhbXAiLCJ0cmFjaW5nSW5pdE1hcmtTdGFydFRpbWUiLCJzY3JpcHRzIiwiZGF0YXNldCIsImVudHJ5Iiwic3RhcnRUaW1lIiwiZW50cnlUeXBlIiwiYWRkUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nIiwiX3N0YXJ0Q2hpbGQiLCJyZXF1ZXN0U3RhcnQiLCJyZXNwb25zZUVuZCIsInJlc3BvbnNlU3RhcnQiLCJhZGRSZXF1ZXN0IiwiYWRkTmF2aWdhdGlvblNwYW5zIiwibWVhc3VyZVN0YXJ0VGltZXN0YW1wIiwibWVhc3VyZUVuZFRpbWVzdGFtcCIsImFkZE1lYXN1cmVTcGFucyIsImZpcnN0SGlkZGVuIiwic2hvdWxkUmVjb3JkIiwicmVzb3VyY2VOYW1lIiwib3JpZ2luIiwiaW5pdGlhdG9yVHlwZSIsInRyYW5zZmVyU2l6ZSIsImVuY29kZWRCb2R5U2l6ZSIsImRlY29kZWRCb2R5U2l6ZSIsImFkZFJlc291cmNlU3BhbnMiLCJfdHJhY2tOYXZpZ2F0b3IiLCJ0aW1lT3JpZ2luXzEiLCJtZWFzdXJlbWVudFRpbWVzdGFtcCIsIm5vcm1hbGl6ZWRWYWx1ZSIsImFicyIsIm9uUmVwb3J0IiwicmVwb3J0QWxsQ2hhbmdlcyIsInJlcG9ydCIsImVudHJ5SGFuZGxlciIsImhhZFJlY2VudElucHV0IiwidGFrZVJlY29yZHMiLCJnZXRDTFMiLCJlZmZlY3RpdmVUeXBlIiwiaXNNZWFzdXJlbWVudFZhbHVlIiwicnR0IiwiZG93bmxpbmsiLCJkZXZpY2VNZW1vcnkiLCJoYXJkd2FyZUNvbmN1cnJlbmN5Iiwib25GaW5hbCIsImdldExDUCIsInByb2Nlc3NpbmdTdGFydCIsInBlcmZNZXRyaWNzIiwib25GaXJzdElucHV0RGVsYXkiLCJjYW5jZWxhYmxlIiwicmVxdWVzdFRpbWUiLCJuYXZpZ2F0aW9uRW50cnkiLCJnZXRFbnRyaWVzQnlUeXBlIiwiZ2V0TmF2aWdhdGlvbkVudHJ5RnJvbVBlcmZvcm1hbmNlVGltaW5nIiwiZXZlbnRFbmQiLCJkZWZhdWx0UmVxdWVzdEluc3RydW1lbnRhdGlvbk9wdGlvbnMiLCJ0cmFjZUZldGNoIiwidHJhY2VYSFIiLCJ0cmFjaW5nT3JpZ2lucyIsIkRFRkFVTFRfQlJPV1NFUl9UUkFDSU5HX09QVElPTlMiLCJpZGxlVGltZW91dCIsIm1hcmtCYWNrZ3JvdW5kVHJhbnNhY3Rpb25zIiwibWF4VHJhbnNhY3Rpb25EdXJhdGlvbiIsInJvdXRpbmdJbnN0cnVtZW50YXRpb24iLCJzdGFydFRyYW5zYWN0aW9uT25QYWdlTG9hZCIsInN0YXJ0VHJhbnNhY3Rpb25PbkxvY2F0aW9uQ2hhbmdlIiwic3RhcnRpbmdVcmwiLCJwYXRobmFtZSIsIkJyb3dzZXJUcmFjaW5nIiwiX21ldHJpY3MiLCJfZW1pdE9wdGlvbnNXYXJuaW5nIiwiX2dldEN1cnJlbnRIdWIiLCJzaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdCIsIl9jcmVhdGVSb3V0ZVRyYW5zYWN0aW9uIiwidXJsTWFwIiwiZGVmYXVsdFNob3VsZENyZWF0ZVNwYW4iLCJvcmlnaW5zIiwic2hvdWxkQ3JlYXRlU3BhbiIsImN1cnJlbnRDbGllbnRPcHRpb25zIiwiX19zcGFuIiwiYXBwZW5kIiwiZmV0Y2hDYWxsYmFjayIsIl9fc2VudHJ5X3hocl9zcGFuX2lkX18iLCJ4aHJDYWxsYmFjayIsInJlZ2lzdGVyUmVxdWVzdEluc3RydW1lbnRhdGlvbiIsImJlZm9yZU5hdmlnYXRlIiwicGFyZW50Q29udGV4dEZyb21IZWFkZXIiLCJ0cmFjZXBhcmVudCIsImV4dHJhY3RUcmFjZXBhcmVudERhdGEiLCJnZXRIZWFkZXJDb250ZXh0IiwiZXhwYW5kZWRDb250ZXh0IiwibW9kaWZpZWRDb250ZXh0IiwiZmluYWxDb250ZXh0IiwiaWRsZVRyYW5zYWN0aW9uIiwib25TY29wZSIsInN0YXJ0SWRsZVRyYW5zYWN0aW9uIiwibWF4RHVyYXRpb24iLCJkaWZmIiwiYWRqdXN0VHJhbnNhY3Rpb25EdXJhdGlvbiIsInNlY1RvTXMiLCJFeHByZXNzIiwiX3JvdXRlciIsInJvdXRlciIsIl9tZXRob2RzIiwid3JhcE1pZGRsZXdhcmVBcmdzIiwicGF0Y2hNaWRkbGV3YXJlIiwiYXJpdHkiLCJfX3NlbnRyeV90cmFuc2FjdGlvbiIsIkludGVncmF0aW9ucyIsIlEiLCJnZXRQcm90b3R5cGVPZiIsIkwiLCJaIiwidSIsIlgiLCJNYXAiLCJxIiwidHQiLCJ5IiwibnQiLCJVIiwidyIsIlMiLCJPIiwiUCIsIk0iLCJ4IiwiSCIsIkEiLCJJIiwiayIsIlIiLCJEIiwiTiIsInoiLCJFIiwiVCIsIkYiLCJDIiwicnQiLCJldCIsIlByb3h5IiwicmV2b2NhYmxlIiwicmV2b2tlIiwiSiIsIksiLCJ0cmFjaW5nIiwid2luZG93XzEiLCJTRU5UUllfUkVMRUFTRSIsImF1dG9TZXNzaW9uVHJhY2tpbmciLCJjbGllbnRDbGFzcyIsImRlYnVnIiwiaW5pdEFuZEJpbmQiLCJzdGFydFNlc3Npb25UcmFja2luZyIsIkciLCJXIiwiQiIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWxldGVQcm9wZXJ0eSIsIm90IiwidXNlUHJveGllcyIsInNldFVzZVByb3hpZXMiLCJhdXRvRnJlZXplIiwic2V0QXV0b0ZyZWV6ZSIsInByb2R1Y2UiLCJwcm9kdWNlV2l0aFBhdGNoZXMiLCJjcmVhdGVEcmFmdCIsImZpbmlzaERyYWZ0IiwiYXBwbHlQYXRjaGVzIiwiJCIsInV0IiwicmFuZG9tU3RyaW5nIiwiQWN0aW9uVHlwZXMiLCJJTklUIiwiUkVQTEFDRSIsIlBST0JFX1VOS05PV05fQUNUSU9OIiwiY3JlYXRlU3RvcmUiLCJyZWR1Y2VyIiwicHJlbG9hZGVkU3RhdGUiLCJlbmhhbmNlciIsIl9yZWYyIiwiY3VycmVudFJlZHVjZXIiLCJjdXJyZW50U3RhdGUiLCJjdXJyZW50TGlzdGVuZXJzIiwibmV4dExpc3RlbmVycyIsImlzRGlzcGF0Y2hpbmciLCJlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzIiwiZ2V0U3RhdGUiLCJzdWJzY3JpYmUiLCJpc1N1YnNjcmliZWQiLCJkaXNwYXRjaCIsImFjdGlvbiIsInJlcGxhY2VSZWR1Y2VyIiwibmV4dFJlZHVjZXIiLCJfcmVmIiwib3V0ZXJTdWJzY3JpYmUiLCJvYnNlcnZlU3RhdGUiLCJ1bnN1YnNjcmliZSIsImdldFVuZGVmaW5lZFN0YXRlRXJyb3JNZXNzYWdlIiwiYWN0aW9uVHlwZSIsIl9kZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGVPbmx5Iiwic3ltIiwiX29iamVjdFNwcmVhZDIiLCJjb21wb3NlIiwiX2xlbiIsImZ1bmNzIiwiYXBwbHlNaWRkbGV3YXJlIiwibWlkZGxld2FyZXMiLCJzdG9yZSIsIl9kaXNwYXRjaCIsIm1pZGRsZXdhcmVBUEkiLCJjaGFpbiIsIm1pZGRsZXdhcmUiLCJkZWZhdWx0RXF1YWxpdHlDaGVjayIsImFyZUFyZ3VtZW50c1NoYWxsb3dseUVxdWFsIiwiZXF1YWxpdHlDaGVjayIsImNyZWF0ZVRodW5rTWlkZGxld2FyZSIsImV4dHJhQXJndW1lbnQiLCJtZW1vaXplT3B0aW9ucyIsImNyZWF0ZVNlbGVjdG9yQ3JlYXRvciIsImxhc3RBcmdzIiwibGFzdFJlc3VsdCIsInRodW5rIiwid2l0aEV4dHJhQXJndW1lbnQiLCJfZXh0ZW5kcyIsIl9nZXRQcm90b3R5cGVPZiIsIl9zZXRQcm90b3R5cGVPZiIsImlzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCIsImNvbnN0cnVjdCIsInNoYW0iLCJfY29uc3RydWN0IiwiUGFyZW50IiwiQ2xhc3MiLCJpbnN0YW5jZSIsIl93cmFwTmF0aXZlU3VwZXIiLCJfY2FjaGUiLCJXcmFwcGVyIiwiY29tcG9zZVdpdGhEZXZUb29scyIsIl9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX0NPTVBPU0VfXyIsIkFjdGlvblR5cGUiLCJNaWRkbGV3YXJlQXJyYXkiLCJfQXJyYXkiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJfcHJvdG8iLCJfQXJyYXkkcHJvdG90eXBlJGNvbmMiLCJwcmVwZW5kIiwiX2xlbjIiLCJfa2V5MiIsImNyZWF0ZUFjdGlvbiIsInByZXBhcmVBY3Rpb24iLCJhY3Rpb25DcmVhdG9yIiwicGF5bG9hZCIsImFzeW5jSXRlcmF0b3IiLCJlcnJvckFjdGlvbiIsIkVSUk9SIiwibG9hZGluZ0FjdGlvbiIsIkxPQURJTkciLCJyZWdpc3RlcmVkQWN0aW9uIiwiUkVHSVNURVJFRCIsInJlbW92ZWRBY3Rpb24iLCJSRU1PVkVEIiwid29ya2Vyc0xvYWRlZEFjdGlvbiIsIldPUktFUlNfTE9BREVEIiwiY2xlYXJFcnJvckFjdGlvbiIsIkNMRUFSX0VSUk9SIiwic3RvcmUkIiwicm9vdFJlZHVjZXIiLCJjdXJyaWVkR2V0RGVmYXVsdE1pZGRsZXdhcmUiLCJfb3B0aW9ucyR0aHVuayIsIm1pZGRsZXdhcmVBcnJheSIsImltbXV0YWJsZUNoZWNrIiwic2VyaWFsaXphYmxlQ2hlY2siLCJnZXREZWZhdWx0TWlkZGxld2FyZSIsIl9yZWYkcmVkdWNlciIsIl9yZWYkbWlkZGxld2FyZSIsIl9yZWYkZGV2VG9vbHMiLCJkZXZUb29scyIsIl9yZWYkcHJlbG9hZGVkU3RhdGUiLCJfcmVmJGVuaGFuY2VycyIsImVuaGFuY2VycyIsInJlZHVjZXJzIiwicmVkdWNlcktleXMiLCJmaW5hbFJlZHVjZXJzIiwic2hhcGVBc3NlcnRpb25FcnJvciIsImZpbmFsUmVkdWNlcktleXMiLCJhc3NlcnRSZWR1Y2VyU2hhcGUiLCJoYXNDaGFuZ2VkIiwibmV4dFN0YXRlIiwicHJldmlvdXNTdGF0ZUZvcktleSIsIm5leHRTdGF0ZUZvcktleSIsImVycm9yTWVzc2FnZSIsImNvbWJpbmVSZWR1Y2VycyIsIm1pZGRsZXdhcmVFbmhhbmNlciIsImZpbmFsQ29tcG9zZSIsInN0b3JlRW5oYW5jZXJzIiwiY29uZmlndXJlU3RvcmUiLCJpbml0aWFsU3RhdGUiLCJtYXBPckJ1aWxkZXJDYWxsYmFjayIsImFjdGlvbk1hdGNoZXJzIiwiZGVmYXVsdENhc2VSZWR1Y2VyIiwiYnVpbGRlckNhbGxiYWNrIiwiYWN0aW9uc01hcCIsImJ1aWxkZXIiLCJhZGRDYXNlIiwidHlwZU9yQWN0aW9uQ3JlYXRvciIsImFkZE1hdGNoZXIiLCJtYXRjaGVyIiwiYWRkRGVmYXVsdENhc2UiLCJleGVjdXRlUmVkdWNlckJ1aWxkZXJDYWxsYmFjayIsImZpbmFsQWN0aW9uTWF0Y2hlcnMiLCJmaW5hbERlZmF1bHRDYXNlUmVkdWNlciIsImNhc2VSZWR1Y2VycyIsIl9yZWYzIiwiY3IiLCJwcmV2aW91c1N0YXRlIiwiY2FzZVJlZHVjZXIiLCJkcmFmdCIsIl9yZXN1bHQiLCJjcmVhdGVSZWR1Y2VyIiwid29ya2VycyIsIndvcmtlciIsInBob3RvIiwiYmlvIiwiaWR4IiwiZmluZEluZGV4IiwianNvbiIsImN1c3RvbUNvbmYiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwib2siLCJzdGF0dXNUZXh0IiwicG9zdCIsInB1dCIsImdldExpc3QiLCJzdWJtaXQiLCJzdWJtaXROZXdUYXNrIiwiYWdlIiwiZmlsZXMiLCJjb2xzIiwicm93cyIsImFkZHJlc3MiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0IiwiV29ya2VyTGlzdCIsIndvcmtlckxpc3QiLCIkcHJvcHMiLCJ3aWR0aCIsImNsaWNrIiwiZGVsZXRlV29ya2VyIiwibmF2aWdhdGlvbiIsInByaW1hcnkiXSwibWFwcGluZ3MiOiI7cUhBRUEsSUFBSUEsRUFBYSxDQUNiLFlBQ0EsWUFDQSxpQkFDQSxjQUNBLGdCQUNBLGFBQ0EsWUFDQSxXQUNBLE9B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QUFNLDRCQUNwQkEsRUFBYyxlQUNkQSxFQUFjLE1BQ2RBLEVBQWMsS0FBTSxrQkFDcEJBLEVBQWMsY0FBZSxDQUFFcVIsTUFBTyxDQUFFNHJFLFFBQVM1eUYsS0FBSzZ5RixhQUcxRDF2RixLQUFNLENBQ0owdkYsT0FBUSxHQUNSenFGLE1BQU8sR0FDUHl1QixTQUFTLEdBRVgsVUFDRSxNQUFNK3pCLEVBQVEwa0MsR0FBT2hGLFdBQ3JCdHFGLEtBQUs2eUYsT0FBU2pvQyxFQUFNZ29DLFFBQ3BCNXlGLEtBQUs2MkIsUUFBVSt6QixFQUFNL3pCLFFBQ3JCNzJCLEtBQUtvSSxNQUFRd2lELEVBQU14aUQsTUFDbkJrbkYsR0FBTy9FLFdBQVUsS0FDZixNQUFNMy9CLEVBQVEwa0MsR0FBT2hGLFdBQ3JCdHFGLEtBQUs2eUYsT0FBU2pvQyxFQUFNZ29DLFFBQ3BCNXlGLEtBQUs2MkIsUUFBVSt6QixFQUFNL3pCLFFBQ3JCNzJCLEtBQUtvSSxNQUFRd2lELEVBQU14aUQsU0FFckJrbkYsR0FBTzdFLFNBQWNpSixRIiwiZmlsZSI6Indvcmtlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWQgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGR5bmFtaWNSZXF1aXJlLCBmaWxsLCBpc1RoZW5hYmxlLCBsb2dnZXIgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbnZhciBPUEVSQVRJT05TID0gW1xuICAgICdhZ2dyZWdhdGUnLFxuICAgICdidWxrV3JpdGUnLFxuICAgICdjb3VudERvY3VtZW50cycsXG4gICAgJ2NyZWF0ZUluZGV4JyxcbiAgICAnY3JlYXRlSW5kZXhlcycsXG4gICAgJ2RlbGV0ZU1hbnknLFxuICAgICdkZWxldGVPbmUnLFxuICAgICdkaXN0aW5jdCcsXG4gICAgJ2Ryb3AnLFxuICAgICdkcm9wSW5kZXgnLFxuICAgICdkcm9wSW5kZXhlcycsXG4gICAgJ2VzdGltYXRlZERvY3VtZW50Q291bnQnLFxuICAgICdmaW5kT25lJyxcbiAgICAnZmluZE9uZUFuZERlbGV0ZScsXG4gICAgJ2ZpbmRPbmVBbmRSZXBsYWNlJyxcbiAgICAnZmluZE9uZUFuZFVwZGF0ZScsXG4gICAgJ2luZGV4ZXMnLFxuICAgICdpbmRleEV4aXN0cycsXG4gICAgJ2luZGV4SW5mb3JtYXRpb24nLFxuICAgICdpbml0aWFsaXplT3JkZXJlZEJ1bGtPcCcsXG4gICAgJ2luc2VydE1hbnknLFxuICAgICdpbnNlcnRPbmUnLFxuICAgICdpc0NhcHBlZCcsXG4gICAgJ21hcFJlZHVjZScsXG4gICAgJ29wdGlvbnMnLFxuICAgICdwYXJhbGxlbENvbGxlY3Rpb25TY2FuJyxcbiAgICAncmVuYW1lJyxcbiAgICAncmVwbGFjZU9uZScsXG4gICAgJ3N0YXRzJyxcbiAgICAndXBkYXRlTWFueScsXG4gICAgJ3VwZGF0ZU9uZScsXG5dO1xuLy8gQWxsIG9mIHRoZSBvcGVyYXRpb25zIGFib3ZlIHRha2UgYG9wdGlvbnNgIGFuZCBgY2FsbGJhY2tgIGFzIHRoZWlyIGZpbmFsIHBhcmFtZXRlcnMsIGJ1dCBzb21lIG9mIHRoZW1cbi8vIHRha2UgYWRkaXRpb25hbCBwYXJhbWV0ZXJzIGFzIHdlbGwuIEZvciB0aG9zZSBvcGVyYXRpb25zLCB0aGlzIGlzIGEgbWFwIG9mXG4vLyB7IDxvcGVyYXRpb24gbmFtZT46ICBbPG5hbWVzIG9mIGFkZGl0aW9uYWwgcGFyYW1ldGVycz5dIH0sIGFzIGEgd2F5IHRvIGtub3cgd2hhdCB0byBjYWxsIHRoZSBvcGVyYXRpb24nc1xuLy8gcG9zaXRpb25hbCBhcmd1bWVudHMgd2hlbiB3ZSBhZGQgdGhlbSB0byB0aGUgc3BhbidzIGBkYXRhYCBvYmplY3QgbGF0ZXJcbnZhciBPUEVSQVRJT05fU0lHTkFUVVJFUyA9IHtcbiAgICAvLyBhZ2dyZWdhdGUgaW50ZW50aW9uYWxseSBub3QgaW5jbHVkZWQgYmVjYXVzZSBgcGlwZWxpbmVgIGFyZ3VtZW50cyBhcmUgdG9vIGNvbXBsZXggdG8gc2VyaWFsaXplIHdlbGxcbiAgICAvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9wdWxsLzMxMDJcbiAgICBidWxrV3JpdGU6IFsnb3BlcmF0aW9ucyddLFxuICAgIGNvdW50RG9jdW1lbnRzOiBbJ3F1ZXJ5J10sXG4gICAgY3JlYXRlSW5kZXg6IFsnZmllbGRPclNwZWMnXSxcbiAgICBjcmVhdGVJbmRleGVzOiBbJ2luZGV4U3BlY3MnXSxcbiAgICBkZWxldGVNYW55OiBbJ2ZpbHRlciddLFxuICAgIGRlbGV0ZU9uZTogWydmaWx0ZXInXSxcbiAgICBkaXN0aW5jdDogWydrZXknLCAncXVlcnknXSxcbiAgICBkcm9wSW5kZXg6IFsnaW5kZXhOYW1lJ10sXG4gICAgZmluZE9uZTogWydxdWVyeSddLFxuICAgIGZpbmRPbmVBbmREZWxldGU6IFsnZmlsdGVyJ10sXG4gICAgZmluZE9uZUFuZFJlcGxhY2U6IFsnZmlsdGVyJywgJ3JlcGxhY2VtZW50J10sXG4gICAgZmluZE9uZUFuZFVwZGF0ZTogWydmaWx0ZXInLCAndXBkYXRlJ10sXG4gICAgaW5kZXhFeGlzdHM6IFsnaW5kZXhlcyddLFxuICAgIGluc2VydE1hbnk6IFsnZG9jcyddLFxuICAgIGluc2VydE9uZTogWydkb2MnXSxcbiAgICBtYXBSZWR1Y2U6IFsnbWFwJywgJ3JlZHVjZSddLFxuICAgIHJlbmFtZTogWyduZXdOYW1lJ10sXG4gICAgcmVwbGFjZU9uZTogWydmaWx0ZXInLCAnZG9jJ10sXG4gICAgdXBkYXRlTWFueTogWydmaWx0ZXInLCAndXBkYXRlJ10sXG4gICAgdXBkYXRlT25lOiBbJ2ZpbHRlcicsICd1cGRhdGUnXSxcbn07XG4vKiogVHJhY2luZyBpbnRlZ3JhdGlvbiBmb3IgbW9uZ28gcGFja2FnZSAqL1xudmFyIE1vbmdvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgZnVuY3Rpb24gTW9uZ28ob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGluaGVyaXREb2NcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IE1vbmdvLmlkO1xuICAgICAgICB0aGlzLl9vcGVyYXRpb25zID0gQXJyYXkuaXNBcnJheShvcHRpb25zLm9wZXJhdGlvbnMpXG4gICAgICAgICAgICA/IG9wdGlvbnMub3BlcmF0aW9uc1xuICAgICAgICAgICAgOiBPUEVSQVRJT05TO1xuICAgICAgICB0aGlzLl9kZXNjcmliZU9wZXJhdGlvbnMgPSAnZGVzY3JpYmVPcGVyYXRpb25zJyBpbiBvcHRpb25zID8gb3B0aW9ucy5kZXNjcmliZU9wZXJhdGlvbnMgOiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIE1vbmdvLnByb3RvdHlwZS5zZXR1cE9uY2UgPSBmdW5jdGlvbiAoXywgZ2V0Q3VycmVudEh1Yikge1xuICAgICAgICB2YXIgY29sbGVjdGlvbjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBtb25nb2RiTW9kdWxlID0gZHluYW1pY1JlcXVpcmUobW9kdWxlLCAnbW9uZ29kYicpO1xuICAgICAgICAgICAgY29sbGVjdGlvbiA9IG1vbmdvZGJNb2R1bGUuQ29sbGVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdNb25nbyBJbnRlZ3JhdGlvbiB3YXMgdW5hYmxlIHRvIHJlcXVpcmUgYG1vbmdvZGJgIHBhY2thZ2UuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5zdHJ1bWVudE9wZXJhdGlvbnMoY29sbGVjdGlvbiwgdGhpcy5fb3BlcmF0aW9ucywgZ2V0Q3VycmVudEh1Yik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYXRjaGVzIG9yaWdpbmFsIGNvbGxlY3Rpb24gbWV0aG9kc1xuICAgICAqL1xuICAgIE1vbmdvLnByb3RvdHlwZS5faW5zdHJ1bWVudE9wZXJhdGlvbnMgPSBmdW5jdGlvbiAoY29sbGVjdGlvbiwgb3BlcmF0aW9ucywgZ2V0Q3VycmVudEh1Yikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBvcGVyYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG9wZXJhdGlvbikgeyByZXR1cm4gX3RoaXMuX3BhdGNoT3BlcmF0aW9uKGNvbGxlY3Rpb24sIG9wZXJhdGlvbiwgZ2V0Q3VycmVudEh1Yik7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUGF0Y2hlcyBvcmlnaW5hbCBjb2xsZWN0aW9uIHRvIHV0aWxpemUgb3VyIHRyYWNpbmcgZnVuY3Rpb25hbGl0eVxuICAgICAqL1xuICAgIE1vbmdvLnByb3RvdHlwZS5fcGF0Y2hPcGVyYXRpb24gPSBmdW5jdGlvbiAoY29sbGVjdGlvbiwgb3BlcmF0aW9uLCBnZXRDdXJyZW50SHViKSB7XG4gICAgICAgIGlmICghKG9wZXJhdGlvbiBpbiBjb2xsZWN0aW9uLnByb3RvdHlwZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBnZXRTcGFuQ29udGV4dCA9IHRoaXMuX2dldFNwYW5Db250ZXh0RnJvbU9wZXJhdGlvbkFyZ3VtZW50cy5iaW5kKHRoaXMpO1xuICAgICAgICBmaWxsKGNvbGxlY3Rpb24ucHJvdG90eXBlLCBvcGVyYXRpb24sIGZ1bmN0aW9uIChvcmlnKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgICAgICAgICAgdmFyIGxhc3RBcmcgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgdmFyIHNjb3BlID0gZ2V0Q3VycmVudEh1YigpLmdldFNjb3BlKCk7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFNwYW4gPSAoX2EgPSBzY29wZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFNwYW4oKTtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgb3BlcmF0aW9uIHdhcyBwYXNzZWQgYSBjYWxsYmFjay4gKG1hcFJlZHVjZSByZXF1aXJlcyBhIGRpZmZlcmVudCBjaGVjaywgYXNcbiAgICAgICAgICAgICAgICAvLyBpdHMgKG5vbi1jYWxsYmFjaykgYXJndW1lbnRzIGNhbiBhbHNvIGJlIGZ1bmN0aW9ucy4pXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsYXN0QXJnICE9PSAnZnVuY3Rpb24nIHx8IChvcGVyYXRpb24gPT09ICdtYXBSZWR1Y2UnICYmIGFyZ3MubGVuZ3RoID09PSAyKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3Bhbl8xID0gKF9iID0gcGFyZW50U3BhbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnN0YXJ0Q2hpbGQoZ2V0U3BhbkNvbnRleHQodGhpcywgb3BlcmF0aW9uLCBhcmdzKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXliZVByb21pc2UgPSBvcmlnLmNhbGwuYXBwbHkob3JpZywgX19zcHJlYWQoW3RoaXNdLCBhcmdzKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1RoZW5hYmxlKG1heWJlUHJvbWlzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtYXliZVByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IHNwYW5fMSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYyA9IHNwYW5fMSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1heWJlUHJvbWlzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IChfZCA9IHBhcmVudFNwYW4pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5zdGFydENoaWxkKGdldFNwYW5Db250ZXh0KHRoaXMsIG9wZXJhdGlvbiwgYXJncy5zbGljZSgwLCAtMSkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5jYWxsLmFwcGx5KG9yaWcsIF9fc3ByZWFkKFt0aGlzXSwgYXJncy5zbGljZSgwLCAtMSksIFtmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IHNwYW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maW5pc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RBcmcoZXJyLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGb3JtIGEgU3BhbkNvbnRleHQgYmFzZWQgb24gdGhlIHVzZXIgaW5wdXQgdG8gYSBnaXZlbiBvcGVyYXRpb24uXG4gICAgICovXG4gICAgTW9uZ28ucHJvdG90eXBlLl9nZXRTcGFuQ29udGV4dEZyb21PcGVyYXRpb25Bcmd1bWVudHMgPSBmdW5jdGlvbiAoY29sbGVjdGlvbiwgb3BlcmF0aW9uLCBhcmdzKSB7XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgY29sbGVjdGlvbk5hbWU6IGNvbGxlY3Rpb24uY29sbGVjdGlvbk5hbWUsXG4gICAgICAgICAgICBkYk5hbWU6IGNvbGxlY3Rpb24uZGJOYW1lLFxuICAgICAgICAgICAgbmFtZXNwYWNlOiBjb2xsZWN0aW9uLm5hbWVzcGFjZSxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHNwYW5Db250ZXh0ID0ge1xuICAgICAgICAgICAgb3A6IFwiZGJcIixcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBvcGVyYXRpb24sXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICB9O1xuICAgICAgICAvLyBJZiB0aGUgb3BlcmF0aW9uIHRha2VzIG5vIGFyZ3VtZW50cyBiZXNpZGVzIGBvcHRpb25zYCBhbmQgYGNhbGxiYWNrYCwgb3IgaWYgYXJndW1lbnRcbiAgICAgICAgLy8gY29sbGVjdGlvbiBpcyBkaXNhYmxlZCBmb3IgdGhpcyBvcGVyYXRpb24sIGp1c3QgcmV0dXJuIGVhcmx5LlxuICAgICAgICB2YXIgc2lnbmF0dXJlID0gT1BFUkFUSU9OX1NJR05BVFVSRVNbb3BlcmF0aW9uXTtcbiAgICAgICAgdmFyIHNob3VsZERlc2NyaWJlID0gQXJyYXkuaXNBcnJheSh0aGlzLl9kZXNjcmliZU9wZXJhdGlvbnMpXG4gICAgICAgICAgICA/IHRoaXMuX2Rlc2NyaWJlT3BlcmF0aW9ucy5pbmNsdWRlcyhvcGVyYXRpb24pXG4gICAgICAgICAgICA6IHRoaXMuX2Rlc2NyaWJlT3BlcmF0aW9ucztcbiAgICAgICAgaWYgKCFzaWduYXR1cmUgfHwgIXNob3VsZERlc2NyaWJlKSB7XG4gICAgICAgICAgICByZXR1cm4gc3BhbkNvbnRleHQ7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgYG1hcFJlZHVjZWAsIGFzIHRoZSBvbmx5IG9uZSBhY2NlcHRpbmcgZnVuY3Rpb25zIGFzIGFyZ3VtZW50cy5cbiAgICAgICAgICAgIGlmIChvcGVyYXRpb24gPT09ICdtYXBSZWR1Y2UnKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gX19yZWFkKGFyZ3MsIDIpLCBtYXAgPSBfYVswXSwgcmVkdWNlID0gX2FbMV07XG4gICAgICAgICAgICAgICAgZGF0YVtzaWduYXR1cmVbMF1dID0gdHlwZW9mIG1hcCA9PT0gJ3N0cmluZycgPyBtYXAgOiBtYXAubmFtZSB8fCAnPGFub255bW91cz4nO1xuICAgICAgICAgICAgICAgIGRhdGFbc2lnbmF0dXJlWzFdXSA9IHR5cGVvZiByZWR1Y2UgPT09ICdzdHJpbmcnID8gcmVkdWNlIDogcmVkdWNlLm5hbWUgfHwgJzxhbm9ueW1vdXM+JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2lnbmF0dXJlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbc2lnbmF0dXJlW2ldXSA9IEpTT04uc3RyaW5naWZ5KGFyZ3NbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX29PKSB7XG4gICAgICAgICAgICAvLyBuby1lbXB0eVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzcGFuQ29udGV4dDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgTW9uZ28uaWQgPSAnTW9uZ28nO1xuICAgIHJldHVybiBNb25nbztcbn0oKSk7XG5leHBvcnQgeyBNb25nbyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9uZ28uanMubWFwIiwiaW1wb3J0IHsgZHluYW1pY1JlcXVpcmUsIGZpbGwsIGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuLyoqIFRyYWNpbmcgaW50ZWdyYXRpb24gZm9yIG5vZGUtbXlzcWwgcGFja2FnZSAqL1xudmFyIE15c3FsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE15c3FsKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGluaGVyaXREb2NcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IE15c3FsLmlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIE15c3FsLnByb3RvdHlwZS5zZXR1cE9uY2UgPSBmdW5jdGlvbiAoXywgZ2V0Q3VycmVudEh1Yikge1xuICAgICAgICB2YXIgY29ubmVjdGlvbjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFVuZm9ydHVuYXRlbGx5IG15c3FsIGlzIHVzaW5nIHNvbWUgY3VzdG9tIGxvYWRpbmcgc3lzdGVtIGFuZCBgQ29ubmVjdGlvbmAgaXMgbm90IGV4cG9ydGVkIGRpcmVjdGx5LlxuICAgICAgICAgICAgY29ubmVjdGlvbiA9IGR5bmFtaWNSZXF1aXJlKG1vZHVsZSwgJ215c3FsL2xpYi9Db25uZWN0aW9uLmpzJyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignTXlzcWwgSW50ZWdyYXRpb24gd2FzIHVuYWJsZSB0byByZXF1aXJlIGBteXNxbGAgcGFja2FnZS4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgb3JpZ2luYWwgZnVuY3Rpb24gd2lsbCBoYXZlIG9uZSBvZiB0aGVzZSBzaWduYXR1cmVzOlxuICAgICAgICAvLyAgICBmdW5jdGlvbiAoY2FsbGJhY2spID0+IHZvaWRcbiAgICAgICAgLy8gICAgZnVuY3Rpb24gKG9wdGlvbnMsIGNhbGxiYWNrKSA9PiB2b2lkXG4gICAgICAgIC8vICAgIGZ1bmN0aW9uIChvcHRpb25zLCB2YWx1ZXMsIGNhbGxiYWNrKSA9PiB2b2lkXG4gICAgICAgIGZpbGwoY29ubmVjdGlvbi5wcm90b3R5cGUsICdxdWVyeScsIGZ1bmN0aW9uIChvcmlnKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG9wdGlvbnMsIHZhbHVlcywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIHZhciBzY29wZSA9IGdldEN1cnJlbnRIdWIoKS5nZXRTY29wZSgpO1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRTcGFuID0gKF9hID0gc2NvcGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRTcGFuKCk7XG4gICAgICAgICAgICAgICAgdmFyIHNwYW4gPSAoX2IgPSBwYXJlbnRTcGFuKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgPyBvcHRpb25zIDogb3B0aW9ucy5zcWwsXG4gICAgICAgICAgICAgICAgICAgIG9wOiBcImRiXCIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5jYWxsKHRoaXMsIG9wdGlvbnMsIHZhbHVlcywgZnVuY3Rpb24gKGVyciwgcmVzdWx0LCBmaWVsZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IHNwYW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maW5pc2goKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0LCBmaWVsZHMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWcuY2FsbCh0aGlzLCBvcHRpb25zLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQsIGZpZWxkcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gc3BhbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzKGVyciwgcmVzdWx0LCBmaWVsZHMpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWcuY2FsbCh0aGlzLCBvcHRpb25zLCB2YWx1ZXMsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBNeXNxbC5pZCA9ICdNeXNxbCc7XG4gICAgcmV0dXJuIE15c3FsO1xufSgpKTtcbmV4cG9ydCB7IE15c3FsIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1teXNxbC5qcy5tYXAiLCJpbXBvcnQgeyBkeW5hbWljUmVxdWlyZSwgZmlsbCwgbG9nZ2VyIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG4vKiogVHJhY2luZyBpbnRlZ3JhdGlvbiBmb3Igbm9kZS1wb3N0Z3JlcyBwYWNrYWdlICovXG52YXIgUG9zdGdyZXMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUG9zdGdyZXMoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW5oZXJpdERvY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYW1lID0gUG9zdGdyZXMuaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgUG9zdGdyZXMucHJvdG90eXBlLnNldHVwT25jZSA9IGZ1bmN0aW9uIChfLCBnZXRDdXJyZW50SHViKSB7XG4gICAgICAgIHZhciBjbGllbnQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgcGdNb2R1bGUgPSBkeW5hbWljUmVxdWlyZShtb2R1bGUsICdwZycpO1xuICAgICAgICAgICAgY2xpZW50ID0gcGdNb2R1bGUuQ2xpZW50O1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ1Bvc3RncmVzIEludGVncmF0aW9uIHdhcyB1bmFibGUgdG8gcmVxdWlyZSBgcGdgIHBhY2thZ2UuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIGZ1bmN0aW9uIChxdWVyeSwgY2FsbGJhY2spID0+IHZvaWRcbiAgICAgICAgICogZnVuY3Rpb24gKHF1ZXJ5LCBwYXJhbXMsIGNhbGxiYWNrKSA9PiB2b2lkXG4gICAgICAgICAqIGZ1bmN0aW9uIChxdWVyeSkgPT4gUHJvbWlzZVxuICAgICAgICAgKiBmdW5jdGlvbiAocXVlcnksIHBhcmFtcykgPT4gUHJvbWlzZVxuICAgICAgICAgKi9cbiAgICAgICAgZmlsbChjbGllbnQucHJvdG90eXBlLCAncXVlcnknLCBmdW5jdGlvbiAob3JpZykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjb25maWcsIHZhbHVlcywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgICAgIHZhciBzY29wZSA9IGdldEN1cnJlbnRIdWIoKS5nZXRTY29wZSgpO1xuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRTcGFuID0gKF9hID0gc2NvcGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRTcGFuKCk7XG4gICAgICAgICAgICAgICAgdmFyIHNwYW4gPSAoX2IgPSBwYXJlbnRTcGFuKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iuc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJyA/IGNvbmZpZyA6IGNvbmZpZy50ZXh0LFxuICAgICAgICAgICAgICAgICAgICBvcDogXCJkYlwiLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWcuY2FsbCh0aGlzLCBjb25maWcsIHZhbHVlcywgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBzcGFuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmluaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZy5jYWxsKHRoaXMsIGNvbmZpZywgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgICAgICAoX2EgPSBzcGFuKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZmluaXNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMoZXJyLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWcuY2FsbCh0aGlzLCBjb25maWcsIHZhbHVlcykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gc3BhbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmZpbmlzaCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFBvc3RncmVzLmlkID0gJ1Bvc3RncmVzJztcbiAgICByZXR1cm4gUG9zdGdyZXM7XG59KCkpO1xuZXhwb3J0IHsgUG9zdGdyZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvc3RncmVzLmpzLm1hcCIsImltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi9pcyc7XG4vKipcbiAqIEdpdmVuIGEgY2hpbGQgRE9NIGVsZW1lbnQsIHJldHVybnMgYSBxdWVyeS1zZWxlY3RvciBzdGF0ZW1lbnQgZGVzY3JpYmluZyB0aGF0XG4gKiBhbmQgaXRzIGFuY2VzdG9yc1xuICogZS5nLiBbSFRNTEVsZW1lbnRdID0+IGJvZHkgPiBkaXYgPiBpbnB1dCNmb28uYnRuW25hbWU9YmF6XVxuICogQHJldHVybnMgZ2VuZXJhdGVkIERPTSBwYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBodG1sVHJlZUFzU3RyaW5nKGVsZW0pIHtcbiAgICAvLyB0cnkvY2F0Y2ggYm90aDpcbiAgICAvLyAtIGFjY2Vzc2luZyBldmVudC50YXJnZXQgKHNlZSBnZXRzZW50cnkvcmF2ZW4tanMjODM4LCAjNzY4KVxuICAgIC8vIC0gYGh0bWxUcmVlQXNTdHJpbmdgIGJlY2F1c2UgaXQncyBjb21wbGV4LCBhbmQganVzdCBhY2Nlc3NpbmcgdGhlIERPTSBpbmNvcnJlY3RseVxuICAgIC8vIC0gY2FuIHRocm93IGFuIGV4Y2VwdGlvbiBpbiBzb21lIGNpcmN1bXN0YW5jZXMuXG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGN1cnJlbnRFbGVtID0gZWxlbTtcbiAgICAgICAgdmFyIE1BWF9UUkFWRVJTRV9IRUlHSFQgPSA1O1xuICAgICAgICB2YXIgTUFYX09VVFBVVF9MRU4gPSA4MDtcbiAgICAgICAgdmFyIG91dCA9IFtdO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIGxlbiA9IDA7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSAnID4gJztcbiAgICAgICAgdmFyIHNlcExlbmd0aCA9IHNlcGFyYXRvci5sZW5ndGg7XG4gICAgICAgIHZhciBuZXh0U3RyID0gdm9pZCAwO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGx1c3BsdXNcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRFbGVtICYmIGhlaWdodCsrIDwgTUFYX1RSQVZFUlNFX0hFSUdIVCkge1xuICAgICAgICAgICAgbmV4dFN0ciA9IF9odG1sRWxlbWVudEFzU3RyaW5nKGN1cnJlbnRFbGVtKTtcbiAgICAgICAgICAgIC8vIGJhaWwgb3V0IGlmXG4gICAgICAgICAgICAvLyAtIG5leHRTdHIgaXMgdGhlICdodG1sJyBlbGVtZW50XG4gICAgICAgICAgICAvLyAtIHRoZSBsZW5ndGggb2YgdGhlIHN0cmluZyB0aGF0IHdvdWxkIGJlIGNyZWF0ZWQgZXhjZWVkcyBNQVhfT1VUUFVUX0xFTlxuICAgICAgICAgICAgLy8gICAoaWdub3JlIHRoaXMgbGltaXQgaWYgd2UgYXJlIG9uIHRoZSBmaXJzdCBpdGVyYXRpb24pXG4gICAgICAgICAgICBpZiAobmV4dFN0ciA9PT0gJ2h0bWwnIHx8IChoZWlnaHQgPiAxICYmIGxlbiArIG91dC5sZW5ndGggKiBzZXBMZW5ndGggKyBuZXh0U3RyLmxlbmd0aCA+PSBNQVhfT1VUUFVUX0xFTikpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dC5wdXNoKG5leHRTdHIpO1xuICAgICAgICAgICAgbGVuICs9IG5leHRTdHIubGVuZ3RoO1xuICAgICAgICAgICAgY3VycmVudEVsZW0gPSBjdXJyZW50RWxlbS5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQucmV2ZXJzZSgpLmpvaW4oc2VwYXJhdG9yKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9vTykge1xuICAgICAgICByZXR1cm4gJzx1bmtub3duPic7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIGEgc2ltcGxlLCBxdWVyeS1zZWxlY3RvciByZXByZXNlbnRhdGlvbiBvZiBhIERPTSBlbGVtZW50XG4gKiBlLmcuIFtIVE1MRWxlbWVudF0gPT4gaW5wdXQjZm9vLmJ0bltuYW1lPWJhel1cbiAqIEByZXR1cm5zIGdlbmVyYXRlZCBET00gcGF0aFxuICovXG5mdW5jdGlvbiBfaHRtbEVsZW1lbnRBc1N0cmluZyhlbCkge1xuICAgIHZhciBlbGVtID0gZWw7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIHZhciBjbGFzc05hbWU7XG4gICAgdmFyIGNsYXNzZXM7XG4gICAgdmFyIGtleTtcbiAgICB2YXIgYXR0cjtcbiAgICB2YXIgaTtcbiAgICBpZiAoIWVsZW0gfHwgIWVsZW0udGFnTmFtZSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIG91dC5wdXNoKGVsZW0udGFnTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICBpZiAoZWxlbS5pZCkge1xuICAgICAgICBvdXQucHVzaChcIiNcIiArIGVsZW0uaWQpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgY2xhc3NOYW1lID0gZWxlbS5jbGFzc05hbWU7XG4gICAgaWYgKGNsYXNzTmFtZSAmJiBpc1N0cmluZyhjbGFzc05hbWUpKSB7XG4gICAgICAgIGNsYXNzZXMgPSBjbGFzc05hbWUuc3BsaXQoL1xccysvKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNsYXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG91dC5wdXNoKFwiLlwiICsgY2xhc3Nlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGFsbG93ZWRBdHRycyA9IFsndHlwZScsICduYW1lJywgJ3RpdGxlJywgJ2FsdCddO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhbGxvd2VkQXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ID0gYWxsb3dlZEF0dHJzW2ldO1xuICAgICAgICBhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgaWYgKGF0dHIpIHtcbiAgICAgICAgICAgIG91dC5wdXNoKFwiW1wiICsga2V5ICsgXCI9XFxcIlwiICsgYXR0ciArIFwiXFxcIl1cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dC5qb2luKCcnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb3dzZXIuanMubWFwIiwiLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcyAqL1xuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgb25lIG9mIGEgZmV3IEVycm9yIG9yIEVycm9yLWxpa2VcbiAqIHtAbGluayBpc0Vycm9yfS5cbiAqXG4gKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC5cbiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRXJyb3Iod2F0KSB7XG4gICAgc3dpdGNoIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2F0KSkge1xuICAgICAgICBjYXNlICdbb2JqZWN0IEVycm9yXSc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY2FzZSAnW29iamVjdCBFeGNlcHRpb25dJzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gaXNJbnN0YW5jZU9mKHdhdCwgRXJyb3IpO1xuICAgIH1cbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIEVycm9yRXZlbnRcbiAqIHtAbGluayBpc0Vycm9yRXZlbnR9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFcnJvckV2ZW50KHdhdCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2F0KSA9PT0gJ1tvYmplY3QgRXJyb3JFdmVudF0nO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgRE9NRXJyb3JcbiAqIHtAbGluayBpc0RPTUVycm9yfS5cbiAqXG4gKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC5cbiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRE9NRXJyb3Iod2F0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3YXQpID09PSAnW29iamVjdCBET01FcnJvcl0nO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgRE9NRXhjZXB0aW9uXG4gKiB7QGxpbmsgaXNET01FeGNlcHRpb259LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNET01FeGNlcHRpb24od2F0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3YXQpID09PSAnW29iamVjdCBET01FeGNlcHRpb25dJztcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGEgc3RyaW5nXG4gKiB7QGxpbmsgaXNTdHJpbmd9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdHJpbmcod2F0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3YXQpID09PSAnW29iamVjdCBTdHJpbmddJztcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyBpcyBhIHByaW1pdGl2ZSAodW5kZWZpbmVkLCBudWxsLCBudW1iZXIsIGJvb2xlYW4sIHN0cmluZywgYmlnaW50LCBzeW1ib2wpXG4gKiB7QGxpbmsgaXNQcmltaXRpdmV9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQcmltaXRpdmUod2F0KSB7XG4gICAgcmV0dXJuIHdhdCA9PT0gbnVsbCB8fCAodHlwZW9mIHdhdCAhPT0gJ29iamVjdCcgJiYgdHlwZW9mIHdhdCAhPT0gJ2Z1bmN0aW9uJyk7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBhbiBvYmplY3QgbGl0ZXJhbFxuICoge0BsaW5rIGlzUGxhaW5PYmplY3R9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh3YXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdhdCkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYW4gRXZlbnQgaW5zdGFuY2VcbiAqIHtAbGluayBpc0V2ZW50fS5cbiAqXG4gKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC5cbiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRXZlbnQod2F0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBFdmVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNJbnN0YW5jZU9mKHdhdCwgRXZlbnQpO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYW4gRWxlbWVudCBpbnN0YW5jZVxuICoge0BsaW5rIGlzRWxlbWVudH0uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VsZW1lbnQod2F0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBFbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBpc0luc3RhbmNlT2Yod2F0LCBFbGVtZW50KTtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGFuIHJlZ2V4cFxuICoge0BsaW5rIGlzUmVnRXhwfS5cbiAqXG4gKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC5cbiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUmVnRXhwKHdhdCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2F0KSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlIGhhcyBhIHRoZW4gZnVuY3Rpb24uXG4gKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVGhlbmFibGUod2F0KSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgIHJldHVybiBCb29sZWFuKHdhdCAmJiB3YXQudGhlbiAmJiB0eXBlb2Ygd2F0LnRoZW4gPT09ICdmdW5jdGlvbicpO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYSBTeW50aGV0aWNFdmVudFxuICoge0BsaW5rIGlzU3ludGhldGljRXZlbnR9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTeW50aGV0aWNFdmVudCh3YXQpIHtcbiAgICByZXR1cm4gaXNQbGFpbk9iamVjdCh3YXQpICYmICduYXRpdmVFdmVudCcgaW4gd2F0ICYmICdwcmV2ZW50RGVmYXVsdCcgaW4gd2F0ICYmICdzdG9wUHJvcGFnYXRpb24nIGluIHdhdDtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGFuIGluc3RhbmNlIG9mIHByb3ZpZGVkIGNvbnN0cnVjdG9yLlxuICoge0BsaW5rIGlzSW5zdGFuY2VPZn0uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcGFyYW0gYmFzZSBBIGNvbnN0cnVjdG9yIHRvIGJlIHVzZWQgaW4gYSBjaGVjay5cbiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW5zdGFuY2VPZih3YXQsIGJhc2UpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gd2F0IGluc3RhbmNlb2YgYmFzZTtcbiAgICB9XG4gICAgY2F0Y2ggKF9lKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pcy5qcy5tYXAiLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5pbXBvcnQgeyBjb25zb2xlU2FuZGJveCwgZ2V0R2xvYmFsT2JqZWN0IH0gZnJvbSAnLi9taXNjJztcbi8vIFRPRE86IEltcGxlbWVudCBkaWZmZXJlbnQgbG9nZ2VycyBmb3IgZGlmZmVyZW50IGVudmlyb25tZW50c1xudmFyIGdsb2JhbCA9IGdldEdsb2JhbE9iamVjdCgpO1xuLyoqIFByZWZpeCBmb3IgbG9nZ2luZyBzdHJpbmdzICovXG52YXIgUFJFRklYID0gJ1NlbnRyeSBMb2dnZXIgJztcbi8qKiBKU0RvYyAqL1xudmFyIExvZ2dlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBmdW5jdGlvbiBMb2dnZXIoKSB7XG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgLyoqIEpTRG9jICovXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9lbmFibGVkID0gZmFsc2U7XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBMb2dnZXIucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fZW5hYmxlZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBMb2dnZXIucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlU2FuZGJveChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBnbG9iYWwuY29uc29sZS5sb2coUFJFRklYICsgXCJbTG9nXTogXCIgKyBhcmdzLmpvaW4oJyAnKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgTG9nZ2VyLnByb3RvdHlwZS53YXJuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fZW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGVTYW5kYm94KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGdsb2JhbC5jb25zb2xlLndhcm4oUFJFRklYICsgXCJbV2Fybl06IFwiICsgYXJncy5qb2luKCcgJykpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIExvZ2dlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZVNhbmRib3goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZ2xvYmFsLmNvbnNvbGUuZXJyb3IoUFJFRklYICsgXCJbRXJyb3JdOiBcIiArIGFyZ3Muam9pbignICcpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gTG9nZ2VyO1xufSgpKTtcbi8vIEVuc3VyZSB3ZSBvbmx5IGhhdmUgYSBzaW5nbGUgbG9nZ2VyIGluc3RhbmNlLCBldmVuIGlmIG11bHRpcGxlIHZlcnNpb25zIG9mIEBzZW50cnkvdXRpbHMgYXJlIGJlaW5nIHVzZWRcbmdsb2JhbC5fX1NFTlRSWV9fID0gZ2xvYmFsLl9fU0VOVFJZX18gfHwge307XG52YXIgbG9nZ2VyID0gZ2xvYmFsLl9fU0VOVFJZX18ubG9nZ2VyIHx8IChnbG9iYWwuX19TRU5UUllfXy5sb2dnZXIgPSBuZXcgTG9nZ2VyKCkpO1xuZXhwb3J0IHsgbG9nZ2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dnZXIuanMubWFwIiwiaW1wb3J0IHsgaXNOb2RlRW52IH0gZnJvbSAnLi9ub2RlJztcbmltcG9ydCB7IHNuaXBMaW5lIH0gZnJvbSAnLi9zdHJpbmcnO1xudmFyIGZhbGxiYWNrR2xvYmFsT2JqZWN0ID0ge307XG4vKipcbiAqIFNhZmVseSBnZXQgZ2xvYmFsIHNjb3BlIG9iamVjdFxuICpcbiAqIEByZXR1cm5zIEdsb2JhbCBzY29wZSBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbE9iamVjdCgpIHtcbiAgICByZXR1cm4gKGlzTm9kZUVudigpXG4gICAgICAgID8gZ2xvYmFsXG4gICAgICAgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgID8gd2luZG93XG4gICAgICAgICAgICA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgID8gc2VsZlxuICAgICAgICAgICAgICAgIDogZmFsbGJhY2tHbG9iYWxPYmplY3QpO1xufVxuLyoqXG4gKiBVVUlENCBnZW5lcmF0b3JcbiAqXG4gKiBAcmV0dXJucyBzdHJpbmcgR2VuZXJhdGVkIFVVSUQ0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXVpZDQoKSB7XG4gICAgdmFyIGdsb2JhbCA9IGdldEdsb2JhbE9iamVjdCgpO1xuICAgIHZhciBjcnlwdG8gPSBnbG9iYWwuY3J5cHRvIHx8IGdsb2JhbC5tc0NyeXB0bztcbiAgICBpZiAoIShjcnlwdG8gPT09IHZvaWQgMCkgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAgICAgICAvLyBVc2Ugd2luZG93LmNyeXB0byBBUEkgaWYgYXZhaWxhYmxlXG4gICAgICAgIHZhciBhcnIgPSBuZXcgVWludDE2QXJyYXkoOCk7XG4gICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyKTtcbiAgICAgICAgLy8gc2V0IDQgaW4gYnl0ZSA3XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICAgIGFyclszXSA9IChhcnJbM10gJiAweGZmZikgfCAweDQwMDA7XG4gICAgICAgIC8vIHNldCAyIG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBvZiBieXRlIDkgdG8gJzEwJ1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgICAgICBhcnJbNF0gPSAoYXJyWzRdICYgMHgzZmZmKSB8IDB4ODAwMDtcbiAgICAgICAgdmFyIHBhZCA9IGZ1bmN0aW9uIChudW0pIHtcbiAgICAgICAgICAgIHZhciB2ID0gbnVtLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgIHdoaWxlICh2Lmxlbmd0aCA8IDQpIHtcbiAgICAgICAgICAgICAgICB2ID0gXCIwXCIgKyB2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiAocGFkKGFyclswXSkgKyBwYWQoYXJyWzFdKSArIHBhZChhcnJbMl0pICsgcGFkKGFyclszXSkgKyBwYWQoYXJyWzRdKSArIHBhZChhcnJbNV0pICsgcGFkKGFycls2XSkgKyBwYWQoYXJyWzddKSk7XG4gICAgfVxuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTA1MDM0L2hvdy10by1jcmVhdGUtYS1ndWlkLXV1aWQtaW4tamF2YXNjcmlwdC8yMTE3NTIzIzIxMTc1MjNcbiAgICByZXR1cm4gJ3h4eHh4eHh4eHh4eDR4eHh5eHh4eHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICAgIHZhciByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxuICAgICAgICB2YXIgdiA9IGMgPT09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDg7XG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcbn1cbi8qKlxuICogUGFyc2VzIHN0cmluZyBmb3JtIG9mIFVSTCBpbnRvIGFuIG9iamVjdFxuICogLy8gYm9ycm93ZWQgZnJvbSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNhcHBlbmRpeC1CXG4gKiAvLyBpbnRlbnRpb25hbGx5IHVzaW5nIHJlZ2V4IGFuZCBub3QgPGEvPiBocmVmIHBhcnNpbmcgdHJpY2sgYmVjYXVzZSBSZWFjdCBOYXRpdmUgYW5kIG90aGVyXG4gKiAvLyBlbnZpcm9ubWVudHMgd2hlcmUgRE9NIG1pZ2h0IG5vdCBiZSBhdmFpbGFibGVcbiAqIEByZXR1cm5zIHBhcnNlZCBVUkwgb2JqZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVybCh1cmwpIHtcbiAgICBpZiAoIXVybCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHZhciBtYXRjaCA9IHVybC5tYXRjaCgvXigoW146Lz8jXSspOik/KFxcL1xcLyhbXi8/I10qKSk/KFtePyNdKikoXFw/KFteI10qKSk/KCMoLiopKT8kLyk7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIC8vIGNvZXJjZSB0byB1bmRlZmluZWQgdmFsdWVzIHRvIGVtcHR5IHN0cmluZyBzbyB3ZSBkb24ndCBnZXQgJ3VuZGVmaW5lZCdcbiAgICB2YXIgcXVlcnkgPSBtYXRjaFs2XSB8fCAnJztcbiAgICB2YXIgZnJhZ21lbnQgPSBtYXRjaFs4XSB8fCAnJztcbiAgICByZXR1cm4ge1xuICAgICAgICBob3N0OiBtYXRjaFs0XSxcbiAgICAgICAgcGF0aDogbWF0Y2hbNV0sXG4gICAgICAgIHByb3RvY29sOiBtYXRjaFsyXSxcbiAgICAgICAgcmVsYXRpdmU6IG1hdGNoWzVdICsgcXVlcnkgKyBmcmFnbWVudCxcbiAgICB9O1xufVxuLyoqXG4gKiBFeHRyYWN0cyBlaXRoZXIgbWVzc2FnZSBvciB0eXBlK3ZhbHVlIGZyb20gYW4gZXZlbnQgdGhhdCBjYW4gYmUgdXNlZCBmb3IgdXNlci1mYWNpbmcgbG9nc1xuICogQHJldHVybnMgZXZlbnQncyBkZXNjcmlwdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXZlbnREZXNjcmlwdGlvbihldmVudCkge1xuICAgIGlmIChldmVudC5tZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBldmVudC5tZXNzYWdlO1xuICAgIH1cbiAgICBpZiAoZXZlbnQuZXhjZXB0aW9uICYmIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXMgJiYgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXSkge1xuICAgICAgICB2YXIgZXhjZXB0aW9uID0gZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXTtcbiAgICAgICAgaWYgKGV4Y2VwdGlvbi50eXBlICYmIGV4Y2VwdGlvbi52YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGV4Y2VwdGlvbi50eXBlICsgXCI6IFwiICsgZXhjZXB0aW9uLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBleGNlcHRpb24udHlwZSB8fCBleGNlcHRpb24udmFsdWUgfHwgZXZlbnQuZXZlbnRfaWQgfHwgJzx1bmtub3duPic7XG4gICAgfVxuICAgIHJldHVybiBldmVudC5ldmVudF9pZCB8fCAnPHVua25vd24+Jztcbn1cbi8qKiBKU0RvYyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnNvbGVTYW5kYm94KGNhbGxiYWNrKSB7XG4gICAgdmFyIGdsb2JhbCA9IGdldEdsb2JhbE9iamVjdCgpO1xuICAgIHZhciBsZXZlbHMgPSBbJ2RlYnVnJywgJ2luZm8nLCAnd2FybicsICdlcnJvcicsICdsb2cnLCAnYXNzZXJ0J107XG4gICAgaWYgKCEoJ2NvbnNvbGUnIGluIGdsb2JhbCkpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICB2YXIgb3JpZ2luYWxDb25zb2xlID0gZ2xvYmFsLmNvbnNvbGU7XG4gICAgdmFyIHdyYXBwZWRMZXZlbHMgPSB7fTtcbiAgICAvLyBSZXN0b3JlIGFsbCB3cmFwcGVkIGNvbnNvbGUgbWV0aG9kc1xuICAgIGxldmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgIGlmIChsZXZlbCBpbiBnbG9iYWwuY29uc29sZSAmJiBvcmlnaW5hbENvbnNvbGVbbGV2ZWxdLl9fc2VudHJ5X29yaWdpbmFsX18pIHtcbiAgICAgICAgICAgIHdyYXBwZWRMZXZlbHNbbGV2ZWxdID0gb3JpZ2luYWxDb25zb2xlW2xldmVsXTtcbiAgICAgICAgICAgIG9yaWdpbmFsQ29uc29sZVtsZXZlbF0gPSBvcmlnaW5hbENvbnNvbGVbbGV2ZWxdLl9fc2VudHJ5X29yaWdpbmFsX187XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBQZXJmb3JtIGNhbGxiYWNrIG1hbmlwdWxhdGlvbnNcbiAgICB2YXIgcmVzdWx0ID0gY2FsbGJhY2soKTtcbiAgICAvLyBSZXZlcnQgcmVzdG9yYXRpb24gdG8gd3JhcHBlZCBzdGF0ZVxuICAgIE9iamVjdC5rZXlzKHdyYXBwZWRMZXZlbHMpLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgIG9yaWdpbmFsQ29uc29sZVtsZXZlbF0gPSB3cmFwcGVkTGV2ZWxzW2xldmVsXTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBBZGRzIGV4Y2VwdGlvbiB2YWx1ZXMsIHR5cGUgYW5kIHZhbHVlIHRvIGFuIHN5bnRoZXRpYyBFeGNlcHRpb24uXG4gKiBAcGFyYW0gZXZlbnQgVGhlIGV2ZW50IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSBvZiB0aGUgZXhjZXB0aW9uLlxuICogQHBhcmFtIHR5cGUgVHlwZSBvZiB0aGUgZXhjZXB0aW9uLlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXhjZXB0aW9uVHlwZVZhbHVlKGV2ZW50LCB2YWx1ZSwgdHlwZSkge1xuICAgIGV2ZW50LmV4Y2VwdGlvbiA9IGV2ZW50LmV4Y2VwdGlvbiB8fCB7fTtcbiAgICBldmVudC5leGNlcHRpb24udmFsdWVzID0gZXZlbnQuZXhjZXB0aW9uLnZhbHVlcyB8fCBbXTtcbiAgICBldmVudC5leGNlcHRpb24udmFsdWVzWzBdID0gZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXSB8fCB7fTtcbiAgICBldmVudC5leGNlcHRpb24udmFsdWVzWzBdLnZhbHVlID0gZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXS52YWx1ZSB8fCB2YWx1ZSB8fCAnJztcbiAgICBldmVudC5leGNlcHRpb24udmFsdWVzWzBdLnR5cGUgPSBldmVudC5leGNlcHRpb24udmFsdWVzWzBdLnR5cGUgfHwgdHlwZSB8fCAnRXJyb3InO1xufVxuLyoqXG4gKiBBZGRzIGV4Y2VwdGlvbiBtZWNoYW5pc20gdG8gYSBnaXZlbiBldmVudC5cbiAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdG8gbW9kaWZ5LlxuICogQHBhcmFtIG1lY2hhbmlzbSBNZWNoYW5pc20gb2YgdGhlIG1lY2hhbmlzbS5cbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEV4Y2VwdGlvbk1lY2hhbmlzbShldmVudCwgbWVjaGFuaXNtKSB7XG4gICAgaWYgKG1lY2hhbmlzbSA9PT0gdm9pZCAwKSB7IG1lY2hhbmlzbSA9IHt9OyB9XG4gICAgLy8gVE9ETzogVXNlIHJlYWwgdHlwZSB3aXRoIGBrZXlvZiBNZWNoYW5pc21gIHRoaW5neSBhbmQgbWF5YmUgbWFrZSBpdCBiZXR0ZXI/XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBUeXBlICdNZWNoYW5pc20gfCB7fScgaXMgbm90IGFzc2lnbmFibGUgdG8gdHlwZSAnTWVjaGFuaXNtIHwgdW5kZWZpbmVkJ1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICBldmVudC5leGNlcHRpb24udmFsdWVzWzBdLm1lY2hhbmlzbSA9IGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0ubWVjaGFuaXNtIHx8IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhtZWNoYW5pc20pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSBNZWNoYW5pc20gaGFzIG5vIGluZGV4IHNpZ25hdHVyZVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0ubWVjaGFuaXNtW2tleV0gPSBtZWNoYW5pc21ba2V5XTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNhdGNoIChfb08pIHtcbiAgICAgICAgLy8gbm8tZW1wdHlcbiAgICB9XG59XG4vKipcbiAqIEEgc2FmZSBmb3JtIG9mIGxvY2F0aW9uLmhyZWZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExvY2F0aW9uSHJlZigpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZG9jdW1lbnQubG9jYXRpb24uaHJlZjtcbiAgICB9XG4gICAgY2F0Y2ggKG9PKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG59XG4vLyBodHRwczovL3NlbXZlci5vcmcvI2lzLXRoZXJlLWEtc3VnZ2VzdGVkLXJlZ3VsYXItZXhwcmVzc2lvbi1yZWdleC10by1jaGVjay1hLXNlbXZlci1zdHJpbmdcbnZhciBTRU1WRVJfUkVHRVhQID0gL14oMHxbMS05XVxcZCopXFwuKDB8WzEtOV1cXGQqKVxcLigwfFsxLTldXFxkKikoPzotKCg/OjB8WzEtOV1cXGQqfFxcZCpbYS16QS1aLV1bMC05YS16QS1aLV0qKSg/OlxcLig/OjB8WzEtOV1cXGQqfFxcZCpbYS16QS1aLV1bMC05YS16QS1aLV0qKSkqKSk/KD86XFwrKFswLTlhLXpBLVotXSsoPzpcXC5bMC05YS16QS1aLV0rKSopKT8kLztcbi8qKlxuICogUGFyc2VzIGlucHV0IGludG8gYSBTZW1WZXIgaW50ZXJmYWNlXG4gKiBAcGFyYW0gaW5wdXQgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGEgc2VtdmVyIHZlcnNpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU2VtdmVyKGlucHV0KSB7XG4gICAgdmFyIG1hdGNoID0gaW5wdXQubWF0Y2goU0VNVkVSX1JFR0VYUCkgfHwgW107XG4gICAgdmFyIG1ham9yID0gcGFyc2VJbnQobWF0Y2hbMV0sIDEwKTtcbiAgICB2YXIgbWlub3IgPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuICAgIHZhciBwYXRjaCA9IHBhcnNlSW50KG1hdGNoWzNdLCAxMCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYnVpbGRtZXRhZGF0YTogbWF0Y2hbNV0sXG4gICAgICAgIG1ham9yOiBpc05hTihtYWpvcikgPyB1bmRlZmluZWQgOiBtYWpvcixcbiAgICAgICAgbWlub3I6IGlzTmFOKG1pbm9yKSA/IHVuZGVmaW5lZCA6IG1pbm9yLFxuICAgICAgICBwYXRjaDogaXNOYU4ocGF0Y2gpID8gdW5kZWZpbmVkIDogcGF0Y2gsXG4gICAgICAgIHByZXJlbGVhc2U6IG1hdGNoWzRdLFxuICAgIH07XG59XG52YXIgZGVmYXVsdFJldHJ5QWZ0ZXIgPSA2MCAqIDEwMDA7IC8vIDYwIHNlY29uZHNcbi8qKlxuICogRXh0cmFjdHMgUmV0cnktQWZ0ZXIgdmFsdWUgZnJvbSB0aGUgcmVxdWVzdCBoZWFkZXIgb3IgcmV0dXJucyBkZWZhdWx0IHZhbHVlXG4gKiBAcGFyYW0gbm93IGN1cnJlbnQgdW5peCB0aW1lc3RhbXBcbiAqIEBwYXJhbSBoZWFkZXIgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mICdSZXRyeS1BZnRlcicgaGVhZGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVJldHJ5QWZ0ZXJIZWFkZXIobm93LCBoZWFkZXIpIHtcbiAgICBpZiAoIWhlYWRlcikge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFJldHJ5QWZ0ZXI7XG4gICAgfVxuICAgIHZhciBoZWFkZXJEZWxheSA9IHBhcnNlSW50KFwiXCIgKyBoZWFkZXIsIDEwKTtcbiAgICBpZiAoIWlzTmFOKGhlYWRlckRlbGF5KSkge1xuICAgICAgICByZXR1cm4gaGVhZGVyRGVsYXkgKiAxMDAwO1xuICAgIH1cbiAgICB2YXIgaGVhZGVyRGF0ZSA9IERhdGUucGFyc2UoXCJcIiArIGhlYWRlcik7XG4gICAgaWYgKCFpc05hTihoZWFkZXJEYXRlKSkge1xuICAgICAgICByZXR1cm4gaGVhZGVyRGF0ZSAtIG5vdztcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRSZXRyeUFmdGVyO1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGFkZHMgY29udGV4dCAocHJlL3Bvc3QvbGluZSkgbGluZXMgdG8gdGhlIHByb3ZpZGVkIGZyYW1lXG4gKlxuICogQHBhcmFtIGxpbmVzIHN0cmluZ1tdIGNvbnRhaW5pbmcgYWxsIGxpbmVzXG4gKiBAcGFyYW0gZnJhbWUgU3RhY2tGcmFtZSB0aGF0IHdpbGwgYmUgbXV0YXRlZFxuICogQHBhcmFtIGxpbmVzT2ZDb250ZXh0IG51bWJlciBvZiBjb250ZXh0IGxpbmVzIHdlIHdhbnQgdG8gYWRkIHByZS9wb3N0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb250ZXh0VG9GcmFtZShsaW5lcywgZnJhbWUsIGxpbmVzT2ZDb250ZXh0KSB7XG4gICAgaWYgKGxpbmVzT2ZDb250ZXh0ID09PSB2b2lkIDApIHsgbGluZXNPZkNvbnRleHQgPSA1OyB9XG4gICAgdmFyIGxpbmVubyA9IGZyYW1lLmxpbmVubyB8fCAwO1xuICAgIHZhciBtYXhMaW5lcyA9IGxpbmVzLmxlbmd0aDtcbiAgICB2YXIgc291cmNlTGluZSA9IE1hdGgubWF4KE1hdGgubWluKG1heExpbmVzLCBsaW5lbm8gLSAxKSwgMCk7XG4gICAgZnJhbWUucHJlX2NvbnRleHQgPSBsaW5lc1xuICAgICAgICAuc2xpY2UoTWF0aC5tYXgoMCwgc291cmNlTGluZSAtIGxpbmVzT2ZDb250ZXh0KSwgc291cmNlTGluZSlcbiAgICAgICAgLm1hcChmdW5jdGlvbiAobGluZSkgeyByZXR1cm4gc25pcExpbmUobGluZSwgMCk7IH0pO1xuICAgIGZyYW1lLmNvbnRleHRfbGluZSA9IHNuaXBMaW5lKGxpbmVzW01hdGgubWluKG1heExpbmVzIC0gMSwgc291cmNlTGluZSldLCBmcmFtZS5jb2xubyB8fCAwKTtcbiAgICBmcmFtZS5wb3N0X2NvbnRleHQgPSBsaW5lc1xuICAgICAgICAuc2xpY2UoTWF0aC5taW4oc291cmNlTGluZSArIDEsIG1heExpbmVzKSwgc291cmNlTGluZSArIDEgKyBsaW5lc09mQ29udGV4dClcbiAgICAgICAgLm1hcChmdW5jdGlvbiAobGluZSkgeyByZXR1cm4gc25pcExpbmUobGluZSwgMCk7IH0pO1xufVxuLyoqXG4gKiBTdHJpcCB0aGUgcXVlcnkgc3RyaW5nIGFuZCBmcmFnbWVudCBvZmYgb2YgYSBnaXZlbiBVUkwgb3IgcGF0aCAoaWYgcHJlc2VudClcbiAqXG4gKiBAcGFyYW0gdXJsUGF0aCBGdWxsIFVSTCBvciBwYXRoLCBpbmNsdWRpbmcgcG9zc2libGUgcXVlcnkgc3RyaW5nIGFuZC9vciBmcmFnbWVudFxuICogQHJldHVybnMgVVJMIG9yIHBhdGggd2l0aG91dCBxdWVyeSBzdHJpbmcgb3IgZnJhZ21lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmlwVXJsUXVlcnlBbmRGcmFnbWVudCh1cmxQYXRoKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4gICAgcmV0dXJuIHVybFBhdGguc3BsaXQoL1tcXD8jXS8sIDEpWzBdO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWlzYy5qcy5tYXAiLCIvKipcbiAqIENoZWNrcyB3aGV0aGVyIHdlJ3JlIGluIHRoZSBOb2RlLmpzIG9yIEJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBAcmV0dXJucyBBbnN3ZXIgdG8gZ2l2ZW4gcXVlc3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTm9kZUVudigpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyA/IHByb2Nlc3MgOiAwKSA9PT0gJ1tvYmplY3QgcHJvY2Vzc10nO1xufVxuLyoqXG4gKiBSZXF1aXJlcyBhIG1vZHVsZSB3aGljaCBpcyBwcm90ZWN0ZWQgYWdhaW5zdCBidW5kbGVyIG1pbmlmaWNhdGlvbi5cbiAqXG4gKiBAcGFyYW0gcmVxdWVzdCBUaGUgbW9kdWxlIHBhdGggdG8gcmVzb2x2ZVxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcywgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIGR5bmFtaWNSZXF1aXJlKG1vZCwgcmVxdWVzdCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICByZXR1cm4gbW9kLnJlcXVpcmUocmVxdWVzdCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub2RlLmpzLm1hcCIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2VzcyAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlcyAqL1xuLyoqXG4gKiBNZW1vIGNsYXNzIHVzZWQgZm9yIGRlY3ljbGUganNvbiBvYmplY3RzLiBVc2VzIFdlYWtTZXQgaWYgYXZhaWxhYmxlIG90aGVyd2lzZSBhcnJheS5cbiAqL1xudmFyIE1lbW8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVtbygpIHtcbiAgICAgICAgdGhpcy5faGFzV2Vha1NldCA9IHR5cGVvZiBXZWFrU2V0ID09PSAnZnVuY3Rpb24nO1xuICAgICAgICB0aGlzLl9pbm5lciA9IHRoaXMuX2hhc1dlYWtTZXQgPyBuZXcgV2Vha1NldCgpIDogW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgb2JqIHRvIHJlbWVtYmVyLlxuICAgICAqIEBwYXJhbSBvYmogT2JqZWN0IHRvIHJlbWVtYmVyXG4gICAgICovXG4gICAgTWVtby5wcm90b3R5cGUubWVtb2l6ZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgaWYgKHRoaXMuX2hhc1dlYWtTZXQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9pbm5lci5oYXMob2JqKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5faW5uZXIuYWRkKG9iaik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9wcmVmZXItZm9yLW9mXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faW5uZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuX2lubmVyW2ldO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBvYmopIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pbm5lci5wdXNoKG9iaik7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgb2JqZWN0IGZyb20gaW50ZXJuYWwgc3RvcmFnZS5cbiAgICAgKiBAcGFyYW0gb2JqIE9iamVjdCB0byBmb3JnZXRcbiAgICAgKi9cbiAgICBNZW1vLnByb3RvdHlwZS51bm1lbW9pemUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNXZWFrU2V0KSB7XG4gICAgICAgICAgICB0aGlzLl9pbm5lci5kZWxldGUob2JqKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5faW5uZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faW5uZXJbaV0gPT09IG9iaikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pbm5lci5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1lbW87XG59KCkpO1xuZXhwb3J0IHsgTWVtbyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVtby5qcy5tYXAiLCJpbXBvcnQgeyBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaHRtbFRyZWVBc1N0cmluZyB9IGZyb20gJy4vYnJvd3Nlcic7XG5pbXBvcnQgeyBpc0VsZW1lbnQsIGlzRXJyb3IsIGlzRXZlbnQsIGlzSW5zdGFuY2VPZiwgaXNQbGFpbk9iamVjdCwgaXNQcmltaXRpdmUsIGlzU3ludGhldGljRXZlbnQgfSBmcm9tICcuL2lzJztcbmltcG9ydCB7IE1lbW8gfSBmcm9tICcuL21lbW8nO1xuaW1wb3J0IHsgZ2V0RnVuY3Rpb25OYW1lIH0gZnJvbSAnLi9zdGFja3RyYWNlJztcbmltcG9ydCB7IHRydW5jYXRlIH0gZnJvbSAnLi9zdHJpbmcnO1xuLyoqXG4gKiBXcmFwIGEgZ2l2ZW4gb2JqZWN0IG1ldGhvZCB3aXRoIGEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uXG4gKlxuICogQHBhcmFtIHNvdXJjZSBBbiBvYmplY3QgdGhhdCBjb250YWlucyBhIG1ldGhvZCB0byBiZSB3cmFwcGVkLlxuICogQHBhcmFtIG5hbWUgQSBuYW1lIG9mIG1ldGhvZCB0byBiZSB3cmFwcGVkLlxuICogQHBhcmFtIHJlcGxhY2VtZW50RmFjdG9yeSBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gd3JhcCBhIGdpdmVuIG1ldGhvZCwgcmV0dXJuaW5nIHRoZSB3cmFwcGVkIG1ldGhvZCB3aGljaFxuICogd2lsbCBiZSBzdWJzdGl0dXRlZCBpbiBmb3IgYHNvdXJjZVtuYW1lXWAuXG4gKiBAcmV0dXJucyB2b2lkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaWxsKHNvdXJjZSwgbmFtZSwgcmVwbGFjZW1lbnRGYWN0b3J5KSB7XG4gICAgaWYgKCEobmFtZSBpbiBzb3VyY2UpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIG9yaWdpbmFsID0gc291cmNlW25hbWVdO1xuICAgIHZhciB3cmFwcGVkID0gcmVwbGFjZW1lbnRGYWN0b3J5KG9yaWdpbmFsKTtcbiAgICAvLyBNYWtlIHN1cmUgaXQncyBhIGZ1bmN0aW9uIGZpcnN0LCBhcyB3ZSBuZWVkIHRvIGF0dGFjaCBhbiBlbXB0eSBwcm90b3R5cGUgZm9yIGBkZWZpbmVQcm9wZXJ0aWVzYCB0byB3b3JrXG4gICAgLy8gb3RoZXJ3aXNlIGl0J2xsIHRocm93IFwiVHlwZUVycm9yOiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyBjYWxsZWQgb24gbm9uLW9iamVjdFwiXG4gICAgaWYgKHR5cGVvZiB3cmFwcGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3cmFwcGVkLnByb3RvdHlwZSA9IHdyYXBwZWQucHJvdG90eXBlIHx8IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMod3JhcHBlZCwge1xuICAgICAgICAgICAgICAgIF9fc2VudHJ5X29yaWdpbmFsX186IHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcmlnaW5hbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9Pbykge1xuICAgICAgICAgICAgLy8gVGhpcyBjYW4gdGhyb3cgaWYgbXVsdGlwbGUgZmlsbCBoYXBwZW5zIG9uIGEgZ2xvYmFsIG9iamVjdCBsaWtlIFhNTEh0dHBSZXF1ZXN0XG4gICAgICAgICAgICAvLyBGaXhlcyBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy8yMDQzXG4gICAgICAgIH1cbiAgICB9XG4gICAgc291cmNlW25hbWVdID0gd3JhcHBlZDtcbn1cbi8qKlxuICogRW5jb2RlcyBnaXZlbiBvYmplY3QgaW50byB1cmwtZnJpZW5kbHkgZm9ybWF0XG4gKlxuICogQHBhcmFtIG9iamVjdCBBbiBvYmplY3QgdGhhdCBjb250YWlucyBzZXJpYWxpemFibGUgdmFsdWVzXG4gKiBAcmV0dXJucyBzdHJpbmcgRW5jb2RlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXJsRW5jb2RlKG9iamVjdCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChvYmplY3Rba2V5XSk7IH0pXG4gICAgICAgIC5qb2luKCcmJyk7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgYW55IG9iamVjdCBpbnRvIGFuIG9iamVjdCBsaXRlcmFsIHdpdGggYWxsIGl0cyBhdHRyaWJ1dGVzXG4gKiBhdHRhY2hlZCB0byBpdC5cbiAqXG4gKiBAcGFyYW0gdmFsdWUgSW5pdGlhbCBzb3VyY2UgdGhhdCB3ZSBoYXZlIHRvIHRyYW5zZm9ybSBpbiBvcmRlciBmb3IgaXQgdG8gYmUgdXNhYmxlIGJ5IHRoZSBzZXJpYWxpemVyXG4gKi9cbmZ1bmN0aW9uIGdldFdhbGtTb3VyY2UodmFsdWUpIHtcbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgICAgdmFyIGVycm9yID0gdmFsdWU7XG4gICAgICAgIHZhciBlcnIgPSB7XG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgbmFtZTogZXJyb3IubmFtZSxcbiAgICAgICAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBlcnJvcikge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlcnJvciwgaSkpIHtcbiAgICAgICAgICAgICAgICBlcnJbaV0gPSBlcnJvcltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyO1xuICAgIH1cbiAgICBpZiAoaXNFdmVudCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIGV2ZW50XzEgPSB2YWx1ZTtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgICBzb3VyY2UudHlwZSA9IGV2ZW50XzEudHlwZTtcbiAgICAgICAgLy8gQWNjZXNzaW5nIGV2ZW50LnRhcmdldCBjYW4gdGhyb3cgKHNlZSBnZXRzZW50cnkvcmF2ZW4tanMjODM4LCAjNzY4KVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc291cmNlLnRhcmdldCA9IGlzRWxlbWVudChldmVudF8xLnRhcmdldClcbiAgICAgICAgICAgICAgICA/IGh0bWxUcmVlQXNTdHJpbmcoZXZlbnRfMS50YXJnZXQpXG4gICAgICAgICAgICAgICAgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZXZlbnRfMS50YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfb08pIHtcbiAgICAgICAgICAgIHNvdXJjZS50YXJnZXQgPSAnPHVua25vd24+JztcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc291cmNlLmN1cnJlbnRUYXJnZXQgPSBpc0VsZW1lbnQoZXZlbnRfMS5jdXJyZW50VGFyZ2V0KVxuICAgICAgICAgICAgICAgID8gaHRtbFRyZWVBc1N0cmluZyhldmVudF8xLmN1cnJlbnRUYXJnZXQpXG4gICAgICAgICAgICAgICAgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZXZlbnRfMS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX29PKSB7XG4gICAgICAgICAgICBzb3VyY2UuY3VycmVudFRhcmdldCA9ICc8dW5rbm93bj4nO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgQ3VzdG9tRXZlbnQgIT09ICd1bmRlZmluZWQnICYmIGlzSW5zdGFuY2VPZih2YWx1ZSwgQ3VzdG9tRXZlbnQpKSB7XG4gICAgICAgICAgICBzb3VyY2UuZGV0YWlsID0gZXZlbnRfMS5kZXRhaWw7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSBpbiBldmVudF8xKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV2ZW50XzEsIGkpKSB7XG4gICAgICAgICAgICAgICAgc291cmNlW2ldID0gZXZlbnRfMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKiogQ2FsY3VsYXRlcyBieXRlcyBzaXplIG9mIGlucHV0IHN0cmluZyAqL1xuZnVuY3Rpb24gdXRmOExlbmd0aCh2YWx1ZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgcmV0dXJuIH4tZW5jb2RlVVJJKHZhbHVlKS5zcGxpdCgvJS4ufC4vKS5sZW5ndGg7XG59XG4vKiogQ2FsY3VsYXRlcyBieXRlcyBzaXplIG9mIGlucHV0IG9iamVjdCAqL1xuZnVuY3Rpb24ganNvblNpemUodmFsdWUpIHtcbiAgICByZXR1cm4gdXRmOExlbmd0aChKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xufVxuLyoqIEpTRG9jICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplVG9TaXplKG9iamVjdCwgXG4vLyBEZWZhdWx0IE5vZGUuanMgUkVQTCBkZXB0aFxuZGVwdGgsIFxuLy8gMTAwa0IsIGFzIDIwMGtCIGlzIG1heCBwYXlsb2FkIHNpemUsIHNvIGhhbGYgc291bmRzIHJlYXNvbmFibGVcbm1heFNpemUpIHtcbiAgICBpZiAoZGVwdGggPT09IHZvaWQgMCkgeyBkZXB0aCA9IDM7IH1cbiAgICBpZiAobWF4U2l6ZSA9PT0gdm9pZCAwKSB7IG1heFNpemUgPSAxMDAgKiAxMDI0OyB9XG4gICAgdmFyIHNlcmlhbGl6ZWQgPSBub3JtYWxpemUob2JqZWN0LCBkZXB0aCk7XG4gICAgaWYgKGpzb25TaXplKHNlcmlhbGl6ZWQpID4gbWF4U2l6ZSkge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplVG9TaXplKG9iamVjdCwgZGVwdGggLSAxLCBtYXhTaXplKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG4vKipcbiAqIFRyYW5zZm9ybSBhbnkgbm9uLXByaW1pdGl2ZSwgQmlnSW50LCBvciBTeW1ib2wtdHlwZSB2YWx1ZSBpbnRvIGEgc3RyaW5nLiBBY3RzIGFzIGEgbm8tb3Agb24gc3RyaW5ncywgbnVtYmVycyxcbiAqIGJvb2xlYW5zLCBudWxsLCBhbmQgdW5kZWZpbmVkLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gc3RyaW5naWZ5XG4gKiBAcmV0dXJucyBGb3Igbm9uLXByaW1pdGl2ZSwgQmlnSW50LCBhbmQgU3ltYm9sLXR5cGUgdmFsdWVzLCBhIHN0cmluZyBkZW5vdGluZyB0aGUgdmFsdWUncyB0eXBlLCB0eXBlIGFuZCB2YWx1ZSwgb3JcbiAqICB0eXBlIGFuZCBgZGVzY3JpcHRpb25gIHByb3BlcnR5LCByZXNwZWN0aXZlbHkuIEZvciBub24tQmlnSW50LCBub24tU3ltYm9sIHByaW1pdGl2ZXMsIHJldHVybnMgdGhlIG9yaWdpbmFsIHZhbHVlLFxuICogIHVuY2hhbmdlZC5cbiAqL1xuZnVuY3Rpb24gc2VyaWFsaXplVmFsdWUodmFsdWUpIHtcbiAgICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgLy8gTm9kZS5qcyBSRVBMIG5vdGF0aW9uXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAgcmV0dXJuICdbT2JqZWN0XSc7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAgIHJldHVybiAnW0FycmF5XSc7XG4gICAgfVxuICAgIHZhciBub3JtYWxpemVkID0gbm9ybWFsaXplVmFsdWUodmFsdWUpO1xuICAgIHJldHVybiBpc1ByaW1pdGl2ZShub3JtYWxpemVkKSA/IG5vcm1hbGl6ZWQgOiB0eXBlO1xufVxuLyoqXG4gKiBub3JtYWxpemVWYWx1ZSgpXG4gKlxuICogVGFrZXMgdW5zZXJpYWxpemFibGUgaW5wdXQgYW5kIG1ha2UgaXQgc2VyaWFsaXphYmxlIGZyaWVuZGx5XG4gKlxuICogLSB0cmFuc2xhdGVzIHVuZGVmaW5lZC9OYU4gdmFsdWVzIHRvIFwiW3VuZGVmaW5lZF1cIi9cIltOYU5dXCIgcmVzcGVjdGl2ZWx5LFxuICogLSBzZXJpYWxpemVzIEVycm9yIG9iamVjdHNcbiAqIC0gZmlsdGVyIGdsb2JhbCBvYmplY3RzXG4gKi9cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlLCBrZXkpIHtcbiAgICBpZiAoa2V5ID09PSAnZG9tYWluJyAmJiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlLl9ldmVudHMpIHtcbiAgICAgICAgcmV0dXJuICdbRG9tYWluXSc7XG4gICAgfVxuICAgIGlmIChrZXkgPT09ICdkb21haW5FbWl0dGVyJykge1xuICAgICAgICByZXR1cm4gJ1tEb21haW5FbWl0dGVyXSc7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSA9PT0gZ2xvYmFsKSB7XG4gICAgICAgIHJldHVybiAnW0dsb2JhbF0nO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgPT09IHdpbmRvdykge1xuICAgICAgICByZXR1cm4gJ1tXaW5kb3ddJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgPT09IGRvY3VtZW50KSB7XG4gICAgICAgIHJldHVybiAnW0RvY3VtZW50XSc7XG4gICAgfVxuICAgIC8vIFJlYWN0J3MgU3ludGhldGljRXZlbnQgdGhpbmd5XG4gICAgaWYgKGlzU3ludGhldGljRXZlbnQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAnW1N5bnRoZXRpY0V2ZW50XSc7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIHZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gJ1tOYU5dJztcbiAgICB9XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuICdbdW5kZWZpbmVkXSc7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIFwiW0Z1bmN0aW9uOiBcIiArIGdldEZ1bmN0aW9uTmFtZSh2YWx1ZSkgKyBcIl1cIjtcbiAgICB9XG4gICAgLy8gc3ltYm9scyBhbmQgYmlnaW50cyBhcmUgY29uc2lkZXJlZCBwcmltaXRpdmVzIGJ5IFRTLCBidXQgYXJlbid0IG5hdGl2ZWx5IEpTT04tc2VyaWxhaXphYmxlXG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgcmV0dXJuIFwiW1wiICsgU3RyaW5nKHZhbHVlKSArIFwiXVwiO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYmlnaW50Jykge1xuICAgICAgICByZXR1cm4gXCJbQmlnSW50OiBcIiArIFN0cmluZyh2YWx1ZSkgKyBcIl1cIjtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBXYWxrcyBhbiBvYmplY3QgdG8gcGVyZm9ybSBhIG5vcm1hbGl6YXRpb24gb24gaXRcbiAqXG4gKiBAcGFyYW0ga2V5IG9mIG9iamVjdCB0aGF0J3Mgd2Fsa2VkIGluIGN1cnJlbnQgaXRlcmF0aW9uXG4gKiBAcGFyYW0gdmFsdWUgb2JqZWN0IHRvIGJlIHdhbGtlZFxuICogQHBhcmFtIGRlcHRoIE9wdGlvbmFsIG51bWJlciBpbmRpY2F0aW5nIGhvdyBkZWVwIHNob3VsZCB3YWxraW5nIGJlIHBlcmZvcm1lZFxuICogQHBhcmFtIG1lbW8gT3B0aW9uYWwgTWVtbyBjbGFzcyBoYW5kbGluZyBkZWN5Y2xpbmdcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmV4cG9ydCBmdW5jdGlvbiB3YWxrKGtleSwgdmFsdWUsIGRlcHRoLCBtZW1vKSB7XG4gICAgaWYgKGRlcHRoID09PSB2b2lkIDApIHsgZGVwdGggPSArSW5maW5pdHk7IH1cbiAgICBpZiAobWVtbyA9PT0gdm9pZCAwKSB7IG1lbW8gPSBuZXcgTWVtbygpOyB9XG4gICAgLy8gSWYgd2UgcmVhY2ggdGhlIG1heGltdW0gZGVwdGgsIHNlcmlhbGl6ZSB3aGF0ZXZlciBoYXMgbGVmdFxuICAgIGlmIChkZXB0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc2VyaWFsaXplVmFsdWUodmFsdWUpO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MgKi9cbiAgICAvLyBJZiB2YWx1ZSBpbXBsZW1lbnRzIGB0b0pTT05gIG1ldGhvZCwgY2FsbCBpdCBhbmQgcmV0dXJuIGVhcmx5XG4gICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHZhbHVlLnRvSlNPTiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWUudG9KU09OKCk7XG4gICAgfVxuICAgIC8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzICovXG4gICAgLy8gSWYgbm9ybWFsaXplZCB2YWx1ZSBpcyBhIHByaW1pdGl2ZSwgdGhlcmUgYXJlIG5vIGJyYW5jaGVzIGxlZnQgdG8gd2Fsaywgc28gd2UgY2FuIGp1c3QgYmFpbCBvdXQsIGFzIHRoZXJlcyBubyBwb2ludCBpbiBnb2luZyBkb3duIHRoYXQgYnJhbmNoIGFueSBmdXJ0aGVyXG4gICAgdmFyIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSwga2V5KTtcbiAgICBpZiAoaXNQcmltaXRpdmUobm9ybWFsaXplZCkpIHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG4gICAgfVxuICAgIC8vIENyZWF0ZSBzb3VyY2UgdGhhdCB3ZSB3aWxsIHVzZSBmb3IgbmV4dCBpdHRlcmF0aW9ucywgZWl0aGVyIG9iamVjdGlmaWVkIGVycm9yIG9iamVjdCAoRXJyb3IgdHlwZSB3aXRoIGV4dHJhY3RlZCBrZXlzOnZhbHVlIHBhaXJzKSBvciB0aGUgaW5wdXQgaXRzZWxmXG4gICAgdmFyIHNvdXJjZSA9IGdldFdhbGtTb3VyY2UodmFsdWUpO1xuICAgIC8vIENyZWF0ZSBhbiBhY2N1bXVsYXRvciB0aGF0IHdpbGwgYWN0IGFzIGEgcGFyZW50IGZvciBhbGwgZnV0dXJlIGl0dGVyYXRpb25zIG9mIHRoYXQgYnJhbmNoXG4gICAgdmFyIGFjYyA9IEFycmF5LmlzQXJyYXkodmFsdWUpID8gW10gOiB7fTtcbiAgICAvLyBJZiB3ZSBhbHJlYWR5IHdhbGtlZCB0aGF0IGJyYW5jaCwgYmFpbCBvdXQsIGFzIGl0J3MgY2lyY3VsYXIgcmVmZXJlbmNlXG4gICAgaWYgKG1lbW8ubWVtb2l6ZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXIgfl0nO1xuICAgIH1cbiAgICAvLyBXYWxrIGFsbCBrZXlzIG9mIHRoZSBzb3VyY2VcbiAgICBmb3IgKHZhciBpbm5lcktleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgLy8gQXZvaWQgaXRlcmF0aW5nIG92ZXIgZmllbGRzIGluIHRoZSBwcm90b3R5cGUgaWYgdGhleSd2ZSBzb21laG93IGJlZW4gZXhwb3NlZCB0byBlbnVtZXJhdGlvbi5cbiAgICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBpbm5lcktleSkpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IHdhbGsgdGhyb3VnaCBhbGwgdGhlIGNoaWxkIG5vZGVzXG4gICAgICAgIGFjY1tpbm5lcktleV0gPSB3YWxrKGlubmVyS2V5LCBzb3VyY2VbaW5uZXJLZXldLCBkZXB0aCAtIDEsIG1lbW8pO1xuICAgIH1cbiAgICAvLyBPbmNlIHdhbGtlZCB0aHJvdWdoIGFsbCB0aGUgYnJhbmNoZXMsIHJlbW92ZSB0aGUgcGFyZW50IGZyb20gbWVtbyBzdG9yYWdlXG4gICAgbWVtby51bm1lbW9pemUodmFsdWUpO1xuICAgIC8vIFJldHVybiBhY2N1bXVsYXRlZCB2YWx1ZXNcbiAgICByZXR1cm4gYWNjO1xufVxuLyoqXG4gKiBub3JtYWxpemUoKVxuICpcbiAqIC0gQ3JlYXRlcyBhIGNvcHkgdG8gcHJldmVudCBvcmlnaW5hbCBpbnB1dCBtdXRhdGlvblxuICogLSBTa2lwIG5vbi1lbnVtZXJhYmxlcnNcbiAqIC0gQ2FsbHMgYHRvSlNPTmAgaWYgaW1wbGVtZW50ZWRcbiAqIC0gUmVtb3ZlcyBjaXJjdWxhciByZWZlcmVuY2VzXG4gKiAtIFRyYW5zbGF0ZXMgbm9uLXNlcmlhbGl6ZWFibGUgdmFsdWVzICh1bmRlZmluZWQvTmFOL0Z1bmN0aW9ucykgdG8gc2VyaWFsaXphYmxlIGZvcm1hdFxuICogLSBUcmFuc2xhdGVzIGtub3duIGdsb2JhbCBvYmplY3RzL0NsYXNzZXMgdG8gYSBzdHJpbmcgcmVwcmVzZW50YXRpb25zXG4gKiAtIFRha2VzIGNhcmUgb2YgRXJyb3Igb2JqZWN0cyBzZXJpYWxpemF0aW9uXG4gKiAtIE9wdGlvbmFsbHkgbGltaXQgZGVwdGggb2YgZmluYWwgb3V0cHV0XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplKGlucHV0LCBkZXB0aCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGlucHV0LCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgeyByZXR1cm4gd2FsayhrZXksIHZhbHVlLCBkZXB0aCk7IH0pKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9vTykge1xuICAgICAgICByZXR1cm4gJyoqbm9uLXNlcmlhbGl6YWJsZSoqJztcbiAgICB9XG59XG4vKipcbiAqIEdpdmVuIGFueSBjYXB0dXJlZCBleGNlcHRpb24sIGV4dHJhY3QgaXRzIGtleXMgYW5kIGNyZWF0ZSBhIHNvcnRlZFxuICogYW5kIHRydW5jYXRlZCBsaXN0IHRoYXQgd2lsbCBiZSB1c2VkIGluc2lkZSB0aGUgZXZlbnQgbWVzc2FnZS5cbiAqIGVnLiBgTm9uLWVycm9yIGV4Y2VwdGlvbiBjYXB0dXJlZCB3aXRoIGtleXM6IGZvbywgYmFyLCBiYXpgXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdEV4Y2VwdGlvbktleXNGb3JNZXNzYWdlKGV4Y2VwdGlvbiwgbWF4TGVuZ3RoKSB7XG4gICAgaWYgKG1heExlbmd0aCA9PT0gdm9pZCAwKSB7IG1heExlbmd0aCA9IDQwOyB9XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhnZXRXYWxrU291cmNlKGV4Y2VwdGlvbikpO1xuICAgIGtleXMuc29ydCgpO1xuICAgIGlmICgha2V5cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuICdbb2JqZWN0IGhhcyBubyBrZXlzXSc7XG4gICAgfVxuICAgIGlmIChrZXlzWzBdLmxlbmd0aCA+PSBtYXhMZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHRydW5jYXRlKGtleXNbMF0sIG1heExlbmd0aCk7XG4gICAgfVxuICAgIGZvciAodmFyIGluY2x1ZGVkS2V5cyA9IGtleXMubGVuZ3RoOyBpbmNsdWRlZEtleXMgPiAwOyBpbmNsdWRlZEtleXMtLSkge1xuICAgICAgICB2YXIgc2VyaWFsaXplZCA9IGtleXMuc2xpY2UoMCwgaW5jbHVkZWRLZXlzKS5qb2luKCcsICcpO1xuICAgICAgICBpZiAoc2VyaWFsaXplZC5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmNsdWRlZEtleXMgPT09IGtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VyaWFsaXplZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1bmNhdGUoc2VyaWFsaXplZCwgbWF4TGVuZ3RoKTtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xufVxuLyoqXG4gKiBHaXZlbiBhbnkgb2JqZWN0LCByZXR1cm4gdGhlIG5ldyBvYmplY3Qgd2l0aCByZW1vdmVkIGtleXMgdGhhdCB2YWx1ZSB3YXMgYHVuZGVmaW5lZGAuXG4gKiBXb3JrcyByZWN1cnNpdmVseSBvbiBvYmplY3RzIGFuZCBhcnJheXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcm9wVW5kZWZpbmVkS2V5cyh2YWwpIHtcbiAgICB2YXIgZV8xLCBfYTtcbiAgICBpZiAoaXNQbGFpbk9iamVjdCh2YWwpKSB7XG4gICAgICAgIHZhciBvYmogPSB2YWw7XG4gICAgICAgIHZhciBydiA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhPYmplY3Qua2V5cyhvYmopKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ialtrZXldICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBydltrZXldID0gZHJvcFVuZGVmaW5lZEtleXMob2JqW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydjtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkge1xuICAgICAgICByZXR1cm4gdmFsLm1hcChkcm9wVW5kZWZpbmVkS2V5cyk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYmplY3QuanMubWFwIiwidmFyIGRlZmF1bHRGdW5jdGlvbk5hbWUgPSAnPGFub255bW91cz4nO1xuLyoqXG4gKiBTYWZlbHkgZXh0cmFjdCBmdW5jdGlvbiBuYW1lIGZyb20gaXRzZWxmXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRGdW5jdGlvbk5hbWUoZm4pIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoIWZuIHx8IHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRGdW5jdGlvbk5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZuLm5hbWUgfHwgZGVmYXVsdEZ1bmN0aW9uTmFtZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSnVzdCBhY2Nlc3NpbmcgY3VzdG9tIHByb3BzIGluIHNvbWUgU2VsZW5pdW0gZW52aXJvbm1lbnRzXG4gICAgICAgIC8vIGNhbiBjYXVzZSBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBleGNlcHRpb24gKHNlZSByYXZlbi1qcyM0OTUpLlxuICAgICAgICByZXR1cm4gZGVmYXVsdEZ1bmN0aW9uTmFtZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdGFja3RyYWNlLmpzLm1hcCIsImltcG9ydCB7IGlzUmVnRXhwLCBpc1N0cmluZyB9IGZyb20gJy4vaXMnO1xuLyoqXG4gKiBUcnVuY2F0ZXMgZ2l2ZW4gc3RyaW5nIHRvIHRoZSBtYXhpbXVtIGNoYXJhY3RlcnMgY291bnRcbiAqXG4gKiBAcGFyYW0gc3RyIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHNlcmlhbGl6YWJsZSB2YWx1ZXNcbiAqIEBwYXJhbSBtYXggTWF4aW11bSBudW1iZXIgb2YgY2hhcmFjdGVycyBpbiB0cnVuY2F0ZWQgc3RyaW5nICgwID0gdW5saW1pdGVkKVxuICogQHJldHVybnMgc3RyaW5nIEVuY29kZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRydW5jYXRlKHN0ciwgbWF4KSB7XG4gICAgaWYgKG1heCA9PT0gdm9pZCAwKSB7IG1heCA9IDA7IH1cbiAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycgfHwgbWF4ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBzdHIubGVuZ3RoIDw9IG1heCA/IHN0ciA6IHN0ci5zdWJzdHIoMCwgbWF4KSArIFwiLi4uXCI7XG59XG4vKipcbiAqIFRoaXMgaXMgYmFzaWNhbGx5IGp1c3QgYHRyaW1fbGluZWAgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnkvYmxvYi9tYXN0ZXIvc3JjL3NlbnRyeS9sYW5nL2phdmFzY3JpcHQvcHJvY2Vzc29yLnB5I0w2N1xuICpcbiAqIEBwYXJhbSBzdHIgQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgc2VyaWFsaXphYmxlIHZhbHVlc1xuICogQHBhcmFtIG1heCBNYXhpbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIGluIHRydW5jYXRlZCBzdHJpbmdcbiAqIEByZXR1cm5zIHN0cmluZyBFbmNvZGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbmlwTGluZShsaW5lLCBjb2xubykge1xuICAgIHZhciBuZXdMaW5lID0gbGluZTtcbiAgICB2YXIgbGwgPSBuZXdMaW5lLmxlbmd0aDtcbiAgICBpZiAobGwgPD0gMTUwKSB7XG4gICAgICAgIHJldHVybiBuZXdMaW5lO1xuICAgIH1cbiAgICBpZiAoY29sbm8gPiBsbCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgY29sbm8gPSBsbDtcbiAgICB9XG4gICAgdmFyIHN0YXJ0ID0gTWF0aC5tYXgoY29sbm8gLSA2MCwgMCk7XG4gICAgaWYgKHN0YXJ0IDwgNSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHZhciBlbmQgPSBNYXRoLm1pbihzdGFydCArIDE0MCwgbGwpO1xuICAgIGlmIChlbmQgPiBsbCAtIDUpIHtcbiAgICAgICAgZW5kID0gbGw7XG4gICAgfVxuICAgIGlmIChlbmQgPT09IGxsKSB7XG4gICAgICAgIHN0YXJ0ID0gTWF0aC5tYXgoZW5kIC0gMTQwLCAwKTtcbiAgICB9XG4gICAgbmV3TGluZSA9IG5ld0xpbmUuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgaWYgKHN0YXJ0ID4gMCkge1xuICAgICAgICBuZXdMaW5lID0gXCIne3NuaXB9IFwiICsgbmV3TGluZTtcbiAgICB9XG4gICAgaWYgKGVuZCA8IGxsKSB7XG4gICAgICAgIG5ld0xpbmUgKz0gJyB7c25pcH0nO1xuICAgIH1cbiAgICByZXR1cm4gbmV3TGluZTtcbn1cbi8qKlxuICogSm9pbiB2YWx1ZXMgaW4gYXJyYXlcbiAqIEBwYXJhbSBpbnB1dCBhcnJheSBvZiB2YWx1ZXMgdG8gYmUgam9pbmVkIHRvZ2V0aGVyXG4gKiBAcGFyYW0gZGVsaW1pdGVyIHN0cmluZyB0byBiZSBwbGFjZWQgaW4tYmV0d2VlbiB2YWx1ZXNcbiAqIEByZXR1cm5zIEpvaW5lZCB2YWx1ZXNcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiBzYWZlSm9pbihpbnB1dCwgZGVsaW1pdGVyKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1mb3Itb2ZcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGlucHV0W2ldO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0cHV0LnB1c2goU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKCdbdmFsdWUgY2Fubm90IGJlIHNlcmlhbGl6ZWRdJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dC5qb2luKGRlbGltaXRlcik7XG59XG4vKipcbiAqIENoZWNrcyBpZiB0aGUgdmFsdWUgbWF0Y2hlcyBhIHJlZ2V4IG9yIGluY2x1ZGVzIHRoZSBzdHJpbmdcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgc3RyaW5nIHZhbHVlIHRvIGJlIGNoZWNrZWQgYWdhaW5zdFxuICogQHBhcmFtIHBhdHRlcm4gRWl0aGVyIGEgcmVnZXggb3IgYSBzdHJpbmcgdGhhdCBtdXN0IGJlIGNvbnRhaW5lZCBpbiB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNNYXRjaGluZ1BhdHRlcm4odmFsdWUsIHBhdHRlcm4pIHtcbiAgICBpZiAoIWlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xuICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUuaW5kZXhPZihwYXR0ZXJuKSAhPT0gLTE7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZy5qcy5tYXAiLCJpbXBvcnQgeyBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICcuL21pc2MnO1xuaW1wb3J0IHsgZHluYW1pY1JlcXVpcmUsIGlzTm9kZUVudiB9IGZyb20gJy4vbm9kZSc7XG4vKipcbiAqIEEgVGltZXN0YW1wU291cmNlIGltcGxlbWVudGF0aW9uIGZvciBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3Qgc3VwcG9ydCB0aGUgUGVyZm9ybWFuY2UgV2ViIEFQSSBuYXRpdmVseS5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBUaW1lc3RhbXBTb3VyY2UgZG9lcyBub3QgdXNlIGEgbW9ub3RvbmljIGNsb2NrLiBBIGNhbGwgdG8gYG5vd1NlY29uZHNgIG1heSByZXR1cm4gYSB0aW1lc3RhbXAgZWFybGllclxuICogdGhhbiBhIHByZXZpb3VzbHkgcmV0dXJuZWQgdmFsdWUuIFdlIGRvIG5vdCB0cnkgdG8gZW11bGF0ZSBhIG1vbm90b25pYyBiZWhhdmlvciBpbiBvcmRlciB0byBmYWNpbGl0YXRlIGRlYnVnZ2luZy4gSXRcbiAqIGlzIG1vcmUgb2J2aW91cyB0byBleHBsYWluIFwid2h5IGRvZXMgbXkgc3BhbiBoYXZlIG5lZ2F0aXZlIGR1cmF0aW9uXCIgdGhhbiBcIndoeSBteSBzcGFucyBoYXZlIHplcm8gZHVyYXRpb25cIi5cbiAqL1xudmFyIGRhdGVUaW1lc3RhbXBTb3VyY2UgPSB7XG4gICAgbm93U2Vjb25kczogZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKSAvIDEwMDA7IH0sXG59O1xuLyoqXG4gKiBSZXR1cm5zIGEgd3JhcHBlciBhcm91bmQgdGhlIG5hdGl2ZSBQZXJmb3JtYW5jZSBBUEkgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiwgb3IgdW5kZWZpbmVkIGZvciBicm93c2VycyB0aGF0IGRvIG5vdFxuICogc3VwcG9ydCB0aGUgQVBJLlxuICpcbiAqIFdyYXBwaW5nIHRoZSBuYXRpdmUgQVBJIHdvcmtzIGFyb3VuZCBkaWZmZXJlbmNlcyBpbiBiZWhhdmlvciBmcm9tIGRpZmZlcmVudCBicm93c2Vycy5cbiAqL1xuZnVuY3Rpb24gZ2V0QnJvd3NlclBlcmZvcm1hbmNlKCkge1xuICAgIHZhciBwZXJmb3JtYW5jZSA9IGdldEdsb2JhbE9iamVjdCgpLnBlcmZvcm1hbmNlO1xuICAgIGlmICghcGVyZm9ybWFuY2UgfHwgIXBlcmZvcm1hbmNlLm5vdykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBSZXBsYWNlIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gd2l0aCBvdXIgb3duIHRpbWVPcmlnaW4gYmFzZWQgb24gRGF0ZS5ub3coKS5cbiAgICAvL1xuICAgIC8vIFRoaXMgaXMgYSBwYXJ0aWFsIHdvcmthcm91bmQgZm9yIGJyb3dzZXJzIHJlcG9ydGluZyBwZXJmb3JtYW5jZS50aW1lT3JpZ2luIHN1Y2ggdGhhdCBwZXJmb3JtYW5jZS50aW1lT3JpZ2luICtcbiAgICAvLyBwZXJmb3JtYW5jZS5ub3coKSBnaXZlcyBhIGRhdGUgYXJiaXRyYXJpbHkgaW4gdGhlIHBhc3QuXG4gICAgLy9cbiAgICAvLyBBZGRpdGlvbmFsbHksIGNvbXB1dGluZyB0aW1lT3JpZ2luIGluIHRoaXMgd2F5IGZpbGxzIHRoZSBnYXAgZm9yIGJyb3dzZXJzIHdoZXJlIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gaXNcbiAgICAvLyB1bmRlZmluZWQuXG4gICAgLy9cbiAgICAvLyBUaGUgYXNzdW1wdGlvbiB0aGF0IHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gKyBwZXJmb3JtYW5jZS5ub3coKSB+PSBEYXRlLm5vdygpIGlzIGZsYXdlZCwgYnV0IHdlIGRlcGVuZCBvbiBpdCB0b1xuICAgIC8vIGludGVyYWN0IHdpdGggZGF0YSBjb21pbmcgb3V0IG9mIHBlcmZvcm1hbmNlIGVudHJpZXMuXG4gICAgLy9cbiAgICAvLyBOb3RlIHRoYXQgZGVzcGl0ZSByZWNvbW1lbmRhdGlvbnMgYWdhaW5zdCBpdCBpbiB0aGUgc3BlYywgYnJvd3NlcnMgaW1wbGVtZW50IHRoZSBQZXJmb3JtYW5jZSBBUEkgd2l0aCBhIGNsb2NrIHRoYXRcbiAgICAvLyBtaWdodCBzdG9wIHdoZW4gdGhlIGNvbXB1dGVyIGlzIGFzbGVlcCAoYW5kIHBlcmhhcHMgdW5kZXIgb3RoZXIgY2lyY3Vtc3RhbmNlcykuIFN1Y2ggYmVoYXZpb3IgY2F1c2VzXG4gICAgLy8gcGVyZm9ybWFuY2UudGltZU9yaWdpbiArIHBlcmZvcm1hbmNlLm5vdygpIHRvIGhhdmUgYW4gYXJiaXRyYXJ5IHNrZXcgb3ZlciBEYXRlLm5vdygpLiBJbiBsYXB0b3AgY29tcHV0ZXJzLCB3ZSBoYXZlXG4gICAgLy8gb2JzZXJ2ZWQgc2tld3MgdGhhdCBjYW4gYmUgYXMgbG9uZyBhcyBkYXlzLCB3ZWVrcyBvciBtb250aHMuXG4gICAgLy9cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9pc3N1ZXMvMjU5MC5cbiAgICAvL1xuICAgIC8vIEJVRzogZGVzcGl0ZSBvdXIgYmVzdCBpbnRlbnRpb25zLCB0aGlzIHdvcmthcm91bmQgaGFzIGl0cyBsaW1pdGF0aW9ucy4gSXQgbW9zdGx5IGFkZHJlc3NlcyB0aW1pbmdzIG9mIHBhZ2Vsb2FkXG4gICAgLy8gdHJhbnNhY3Rpb25zLCBidXQgaWdub3JlcyB0aGUgc2tldyBidWlsdCB1cCBvdmVyIHRpbWUgdGhhdCBjYW4gYXZlcnNlbHkgYWZmZWN0IHRpbWVzdGFtcHMgb2YgbmF2aWdhdGlvblxuICAgIC8vIHRyYW5zYWN0aW9ucyBvZiBsb25nLWxpdmVkIHdlYiBwYWdlcy5cbiAgICB2YXIgdGltZU9yaWdpbiA9IERhdGUubm93KCkgLSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3c6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpOyB9LFxuICAgICAgICB0aW1lT3JpZ2luOiB0aW1lT3JpZ2luLFxuICAgIH07XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG5hdGl2ZSBQZXJmb3JtYW5jZSBBUEkgaW1wbGVtZW50YXRpb24gZnJvbSBOb2RlLmpzLiBSZXR1cm5zIHVuZGVmaW5lZCBpbiBvbGQgTm9kZS5qcyB2ZXJzaW9ucyB0aGF0IGRvbid0XG4gKiBpbXBsZW1lbnQgdGhlIEFQSS5cbiAqL1xuZnVuY3Rpb24gZ2V0Tm9kZVBlcmZvcm1hbmNlKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBwZXJmSG9va3MgPSBkeW5hbWljUmVxdWlyZShtb2R1bGUsICdwZXJmX2hvb2tzJyk7XG4gICAgICAgIHJldHVybiBwZXJmSG9va3MucGVyZm9ybWFuY2U7XG4gICAgfVxuICAgIGNhdGNoIChfKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgUGVyZm9ybWFuY2UgQVBJIGltcGxlbWVudGF0aW9uIGZvciB0aGUgY3VycmVudCBwbGF0Zm9ybSwgaWYgYXZhaWxhYmxlLlxuICovXG52YXIgcGxhdGZvcm1QZXJmb3JtYW5jZSA9IGlzTm9kZUVudigpID8gZ2V0Tm9kZVBlcmZvcm1hbmNlKCkgOiBnZXRCcm93c2VyUGVyZm9ybWFuY2UoKTtcbnZhciB0aW1lc3RhbXBTb3VyY2UgPSBwbGF0Zm9ybVBlcmZvcm1hbmNlID09PSB1bmRlZmluZWRcbiAgICA/IGRhdGVUaW1lc3RhbXBTb3VyY2VcbiAgICA6IHtcbiAgICAgICAgbm93U2Vjb25kczogZnVuY3Rpb24gKCkgeyByZXR1cm4gKHBsYXRmb3JtUGVyZm9ybWFuY2UudGltZU9yaWdpbiArIHBsYXRmb3JtUGVyZm9ybWFuY2Uubm93KCkpIC8gMTAwMDsgfSxcbiAgICB9O1xuLyoqXG4gKiBSZXR1cm5zIGEgdGltZXN0YW1wIGluIHNlY29uZHMgc2luY2UgdGhlIFVOSVggZXBvY2ggdXNpbmcgdGhlIERhdGUgQVBJLlxuICovXG5leHBvcnQgdmFyIGRhdGVUaW1lc3RhbXBJblNlY29uZHMgPSBkYXRlVGltZXN0YW1wU291cmNlLm5vd1NlY29uZHMuYmluZChkYXRlVGltZXN0YW1wU291cmNlKTtcbi8qKlxuICogUmV0dXJucyBhIHRpbWVzdGFtcCBpbiBzZWNvbmRzIHNpbmNlIHRoZSBVTklYIGVwb2NoIHVzaW5nIGVpdGhlciB0aGUgUGVyZm9ybWFuY2Ugb3IgRGF0ZSBBUElzLCBkZXBlbmRpbmcgb24gdGhlXG4gKiBhdmFpbGFiaWxpdHkgb2YgdGhlIFBlcmZvcm1hbmNlIEFQSS5cbiAqXG4gKiBTZWUgYHVzaW5nUGVyZm9ybWFuY2VBUElgIHRvIHRlc3Qgd2hldGhlciB0aGUgUGVyZm9ybWFuY2UgQVBJIGlzIHVzZWQuXG4gKlxuICogQlVHOiBOb3RlIHRoYXQgYmVjYXVzZSBvZiBob3cgYnJvd3NlcnMgaW1wbGVtZW50IHRoZSBQZXJmb3JtYW5jZSBBUEksIHRoZSBjbG9jayBtaWdodCBzdG9wIHdoZW4gdGhlIGNvbXB1dGVyIGlzXG4gKiBhc2xlZXAuIFRoaXMgY3JlYXRlcyBhIHNrZXcgYmV0d2VlbiBgZGF0ZVRpbWVzdGFtcEluU2Vjb25kc2AgYW5kIGB0aW1lc3RhbXBJblNlY29uZHNgLiBUaGVcbiAqIHNrZXcgY2FuIGdyb3cgdG8gYXJiaXRyYXJ5IGFtb3VudHMgbGlrZSBkYXlzLCB3ZWVrcyBvciBtb250aHMuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9pc3N1ZXMvMjU5MC5cbiAqL1xuZXhwb3J0IHZhciB0aW1lc3RhbXBJblNlY29uZHMgPSB0aW1lc3RhbXBTb3VyY2Uubm93U2Vjb25kcy5iaW5kKHRpbWVzdGFtcFNvdXJjZSk7XG4vLyBSZS1leHBvcnRlZCB3aXRoIGFuIG9sZCBuYW1lIGZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eS5cbmV4cG9ydCB2YXIgdGltZXN0YW1wV2l0aE1zID0gdGltZXN0YW1wSW5TZWNvbmRzO1xuLyoqXG4gKiBBIGJvb2xlYW4gdGhhdCBpcyB0cnVlIHdoZW4gdGltZXN0YW1wSW5TZWNvbmRzIHVzZXMgdGhlIFBlcmZvcm1hbmNlIEFQSSB0byBwcm9kdWNlIG1vbm90b25pYyB0aW1lc3RhbXBzLlxuICovXG5leHBvcnQgdmFyIHVzaW5nUGVyZm9ybWFuY2VBUEkgPSBwbGF0Zm9ybVBlcmZvcm1hbmNlICE9PSB1bmRlZmluZWQ7XG4vKipcbiAqIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBVTklYIGVwb2NoLiBUaGlzIHZhbHVlIGlzIG9ubHkgdXNhYmxlIGluIGEgYnJvd3NlciwgYW5kIG9ubHkgd2hlbiB0aGVcbiAqIHBlcmZvcm1hbmNlIEFQSSBpcyBhdmFpbGFibGUuXG4gKi9cbmV4cG9ydCB2YXIgYnJvd3NlclBlcmZvcm1hbmNlVGltZU9yaWdpbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBlcmZvcm1hbmNlID0gZ2V0R2xvYmFsT2JqZWN0KCkucGVyZm9ybWFuY2U7XG4gICAgaWYgKCFwZXJmb3JtYW5jZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocGVyZm9ybWFuY2UudGltZU9yaWdpbikge1xuICAgICAgICByZXR1cm4gcGVyZm9ybWFuY2UudGltZU9yaWdpbjtcbiAgICB9XG4gICAgLy8gV2hpbGUgcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4sIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW5cbiAgICAvLyBpcyBub3QgYXMgd2lkZWx5IHN1cHBvcnRlZC4gTmFtZWx5LCBwZXJmb3JtYW5jZS50aW1lT3JpZ2luIGlzIHVuZGVmaW5lZCBpbiBTYWZhcmkgYXMgb2Ygd3JpdGluZy5cbiAgICAvLyBBbHNvIGFzIG9mIHdyaXRpbmcsIHBlcmZvcm1hbmNlLnRpbWluZyBpcyBub3QgYXZhaWxhYmxlIGluIFdlYiBXb3JrZXJzIGluIG1haW5zdHJlYW0gYnJvd3NlcnMsIHNvIGl0IGlzIG5vdCBhbHdheXNcbiAgICAvLyBhIHZhbGlkIGZhbGxiYWNrLiBJbiB0aGUgYWJzZW5jZSBvZiBhbiBpbml0aWFsIHRpbWUgcHJvdmlkZWQgYnkgdGhlIGJyb3dzZXIsIGZhbGxiYWNrIHRvIHRoZSBjdXJyZW50IHRpbWUgZnJvbSB0aGVcbiAgICAvLyBEYXRlIEFQSS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICByZXR1cm4gKHBlcmZvcm1hbmNlLnRpbWluZyAmJiBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSB8fCBEYXRlLm5vdygpO1xufSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWUuanMubWFwIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIuZXJyb3Ige1xcclxcbiAgY29sb3I6IHJlZDtcXHJcXG59XFxyXFxuLnByaW1hcnkge1xcclxcbiAgY29sb3I6IGJsdWU7XFxyXFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3dlYmFwcC9zcmMvd29ya2VyL21haW4uY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsVUFBVTtBQUNaO0FBQ0E7RUFDRSxXQUFXO0FBQ2JcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmVycm9yIHtcXHJcXG4gIGNvbG9yOiByZWQ7XFxyXFxufVxcclxcbi5wcmltYXJ5IHtcXHJcXG4gIGNvbG9yOiBibHVlO1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pIHtcbiAgdmFyIF9pdGVtID0gX3NsaWNlZFRvQXJyYXkoaXRlbSwgNCksXG4gICAgICBjb250ZW50ID0gX2l0ZW1bMV0sXG4gICAgICBjc3NNYXBwaW5nID0gX2l0ZW1bM107XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLyogZ2xvYmFsIHdpbmRvdyAqL1xuaW1wb3J0IHBvbnlmaWxsIGZyb20gJy4vcG9ueWZpbGwuanMnO1xuXG52YXIgcm9vdDtcblxuaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xuICByb290ID0gc2VsZjtcbn0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IHdpbmRvdztcbn0gZWxzZSBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IGdsb2JhbDtcbn0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgcm9vdCA9IG1vZHVsZTtcbn0gZWxzZSB7XG4gIHJvb3QgPSBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xufVxuXG52YXIgcmVzdWx0ID0gcG9ueWZpbGwocm9vdCk7XG5leHBvcnQgZGVmYXVsdCByZXN1bHQ7XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzeW1ib2xPYnNlcnZhYmxlUG9ueWZpbGwocm9vdCkge1xuXHR2YXIgcmVzdWx0O1xuXHR2YXIgU3ltYm9sID0gcm9vdC5TeW1ib2w7XG5cblx0aWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicpIHtcblx0XHRpZiAoU3ltYm9sLm9ic2VydmFibGUpIHtcblx0XHRcdHJlc3VsdCA9IFN5bWJvbC5vYnNlcnZhYmxlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXN1bHQgPSBTeW1ib2woJ29ic2VydmFibGUnKTtcblx0XHRcdFN5bWJvbC5vYnNlcnZhYmxlID0gcmVzdWx0O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRyZXN1bHQgPSAnQEBvYnNlcnZhYmxlJztcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59O1xuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0aWYoX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSkge1xuXHRcdHJldHVybiBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmhtZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlID0gT2JqZWN0LmNyZWF0ZShtb2R1bGUpO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsICdleHBvcnRzJywge1xuXHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0c2V0OiAoKSA9PiB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0VTIE1vZHVsZXMgbWF5IG5vdCBhc3NpZ24gbW9kdWxlLmV4cG9ydHMgb3IgZXhwb3J0cy4qLCBVc2UgRVNNIGV4cG9ydCBzeW50YXgsIGluc3RlYWQ6ICcgKyBtb2R1bGUuaWQpO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBtb2R1bGU7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgYXBpIGZyb20gXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICAgICAgICBpbXBvcnQgY29udGVudCBmcm9tIFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21haW4uY3NzXCI7XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgY29udGVudC5sb2NhbHMgfHwge307IiwiLyohXG4gKiBWdWUuanMgdjIuNi4xMlxuICogKGMpIDIwMTQtMjAyMCBFdmFuIFlvdVxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG4vKiAgKi9cblxudmFyIGVtcHR5T2JqZWN0ID0gT2JqZWN0LmZyZWV6ZSh7fSk7XG5cbi8vIFRoZXNlIGhlbHBlcnMgcHJvZHVjZSBiZXR0ZXIgVk0gY29kZSBpbiBKUyBlbmdpbmVzIGR1ZSB0byB0aGVpclxuLy8gZXhwbGljaXRuZXNzIGFuZCBmdW5jdGlvbiBpbmxpbmluZy5cbmZ1bmN0aW9uIGlzVW5kZWYgKHYpIHtcbiAgcmV0dXJuIHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSBudWxsXG59XG5cbmZ1bmN0aW9uIGlzRGVmICh2KSB7XG4gIHJldHVybiB2ICE9PSB1bmRlZmluZWQgJiYgdiAhPT0gbnVsbFxufVxuXG5mdW5jdGlvbiBpc1RydWUgKHYpIHtcbiAgcmV0dXJuIHYgPT09IHRydWVcbn1cblxuZnVuY3Rpb24gaXNGYWxzZSAodikge1xuICByZXR1cm4gdiA9PT0gZmFsc2Vcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB2YWx1ZSBpcyBwcmltaXRpdmUuXG4gKi9cbmZ1bmN0aW9uIGlzUHJpbWl0aXZlICh2YWx1ZSkge1xuICByZXR1cm4gKFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHxcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8XG4gICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXG4gICAgdHlwZW9mIHZhbHVlID09PSAnc3ltYm9sJyB8fFxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nXG4gIClcbn1cblxuLyoqXG4gKiBRdWljayBvYmplY3QgY2hlY2sgLSB0aGlzIGlzIHByaW1hcmlseSB1c2VkIHRvIHRlbGxcbiAqIE9iamVjdHMgZnJvbSBwcmltaXRpdmUgdmFsdWVzIHdoZW4gd2Uga25vdyB0aGUgdmFsdWVcbiAqIGlzIGEgSlNPTi1jb21wbGlhbnQgdHlwZS5cbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QgKG9iaikge1xuICByZXR1cm4gb2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnXG59XG5cbi8qKlxuICogR2V0IHRoZSByYXcgdHlwZSBzdHJpbmcgb2YgYSB2YWx1ZSwgZS5nLiwgW29iamVjdCBPYmplY3RdLlxuICovXG52YXIgX3RvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuZnVuY3Rpb24gdG9SYXdUeXBlICh2YWx1ZSkge1xuICByZXR1cm4gX3RvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKVxufVxuXG4vKipcbiAqIFN0cmljdCBvYmplY3QgdHlwZSBjaGVjay4gT25seSByZXR1cm5zIHRydWVcbiAqIGZvciBwbGFpbiBKYXZhU2NyaXB0IG9iamVjdHMuXG4gKi9cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QgKG9iaikge1xuICByZXR1cm4gX3RvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSdcbn1cblxuZnVuY3Rpb24gaXNSZWdFeHAgKHYpIHtcbiAgcmV0dXJuIF90b1N0cmluZy5jYWxsKHYpID09PSAnW29iamVjdCBSZWdFeHBdJ1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHZhbCBpcyBhIHZhbGlkIGFycmF5IGluZGV4LlxuICovXG5mdW5jdGlvbiBpc1ZhbGlkQXJyYXlJbmRleCAodmFsKSB7XG4gIHZhciBuID0gcGFyc2VGbG9hdChTdHJpbmcodmFsKSk7XG4gIHJldHVybiBuID49IDAgJiYgTWF0aC5mbG9vcihuKSA9PT0gbiAmJiBpc0Zpbml0ZSh2YWwpXG59XG5cbmZ1bmN0aW9uIGlzUHJvbWlzZSAodmFsKSB7XG4gIHJldHVybiAoXG4gICAgaXNEZWYodmFsKSAmJlxuICAgIHR5cGVvZiB2YWwudGhlbiA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiB2YWwuY2F0Y2ggPT09ICdmdW5jdGlvbidcbiAgKVxufVxuXG4vKipcbiAqIENvbnZlcnQgYSB2YWx1ZSB0byBhIHN0cmluZyB0aGF0IGlzIGFjdHVhbGx5IHJlbmRlcmVkLlxuICovXG5mdW5jdGlvbiB0b1N0cmluZyAodmFsKSB7XG4gIHJldHVybiB2YWwgPT0gbnVsbFxuICAgID8gJydcbiAgICA6IEFycmF5LmlzQXJyYXkodmFsKSB8fCAoaXNQbGFpbk9iamVjdCh2YWwpICYmIHZhbC50b1N0cmluZyA9PT0gX3RvU3RyaW5nKVxuICAgICAgPyBKU09OLnN0cmluZ2lmeSh2YWwsIG51bGwsIDIpXG4gICAgICA6IFN0cmluZyh2YWwpXG59XG5cbi8qKlxuICogQ29udmVydCBhbiBpbnB1dCB2YWx1ZSB0byBhIG51bWJlciBmb3IgcGVyc2lzdGVuY2UuXG4gKiBJZiB0aGUgY29udmVyc2lvbiBmYWlscywgcmV0dXJuIG9yaWdpbmFsIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gdG9OdW1iZXIgKHZhbCkge1xuICB2YXIgbiA9IHBhcnNlRmxvYXQodmFsKTtcbiAgcmV0dXJuIGlzTmFOKG4pID8gdmFsIDogblxufVxuXG4vKipcbiAqIE1ha2UgYSBtYXAgYW5kIHJldHVybiBhIGZ1bmN0aW9uIGZvciBjaGVja2luZyBpZiBhIGtleVxuICogaXMgaW4gdGhhdCBtYXAuXG4gKi9cbmZ1bmN0aW9uIG1ha2VNYXAgKFxuICBzdHIsXG4gIGV4cGVjdHNMb3dlckNhc2Vcbikge1xuICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdmFyIGxpc3QgPSBzdHIuc3BsaXQoJywnKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgbWFwW2xpc3RbaV1dID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZXhwZWN0c0xvd2VyQ2FzZVxuICAgID8gZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbC50b0xvd2VyQ2FzZSgpXTsgfVxuICAgIDogZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gbWFwW3ZhbF07IH1cbn1cblxuLyoqXG4gKiBDaGVjayBpZiBhIHRhZyBpcyBhIGJ1aWx0LWluIHRhZy5cbiAqL1xudmFyIGlzQnVpbHRJblRhZyA9IG1ha2VNYXAoJ3Nsb3QsY29tcG9uZW50JywgdHJ1ZSk7XG5cbi8qKlxuICogQ2hlY2sgaWYgYW4gYXR0cmlidXRlIGlzIGEgcmVzZXJ2ZWQgYXR0cmlidXRlLlxuICovXG52YXIgaXNSZXNlcnZlZEF0dHJpYnV0ZSA9IG1ha2VNYXAoJ2tleSxyZWYsc2xvdCxzbG90LXNjb3BlLGlzJyk7XG5cbi8qKlxuICogUmVtb3ZlIGFuIGl0ZW0gZnJvbSBhbiBhcnJheS5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlIChhcnIsIGl0ZW0pIHtcbiAgaWYgKGFyci5sZW5ndGgpIHtcbiAgICB2YXIgaW5kZXggPSBhcnIuaW5kZXhPZihpdGVtKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgcmV0dXJuIGFyci5zcGxpY2UoaW5kZXgsIDEpXG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ2hlY2sgd2hldGhlciBhbiBvYmplY3QgaGFzIHRoZSBwcm9wZXJ0eS5cbiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbmZ1bmN0aW9uIGhhc093biAob2JqLCBrZXkpIHtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpXG59XG5cbi8qKlxuICogQ3JlYXRlIGEgY2FjaGVkIHZlcnNpb24gb2YgYSBwdXJlIGZ1bmN0aW9uLlxuICovXG5mdW5jdGlvbiBjYWNoZWQgKGZuKSB7XG4gIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAoZnVuY3Rpb24gY2FjaGVkRm4gKHN0cikge1xuICAgIHZhciBoaXQgPSBjYWNoZVtzdHJdO1xuICAgIHJldHVybiBoaXQgfHwgKGNhY2hlW3N0cl0gPSBmbihzdHIpKVxuICB9KVxufVxuXG4vKipcbiAqIENhbWVsaXplIGEgaHlwaGVuLWRlbGltaXRlZCBzdHJpbmcuXG4gKi9cbnZhciBjYW1lbGl6ZVJFID0gLy0oXFx3KS9nO1xudmFyIGNhbWVsaXplID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKGNhbWVsaXplUkUsIGZ1bmN0aW9uIChfLCBjKSB7IHJldHVybiBjID8gYy50b1VwcGVyQ2FzZSgpIDogJyc7IH0pXG59KTtcblxuLyoqXG4gKiBDYXBpdGFsaXplIGEgc3RyaW5nLlxuICovXG52YXIgY2FwaXRhbGl6ZSA9IGNhY2hlZChmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc2xpY2UoMSlcbn0pO1xuXG4vKipcbiAqIEh5cGhlbmF0ZSBhIGNhbWVsQ2FzZSBzdHJpbmcuXG4gKi9cbnZhciBoeXBoZW5hdGVSRSA9IC9cXEIoW0EtWl0pL2c7XG52YXIgaHlwaGVuYXRlID0gY2FjaGVkKGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKGh5cGhlbmF0ZVJFLCAnLSQxJykudG9Mb3dlckNhc2UoKVxufSk7XG5cbi8qKlxuICogU2ltcGxlIGJpbmQgcG9seWZpbGwgZm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBzdXBwb3J0IGl0LFxuICogZS5nLiwgUGhhbnRvbUpTIDEueC4gVGVjaG5pY2FsbHksIHdlIGRvbid0IG5lZWQgdGhpcyBhbnltb3JlXG4gKiBzaW5jZSBuYXRpdmUgYmluZCBpcyBub3cgcGVyZm9ybWFudCBlbm91Z2ggaW4gbW9zdCBicm93c2Vycy5cbiAqIEJ1dCByZW1vdmluZyBpdCB3b3VsZCBtZWFuIGJyZWFraW5nIGNvZGUgdGhhdCB3YXMgYWJsZSB0byBydW4gaW5cbiAqIFBoYW50b21KUyAxLngsIHNvIHRoaXMgbXVzdCBiZSBrZXB0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LlxuICovXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBwb2x5ZmlsbEJpbmQgKGZuLCBjdHgpIHtcbiAgZnVuY3Rpb24gYm91bmRGbiAoYSkge1xuICAgIHZhciBsID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICByZXR1cm4gbFxuICAgICAgPyBsID4gMVxuICAgICAgICA/IGZuLmFwcGx5KGN0eCwgYXJndW1lbnRzKVxuICAgICAgICA6IGZuLmNhbGwoY3R4LCBhKVxuICAgICAgOiBmbi5jYWxsKGN0eClcbiAgfVxuXG4gIGJvdW5kRm4uX2xlbmd0aCA9IGZuLmxlbmd0aDtcbiAgcmV0dXJuIGJvdW5kRm5cbn1cblxuZnVuY3Rpb24gbmF0aXZlQmluZCAoZm4sIGN0eCkge1xuICByZXR1cm4gZm4uYmluZChjdHgpXG59XG5cbnZhciBiaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmRcbiAgPyBuYXRpdmVCaW5kXG4gIDogcG9seWZpbGxCaW5kO1xuXG4vKipcbiAqIENvbnZlcnQgYW4gQXJyYXktbGlrZSBvYmplY3QgdG8gYSByZWFsIEFycmF5LlxuICovXG5mdW5jdGlvbiB0b0FycmF5IChsaXN0LCBzdGFydCkge1xuICBzdGFydCA9IHN0YXJ0IHx8IDA7XG4gIHZhciBpID0gbGlzdC5sZW5ndGggLSBzdGFydDtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShpKTtcbiAgd2hpbGUgKGktLSkge1xuICAgIHJldFtpXSA9IGxpc3RbaSArIHN0YXJ0XTtcbiAgfVxuICByZXR1cm4gcmV0XG59XG5cbi8qKlxuICogTWl4IHByb3BlcnRpZXMgaW50byB0YXJnZXQgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBleHRlbmQgKHRvLCBfZnJvbSkge1xuICBmb3IgKHZhciBrZXkgaW4gX2Zyb20pIHtcbiAgICB0b1trZXldID0gX2Zyb21ba2V5XTtcbiAgfVxuICByZXR1cm4gdG9cbn1cblxuLyoqXG4gKiBNZXJnZSBhbiBBcnJheSBvZiBPYmplY3RzIGludG8gYSBzaW5nbGUgT2JqZWN0LlxuICovXG5mdW5jdGlvbiB0b09iamVjdCAoYXJyKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoYXJyW2ldKSB7XG4gICAgICBleHRlbmQocmVzLCBhcnJbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5cbi8qKlxuICogUGVyZm9ybSBubyBvcGVyYXRpb24uXG4gKiBTdHViYmluZyBhcmdzIHRvIG1ha2UgRmxvdyBoYXBweSB3aXRob3V0IGxlYXZpbmcgdXNlbGVzcyB0cmFuc3BpbGVkIGNvZGVcbiAqIHdpdGggLi4ucmVzdCAoaHR0cHM6Ly9mbG93Lm9yZy9ibG9nLzIwMTcvMDUvMDcvU3RyaWN0LUZ1bmN0aW9uLUNhbGwtQXJpdHkvKS5cbiAqL1xuZnVuY3Rpb24gbm9vcCAoYSwgYiwgYykge31cblxuLyoqXG4gKiBBbHdheXMgcmV0dXJuIGZhbHNlLlxuICovXG52YXIgbm8gPSBmdW5jdGlvbiAoYSwgYiwgYykgeyByZXR1cm4gZmFsc2U7IH07XG5cbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuLyoqXG4gKiBSZXR1cm4gdGhlIHNhbWUgdmFsdWUuXG4gKi9cbnZhciBpZGVudGl0eSA9IGZ1bmN0aW9uIChfKSB7IHJldHVybiBfOyB9O1xuXG4vKipcbiAqIEdlbmVyYXRlIGEgc3RyaW5nIGNvbnRhaW5pbmcgc3RhdGljIGtleXMgZnJvbSBjb21waWxlciBtb2R1bGVzLlxuICovXG5mdW5jdGlvbiBnZW5TdGF0aWNLZXlzIChtb2R1bGVzKSB7XG4gIHJldHVybiBtb2R1bGVzLnJlZHVjZShmdW5jdGlvbiAoa2V5cywgbSkge1xuICAgIHJldHVybiBrZXlzLmNvbmNhdChtLnN0YXRpY0tleXMgfHwgW10pXG4gIH0sIFtdKS5qb2luKCcsJylcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB0d28gdmFsdWVzIGFyZSBsb29zZWx5IGVxdWFsIC0gdGhhdCBpcyxcbiAqIGlmIHRoZXkgYXJlIHBsYWluIG9iamVjdHMsIGRvIHRoZXkgaGF2ZSB0aGUgc2FtZSBzaGFwZT9cbiAqL1xuZnVuY3Rpb24gbG9vc2VFcXVhbCAoYSwgYikge1xuICBpZiAoYSA9PT0gYikgeyByZXR1cm4gdHJ1ZSB9XG4gIHZhciBpc09iamVjdEEgPSBpc09iamVjdChhKTtcbiAgdmFyIGlzT2JqZWN0QiA9IGlzT2JqZWN0KGIpO1xuICBpZiAoaXNPYmplY3RBICYmIGlzT2JqZWN0Qikge1xuICAgIHRyeSB7XG4gICAgICB2YXIgaXNBcnJheUEgPSBBcnJheS5pc0FycmF5KGEpO1xuICAgICAgdmFyIGlzQXJyYXlCID0gQXJyYXkuaXNBcnJheShiKTtcbiAgICAgIGlmIChpc0FycmF5QSAmJiBpc0FycmF5Qikge1xuICAgICAgICByZXR1cm4gYS5sZW5ndGggPT09IGIubGVuZ3RoICYmIGEuZXZlcnkoZnVuY3Rpb24gKGUsIGkpIHtcbiAgICAgICAgICByZXR1cm4gbG9vc2VFcXVhbChlLCBiW2ldKVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgRGF0ZSAmJiBiIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpXG4gICAgICB9IGVsc2UgaWYgKCFpc0FycmF5QSAmJiAhaXNBcnJheUIpIHtcbiAgICAgICAgdmFyIGtleXNBID0gT2JqZWN0LmtleXMoYSk7XG4gICAgICAgIHZhciBrZXlzQiA9IE9iamVjdC5rZXlzKGIpO1xuICAgICAgICByZXR1cm4ga2V5c0EubGVuZ3RoID09PSBrZXlzQi5sZW5ndGggJiYga2V5c0EuZXZlcnkoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHJldHVybiBsb29zZUVxdWFsKGFba2V5XSwgYltrZXldKVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfSBlbHNlIGlmICghaXNPYmplY3RBICYmICFpc09iamVjdEIpIHtcbiAgICByZXR1cm4gU3RyaW5nKGEpID09PSBTdHJpbmcoYilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybiB0aGUgZmlyc3QgaW5kZXggYXQgd2hpY2ggYSBsb29zZWx5IGVxdWFsIHZhbHVlIGNhbiBiZVxuICogZm91bmQgaW4gdGhlIGFycmF5IChpZiB2YWx1ZSBpcyBhIHBsYWluIG9iamVjdCwgdGhlIGFycmF5IG11c3RcbiAqIGNvbnRhaW4gYW4gb2JqZWN0IG9mIHRoZSBzYW1lIHNoYXBlKSwgb3IgLTEgaWYgaXQgaXMgbm90IHByZXNlbnQuXG4gKi9cbmZ1bmN0aW9uIGxvb3NlSW5kZXhPZiAoYXJyLCB2YWwpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAobG9vc2VFcXVhbChhcnJbaV0sIHZhbCkpIHsgcmV0dXJuIGkgfVxuICB9XG4gIHJldHVybiAtMVxufVxuXG4vKipcbiAqIEVuc3VyZSBhIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbmx5IG9uY2UuXG4gKi9cbmZ1bmN0aW9uIG9uY2UgKGZuKSB7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG59XG5cbnZhciBTU1JfQVRUUiA9ICdkYXRhLXNlcnZlci1yZW5kZXJlZCc7XG5cbnZhciBBU1NFVF9UWVBFUyA9IFtcbiAgJ2NvbXBvbmVudCcsXG4gICdkaXJlY3RpdmUnLFxuICAnZmlsdGVyJ1xuXTtcblxudmFyIExJRkVDWUNMRV9IT09LUyA9IFtcbiAgJ2JlZm9yZUNyZWF0ZScsXG4gICdjcmVhdGVkJyxcbiAgJ2JlZm9yZU1vdW50JyxcbiAgJ21vdW50ZWQnLFxuICAnYmVmb3JlVXBkYXRlJyxcbiAgJ3VwZGF0ZWQnLFxuICAnYmVmb3JlRGVzdHJveScsXG4gICdkZXN0cm95ZWQnLFxuICAnYWN0aXZhdGVkJyxcbiAgJ2RlYWN0aXZhdGVkJyxcbiAgJ2Vycm9yQ2FwdHVyZWQnLFxuICAnc2VydmVyUHJlZmV0Y2gnXG5dO1xuXG4vKiAgKi9cblxuXG5cbnZhciBjb25maWcgPSAoe1xuICAvKipcbiAgICogT3B0aW9uIG1lcmdlIHN0cmF0ZWdpZXMgKHVzZWQgaW4gY29yZS91dGlsL29wdGlvbnMpXG4gICAqL1xuICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAgb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuXG4gIC8qKlxuICAgKiBXaGV0aGVyIHRvIHN1cHByZXNzIHdhcm5pbmdzLlxuICAgKi9cbiAgc2lsZW50OiBmYWxzZSxcblxuICAvKipcbiAgICogU2hvdyBwcm9kdWN0aW9uIG1vZGUgdGlwIG1lc3NhZ2Ugb24gYm9vdD9cbiAgICovXG4gIHByb2R1Y3Rpb25UaXA6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdG8gZW5hYmxlIGRldnRvb2xzXG4gICAqL1xuICBkZXZ0b29sczogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyxcblxuICAvKipcbiAgICogV2hldGhlciB0byByZWNvcmQgcGVyZlxuICAgKi9cbiAgcGVyZm9ybWFuY2U6IGZhbHNlLFxuXG4gIC8qKlxuICAgKiBFcnJvciBoYW5kbGVyIGZvciB3YXRjaGVyIGVycm9yc1xuICAgKi9cbiAgZXJyb3JIYW5kbGVyOiBudWxsLFxuXG4gIC8qKlxuICAgKiBXYXJuIGhhbmRsZXIgZm9yIHdhdGNoZXIgd2FybnNcbiAgICovXG4gIHdhcm5IYW5kbGVyOiBudWxsLFxuXG4gIC8qKlxuICAgKiBJZ25vcmUgY2VydGFpbiBjdXN0b20gZWxlbWVudHNcbiAgICovXG4gIGlnbm9yZWRFbGVtZW50czogW10sXG5cbiAgLyoqXG4gICAqIEN1c3RvbSB1c2VyIGtleSBhbGlhc2VzIGZvciB2LW9uXG4gICAqL1xuICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAga2V5Q29kZXM6IE9iamVjdC5jcmVhdGUobnVsbCksXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgdGFnIGlzIHJlc2VydmVkIHNvIHRoYXQgaXQgY2Fubm90IGJlIHJlZ2lzdGVyZWQgYXMgYVxuICAgKiBjb21wb25lbnQuIFRoaXMgaXMgcGxhdGZvcm0tZGVwZW5kZW50IGFuZCBtYXkgYmUgb3ZlcndyaXR0ZW4uXG4gICAqL1xuICBpc1Jlc2VydmVkVGFnOiBubyxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYW4gYXR0cmlidXRlIGlzIHJlc2VydmVkIHNvIHRoYXQgaXQgY2Fubm90IGJlIHVzZWQgYXMgYSBjb21wb25lbnRcbiAgICogcHJvcC4gVGhpcyBpcyBwbGF0Zm9ybS1kZXBlbmRlbnQgYW5kIG1heSBiZSBvdmVyd3JpdHRlbi5cbiAgICovXG4gIGlzUmVzZXJ2ZWRBdHRyOiBubyxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSB0YWcgaXMgYW4gdW5rbm93biBlbGVtZW50LlxuICAgKiBQbGF0Zm9ybS1kZXBlbmRlbnQuXG4gICAqL1xuICBpc1Vua25vd25FbGVtZW50OiBubyxcblxuICAvKipcbiAgICogR2V0IHRoZSBuYW1lc3BhY2Ugb2YgYW4gZWxlbWVudFxuICAgKi9cbiAgZ2V0VGFnTmFtZXNwYWNlOiBub29wLFxuXG4gIC8qKlxuICAgKiBQYXJzZSB0aGUgcmVhbCB0YWcgbmFtZSBmb3IgdGhlIHNwZWNpZmljIHBsYXRmb3JtLlxuICAgKi9cbiAgcGFyc2VQbGF0Zm9ybVRhZ05hbWU6IGlkZW50aXR5LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhbiBhdHRyaWJ1dGUgbXVzdCBiZSBib3VuZCB1c2luZyBwcm9wZXJ0eSwgZS5nLiB2YWx1ZVxuICAgKiBQbGF0Zm9ybS1kZXBlbmRlbnQuXG4gICAqL1xuICBtdXN0VXNlUHJvcDogbm8sXG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gdXBkYXRlcyBhc3luY2hyb25vdXNseS4gSW50ZW5kZWQgdG8gYmUgdXNlZCBieSBWdWUgVGVzdCBVdGlsc1xuICAgKiBUaGlzIHdpbGwgc2lnbmlmaWNhbnRseSByZWR1Y2UgcGVyZm9ybWFuY2UgaWYgc2V0IHRvIGZhbHNlLlxuICAgKi9cbiAgYXN5bmM6IHRydWUsXG5cbiAgLyoqXG4gICAqIEV4cG9zZWQgZm9yIGxlZ2FjeSByZWFzb25zXG4gICAqL1xuICBfbGlmZWN5Y2xlSG9va3M6IExJRkVDWUNMRV9IT09LU1xufSk7XG5cbi8qICAqL1xuXG4vKipcbiAqIHVuaWNvZGUgbGV0dGVycyB1c2VkIGZvciBwYXJzaW5nIGh0bWwgdGFncywgY29tcG9uZW50IG5hbWVzIGFuZCBwcm9wZXJ0eSBwYXRocy5cbiAqIHVzaW5nIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9odG1sNTMvc2VtYW50aWNzLXNjcmlwdGluZy5odG1sI3BvdGVudGlhbGN1c3RvbWVsZW1lbnRuYW1lXG4gKiBza2lwcGluZyBcXHUxMDAwMC1cXHVFRkZGRiBkdWUgdG8gaXQgZnJlZXppbmcgdXAgUGhhbnRvbUpTXG4gKi9cbnZhciB1bmljb2RlUmVnRXhwID0gL2EtekEtWlxcdTAwQjdcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDNGLVxcdTIwNDBcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkQvO1xuXG4vKipcbiAqIENoZWNrIGlmIGEgc3RyaW5nIHN0YXJ0cyB3aXRoICQgb3IgX1xuICovXG5mdW5jdGlvbiBpc1Jlc2VydmVkIChzdHIpIHtcbiAgdmFyIGMgPSAoc3RyICsgJycpLmNoYXJDb2RlQXQoMCk7XG4gIHJldHVybiBjID09PSAweDI0IHx8IGMgPT09IDB4NUZcbn1cblxuLyoqXG4gKiBEZWZpbmUgYSBwcm9wZXJ0eS5cbiAqL1xuZnVuY3Rpb24gZGVmIChvYmosIGtleSwgdmFsLCBlbnVtZXJhYmxlKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIHZhbHVlOiB2YWwsXG4gICAgZW51bWVyYWJsZTogISFlbnVtZXJhYmxlLFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbn1cblxuLyoqXG4gKiBQYXJzZSBzaW1wbGUgcGF0aC5cbiAqL1xudmFyIGJhaWxSRSA9IG5ldyBSZWdFeHAoKFwiW15cIiArICh1bmljb2RlUmVnRXhwLnNvdXJjZSkgKyBcIi4kX1xcXFxkXVwiKSk7XG5mdW5jdGlvbiBwYXJzZVBhdGggKHBhdGgpIHtcbiAgaWYgKGJhaWxSRS50ZXN0KHBhdGgpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLicpO1xuICByZXR1cm4gZnVuY3Rpb24gKG9iaikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghb2JqKSB7IHJldHVybiB9XG4gICAgICBvYmogPSBvYmpbc2VnbWVudHNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gb2JqXG4gIH1cbn1cblxuLyogICovXG5cbi8vIGNhbiB3ZSB1c2UgX19wcm90b19fP1xudmFyIGhhc1Byb3RvID0gJ19fcHJvdG9fXycgaW4ge307XG5cbi8vIEJyb3dzZXIgZW52aXJvbm1lbnQgc25pZmZpbmdcbnZhciBpbkJyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbnZhciBpbldlZXggPSB0eXBlb2YgV1hFbnZpcm9ubWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgISFXWEVudmlyb25tZW50LnBsYXRmb3JtO1xudmFyIHdlZXhQbGF0Zm9ybSA9IGluV2VleCAmJiBXWEVudmlyb25tZW50LnBsYXRmb3JtLnRvTG93ZXJDYXNlKCk7XG52YXIgVUEgPSBpbkJyb3dzZXIgJiYgd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbnZhciBpc0lFID0gVUEgJiYgL21zaWV8dHJpZGVudC8udGVzdChVQSk7XG52YXIgaXNJRTkgPSBVQSAmJiBVQS5pbmRleE9mKCdtc2llIDkuMCcpID4gMDtcbnZhciBpc0VkZ2UgPSBVQSAmJiBVQS5pbmRleE9mKCdlZGdlLycpID4gMDtcbnZhciBpc0FuZHJvaWQgPSAoVUEgJiYgVUEuaW5kZXhPZignYW5kcm9pZCcpID4gMCkgfHwgKHdlZXhQbGF0Zm9ybSA9PT0gJ2FuZHJvaWQnKTtcbnZhciBpc0lPUyA9IChVQSAmJiAvaXBob25lfGlwYWR8aXBvZHxpb3MvLnRlc3QoVUEpKSB8fCAod2VleFBsYXRmb3JtID09PSAnaW9zJyk7XG52YXIgaXNDaHJvbWUgPSBVQSAmJiAvY2hyb21lXFwvXFxkKy8udGVzdChVQSkgJiYgIWlzRWRnZTtcbnZhciBpc1BoYW50b21KUyA9IFVBICYmIC9waGFudG9tanMvLnRlc3QoVUEpO1xudmFyIGlzRkYgPSBVQSAmJiBVQS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS8pO1xuXG4vLyBGaXJlZm94IGhhcyBhIFwid2F0Y2hcIiBmdW5jdGlvbiBvbiBPYmplY3QucHJvdG90eXBlLi4uXG52YXIgbmF0aXZlV2F0Y2ggPSAoe30pLndhdGNoO1xuXG52YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG5pZiAoaW5Ccm93c2VyKSB7XG4gIHRyeSB7XG4gICAgdmFyIG9wdHMgPSB7fTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob3B0cywgJ3Bhc3NpdmUnLCAoe1xuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQgKCkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pKTsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2Zsb3cvaXNzdWVzLzI4NVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0LXBhc3NpdmUnLCBudWxsLCBvcHRzKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuLy8gdGhpcyBuZWVkcyB0byBiZSBsYXp5LWV2YWxlZCBiZWNhdXNlIHZ1ZSBtYXkgYmUgcmVxdWlyZWQgYmVmb3JlXG4vLyB2dWUtc2VydmVyLXJlbmRlcmVyIGNhbiBzZXQgVlVFX0VOVlxudmFyIF9pc1NlcnZlcjtcbnZhciBpc1NlcnZlclJlbmRlcmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKF9pc1NlcnZlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFpbkJyb3dzZXIgJiYgIWluV2VleCAmJiB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gZGV0ZWN0IHByZXNlbmNlIG9mIHZ1ZS1zZXJ2ZXItcmVuZGVyZXIgYW5kIGF2b2lkXG4gICAgICAvLyBXZWJwYWNrIHNoaW1taW5nIHRoZSBwcm9jZXNzXG4gICAgICBfaXNTZXJ2ZXIgPSBnbG9iYWxbJ3Byb2Nlc3MnXSAmJiBnbG9iYWxbJ3Byb2Nlc3MnXS5lbnYuVlVFX0VOViA9PT0gJ3NlcnZlcic7XG4gICAgfSBlbHNlIHtcbiAgICAgIF9pc1NlcnZlciA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gX2lzU2VydmVyXG59O1xuXG4vLyBkZXRlY3QgZGV2dG9vbHNcbnZhciBkZXZ0b29scyA9IGluQnJvd3NlciAmJiB3aW5kb3cuX19WVUVfREVWVE9PTFNfR0xPQkFMX0hPT0tfXztcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGlzTmF0aXZlIChDdG9yKSB7XG4gIHJldHVybiB0eXBlb2YgQ3RvciA9PT0gJ2Z1bmN0aW9uJyAmJiAvbmF0aXZlIGNvZGUvLnRlc3QoQ3Rvci50b1N0cmluZygpKVxufVxuXG52YXIgaGFzU3ltYm9sID1cbiAgdHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoU3ltYm9sKSAmJlxuICB0eXBlb2YgUmVmbGVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoUmVmbGVjdC5vd25LZXlzKTtcblxudmFyIF9TZXQ7XG4vKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi8gLy8gJGZsb3ctZGlzYWJsZS1saW5lXG5pZiAodHlwZW9mIFNldCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoU2V0KSkge1xuICAvLyB1c2UgbmF0aXZlIFNldCB3aGVuIGF2YWlsYWJsZS5cbiAgX1NldCA9IFNldDtcbn0gZWxzZSB7XG4gIC8vIGEgbm9uLXN0YW5kYXJkIFNldCBwb2x5ZmlsbCB0aGF0IG9ubHkgd29ya3Mgd2l0aCBwcmltaXRpdmUga2V5cy5cbiAgX1NldCA9IC8qQF9fUFVSRV9fKi8oZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNldCAoKSB7XG4gICAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfVxuICAgIFNldC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gaGFzIChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLnNldFtrZXldID09PSB0cnVlXG4gICAgfTtcbiAgICBTZXQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCAoa2V5KSB7XG4gICAgICB0aGlzLnNldFtrZXldID0gdHJ1ZTtcbiAgICB9O1xuICAgIFNldC5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiBjbGVhciAoKSB7XG4gICAgICB0aGlzLnNldCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfTtcblxuICAgIHJldHVybiBTZXQ7XG4gIH0oKSk7XG59XG5cbi8qICAqL1xuXG52YXIgd2FybiA9IG5vb3A7XG52YXIgdGlwID0gbm9vcDtcbnZhciBnZW5lcmF0ZUNvbXBvbmVudFRyYWNlID0gKG5vb3ApOyAvLyB3b3JrIGFyb3VuZCBmbG93IGNoZWNrXG52YXIgZm9ybWF0Q29tcG9uZW50TmFtZSA9IChub29wKTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIGhhc0NvbnNvbGUgPSB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCc7XG4gIHZhciBjbGFzc2lmeVJFID0gLyg/Ol58Wy1fXSkoXFx3KS9nO1xuICB2YXIgY2xhc3NpZnkgPSBmdW5jdGlvbiAoc3RyKSB7IHJldHVybiBzdHJcbiAgICAucmVwbGFjZShjbGFzc2lmeVJFLCBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50b1VwcGVyQ2FzZSgpOyB9KVxuICAgIC5yZXBsYWNlKC9bLV9dL2csICcnKTsgfTtcblxuICB3YXJuID0gZnVuY3Rpb24gKG1zZywgdm0pIHtcbiAgICB2YXIgdHJhY2UgPSB2bSA/IGdlbmVyYXRlQ29tcG9uZW50VHJhY2Uodm0pIDogJyc7XG5cbiAgICBpZiAoY29uZmlnLndhcm5IYW5kbGVyKSB7XG4gICAgICBjb25maWcud2FybkhhbmRsZXIuY2FsbChudWxsLCBtc2csIHZtLCB0cmFjZSk7XG4gICAgfSBlbHNlIGlmIChoYXNDb25zb2xlICYmICghY29uZmlnLnNpbGVudCkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoKFwiW1Z1ZSB3YXJuXTogXCIgKyBtc2cgKyB0cmFjZSkpO1xuICAgIH1cbiAgfTtcblxuICB0aXAgPSBmdW5jdGlvbiAobXNnLCB2bSkge1xuICAgIGlmIChoYXNDb25zb2xlICYmICghY29uZmlnLnNpbGVudCkpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIltWdWUgdGlwXTogXCIgKyBtc2cgKyAoXG4gICAgICAgIHZtID8gZ2VuZXJhdGVDb21wb25lbnRUcmFjZSh2bSkgOiAnJ1xuICAgICAgKSk7XG4gICAgfVxuICB9O1xuXG4gIGZvcm1hdENvbXBvbmVudE5hbWUgPSBmdW5jdGlvbiAodm0sIGluY2x1ZGVGaWxlKSB7XG4gICAgaWYgKHZtLiRyb290ID09PSB2bSkge1xuICAgICAgcmV0dXJuICc8Um9vdD4nXG4gICAgfVxuICAgIHZhciBvcHRpb25zID0gdHlwZW9mIHZtID09PSAnZnVuY3Rpb24nICYmIHZtLmNpZCAhPSBudWxsXG4gICAgICA/IHZtLm9wdGlvbnNcbiAgICAgIDogdm0uX2lzVnVlXG4gICAgICAgID8gdm0uJG9wdGlvbnMgfHwgdm0uY29uc3RydWN0b3Iub3B0aW9uc1xuICAgICAgICA6IHZtO1xuICAgIHZhciBuYW1lID0gb3B0aW9ucy5uYW1lIHx8IG9wdGlvbnMuX2NvbXBvbmVudFRhZztcbiAgICB2YXIgZmlsZSA9IG9wdGlvbnMuX19maWxlO1xuICAgIGlmICghbmFtZSAmJiBmaWxlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBmaWxlLm1hdGNoKC8oW14vXFxcXF0rKVxcLnZ1ZSQvKTtcbiAgICAgIG5hbWUgPSBtYXRjaCAmJiBtYXRjaFsxXTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgKG5hbWUgPyAoXCI8XCIgKyAoY2xhc3NpZnkobmFtZSkpICsgXCI+XCIpIDogXCI8QW5vbnltb3VzPlwiKSArXG4gICAgICAoZmlsZSAmJiBpbmNsdWRlRmlsZSAhPT0gZmFsc2UgPyAoXCIgYXQgXCIgKyBmaWxlKSA6ICcnKVxuICAgIClcbiAgfTtcblxuICB2YXIgcmVwZWF0ID0gZnVuY3Rpb24gKHN0ciwgbikge1xuICAgIHZhciByZXMgPSAnJztcbiAgICB3aGlsZSAobikge1xuICAgICAgaWYgKG4gJSAyID09PSAxKSB7IHJlcyArPSBzdHI7IH1cbiAgICAgIGlmIChuID4gMSkgeyBzdHIgKz0gc3RyOyB9XG4gICAgICBuID4+PSAxO1xuICAgIH1cbiAgICByZXR1cm4gcmVzXG4gIH07XG5cbiAgZ2VuZXJhdGVDb21wb25lbnRUcmFjZSA9IGZ1bmN0aW9uICh2bSkge1xuICAgIGlmICh2bS5faXNWdWUgJiYgdm0uJHBhcmVudCkge1xuICAgICAgdmFyIHRyZWUgPSBbXTtcbiAgICAgIHZhciBjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2UgPSAwO1xuICAgICAgd2hpbGUgKHZtKSB7XG4gICAgICAgIGlmICh0cmVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICB2YXIgbGFzdCA9IHRyZWVbdHJlZS5sZW5ndGggLSAxXTtcbiAgICAgICAgICBpZiAobGFzdC5jb25zdHJ1Y3RvciA9PT0gdm0uY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSsrO1xuICAgICAgICAgICAgdm0gPSB2bS4kcGFyZW50O1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRSZWN1cnNpdmVTZXF1ZW5jZSA+IDApIHtcbiAgICAgICAgICAgIHRyZWVbdHJlZS5sZW5ndGggLSAxXSA9IFtsYXN0LCBjdXJyZW50UmVjdXJzaXZlU2VxdWVuY2VdO1xuICAgICAgICAgICAgY3VycmVudFJlY3Vyc2l2ZVNlcXVlbmNlID0gMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJlZS5wdXNoKHZtKTtcbiAgICAgICAgdm0gPSB2bS4kcGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuICdcXG5cXG5mb3VuZCBpblxcblxcbicgKyB0cmVlXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKHZtLCBpKSB7IHJldHVybiAoXCJcIiArIChpID09PSAwID8gJy0tLT4gJyA6IHJlcGVhdCgnICcsIDUgKyBpICogMikpICsgKEFycmF5LmlzQXJyYXkodm0pXG4gICAgICAgICAgICA/ICgoZm9ybWF0Q29tcG9uZW50TmFtZSh2bVswXSkpICsgXCIuLi4gKFwiICsgKHZtWzFdKSArIFwiIHJlY3Vyc2l2ZSBjYWxscylcIilcbiAgICAgICAgICAgIDogZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpKTsgfSlcbiAgICAgICAgLmpvaW4oJ1xcbicpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoXCJcXG5cXG4oZm91bmQgaW4gXCIgKyAoZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpICsgXCIpXCIpXG4gICAgfVxuICB9O1xufVxuXG4vKiAgKi9cblxudmFyIHVpZCA9IDA7XG5cbi8qKlxuICogQSBkZXAgaXMgYW4gb2JzZXJ2YWJsZSB0aGF0IGNhbiBoYXZlIG11bHRpcGxlXG4gKiBkaXJlY3RpdmVzIHN1YnNjcmliaW5nIHRvIGl0LlxuICovXG52YXIgRGVwID0gZnVuY3Rpb24gRGVwICgpIHtcbiAgdGhpcy5pZCA9IHVpZCsrO1xuICB0aGlzLnN1YnMgPSBbXTtcbn07XG5cbkRlcC5wcm90b3R5cGUuYWRkU3ViID0gZnVuY3Rpb24gYWRkU3ViIChzdWIpIHtcbiAgdGhpcy5zdWJzLnB1c2goc3ViKTtcbn07XG5cbkRlcC5wcm90b3R5cGUucmVtb3ZlU3ViID0gZnVuY3Rpb24gcmVtb3ZlU3ViIChzdWIpIHtcbiAgcmVtb3ZlKHRoaXMuc3Vicywgc3ViKTtcbn07XG5cbkRlcC5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gZGVwZW5kICgpIHtcbiAgaWYgKERlcC50YXJnZXQpIHtcbiAgICBEZXAudGFyZ2V0LmFkZERlcCh0aGlzKTtcbiAgfVxufTtcblxuRGVwLnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiBub3RpZnkgKCkge1xuICAvLyBzdGFiaWxpemUgdGhlIHN1YnNjcmliZXIgbGlzdCBmaXJzdFxuICB2YXIgc3VicyA9IHRoaXMuc3Vicy5zbGljZSgpO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhY29uZmlnLmFzeW5jKSB7XG4gICAgLy8gc3VicyBhcmVuJ3Qgc29ydGVkIGluIHNjaGVkdWxlciBpZiBub3QgcnVubmluZyBhc3luY1xuICAgIC8vIHdlIG5lZWQgdG8gc29ydCB0aGVtIG5vdyB0byBtYWtlIHN1cmUgdGhleSBmaXJlIGluIGNvcnJlY3RcbiAgICAvLyBvcmRlclxuICAgIHN1YnMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYS5pZCAtIGIuaWQ7IH0pO1xuICB9XG4gIGZvciAodmFyIGkgPSAwLCBsID0gc3Vicy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBzdWJzW2ldLnVwZGF0ZSgpO1xuICB9XG59O1xuXG4vLyBUaGUgY3VycmVudCB0YXJnZXQgd2F0Y2hlciBiZWluZyBldmFsdWF0ZWQuXG4vLyBUaGlzIGlzIGdsb2JhbGx5IHVuaXF1ZSBiZWNhdXNlIG9ubHkgb25lIHdhdGNoZXJcbi8vIGNhbiBiZSBldmFsdWF0ZWQgYXQgYSB0aW1lLlxuRGVwLnRhcmdldCA9IG51bGw7XG52YXIgdGFyZ2V0U3RhY2sgPSBbXTtcblxuZnVuY3Rpb24gcHVzaFRhcmdldCAodGFyZ2V0KSB7XG4gIHRhcmdldFN0YWNrLnB1c2godGFyZ2V0KTtcbiAgRGVwLnRhcmdldCA9IHRhcmdldDtcbn1cblxuZnVuY3Rpb24gcG9wVGFyZ2V0ICgpIHtcbiAgdGFyZ2V0U3RhY2sucG9wKCk7XG4gIERlcC50YXJnZXQgPSB0YXJnZXRTdGFja1t0YXJnZXRTdGFjay5sZW5ndGggLSAxXTtcbn1cblxuLyogICovXG5cbnZhciBWTm9kZSA9IGZ1bmN0aW9uIFZOb2RlIChcbiAgdGFnLFxuICBkYXRhLFxuICBjaGlsZHJlbixcbiAgdGV4dCxcbiAgZWxtLFxuICBjb250ZXh0LFxuICBjb21wb25lbnRPcHRpb25zLFxuICBhc3luY0ZhY3Rvcnlcbikge1xuICB0aGlzLnRhZyA9IHRhZztcbiAgdGhpcy5kYXRhID0gZGF0YTtcbiAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICB0aGlzLnRleHQgPSB0ZXh0O1xuICB0aGlzLmVsbSA9IGVsbTtcbiAgdGhpcy5ucyA9IHVuZGVmaW5lZDtcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgdGhpcy5mbkNvbnRleHQgPSB1bmRlZmluZWQ7XG4gIHRoaXMuZm5PcHRpb25zID0gdW5kZWZpbmVkO1xuICB0aGlzLmZuU2NvcGVJZCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5rZXkgPSBkYXRhICYmIGRhdGEua2V5O1xuICB0aGlzLmNvbXBvbmVudE9wdGlvbnMgPSBjb21wb25lbnRPcHRpb25zO1xuICB0aGlzLmNvbXBvbmVudEluc3RhbmNlID0gdW5kZWZpbmVkO1xuICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgdGhpcy5yYXcgPSBmYWxzZTtcbiAgdGhpcy5pc1N0YXRpYyA9IGZhbHNlO1xuICB0aGlzLmlzUm9vdEluc2VydCA9IHRydWU7XG4gIHRoaXMuaXNDb21tZW50ID0gZmFsc2U7XG4gIHRoaXMuaXNDbG9uZWQgPSBmYWxzZTtcbiAgdGhpcy5pc09uY2UgPSBmYWxzZTtcbiAgdGhpcy5hc3luY0ZhY3RvcnkgPSBhc3luY0ZhY3Rvcnk7XG4gIHRoaXMuYXN5bmNNZXRhID0gdW5kZWZpbmVkO1xuICB0aGlzLmlzQXN5bmNQbGFjZWhvbGRlciA9IGZhbHNlO1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgY2hpbGQ6IHsgY29uZmlndXJhYmxlOiB0cnVlIH0gfTtcblxuLy8gREVQUkVDQVRFRDogYWxpYXMgZm9yIGNvbXBvbmVudEluc3RhbmNlIGZvciBiYWNrd2FyZHMgY29tcGF0LlxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbnByb3RvdHlwZUFjY2Vzc29ycy5jaGlsZC5nZXQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmNvbXBvbmVudEluc3RhbmNlXG59O1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydGllcyggVk5vZGUucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxudmFyIGNyZWF0ZUVtcHR5Vk5vZGUgPSBmdW5jdGlvbiAodGV4dCkge1xuICBpZiAoIHRleHQgPT09IHZvaWQgMCApIHRleHQgPSAnJztcblxuICB2YXIgbm9kZSA9IG5ldyBWTm9kZSgpO1xuICBub2RlLnRleHQgPSB0ZXh0O1xuICBub2RlLmlzQ29tbWVudCA9IHRydWU7XG4gIHJldHVybiBub2RlXG59O1xuXG5mdW5jdGlvbiBjcmVhdGVUZXh0Vk5vZGUgKHZhbCkge1xuICByZXR1cm4gbmV3IFZOb2RlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFN0cmluZyh2YWwpKVxufVxuXG4vLyBvcHRpbWl6ZWQgc2hhbGxvdyBjbG9uZVxuLy8gdXNlZCBmb3Igc3RhdGljIG5vZGVzIGFuZCBzbG90IG5vZGVzIGJlY2F1c2UgdGhleSBtYXkgYmUgcmV1c2VkIGFjcm9zc1xuLy8gbXVsdGlwbGUgcmVuZGVycywgY2xvbmluZyB0aGVtIGF2b2lkcyBlcnJvcnMgd2hlbiBET00gbWFuaXB1bGF0aW9ucyByZWx5XG4vLyBvbiB0aGVpciBlbG0gcmVmZXJlbmNlLlxuZnVuY3Rpb24gY2xvbmVWTm9kZSAodm5vZGUpIHtcbiAgdmFyIGNsb25lZCA9IG5ldyBWTm9kZShcbiAgICB2bm9kZS50YWcsXG4gICAgdm5vZGUuZGF0YSxcbiAgICAvLyAjNzk3NVxuICAgIC8vIGNsb25lIGNoaWxkcmVuIGFycmF5IHRvIGF2b2lkIG11dGF0aW5nIG9yaWdpbmFsIGluIGNhc2Ugb2YgY2xvbmluZ1xuICAgIC8vIGEgY2hpbGQuXG4gICAgdm5vZGUuY2hpbGRyZW4gJiYgdm5vZGUuY2hpbGRyZW4uc2xpY2UoKSxcbiAgICB2bm9kZS50ZXh0LFxuICAgIHZub2RlLmVsbSxcbiAgICB2bm9kZS5jb250ZXh0LFxuICAgIHZub2RlLmNvbXBvbmVudE9wdGlvbnMsXG4gICAgdm5vZGUuYXN5bmNGYWN0b3J5XG4gICk7XG4gIGNsb25lZC5ucyA9IHZub2RlLm5zO1xuICBjbG9uZWQuaXNTdGF0aWMgPSB2bm9kZS5pc1N0YXRpYztcbiAgY2xvbmVkLmtleSA9IHZub2RlLmtleTtcbiAgY2xvbmVkLmlzQ29tbWVudCA9IHZub2RlLmlzQ29tbWVudDtcbiAgY2xvbmVkLmZuQ29udGV4dCA9IHZub2RlLmZuQ29udGV4dDtcbiAgY2xvbmVkLmZuT3B0aW9ucyA9IHZub2RlLmZuT3B0aW9ucztcbiAgY2xvbmVkLmZuU2NvcGVJZCA9IHZub2RlLmZuU2NvcGVJZDtcbiAgY2xvbmVkLmFzeW5jTWV0YSA9IHZub2RlLmFzeW5jTWV0YTtcbiAgY2xvbmVkLmlzQ2xvbmVkID0gdHJ1ZTtcbiAgcmV0dXJuIGNsb25lZFxufVxuXG4vKlxuICogbm90IHR5cGUgY2hlY2tpbmcgdGhpcyBmaWxlIGJlY2F1c2UgZmxvdyBkb2Vzbid0IHBsYXkgd2VsbCB3aXRoXG4gKiBkeW5hbWljYWxseSBhY2Nlc3NpbmcgbWV0aG9kcyBvbiBBcnJheSBwcm90b3R5cGVcbiAqL1xuXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcbnZhciBhcnJheU1ldGhvZHMgPSBPYmplY3QuY3JlYXRlKGFycmF5UHJvdG8pO1xuXG52YXIgbWV0aG9kc1RvUGF0Y2ggPSBbXG4gICdwdXNoJyxcbiAgJ3BvcCcsXG4gICdzaGlmdCcsXG4gICd1bnNoaWZ0JyxcbiAgJ3NwbGljZScsXG4gICdzb3J0JyxcbiAgJ3JldmVyc2UnXG5dO1xuXG4vKipcbiAqIEludGVyY2VwdCBtdXRhdGluZyBtZXRob2RzIGFuZCBlbWl0IGV2ZW50c1xuICovXG5tZXRob2RzVG9QYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgLy8gY2FjaGUgb3JpZ2luYWwgbWV0aG9kXG4gIHZhciBvcmlnaW5hbCA9IGFycmF5UHJvdG9bbWV0aG9kXTtcbiAgZGVmKGFycmF5TWV0aG9kcywgbWV0aG9kLCBmdW5jdGlvbiBtdXRhdG9yICgpIHtcbiAgICB2YXIgYXJncyA9IFtdLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIHdoaWxlICggbGVuLS0gKSBhcmdzWyBsZW4gXSA9IGFyZ3VtZW50c1sgbGVuIF07XG5cbiAgICB2YXIgcmVzdWx0ID0gb3JpZ2luYWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgdmFyIG9iID0gdGhpcy5fX29iX187XG4gICAgdmFyIGluc2VydGVkO1xuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICBjYXNlICdwdXNoJzpcbiAgICAgIGNhc2UgJ3Vuc2hpZnQnOlxuICAgICAgICBpbnNlcnRlZCA9IGFyZ3M7XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdzcGxpY2UnOlxuICAgICAgICBpbnNlcnRlZCA9IGFyZ3Muc2xpY2UoMik7XG4gICAgICAgIGJyZWFrXG4gICAgfVxuICAgIGlmIChpbnNlcnRlZCkgeyBvYi5vYnNlcnZlQXJyYXkoaW5zZXJ0ZWQpOyB9XG4gICAgLy8gbm90aWZ5IGNoYW5nZVxuICAgIG9iLmRlcC5ub3RpZnkoKTtcbiAgICByZXR1cm4gcmVzdWx0XG4gIH0pO1xufSk7XG5cbi8qICAqL1xuXG52YXIgYXJyYXlLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYXJyYXlNZXRob2RzKTtcblxuLyoqXG4gKiBJbiBzb21lIGNhc2VzIHdlIG1heSB3YW50IHRvIGRpc2FibGUgb2JzZXJ2YXRpb24gaW5zaWRlIGEgY29tcG9uZW50J3NcbiAqIHVwZGF0ZSBjb21wdXRhdGlvbi5cbiAqL1xudmFyIHNob3VsZE9ic2VydmUgPSB0cnVlO1xuXG5mdW5jdGlvbiB0b2dnbGVPYnNlcnZpbmcgKHZhbHVlKSB7XG4gIHNob3VsZE9ic2VydmUgPSB2YWx1ZTtcbn1cblxuLyoqXG4gKiBPYnNlcnZlciBjbGFzcyB0aGF0IGlzIGF0dGFjaGVkIHRvIGVhY2ggb2JzZXJ2ZWRcbiAqIG9iamVjdC4gT25jZSBhdHRhY2hlZCwgdGhlIG9ic2VydmVyIGNvbnZlcnRzIHRoZSB0YXJnZXRcbiAqIG9iamVjdCdzIHByb3BlcnR5IGtleXMgaW50byBnZXR0ZXIvc2V0dGVycyB0aGF0XG4gKiBjb2xsZWN0IGRlcGVuZGVuY2llcyBhbmQgZGlzcGF0Y2ggdXBkYXRlcy5cbiAqL1xudmFyIE9ic2VydmVyID0gZnVuY3Rpb24gT2JzZXJ2ZXIgKHZhbHVlKSB7XG4gIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgdGhpcy5kZXAgPSBuZXcgRGVwKCk7XG4gIHRoaXMudm1Db3VudCA9IDA7XG4gIGRlZih2YWx1ZSwgJ19fb2JfXycsIHRoaXMpO1xuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBpZiAoaGFzUHJvdG8pIHtcbiAgICAgIHByb3RvQXVnbWVudCh2YWx1ZSwgYXJyYXlNZXRob2RzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29weUF1Z21lbnQodmFsdWUsIGFycmF5TWV0aG9kcywgYXJyYXlLZXlzKTtcbiAgICB9XG4gICAgdGhpcy5vYnNlcnZlQXJyYXkodmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMud2Fsayh2YWx1ZSk7XG4gIH1cbn07XG5cbi8qKlxuICogV2FsayB0aHJvdWdoIGFsbCBwcm9wZXJ0aWVzIGFuZCBjb252ZXJ0IHRoZW0gaW50b1xuICogZ2V0dGVyL3NldHRlcnMuIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCB3aGVuXG4gKiB2YWx1ZSB0eXBlIGlzIE9iamVjdC5cbiAqL1xuT2JzZXJ2ZXIucHJvdG90eXBlLndhbGsgPSBmdW5jdGlvbiB3YWxrIChvYmopIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBkZWZpbmVSZWFjdGl2ZSQkMShvYmosIGtleXNbaV0pO1xuICB9XG59O1xuXG4vKipcbiAqIE9ic2VydmUgYSBsaXN0IG9mIEFycmF5IGl0ZW1zLlxuICovXG5PYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZUFycmF5ID0gZnVuY3Rpb24gb2JzZXJ2ZUFycmF5IChpdGVtcykge1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGl0ZW1zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIG9ic2VydmUoaXRlbXNbaV0pO1xuICB9XG59O1xuXG4vLyBoZWxwZXJzXG5cbi8qKlxuICogQXVnbWVudCBhIHRhcmdldCBPYmplY3Qgb3IgQXJyYXkgYnkgaW50ZXJjZXB0aW5nXG4gKiB0aGUgcHJvdG90eXBlIGNoYWluIHVzaW5nIF9fcHJvdG9fX1xuICovXG5mdW5jdGlvbiBwcm90b0F1Z21lbnQgKHRhcmdldCwgc3JjKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG4gIHRhcmdldC5fX3Byb3RvX18gPSBzcmM7XG4gIC8qIGVzbGludC1lbmFibGUgbm8tcHJvdG8gKi9cbn1cblxuLyoqXG4gKiBBdWdtZW50IGEgdGFyZ2V0IE9iamVjdCBvciBBcnJheSBieSBkZWZpbmluZ1xuICogaGlkZGVuIHByb3BlcnRpZXMuXG4gKi9cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBjb3B5QXVnbWVudCAodGFyZ2V0LCBzcmMsIGtleXMpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBrZXlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIGRlZih0YXJnZXQsIGtleSwgc3JjW2tleV0pO1xuICB9XG59XG5cbi8qKlxuICogQXR0ZW1wdCB0byBjcmVhdGUgYW4gb2JzZXJ2ZXIgaW5zdGFuY2UgZm9yIGEgdmFsdWUsXG4gKiByZXR1cm5zIHRoZSBuZXcgb2JzZXJ2ZXIgaWYgc3VjY2Vzc2Z1bGx5IG9ic2VydmVkLFxuICogb3IgdGhlIGV4aXN0aW5nIG9ic2VydmVyIGlmIHRoZSB2YWx1ZSBhbHJlYWR5IGhhcyBvbmUuXG4gKi9cbmZ1bmN0aW9uIG9ic2VydmUgKHZhbHVlLCBhc1Jvb3REYXRhKSB7XG4gIGlmICghaXNPYmplY3QodmFsdWUpIHx8IHZhbHVlIGluc3RhbmNlb2YgVk5vZGUpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgb2I7XG4gIGlmIChoYXNPd24odmFsdWUsICdfX29iX18nKSAmJiB2YWx1ZS5fX29iX18gaW5zdGFuY2VvZiBPYnNlcnZlcikge1xuICAgIG9iID0gdmFsdWUuX19vYl9fO1xuICB9IGVsc2UgaWYgKFxuICAgIHNob3VsZE9ic2VydmUgJiZcbiAgICAhaXNTZXJ2ZXJSZW5kZXJpbmcoKSAmJlxuICAgIChBcnJheS5pc0FycmF5KHZhbHVlKSB8fCBpc1BsYWluT2JqZWN0KHZhbHVlKSkgJiZcbiAgICBPYmplY3QuaXNFeHRlbnNpYmxlKHZhbHVlKSAmJlxuICAgICF2YWx1ZS5faXNWdWVcbiAgKSB7XG4gICAgb2IgPSBuZXcgT2JzZXJ2ZXIodmFsdWUpO1xuICB9XG4gIGlmIChhc1Jvb3REYXRhICYmIG9iKSB7XG4gICAgb2Iudm1Db3VudCsrO1xuICB9XG4gIHJldHVybiBvYlxufVxuXG4vKipcbiAqIERlZmluZSBhIHJlYWN0aXZlIHByb3BlcnR5IG9uIGFuIE9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZGVmaW5lUmVhY3RpdmUkJDEgKFxuICBvYmosXG4gIGtleSxcbiAgdmFsLFxuICBjdXN0b21TZXR0ZXIsXG4gIHNoYWxsb3dcbikge1xuICB2YXIgZGVwID0gbmV3IERlcCgpO1xuXG4gIHZhciBwcm9wZXJ0eSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpO1xuICBpZiAocHJvcGVydHkgJiYgcHJvcGVydHkuY29uZmlndXJhYmxlID09PSBmYWxzZSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLy8gY2F0ZXIgZm9yIHByZS1kZWZpbmVkIGdldHRlci9zZXR0ZXJzXG4gIHZhciBnZXR0ZXIgPSBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5nZXQ7XG4gIHZhciBzZXR0ZXIgPSBwcm9wZXJ0eSAmJiBwcm9wZXJ0eS5zZXQ7XG4gIGlmICgoIWdldHRlciB8fCBzZXR0ZXIpICYmIGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICB2YWwgPSBvYmpba2V5XTtcbiAgfVxuXG4gIHZhciBjaGlsZE9iID0gIXNoYWxsb3cgJiYgb2JzZXJ2ZSh2YWwpO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uIHJlYWN0aXZlR2V0dGVyICgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiB2YWw7XG4gICAgICBpZiAoRGVwLnRhcmdldCkge1xuICAgICAgICBkZXAuZGVwZW5kKCk7XG4gICAgICAgIGlmIChjaGlsZE9iKSB7XG4gICAgICAgICAgY2hpbGRPYi5kZXAuZGVwZW5kKCk7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICBkZXBlbmRBcnJheSh2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gcmVhY3RpdmVTZXR0ZXIgKG5ld1ZhbCkge1xuICAgICAgdmFyIHZhbHVlID0gZ2V0dGVyID8gZ2V0dGVyLmNhbGwob2JqKSA6IHZhbDtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuICAgICAgaWYgKG5ld1ZhbCA9PT0gdmFsdWUgfHwgKG5ld1ZhbCAhPT0gbmV3VmFsICYmIHZhbHVlICE9PSB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXNlbGYtY29tcGFyZSAqL1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY3VzdG9tU2V0dGVyKSB7XG4gICAgICAgIGN1c3RvbVNldHRlcigpO1xuICAgICAgfVxuICAgICAgLy8gIzc5ODE6IGZvciBhY2Nlc3NvciBwcm9wZXJ0aWVzIHdpdGhvdXQgc2V0dGVyXG4gICAgICBpZiAoZ2V0dGVyICYmICFzZXR0ZXIpIHsgcmV0dXJuIH1cbiAgICAgIGlmIChzZXR0ZXIpIHtcbiAgICAgICAgc2V0dGVyLmNhbGwob2JqLCBuZXdWYWwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gbmV3VmFsO1xuICAgICAgfVxuICAgICAgY2hpbGRPYiA9ICFzaGFsbG93ICYmIG9ic2VydmUobmV3VmFsKTtcbiAgICAgIGRlcC5ub3RpZnkoKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFNldCBhIHByb3BlcnR5IG9uIGFuIG9iamVjdC4gQWRkcyB0aGUgbmV3IHByb3BlcnR5IGFuZFxuICogdHJpZ2dlcnMgY2hhbmdlIG5vdGlmaWNhdGlvbiBpZiB0aGUgcHJvcGVydHkgZG9lc24ndFxuICogYWxyZWFkeSBleGlzdC5cbiAqL1xuZnVuY3Rpb24gc2V0ICh0YXJnZXQsIGtleSwgdmFsKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgKGlzVW5kZWYodGFyZ2V0KSB8fCBpc1ByaW1pdGl2ZSh0YXJnZXQpKVxuICApIHtcbiAgICB3YXJuKChcIkNhbm5vdCBzZXQgcmVhY3RpdmUgcHJvcGVydHkgb24gdW5kZWZpbmVkLCBudWxsLCBvciBwcmltaXRpdmUgdmFsdWU6IFwiICsgKCh0YXJnZXQpKSkpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkgJiYgaXNWYWxpZEFycmF5SW5kZXgoa2V5KSkge1xuICAgIHRhcmdldC5sZW5ndGggPSBNYXRoLm1heCh0YXJnZXQubGVuZ3RoLCBrZXkpO1xuICAgIHRhcmdldC5zcGxpY2Uoa2V5LCAxLCB2YWwpO1xuICAgIHJldHVybiB2YWxcbiAgfVxuICBpZiAoa2V5IGluIHRhcmdldCAmJiAhKGtleSBpbiBPYmplY3QucHJvdG90eXBlKSkge1xuICAgIHRhcmdldFtrZXldID0gdmFsO1xuICAgIHJldHVybiB2YWxcbiAgfVxuICB2YXIgb2IgPSAodGFyZ2V0KS5fX29iX187XG4gIGlmICh0YXJnZXQuX2lzVnVlIHx8IChvYiAmJiBvYi52bUNvdW50KSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICdBdm9pZCBhZGRpbmcgcmVhY3RpdmUgcHJvcGVydGllcyB0byBhIFZ1ZSBpbnN0YW5jZSBvciBpdHMgcm9vdCAkZGF0YSAnICtcbiAgICAgICdhdCBydW50aW1lIC0gZGVjbGFyZSBpdCB1cGZyb250IGluIHRoZSBkYXRhIG9wdGlvbi4nXG4gICAgKTtcbiAgICByZXR1cm4gdmFsXG4gIH1cbiAgaWYgKCFvYikge1xuICAgIHRhcmdldFtrZXldID0gdmFsO1xuICAgIHJldHVybiB2YWxcbiAgfVxuICBkZWZpbmVSZWFjdGl2ZSQkMShvYi52YWx1ZSwga2V5LCB2YWwpO1xuICBvYi5kZXAubm90aWZ5KCk7XG4gIHJldHVybiB2YWxcbn1cblxuLyoqXG4gKiBEZWxldGUgYSBwcm9wZXJ0eSBhbmQgdHJpZ2dlciBjaGFuZ2UgaWYgbmVjZXNzYXJ5LlxuICovXG5mdW5jdGlvbiBkZWwgKHRhcmdldCwga2V5KSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgKGlzVW5kZWYodGFyZ2V0KSB8fCBpc1ByaW1pdGl2ZSh0YXJnZXQpKVxuICApIHtcbiAgICB3YXJuKChcIkNhbm5vdCBkZWxldGUgcmVhY3RpdmUgcHJvcGVydHkgb24gdW5kZWZpbmVkLCBudWxsLCBvciBwcmltaXRpdmUgdmFsdWU6IFwiICsgKCh0YXJnZXQpKSkpO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkgJiYgaXNWYWxpZEFycmF5SW5kZXgoa2V5KSkge1xuICAgIHRhcmdldC5zcGxpY2Uoa2V5LCAxKTtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgb2IgPSAodGFyZ2V0KS5fX29iX187XG4gIGlmICh0YXJnZXQuX2lzVnVlIHx8IChvYiAmJiBvYi52bUNvdW50KSkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICdBdm9pZCBkZWxldGluZyBwcm9wZXJ0aWVzIG9uIGEgVnVlIGluc3RhbmNlIG9yIGl0cyByb290ICRkYXRhICcgK1xuICAgICAgJy0ganVzdCBzZXQgaXQgdG8gbnVsbC4nXG4gICAgKTtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoIWhhc093bih0YXJnZXQsIGtleSkpIHtcbiAgICByZXR1cm5cbiAgfVxuICBkZWxldGUgdGFyZ2V0W2tleV07XG4gIGlmICghb2IpIHtcbiAgICByZXR1cm5cbiAgfVxuICBvYi5kZXAubm90aWZ5KCk7XG59XG5cbi8qKlxuICogQ29sbGVjdCBkZXBlbmRlbmNpZXMgb24gYXJyYXkgZWxlbWVudHMgd2hlbiB0aGUgYXJyYXkgaXMgdG91Y2hlZCwgc2luY2VcbiAqIHdlIGNhbm5vdCBpbnRlcmNlcHQgYXJyYXkgZWxlbWVudCBhY2Nlc3MgbGlrZSBwcm9wZXJ0eSBnZXR0ZXJzLlxuICovXG5mdW5jdGlvbiBkZXBlbmRBcnJheSAodmFsdWUpIHtcbiAgZm9yICh2YXIgZSA9ICh2b2lkIDApLCBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGUgPSB2YWx1ZVtpXTtcbiAgICBlICYmIGUuX19vYl9fICYmIGUuX19vYl9fLmRlcC5kZXBlbmQoKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlKSkge1xuICAgICAgZGVwZW5kQXJyYXkoZSk7XG4gICAgfVxuICB9XG59XG5cbi8qICAqL1xuXG4vKipcbiAqIE9wdGlvbiBvdmVyd3JpdGluZyBzdHJhdGVnaWVzIGFyZSBmdW5jdGlvbnMgdGhhdCBoYW5kbGVcbiAqIGhvdyB0byBtZXJnZSBhIHBhcmVudCBvcHRpb24gdmFsdWUgYW5kIGEgY2hpbGQgb3B0aW9uXG4gKiB2YWx1ZSBpbnRvIHRoZSBmaW5hbCB2YWx1ZS5cbiAqL1xudmFyIHN0cmF0cyA9IGNvbmZpZy5vcHRpb25NZXJnZVN0cmF0ZWdpZXM7XG5cbi8qKlxuICogT3B0aW9ucyB3aXRoIHJlc3RyaWN0aW9uc1xuICovXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBzdHJhdHMuZWwgPSBzdHJhdHMucHJvcHNEYXRhID0gZnVuY3Rpb24gKHBhcmVudCwgY2hpbGQsIHZtLCBrZXkpIHtcbiAgICBpZiAoIXZtKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBcIm9wdGlvbiBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgY2FuIG9ubHkgYmUgdXNlZCBkdXJpbmcgaW5zdGFuY2UgXCIgK1xuICAgICAgICAnY3JlYXRpb24gd2l0aCB0aGUgYG5ld2Aga2V5d29yZC4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFN0cmF0KHBhcmVudCwgY2hpbGQpXG4gIH07XG59XG5cbi8qKlxuICogSGVscGVyIHRoYXQgcmVjdXJzaXZlbHkgbWVyZ2VzIHR3byBkYXRhIG9iamVjdHMgdG9nZXRoZXIuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlRGF0YSAodG8sIGZyb20pIHtcbiAgaWYgKCFmcm9tKSB7IHJldHVybiB0byB9XG4gIHZhciBrZXksIHRvVmFsLCBmcm9tVmFsO1xuXG4gIHZhciBrZXlzID0gaGFzU3ltYm9sXG4gICAgPyBSZWZsZWN0Lm93bktleXMoZnJvbSlcbiAgICA6IE9iamVjdC5rZXlzKGZyb20pO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IGtleXNbaV07XG4gICAgLy8gaW4gY2FzZSB0aGUgb2JqZWN0IGlzIGFscmVhZHkgb2JzZXJ2ZWQuLi5cbiAgICBpZiAoa2V5ID09PSAnX19vYl9fJykgeyBjb250aW51ZSB9XG4gICAgdG9WYWwgPSB0b1trZXldO1xuICAgIGZyb21WYWwgPSBmcm9tW2tleV07XG4gICAgaWYgKCFoYXNPd24odG8sIGtleSkpIHtcbiAgICAgIHNldCh0bywga2V5LCBmcm9tVmFsKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdG9WYWwgIT09IGZyb21WYWwgJiZcbiAgICAgIGlzUGxhaW5PYmplY3QodG9WYWwpICYmXG4gICAgICBpc1BsYWluT2JqZWN0KGZyb21WYWwpXG4gICAgKSB7XG4gICAgICBtZXJnZURhdGEodG9WYWwsIGZyb21WYWwpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdG9cbn1cblxuLyoqXG4gKiBEYXRhXG4gKi9cbmZ1bmN0aW9uIG1lcmdlRGF0YU9yRm4gKFxuICBwYXJlbnRWYWwsXG4gIGNoaWxkVmFsLFxuICB2bVxuKSB7XG4gIGlmICghdm0pIHtcbiAgICAvLyBpbiBhIFZ1ZS5leHRlbmQgbWVyZ2UsIGJvdGggc2hvdWxkIGJlIGZ1bmN0aW9uc1xuICAgIGlmICghY2hpbGRWYWwpIHtcbiAgICAgIHJldHVybiBwYXJlbnRWYWxcbiAgICB9XG4gICAgaWYgKCFwYXJlbnRWYWwpIHtcbiAgICAgIHJldHVybiBjaGlsZFZhbFxuICAgIH1cbiAgICAvLyB3aGVuIHBhcmVudFZhbCAmIGNoaWxkVmFsIGFyZSBib3RoIHByZXNlbnQsXG4gICAgLy8gd2UgbmVlZCB0byByZXR1cm4gYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlXG4gICAgLy8gbWVyZ2VkIHJlc3VsdCBvZiBib3RoIGZ1bmN0aW9ucy4uLiBubyBuZWVkIHRvXG4gICAgLy8gY2hlY2sgaWYgcGFyZW50VmFsIGlzIGEgZnVuY3Rpb24gaGVyZSBiZWNhdXNlXG4gICAgLy8gaXQgaGFzIHRvIGJlIGEgZnVuY3Rpb24gdG8gcGFzcyBwcmV2aW91cyBtZXJnZXMuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZERhdGFGbiAoKSB7XG4gICAgICByZXR1cm4gbWVyZ2VEYXRhKFxuICAgICAgICB0eXBlb2YgY2hpbGRWYWwgPT09ICdmdW5jdGlvbicgPyBjaGlsZFZhbC5jYWxsKHRoaXMsIHRoaXMpIDogY2hpbGRWYWwsXG4gICAgICAgIHR5cGVvZiBwYXJlbnRWYWwgPT09ICdmdW5jdGlvbicgPyBwYXJlbnRWYWwuY2FsbCh0aGlzLCB0aGlzKSA6IHBhcmVudFZhbFxuICAgICAgKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWVyZ2VkSW5zdGFuY2VEYXRhRm4gKCkge1xuICAgICAgLy8gaW5zdGFuY2UgbWVyZ2VcbiAgICAgIHZhciBpbnN0YW5jZURhdGEgPSB0eXBlb2YgY2hpbGRWYWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBjaGlsZFZhbC5jYWxsKHZtLCB2bSlcbiAgICAgICAgOiBjaGlsZFZhbDtcbiAgICAgIHZhciBkZWZhdWx0RGF0YSA9IHR5cGVvZiBwYXJlbnRWYWwgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBwYXJlbnRWYWwuY2FsbCh2bSwgdm0pXG4gICAgICAgIDogcGFyZW50VmFsO1xuICAgICAgaWYgKGluc3RhbmNlRGF0YSkge1xuICAgICAgICByZXR1cm4gbWVyZ2VEYXRhKGluc3RhbmNlRGF0YSwgZGVmYXVsdERhdGEpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGVmYXVsdERhdGFcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuc3RyYXRzLmRhdGEgPSBmdW5jdGlvbiAoXG4gIHBhcmVudFZhbCxcbiAgY2hpbGRWYWwsXG4gIHZtXG4pIHtcbiAgaWYgKCF2bSkge1xuICAgIGlmIChjaGlsZFZhbCAmJiB0eXBlb2YgY2hpbGRWYWwgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgJ1RoZSBcImRhdGFcIiBvcHRpb24gc2hvdWxkIGJlIGEgZnVuY3Rpb24gJyArXG4gICAgICAgICd0aGF0IHJldHVybnMgYSBwZXItaW5zdGFuY2UgdmFsdWUgaW4gY29tcG9uZW50ICcgK1xuICAgICAgICAnZGVmaW5pdGlvbnMuJyxcbiAgICAgICAgdm1cbiAgICAgICk7XG5cbiAgICAgIHJldHVybiBwYXJlbnRWYWxcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlRGF0YU9yRm4ocGFyZW50VmFsLCBjaGlsZFZhbClcbiAgfVxuXG4gIHJldHVybiBtZXJnZURhdGFPckZuKHBhcmVudFZhbCwgY2hpbGRWYWwsIHZtKVxufTtcblxuLyoqXG4gKiBIb29rcyBhbmQgcHJvcHMgYXJlIG1lcmdlZCBhcyBhcnJheXMuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlSG9vayAoXG4gIHBhcmVudFZhbCxcbiAgY2hpbGRWYWxcbikge1xuICB2YXIgcmVzID0gY2hpbGRWYWxcbiAgICA/IHBhcmVudFZhbFxuICAgICAgPyBwYXJlbnRWYWwuY29uY2F0KGNoaWxkVmFsKVxuICAgICAgOiBBcnJheS5pc0FycmF5KGNoaWxkVmFsKVxuICAgICAgICA/IGNoaWxkVmFsXG4gICAgICAgIDogW2NoaWxkVmFsXVxuICAgIDogcGFyZW50VmFsO1xuICByZXR1cm4gcmVzXG4gICAgPyBkZWR1cGVIb29rcyhyZXMpXG4gICAgOiByZXNcbn1cblxuZnVuY3Rpb24gZGVkdXBlSG9va3MgKGhvb2tzKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBob29rcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChyZXMuaW5kZXhPZihob29rc1tpXSkgPT09IC0xKSB7XG4gICAgICByZXMucHVzaChob29rc1tpXSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuTElGRUNZQ0xFX0hPT0tTLmZvckVhY2goZnVuY3Rpb24gKGhvb2spIHtcbiAgc3RyYXRzW2hvb2tdID0gbWVyZ2VIb29rO1xufSk7XG5cbi8qKlxuICogQXNzZXRzXG4gKlxuICogV2hlbiBhIHZtIGlzIHByZXNlbnQgKGluc3RhbmNlIGNyZWF0aW9uKSwgd2UgbmVlZCB0byBkb1xuICogYSB0aHJlZS13YXkgbWVyZ2UgYmV0d2VlbiBjb25zdHJ1Y3RvciBvcHRpb25zLCBpbnN0YW5jZVxuICogb3B0aW9ucyBhbmQgcGFyZW50IG9wdGlvbnMuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlQXNzZXRzIChcbiAgcGFyZW50VmFsLFxuICBjaGlsZFZhbCxcbiAgdm0sXG4gIGtleVxuKSB7XG4gIHZhciByZXMgPSBPYmplY3QuY3JlYXRlKHBhcmVudFZhbCB8fCBudWxsKTtcbiAgaWYgKGNoaWxkVmFsKSB7XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBhc3NlcnRPYmplY3RUeXBlKGtleSwgY2hpbGRWYWwsIHZtKTtcbiAgICByZXR1cm4gZXh0ZW5kKHJlcywgY2hpbGRWYWwpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHJlc1xuICB9XG59XG5cbkFTU0VUX1RZUEVTLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgc3RyYXRzW3R5cGUgKyAncyddID0gbWVyZ2VBc3NldHM7XG59KTtcblxuLyoqXG4gKiBXYXRjaGVycy5cbiAqXG4gKiBXYXRjaGVycyBoYXNoZXMgc2hvdWxkIG5vdCBvdmVyd3JpdGUgb25lXG4gKiBhbm90aGVyLCBzbyB3ZSBtZXJnZSB0aGVtIGFzIGFycmF5cy5cbiAqL1xuc3RyYXRzLndhdGNoID0gZnVuY3Rpb24gKFxuICBwYXJlbnRWYWwsXG4gIGNoaWxkVmFsLFxuICB2bSxcbiAga2V5XG4pIHtcbiAgLy8gd29yayBhcm91bmQgRmlyZWZveCdzIE9iamVjdC5wcm90b3R5cGUud2F0Y2guLi5cbiAgaWYgKHBhcmVudFZhbCA9PT0gbmF0aXZlV2F0Y2gpIHsgcGFyZW50VmFsID0gdW5kZWZpbmVkOyB9XG4gIGlmIChjaGlsZFZhbCA9PT0gbmF0aXZlV2F0Y2gpIHsgY2hpbGRWYWwgPSB1bmRlZmluZWQ7IH1cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghY2hpbGRWYWwpIHsgcmV0dXJuIE9iamVjdC5jcmVhdGUocGFyZW50VmFsIHx8IG51bGwpIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBhc3NlcnRPYmplY3RUeXBlKGtleSwgY2hpbGRWYWwsIHZtKTtcbiAgfVxuICBpZiAoIXBhcmVudFZhbCkgeyByZXR1cm4gY2hpbGRWYWwgfVxuICB2YXIgcmV0ID0ge307XG4gIGV4dGVuZChyZXQsIHBhcmVudFZhbCk7XG4gIGZvciAodmFyIGtleSQxIGluIGNoaWxkVmFsKSB7XG4gICAgdmFyIHBhcmVudCA9IHJldFtrZXkkMV07XG4gICAgdmFyIGNoaWxkID0gY2hpbGRWYWxba2V5JDFdO1xuICAgIGlmIChwYXJlbnQgJiYgIUFycmF5LmlzQXJyYXkocGFyZW50KSkge1xuICAgICAgcGFyZW50ID0gW3BhcmVudF07XG4gICAgfVxuICAgIHJldFtrZXkkMV0gPSBwYXJlbnRcbiAgICAgID8gcGFyZW50LmNvbmNhdChjaGlsZClcbiAgICAgIDogQXJyYXkuaXNBcnJheShjaGlsZCkgPyBjaGlsZCA6IFtjaGlsZF07XG4gIH1cbiAgcmV0dXJuIHJldFxufTtcblxuLyoqXG4gKiBPdGhlciBvYmplY3QgaGFzaGVzLlxuICovXG5zdHJhdHMucHJvcHMgPVxuc3RyYXRzLm1ldGhvZHMgPVxuc3RyYXRzLmluamVjdCA9XG5zdHJhdHMuY29tcHV0ZWQgPSBmdW5jdGlvbiAoXG4gIHBhcmVudFZhbCxcbiAgY2hpbGRWYWwsXG4gIHZtLFxuICBrZXlcbikge1xuICBpZiAoY2hpbGRWYWwgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGFzc2VydE9iamVjdFR5cGUoa2V5LCBjaGlsZFZhbCwgdm0pO1xuICB9XG4gIGlmICghcGFyZW50VmFsKSB7IHJldHVybiBjaGlsZFZhbCB9XG4gIHZhciByZXQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICBleHRlbmQocmV0LCBwYXJlbnRWYWwpO1xuICBpZiAoY2hpbGRWYWwpIHsgZXh0ZW5kKHJldCwgY2hpbGRWYWwpOyB9XG4gIHJldHVybiByZXRcbn07XG5zdHJhdHMucHJvdmlkZSA9IG1lcmdlRGF0YU9yRm47XG5cbi8qKlxuICogRGVmYXVsdCBzdHJhdGVneS5cbiAqL1xudmFyIGRlZmF1bHRTdHJhdCA9IGZ1bmN0aW9uIChwYXJlbnRWYWwsIGNoaWxkVmFsKSB7XG4gIHJldHVybiBjaGlsZFZhbCA9PT0gdW5kZWZpbmVkXG4gICAgPyBwYXJlbnRWYWxcbiAgICA6IGNoaWxkVmFsXG59O1xuXG4vKipcbiAqIFZhbGlkYXRlIGNvbXBvbmVudCBuYW1lc1xuICovXG5mdW5jdGlvbiBjaGVja0NvbXBvbmVudHMgKG9wdGlvbnMpIHtcbiAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMuY29tcG9uZW50cykge1xuICAgIHZhbGlkYXRlQ29tcG9uZW50TmFtZShrZXkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlQ29tcG9uZW50TmFtZSAobmFtZSkge1xuICBpZiAoIW5ldyBSZWdFeHAoKFwiXlthLXpBLVpdW1xcXFwtXFxcXC4wLTlfXCIgKyAodW5pY29kZVJlZ0V4cC5zb3VyY2UpICsgXCJdKiRcIikpLnRlc3QobmFtZSkpIHtcbiAgICB3YXJuKFxuICAgICAgJ0ludmFsaWQgY29tcG9uZW50IG5hbWU6IFwiJyArIG5hbWUgKyAnXCIuIENvbXBvbmVudCBuYW1lcyAnICtcbiAgICAgICdzaG91bGQgY29uZm9ybSB0byB2YWxpZCBjdXN0b20gZWxlbWVudCBuYW1lIGluIGh0bWw1IHNwZWNpZmljYXRpb24uJ1xuICAgICk7XG4gIH1cbiAgaWYgKGlzQnVpbHRJblRhZyhuYW1lKSB8fCBjb25maWcuaXNSZXNlcnZlZFRhZyhuYW1lKSkge1xuICAgIHdhcm4oXG4gICAgICAnRG8gbm90IHVzZSBidWlsdC1pbiBvciByZXNlcnZlZCBIVE1MIGVsZW1lbnRzIGFzIGNvbXBvbmVudCAnICtcbiAgICAgICdpZDogJyArIG5hbWVcbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogRW5zdXJlIGFsbCBwcm9wcyBvcHRpb24gc3ludGF4IGFyZSBub3JtYWxpemVkIGludG8gdGhlXG4gKiBPYmplY3QtYmFzZWQgZm9ybWF0LlxuICovXG5mdW5jdGlvbiBub3JtYWxpemVQcm9wcyAob3B0aW9ucywgdm0pIHtcbiAgdmFyIHByb3BzID0gb3B0aW9ucy5wcm9wcztcbiAgaWYgKCFwcm9wcykgeyByZXR1cm4gfVxuICB2YXIgcmVzID0ge307XG4gIHZhciBpLCB2YWwsIG5hbWU7XG4gIGlmIChBcnJheS5pc0FycmF5KHByb3BzKSkge1xuICAgIGkgPSBwcm9wcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgdmFsID0gcHJvcHNbaV07XG4gICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbmFtZSA9IGNhbWVsaXplKHZhbCk7XG4gICAgICAgIHJlc1tuYW1lXSA9IHsgdHlwZTogbnVsbCB9O1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHdhcm4oJ3Byb3BzIG11c3QgYmUgc3RyaW5ncyB3aGVuIHVzaW5nIGFycmF5IHN5bnRheC4nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdChwcm9wcykpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICAgIHZhbCA9IHByb3BzW2tleV07XG4gICAgICBuYW1lID0gY2FtZWxpemUoa2V5KTtcbiAgICAgIHJlc1tuYW1lXSA9IGlzUGxhaW5PYmplY3QodmFsKVxuICAgICAgICA/IHZhbFxuICAgICAgICA6IHsgdHlwZTogdmFsIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB3YXJuKFxuICAgICAgXCJJbnZhbGlkIHZhbHVlIGZvciBvcHRpb24gXFxcInByb3BzXFxcIjogZXhwZWN0ZWQgYW4gQXJyYXkgb3IgYW4gT2JqZWN0LCBcIiArXG4gICAgICBcImJ1dCBnb3QgXCIgKyAodG9SYXdUeXBlKHByb3BzKSkgKyBcIi5cIixcbiAgICAgIHZtXG4gICAgKTtcbiAgfVxuICBvcHRpb25zLnByb3BzID0gcmVzO1xufVxuXG4vKipcbiAqIE5vcm1hbGl6ZSBhbGwgaW5qZWN0aW9ucyBpbnRvIE9iamVjdC1iYXNlZCBmb3JtYXRcbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplSW5qZWN0IChvcHRpb25zLCB2bSkge1xuICB2YXIgaW5qZWN0ID0gb3B0aW9ucy5pbmplY3Q7XG4gIGlmICghaW5qZWN0KSB7IHJldHVybiB9XG4gIHZhciBub3JtYWxpemVkID0gb3B0aW9ucy5pbmplY3QgPSB7fTtcbiAgaWYgKEFycmF5LmlzQXJyYXkoaW5qZWN0KSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5qZWN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBub3JtYWxpemVkW2luamVjdFtpXV0gPSB7IGZyb206IGluamVjdFtpXSB9O1xuICAgIH1cbiAgfSBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGluamVjdCkpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gaW5qZWN0KSB7XG4gICAgICB2YXIgdmFsID0gaW5qZWN0W2tleV07XG4gICAgICBub3JtYWxpemVkW2tleV0gPSBpc1BsYWluT2JqZWN0KHZhbClcbiAgICAgICAgPyBleHRlbmQoeyBmcm9tOiBrZXkgfSwgdmFsKVxuICAgICAgICA6IHsgZnJvbTogdmFsIH07XG4gICAgfVxuICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB3YXJuKFxuICAgICAgXCJJbnZhbGlkIHZhbHVlIGZvciBvcHRpb24gXFxcImluamVjdFxcXCI6IGV4cGVjdGVkIGFuIEFycmF5IG9yIGFuIE9iamVjdCwgXCIgK1xuICAgICAgXCJidXQgZ290IFwiICsgKHRvUmF3VHlwZShpbmplY3QpKSArIFwiLlwiLFxuICAgICAgdm1cbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogTm9ybWFsaXplIHJhdyBmdW5jdGlvbiBkaXJlY3RpdmVzIGludG8gb2JqZWN0IGZvcm1hdC5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplRGlyZWN0aXZlcyAob3B0aW9ucykge1xuICB2YXIgZGlycyA9IG9wdGlvbnMuZGlyZWN0aXZlcztcbiAgaWYgKGRpcnMpIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gZGlycykge1xuICAgICAgdmFyIGRlZiQkMSA9IGRpcnNba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgZGVmJCQxID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGRpcnNba2V5XSA9IHsgYmluZDogZGVmJCQxLCB1cGRhdGU6IGRlZiQkMSB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhc3NlcnRPYmplY3RUeXBlIChuYW1lLCB2YWx1ZSwgdm0pIHtcbiAgaWYgKCFpc1BsYWluT2JqZWN0KHZhbHVlKSkge1xuICAgIHdhcm4oXG4gICAgICBcIkludmFsaWQgdmFsdWUgZm9yIG9wdGlvbiBcXFwiXCIgKyBuYW1lICsgXCJcXFwiOiBleHBlY3RlZCBhbiBPYmplY3QsIFwiICtcbiAgICAgIFwiYnV0IGdvdCBcIiArICh0b1Jhd1R5cGUodmFsdWUpKSArIFwiLlwiLFxuICAgICAgdm1cbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogTWVyZ2UgdHdvIG9wdGlvbiBvYmplY3RzIGludG8gYSBuZXcgb25lLlxuICogQ29yZSB1dGlsaXR5IHVzZWQgaW4gYm90aCBpbnN0YW50aWF0aW9uIGFuZCBpbmhlcml0YW5jZS5cbiAqL1xuZnVuY3Rpb24gbWVyZ2VPcHRpb25zIChcbiAgcGFyZW50LFxuICBjaGlsZCxcbiAgdm1cbikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNoZWNrQ29tcG9uZW50cyhjaGlsZCk7XG4gIH1cblxuICBpZiAodHlwZW9mIGNoaWxkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2hpbGQgPSBjaGlsZC5vcHRpb25zO1xuICB9XG5cbiAgbm9ybWFsaXplUHJvcHMoY2hpbGQsIHZtKTtcbiAgbm9ybWFsaXplSW5qZWN0KGNoaWxkLCB2bSk7XG4gIG5vcm1hbGl6ZURpcmVjdGl2ZXMoY2hpbGQpO1xuXG4gIC8vIEFwcGx5IGV4dGVuZHMgYW5kIG1peGlucyBvbiB0aGUgY2hpbGQgb3B0aW9ucyxcbiAgLy8gYnV0IG9ubHkgaWYgaXQgaXMgYSByYXcgb3B0aW9ucyBvYmplY3QgdGhhdCBpc24ndFxuICAvLyB0aGUgcmVzdWx0IG9mIGFub3RoZXIgbWVyZ2VPcHRpb25zIGNhbGwuXG4gIC8vIE9ubHkgbWVyZ2VkIG9wdGlvbnMgaGFzIHRoZSBfYmFzZSBwcm9wZXJ0eS5cbiAgaWYgKCFjaGlsZC5fYmFzZSkge1xuICAgIGlmIChjaGlsZC5leHRlbmRzKSB7XG4gICAgICBwYXJlbnQgPSBtZXJnZU9wdGlvbnMocGFyZW50LCBjaGlsZC5leHRlbmRzLCB2bSk7XG4gICAgfVxuICAgIGlmIChjaGlsZC5taXhpbnMpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2hpbGQubWl4aW5zLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBwYXJlbnQgPSBtZXJnZU9wdGlvbnMocGFyZW50LCBjaGlsZC5taXhpbnNbaV0sIHZtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB2YXIgb3B0aW9ucyA9IHt9O1xuICB2YXIga2V5O1xuICBmb3IgKGtleSBpbiBwYXJlbnQpIHtcbiAgICBtZXJnZUZpZWxkKGtleSk7XG4gIH1cbiAgZm9yIChrZXkgaW4gY2hpbGQpIHtcbiAgICBpZiAoIWhhc093bihwYXJlbnQsIGtleSkpIHtcbiAgICAgIG1lcmdlRmllbGQoa2V5KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gbWVyZ2VGaWVsZCAoa2V5KSB7XG4gICAgdmFyIHN0cmF0ID0gc3RyYXRzW2tleV0gfHwgZGVmYXVsdFN0cmF0O1xuICAgIG9wdGlvbnNba2V5XSA9IHN0cmF0KHBhcmVudFtrZXldLCBjaGlsZFtrZXldLCB2bSwga2V5KTtcbiAgfVxuICByZXR1cm4gb3B0aW9uc1xufVxuXG4vKipcbiAqIFJlc29sdmUgYW4gYXNzZXQuXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgYmVjYXVzZSBjaGlsZCBpbnN0YW5jZXMgbmVlZCBhY2Nlc3NcbiAqIHRvIGFzc2V0cyBkZWZpbmVkIGluIGl0cyBhbmNlc3RvciBjaGFpbi5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZUFzc2V0IChcbiAgb3B0aW9ucyxcbiAgdHlwZSxcbiAgaWQsXG4gIHdhcm5NaXNzaW5nXG4pIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGFzc2V0cyA9IG9wdGlvbnNbdHlwZV07XG4gIC8vIGNoZWNrIGxvY2FsIHJlZ2lzdHJhdGlvbiB2YXJpYXRpb25zIGZpcnN0XG4gIGlmIChoYXNPd24oYXNzZXRzLCBpZCkpIHsgcmV0dXJuIGFzc2V0c1tpZF0gfVxuICB2YXIgY2FtZWxpemVkSWQgPSBjYW1lbGl6ZShpZCk7XG4gIGlmIChoYXNPd24oYXNzZXRzLCBjYW1lbGl6ZWRJZCkpIHsgcmV0dXJuIGFzc2V0c1tjYW1lbGl6ZWRJZF0gfVxuICB2YXIgUGFzY2FsQ2FzZUlkID0gY2FwaXRhbGl6ZShjYW1lbGl6ZWRJZCk7XG4gIGlmIChoYXNPd24oYXNzZXRzLCBQYXNjYWxDYXNlSWQpKSB7IHJldHVybiBhc3NldHNbUGFzY2FsQ2FzZUlkXSB9XG4gIC8vIGZhbGxiYWNrIHRvIHByb3RvdHlwZSBjaGFpblxuICB2YXIgcmVzID0gYXNzZXRzW2lkXSB8fCBhc3NldHNbY2FtZWxpemVkSWRdIHx8IGFzc2V0c1tQYXNjYWxDYXNlSWRdO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuTWlzc2luZyAmJiAhcmVzKSB7XG4gICAgd2FybihcbiAgICAgICdGYWlsZWQgdG8gcmVzb2x2ZSAnICsgdHlwZS5zbGljZSgwLCAtMSkgKyAnOiAnICsgaWQsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qICAqL1xuXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wIChcbiAga2V5LFxuICBwcm9wT3B0aW9ucyxcbiAgcHJvcHNEYXRhLFxuICB2bVxuKSB7XG4gIHZhciBwcm9wID0gcHJvcE9wdGlvbnNba2V5XTtcbiAgdmFyIGFic2VudCA9ICFoYXNPd24ocHJvcHNEYXRhLCBrZXkpO1xuICB2YXIgdmFsdWUgPSBwcm9wc0RhdGFba2V5XTtcbiAgLy8gYm9vbGVhbiBjYXN0aW5nXG4gIHZhciBib29sZWFuSW5kZXggPSBnZXRUeXBlSW5kZXgoQm9vbGVhbiwgcHJvcC50eXBlKTtcbiAgaWYgKGJvb2xlYW5JbmRleCA+IC0xKSB7XG4gICAgaWYgKGFic2VudCAmJiAhaGFzT3duKHByb3AsICdkZWZhdWx0JykpIHtcbiAgICAgIHZhbHVlID0gZmFsc2U7XG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IGh5cGhlbmF0ZShrZXkpKSB7XG4gICAgICAvLyBvbmx5IGNhc3QgZW1wdHkgc3RyaW5nIC8gc2FtZSBuYW1lIHRvIGJvb2xlYW4gaWZcbiAgICAgIC8vIGJvb2xlYW4gaGFzIGhpZ2hlciBwcmlvcml0eVxuICAgICAgdmFyIHN0cmluZ0luZGV4ID0gZ2V0VHlwZUluZGV4KFN0cmluZywgcHJvcC50eXBlKTtcbiAgICAgIGlmIChzdHJpbmdJbmRleCA8IDAgfHwgYm9vbGVhbkluZGV4IDwgc3RyaW5nSW5kZXgpIHtcbiAgICAgICAgdmFsdWUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvLyBjaGVjayBkZWZhdWx0IHZhbHVlXG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdmFsdWUgPSBnZXRQcm9wRGVmYXVsdFZhbHVlKHZtLCBwcm9wLCBrZXkpO1xuICAgIC8vIHNpbmNlIHRoZSBkZWZhdWx0IHZhbHVlIGlzIGEgZnJlc2ggY29weSxcbiAgICAvLyBtYWtlIHN1cmUgdG8gb2JzZXJ2ZSBpdC5cbiAgICB2YXIgcHJldlNob3VsZE9ic2VydmUgPSBzaG91bGRPYnNlcnZlO1xuICAgIHRvZ2dsZU9ic2VydmluZyh0cnVlKTtcbiAgICBvYnNlcnZlKHZhbHVlKTtcbiAgICB0b2dnbGVPYnNlcnZpbmcocHJldlNob3VsZE9ic2VydmUpO1xuICB9XG4gIGlmIChcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgLy8gc2tpcCB2YWxpZGF0aW9uIGZvciB3ZWV4IHJlY3ljbGUtbGlzdCBjaGlsZCBjb21wb25lbnQgcHJvcHNcbiAgICAhKGZhbHNlKVxuICApIHtcbiAgICBhc3NlcnRQcm9wKHByb3AsIGtleSwgdmFsdWUsIHZtLCBhYnNlbnQpO1xuICB9XG4gIHJldHVybiB2YWx1ZVxufVxuXG4vKipcbiAqIEdldCB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhIHByb3AuXG4gKi9cbmZ1bmN0aW9uIGdldFByb3BEZWZhdWx0VmFsdWUgKHZtLCBwcm9wLCBrZXkpIHtcbiAgLy8gbm8gZGVmYXVsdCwgcmV0dXJuIHVuZGVmaW5lZFxuICBpZiAoIWhhc093bihwcm9wLCAnZGVmYXVsdCcpKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG4gIHZhciBkZWYgPSBwcm9wLmRlZmF1bHQ7XG4gIC8vIHdhcm4gYWdhaW5zdCBub24tZmFjdG9yeSBkZWZhdWx0cyBmb3IgT2JqZWN0ICYgQXJyYXlcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaXNPYmplY3QoZGVmKSkge1xuICAgIHdhcm4oXG4gICAgICAnSW52YWxpZCBkZWZhdWx0IHZhbHVlIGZvciBwcm9wIFwiJyArIGtleSArICdcIjogJyArXG4gICAgICAnUHJvcHMgd2l0aCB0eXBlIE9iamVjdC9BcnJheSBtdXN0IHVzZSBhIGZhY3RvcnkgZnVuY3Rpb24gJyArXG4gICAgICAndG8gcmV0dXJuIHRoZSBkZWZhdWx0IHZhbHVlLicsXG4gICAgICB2bVxuICAgICk7XG4gIH1cbiAgLy8gdGhlIHJhdyBwcm9wIHZhbHVlIHdhcyBhbHNvIHVuZGVmaW5lZCBmcm9tIHByZXZpb3VzIHJlbmRlcixcbiAgLy8gcmV0dXJuIHByZXZpb3VzIGRlZmF1bHQgdmFsdWUgdG8gYXZvaWQgdW5uZWNlc3Nhcnkgd2F0Y2hlciB0cmlnZ2VyXG4gIGlmICh2bSAmJiB2bS4kb3B0aW9ucy5wcm9wc0RhdGEgJiZcbiAgICB2bS4kb3B0aW9ucy5wcm9wc0RhdGFba2V5XSA9PT0gdW5kZWZpbmVkICYmXG4gICAgdm0uX3Byb3BzW2tleV0gIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICByZXR1cm4gdm0uX3Byb3BzW2tleV1cbiAgfVxuICAvLyBjYWxsIGZhY3RvcnkgZnVuY3Rpb24gZm9yIG5vbi1GdW5jdGlvbiB0eXBlc1xuICAvLyBhIHZhbHVlIGlzIEZ1bmN0aW9uIGlmIGl0cyBwcm90b3R5cGUgaXMgZnVuY3Rpb24gZXZlbiBhY3Jvc3MgZGlmZmVyZW50IGV4ZWN1dGlvbiBjb250ZXh0XG4gIHJldHVybiB0eXBlb2YgZGVmID09PSAnZnVuY3Rpb24nICYmIGdldFR5cGUocHJvcC50eXBlKSAhPT0gJ0Z1bmN0aW9uJ1xuICAgID8gZGVmLmNhbGwodm0pXG4gICAgOiBkZWZcbn1cblxuLyoqXG4gKiBBc3NlcnQgd2hldGhlciBhIHByb3AgaXMgdmFsaWQuXG4gKi9cbmZ1bmN0aW9uIGFzc2VydFByb3AgKFxuICBwcm9wLFxuICBuYW1lLFxuICB2YWx1ZSxcbiAgdm0sXG4gIGFic2VudFxuKSB7XG4gIGlmIChwcm9wLnJlcXVpcmVkICYmIGFic2VudCkge1xuICAgIHdhcm4oXG4gICAgICAnTWlzc2luZyByZXF1aXJlZCBwcm9wOiBcIicgKyBuYW1lICsgJ1wiJyxcbiAgICAgIHZtXG4gICAgKTtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodmFsdWUgPT0gbnVsbCAmJiAhcHJvcC5yZXF1aXJlZCkge1xuICAgIHJldHVyblxuICB9XG4gIHZhciB0eXBlID0gcHJvcC50eXBlO1xuICB2YXIgdmFsaWQgPSAhdHlwZSB8fCB0eXBlID09PSB0cnVlO1xuICB2YXIgZXhwZWN0ZWRUeXBlcyA9IFtdO1xuICBpZiAodHlwZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh0eXBlKSkge1xuICAgICAgdHlwZSA9IFt0eXBlXTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlLmxlbmd0aCAmJiAhdmFsaWQ7IGkrKykge1xuICAgICAgdmFyIGFzc2VydGVkVHlwZSA9IGFzc2VydFR5cGUodmFsdWUsIHR5cGVbaV0pO1xuICAgICAgZXhwZWN0ZWRUeXBlcy5wdXNoKGFzc2VydGVkVHlwZS5leHBlY3RlZFR5cGUgfHwgJycpO1xuICAgICAgdmFsaWQgPSBhc3NlcnRlZFR5cGUudmFsaWQ7XG4gICAgfVxuICB9XG5cbiAgaWYgKCF2YWxpZCkge1xuICAgIHdhcm4oXG4gICAgICBnZXRJbnZhbGlkVHlwZU1lc3NhZ2UobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpLFxuICAgICAgdm1cbiAgICApO1xuICAgIHJldHVyblxuICB9XG4gIHZhciB2YWxpZGF0b3IgPSBwcm9wLnZhbGlkYXRvcjtcbiAgaWYgKHZhbGlkYXRvcikge1xuICAgIGlmICghdmFsaWRhdG9yKHZhbHVlKSkge1xuICAgICAgd2FybihcbiAgICAgICAgJ0ludmFsaWQgcHJvcDogY3VzdG9tIHZhbGlkYXRvciBjaGVjayBmYWlsZWQgZm9yIHByb3AgXCInICsgbmFtZSArICdcIi4nLFxuICAgICAgICB2bVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHNpbXBsZUNoZWNrUkUgPSAvXihTdHJpbmd8TnVtYmVyfEJvb2xlYW58RnVuY3Rpb258U3ltYm9sKSQvO1xuXG5mdW5jdGlvbiBhc3NlcnRUeXBlICh2YWx1ZSwgdHlwZSkge1xuICB2YXIgdmFsaWQ7XG4gIHZhciBleHBlY3RlZFR5cGUgPSBnZXRUeXBlKHR5cGUpO1xuICBpZiAoc2ltcGxlQ2hlY2tSRS50ZXN0KGV4cGVjdGVkVHlwZSkpIHtcbiAgICB2YXIgdCA9IHR5cGVvZiB2YWx1ZTtcbiAgICB2YWxpZCA9IHQgPT09IGV4cGVjdGVkVHlwZS50b0xvd2VyQ2FzZSgpO1xuICAgIC8vIGZvciBwcmltaXRpdmUgd3JhcHBlciBvYmplY3RzXG4gICAgaWYgKCF2YWxpZCAmJiB0ID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gICAgfVxuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ09iamVjdCcpIHtcbiAgICB2YWxpZCA9IGlzUGxhaW5PYmplY3QodmFsdWUpO1xuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gJ0FycmF5Jykge1xuICAgIHZhbGlkID0gQXJyYXkuaXNBcnJheSh2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFsaWQgPSB2YWx1ZSBpbnN0YW5jZW9mIHR5cGU7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB2YWxpZDogdmFsaWQsXG4gICAgZXhwZWN0ZWRUeXBlOiBleHBlY3RlZFR5cGVcbiAgfVxufVxuXG4vKipcbiAqIFVzZSBmdW5jdGlvbiBzdHJpbmcgbmFtZSB0byBjaGVjayBidWlsdC1pbiB0eXBlcyxcbiAqIGJlY2F1c2UgYSBzaW1wbGUgZXF1YWxpdHkgY2hlY2sgd2lsbCBmYWlsIHdoZW4gcnVubmluZ1xuICogYWNyb3NzIGRpZmZlcmVudCB2bXMgLyBpZnJhbWVzLlxuICovXG5mdW5jdGlvbiBnZXRUeXBlIChmbikge1xuICB2YXIgbWF0Y2ggPSBmbiAmJiBmbi50b1N0cmluZygpLm1hdGNoKC9eXFxzKmZ1bmN0aW9uIChcXHcrKS8pO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6ICcnXG59XG5cbmZ1bmN0aW9uIGlzU2FtZVR5cGUgKGEsIGIpIHtcbiAgcmV0dXJuIGdldFR5cGUoYSkgPT09IGdldFR5cGUoYilcbn1cblxuZnVuY3Rpb24gZ2V0VHlwZUluZGV4ICh0eXBlLCBleHBlY3RlZFR5cGVzKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShleHBlY3RlZFR5cGVzKSkge1xuICAgIHJldHVybiBpc1NhbWVUeXBlKGV4cGVjdGVkVHlwZXMsIHR5cGUpID8gMCA6IC0xXG4gIH1cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV4cGVjdGVkVHlwZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZiAoaXNTYW1lVHlwZShleHBlY3RlZFR5cGVzW2ldLCB0eXBlKSkge1xuICAgICAgcmV0dXJuIGlcbiAgICB9XG4gIH1cbiAgcmV0dXJuIC0xXG59XG5cbmZ1bmN0aW9uIGdldEludmFsaWRUeXBlTWVzc2FnZSAobmFtZSwgdmFsdWUsIGV4cGVjdGVkVHlwZXMpIHtcbiAgdmFyIG1lc3NhZ2UgPSBcIkludmFsaWQgcHJvcDogdHlwZSBjaGVjayBmYWlsZWQgZm9yIHByb3AgXFxcIlwiICsgbmFtZSArIFwiXFxcIi5cIiArXG4gICAgXCIgRXhwZWN0ZWQgXCIgKyAoZXhwZWN0ZWRUeXBlcy5tYXAoY2FwaXRhbGl6ZSkuam9pbignLCAnKSk7XG4gIHZhciBleHBlY3RlZFR5cGUgPSBleHBlY3RlZFR5cGVzWzBdO1xuICB2YXIgcmVjZWl2ZWRUeXBlID0gdG9SYXdUeXBlKHZhbHVlKTtcbiAgdmFyIGV4cGVjdGVkVmFsdWUgPSBzdHlsZVZhbHVlKHZhbHVlLCBleHBlY3RlZFR5cGUpO1xuICB2YXIgcmVjZWl2ZWRWYWx1ZSA9IHN0eWxlVmFsdWUodmFsdWUsIHJlY2VpdmVkVHlwZSk7XG4gIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSBleHBlY3RlZCB2YWx1ZVxuICBpZiAoZXhwZWN0ZWRUeXBlcy5sZW5ndGggPT09IDEgJiZcbiAgICAgIGlzRXhwbGljYWJsZShleHBlY3RlZFR5cGUpICYmXG4gICAgICAhaXNCb29sZWFuKGV4cGVjdGVkVHlwZSwgcmVjZWl2ZWRUeXBlKSkge1xuICAgIG1lc3NhZ2UgKz0gXCIgd2l0aCB2YWx1ZSBcIiArIGV4cGVjdGVkVmFsdWU7XG4gIH1cbiAgbWVzc2FnZSArPSBcIiwgZ290IFwiICsgcmVjZWl2ZWRUeXBlICsgXCIgXCI7XG4gIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gc3BlY2lmeSByZWNlaXZlZCB2YWx1ZVxuICBpZiAoaXNFeHBsaWNhYmxlKHJlY2VpdmVkVHlwZSkpIHtcbiAgICBtZXNzYWdlICs9IFwid2l0aCB2YWx1ZSBcIiArIHJlY2VpdmVkVmFsdWUgKyBcIi5cIjtcbiAgfVxuICByZXR1cm4gbWVzc2FnZVxufVxuXG5mdW5jdGlvbiBzdHlsZVZhbHVlICh2YWx1ZSwgdHlwZSkge1xuICBpZiAodHlwZSA9PT0gJ1N0cmluZycpIHtcbiAgICByZXR1cm4gKFwiXFxcIlwiICsgdmFsdWUgKyBcIlxcXCJcIilcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnTnVtYmVyJykge1xuICAgIHJldHVybiAoXCJcIiArIChOdW1iZXIodmFsdWUpKSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFwiXCIgKyB2YWx1ZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0V4cGxpY2FibGUgKHZhbHVlKSB7XG4gIHZhciBleHBsaWNpdFR5cGVzID0gWydzdHJpbmcnLCAnbnVtYmVyJywgJ2Jvb2xlYW4nXTtcbiAgcmV0dXJuIGV4cGxpY2l0VHlwZXMuc29tZShmdW5jdGlvbiAoZWxlbSkgeyByZXR1cm4gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gZWxlbTsgfSlcbn1cblxuZnVuY3Rpb24gaXNCb29sZWFuICgpIHtcbiAgdmFyIGFyZ3MgPSBbXSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgd2hpbGUgKCBsZW4tLSApIGFyZ3NbIGxlbiBdID0gYXJndW1lbnRzWyBsZW4gXTtcblxuICByZXR1cm4gYXJncy5zb21lKGZ1bmN0aW9uIChlbGVtKSB7IHJldHVybiBlbGVtLnRvTG93ZXJDYXNlKCkgPT09ICdib29sZWFuJzsgfSlcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGhhbmRsZUVycm9yIChlcnIsIHZtLCBpbmZvKSB7XG4gIC8vIERlYWN0aXZhdGUgZGVwcyB0cmFja2luZyB3aGlsZSBwcm9jZXNzaW5nIGVycm9yIGhhbmRsZXIgdG8gYXZvaWQgcG9zc2libGUgaW5maW5pdGUgcmVuZGVyaW5nLlxuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWV4L2lzc3Vlcy8xNTA1XG4gIHB1c2hUYXJnZXQoKTtcbiAgdHJ5IHtcbiAgICBpZiAodm0pIHtcbiAgICAgIHZhciBjdXIgPSB2bTtcbiAgICAgIHdoaWxlICgoY3VyID0gY3VyLiRwYXJlbnQpKSB7XG4gICAgICAgIHZhciBob29rcyA9IGN1ci4kb3B0aW9ucy5lcnJvckNhcHR1cmVkO1xuICAgICAgICBpZiAoaG9va3MpIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICB2YXIgY2FwdHVyZSA9IGhvb2tzW2ldLmNhbGwoY3VyLCBlcnIsIHZtLCBpbmZvKSA9PT0gZmFsc2U7XG4gICAgICAgICAgICAgIGlmIChjYXB0dXJlKSB7IHJldHVybiB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGdsb2JhbEhhbmRsZUVycm9yKGUsIGN1ciwgJ2Vycm9yQ2FwdHVyZWQgaG9vaycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBnbG9iYWxIYW5kbGVFcnJvcihlcnIsIHZtLCBpbmZvKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBwb3BUYXJnZXQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyAoXG4gIGhhbmRsZXIsXG4gIGNvbnRleHQsXG4gIGFyZ3MsXG4gIHZtLFxuICBpbmZvXG4pIHtcbiAgdmFyIHJlcztcbiAgdHJ5IHtcbiAgICByZXMgPSBhcmdzID8gaGFuZGxlci5hcHBseShjb250ZXh0LCBhcmdzKSA6IGhhbmRsZXIuY2FsbChjb250ZXh0KTtcbiAgICBpZiAocmVzICYmICFyZXMuX2lzVnVlICYmIGlzUHJvbWlzZShyZXMpICYmICFyZXMuX2hhbmRsZWQpIHtcbiAgICAgIHJlcy5jYXRjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gaGFuZGxlRXJyb3IoZSwgdm0sIGluZm8gKyBcIiAoUHJvbWlzZS9hc3luYylcIik7IH0pO1xuICAgICAgLy8gaXNzdWUgIzk1MTFcbiAgICAgIC8vIGF2b2lkIGNhdGNoIHRyaWdnZXJpbmcgbXVsdGlwbGUgdGltZXMgd2hlbiBuZXN0ZWQgY2FsbHNcbiAgICAgIHJlcy5faGFuZGxlZCA9IHRydWU7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgaGFuZGxlRXJyb3IoZSwgdm0sIGluZm8pO1xuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gZ2xvYmFsSGFuZGxlRXJyb3IgKGVyciwgdm0sIGluZm8pIHtcbiAgaWYgKGNvbmZpZy5lcnJvckhhbmRsZXIpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGNvbmZpZy5lcnJvckhhbmRsZXIuY2FsbChudWxsLCBlcnIsIHZtLCBpbmZvKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIC8vIGlmIHRoZSB1c2VyIGludGVudGlvbmFsbHkgdGhyb3dzIHRoZSBvcmlnaW5hbCBlcnJvciBpbiB0aGUgaGFuZGxlcixcbiAgICAgIC8vIGRvIG5vdCBsb2cgaXQgdHdpY2VcbiAgICAgIGlmIChlICE9PSBlcnIpIHtcbiAgICAgICAgbG9nRXJyb3IoZSwgbnVsbCwgJ2NvbmZpZy5lcnJvckhhbmRsZXInKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbG9nRXJyb3IoZXJyLCB2bSwgaW5mbyk7XG59XG5cbmZ1bmN0aW9uIGxvZ0Vycm9yIChlcnIsIHZtLCBpbmZvKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgd2FybigoXCJFcnJvciBpbiBcIiArIGluZm8gKyBcIjogXFxcIlwiICsgKGVyci50b1N0cmluZygpKSArIFwiXFxcIlwiKSwgdm0pO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmICgoaW5Ccm93c2VyIHx8IGluV2VleCkgJiYgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IGVyclxuICB9XG59XG5cbi8qICAqL1xuXG52YXIgaXNVc2luZ01pY3JvVGFzayA9IGZhbHNlO1xuXG52YXIgY2FsbGJhY2tzID0gW107XG52YXIgcGVuZGluZyA9IGZhbHNlO1xuXG5mdW5jdGlvbiBmbHVzaENhbGxiYWNrcyAoKSB7XG4gIHBlbmRpbmcgPSBmYWxzZTtcbiAgdmFyIGNvcGllcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcbiAgY2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY29waWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29waWVzW2ldKCk7XG4gIH1cbn1cblxuLy8gSGVyZSB3ZSBoYXZlIGFzeW5jIGRlZmVycmluZyB3cmFwcGVycyB1c2luZyBtaWNyb3Rhc2tzLlxuLy8gSW4gMi41IHdlIHVzZWQgKG1hY3JvKSB0YXNrcyAoaW4gY29tYmluYXRpb24gd2l0aCBtaWNyb3Rhc2tzKS5cbi8vIEhvd2V2ZXIsIGl0IGhhcyBzdWJ0bGUgcHJvYmxlbXMgd2hlbiBzdGF0ZSBpcyBjaGFuZ2VkIHJpZ2h0IGJlZm9yZSByZXBhaW50XG4vLyAoZS5nLiAjNjgxMywgb3V0LWluIHRyYW5zaXRpb25zKS5cbi8vIEFsc28sIHVzaW5nIChtYWNybykgdGFza3MgaW4gZXZlbnQgaGFuZGxlciB3b3VsZCBjYXVzZSBzb21lIHdlaXJkIGJlaGF2aW9yc1xuLy8gdGhhdCBjYW5ub3QgYmUgY2lyY3VtdmVudGVkIChlLmcuICM3MTA5LCAjNzE1MywgIzc1NDYsICM3ODM0LCAjODEwOSkuXG4vLyBTbyB3ZSBub3cgdXNlIG1pY3JvdGFza3MgZXZlcnl3aGVyZSwgYWdhaW4uXG4vLyBBIG1ham9yIGRyYXdiYWNrIG9mIHRoaXMgdHJhZGVvZmYgaXMgdGhhdCB0aGVyZSBhcmUgc29tZSBzY2VuYXJpb3Ncbi8vIHdoZXJlIG1pY3JvdGFza3MgaGF2ZSB0b28gaGlnaCBhIHByaW9yaXR5IGFuZCBmaXJlIGluIGJldHdlZW4gc3VwcG9zZWRseVxuLy8gc2VxdWVudGlhbCBldmVudHMgKGUuZy4gIzQ1MjEsICM2NjkwLCB3aGljaCBoYXZlIHdvcmthcm91bmRzKVxuLy8gb3IgZXZlbiBiZXR3ZWVuIGJ1YmJsaW5nIG9mIHRoZSBzYW1lIGV2ZW50ICgjNjU2NikuXG52YXIgdGltZXJGdW5jO1xuXG4vLyBUaGUgbmV4dFRpY2sgYmVoYXZpb3IgbGV2ZXJhZ2VzIHRoZSBtaWNyb3Rhc2sgcXVldWUsIHdoaWNoIGNhbiBiZSBhY2Nlc3NlZFxuLy8gdmlhIGVpdGhlciBuYXRpdmUgUHJvbWlzZS50aGVuIG9yIE11dGF0aW9uT2JzZXJ2ZXIuXG4vLyBNdXRhdGlvbk9ic2VydmVyIGhhcyB3aWRlciBzdXBwb3J0LCBob3dldmVyIGl0IGlzIHNlcmlvdXNseSBidWdnZWQgaW5cbi8vIFVJV2ViVmlldyBpbiBpT1MgPj0gOS4zLjMgd2hlbiB0cmlnZ2VyZWQgaW4gdG91Y2ggZXZlbnQgaGFuZGxlcnMuIEl0XG4vLyBjb21wbGV0ZWx5IHN0b3BzIHdvcmtpbmcgYWZ0ZXIgdHJpZ2dlcmluZyBhIGZldyB0aW1lcy4uLiBzbywgaWYgbmF0aXZlXG4vLyBQcm9taXNlIGlzIGF2YWlsYWJsZSwgd2Ugd2lsbCB1c2UgaXQ6XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCwgJGZsb3ctZGlzYWJsZS1saW5lICovXG5pZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKFByb21pc2UpKSB7XG4gIHZhciBwID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIHRpbWVyRnVuYyA9IGZ1bmN0aW9uICgpIHtcbiAgICBwLnRoZW4oZmx1c2hDYWxsYmFja3MpO1xuICAgIC8vIEluIHByb2JsZW1hdGljIFVJV2ViVmlld3MsIFByb21pc2UudGhlbiBkb2Vzbid0IGNvbXBsZXRlbHkgYnJlYWssIGJ1dFxuICAgIC8vIGl0IGNhbiBnZXQgc3R1Y2sgaW4gYSB3ZWlyZCBzdGF0ZSB3aGVyZSBjYWxsYmFja3MgYXJlIHB1c2hlZCBpbnRvIHRoZVxuICAgIC8vIG1pY3JvdGFzayBxdWV1ZSBidXQgdGhlIHF1ZXVlIGlzbid0IGJlaW5nIGZsdXNoZWQsIHVudGlsIHRoZSBicm93c2VyXG4gICAgLy8gbmVlZHMgdG8gZG8gc29tZSBvdGhlciB3b3JrLCBlLmcuIGhhbmRsZSBhIHRpbWVyLiBUaGVyZWZvcmUgd2UgY2FuXG4gICAgLy8gXCJmb3JjZVwiIHRoZSBtaWNyb3Rhc2sgcXVldWUgdG8gYmUgZmx1c2hlZCBieSBhZGRpbmcgYW4gZW1wdHkgdGltZXIuXG4gICAgaWYgKGlzSU9TKSB7IHNldFRpbWVvdXQobm9vcCk7IH1cbiAgfTtcbiAgaXNVc2luZ01pY3JvVGFzayA9IHRydWU7XG59IGVsc2UgaWYgKCFpc0lFICYmIHR5cGVvZiBNdXRhdGlvbk9ic2VydmVyICE9PSAndW5kZWZpbmVkJyAmJiAoXG4gIGlzTmF0aXZlKE11dGF0aW9uT2JzZXJ2ZXIpIHx8XG4gIC8vIFBoYW50b21KUyBhbmQgaU9TIDcueFxuICBNdXRhdGlvbk9ic2VydmVyLnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IE11dGF0aW9uT2JzZXJ2ZXJDb25zdHJ1Y3Rvcl0nXG4pKSB7XG4gIC8vIFVzZSBNdXRhdGlvbk9ic2VydmVyIHdoZXJlIG5hdGl2ZSBQcm9taXNlIGlzIG5vdCBhdmFpbGFibGUsXG4gIC8vIGUuZy4gUGhhbnRvbUpTLCBpT1M3LCBBbmRyb2lkIDQuNFxuICAvLyAoIzY0NjYgTXV0YXRpb25PYnNlcnZlciBpcyB1bnJlbGlhYmxlIGluIElFMTEpXG4gIHZhciBjb3VudGVyID0gMTtcbiAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZmx1c2hDYWxsYmFja3MpO1xuICB2YXIgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShTdHJpbmcoY291bnRlcikpO1xuICBvYnNlcnZlci5vYnNlcnZlKHRleHROb2RlLCB7XG4gICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxuICB9KTtcbiAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgIGNvdW50ZXIgPSAoY291bnRlciArIDEpICUgMjtcbiAgICB0ZXh0Tm9kZS5kYXRhID0gU3RyaW5nKGNvdW50ZXIpO1xuICB9O1xuICBpc1VzaW5nTWljcm9UYXNrID0gdHJ1ZTtcbn0gZWxzZSBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNOYXRpdmUoc2V0SW1tZWRpYXRlKSkge1xuICAvLyBGYWxsYmFjayB0byBzZXRJbW1lZGlhdGUuXG4gIC8vIFRlY2huaWNhbGx5IGl0IGxldmVyYWdlcyB0aGUgKG1hY3JvKSB0YXNrIHF1ZXVlLFxuICAvLyBidXQgaXQgaXMgc3RpbGwgYSBiZXR0ZXIgY2hvaWNlIHRoYW4gc2V0VGltZW91dC5cbiAgdGltZXJGdW5jID0gZnVuY3Rpb24gKCkge1xuICAgIHNldEltbWVkaWF0ZShmbHVzaENhbGxiYWNrcyk7XG4gIH07XG59IGVsc2Uge1xuICAvLyBGYWxsYmFjayB0byBzZXRUaW1lb3V0LlxuICB0aW1lckZ1bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dChmbHVzaENhbGxiYWNrcywgMCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIG5leHRUaWNrIChjYiwgY3R4KSB7XG4gIHZhciBfcmVzb2x2ZTtcbiAgY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gKCkge1xuICAgIGlmIChjYikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2IuY2FsbChjdHgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBoYW5kbGVFcnJvcihlLCBjdHgsICduZXh0VGljaycpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoX3Jlc29sdmUpIHtcbiAgICAgIF9yZXNvbHZlKGN0eCk7XG4gICAgfVxuICB9KTtcbiAgaWYgKCFwZW5kaW5nKSB7XG4gICAgcGVuZGluZyA9IHRydWU7XG4gICAgdGltZXJGdW5jKCk7XG4gIH1cbiAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXG4gIGlmICghY2IgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICBfcmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgfSlcbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIG1hcms7XG52YXIgbWVhc3VyZTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIHBlcmYgPSBpbkJyb3dzZXIgJiYgd2luZG93LnBlcmZvcm1hbmNlO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKFxuICAgIHBlcmYgJiZcbiAgICBwZXJmLm1hcmsgJiZcbiAgICBwZXJmLm1lYXN1cmUgJiZcbiAgICBwZXJmLmNsZWFyTWFya3MgJiZcbiAgICBwZXJmLmNsZWFyTWVhc3VyZXNcbiAgKSB7XG4gICAgbWFyayA9IGZ1bmN0aW9uICh0YWcpIHsgcmV0dXJuIHBlcmYubWFyayh0YWcpOyB9O1xuICAgIG1lYXN1cmUgPSBmdW5jdGlvbiAobmFtZSwgc3RhcnRUYWcsIGVuZFRhZykge1xuICAgICAgcGVyZi5tZWFzdXJlKG5hbWUsIHN0YXJ0VGFnLCBlbmRUYWcpO1xuICAgICAgcGVyZi5jbGVhck1hcmtzKHN0YXJ0VGFnKTtcbiAgICAgIHBlcmYuY2xlYXJNYXJrcyhlbmRUYWcpO1xuICAgICAgLy8gcGVyZi5jbGVhck1lYXN1cmVzKG5hbWUpXG4gICAgfTtcbiAgfVxufVxuXG4vKiBub3QgdHlwZSBjaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBmbG93IGRvZXNuJ3QgcGxheSB3ZWxsIHdpdGggUHJveHkgKi9cblxudmFyIGluaXRQcm94eTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgdmFyIGFsbG93ZWRHbG9iYWxzID0gbWFrZU1hcChcbiAgICAnSW5maW5pdHksdW5kZWZpbmVkLE5hTixpc0Zpbml0ZSxpc05hTiwnICtcbiAgICAncGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsJyArXG4gICAgJ01hdGgsTnVtYmVyLERhdGUsQXJyYXksT2JqZWN0LEJvb2xlYW4sU3RyaW5nLFJlZ0V4cCxNYXAsU2V0LEpTT04sSW50bCwnICtcbiAgICAncmVxdWlyZScgLy8gZm9yIFdlYnBhY2svQnJvd3NlcmlmeVxuICApO1xuXG4gIHZhciB3YXJuTm9uUHJlc2VudCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgIHdhcm4oXG4gICAgICBcIlByb3BlcnR5IG9yIG1ldGhvZCBcXFwiXCIgKyBrZXkgKyBcIlxcXCIgaXMgbm90IGRlZmluZWQgb24gdGhlIGluc3RhbmNlIGJ1dCBcIiArXG4gICAgICAncmVmZXJlbmNlZCBkdXJpbmcgcmVuZGVyLiBNYWtlIHN1cmUgdGhhdCB0aGlzIHByb3BlcnR5IGlzIHJlYWN0aXZlLCAnICtcbiAgICAgICdlaXRoZXIgaW4gdGhlIGRhdGEgb3B0aW9uLCBvciBmb3IgY2xhc3MtYmFzZWQgY29tcG9uZW50cywgYnkgJyArXG4gICAgICAnaW5pdGlhbGl6aW5nIHRoZSBwcm9wZXJ0eS4gJyArXG4gICAgICAnU2VlOiBodHRwczovL3Z1ZWpzLm9yZy92Mi9ndWlkZS9yZWFjdGl2aXR5Lmh0bWwjRGVjbGFyaW5nLVJlYWN0aXZlLVByb3BlcnRpZXMuJyxcbiAgICAgIHRhcmdldFxuICAgICk7XG4gIH07XG5cbiAgdmFyIHdhcm5SZXNlcnZlZFByZWZpeCA9IGZ1bmN0aW9uICh0YXJnZXQsIGtleSkge1xuICAgIHdhcm4oXG4gICAgICBcIlByb3BlcnR5IFxcXCJcIiArIGtleSArIFwiXFxcIiBtdXN0IGJlIGFjY2Vzc2VkIHdpdGggXFxcIiRkYXRhLlwiICsga2V5ICsgXCJcXFwiIGJlY2F1c2UgXCIgK1xuICAgICAgJ3Byb3BlcnRpZXMgc3RhcnRpbmcgd2l0aCBcIiRcIiBvciBcIl9cIiBhcmUgbm90IHByb3hpZWQgaW4gdGhlIFZ1ZSBpbnN0YW5jZSB0byAnICtcbiAgICAgICdwcmV2ZW50IGNvbmZsaWN0cyB3aXRoIFZ1ZSBpbnRlcm5hbHMuICcgK1xuICAgICAgJ1NlZTogaHR0cHM6Ly92dWVqcy5vcmcvdjIvYXBpLyNkYXRhJyxcbiAgICAgIHRhcmdldFxuICAgICk7XG4gIH07XG5cbiAgdmFyIGhhc1Byb3h5ID1cbiAgICB0eXBlb2YgUHJveHkgIT09ICd1bmRlZmluZWQnICYmIGlzTmF0aXZlKFByb3h5KTtcblxuICBpZiAoaGFzUHJveHkpIHtcbiAgICB2YXIgaXNCdWlsdEluTW9kaWZpZXIgPSBtYWtlTWFwKCdzdG9wLHByZXZlbnQsc2VsZixjdHJsLHNoaWZ0LGFsdCxtZXRhLGV4YWN0Jyk7XG4gICAgY29uZmlnLmtleUNvZGVzID0gbmV3IFByb3h5KGNvbmZpZy5rZXlDb2Rlcywge1xuICAgICAgc2V0OiBmdW5jdGlvbiBzZXQgKHRhcmdldCwga2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaXNCdWlsdEluTW9kaWZpZXIoa2V5KSkge1xuICAgICAgICAgIHdhcm4oKFwiQXZvaWQgb3ZlcndyaXRpbmcgYnVpbHQtaW4gbW9kaWZpZXIgaW4gY29uZmlnLmtleUNvZGVzOiAuXCIgKyBrZXkpKTtcbiAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBoYXNIYW5kbGVyID0ge1xuICAgIGhhczogZnVuY3Rpb24gaGFzICh0YXJnZXQsIGtleSkge1xuICAgICAgdmFyIGhhcyA9IGtleSBpbiB0YXJnZXQ7XG4gICAgICB2YXIgaXNBbGxvd2VkID0gYWxsb3dlZEdsb2JhbHMoa2V5KSB8fFxuICAgICAgICAodHlwZW9mIGtleSA9PT0gJ3N0cmluZycgJiYga2V5LmNoYXJBdCgwKSA9PT0gJ18nICYmICEoa2V5IGluIHRhcmdldC4kZGF0YSkpO1xuICAgICAgaWYgKCFoYXMgJiYgIWlzQWxsb3dlZCkge1xuICAgICAgICBpZiAoa2V5IGluIHRhcmdldC4kZGF0YSkgeyB3YXJuUmVzZXJ2ZWRQcmVmaXgodGFyZ2V0LCBrZXkpOyB9XG4gICAgICAgIGVsc2UgeyB3YXJuTm9uUHJlc2VudCh0YXJnZXQsIGtleSk7IH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXMgfHwgIWlzQWxsb3dlZFxuICAgIH1cbiAgfTtcblxuICB2YXIgZ2V0SGFuZGxlciA9IHtcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCAodGFyZ2V0LCBrZXkpIHtcbiAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiAhKGtleSBpbiB0YXJnZXQpKSB7XG4gICAgICAgIGlmIChrZXkgaW4gdGFyZ2V0LiRkYXRhKSB7IHdhcm5SZXNlcnZlZFByZWZpeCh0YXJnZXQsIGtleSk7IH1cbiAgICAgICAgZWxzZSB7IHdhcm5Ob25QcmVzZW50KHRhcmdldCwga2V5KTsgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRhcmdldFtrZXldXG4gICAgfVxuICB9O1xuXG4gIGluaXRQcm94eSA9IGZ1bmN0aW9uIGluaXRQcm94eSAodm0pIHtcbiAgICBpZiAoaGFzUHJveHkpIHtcbiAgICAgIC8vIGRldGVybWluZSB3aGljaCBwcm94eSBoYW5kbGVyIHRvIHVzZVxuICAgICAgdmFyIG9wdGlvbnMgPSB2bS4kb3B0aW9ucztcbiAgICAgIHZhciBoYW5kbGVycyA9IG9wdGlvbnMucmVuZGVyICYmIG9wdGlvbnMucmVuZGVyLl93aXRoU3RyaXBwZWRcbiAgICAgICAgPyBnZXRIYW5kbGVyXG4gICAgICAgIDogaGFzSGFuZGxlcjtcbiAgICAgIHZtLl9yZW5kZXJQcm94eSA9IG5ldyBQcm94eSh2bSwgaGFuZGxlcnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2bS5fcmVuZGVyUHJveHkgPSB2bTtcbiAgICB9XG4gIH07XG59XG5cbi8qICAqL1xuXG52YXIgc2Vlbk9iamVjdHMgPSBuZXcgX1NldCgpO1xuXG4vKipcbiAqIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIGFuIG9iamVjdCB0byBldm9rZSBhbGwgY29udmVydGVkXG4gKiBnZXR0ZXJzLCBzbyB0aGF0IGV2ZXJ5IG5lc3RlZCBwcm9wZXJ0eSBpbnNpZGUgdGhlIG9iamVjdFxuICogaXMgY29sbGVjdGVkIGFzIGEgXCJkZWVwXCIgZGVwZW5kZW5jeS5cbiAqL1xuZnVuY3Rpb24gdHJhdmVyc2UgKHZhbCkge1xuICBfdHJhdmVyc2UodmFsLCBzZWVuT2JqZWN0cyk7XG4gIHNlZW5PYmplY3RzLmNsZWFyKCk7XG59XG5cbmZ1bmN0aW9uIF90cmF2ZXJzZSAodmFsLCBzZWVuKSB7XG4gIHZhciBpLCBrZXlzO1xuICB2YXIgaXNBID0gQXJyYXkuaXNBcnJheSh2YWwpO1xuICBpZiAoKCFpc0EgJiYgIWlzT2JqZWN0KHZhbCkpIHx8IE9iamVjdC5pc0Zyb3plbih2YWwpIHx8IHZhbCBpbnN0YW5jZW9mIFZOb2RlKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKHZhbC5fX29iX18pIHtcbiAgICB2YXIgZGVwSWQgPSB2YWwuX19vYl9fLmRlcC5pZDtcbiAgICBpZiAoc2Vlbi5oYXMoZGVwSWQpKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgc2Vlbi5hZGQoZGVwSWQpO1xuICB9XG4gIGlmIChpc0EpIHtcbiAgICBpID0gdmFsLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7IF90cmF2ZXJzZSh2YWxbaV0sIHNlZW4pOyB9XG4gIH0gZWxzZSB7XG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHZhbCk7XG4gICAgaSA9IGtleXMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHsgX3RyYXZlcnNlKHZhbFtrZXlzW2ldXSwgc2Vlbik7IH1cbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIG5vcm1hbGl6ZUV2ZW50ID0gY2FjaGVkKGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciBwYXNzaXZlID0gbmFtZS5jaGFyQXQoMCkgPT09ICcmJztcbiAgbmFtZSA9IHBhc3NpdmUgPyBuYW1lLnNsaWNlKDEpIDogbmFtZTtcbiAgdmFyIG9uY2UkJDEgPSBuYW1lLmNoYXJBdCgwKSA9PT0gJ34nOyAvLyBQcmVmaXhlZCBsYXN0LCBjaGVja2VkIGZpcnN0XG4gIG5hbWUgPSBvbmNlJCQxID8gbmFtZS5zbGljZSgxKSA6IG5hbWU7XG4gIHZhciBjYXB0dXJlID0gbmFtZS5jaGFyQXQoMCkgPT09ICchJztcbiAgbmFtZSA9IGNhcHR1cmUgPyBuYW1lLnNsaWNlKDEpIDogbmFtZTtcbiAgcmV0dXJuIHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIG9uY2U6IG9uY2UkJDEsXG4gICAgY2FwdHVyZTogY2FwdHVyZSxcbiAgICBwYXNzaXZlOiBwYXNzaXZlXG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBjcmVhdGVGbkludm9rZXIgKGZucywgdm0pIHtcbiAgZnVuY3Rpb24gaW52b2tlciAoKSB7XG4gICAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzO1xuXG4gICAgdmFyIGZucyA9IGludm9rZXIuZm5zO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZucykpIHtcbiAgICAgIHZhciBjbG9uZWQgPSBmbnMuc2xpY2UoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2xvbmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGludm9rZVdpdGhFcnJvckhhbmRsaW5nKGNsb25lZFtpXSwgbnVsbCwgYXJndW1lbnRzJDEsIHZtLCBcInYtb24gaGFuZGxlclwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmV0dXJuIGhhbmRsZXIgcmV0dXJuIHZhbHVlIGZvciBzaW5nbGUgaGFuZGxlcnNcbiAgICAgIHJldHVybiBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhmbnMsIG51bGwsIGFyZ3VtZW50cywgdm0sIFwidi1vbiBoYW5kbGVyXCIpXG4gICAgfVxuICB9XG4gIGludm9rZXIuZm5zID0gZm5zO1xuICByZXR1cm4gaW52b2tlclxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaXN0ZW5lcnMgKFxuICBvbixcbiAgb2xkT24sXG4gIGFkZCxcbiAgcmVtb3ZlJCQxLFxuICBjcmVhdGVPbmNlSGFuZGxlcixcbiAgdm1cbikge1xuICB2YXIgbmFtZSwgZGVmJCQxLCBjdXIsIG9sZCwgZXZlbnQ7XG4gIGZvciAobmFtZSBpbiBvbikge1xuICAgIGRlZiQkMSA9IGN1ciA9IG9uW25hbWVdO1xuICAgIG9sZCA9IG9sZE9uW25hbWVdO1xuICAgIGV2ZW50ID0gbm9ybWFsaXplRXZlbnQobmFtZSk7XG4gICAgaWYgKGlzVW5kZWYoY3VyKSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgICBcIkludmFsaWQgaGFuZGxlciBmb3IgZXZlbnQgXFxcIlwiICsgKGV2ZW50Lm5hbWUpICsgXCJcXFwiOiBnb3QgXCIgKyBTdHJpbmcoY3VyKSxcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChpc1VuZGVmKG9sZCkpIHtcbiAgICAgIGlmIChpc1VuZGVmKGN1ci5mbnMpKSB7XG4gICAgICAgIGN1ciA9IG9uW25hbWVdID0gY3JlYXRlRm5JbnZva2VyKGN1ciwgdm0pO1xuICAgICAgfVxuICAgICAgaWYgKGlzVHJ1ZShldmVudC5vbmNlKSkge1xuICAgICAgICBjdXIgPSBvbltuYW1lXSA9IGNyZWF0ZU9uY2VIYW5kbGVyKGV2ZW50Lm5hbWUsIGN1ciwgZXZlbnQuY2FwdHVyZSk7XG4gICAgICB9XG4gICAgICBhZGQoZXZlbnQubmFtZSwgY3VyLCBldmVudC5jYXB0dXJlLCBldmVudC5wYXNzaXZlLCBldmVudC5wYXJhbXMpO1xuICAgIH0gZWxzZSBpZiAoY3VyICE9PSBvbGQpIHtcbiAgICAgIG9sZC5mbnMgPSBjdXI7XG4gICAgICBvbltuYW1lXSA9IG9sZDtcbiAgICB9XG4gIH1cbiAgZm9yIChuYW1lIGluIG9sZE9uKSB7XG4gICAgaWYgKGlzVW5kZWYob25bbmFtZV0pKSB7XG4gICAgICBldmVudCA9IG5vcm1hbGl6ZUV2ZW50KG5hbWUpO1xuICAgICAgcmVtb3ZlJCQxKGV2ZW50Lm5hbWUsIG9sZE9uW25hbWVdLCBldmVudC5jYXB0dXJlKTtcbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIG1lcmdlVk5vZGVIb29rIChkZWYsIGhvb2tLZXksIGhvb2spIHtcbiAgaWYgKGRlZiBpbnN0YW5jZW9mIFZOb2RlKSB7XG4gICAgZGVmID0gZGVmLmRhdGEuaG9vayB8fCAoZGVmLmRhdGEuaG9vayA9IHt9KTtcbiAgfVxuICB2YXIgaW52b2tlcjtcbiAgdmFyIG9sZEhvb2sgPSBkZWZbaG9va0tleV07XG5cbiAgZnVuY3Rpb24gd3JhcHBlZEhvb2sgKCkge1xuICAgIGhvb2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAvLyBpbXBvcnRhbnQ6IHJlbW92ZSBtZXJnZWQgaG9vayB0byBlbnN1cmUgaXQncyBjYWxsZWQgb25seSBvbmNlXG4gICAgLy8gYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtcbiAgICByZW1vdmUoaW52b2tlci5mbnMsIHdyYXBwZWRIb29rKTtcbiAgfVxuXG4gIGlmIChpc1VuZGVmKG9sZEhvb2spKSB7XG4gICAgLy8gbm8gZXhpc3RpbmcgaG9va1xuICAgIGludm9rZXIgPSBjcmVhdGVGbkludm9rZXIoW3dyYXBwZWRIb29rXSk7XG4gIH0gZWxzZSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGlzRGVmKG9sZEhvb2suZm5zKSAmJiBpc1RydWUob2xkSG9vay5tZXJnZWQpKSB7XG4gICAgICAvLyBhbHJlYWR5IGEgbWVyZ2VkIGludm9rZXJcbiAgICAgIGludm9rZXIgPSBvbGRIb29rO1xuICAgICAgaW52b2tlci5mbnMucHVzaCh3cmFwcGVkSG9vayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGV4aXN0aW5nIHBsYWluIGhvb2tcbiAgICAgIGludm9rZXIgPSBjcmVhdGVGbkludm9rZXIoW29sZEhvb2ssIHdyYXBwZWRIb29rXSk7XG4gICAgfVxuICB9XG5cbiAgaW52b2tlci5tZXJnZWQgPSB0cnVlO1xuICBkZWZbaG9va0tleV0gPSBpbnZva2VyO1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YSAoXG4gIGRhdGEsXG4gIEN0b3IsXG4gIHRhZ1xuKSB7XG4gIC8vIHdlIGFyZSBvbmx5IGV4dHJhY3RpbmcgcmF3IHZhbHVlcyBoZXJlLlxuICAvLyB2YWxpZGF0aW9uIGFuZCBkZWZhdWx0IHZhbHVlcyBhcmUgaGFuZGxlZCBpbiB0aGUgY2hpbGRcbiAgLy8gY29tcG9uZW50IGl0c2VsZi5cbiAgdmFyIHByb3BPcHRpb25zID0gQ3Rvci5vcHRpb25zLnByb3BzO1xuICBpZiAoaXNVbmRlZihwcm9wT3B0aW9ucykpIHtcbiAgICByZXR1cm5cbiAgfVxuICB2YXIgcmVzID0ge307XG4gIHZhciBhdHRycyA9IGRhdGEuYXR0cnM7XG4gIHZhciBwcm9wcyA9IGRhdGEucHJvcHM7XG4gIGlmIChpc0RlZihhdHRycykgfHwgaXNEZWYocHJvcHMpKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHByb3BPcHRpb25zKSB7XG4gICAgICB2YXIgYWx0S2V5ID0gaHlwaGVuYXRlKGtleSk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YXIga2V5SW5Mb3dlckNhc2UgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGtleSAhPT0ga2V5SW5Mb3dlckNhc2UgJiZcbiAgICAgICAgICBhdHRycyAmJiBoYXNPd24oYXR0cnMsIGtleUluTG93ZXJDYXNlKVxuICAgICAgICApIHtcbiAgICAgICAgICB0aXAoXG4gICAgICAgICAgICBcIlByb3AgXFxcIlwiICsga2V5SW5Mb3dlckNhc2UgKyBcIlxcXCIgaXMgcGFzc2VkIHRvIGNvbXBvbmVudCBcIiArXG4gICAgICAgICAgICAoZm9ybWF0Q29tcG9uZW50TmFtZSh0YWcgfHwgQ3RvcikpICsgXCIsIGJ1dCB0aGUgZGVjbGFyZWQgcHJvcCBuYW1lIGlzXCIgK1xuICAgICAgICAgICAgXCIgXFxcIlwiICsga2V5ICsgXCJcXFwiLiBcIiArXG4gICAgICAgICAgICBcIk5vdGUgdGhhdCBIVE1MIGF0dHJpYnV0ZXMgYXJlIGNhc2UtaW5zZW5zaXRpdmUgYW5kIGNhbWVsQ2FzZWQgXCIgK1xuICAgICAgICAgICAgXCJwcm9wcyBuZWVkIHRvIHVzZSB0aGVpciBrZWJhYi1jYXNlIGVxdWl2YWxlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIFwiICtcbiAgICAgICAgICAgIFwidGVtcGxhdGVzLiBZb3Ugc2hvdWxkIHByb2JhYmx5IHVzZSBcXFwiXCIgKyBhbHRLZXkgKyBcIlxcXCIgaW5zdGVhZCBvZiBcXFwiXCIgKyBrZXkgKyBcIlxcXCIuXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjaGVja1Byb3AocmVzLCBwcm9wcywga2V5LCBhbHRLZXksIHRydWUpIHx8XG4gICAgICBjaGVja1Byb3AocmVzLCBhdHRycywga2V5LCBhbHRLZXksIGZhbHNlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBjaGVja1Byb3AgKFxuICByZXMsXG4gIGhhc2gsXG4gIGtleSxcbiAgYWx0S2V5LFxuICBwcmVzZXJ2ZVxuKSB7XG4gIGlmIChpc0RlZihoYXNoKSkge1xuICAgIGlmIChoYXNPd24oaGFzaCwga2V5KSkge1xuICAgICAgcmVzW2tleV0gPSBoYXNoW2tleV07XG4gICAgICBpZiAoIXByZXNlcnZlKSB7XG4gICAgICAgIGRlbGV0ZSBoYXNoW2tleV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gZWxzZSBpZiAoaGFzT3duKGhhc2gsIGFsdEtleSkpIHtcbiAgICAgIHJlc1trZXldID0gaGFzaFthbHRLZXldO1xuICAgICAgaWYgKCFwcmVzZXJ2ZSkge1xuICAgICAgICBkZWxldGUgaGFzaFthbHRLZXldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbi8qICAqL1xuXG4vLyBUaGUgdGVtcGxhdGUgY29tcGlsZXIgYXR0ZW1wdHMgdG8gbWluaW1pemUgdGhlIG5lZWQgZm9yIG5vcm1hbGl6YXRpb24gYnlcbi8vIHN0YXRpY2FsbHkgYW5hbHl6aW5nIHRoZSB0ZW1wbGF0ZSBhdCBjb21waWxlIHRpbWUuXG4vL1xuLy8gRm9yIHBsYWluIEhUTUwgbWFya3VwLCBub3JtYWxpemF0aW9uIGNhbiBiZSBjb21wbGV0ZWx5IHNraXBwZWQgYmVjYXVzZSB0aGVcbi8vIGdlbmVyYXRlZCByZW5kZXIgZnVuY3Rpb24gaXMgZ3VhcmFudGVlZCB0byByZXR1cm4gQXJyYXk8Vk5vZGU+LiBUaGVyZSBhcmVcbi8vIHR3byBjYXNlcyB3aGVyZSBleHRyYSBub3JtYWxpemF0aW9uIGlzIG5lZWRlZDpcblxuLy8gMS4gV2hlbiB0aGUgY2hpbGRyZW4gY29udGFpbnMgY29tcG9uZW50cyAtIGJlY2F1c2UgYSBmdW5jdGlvbmFsIGNvbXBvbmVudFxuLy8gbWF5IHJldHVybiBhbiBBcnJheSBpbnN0ZWFkIG9mIGEgc2luZ2xlIHJvb3QuIEluIHRoaXMgY2FzZSwganVzdCBhIHNpbXBsZVxuLy8gbm9ybWFsaXphdGlvbiBpcyBuZWVkZWQgLSBpZiBhbnkgY2hpbGQgaXMgYW4gQXJyYXksIHdlIGZsYXR0ZW4gdGhlIHdob2xlXG4vLyB0aGluZyB3aXRoIEFycmF5LnByb3RvdHlwZS5jb25jYXQuIEl0IGlzIGd1YXJhbnRlZWQgdG8gYmUgb25seSAxLWxldmVsIGRlZXBcbi8vIGJlY2F1c2UgZnVuY3Rpb25hbCBjb21wb25lbnRzIGFscmVhZHkgbm9ybWFsaXplIHRoZWlyIG93biBjaGlsZHJlbi5cbmZ1bmN0aW9uIHNpbXBsZU5vcm1hbGl6ZUNoaWxkcmVuIChjaGlsZHJlbikge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW5baV0pKSB7XG4gICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgY2hpbGRyZW4pXG4gICAgfVxuICB9XG4gIHJldHVybiBjaGlsZHJlblxufVxuXG4vLyAyLiBXaGVuIHRoZSBjaGlsZHJlbiBjb250YWlucyBjb25zdHJ1Y3RzIHRoYXQgYWx3YXlzIGdlbmVyYXRlZCBuZXN0ZWQgQXJyYXlzLFxuLy8gZS5nLiA8dGVtcGxhdGU+LCA8c2xvdD4sIHYtZm9yLCBvciB3aGVuIHRoZSBjaGlsZHJlbiBpcyBwcm92aWRlZCBieSB1c2VyXG4vLyB3aXRoIGhhbmQtd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zIC8gSlNYLiBJbiBzdWNoIGNhc2VzIGEgZnVsbCBub3JtYWxpemF0aW9uXG4vLyBpcyBuZWVkZWQgdG8gY2F0ZXIgdG8gYWxsIHBvc3NpYmxlIHR5cGVzIG9mIGNoaWxkcmVuIHZhbHVlcy5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUNoaWxkcmVuIChjaGlsZHJlbikge1xuICByZXR1cm4gaXNQcmltaXRpdmUoY2hpbGRyZW4pXG4gICAgPyBbY3JlYXRlVGV4dFZOb2RlKGNoaWxkcmVuKV1cbiAgICA6IEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pXG4gICAgICA/IG5vcm1hbGl6ZUFycmF5Q2hpbGRyZW4oY2hpbGRyZW4pXG4gICAgICA6IHVuZGVmaW5lZFxufVxuXG5mdW5jdGlvbiBpc1RleHROb2RlIChub2RlKSB7XG4gIHJldHVybiBpc0RlZihub2RlKSAmJiBpc0RlZihub2RlLnRleHQpICYmIGlzRmFsc2Uobm9kZS5pc0NvbW1lbnQpXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUFycmF5Q2hpbGRyZW4gKGNoaWxkcmVuLCBuZXN0ZWRJbmRleCkge1xuICB2YXIgcmVzID0gW107XG4gIHZhciBpLCBjLCBsYXN0SW5kZXgsIGxhc3Q7XG4gIGZvciAoaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGMgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoaXNVbmRlZihjKSB8fCB0eXBlb2YgYyA9PT0gJ2Jvb2xlYW4nKSB7IGNvbnRpbnVlIH1cbiAgICBsYXN0SW5kZXggPSByZXMubGVuZ3RoIC0gMTtcbiAgICBsYXN0ID0gcmVzW2xhc3RJbmRleF07XG4gICAgLy8gIG5lc3RlZFxuICAgIGlmIChBcnJheS5pc0FycmF5KGMpKSB7XG4gICAgICBpZiAoYy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGMgPSBub3JtYWxpemVBcnJheUNoaWxkcmVuKGMsICgobmVzdGVkSW5kZXggfHwgJycpICsgXCJfXCIgKyBpKSk7XG4gICAgICAgIC8vIG1lcmdlIGFkamFjZW50IHRleHQgbm9kZXNcbiAgICAgICAgaWYgKGlzVGV4dE5vZGUoY1swXSkgJiYgaXNUZXh0Tm9kZShsYXN0KSkge1xuICAgICAgICAgIHJlc1tsYXN0SW5kZXhdID0gY3JlYXRlVGV4dFZOb2RlKGxhc3QudGV4dCArIChjWzBdKS50ZXh0KTtcbiAgICAgICAgICBjLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnB1c2guYXBwbHkocmVzLCBjKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzUHJpbWl0aXZlKGMpKSB7XG4gICAgICBpZiAoaXNUZXh0Tm9kZShsYXN0KSkge1xuICAgICAgICAvLyBtZXJnZSBhZGphY2VudCB0ZXh0IG5vZGVzXG4gICAgICAgIC8vIHRoaXMgaXMgbmVjZXNzYXJ5IGZvciBTU1IgaHlkcmF0aW9uIGJlY2F1c2UgdGV4dCBub2RlcyBhcmVcbiAgICAgICAgLy8gZXNzZW50aWFsbHkgbWVyZ2VkIHdoZW4gcmVuZGVyZWQgdG8gSFRNTCBzdHJpbmdzXG4gICAgICAgIHJlc1tsYXN0SW5kZXhdID0gY3JlYXRlVGV4dFZOb2RlKGxhc3QudGV4dCArIGMpO1xuICAgICAgfSBlbHNlIGlmIChjICE9PSAnJykge1xuICAgICAgICAvLyBjb252ZXJ0IHByaW1pdGl2ZSB0byB2bm9kZVxuICAgICAgICByZXMucHVzaChjcmVhdGVUZXh0Vk5vZGUoYykpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaXNUZXh0Tm9kZShjKSAmJiBpc1RleHROb2RlKGxhc3QpKSB7XG4gICAgICAgIC8vIG1lcmdlIGFkamFjZW50IHRleHQgbm9kZXNcbiAgICAgICAgcmVzW2xhc3RJbmRleF0gPSBjcmVhdGVUZXh0Vk5vZGUobGFzdC50ZXh0ICsgYy50ZXh0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGRlZmF1bHQga2V5IGZvciBuZXN0ZWQgYXJyYXkgY2hpbGRyZW4gKGxpa2VseSBnZW5lcmF0ZWQgYnkgdi1mb3IpXG4gICAgICAgIGlmIChpc1RydWUoY2hpbGRyZW4uX2lzVkxpc3QpICYmXG4gICAgICAgICAgaXNEZWYoYy50YWcpICYmXG4gICAgICAgICAgaXNVbmRlZihjLmtleSkgJiZcbiAgICAgICAgICBpc0RlZihuZXN0ZWRJbmRleCkpIHtcbiAgICAgICAgICBjLmtleSA9IFwiX192bGlzdFwiICsgbmVzdGVkSW5kZXggKyBcIl9cIiArIGkgKyBcIl9fXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnB1c2goYyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRQcm92aWRlICh2bSkge1xuICB2YXIgcHJvdmlkZSA9IHZtLiRvcHRpb25zLnByb3ZpZGU7XG4gIGlmIChwcm92aWRlKSB7XG4gICAgdm0uX3Byb3ZpZGVkID0gdHlwZW9mIHByb3ZpZGUgPT09ICdmdW5jdGlvbidcbiAgICAgID8gcHJvdmlkZS5jYWxsKHZtKVxuICAgICAgOiBwcm92aWRlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRJbmplY3Rpb25zICh2bSkge1xuICB2YXIgcmVzdWx0ID0gcmVzb2x2ZUluamVjdCh2bS4kb3B0aW9ucy5pbmplY3QsIHZtKTtcbiAgaWYgKHJlc3VsdCkge1xuICAgIHRvZ2dsZU9ic2VydmluZyhmYWxzZSk7XG4gICAgT2JqZWN0LmtleXMocmVzdWx0KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwga2V5LCByZXN1bHRba2V5XSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICBcIkF2b2lkIG11dGF0aW5nIGFuIGluamVjdGVkIHZhbHVlIGRpcmVjdGx5IHNpbmNlIHRoZSBjaGFuZ2VzIHdpbGwgYmUgXCIgK1xuICAgICAgICAgICAgXCJvdmVyd3JpdHRlbiB3aGVuZXZlciB0aGUgcHJvdmlkZWQgY29tcG9uZW50IHJlLXJlbmRlcnMuIFwiICtcbiAgICAgICAgICAgIFwiaW5qZWN0aW9uIGJlaW5nIG11dGF0ZWQ6IFxcXCJcIiArIGtleSArIFwiXFxcIlwiLFxuICAgICAgICAgICAgdm1cbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlZmluZVJlYWN0aXZlJCQxKHZtLCBrZXksIHJlc3VsdFtrZXldKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0b2dnbGVPYnNlcnZpbmcodHJ1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUluamVjdCAoaW5qZWN0LCB2bSkge1xuICBpZiAoaW5qZWN0KSB7XG4gICAgLy8gaW5qZWN0IGlzIDphbnkgYmVjYXVzZSBmbG93IGlzIG5vdCBzbWFydCBlbm91Z2ggdG8gZmlndXJlIG91dCBjYWNoZWRcbiAgICB2YXIgcmVzdWx0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB2YXIga2V5cyA9IGhhc1N5bWJvbFxuICAgICAgPyBSZWZsZWN0Lm93bktleXMoaW5qZWN0KVxuICAgICAgOiBPYmplY3Qua2V5cyhpbmplY3QpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgIC8vICM2NTc0IGluIGNhc2UgdGhlIGluamVjdCBvYmplY3QgaXMgb2JzZXJ2ZWQuLi5cbiAgICAgIGlmIChrZXkgPT09ICdfX29iX18nKSB7IGNvbnRpbnVlIH1cbiAgICAgIHZhciBwcm92aWRlS2V5ID0gaW5qZWN0W2tleV0uZnJvbTtcbiAgICAgIHZhciBzb3VyY2UgPSB2bTtcbiAgICAgIHdoaWxlIChzb3VyY2UpIHtcbiAgICAgICAgaWYgKHNvdXJjZS5fcHJvdmlkZWQgJiYgaGFzT3duKHNvdXJjZS5fcHJvdmlkZWQsIHByb3ZpZGVLZXkpKSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSBzb3VyY2UuX3Byb3ZpZGVkW3Byb3ZpZGVLZXldO1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgc291cmNlID0gc291cmNlLiRwYXJlbnQ7XG4gICAgICB9XG4gICAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgICBpZiAoJ2RlZmF1bHQnIGluIGluamVjdFtrZXldKSB7XG4gICAgICAgICAgdmFyIHByb3ZpZGVEZWZhdWx0ID0gaW5qZWN0W2tleV0uZGVmYXVsdDtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHR5cGVvZiBwcm92aWRlRGVmYXVsdCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgPyBwcm92aWRlRGVmYXVsdC5jYWxsKHZtKVxuICAgICAgICAgICAgOiBwcm92aWRlRGVmYXVsdDtcbiAgICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgd2FybigoXCJJbmplY3Rpb24gXFxcIlwiICsga2V5ICsgXCJcXFwiIG5vdCBmb3VuZFwiKSwgdm0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuXG4vKiAgKi9cblxuXG5cbi8qKlxuICogUnVudGltZSBoZWxwZXIgZm9yIHJlc29sdmluZyByYXcgY2hpbGRyZW4gVk5vZGVzIGludG8gYSBzbG90IG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZVNsb3RzIChcbiAgY2hpbGRyZW4sXG4gIGNvbnRleHRcbikge1xuICBpZiAoIWNoaWxkcmVuIHx8ICFjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICByZXR1cm4ge31cbiAgfVxuICB2YXIgc2xvdHMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICB2YXIgZGF0YSA9IGNoaWxkLmRhdGE7XG4gICAgLy8gcmVtb3ZlIHNsb3QgYXR0cmlidXRlIGlmIHRoZSBub2RlIGlzIHJlc29sdmVkIGFzIGEgVnVlIHNsb3Qgbm9kZVxuICAgIGlmIChkYXRhICYmIGRhdGEuYXR0cnMgJiYgZGF0YS5hdHRycy5zbG90KSB7XG4gICAgICBkZWxldGUgZGF0YS5hdHRycy5zbG90O1xuICAgIH1cbiAgICAvLyBuYW1lZCBzbG90cyBzaG91bGQgb25seSBiZSByZXNwZWN0ZWQgaWYgdGhlIHZub2RlIHdhcyByZW5kZXJlZCBpbiB0aGVcbiAgICAvLyBzYW1lIGNvbnRleHQuXG4gICAgaWYgKChjaGlsZC5jb250ZXh0ID09PSBjb250ZXh0IHx8IGNoaWxkLmZuQ29udGV4dCA9PT0gY29udGV4dCkgJiZcbiAgICAgIGRhdGEgJiYgZGF0YS5zbG90ICE9IG51bGxcbiAgICApIHtcbiAgICAgIHZhciBuYW1lID0gZGF0YS5zbG90O1xuICAgICAgdmFyIHNsb3QgPSAoc2xvdHNbbmFtZV0gfHwgKHNsb3RzW25hbWVdID0gW10pKTtcbiAgICAgIGlmIChjaGlsZC50YWcgPT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgICAgc2xvdC5wdXNoLmFwcGx5KHNsb3QsIGNoaWxkLmNoaWxkcmVuIHx8IFtdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsb3QucHVzaChjaGlsZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIChzbG90cy5kZWZhdWx0IHx8IChzbG90cy5kZWZhdWx0ID0gW10pKS5wdXNoKGNoaWxkKTtcbiAgICB9XG4gIH1cbiAgLy8gaWdub3JlIHNsb3RzIHRoYXQgY29udGFpbnMgb25seSB3aGl0ZXNwYWNlXG4gIGZvciAodmFyIG5hbWUkMSBpbiBzbG90cykge1xuICAgIGlmIChzbG90c1tuYW1lJDFdLmV2ZXJ5KGlzV2hpdGVzcGFjZSkpIHtcbiAgICAgIGRlbGV0ZSBzbG90c1tuYW1lJDFdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2xvdHNcbn1cblxuZnVuY3Rpb24gaXNXaGl0ZXNwYWNlIChub2RlKSB7XG4gIHJldHVybiAobm9kZS5pc0NvbW1lbnQgJiYgIW5vZGUuYXN5bmNGYWN0b3J5KSB8fCBub2RlLnRleHQgPT09ICcgJ1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gbm9ybWFsaXplU2NvcGVkU2xvdHMgKFxuICBzbG90cyxcbiAgbm9ybWFsU2xvdHMsXG4gIHByZXZTbG90c1xuKSB7XG4gIHZhciByZXM7XG4gIHZhciBoYXNOb3JtYWxTbG90cyA9IE9iamVjdC5rZXlzKG5vcm1hbFNsb3RzKS5sZW5ndGggPiAwO1xuICB2YXIgaXNTdGFibGUgPSBzbG90cyA/ICEhc2xvdHMuJHN0YWJsZSA6ICFoYXNOb3JtYWxTbG90cztcbiAgdmFyIGtleSA9IHNsb3RzICYmIHNsb3RzLiRrZXk7XG4gIGlmICghc2xvdHMpIHtcbiAgICByZXMgPSB7fTtcbiAgfSBlbHNlIGlmIChzbG90cy5fbm9ybWFsaXplZCkge1xuICAgIC8vIGZhc3QgcGF0aCAxOiBjaGlsZCBjb21wb25lbnQgcmUtcmVuZGVyIG9ubHksIHBhcmVudCBkaWQgbm90IGNoYW5nZVxuICAgIHJldHVybiBzbG90cy5fbm9ybWFsaXplZFxuICB9IGVsc2UgaWYgKFxuICAgIGlzU3RhYmxlICYmXG4gICAgcHJldlNsb3RzICYmXG4gICAgcHJldlNsb3RzICE9PSBlbXB0eU9iamVjdCAmJlxuICAgIGtleSA9PT0gcHJldlNsb3RzLiRrZXkgJiZcbiAgICAhaGFzTm9ybWFsU2xvdHMgJiZcbiAgICAhcHJldlNsb3RzLiRoYXNOb3JtYWxcbiAgKSB7XG4gICAgLy8gZmFzdCBwYXRoIDI6IHN0YWJsZSBzY29wZWQgc2xvdHMgdy8gbm8gbm9ybWFsIHNsb3RzIHRvIHByb3h5LFxuICAgIC8vIG9ubHkgbmVlZCB0byBub3JtYWxpemUgb25jZVxuICAgIHJldHVybiBwcmV2U2xvdHNcbiAgfSBlbHNlIHtcbiAgICByZXMgPSB7fTtcbiAgICBmb3IgKHZhciBrZXkkMSBpbiBzbG90cykge1xuICAgICAgaWYgKHNsb3RzW2tleSQxXSAmJiBrZXkkMVswXSAhPT0gJyQnKSB7XG4gICAgICAgIHJlc1trZXkkMV0gPSBub3JtYWxpemVTY29wZWRTbG90KG5vcm1hbFNsb3RzLCBrZXkkMSwgc2xvdHNba2V5JDFdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLy8gZXhwb3NlIG5vcm1hbCBzbG90cyBvbiBzY29wZWRTbG90c1xuICBmb3IgKHZhciBrZXkkMiBpbiBub3JtYWxTbG90cykge1xuICAgIGlmICghKGtleSQyIGluIHJlcykpIHtcbiAgICAgIHJlc1trZXkkMl0gPSBwcm94eU5vcm1hbFNsb3Qobm9ybWFsU2xvdHMsIGtleSQyKTtcbiAgICB9XG4gIH1cbiAgLy8gYXZvcmlheiBzZWVtcyB0byBtb2NrIGEgbm9uLWV4dGVuc2libGUgJHNjb3BlZFNsb3RzIG9iamVjdFxuICAvLyBhbmQgd2hlbiB0aGF0IGlzIHBhc3NlZCBkb3duIHRoaXMgd291bGQgY2F1c2UgYW4gZXJyb3JcbiAgaWYgKHNsb3RzICYmIE9iamVjdC5pc0V4dGVuc2libGUoc2xvdHMpKSB7XG4gICAgKHNsb3RzKS5fbm9ybWFsaXplZCA9IHJlcztcbiAgfVxuICBkZWYocmVzLCAnJHN0YWJsZScsIGlzU3RhYmxlKTtcbiAgZGVmKHJlcywgJyRrZXknLCBrZXkpO1xuICBkZWYocmVzLCAnJGhhc05vcm1hbCcsIGhhc05vcm1hbFNsb3RzKTtcbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVTY29wZWRTbG90KG5vcm1hbFNsb3RzLCBrZXksIGZuKSB7XG4gIHZhciBub3JtYWxpemVkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXMgPSBhcmd1bWVudHMubGVuZ3RoID8gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKSA6IGZuKHt9KTtcbiAgICByZXMgPSByZXMgJiYgdHlwZW9mIHJlcyA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkocmVzKVxuICAgICAgPyBbcmVzXSAvLyBzaW5nbGUgdm5vZGVcbiAgICAgIDogbm9ybWFsaXplQ2hpbGRyZW4ocmVzKTtcbiAgICByZXR1cm4gcmVzICYmIChcbiAgICAgIHJlcy5sZW5ndGggPT09IDAgfHxcbiAgICAgIChyZXMubGVuZ3RoID09PSAxICYmIHJlc1swXS5pc0NvbW1lbnQpIC8vICM5NjU4XG4gICAgKSA/IHVuZGVmaW5lZFxuICAgICAgOiByZXNcbiAgfTtcbiAgLy8gdGhpcyBpcyBhIHNsb3QgdXNpbmcgdGhlIG5ldyB2LXNsb3Qgc3ludGF4IHdpdGhvdXQgc2NvcGUuIGFsdGhvdWdoIGl0IGlzXG4gIC8vIGNvbXBpbGVkIGFzIGEgc2NvcGVkIHNsb3QsIHJlbmRlciBmbiB1c2VycyB3b3VsZCBleHBlY3QgaXQgdG8gYmUgcHJlc2VudFxuICAvLyBvbiB0aGlzLiRzbG90cyBiZWNhdXNlIHRoZSB1c2FnZSBpcyBzZW1hbnRpY2FsbHkgYSBub3JtYWwgc2xvdC5cbiAgaWYgKGZuLnByb3h5KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vcm1hbFNsb3RzLCBrZXksIHtcbiAgICAgIGdldDogbm9ybWFsaXplZCxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZFxufVxuXG5mdW5jdGlvbiBwcm94eU5vcm1hbFNsb3Qoc2xvdHMsIGtleSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gc2xvdHNba2V5XTsgfVxufVxuXG4vKiAgKi9cblxuLyoqXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgcmVuZGVyaW5nIHYtZm9yIGxpc3RzLlxuICovXG5mdW5jdGlvbiByZW5kZXJMaXN0IChcbiAgdmFsLFxuICByZW5kZXJcbikge1xuICB2YXIgcmV0LCBpLCBsLCBrZXlzLCBrZXk7XG4gIGlmIChBcnJheS5pc0FycmF5KHZhbCkgfHwgdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcbiAgICByZXQgPSBuZXcgQXJyYXkodmFsLmxlbmd0aCk7XG4gICAgZm9yIChpID0gMCwgbCA9IHZhbC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIHJldFtpXSA9IHJlbmRlcih2YWxbaV0sIGkpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsID09PSAnbnVtYmVyJykge1xuICAgIHJldCA9IG5ldyBBcnJheSh2YWwpO1xuICAgIGZvciAoaSA9IDA7IGkgPCB2YWw7IGkrKykge1xuICAgICAgcmV0W2ldID0gcmVuZGVyKGkgKyAxLCBpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSkge1xuICAgIGlmIChoYXNTeW1ib2wgJiYgdmFsW1N5bWJvbC5pdGVyYXRvcl0pIHtcbiAgICAgIHJldCA9IFtdO1xuICAgICAgdmFyIGl0ZXJhdG9yID0gdmFsW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgIHZhciByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICB3aGlsZSAoIXJlc3VsdC5kb25lKSB7XG4gICAgICAgIHJldC5wdXNoKHJlbmRlcihyZXN1bHQudmFsdWUsIHJldC5sZW5ndGgpKTtcbiAgICAgICAgcmVzdWx0ID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBrZXlzID0gT2JqZWN0LmtleXModmFsKTtcbiAgICAgIHJldCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gICAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgcmV0W2ldID0gcmVuZGVyKHZhbFtrZXldLCBrZXksIGkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBpZiAoIWlzRGVmKHJldCkpIHtcbiAgICByZXQgPSBbXTtcbiAgfVxuICAocmV0KS5faXNWTGlzdCA9IHRydWU7XG4gIHJldHVybiByZXRcbn1cblxuLyogICovXG5cbi8qKlxuICogUnVudGltZSBoZWxwZXIgZm9yIHJlbmRlcmluZyA8c2xvdD5cbiAqL1xuZnVuY3Rpb24gcmVuZGVyU2xvdCAoXG4gIG5hbWUsXG4gIGZhbGxiYWNrLFxuICBwcm9wcyxcbiAgYmluZE9iamVjdFxuKSB7XG4gIHZhciBzY29wZWRTbG90Rm4gPSB0aGlzLiRzY29wZWRTbG90c1tuYW1lXTtcbiAgdmFyIG5vZGVzO1xuICBpZiAoc2NvcGVkU2xvdEZuKSB7IC8vIHNjb3BlZCBzbG90XG4gICAgcHJvcHMgPSBwcm9wcyB8fCB7fTtcbiAgICBpZiAoYmluZE9iamVjdCkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgIWlzT2JqZWN0KGJpbmRPYmplY3QpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgJ3Nsb3Qgdi1iaW5kIHdpdGhvdXQgYXJndW1lbnQgZXhwZWN0cyBhbiBPYmplY3QnLFxuICAgICAgICAgIHRoaXNcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHByb3BzID0gZXh0ZW5kKGV4dGVuZCh7fSwgYmluZE9iamVjdCksIHByb3BzKTtcbiAgICB9XG4gICAgbm9kZXMgPSBzY29wZWRTbG90Rm4ocHJvcHMpIHx8IGZhbGxiYWNrO1xuICB9IGVsc2Uge1xuICAgIG5vZGVzID0gdGhpcy4kc2xvdHNbbmFtZV0gfHwgZmFsbGJhY2s7XG4gIH1cblxuICB2YXIgdGFyZ2V0ID0gcHJvcHMgJiYgcHJvcHMuc2xvdDtcbiAgaWYgKHRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScsIHsgc2xvdDogdGFyZ2V0IH0sIG5vZGVzKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBub2Rlc1xuICB9XG59XG5cbi8qICAqL1xuXG4vKipcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciByZXNvbHZpbmcgZmlsdGVyc1xuICovXG5mdW5jdGlvbiByZXNvbHZlRmlsdGVyIChpZCkge1xuICByZXR1cm4gcmVzb2x2ZUFzc2V0KHRoaXMuJG9wdGlvbnMsICdmaWx0ZXJzJywgaWQsIHRydWUpIHx8IGlkZW50aXR5XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpc0tleU5vdE1hdGNoIChleHBlY3QsIGFjdHVhbCkge1xuICBpZiAoQXJyYXkuaXNBcnJheShleHBlY3QpKSB7XG4gICAgcmV0dXJuIGV4cGVjdC5pbmRleE9mKGFjdHVhbCkgPT09IC0xXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV4cGVjdCAhPT0gYWN0dWFsXG4gIH1cbn1cblxuLyoqXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgY2hlY2tpbmcga2V5Q29kZXMgZnJvbSBjb25maWcuXG4gKiBleHBvc2VkIGFzIFZ1ZS5wcm90b3R5cGUuX2tcbiAqIHBhc3NpbmcgaW4gZXZlbnRLZXlOYW1lIGFzIGxhc3QgYXJndW1lbnQgc2VwYXJhdGVseSBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICovXG5mdW5jdGlvbiBjaGVja0tleUNvZGVzIChcbiAgZXZlbnRLZXlDb2RlLFxuICBrZXksXG4gIGJ1aWx0SW5LZXlDb2RlLFxuICBldmVudEtleU5hbWUsXG4gIGJ1aWx0SW5LZXlOYW1lXG4pIHtcbiAgdmFyIG1hcHBlZEtleUNvZGUgPSBjb25maWcua2V5Q29kZXNba2V5XSB8fCBidWlsdEluS2V5Q29kZTtcbiAgaWYgKGJ1aWx0SW5LZXlOYW1lICYmIGV2ZW50S2V5TmFtZSAmJiAhY29uZmlnLmtleUNvZGVzW2tleV0pIHtcbiAgICByZXR1cm4gaXNLZXlOb3RNYXRjaChidWlsdEluS2V5TmFtZSwgZXZlbnRLZXlOYW1lKVxuICB9IGVsc2UgaWYgKG1hcHBlZEtleUNvZGUpIHtcbiAgICByZXR1cm4gaXNLZXlOb3RNYXRjaChtYXBwZWRLZXlDb2RlLCBldmVudEtleUNvZGUpXG4gIH0gZWxzZSBpZiAoZXZlbnRLZXlOYW1lKSB7XG4gICAgcmV0dXJuIGh5cGhlbmF0ZShldmVudEtleU5hbWUpICE9PSBrZXlcbiAgfVxufVxuXG4vKiAgKi9cblxuLyoqXG4gKiBSdW50aW1lIGhlbHBlciBmb3IgbWVyZ2luZyB2LWJpbmQ9XCJvYmplY3RcIiBpbnRvIGEgVk5vZGUncyBkYXRhLlxuICovXG5mdW5jdGlvbiBiaW5kT2JqZWN0UHJvcHMgKFxuICBkYXRhLFxuICB0YWcsXG4gIHZhbHVlLFxuICBhc1Byb3AsXG4gIGlzU3luY1xuKSB7XG4gIGlmICh2YWx1ZSkge1xuICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgICd2LWJpbmQgd2l0aG91dCBhcmd1bWVudCBleHBlY3RzIGFuIE9iamVjdCBvciBBcnJheSB2YWx1ZScsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9IHRvT2JqZWN0KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHZhciBoYXNoO1xuICAgICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGtleSApIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGtleSA9PT0gJ2NsYXNzJyB8fFxuICAgICAgICAgIGtleSA9PT0gJ3N0eWxlJyB8fFxuICAgICAgICAgIGlzUmVzZXJ2ZWRBdHRyaWJ1dGUoa2V5KVxuICAgICAgICApIHtcbiAgICAgICAgICBoYXNoID0gZGF0YTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgdHlwZSA9IGRhdGEuYXR0cnMgJiYgZGF0YS5hdHRycy50eXBlO1xuICAgICAgICAgIGhhc2ggPSBhc1Byb3AgfHwgY29uZmlnLm11c3RVc2VQcm9wKHRhZywgdHlwZSwga2V5KVxuICAgICAgICAgICAgPyBkYXRhLmRvbVByb3BzIHx8IChkYXRhLmRvbVByb3BzID0ge30pXG4gICAgICAgICAgICA6IGRhdGEuYXR0cnMgfHwgKGRhdGEuYXR0cnMgPSB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbWVsaXplZEtleSA9IGNhbWVsaXplKGtleSk7XG4gICAgICAgIHZhciBoeXBoZW5hdGVkS2V5ID0gaHlwaGVuYXRlKGtleSk7XG4gICAgICAgIGlmICghKGNhbWVsaXplZEtleSBpbiBoYXNoKSAmJiAhKGh5cGhlbmF0ZWRLZXkgaW4gaGFzaCkpIHtcbiAgICAgICAgICBoYXNoW2tleV0gPSB2YWx1ZVtrZXldO1xuXG4gICAgICAgICAgaWYgKGlzU3luYykge1xuICAgICAgICAgICAgdmFyIG9uID0gZGF0YS5vbiB8fCAoZGF0YS5vbiA9IHt9KTtcbiAgICAgICAgICAgIG9uWyhcInVwZGF0ZTpcIiArIGtleSldID0gZnVuY3Rpb24gKCRldmVudCkge1xuICAgICAgICAgICAgICB2YWx1ZVtrZXldID0gJGV2ZW50O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkgbG9vcCgga2V5ICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhXG59XG5cbi8qICAqL1xuXG4vKipcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciByZW5kZXJpbmcgc3RhdGljIHRyZWVzLlxuICovXG5mdW5jdGlvbiByZW5kZXJTdGF0aWMgKFxuICBpbmRleCxcbiAgaXNJbkZvclxuKSB7XG4gIHZhciBjYWNoZWQgPSB0aGlzLl9zdGF0aWNUcmVlcyB8fCAodGhpcy5fc3RhdGljVHJlZXMgPSBbXSk7XG4gIHZhciB0cmVlID0gY2FjaGVkW2luZGV4XTtcbiAgLy8gaWYgaGFzIGFscmVhZHktcmVuZGVyZWQgc3RhdGljIHRyZWUgYW5kIG5vdCBpbnNpZGUgdi1mb3IsXG4gIC8vIHdlIGNhbiByZXVzZSB0aGUgc2FtZSB0cmVlLlxuICBpZiAodHJlZSAmJiAhaXNJbkZvcikge1xuICAgIHJldHVybiB0cmVlXG4gIH1cbiAgLy8gb3RoZXJ3aXNlLCByZW5kZXIgYSBmcmVzaCB0cmVlLlxuICB0cmVlID0gY2FjaGVkW2luZGV4XSA9IHRoaXMuJG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zW2luZGV4XS5jYWxsKFxuICAgIHRoaXMuX3JlbmRlclByb3h5LFxuICAgIG51bGwsXG4gICAgdGhpcyAvLyBmb3IgcmVuZGVyIGZucyBnZW5lcmF0ZWQgZm9yIGZ1bmN0aW9uYWwgY29tcG9uZW50IHRlbXBsYXRlc1xuICApO1xuICBtYXJrU3RhdGljKHRyZWUsIChcIl9fc3RhdGljX19cIiArIGluZGV4KSwgZmFsc2UpO1xuICByZXR1cm4gdHJlZVxufVxuXG4vKipcbiAqIFJ1bnRpbWUgaGVscGVyIGZvciB2LW9uY2UuXG4gKiBFZmZlY3RpdmVseSBpdCBtZWFucyBtYXJraW5nIHRoZSBub2RlIGFzIHN0YXRpYyB3aXRoIGEgdW5pcXVlIGtleS5cbiAqL1xuZnVuY3Rpb24gbWFya09uY2UgKFxuICB0cmVlLFxuICBpbmRleCxcbiAga2V5XG4pIHtcbiAgbWFya1N0YXRpYyh0cmVlLCAoXCJfX29uY2VfX1wiICsgaW5kZXggKyAoa2V5ID8gKFwiX1wiICsga2V5KSA6IFwiXCIpKSwgdHJ1ZSk7XG4gIHJldHVybiB0cmVlXG59XG5cbmZ1bmN0aW9uIG1hcmtTdGF0aWMgKFxuICB0cmVlLFxuICBrZXksXG4gIGlzT25jZVxuKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHRyZWUpKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodHJlZVtpXSAmJiB0eXBlb2YgdHJlZVtpXSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgbWFya1N0YXRpY05vZGUodHJlZVtpXSwgKGtleSArIFwiX1wiICsgaSksIGlzT25jZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG1hcmtTdGF0aWNOb2RlKHRyZWUsIGtleSwgaXNPbmNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXJrU3RhdGljTm9kZSAobm9kZSwga2V5LCBpc09uY2UpIHtcbiAgbm9kZS5pc1N0YXRpYyA9IHRydWU7XG4gIG5vZGUua2V5ID0ga2V5O1xuICBub2RlLmlzT25jZSA9IGlzT25jZTtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGJpbmRPYmplY3RMaXN0ZW5lcnMgKGRhdGEsIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSkge1xuICAgIGlmICghaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgJ3Ytb24gd2l0aG91dCBhcmd1bWVudCBleHBlY3RzIGFuIE9iamVjdCB2YWx1ZScsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBvbiA9IGRhdGEub24gPSBkYXRhLm9uID8gZXh0ZW5kKHt9LCBkYXRhLm9uKSA6IHt9O1xuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIHZhciBleGlzdGluZyA9IG9uW2tleV07XG4gICAgICAgIHZhciBvdXJzID0gdmFsdWVba2V5XTtcbiAgICAgICAgb25ba2V5XSA9IGV4aXN0aW5nID8gW10uY29uY2F0KGV4aXN0aW5nLCBvdXJzKSA6IG91cnM7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBkYXRhXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiByZXNvbHZlU2NvcGVkU2xvdHMgKFxuICBmbnMsIC8vIHNlZSBmbG93L3Zub2RlXG4gIHJlcyxcbiAgLy8gdGhlIGZvbGxvd2luZyBhcmUgYWRkZWQgaW4gMi42XG4gIGhhc0R5bmFtaWNLZXlzLFxuICBjb250ZW50SGFzaEtleVxuKSB7XG4gIHJlcyA9IHJlcyB8fCB7ICRzdGFibGU6ICFoYXNEeW5hbWljS2V5cyB9O1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGZucy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBzbG90ID0gZm5zW2ldO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNsb3QpKSB7XG4gICAgICByZXNvbHZlU2NvcGVkU2xvdHMoc2xvdCwgcmVzLCBoYXNEeW5hbWljS2V5cyk7XG4gICAgfSBlbHNlIGlmIChzbG90KSB7XG4gICAgICAvLyBtYXJrZXIgZm9yIHJldmVyc2UgcHJveHlpbmcgdi1zbG90IHdpdGhvdXQgc2NvcGUgb24gdGhpcy4kc2xvdHNcbiAgICAgIGlmIChzbG90LnByb3h5KSB7XG4gICAgICAgIHNsb3QuZm4ucHJveHkgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmVzW3Nsb3Qua2V5XSA9IHNsb3QuZm47XG4gICAgfVxuICB9XG4gIGlmIChjb250ZW50SGFzaEtleSkge1xuICAgIChyZXMpLiRrZXkgPSBjb250ZW50SGFzaEtleTtcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBiaW5kRHluYW1pY0tleXMgKGJhc2VPYmosIHZhbHVlcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkgKz0gMikge1xuICAgIHZhciBrZXkgPSB2YWx1ZXNbaV07XG4gICAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGtleSkge1xuICAgICAgYmFzZU9ialt2YWx1ZXNbaV1dID0gdmFsdWVzW2kgKyAxXTtcbiAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYga2V5ICE9PSAnJyAmJiBrZXkgIT09IG51bGwpIHtcbiAgICAgIC8vIG51bGwgaXMgYSBzcGVjaWFsIHZhbHVlIGZvciBleHBsaWNpdGx5IHJlbW92aW5nIGEgYmluZGluZ1xuICAgICAgd2FybihcbiAgICAgICAgKFwiSW52YWxpZCB2YWx1ZSBmb3IgZHluYW1pYyBkaXJlY3RpdmUgYXJndW1lbnQgKGV4cGVjdGVkIHN0cmluZyBvciBudWxsKTogXCIgKyBrZXkpLFxuICAgICAgICB0aGlzXG4gICAgICApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYmFzZU9ialxufVxuXG4vLyBoZWxwZXIgdG8gZHluYW1pY2FsbHkgYXBwZW5kIG1vZGlmaWVyIHJ1bnRpbWUgbWFya2VycyB0byBldmVudCBuYW1lcy5cbi8vIGVuc3VyZSBvbmx5IGFwcGVuZCB3aGVuIHZhbHVlIGlzIGFscmVhZHkgc3RyaW5nLCBvdGhlcndpc2UgaXQgd2lsbCBiZSBjYXN0XG4vLyB0byBzdHJpbmcgYW5kIGNhdXNlIHRoZSB0eXBlIGNoZWNrIHRvIG1pc3MuXG5mdW5jdGlvbiBwcmVwZW5kTW9kaWZpZXIgKHZhbHVlLCBzeW1ib2wpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBzeW1ib2wgKyB2YWx1ZSA6IHZhbHVlXG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbnN0YWxsUmVuZGVySGVscGVycyAodGFyZ2V0KSB7XG4gIHRhcmdldC5fbyA9IG1hcmtPbmNlO1xuICB0YXJnZXQuX24gPSB0b051bWJlcjtcbiAgdGFyZ2V0Ll9zID0gdG9TdHJpbmc7XG4gIHRhcmdldC5fbCA9IHJlbmRlckxpc3Q7XG4gIHRhcmdldC5fdCA9IHJlbmRlclNsb3Q7XG4gIHRhcmdldC5fcSA9IGxvb3NlRXF1YWw7XG4gIHRhcmdldC5faSA9IGxvb3NlSW5kZXhPZjtcbiAgdGFyZ2V0Ll9tID0gcmVuZGVyU3RhdGljO1xuICB0YXJnZXQuX2YgPSByZXNvbHZlRmlsdGVyO1xuICB0YXJnZXQuX2sgPSBjaGVja0tleUNvZGVzO1xuICB0YXJnZXQuX2IgPSBiaW5kT2JqZWN0UHJvcHM7XG4gIHRhcmdldC5fdiA9IGNyZWF0ZVRleHRWTm9kZTtcbiAgdGFyZ2V0Ll9lID0gY3JlYXRlRW1wdHlWTm9kZTtcbiAgdGFyZ2V0Ll91ID0gcmVzb2x2ZVNjb3BlZFNsb3RzO1xuICB0YXJnZXQuX2cgPSBiaW5kT2JqZWN0TGlzdGVuZXJzO1xuICB0YXJnZXQuX2QgPSBiaW5kRHluYW1pY0tleXM7XG4gIHRhcmdldC5fcCA9IHByZXBlbmRNb2RpZmllcjtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0IChcbiAgZGF0YSxcbiAgcHJvcHMsXG4gIGNoaWxkcmVuLFxuICBwYXJlbnQsXG4gIEN0b3Jcbikge1xuICB2YXIgdGhpcyQxID0gdGhpcztcblxuICB2YXIgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucztcbiAgLy8gZW5zdXJlIHRoZSBjcmVhdGVFbGVtZW50IGZ1bmN0aW9uIGluIGZ1bmN0aW9uYWwgY29tcG9uZW50c1xuICAvLyBnZXRzIGEgdW5pcXVlIGNvbnRleHQgLSB0aGlzIGlzIG5lY2Vzc2FyeSBmb3IgY29ycmVjdCBuYW1lZCBzbG90IGNoZWNrXG4gIHZhciBjb250ZXh0Vm07XG4gIGlmIChoYXNPd24ocGFyZW50LCAnX3VpZCcpKSB7XG4gICAgY29udGV4dFZtID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQpO1xuICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxuICAgIGNvbnRleHRWbS5fb3JpZ2luYWwgPSBwYXJlbnQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gdGhlIGNvbnRleHQgdm0gcGFzc2VkIGluIGlzIGEgZnVuY3Rpb25hbCBjb250ZXh0IGFzIHdlbGwuXG4gICAgLy8gaW4gdGhpcyBjYXNlIHdlIHdhbnQgdG8gbWFrZSBzdXJlIHdlIGFyZSBhYmxlIHRvIGdldCBhIGhvbGQgdG8gdGhlXG4gICAgLy8gcmVhbCBjb250ZXh0IGluc3RhbmNlLlxuICAgIGNvbnRleHRWbSA9IHBhcmVudDtcbiAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAgICBwYXJlbnQgPSBwYXJlbnQuX29yaWdpbmFsO1xuICB9XG4gIHZhciBpc0NvbXBpbGVkID0gaXNUcnVlKG9wdGlvbnMuX2NvbXBpbGVkKTtcbiAgdmFyIG5lZWROb3JtYWxpemF0aW9uID0gIWlzQ29tcGlsZWQ7XG5cbiAgdGhpcy5kYXRhID0gZGF0YTtcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICB0aGlzLmxpc3RlbmVycyA9IGRhdGEub24gfHwgZW1wdHlPYmplY3Q7XG4gIHRoaXMuaW5qZWN0aW9ucyA9IHJlc29sdmVJbmplY3Qob3B0aW9ucy5pbmplY3QsIHBhcmVudCk7XG4gIHRoaXMuc2xvdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzJDEuJHNsb3RzKSB7XG4gICAgICBub3JtYWxpemVTY29wZWRTbG90cyhcbiAgICAgICAgZGF0YS5zY29wZWRTbG90cyxcbiAgICAgICAgdGhpcyQxLiRzbG90cyA9IHJlc29sdmVTbG90cyhjaGlsZHJlbiwgcGFyZW50KVxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMkMS4kc2xvdHNcbiAgfTtcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Njb3BlZFNsb3RzJywgKHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0ICgpIHtcbiAgICAgIHJldHVybiBub3JtYWxpemVTY29wZWRTbG90cyhkYXRhLnNjb3BlZFNsb3RzLCB0aGlzLnNsb3RzKCkpXG4gICAgfVxuICB9KSk7XG5cbiAgLy8gc3VwcG9ydCBmb3IgY29tcGlsZWQgZnVuY3Rpb25hbCB0ZW1wbGF0ZVxuICBpZiAoaXNDb21waWxlZCkge1xuICAgIC8vIGV4cG9zaW5nICRvcHRpb25zIGZvciByZW5kZXJTdGF0aWMoKVxuICAgIHRoaXMuJG9wdGlvbnMgPSBvcHRpb25zO1xuICAgIC8vIHByZS1yZXNvbHZlIHNsb3RzIGZvciByZW5kZXJTbG90KClcbiAgICB0aGlzLiRzbG90cyA9IHRoaXMuc2xvdHMoKTtcbiAgICB0aGlzLiRzY29wZWRTbG90cyA9IG5vcm1hbGl6ZVNjb3BlZFNsb3RzKGRhdGEuc2NvcGVkU2xvdHMsIHRoaXMuJHNsb3RzKTtcbiAgfVxuXG4gIGlmIChvcHRpb25zLl9zY29wZUlkKSB7XG4gICAgdGhpcy5fYyA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7XG4gICAgICB2YXIgdm5vZGUgPSBjcmVhdGVFbGVtZW50KGNvbnRleHRWbSwgYSwgYiwgYywgZCwgbmVlZE5vcm1hbGl6YXRpb24pO1xuICAgICAgaWYgKHZub2RlICYmICFBcnJheS5pc0FycmF5KHZub2RlKSkge1xuICAgICAgICB2bm9kZS5mblNjb3BlSWQgPSBvcHRpb25zLl9zY29wZUlkO1xuICAgICAgICB2bm9kZS5mbkNvbnRleHQgPSBwYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm5vZGVcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHRoaXMuX2MgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCkgeyByZXR1cm4gY3JlYXRlRWxlbWVudChjb250ZXh0Vm0sIGEsIGIsIGMsIGQsIG5lZWROb3JtYWxpemF0aW9uKTsgfTtcbiAgfVxufVxuXG5pbnN0YWxsUmVuZGVySGVscGVycyhGdW5jdGlvbmFsUmVuZGVyQ29udGV4dC5wcm90b3R5cGUpO1xuXG5mdW5jdGlvbiBjcmVhdGVGdW5jdGlvbmFsQ29tcG9uZW50IChcbiAgQ3RvcixcbiAgcHJvcHNEYXRhLFxuICBkYXRhLFxuICBjb250ZXh0Vm0sXG4gIGNoaWxkcmVuXG4pIHtcbiAgdmFyIG9wdGlvbnMgPSBDdG9yLm9wdGlvbnM7XG4gIHZhciBwcm9wcyA9IHt9O1xuICB2YXIgcHJvcE9wdGlvbnMgPSBvcHRpb25zLnByb3BzO1xuICBpZiAoaXNEZWYocHJvcE9wdGlvbnMpKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHByb3BPcHRpb25zKSB7XG4gICAgICBwcm9wc1trZXldID0gdmFsaWRhdGVQcm9wKGtleSwgcHJvcE9wdGlvbnMsIHByb3BzRGF0YSB8fCBlbXB0eU9iamVjdCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChpc0RlZihkYXRhLmF0dHJzKSkgeyBtZXJnZVByb3BzKHByb3BzLCBkYXRhLmF0dHJzKTsgfVxuICAgIGlmIChpc0RlZihkYXRhLnByb3BzKSkgeyBtZXJnZVByb3BzKHByb3BzLCBkYXRhLnByb3BzKTsgfVxuICB9XG5cbiAgdmFyIHJlbmRlckNvbnRleHQgPSBuZXcgRnVuY3Rpb25hbFJlbmRlckNvbnRleHQoXG4gICAgZGF0YSxcbiAgICBwcm9wcyxcbiAgICBjaGlsZHJlbixcbiAgICBjb250ZXh0Vm0sXG4gICAgQ3RvclxuICApO1xuXG4gIHZhciB2bm9kZSA9IG9wdGlvbnMucmVuZGVyLmNhbGwobnVsbCwgcmVuZGVyQ29udGV4dC5fYywgcmVuZGVyQ29udGV4dCk7XG5cbiAgaWYgKHZub2RlIGluc3RhbmNlb2YgVk5vZGUpIHtcbiAgICByZXR1cm4gY2xvbmVBbmRNYXJrRnVuY3Rpb25hbFJlc3VsdCh2bm9kZSwgZGF0YSwgcmVuZGVyQ29udGV4dC5wYXJlbnQsIG9wdGlvbnMsIHJlbmRlckNvbnRleHQpXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2bm9kZSkpIHtcbiAgICB2YXIgdm5vZGVzID0gbm9ybWFsaXplQ2hpbGRyZW4odm5vZGUpIHx8IFtdO1xuICAgIHZhciByZXMgPSBuZXcgQXJyYXkodm5vZGVzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2bm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlc1tpXSA9IGNsb25lQW5kTWFya0Z1bmN0aW9uYWxSZXN1bHQodm5vZGVzW2ldLCBkYXRhLCByZW5kZXJDb250ZXh0LnBhcmVudCwgb3B0aW9ucywgcmVuZGVyQ29udGV4dCk7XG4gICAgfVxuICAgIHJldHVybiByZXNcbiAgfVxufVxuXG5mdW5jdGlvbiBjbG9uZUFuZE1hcmtGdW5jdGlvbmFsUmVzdWx0ICh2bm9kZSwgZGF0YSwgY29udGV4dFZtLCBvcHRpb25zLCByZW5kZXJDb250ZXh0KSB7XG4gIC8vICM3ODE3IGNsb25lIG5vZGUgYmVmb3JlIHNldHRpbmcgZm5Db250ZXh0LCBvdGhlcndpc2UgaWYgdGhlIG5vZGUgaXMgcmV1c2VkXG4gIC8vIChlLmcuIGl0IHdhcyBmcm9tIGEgY2FjaGVkIG5vcm1hbCBzbG90KSB0aGUgZm5Db250ZXh0IGNhdXNlcyBuYW1lZCBzbG90c1xuICAvLyB0aGF0IHNob3VsZCBub3QgYmUgbWF0Y2hlZCB0byBtYXRjaC5cbiAgdmFyIGNsb25lID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gIGNsb25lLmZuQ29udGV4dCA9IGNvbnRleHRWbTtcbiAgY2xvbmUuZm5PcHRpb25zID0gb3B0aW9ucztcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAoY2xvbmUuZGV2dG9vbHNNZXRhID0gY2xvbmUuZGV2dG9vbHNNZXRhIHx8IHt9KS5yZW5kZXJDb250ZXh0ID0gcmVuZGVyQ29udGV4dDtcbiAgfVxuICBpZiAoZGF0YS5zbG90KSB7XG4gICAgKGNsb25lLmRhdGEgfHwgKGNsb25lLmRhdGEgPSB7fSkpLnNsb3QgPSBkYXRhLnNsb3Q7XG4gIH1cbiAgcmV0dXJuIGNsb25lXG59XG5cbmZ1bmN0aW9uIG1lcmdlUHJvcHMgKHRvLCBmcm9tKSB7XG4gIGZvciAodmFyIGtleSBpbiBmcm9tKSB7XG4gICAgdG9bY2FtZWxpemUoa2V5KV0gPSBmcm9tW2tleV07XG4gIH1cbn1cblxuLyogICovXG5cbi8qICAqL1xuXG4vKiAgKi9cblxuLyogICovXG5cbi8vIGlubGluZSBob29rcyB0byBiZSBpbnZva2VkIG9uIGNvbXBvbmVudCBWTm9kZXMgZHVyaW5nIHBhdGNoXG52YXIgY29tcG9uZW50Vk5vZGVIb29rcyA9IHtcbiAgaW5pdDogZnVuY3Rpb24gaW5pdCAodm5vZGUsIGh5ZHJhdGluZykge1xuICAgIGlmIChcbiAgICAgIHZub2RlLmNvbXBvbmVudEluc3RhbmNlICYmXG4gICAgICAhdm5vZGUuY29tcG9uZW50SW5zdGFuY2UuX2lzRGVzdHJveWVkICYmXG4gICAgICB2bm9kZS5kYXRhLmtlZXBBbGl2ZVxuICAgICkge1xuICAgICAgLy8ga2VwdC1hbGl2ZSBjb21wb25lbnRzLCB0cmVhdCBhcyBhIHBhdGNoXG4gICAgICB2YXIgbW91bnRlZE5vZGUgPSB2bm9kZTsgLy8gd29yayBhcm91bmQgZmxvd1xuICAgICAgY29tcG9uZW50Vk5vZGVIb29rcy5wcmVwYXRjaChtb3VudGVkTm9kZSwgbW91bnRlZE5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY2hpbGQgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IGNyZWF0ZUNvbXBvbmVudEluc3RhbmNlRm9yVm5vZGUoXG4gICAgICAgIHZub2RlLFxuICAgICAgICBhY3RpdmVJbnN0YW5jZVxuICAgICAgKTtcbiAgICAgIGNoaWxkLiRtb3VudChoeWRyYXRpbmcgPyB2bm9kZS5lbG0gOiB1bmRlZmluZWQsIGh5ZHJhdGluZyk7XG4gICAgfVxuICB9LFxuXG4gIHByZXBhdGNoOiBmdW5jdGlvbiBwcmVwYXRjaCAob2xkVm5vZGUsIHZub2RlKSB7XG4gICAgdmFyIG9wdGlvbnMgPSB2bm9kZS5jb21wb25lbnRPcHRpb25zO1xuICAgIHZhciBjaGlsZCA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlID0gb2xkVm5vZGUuY29tcG9uZW50SW5zdGFuY2U7XG4gICAgdXBkYXRlQ2hpbGRDb21wb25lbnQoXG4gICAgICBjaGlsZCxcbiAgICAgIG9wdGlvbnMucHJvcHNEYXRhLCAvLyB1cGRhdGVkIHByb3BzXG4gICAgICBvcHRpb25zLmxpc3RlbmVycywgLy8gdXBkYXRlZCBsaXN0ZW5lcnNcbiAgICAgIHZub2RlLCAvLyBuZXcgcGFyZW50IHZub2RlXG4gICAgICBvcHRpb25zLmNoaWxkcmVuIC8vIG5ldyBjaGlsZHJlblxuICAgICk7XG4gIH0sXG5cbiAgaW5zZXJ0OiBmdW5jdGlvbiBpbnNlcnQgKHZub2RlKSB7XG4gICAgdmFyIGNvbnRleHQgPSB2bm9kZS5jb250ZXh0O1xuICAgIHZhciBjb21wb25lbnRJbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlO1xuICAgIGlmICghY29tcG9uZW50SW5zdGFuY2UuX2lzTW91bnRlZCkge1xuICAgICAgY29tcG9uZW50SW5zdGFuY2UuX2lzTW91bnRlZCA9IHRydWU7XG4gICAgICBjYWxsSG9vayhjb21wb25lbnRJbnN0YW5jZSwgJ21vdW50ZWQnKTtcbiAgICB9XG4gICAgaWYgKHZub2RlLmRhdGEua2VlcEFsaXZlKSB7XG4gICAgICBpZiAoY29udGV4dC5faXNNb3VudGVkKSB7XG4gICAgICAgIC8vIHZ1ZS1yb3V0ZXIjMTIxMlxuICAgICAgICAvLyBEdXJpbmcgdXBkYXRlcywgYSBrZXB0LWFsaXZlIGNvbXBvbmVudCdzIGNoaWxkIGNvbXBvbmVudHMgbWF5XG4gICAgICAgIC8vIGNoYW5nZSwgc28gZGlyZWN0bHkgd2Fsa2luZyB0aGUgdHJlZSBoZXJlIG1heSBjYWxsIGFjdGl2YXRlZCBob29rc1xuICAgICAgICAvLyBvbiBpbmNvcnJlY3QgY2hpbGRyZW4uIEluc3RlYWQgd2UgcHVzaCB0aGVtIGludG8gYSBxdWV1ZSB3aGljaCB3aWxsXG4gICAgICAgIC8vIGJlIHByb2Nlc3NlZCBhZnRlciB0aGUgd2hvbGUgcGF0Y2ggcHJvY2VzcyBlbmRlZC5cbiAgICAgICAgcXVldWVBY3RpdmF0ZWRDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWN0aXZhdGVDaGlsZENvbXBvbmVudChjb21wb25lbnRJbnN0YW5jZSwgdHJ1ZSAvKiBkaXJlY3QgKi8pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95ICh2bm9kZSkge1xuICAgIHZhciBjb21wb25lbnRJbnN0YW5jZSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlO1xuICAgIGlmICghY29tcG9uZW50SW5zdGFuY2UuX2lzRGVzdHJveWVkKSB7XG4gICAgICBpZiAoIXZub2RlLmRhdGEua2VlcEFsaXZlKSB7XG4gICAgICAgIGNvbXBvbmVudEluc3RhbmNlLiRkZXN0cm95KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWFjdGl2YXRlQ2hpbGRDb21wb25lbnQoY29tcG9uZW50SW5zdGFuY2UsIHRydWUgLyogZGlyZWN0ICovKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbnZhciBob29rc1RvTWVyZ2UgPSBPYmplY3Qua2V5cyhjb21wb25lbnRWTm9kZUhvb2tzKTtcblxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50IChcbiAgQ3RvcixcbiAgZGF0YSxcbiAgY29udGV4dCxcbiAgY2hpbGRyZW4sXG4gIHRhZ1xuKSB7XG4gIGlmIChpc1VuZGVmKEN0b3IpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgYmFzZUN0b3IgPSBjb250ZXh0LiRvcHRpb25zLl9iYXNlO1xuXG4gIC8vIHBsYWluIG9wdGlvbnMgb2JqZWN0OiB0dXJuIGl0IGludG8gYSBjb25zdHJ1Y3RvclxuICBpZiAoaXNPYmplY3QoQ3RvcikpIHtcbiAgICBDdG9yID0gYmFzZUN0b3IuZXh0ZW5kKEN0b3IpO1xuICB9XG5cbiAgLy8gaWYgYXQgdGhpcyBzdGFnZSBpdCdzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIGFuIGFzeW5jIGNvbXBvbmVudCBmYWN0b3J5LFxuICAvLyByZWplY3QuXG4gIGlmICh0eXBlb2YgQ3RvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXJuKChcIkludmFsaWQgQ29tcG9uZW50IGRlZmluaXRpb246IFwiICsgKFN0cmluZyhDdG9yKSkpLCBjb250ZXh0KTtcbiAgICB9XG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBhc3luYyBjb21wb25lbnRcbiAgdmFyIGFzeW5jRmFjdG9yeTtcbiAgaWYgKGlzVW5kZWYoQ3Rvci5jaWQpKSB7XG4gICAgYXN5bmNGYWN0b3J5ID0gQ3RvcjtcbiAgICBDdG9yID0gcmVzb2x2ZUFzeW5jQ29tcG9uZW50KGFzeW5jRmFjdG9yeSwgYmFzZUN0b3IpO1xuICAgIGlmIChDdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIHJldHVybiBhIHBsYWNlaG9sZGVyIG5vZGUgZm9yIGFzeW5jIGNvbXBvbmVudCwgd2hpY2ggaXMgcmVuZGVyZWRcbiAgICAgIC8vIGFzIGEgY29tbWVudCBub2RlIGJ1dCBwcmVzZXJ2ZXMgYWxsIHRoZSByYXcgaW5mb3JtYXRpb24gZm9yIHRoZSBub2RlLlxuICAgICAgLy8gdGhlIGluZm9ybWF0aW9uIHdpbGwgYmUgdXNlZCBmb3IgYXN5bmMgc2VydmVyLXJlbmRlcmluZyBhbmQgaHlkcmF0aW9uLlxuICAgICAgcmV0dXJuIGNyZWF0ZUFzeW5jUGxhY2Vob2xkZXIoXG4gICAgICAgIGFzeW5jRmFjdG9yeSxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgY2hpbGRyZW4sXG4gICAgICAgIHRhZ1xuICAgICAgKVxuICAgIH1cbiAgfVxuXG4gIGRhdGEgPSBkYXRhIHx8IHt9O1xuXG4gIC8vIHJlc29sdmUgY29uc3RydWN0b3Igb3B0aW9ucyBpbiBjYXNlIGdsb2JhbCBtaXhpbnMgYXJlIGFwcGxpZWQgYWZ0ZXJcbiAgLy8gY29tcG9uZW50IGNvbnN0cnVjdG9yIGNyZWF0aW9uXG4gIHJlc29sdmVDb25zdHJ1Y3Rvck9wdGlvbnMoQ3Rvcik7XG5cbiAgLy8gdHJhbnNmb3JtIGNvbXBvbmVudCB2LW1vZGVsIGRhdGEgaW50byBwcm9wcyAmIGV2ZW50c1xuICBpZiAoaXNEZWYoZGF0YS5tb2RlbCkpIHtcbiAgICB0cmFuc2Zvcm1Nb2RlbChDdG9yLm9wdGlvbnMsIGRhdGEpO1xuICB9XG5cbiAgLy8gZXh0cmFjdCBwcm9wc1xuICB2YXIgcHJvcHNEYXRhID0gZXh0cmFjdFByb3BzRnJvbVZOb2RlRGF0YShkYXRhLCBDdG9yLCB0YWcpO1xuXG4gIC8vIGZ1bmN0aW9uYWwgY29tcG9uZW50XG4gIGlmIChpc1RydWUoQ3Rvci5vcHRpb25zLmZ1bmN0aW9uYWwpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUZ1bmN0aW9uYWxDb21wb25lbnQoQ3RvciwgcHJvcHNEYXRhLCBkYXRhLCBjb250ZXh0LCBjaGlsZHJlbilcbiAgfVxuXG4gIC8vIGV4dHJhY3QgbGlzdGVuZXJzLCBzaW5jZSB0aGVzZSBuZWVkcyB0byBiZSB0cmVhdGVkIGFzXG4gIC8vIGNoaWxkIGNvbXBvbmVudCBsaXN0ZW5lcnMgaW5zdGVhZCBvZiBET00gbGlzdGVuZXJzXG4gIHZhciBsaXN0ZW5lcnMgPSBkYXRhLm9uO1xuICAvLyByZXBsYWNlIHdpdGggbGlzdGVuZXJzIHdpdGggLm5hdGl2ZSBtb2RpZmllclxuICAvLyBzbyBpdCBnZXRzIHByb2Nlc3NlZCBkdXJpbmcgcGFyZW50IGNvbXBvbmVudCBwYXRjaC5cbiAgZGF0YS5vbiA9IGRhdGEubmF0aXZlT247XG5cbiAgaWYgKGlzVHJ1ZShDdG9yLm9wdGlvbnMuYWJzdHJhY3QpKSB7XG4gICAgLy8gYWJzdHJhY3QgY29tcG9uZW50cyBkbyBub3Qga2VlcCBhbnl0aGluZ1xuICAgIC8vIG90aGVyIHRoYW4gcHJvcHMgJiBsaXN0ZW5lcnMgJiBzbG90XG5cbiAgICAvLyB3b3JrIGFyb3VuZCBmbG93XG4gICAgdmFyIHNsb3QgPSBkYXRhLnNsb3Q7XG4gICAgZGF0YSA9IHt9O1xuICAgIGlmIChzbG90KSB7XG4gICAgICBkYXRhLnNsb3QgPSBzbG90O1xuICAgIH1cbiAgfVxuXG4gIC8vIGluc3RhbGwgY29tcG9uZW50IG1hbmFnZW1lbnQgaG9va3Mgb250byB0aGUgcGxhY2Vob2xkZXIgbm9kZVxuICBpbnN0YWxsQ29tcG9uZW50SG9va3MoZGF0YSk7XG5cbiAgLy8gcmV0dXJuIGEgcGxhY2Vob2xkZXIgdm5vZGVcbiAgdmFyIG5hbWUgPSBDdG9yLm9wdGlvbnMubmFtZSB8fCB0YWc7XG4gIHZhciB2bm9kZSA9IG5ldyBWTm9kZShcbiAgICAoXCJ2dWUtY29tcG9uZW50LVwiICsgKEN0b3IuY2lkKSArIChuYW1lID8gKFwiLVwiICsgbmFtZSkgOiAnJykpLFxuICAgIGRhdGEsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGNvbnRleHQsXG4gICAgeyBDdG9yOiBDdG9yLCBwcm9wc0RhdGE6IHByb3BzRGF0YSwgbGlzdGVuZXJzOiBsaXN0ZW5lcnMsIHRhZzogdGFnLCBjaGlsZHJlbjogY2hpbGRyZW4gfSxcbiAgICBhc3luY0ZhY3RvcnlcbiAgKTtcblxuICByZXR1cm4gdm5vZGVcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29tcG9uZW50SW5zdGFuY2VGb3JWbm9kZSAoXG4gIHZub2RlLCAvLyB3ZSBrbm93IGl0J3MgTW91bnRlZENvbXBvbmVudFZOb2RlIGJ1dCBmbG93IGRvZXNuJ3RcbiAgcGFyZW50IC8vIGFjdGl2ZUluc3RhbmNlIGluIGxpZmVjeWNsZSBzdGF0ZVxuKSB7XG4gIHZhciBvcHRpb25zID0ge1xuICAgIF9pc0NvbXBvbmVudDogdHJ1ZSxcbiAgICBfcGFyZW50Vm5vZGU6IHZub2RlLFxuICAgIHBhcmVudDogcGFyZW50XG4gIH07XG4gIC8vIGNoZWNrIGlubGluZS10ZW1wbGF0ZSByZW5kZXIgZnVuY3Rpb25zXG4gIHZhciBpbmxpbmVUZW1wbGF0ZSA9IHZub2RlLmRhdGEuaW5saW5lVGVtcGxhdGU7XG4gIGlmIChpc0RlZihpbmxpbmVUZW1wbGF0ZSkpIHtcbiAgICBvcHRpb25zLnJlbmRlciA9IGlubGluZVRlbXBsYXRlLnJlbmRlcjtcbiAgICBvcHRpb25zLnN0YXRpY1JlbmRlckZucyA9IGlubGluZVRlbXBsYXRlLnN0YXRpY1JlbmRlckZucztcbiAgfVxuICByZXR1cm4gbmV3IHZub2RlLmNvbXBvbmVudE9wdGlvbnMuQ3RvcihvcHRpb25zKVxufVxuXG5mdW5jdGlvbiBpbnN0YWxsQ29tcG9uZW50SG9va3MgKGRhdGEpIHtcbiAgdmFyIGhvb2tzID0gZGF0YS5ob29rIHx8IChkYXRhLmhvb2sgPSB7fSk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaG9va3NUb01lcmdlLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGhvb2tzVG9NZXJnZVtpXTtcbiAgICB2YXIgZXhpc3RpbmcgPSBob29rc1trZXldO1xuICAgIHZhciB0b01lcmdlID0gY29tcG9uZW50Vk5vZGVIb29rc1trZXldO1xuICAgIGlmIChleGlzdGluZyAhPT0gdG9NZXJnZSAmJiAhKGV4aXN0aW5nICYmIGV4aXN0aW5nLl9tZXJnZWQpKSB7XG4gICAgICBob29rc1trZXldID0gZXhpc3RpbmcgPyBtZXJnZUhvb2skMSh0b01lcmdlLCBleGlzdGluZykgOiB0b01lcmdlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtZXJnZUhvb2skMSAoZjEsIGYyKSB7XG4gIHZhciBtZXJnZWQgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgIC8vIGZsb3cgY29tcGxhaW5zIGFib3V0IGV4dHJhIGFyZ3Mgd2hpY2ggaXMgd2h5IHdlIHVzZSBhbnlcbiAgICBmMShhLCBiKTtcbiAgICBmMihhLCBiKTtcbiAgfTtcbiAgbWVyZ2VkLl9tZXJnZWQgPSB0cnVlO1xuICByZXR1cm4gbWVyZ2VkXG59XG5cbi8vIHRyYW5zZm9ybSBjb21wb25lbnQgdi1tb2RlbCBpbmZvICh2YWx1ZSBhbmQgY2FsbGJhY2spIGludG9cbi8vIHByb3AgYW5kIGV2ZW50IGhhbmRsZXIgcmVzcGVjdGl2ZWx5LlxuZnVuY3Rpb24gdHJhbnNmb3JtTW9kZWwgKG9wdGlvbnMsIGRhdGEpIHtcbiAgdmFyIHByb3AgPSAob3B0aW9ucy5tb2RlbCAmJiBvcHRpb25zLm1vZGVsLnByb3ApIHx8ICd2YWx1ZSc7XG4gIHZhciBldmVudCA9IChvcHRpb25zLm1vZGVsICYmIG9wdGlvbnMubW9kZWwuZXZlbnQpIHx8ICdpbnB1dCdcbiAgOyhkYXRhLmF0dHJzIHx8IChkYXRhLmF0dHJzID0ge30pKVtwcm9wXSA9IGRhdGEubW9kZWwudmFsdWU7XG4gIHZhciBvbiA9IGRhdGEub24gfHwgKGRhdGEub24gPSB7fSk7XG4gIHZhciBleGlzdGluZyA9IG9uW2V2ZW50XTtcbiAgdmFyIGNhbGxiYWNrID0gZGF0YS5tb2RlbC5jYWxsYmFjaztcbiAgaWYgKGlzRGVmKGV4aXN0aW5nKSkge1xuICAgIGlmIChcbiAgICAgIEFycmF5LmlzQXJyYXkoZXhpc3RpbmcpXG4gICAgICAgID8gZXhpc3RpbmcuaW5kZXhPZihjYWxsYmFjaykgPT09IC0xXG4gICAgICAgIDogZXhpc3RpbmcgIT09IGNhbGxiYWNrXG4gICAgKSB7XG4gICAgICBvbltldmVudF0gPSBbY2FsbGJhY2tdLmNvbmNhdChleGlzdGluZyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG9uW2V2ZW50XSA9IGNhbGxiYWNrO1xuICB9XG59XG5cbi8qICAqL1xuXG52YXIgU0lNUExFX05PUk1BTElaRSA9IDE7XG52YXIgQUxXQVlTX05PUk1BTElaRSA9IDI7XG5cbi8vIHdyYXBwZXIgZnVuY3Rpb24gZm9yIHByb3ZpZGluZyBhIG1vcmUgZmxleGlibGUgaW50ZXJmYWNlXG4vLyB3aXRob3V0IGdldHRpbmcgeWVsbGVkIGF0IGJ5IGZsb3dcbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQgKFxuICBjb250ZXh0LFxuICB0YWcsXG4gIGRhdGEsXG4gIGNoaWxkcmVuLFxuICBub3JtYWxpemF0aW9uVHlwZSxcbiAgYWx3YXlzTm9ybWFsaXplXG4pIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkgfHwgaXNQcmltaXRpdmUoZGF0YSkpIHtcbiAgICBub3JtYWxpemF0aW9uVHlwZSA9IGNoaWxkcmVuO1xuICAgIGNoaWxkcmVuID0gZGF0YTtcbiAgICBkYXRhID0gdW5kZWZpbmVkO1xuICB9XG4gIGlmIChpc1RydWUoYWx3YXlzTm9ybWFsaXplKSkge1xuICAgIG5vcm1hbGl6YXRpb25UeXBlID0gQUxXQVlTX05PUk1BTElaRTtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUVsZW1lbnQoY29udGV4dCwgdGFnLCBkYXRhLCBjaGlsZHJlbiwgbm9ybWFsaXphdGlvblR5cGUpXG59XG5cbmZ1bmN0aW9uIF9jcmVhdGVFbGVtZW50IChcbiAgY29udGV4dCxcbiAgdGFnLFxuICBkYXRhLFxuICBjaGlsZHJlbixcbiAgbm9ybWFsaXphdGlvblR5cGVcbikge1xuICBpZiAoaXNEZWYoZGF0YSkgJiYgaXNEZWYoKGRhdGEpLl9fb2JfXykpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICBcIkF2b2lkIHVzaW5nIG9ic2VydmVkIGRhdGEgb2JqZWN0IGFzIHZub2RlIGRhdGE6IFwiICsgKEpTT04uc3RyaW5naWZ5KGRhdGEpKSArIFwiXFxuXCIgK1xuICAgICAgJ0Fsd2F5cyBjcmVhdGUgZnJlc2ggdm5vZGUgZGF0YSBvYmplY3RzIGluIGVhY2ggcmVuZGVyIScsXG4gICAgICBjb250ZXh0XG4gICAgKTtcbiAgICByZXR1cm4gY3JlYXRlRW1wdHlWTm9kZSgpXG4gIH1cbiAgLy8gb2JqZWN0IHN5bnRheCBpbiB2LWJpbmRcbiAgaWYgKGlzRGVmKGRhdGEpICYmIGlzRGVmKGRhdGEuaXMpKSB7XG4gICAgdGFnID0gZGF0YS5pcztcbiAgfVxuICBpZiAoIXRhZykge1xuICAgIC8vIGluIGNhc2Ugb2YgY29tcG9uZW50IDppcyBzZXQgdG8gZmFsc3kgdmFsdWVcbiAgICByZXR1cm4gY3JlYXRlRW1wdHlWTm9kZSgpXG4gIH1cbiAgLy8gd2FybiBhZ2FpbnN0IG5vbi1wcmltaXRpdmUga2V5XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgaXNEZWYoZGF0YSkgJiYgaXNEZWYoZGF0YS5rZXkpICYmICFpc1ByaW1pdGl2ZShkYXRhLmtleSlcbiAgKSB7XG4gICAge1xuICAgICAgd2FybihcbiAgICAgICAgJ0F2b2lkIHVzaW5nIG5vbi1wcmltaXRpdmUgdmFsdWUgYXMga2V5LCAnICtcbiAgICAgICAgJ3VzZSBzdHJpbmcvbnVtYmVyIHZhbHVlIGluc3RlYWQuJyxcbiAgICAgICAgY29udGV4dFxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgLy8gc3VwcG9ydCBzaW5nbGUgZnVuY3Rpb24gY2hpbGRyZW4gYXMgZGVmYXVsdCBzY29wZWQgc2xvdFxuICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiZcbiAgICB0eXBlb2YgY2hpbGRyZW5bMF0gPT09ICdmdW5jdGlvbidcbiAgKSB7XG4gICAgZGF0YSA9IGRhdGEgfHwge307XG4gICAgZGF0YS5zY29wZWRTbG90cyA9IHsgZGVmYXVsdDogY2hpbGRyZW5bMF0gfTtcbiAgICBjaGlsZHJlbi5sZW5ndGggPSAwO1xuICB9XG4gIGlmIChub3JtYWxpemF0aW9uVHlwZSA9PT0gQUxXQVlTX05PUk1BTElaRSkge1xuICAgIGNoaWxkcmVuID0gbm9ybWFsaXplQ2hpbGRyZW4oY2hpbGRyZW4pO1xuICB9IGVsc2UgaWYgKG5vcm1hbGl6YXRpb25UeXBlID09PSBTSU1QTEVfTk9STUFMSVpFKSB7XG4gICAgY2hpbGRyZW4gPSBzaW1wbGVOb3JtYWxpemVDaGlsZHJlbihjaGlsZHJlbik7XG4gIH1cbiAgdmFyIHZub2RlLCBucztcbiAgaWYgKHR5cGVvZiB0YWcgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIEN0b3I7XG4gICAgbnMgPSAoY29udGV4dC4kdm5vZGUgJiYgY29udGV4dC4kdm5vZGUubnMpIHx8IGNvbmZpZy5nZXRUYWdOYW1lc3BhY2UodGFnKTtcbiAgICBpZiAoY29uZmlnLmlzUmVzZXJ2ZWRUYWcodGFnKSkge1xuICAgICAgLy8gcGxhdGZvcm0gYnVpbHQtaW4gZWxlbWVudHNcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGlzRGVmKGRhdGEpICYmIGlzRGVmKGRhdGEubmF0aXZlT24pKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgKFwiVGhlIC5uYXRpdmUgbW9kaWZpZXIgZm9yIHYtb24gaXMgb25seSB2YWxpZCBvbiBjb21wb25lbnRzIGJ1dCBpdCB3YXMgdXNlZCBvbiA8XCIgKyB0YWcgKyBcIj4uXCIpLFxuICAgICAgICAgIGNvbnRleHRcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZub2RlID0gbmV3IFZOb2RlKFxuICAgICAgICBjb25maWcucGFyc2VQbGF0Zm9ybVRhZ05hbWUodGFnKSwgZGF0YSwgY2hpbGRyZW4sXG4gICAgICAgIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjb250ZXh0XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoKCFkYXRhIHx8ICFkYXRhLnByZSkgJiYgaXNEZWYoQ3RvciA9IHJlc29sdmVBc3NldChjb250ZXh0LiRvcHRpb25zLCAnY29tcG9uZW50cycsIHRhZykpKSB7XG4gICAgICAvLyBjb21wb25lbnRcbiAgICAgIHZub2RlID0gY3JlYXRlQ29tcG9uZW50KEN0b3IsIGRhdGEsIGNvbnRleHQsIGNoaWxkcmVuLCB0YWcpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB1bmtub3duIG9yIHVubGlzdGVkIG5hbWVzcGFjZWQgZWxlbWVudHNcbiAgICAgIC8vIGNoZWNrIGF0IHJ1bnRpbWUgYmVjYXVzZSBpdCBtYXkgZ2V0IGFzc2lnbmVkIGEgbmFtZXNwYWNlIHdoZW4gaXRzXG4gICAgICAvLyBwYXJlbnQgbm9ybWFsaXplcyBjaGlsZHJlblxuICAgICAgdm5vZGUgPSBuZXcgVk5vZGUoXG4gICAgICAgIHRhZywgZGF0YSwgY2hpbGRyZW4sXG4gICAgICAgIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBjb250ZXh0XG4gICAgICApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBkaXJlY3QgY29tcG9uZW50IG9wdGlvbnMgLyBjb25zdHJ1Y3RvclxuICAgIHZub2RlID0gY3JlYXRlQ29tcG9uZW50KHRhZywgZGF0YSwgY29udGV4dCwgY2hpbGRyZW4pO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KHZub2RlKSkge1xuICAgIHJldHVybiB2bm9kZVxuICB9IGVsc2UgaWYgKGlzRGVmKHZub2RlKSkge1xuICAgIGlmIChpc0RlZihucykpIHsgYXBwbHlOUyh2bm9kZSwgbnMpOyB9XG4gICAgaWYgKGlzRGVmKGRhdGEpKSB7IHJlZ2lzdGVyRGVlcEJpbmRpbmdzKGRhdGEpOyB9XG4gICAgcmV0dXJuIHZub2RlXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVtcHR5Vk5vZGUoKVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5TlMgKHZub2RlLCBucywgZm9yY2UpIHtcbiAgdm5vZGUubnMgPSBucztcbiAgaWYgKHZub2RlLnRhZyA9PT0gJ2ZvcmVpZ25PYmplY3QnKSB7XG4gICAgLy8gdXNlIGRlZmF1bHQgbmFtZXNwYWNlIGluc2lkZSBmb3JlaWduT2JqZWN0XG4gICAgbnMgPSB1bmRlZmluZWQ7XG4gICAgZm9yY2UgPSB0cnVlO1xuICB9XG4gIGlmIChpc0RlZih2bm9kZS5jaGlsZHJlbikpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gdm5vZGUuY2hpbGRyZW5baV07XG4gICAgICBpZiAoaXNEZWYoY2hpbGQudGFnKSAmJiAoXG4gICAgICAgIGlzVW5kZWYoY2hpbGQubnMpIHx8IChpc1RydWUoZm9yY2UpICYmIGNoaWxkLnRhZyAhPT0gJ3N2ZycpKSkge1xuICAgICAgICBhcHBseU5TKGNoaWxkLCBucywgZm9yY2UpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyByZWYgIzUzMThcbi8vIG5lY2Vzc2FyeSB0byBlbnN1cmUgcGFyZW50IHJlLXJlbmRlciB3aGVuIGRlZXAgYmluZGluZ3MgbGlrZSA6c3R5bGUgYW5kXG4vLyA6Y2xhc3MgYXJlIHVzZWQgb24gc2xvdCBub2Rlc1xuZnVuY3Rpb24gcmVnaXN0ZXJEZWVwQmluZGluZ3MgKGRhdGEpIHtcbiAgaWYgKGlzT2JqZWN0KGRhdGEuc3R5bGUpKSB7XG4gICAgdHJhdmVyc2UoZGF0YS5zdHlsZSk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KGRhdGEuY2xhc3MpKSB7XG4gICAgdHJhdmVyc2UoZGF0YS5jbGFzcyk7XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRSZW5kZXIgKHZtKSB7XG4gIHZtLl92bm9kZSA9IG51bGw7IC8vIHRoZSByb290IG9mIHRoZSBjaGlsZCB0cmVlXG4gIHZtLl9zdGF0aWNUcmVlcyA9IG51bGw7IC8vIHYtb25jZSBjYWNoZWQgdHJlZXNcbiAgdmFyIG9wdGlvbnMgPSB2bS4kb3B0aW9ucztcbiAgdmFyIHBhcmVudFZub2RlID0gdm0uJHZub2RlID0gb3B0aW9ucy5fcGFyZW50Vm5vZGU7IC8vIHRoZSBwbGFjZWhvbGRlciBub2RlIGluIHBhcmVudCB0cmVlXG4gIHZhciByZW5kZXJDb250ZXh0ID0gcGFyZW50Vm5vZGUgJiYgcGFyZW50Vm5vZGUuY29udGV4dDtcbiAgdm0uJHNsb3RzID0gcmVzb2x2ZVNsb3RzKG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuLCByZW5kZXJDb250ZXh0KTtcbiAgdm0uJHNjb3BlZFNsb3RzID0gZW1wdHlPYmplY3Q7XG4gIC8vIGJpbmQgdGhlIGNyZWF0ZUVsZW1lbnQgZm4gdG8gdGhpcyBpbnN0YW5jZVxuICAvLyBzbyB0aGF0IHdlIGdldCBwcm9wZXIgcmVuZGVyIGNvbnRleHQgaW5zaWRlIGl0LlxuICAvLyBhcmdzIG9yZGVyOiB0YWcsIGRhdGEsIGNoaWxkcmVuLCBub3JtYWxpemF0aW9uVHlwZSwgYWx3YXlzTm9ybWFsaXplXG4gIC8vIGludGVybmFsIHZlcnNpb24gaXMgdXNlZCBieSByZW5kZXIgZnVuY3Rpb25zIGNvbXBpbGVkIGZyb20gdGVtcGxhdGVzXG4gIHZtLl9jID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQpIHsgcmV0dXJuIGNyZWF0ZUVsZW1lbnQodm0sIGEsIGIsIGMsIGQsIGZhbHNlKTsgfTtcbiAgLy8gbm9ybWFsaXphdGlvbiBpcyBhbHdheXMgYXBwbGllZCBmb3IgdGhlIHB1YmxpYyB2ZXJzaW9uLCB1c2VkIGluXG4gIC8vIHVzZXItd3JpdHRlbiByZW5kZXIgZnVuY3Rpb25zLlxuICB2bS4kY3JlYXRlRWxlbWVudCA9IGZ1bmN0aW9uIChhLCBiLCBjLCBkKSB7IHJldHVybiBjcmVhdGVFbGVtZW50KHZtLCBhLCBiLCBjLCBkLCB0cnVlKTsgfTtcblxuICAvLyAkYXR0cnMgJiAkbGlzdGVuZXJzIGFyZSBleHBvc2VkIGZvciBlYXNpZXIgSE9DIGNyZWF0aW9uLlxuICAvLyB0aGV5IG5lZWQgdG8gYmUgcmVhY3RpdmUgc28gdGhhdCBIT0NzIHVzaW5nIHRoZW0gYXJlIGFsd2F5cyB1cGRhdGVkXG4gIHZhciBwYXJlbnREYXRhID0gcGFyZW50Vm5vZGUgJiYgcGFyZW50Vm5vZGUuZGF0YTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGRlZmluZVJlYWN0aXZlJCQxKHZtLCAnJGF0dHJzJywgcGFyZW50RGF0YSAmJiBwYXJlbnREYXRhLmF0dHJzIHx8IGVtcHR5T2JqZWN0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAhaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50ICYmIHdhcm4oXCIkYXR0cnMgaXMgcmVhZG9ubHkuXCIsIHZtKTtcbiAgICB9LCB0cnVlKTtcbiAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwgJyRsaXN0ZW5lcnMnLCBvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnMgfHwgZW1wdHlPYmplY3QsIGZ1bmN0aW9uICgpIHtcbiAgICAgICFpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgJiYgd2FybihcIiRsaXN0ZW5lcnMgaXMgcmVhZG9ubHkuXCIsIHZtKTtcbiAgICB9LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBkZWZpbmVSZWFjdGl2ZSQkMSh2bSwgJyRhdHRycycsIHBhcmVudERhdGEgJiYgcGFyZW50RGF0YS5hdHRycyB8fCBlbXB0eU9iamVjdCwgbnVsbCwgdHJ1ZSk7XG4gICAgZGVmaW5lUmVhY3RpdmUkJDEodm0sICckbGlzdGVuZXJzJywgb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0LCBudWxsLCB0cnVlKTtcbiAgfVxufVxuXG52YXIgY3VycmVudFJlbmRlcmluZ0luc3RhbmNlID0gbnVsbDtcblxuZnVuY3Rpb24gcmVuZGVyTWl4aW4gKFZ1ZSkge1xuICAvLyBpbnN0YWxsIHJ1bnRpbWUgY29udmVuaWVuY2UgaGVscGVyc1xuICBpbnN0YWxsUmVuZGVySGVscGVycyhWdWUucHJvdG90eXBlKTtcblxuICBWdWUucHJvdG90eXBlLiRuZXh0VGljayA9IGZ1bmN0aW9uIChmbikge1xuICAgIHJldHVybiBuZXh0VGljayhmbiwgdGhpcylcbiAgfTtcblxuICBWdWUucHJvdG90eXBlLl9yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICB2YXIgcmVmID0gdm0uJG9wdGlvbnM7XG4gICAgdmFyIHJlbmRlciA9IHJlZi5yZW5kZXI7XG4gICAgdmFyIF9wYXJlbnRWbm9kZSA9IHJlZi5fcGFyZW50Vm5vZGU7XG5cbiAgICBpZiAoX3BhcmVudFZub2RlKSB7XG4gICAgICB2bS4kc2NvcGVkU2xvdHMgPSBub3JtYWxpemVTY29wZWRTbG90cyhcbiAgICAgICAgX3BhcmVudFZub2RlLmRhdGEuc2NvcGVkU2xvdHMsXG4gICAgICAgIHZtLiRzbG90cyxcbiAgICAgICAgdm0uJHNjb3BlZFNsb3RzXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIHNldCBwYXJlbnQgdm5vZGUuIHRoaXMgYWxsb3dzIHJlbmRlciBmdW5jdGlvbnMgdG8gaGF2ZSBhY2Nlc3NcbiAgICAvLyB0byB0aGUgZGF0YSBvbiB0aGUgcGxhY2Vob2xkZXIgbm9kZS5cbiAgICB2bS4kdm5vZGUgPSBfcGFyZW50Vm5vZGU7XG4gICAgLy8gcmVuZGVyIHNlbGZcbiAgICB2YXIgdm5vZGU7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFRoZXJlJ3Mgbm8gbmVlZCB0byBtYWludGFpbiBhIHN0YWNrIGJlY2F1c2UgYWxsIHJlbmRlciBmbnMgYXJlIGNhbGxlZFxuICAgICAgLy8gc2VwYXJhdGVseSBmcm9tIG9uZSBhbm90aGVyLiBOZXN0ZWQgY29tcG9uZW50J3MgcmVuZGVyIGZucyBhcmUgY2FsbGVkXG4gICAgICAvLyB3aGVuIHBhcmVudCBjb21wb25lbnQgaXMgcGF0Y2hlZC5cbiAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IHZtO1xuICAgICAgdm5vZGUgPSByZW5kZXIuY2FsbCh2bS5fcmVuZGVyUHJveHksIHZtLiRjcmVhdGVFbGVtZW50KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBoYW5kbGVFcnJvcihlLCB2bSwgXCJyZW5kZXJcIik7XG4gICAgICAvLyByZXR1cm4gZXJyb3IgcmVuZGVyIHJlc3VsdCxcbiAgICAgIC8vIG9yIHByZXZpb3VzIHZub2RlIHRvIHByZXZlbnQgcmVuZGVyIGVycm9yIGNhdXNpbmcgYmxhbmsgY29tcG9uZW50XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdm0uJG9wdGlvbnMucmVuZGVyRXJyb3IpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2bm9kZSA9IHZtLiRvcHRpb25zLnJlbmRlckVycm9yLmNhbGwodm0uX3JlbmRlclByb3h5LCB2bS4kY3JlYXRlRWxlbWVudCwgZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBoYW5kbGVFcnJvcihlLCB2bSwgXCJyZW5kZXJFcnJvclwiKTtcbiAgICAgICAgICB2bm9kZSA9IHZtLl92bm9kZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm5vZGUgPSB2bS5fdm5vZGU7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGN1cnJlbnRSZW5kZXJpbmdJbnN0YW5jZSA9IG51bGw7XG4gICAgfVxuICAgIC8vIGlmIHRoZSByZXR1cm5lZCBhcnJheSBjb250YWlucyBvbmx5IGEgc2luZ2xlIG5vZGUsIGFsbG93IGl0XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodm5vZGUpICYmIHZub2RlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdm5vZGUgPSB2bm9kZVswXTtcbiAgICB9XG4gICAgLy8gcmV0dXJuIGVtcHR5IHZub2RlIGluIGNhc2UgdGhlIHJlbmRlciBmdW5jdGlvbiBlcnJvcmVkIG91dFxuICAgIGlmICghKHZub2RlIGluc3RhbmNlb2YgVk5vZGUpKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBBcnJheS5pc0FycmF5KHZub2RlKSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgICdNdWx0aXBsZSByb290IG5vZGVzIHJldHVybmVkIGZyb20gcmVuZGVyIGZ1bmN0aW9uLiBSZW5kZXIgZnVuY3Rpb24gJyArXG4gICAgICAgICAgJ3Nob3VsZCByZXR1cm4gYSBzaW5nbGUgcm9vdCBub2RlLicsXG4gICAgICAgICAgdm1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHZub2RlID0gY3JlYXRlRW1wdHlWTm9kZSgpO1xuICAgIH1cbiAgICAvLyBzZXQgcGFyZW50XG4gICAgdm5vZGUucGFyZW50ID0gX3BhcmVudFZub2RlO1xuICAgIHJldHVybiB2bm9kZVxuICB9O1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gZW5zdXJlQ3RvciAoY29tcCwgYmFzZSkge1xuICBpZiAoXG4gICAgY29tcC5fX2VzTW9kdWxlIHx8XG4gICAgKGhhc1N5bWJvbCAmJiBjb21wW1N5bWJvbC50b1N0cmluZ1RhZ10gPT09ICdNb2R1bGUnKVxuICApIHtcbiAgICBjb21wID0gY29tcC5kZWZhdWx0O1xuICB9XG4gIHJldHVybiBpc09iamVjdChjb21wKVxuICAgID8gYmFzZS5leHRlbmQoY29tcClcbiAgICA6IGNvbXBcbn1cblxuZnVuY3Rpb24gY3JlYXRlQXN5bmNQbGFjZWhvbGRlciAoXG4gIGZhY3RvcnksXG4gIGRhdGEsXG4gIGNvbnRleHQsXG4gIGNoaWxkcmVuLFxuICB0YWdcbikge1xuICB2YXIgbm9kZSA9IGNyZWF0ZUVtcHR5Vk5vZGUoKTtcbiAgbm9kZS5hc3luY0ZhY3RvcnkgPSBmYWN0b3J5O1xuICBub2RlLmFzeW5jTWV0YSA9IHsgZGF0YTogZGF0YSwgY29udGV4dDogY29udGV4dCwgY2hpbGRyZW46IGNoaWxkcmVuLCB0YWc6IHRhZyB9O1xuICByZXR1cm4gbm9kZVxufVxuXG5mdW5jdGlvbiByZXNvbHZlQXN5bmNDb21wb25lbnQgKFxuICBmYWN0b3J5LFxuICBiYXNlQ3RvclxuKSB7XG4gIGlmIChpc1RydWUoZmFjdG9yeS5lcnJvcikgJiYgaXNEZWYoZmFjdG9yeS5lcnJvckNvbXApKSB7XG4gICAgcmV0dXJuIGZhY3RvcnkuZXJyb3JDb21wXG4gIH1cblxuICBpZiAoaXNEZWYoZmFjdG9yeS5yZXNvbHZlZCkpIHtcbiAgICByZXR1cm4gZmFjdG9yeS5yZXNvbHZlZFxuICB9XG5cbiAgdmFyIG93bmVyID0gY3VycmVudFJlbmRlcmluZ0luc3RhbmNlO1xuICBpZiAob3duZXIgJiYgaXNEZWYoZmFjdG9yeS5vd25lcnMpICYmIGZhY3Rvcnkub3duZXJzLmluZGV4T2Yob3duZXIpID09PSAtMSkge1xuICAgIC8vIGFscmVhZHkgcGVuZGluZ1xuICAgIGZhY3Rvcnkub3duZXJzLnB1c2gob3duZXIpO1xuICB9XG5cbiAgaWYgKGlzVHJ1ZShmYWN0b3J5LmxvYWRpbmcpICYmIGlzRGVmKGZhY3RvcnkubG9hZGluZ0NvbXApKSB7XG4gICAgcmV0dXJuIGZhY3RvcnkubG9hZGluZ0NvbXBcbiAgfVxuXG4gIGlmIChvd25lciAmJiAhaXNEZWYoZmFjdG9yeS5vd25lcnMpKSB7XG4gICAgdmFyIG93bmVycyA9IGZhY3Rvcnkub3duZXJzID0gW293bmVyXTtcbiAgICB2YXIgc3luYyA9IHRydWU7XG4gICAgdmFyIHRpbWVyTG9hZGluZyA9IG51bGw7XG4gICAgdmFyIHRpbWVyVGltZW91dCA9IG51bGxcblxuICAgIDsob3duZXIpLiRvbignaG9vazpkZXN0cm95ZWQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiByZW1vdmUob3duZXJzLCBvd25lcik7IH0pO1xuXG4gICAgdmFyIGZvcmNlUmVuZGVyID0gZnVuY3Rpb24gKHJlbmRlckNvbXBsZXRlZCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvd25lcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIChvd25lcnNbaV0pLiRmb3JjZVVwZGF0ZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVuZGVyQ29tcGxldGVkKSB7XG4gICAgICAgIG93bmVycy5sZW5ndGggPSAwO1xuICAgICAgICBpZiAodGltZXJMb2FkaW5nICE9PSBudWxsKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyTG9hZGluZyk7XG4gICAgICAgICAgdGltZXJMb2FkaW5nID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZXJUaW1lb3V0ICE9PSBudWxsKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyVGltZW91dCk7XG4gICAgICAgICAgdGltZXJUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB2YXIgcmVzb2x2ZSA9IG9uY2UoZnVuY3Rpb24gKHJlcykge1xuICAgICAgLy8gY2FjaGUgcmVzb2x2ZWRcbiAgICAgIGZhY3RvcnkucmVzb2x2ZWQgPSBlbnN1cmVDdG9yKHJlcywgYmFzZUN0b3IpO1xuICAgICAgLy8gaW52b2tlIGNhbGxiYWNrcyBvbmx5IGlmIHRoaXMgaXMgbm90IGEgc3luY2hyb25vdXMgcmVzb2x2ZVxuICAgICAgLy8gKGFzeW5jIHJlc29sdmVzIGFyZSBzaGltbWVkIGFzIHN5bmNocm9ub3VzIGR1cmluZyBTU1IpXG4gICAgICBpZiAoIXN5bmMpIHtcbiAgICAgICAgZm9yY2VSZW5kZXIodHJ1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvd25lcnMubGVuZ3RoID0gMDtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciByZWplY3QgPSBvbmNlKGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgXCJGYWlsZWQgdG8gcmVzb2x2ZSBhc3luYyBjb21wb25lbnQ6IFwiICsgKFN0cmluZyhmYWN0b3J5KSkgK1xuICAgICAgICAocmVhc29uID8gKFwiXFxuUmVhc29uOiBcIiArIHJlYXNvbikgOiAnJylcbiAgICAgICk7XG4gICAgICBpZiAoaXNEZWYoZmFjdG9yeS5lcnJvckNvbXApKSB7XG4gICAgICAgIGZhY3RvcnkuZXJyb3IgPSB0cnVlO1xuICAgICAgICBmb3JjZVJlbmRlcih0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHZhciByZXMgPSBmYWN0b3J5KHJlc29sdmUsIHJlamVjdCk7XG5cbiAgICBpZiAoaXNPYmplY3QocmVzKSkge1xuICAgICAgaWYgKGlzUHJvbWlzZShyZXMpKSB7XG4gICAgICAgIC8vICgpID0+IFByb21pc2VcbiAgICAgICAgaWYgKGlzVW5kZWYoZmFjdG9yeS5yZXNvbHZlZCkpIHtcbiAgICAgICAgICByZXMudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZShyZXMuY29tcG9uZW50KSkge1xuICAgICAgICByZXMuY29tcG9uZW50LnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcblxuICAgICAgICBpZiAoaXNEZWYocmVzLmVycm9yKSkge1xuICAgICAgICAgIGZhY3RvcnkuZXJyb3JDb21wID0gZW5zdXJlQ3RvcihyZXMuZXJyb3IsIGJhc2VDdG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZihyZXMubG9hZGluZykpIHtcbiAgICAgICAgICBmYWN0b3J5LmxvYWRpbmdDb21wID0gZW5zdXJlQ3RvcihyZXMubG9hZGluZywgYmFzZUN0b3IpO1xuICAgICAgICAgIGlmIChyZXMuZGVsYXkgPT09IDApIHtcbiAgICAgICAgICAgIGZhY3RvcnkubG9hZGluZyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVyTG9hZGluZyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB0aW1lckxvYWRpbmcgPSBudWxsO1xuICAgICAgICAgICAgICBpZiAoaXNVbmRlZihmYWN0b3J5LnJlc29sdmVkKSAmJiBpc1VuZGVmKGZhY3RvcnkuZXJyb3IpKSB7XG4gICAgICAgICAgICAgICAgZmFjdG9yeS5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBmb3JjZVJlbmRlcihmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlcy5kZWxheSB8fCAyMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZihyZXMudGltZW91dCkpIHtcbiAgICAgICAgICB0aW1lclRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRpbWVyVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaXNVbmRlZihmYWN0b3J5LnJlc29sdmVkKSkge1xuICAgICAgICAgICAgICByZWplY3QoXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJ1xuICAgICAgICAgICAgICAgICAgPyAoXCJ0aW1lb3V0IChcIiArIChyZXMudGltZW91dCkgKyBcIm1zKVwiKVxuICAgICAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgcmVzLnRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3luYyA9IGZhbHNlO1xuICAgIC8vIHJldHVybiBpbiBjYXNlIHJlc29sdmVkIHN5bmNocm9ub3VzbHlcbiAgICByZXR1cm4gZmFjdG9yeS5sb2FkaW5nXG4gICAgICA/IGZhY3RvcnkubG9hZGluZ0NvbXBcbiAgICAgIDogZmFjdG9yeS5yZXNvbHZlZFxuICB9XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpc0FzeW5jUGxhY2Vob2xkZXIgKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuaXNDb21tZW50ICYmIG5vZGUuYXN5bmNGYWN0b3J5XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBnZXRGaXJzdENvbXBvbmVudENoaWxkIChjaGlsZHJlbikge1xuICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IGNoaWxkcmVuW2ldO1xuICAgICAgaWYgKGlzRGVmKGMpICYmIChpc0RlZihjLmNvbXBvbmVudE9wdGlvbnMpIHx8IGlzQXN5bmNQbGFjZWhvbGRlcihjKSkpIHtcbiAgICAgICAgcmV0dXJuIGNcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0RXZlbnRzICh2bSkge1xuICB2bS5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgdm0uX2hhc0hvb2tFdmVudCA9IGZhbHNlO1xuICAvLyBpbml0IHBhcmVudCBhdHRhY2hlZCBldmVudHNcbiAgdmFyIGxpc3RlbmVycyA9IHZtLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7XG4gIGlmIChsaXN0ZW5lcnMpIHtcbiAgICB1cGRhdGVDb21wb25lbnRMaXN0ZW5lcnModm0sIGxpc3RlbmVycyk7XG4gIH1cbn1cblxudmFyIHRhcmdldDtcblxuZnVuY3Rpb24gYWRkIChldmVudCwgZm4pIHtcbiAgdGFyZ2V0LiRvbihldmVudCwgZm4pO1xufVxuXG5mdW5jdGlvbiByZW1vdmUkMSAoZXZlbnQsIGZuKSB7XG4gIHRhcmdldC4kb2ZmKGV2ZW50LCBmbik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU9uY2VIYW5kbGVyIChldmVudCwgZm4pIHtcbiAgdmFyIF90YXJnZXQgPSB0YXJnZXQ7XG4gIHJldHVybiBmdW5jdGlvbiBvbmNlSGFuZGxlciAoKSB7XG4gICAgdmFyIHJlcyA9IGZuLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgaWYgKHJlcyAhPT0gbnVsbCkge1xuICAgICAgX3RhcmdldC4kb2ZmKGV2ZW50LCBvbmNlSGFuZGxlcik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNvbXBvbmVudExpc3RlbmVycyAoXG4gIHZtLFxuICBsaXN0ZW5lcnMsXG4gIG9sZExpc3RlbmVyc1xuKSB7XG4gIHRhcmdldCA9IHZtO1xuICB1cGRhdGVMaXN0ZW5lcnMobGlzdGVuZXJzLCBvbGRMaXN0ZW5lcnMgfHwge30sIGFkZCwgcmVtb3ZlJDEsIGNyZWF0ZU9uY2VIYW5kbGVyLCB2bSk7XG4gIHRhcmdldCA9IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZXZlbnRzTWl4aW4gKFZ1ZSkge1xuICB2YXIgaG9va1JFID0gL15ob29rOi87XG4gIFZ1ZS5wcm90b3R5cGUuJG9uID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZXZlbnQpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IGV2ZW50Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2bS4kb24oZXZlbnRbaV0sIGZuKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgKHZtLl9ldmVudHNbZXZlbnRdIHx8ICh2bS5fZXZlbnRzW2V2ZW50XSA9IFtdKSkucHVzaChmbik7XG4gICAgICAvLyBvcHRpbWl6ZSBob29rOmV2ZW50IGNvc3QgYnkgdXNpbmcgYSBib29sZWFuIGZsYWcgbWFya2VkIGF0IHJlZ2lzdHJhdGlvblxuICAgICAgLy8gaW5zdGVhZCBvZiBhIGhhc2ggbG9va3VwXG4gICAgICBpZiAoaG9va1JFLnRlc3QoZXZlbnQpKSB7XG4gICAgICAgIHZtLl9oYXNIb29rRXZlbnQgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdm1cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLiRvbmNlID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgZnVuY3Rpb24gb24gKCkge1xuICAgICAgdm0uJG9mZihldmVudCwgb24pO1xuICAgICAgZm4uYXBwbHkodm0sIGFyZ3VtZW50cyk7XG4gICAgfVxuICAgIG9uLmZuID0gZm47XG4gICAgdm0uJG9uKGV2ZW50LCBvbik7XG4gICAgcmV0dXJuIHZtXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS4kb2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBmbikge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgLy8gYWxsXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICB2bS5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIHJldHVybiB2bVxuICAgIH1cbiAgICAvLyBhcnJheSBvZiBldmVudHNcbiAgICBpZiAoQXJyYXkuaXNBcnJheShldmVudCkpIHtcbiAgICAgIGZvciAodmFyIGkkMSA9IDAsIGwgPSBldmVudC5sZW5ndGg7IGkkMSA8IGw7IGkkMSsrKSB7XG4gICAgICAgIHZtLiRvZmYoZXZlbnRbaSQxXSwgZm4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZtXG4gICAgfVxuICAgIC8vIHNwZWNpZmljIGV2ZW50XG4gICAgdmFyIGNicyA9IHZtLl9ldmVudHNbZXZlbnRdO1xuICAgIGlmICghY2JzKSB7XG4gICAgICByZXR1cm4gdm1cbiAgICB9XG4gICAgaWYgKCFmbikge1xuICAgICAgdm0uX2V2ZW50c1tldmVudF0gPSBudWxsO1xuICAgICAgcmV0dXJuIHZtXG4gICAgfVxuICAgIC8vIHNwZWNpZmljIGhhbmRsZXJcbiAgICB2YXIgY2I7XG4gICAgdmFyIGkgPSBjYnMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIGNiID0gY2JzW2ldO1xuICAgICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcbiAgICAgICAgY2JzLnNwbGljZShpLCAxKTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZtXG4gIH07XG5cbiAgVnVlLnByb3RvdHlwZS4kZW1pdCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBsb3dlckNhc2VFdmVudCA9IGV2ZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAobG93ZXJDYXNlRXZlbnQgIT09IGV2ZW50ICYmIHZtLl9ldmVudHNbbG93ZXJDYXNlRXZlbnRdKSB7XG4gICAgICAgIHRpcChcbiAgICAgICAgICBcIkV2ZW50IFxcXCJcIiArIGxvd2VyQ2FzZUV2ZW50ICsgXCJcXFwiIGlzIGVtaXR0ZWQgaW4gY29tcG9uZW50IFwiICtcbiAgICAgICAgICAoZm9ybWF0Q29tcG9uZW50TmFtZSh2bSkpICsgXCIgYnV0IHRoZSBoYW5kbGVyIGlzIHJlZ2lzdGVyZWQgZm9yIFxcXCJcIiArIGV2ZW50ICsgXCJcXFwiLiBcIiArXG4gICAgICAgICAgXCJOb3RlIHRoYXQgSFRNTCBhdHRyaWJ1dGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlIGFuZCB5b3UgY2Fubm90IHVzZSBcIiArXG4gICAgICAgICAgXCJ2LW9uIHRvIGxpc3RlbiB0byBjYW1lbENhc2UgZXZlbnRzIHdoZW4gdXNpbmcgaW4tRE9NIHRlbXBsYXRlcy4gXCIgK1xuICAgICAgICAgIFwiWW91IHNob3VsZCBwcm9iYWJseSB1c2UgXFxcIlwiICsgKGh5cGhlbmF0ZShldmVudCkpICsgXCJcXFwiIGluc3RlYWQgb2YgXFxcIlwiICsgZXZlbnQgKyBcIlxcXCIuXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNicyA9IHZtLl9ldmVudHNbZXZlbnRdO1xuICAgIGlmIChjYnMpIHtcbiAgICAgIGNicyA9IGNicy5sZW5ndGggPiAxID8gdG9BcnJheShjYnMpIDogY2JzO1xuICAgICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7XG4gICAgICB2YXIgaW5mbyA9IFwiZXZlbnQgaGFuZGxlciBmb3IgXFxcIlwiICsgZXZlbnQgKyBcIlxcXCJcIjtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gY2JzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhjYnNbaV0sIHZtLCBhcmdzLCB2bSwgaW5mbyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2bVxuICB9O1xufVxuXG4vKiAgKi9cblxudmFyIGFjdGl2ZUluc3RhbmNlID0gbnVsbDtcbnZhciBpc1VwZGF0aW5nQ2hpbGRDb21wb25lbnQgPSBmYWxzZTtcblxuZnVuY3Rpb24gc2V0QWN0aXZlSW5zdGFuY2Uodm0pIHtcbiAgdmFyIHByZXZBY3RpdmVJbnN0YW5jZSA9IGFjdGl2ZUluc3RhbmNlO1xuICBhY3RpdmVJbnN0YW5jZSA9IHZtO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGFjdGl2ZUluc3RhbmNlID0gcHJldkFjdGl2ZUluc3RhbmNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRMaWZlY3ljbGUgKHZtKSB7XG4gIHZhciBvcHRpb25zID0gdm0uJG9wdGlvbnM7XG5cbiAgLy8gbG9jYXRlIGZpcnN0IG5vbi1hYnN0cmFjdCBwYXJlbnRcbiAgdmFyIHBhcmVudCA9IG9wdGlvbnMucGFyZW50O1xuICBpZiAocGFyZW50ICYmICFvcHRpb25zLmFic3RyYWN0KSB7XG4gICAgd2hpbGUgKHBhcmVudC4kb3B0aW9ucy5hYnN0cmFjdCAmJiBwYXJlbnQuJHBhcmVudCkge1xuICAgICAgcGFyZW50ID0gcGFyZW50LiRwYXJlbnQ7XG4gICAgfVxuICAgIHBhcmVudC4kY2hpbGRyZW4ucHVzaCh2bSk7XG4gIH1cblxuICB2bS4kcGFyZW50ID0gcGFyZW50O1xuICB2bS4kcm9vdCA9IHBhcmVudCA/IHBhcmVudC4kcm9vdCA6IHZtO1xuXG4gIHZtLiRjaGlsZHJlbiA9IFtdO1xuICB2bS4kcmVmcyA9IHt9O1xuXG4gIHZtLl93YXRjaGVyID0gbnVsbDtcbiAgdm0uX2luYWN0aXZlID0gbnVsbDtcbiAgdm0uX2RpcmVjdEluYWN0aXZlID0gZmFsc2U7XG4gIHZtLl9pc01vdW50ZWQgPSBmYWxzZTtcbiAgdm0uX2lzRGVzdHJveWVkID0gZmFsc2U7XG4gIHZtLl9pc0JlaW5nRGVzdHJveWVkID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGxpZmVjeWNsZU1peGluIChWdWUpIHtcbiAgVnVlLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKHZub2RlLCBoeWRyYXRpbmcpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIHZhciBwcmV2RWwgPSB2bS4kZWw7XG4gICAgdmFyIHByZXZWbm9kZSA9IHZtLl92bm9kZTtcbiAgICB2YXIgcmVzdG9yZUFjdGl2ZUluc3RhbmNlID0gc2V0QWN0aXZlSW5zdGFuY2Uodm0pO1xuICAgIHZtLl92bm9kZSA9IHZub2RlO1xuICAgIC8vIFZ1ZS5wcm90b3R5cGUuX19wYXRjaF9fIGlzIGluamVjdGVkIGluIGVudHJ5IHBvaW50c1xuICAgIC8vIGJhc2VkIG9uIHRoZSByZW5kZXJpbmcgYmFja2VuZCB1c2VkLlxuICAgIGlmICghcHJldlZub2RlKSB7XG4gICAgICAvLyBpbml0aWFsIHJlbmRlclxuICAgICAgdm0uJGVsID0gdm0uX19wYXRjaF9fKHZtLiRlbCwgdm5vZGUsIGh5ZHJhdGluZywgZmFsc2UgLyogcmVtb3ZlT25seSAqLyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHVwZGF0ZXNcbiAgICAgIHZtLiRlbCA9IHZtLl9fcGF0Y2hfXyhwcmV2Vm5vZGUsIHZub2RlKTtcbiAgICB9XG4gICAgcmVzdG9yZUFjdGl2ZUluc3RhbmNlKCk7XG4gICAgLy8gdXBkYXRlIF9fdnVlX18gcmVmZXJlbmNlXG4gICAgaWYgKHByZXZFbCkge1xuICAgICAgcHJldkVsLl9fdnVlX18gPSBudWxsO1xuICAgIH1cbiAgICBpZiAodm0uJGVsKSB7XG4gICAgICB2bS4kZWwuX192dWVfXyA9IHZtO1xuICAgIH1cbiAgICAvLyBpZiBwYXJlbnQgaXMgYW4gSE9DLCB1cGRhdGUgaXRzICRlbCBhcyB3ZWxsXG4gICAgaWYgKHZtLiR2bm9kZSAmJiB2bS4kcGFyZW50ICYmIHZtLiR2bm9kZSA9PT0gdm0uJHBhcmVudC5fdm5vZGUpIHtcbiAgICAgIHZtLiRwYXJlbnQuJGVsID0gdm0uJGVsO1xuICAgIH1cbiAgICAvLyB1cGRhdGVkIGhvb2sgaXMgY2FsbGVkIGJ5IHRoZSBzY2hlZHVsZXIgdG8gZW5zdXJlIHRoYXQgY2hpbGRyZW4gYXJlXG4gICAgLy8gdXBkYXRlZCBpbiBhIHBhcmVudCdzIHVwZGF0ZWQgaG9vay5cbiAgfTtcblxuICBWdWUucHJvdG90eXBlLiRmb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdm0gPSB0aGlzO1xuICAgIGlmICh2bS5fd2F0Y2hlcikge1xuICAgICAgdm0uX3dhdGNoZXIudXBkYXRlKCk7XG4gICAgfVxuICB9O1xuXG4gIFZ1ZS5wcm90b3R5cGUuJGRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZtID0gdGhpcztcbiAgICBpZiAodm0uX2lzQmVpbmdEZXN0cm95ZWQpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZURlc3Ryb3knKTtcbiAgICB2bS5faXNCZWluZ0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSBwYXJlbnRcbiAgICB2YXIgcGFyZW50ID0gdm0uJHBhcmVudDtcbiAgICBpZiAocGFyZW50ICYmICFwYXJlbnQuX2lzQmVpbmdEZXN0cm95ZWQgJiYgIXZtLiRvcHRpb25zLmFic3RyYWN0KSB7XG4gICAgICByZW1vdmUocGFyZW50LiRjaGlsZHJlbiwgdm0pO1xuICAgIH1cbiAgICAvLyB0ZWFyZG93biB3YXRjaGVyc1xuICAgIGlmICh2bS5fd2F0Y2hlcikge1xuICAgICAgdm0uX3dhdGNoZXIudGVhcmRvd24oKTtcbiAgICB9XG4gICAgdmFyIGkgPSB2bS5fd2F0Y2hlcnMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHZtLl93YXRjaGVyc1tpXS50ZWFyZG93bigpO1xuICAgIH1cbiAgICAvLyByZW1vdmUgcmVmZXJlbmNlIGZyb20gZGF0YSBvYlxuICAgIC8vIGZyb3plbiBvYmplY3QgbWF5IG5vdCBoYXZlIG9ic2VydmVyLlxuICAgIGlmICh2bS5fZGF0YS5fX29iX18pIHtcbiAgICAgIHZtLl9kYXRhLl9fb2JfXy52bUNvdW50LS07XG4gICAgfVxuICAgIC8vIGNhbGwgdGhlIGxhc3QgaG9vay4uLlxuICAgIHZtLl9pc0Rlc3Ryb3llZCA9IHRydWU7XG4gICAgLy8gaW52b2tlIGRlc3Ryb3kgaG9va3Mgb24gY3VycmVudCByZW5kZXJlZCB0cmVlXG4gICAgdm0uX19wYXRjaF9fKHZtLl92bm9kZSwgbnVsbCk7XG4gICAgLy8gZmlyZSBkZXN0cm95ZWQgaG9va1xuICAgIGNhbGxIb29rKHZtLCAnZGVzdHJveWVkJyk7XG4gICAgLy8gdHVybiBvZmYgYWxsIGluc3RhbmNlIGxpc3RlbmVycy5cbiAgICB2bS4kb2ZmKCk7XG4gICAgLy8gcmVtb3ZlIF9fdnVlX18gcmVmZXJlbmNlXG4gICAgaWYgKHZtLiRlbCkge1xuICAgICAgdm0uJGVsLl9fdnVlX18gPSBudWxsO1xuICAgIH1cbiAgICAvLyByZWxlYXNlIGNpcmN1bGFyIHJlZmVyZW5jZSAoIzY3NTkpXG4gICAgaWYgKHZtLiR2bm9kZSkge1xuICAgICAgdm0uJHZub2RlLnBhcmVudCA9IG51bGw7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBtb3VudENvbXBvbmVudCAoXG4gIHZtLFxuICBlbCxcbiAgaHlkcmF0aW5nXG4pIHtcbiAgdm0uJGVsID0gZWw7XG4gIGlmICghdm0uJG9wdGlvbnMucmVuZGVyKSB7XG4gICAgdm0uJG9wdGlvbnMucmVuZGVyID0gY3JlYXRlRW1wdHlWTm9kZTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoKHZtLiRvcHRpb25zLnRlbXBsYXRlICYmIHZtLiRvcHRpb25zLnRlbXBsYXRlLmNoYXJBdCgwKSAhPT0gJyMnKSB8fFxuICAgICAgICB2bS4kb3B0aW9ucy5lbCB8fCBlbCkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgICdZb3UgYXJlIHVzaW5nIHRoZSBydW50aW1lLW9ubHkgYnVpbGQgb2YgVnVlIHdoZXJlIHRoZSB0ZW1wbGF0ZSAnICtcbiAgICAgICAgICAnY29tcGlsZXIgaXMgbm90IGF2YWlsYWJsZS4gRWl0aGVyIHByZS1jb21waWxlIHRoZSB0ZW1wbGF0ZXMgaW50byAnICtcbiAgICAgICAgICAncmVuZGVyIGZ1bmN0aW9ucywgb3IgdXNlIHRoZSBjb21waWxlci1pbmNsdWRlZCBidWlsZC4nLFxuICAgICAgICAgIHZtXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgICdGYWlsZWQgdG8gbW91bnQgY29tcG9uZW50OiB0ZW1wbGF0ZSBvciByZW5kZXIgZnVuY3Rpb24gbm90IGRlZmluZWQuJyxcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjYWxsSG9vayh2bSwgJ2JlZm9yZU1vdW50Jyk7XG5cbiAgdmFyIHVwZGF0ZUNvbXBvbmVudDtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGNvbmZpZy5wZXJmb3JtYW5jZSAmJiBtYXJrKSB7XG4gICAgdXBkYXRlQ29tcG9uZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG5hbWUgPSB2bS5fbmFtZTtcbiAgICAgIHZhciBpZCA9IHZtLl91aWQ7XG4gICAgICB2YXIgc3RhcnRUYWcgPSBcInZ1ZS1wZXJmLXN0YXJ0OlwiICsgaWQ7XG4gICAgICB2YXIgZW5kVGFnID0gXCJ2dWUtcGVyZi1lbmQ6XCIgKyBpZDtcblxuICAgICAgbWFyayhzdGFydFRhZyk7XG4gICAgICB2YXIgdm5vZGUgPSB2bS5fcmVuZGVyKCk7XG4gICAgICBtYXJrKGVuZFRhZyk7XG4gICAgICBtZWFzdXJlKChcInZ1ZSBcIiArIG5hbWUgKyBcIiByZW5kZXJcIiksIHN0YXJ0VGFnLCBlbmRUYWcpO1xuXG4gICAgICBtYXJrKHN0YXJ0VGFnKTtcbiAgICAgIHZtLl91cGRhdGUodm5vZGUsIGh5ZHJhdGluZyk7XG4gICAgICBtYXJrKGVuZFRhZyk7XG4gICAgICBtZWFzdXJlKChcInZ1ZSBcIiArIG5hbWUgKyBcIiBwYXRjaFwiKSwgc3RhcnRUYWcsIGVuZFRhZyk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB1cGRhdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2bS5fdXBkYXRlKHZtLl9yZW5kZXIoKSwgaHlkcmF0aW5nKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gd2Ugc2V0IHRoaXMgdG8gdm0uX3dhdGNoZXIgaW5zaWRlIHRoZSB3YXRjaGVyJ3MgY29uc3RydWN0b3JcbiAgLy8gc2luY2UgdGhlIHdhdGNoZXIncyBpbml0aWFsIHBhdGNoIG1heSBjYWxsICRmb3JjZVVwZGF0ZSAoZS5nLiBpbnNpZGUgY2hpbGRcbiAgLy8gY29tcG9uZW50J3MgbW91bnRlZCBob29rKSwgd2hpY2ggcmVsaWVzIG9uIHZtLl93YXRjaGVyIGJlaW5nIGFscmVhZHkgZGVmaW5lZFxuICBuZXcgV2F0Y2hlcih2bSwgdXBkYXRlQ29tcG9uZW50LCBub29wLCB7XG4gICAgYmVmb3JlOiBmdW5jdGlvbiBiZWZvcmUgKCkge1xuICAgICAgaWYgKHZtLl9pc01vdW50ZWQgJiYgIXZtLl9pc0Rlc3Ryb3llZCkge1xuICAgICAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZVVwZGF0ZScpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgdHJ1ZSAvKiBpc1JlbmRlcldhdGNoZXIgKi8pO1xuICBoeWRyYXRpbmcgPSBmYWxzZTtcblxuICAvLyBtYW51YWxseSBtb3VudGVkIGluc3RhbmNlLCBjYWxsIG1vdW50ZWQgb24gc2VsZlxuICAvLyBtb3VudGVkIGlzIGNhbGxlZCBmb3IgcmVuZGVyLWNyZWF0ZWQgY2hpbGQgY29tcG9uZW50cyBpbiBpdHMgaW5zZXJ0ZWQgaG9va1xuICBpZiAodm0uJHZub2RlID09IG51bGwpIHtcbiAgICB2bS5faXNNb3VudGVkID0gdHJ1ZTtcbiAgICBjYWxsSG9vayh2bSwgJ21vdW50ZWQnKTtcbiAgfVxuICByZXR1cm4gdm1cbn1cblxuZnVuY3Rpb24gdXBkYXRlQ2hpbGRDb21wb25lbnQgKFxuICB2bSxcbiAgcHJvcHNEYXRhLFxuICBsaXN0ZW5lcnMsXG4gIHBhcmVudFZub2RlLFxuICByZW5kZXJDaGlsZHJlblxuKSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaXNVcGRhdGluZ0NoaWxkQ29tcG9uZW50ID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIGRldGVybWluZSB3aGV0aGVyIGNvbXBvbmVudCBoYXMgc2xvdCBjaGlsZHJlblxuICAvLyB3ZSBuZWVkIHRvIGRvIHRoaXMgYmVmb3JlIG92ZXJ3cml0aW5nICRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbi5cblxuICAvLyBjaGVjayBpZiB0aGVyZSBhcmUgZHluYW1pYyBzY29wZWRTbG90cyAoaGFuZC13cml0dGVuIG9yIGNvbXBpbGVkIGJ1dCB3aXRoXG4gIC8vIGR5bmFtaWMgc2xvdCBuYW1lcykuIFN0YXRpYyBzY29wZWQgc2xvdHMgY29tcGlsZWQgZnJvbSB0ZW1wbGF0ZSBoYXMgdGhlXG4gIC8vIFwiJHN0YWJsZVwiIG1hcmtlci5cbiAgdmFyIG5ld1Njb3BlZFNsb3RzID0gcGFyZW50Vm5vZGUuZGF0YS5zY29wZWRTbG90cztcbiAgdmFyIG9sZFNjb3BlZFNsb3RzID0gdm0uJHNjb3BlZFNsb3RzO1xuICB2YXIgaGFzRHluYW1pY1Njb3BlZFNsb3QgPSAhIShcbiAgICAobmV3U2NvcGVkU2xvdHMgJiYgIW5ld1Njb3BlZFNsb3RzLiRzdGFibGUpIHx8XG4gICAgKG9sZFNjb3BlZFNsb3RzICE9PSBlbXB0eU9iamVjdCAmJiAhb2xkU2NvcGVkU2xvdHMuJHN0YWJsZSkgfHxcbiAgICAobmV3U2NvcGVkU2xvdHMgJiYgdm0uJHNjb3BlZFNsb3RzLiRrZXkgIT09IG5ld1Njb3BlZFNsb3RzLiRrZXkpXG4gICk7XG5cbiAgLy8gQW55IHN0YXRpYyBzbG90IGNoaWxkcmVuIGZyb20gdGhlIHBhcmVudCBtYXkgaGF2ZSBjaGFuZ2VkIGR1cmluZyBwYXJlbnQnc1xuICAvLyB1cGRhdGUuIER5bmFtaWMgc2NvcGVkIHNsb3RzIG1heSBhbHNvIGhhdmUgY2hhbmdlZC4gSW4gc3VjaCBjYXNlcywgYSBmb3JjZWRcbiAgLy8gdXBkYXRlIGlzIG5lY2Vzc2FyeSB0byBlbnN1cmUgY29ycmVjdG5lc3MuXG4gIHZhciBuZWVkc0ZvcmNlVXBkYXRlID0gISEoXG4gICAgcmVuZGVyQ2hpbGRyZW4gfHwgICAgICAgICAgICAgICAvLyBoYXMgbmV3IHN0YXRpYyBzbG90c1xuICAgIHZtLiRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbiB8fCAgLy8gaGFzIG9sZCBzdGF0aWMgc2xvdHNcbiAgICBoYXNEeW5hbWljU2NvcGVkU2xvdFxuICApO1xuXG4gIHZtLiRvcHRpb25zLl9wYXJlbnRWbm9kZSA9IHBhcmVudFZub2RlO1xuICB2bS4kdm5vZGUgPSBwYXJlbnRWbm9kZTsgLy8gdXBkYXRlIHZtJ3MgcGxhY2Vob2xkZXIgbm9kZSB3aXRob3V0IHJlLXJlbmRlclxuXG4gIGlmICh2bS5fdm5vZGUpIHsgLy8gdXBkYXRlIGNoaWxkIHRyZWUncyBwYXJlbnRcbiAgICB2bS5fdm5vZGUucGFyZW50ID0gcGFyZW50Vm5vZGU7XG4gIH1cbiAgdm0uJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVuID0gcmVuZGVyQ2hpbGRyZW47XG5cbiAgLy8gdXBkYXRlICRhdHRycyBhbmQgJGxpc3RlbmVycyBoYXNoXG4gIC8vIHRoZXNlIGFyZSBhbHNvIHJlYWN0aXZlIHNvIHRoZXkgbWF5IHRyaWdnZXIgY2hpbGQgdXBkYXRlIGlmIHRoZSBjaGlsZFxuICAvLyB1c2VkIHRoZW0gZHVyaW5nIHJlbmRlclxuICB2bS4kYXR0cnMgPSBwYXJlbnRWbm9kZS5kYXRhLmF0dHJzIHx8IGVtcHR5T2JqZWN0O1xuICB2bS4kbGlzdGVuZXJzID0gbGlzdGVuZXJzIHx8IGVtcHR5T2JqZWN0O1xuXG4gIC8vIHVwZGF0ZSBwcm9wc1xuICBpZiAocHJvcHNEYXRhICYmIHZtLiRvcHRpb25zLnByb3BzKSB7XG4gICAgdG9nZ2xlT2JzZXJ2aW5nKGZhbHNlKTtcbiAgICB2YXIgcHJvcHMgPSB2bS5fcHJvcHM7XG4gICAgdmFyIHByb3BLZXlzID0gdm0uJG9wdGlvbnMuX3Byb3BLZXlzIHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBwcm9wS2V5c1tpXTtcbiAgICAgIHZhciBwcm9wT3B0aW9ucyA9IHZtLiRvcHRpb25zLnByb3BzOyAvLyB3dGYgZmxvdz9cbiAgICAgIHByb3BzW2tleV0gPSB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wT3B0aW9ucywgcHJvcHNEYXRhLCB2bSk7XG4gICAgfVxuICAgIHRvZ2dsZU9ic2VydmluZyh0cnVlKTtcbiAgICAvLyBrZWVwIGEgY29weSBvZiByYXcgcHJvcHNEYXRhXG4gICAgdm0uJG9wdGlvbnMucHJvcHNEYXRhID0gcHJvcHNEYXRhO1xuICB9XG5cbiAgLy8gdXBkYXRlIGxpc3RlbmVyc1xuICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMgfHwgZW1wdHlPYmplY3Q7XG4gIHZhciBvbGRMaXN0ZW5lcnMgPSB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuICB2bS4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzID0gbGlzdGVuZXJzO1xuICB1cGRhdGVDb21wb25lbnRMaXN0ZW5lcnModm0sIGxpc3RlbmVycywgb2xkTGlzdGVuZXJzKTtcblxuICAvLyByZXNvbHZlIHNsb3RzICsgZm9yY2UgdXBkYXRlIGlmIGhhcyBjaGlsZHJlblxuICBpZiAobmVlZHNGb3JjZVVwZGF0ZSkge1xuICAgIHZtLiRzbG90cyA9IHJlc29sdmVTbG90cyhyZW5kZXJDaGlsZHJlbiwgcGFyZW50Vm5vZGUuY29udGV4dCk7XG4gICAgdm0uJGZvcmNlVXBkYXRlKCk7XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlzVXBkYXRpbmdDaGlsZENvbXBvbmVudCA9IGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzSW5JbmFjdGl2ZVRyZWUgKHZtKSB7XG4gIHdoaWxlICh2bSAmJiAodm0gPSB2bS4kcGFyZW50KSkge1xuICAgIGlmICh2bS5faW5hY3RpdmUpIHsgcmV0dXJuIHRydWUgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBhY3RpdmF0ZUNoaWxkQ29tcG9uZW50ICh2bSwgZGlyZWN0KSB7XG4gIGlmIChkaXJlY3QpIHtcbiAgICB2bS5fZGlyZWN0SW5hY3RpdmUgPSBmYWxzZTtcbiAgICBpZiAoaXNJbkluYWN0aXZlVHJlZSh2bSkpIHtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgfSBlbHNlIGlmICh2bS5fZGlyZWN0SW5hY3RpdmUpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAodm0uX2luYWN0aXZlIHx8IHZtLl9pbmFjdGl2ZSA9PT0gbnVsbCkge1xuICAgIHZtLl9pbmFjdGl2ZSA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdm0uJGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KHZtLiRjaGlsZHJlbltpXSk7XG4gICAgfVxuICAgIGNhbGxIb29rKHZtLCAnYWN0aXZhdGVkJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVhY3RpdmF0ZUNoaWxkQ29tcG9uZW50ICh2bSwgZGlyZWN0KSB7XG4gIGlmIChkaXJlY3QpIHtcbiAgICB2bS5fZGlyZWN0SW5hY3RpdmUgPSB0cnVlO1xuICAgIGlmIChpc0luSW5hY3RpdmVUcmVlKHZtKSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuICB9XG4gIGlmICghdm0uX2luYWN0aXZlKSB7XG4gICAgdm0uX2luYWN0aXZlID0gdHJ1ZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZtLiRjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgZGVhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KHZtLiRjaGlsZHJlbltpXSk7XG4gICAgfVxuICAgIGNhbGxIb29rKHZtLCAnZGVhY3RpdmF0ZWQnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWxsSG9vayAodm0sIGhvb2spIHtcbiAgLy8gIzc1NzMgZGlzYWJsZSBkZXAgY29sbGVjdGlvbiB3aGVuIGludm9raW5nIGxpZmVjeWNsZSBob29rc1xuICBwdXNoVGFyZ2V0KCk7XG4gIHZhciBoYW5kbGVycyA9IHZtLiRvcHRpb25zW2hvb2tdO1xuICB2YXIgaW5mbyA9IGhvb2sgKyBcIiBob29rXCI7XG4gIGlmIChoYW5kbGVycykge1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBpbnZva2VXaXRoRXJyb3JIYW5kbGluZyhoYW5kbGVyc1tpXSwgdm0sIG51bGwsIHZtLCBpbmZvKTtcbiAgICB9XG4gIH1cbiAgaWYgKHZtLl9oYXNIb29rRXZlbnQpIHtcbiAgICB2bS4kZW1pdCgnaG9vazonICsgaG9vayk7XG4gIH1cbiAgcG9wVGFyZ2V0KCk7XG59XG5cbi8qICAqL1xuXG52YXIgTUFYX1VQREFURV9DT1VOVCA9IDEwMDtcblxudmFyIHF1ZXVlID0gW107XG52YXIgYWN0aXZhdGVkQ2hpbGRyZW4gPSBbXTtcbnZhciBoYXMgPSB7fTtcbnZhciBjaXJjdWxhciA9IHt9O1xudmFyIHdhaXRpbmcgPSBmYWxzZTtcbnZhciBmbHVzaGluZyA9IGZhbHNlO1xudmFyIGluZGV4ID0gMDtcblxuLyoqXG4gKiBSZXNldCB0aGUgc2NoZWR1bGVyJ3Mgc3RhdGUuXG4gKi9cbmZ1bmN0aW9uIHJlc2V0U2NoZWR1bGVyU3RhdGUgKCkge1xuICBpbmRleCA9IHF1ZXVlLmxlbmd0aCA9IGFjdGl2YXRlZENoaWxkcmVuLmxlbmd0aCA9IDA7XG4gIGhhcyA9IHt9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNpcmN1bGFyID0ge307XG4gIH1cbiAgd2FpdGluZyA9IGZsdXNoaW5nID0gZmFsc2U7XG59XG5cbi8vIEFzeW5jIGVkZ2UgY2FzZSAjNjU2NiByZXF1aXJlcyBzYXZpbmcgdGhlIHRpbWVzdGFtcCB3aGVuIGV2ZW50IGxpc3RlbmVycyBhcmVcbi8vIGF0dGFjaGVkLiBIb3dldmVyLCBjYWxsaW5nIHBlcmZvcm1hbmNlLm5vdygpIGhhcyBhIHBlcmYgb3ZlcmhlYWQgZXNwZWNpYWxseVxuLy8gaWYgdGhlIHBhZ2UgaGFzIHRob3VzYW5kcyBvZiBldmVudCBsaXN0ZW5lcnMuIEluc3RlYWQsIHdlIHRha2UgYSB0aW1lc3RhbXBcbi8vIGV2ZXJ5IHRpbWUgdGhlIHNjaGVkdWxlciBmbHVzaGVzIGFuZCB1c2UgdGhhdCBmb3IgYWxsIGV2ZW50IGxpc3RlbmVyc1xuLy8gYXR0YWNoZWQgZHVyaW5nIHRoYXQgZmx1c2guXG52YXIgY3VycmVudEZsdXNoVGltZXN0YW1wID0gMDtcblxuLy8gQXN5bmMgZWRnZSBjYXNlIGZpeCByZXF1aXJlcyBzdG9yaW5nIGFuIGV2ZW50IGxpc3RlbmVyJ3MgYXR0YWNoIHRpbWVzdGFtcC5cbnZhciBnZXROb3cgPSBEYXRlLm5vdztcblxuLy8gRGV0ZXJtaW5lIHdoYXQgZXZlbnQgdGltZXN0YW1wIHRoZSBicm93c2VyIGlzIHVzaW5nLiBBbm5veWluZ2x5LCB0aGVcbi8vIHRpbWVzdGFtcCBjYW4gZWl0aGVyIGJlIGhpLXJlcyAocmVsYXRpdmUgdG8gcGFnZSBsb2FkKSBvciBsb3ctcmVzXG4vLyAocmVsYXRpdmUgdG8gVU5JWCBlcG9jaCksIHNvIGluIG9yZGVyIHRvIGNvbXBhcmUgdGltZSB3ZSBoYXZlIHRvIHVzZSB0aGVcbi8vIHNhbWUgdGltZXN0YW1wIHR5cGUgd2hlbiBzYXZpbmcgdGhlIGZsdXNoIHRpbWVzdGFtcC5cbi8vIEFsbCBJRSB2ZXJzaW9ucyB1c2UgbG93LXJlcyBldmVudCB0aW1lc3RhbXBzLCBhbmQgaGF2ZSBwcm9ibGVtYXRpYyBjbG9ja1xuLy8gaW1wbGVtZW50YXRpb25zICgjOTYzMilcbmlmIChpbkJyb3dzZXIgJiYgIWlzSUUpIHtcbiAgdmFyIHBlcmZvcm1hbmNlID0gd2luZG93LnBlcmZvcm1hbmNlO1xuICBpZiAoXG4gICAgcGVyZm9ybWFuY2UgJiZcbiAgICB0eXBlb2YgcGVyZm9ybWFuY2Uubm93ID09PSAnZnVuY3Rpb24nICYmXG4gICAgZ2V0Tm93KCkgPiBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKS50aW1lU3RhbXBcbiAgKSB7XG4gICAgLy8gaWYgdGhlIGV2ZW50IHRpbWVzdGFtcCwgYWx0aG91Z2ggZXZhbHVhdGVkIEFGVEVSIHRoZSBEYXRlLm5vdygpLCBpc1xuICAgIC8vIHNtYWxsZXIgdGhhbiBpdCwgaXQgbWVhbnMgdGhlIGV2ZW50IGlzIHVzaW5nIGEgaGktcmVzIHRpbWVzdGFtcCxcbiAgICAvLyBhbmQgd2UgbmVlZCB0byB1c2UgdGhlIGhpLXJlcyB2ZXJzaW9uIGZvciBldmVudCBsaXN0ZW5lciB0aW1lc3RhbXBzIGFzXG4gICAgLy8gd2VsbC5cbiAgICBnZXROb3cgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTsgfTtcbiAgfVxufVxuXG4vKipcbiAqIEZsdXNoIGJvdGggcXVldWVzIGFuZCBydW4gdGhlIHdhdGNoZXJzLlxuICovXG5mdW5jdGlvbiBmbHVzaFNjaGVkdWxlclF1ZXVlICgpIHtcbiAgY3VycmVudEZsdXNoVGltZXN0YW1wID0gZ2V0Tm93KCk7XG4gIGZsdXNoaW5nID0gdHJ1ZTtcbiAgdmFyIHdhdGNoZXIsIGlkO1xuXG4gIC8vIFNvcnQgcXVldWUgYmVmb3JlIGZsdXNoLlxuICAvLyBUaGlzIGVuc3VyZXMgdGhhdDpcbiAgLy8gMS4gQ29tcG9uZW50cyBhcmUgdXBkYXRlZCBmcm9tIHBhcmVudCB0byBjaGlsZC4gKGJlY2F1c2UgcGFyZW50IGlzIGFsd2F5c1xuICAvLyAgICBjcmVhdGVkIGJlZm9yZSB0aGUgY2hpbGQpXG4gIC8vIDIuIEEgY29tcG9uZW50J3MgdXNlciB3YXRjaGVycyBhcmUgcnVuIGJlZm9yZSBpdHMgcmVuZGVyIHdhdGNoZXIgKGJlY2F1c2VcbiAgLy8gICAgdXNlciB3YXRjaGVycyBhcmUgY3JlYXRlZCBiZWZvcmUgdGhlIHJlbmRlciB3YXRjaGVyKVxuICAvLyAzLiBJZiBhIGNvbXBvbmVudCBpcyBkZXN0cm95ZWQgZHVyaW5nIGEgcGFyZW50IGNvbXBvbmVudCdzIHdhdGNoZXIgcnVuLFxuICAvLyAgICBpdHMgd2F0Y2hlcnMgY2FuIGJlIHNraXBwZWQuXG4gIHF1ZXVlLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuaWQgLSBiLmlkOyB9KTtcblxuICAvLyBkbyBub3QgY2FjaGUgbGVuZ3RoIGJlY2F1c2UgbW9yZSB3YXRjaGVycyBtaWdodCBiZSBwdXNoZWRcbiAgLy8gYXMgd2UgcnVuIGV4aXN0aW5nIHdhdGNoZXJzXG4gIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IHF1ZXVlLmxlbmd0aDsgaW5kZXgrKykge1xuICAgIHdhdGNoZXIgPSBxdWV1ZVtpbmRleF07XG4gICAgaWYgKHdhdGNoZXIuYmVmb3JlKSB7XG4gICAgICB3YXRjaGVyLmJlZm9yZSgpO1xuICAgIH1cbiAgICBpZCA9IHdhdGNoZXIuaWQ7XG4gICAgaGFzW2lkXSA9IG51bGw7XG4gICAgd2F0Y2hlci5ydW4oKTtcbiAgICAvLyBpbiBkZXYgYnVpbGQsIGNoZWNrIGFuZCBzdG9wIGNpcmN1bGFyIHVwZGF0ZXMuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgaGFzW2lkXSAhPSBudWxsKSB7XG4gICAgICBjaXJjdWxhcltpZF0gPSAoY2lyY3VsYXJbaWRdIHx8IDApICsgMTtcbiAgICAgIGlmIChjaXJjdWxhcltpZF0gPiBNQVhfVVBEQVRFX0NPVU5UKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgJ1lvdSBtYXkgaGF2ZSBhbiBpbmZpbml0ZSB1cGRhdGUgbG9vcCAnICsgKFxuICAgICAgICAgICAgd2F0Y2hlci51c2VyXG4gICAgICAgICAgICAgID8gKFwiaW4gd2F0Y2hlciB3aXRoIGV4cHJlc3Npb24gXFxcIlwiICsgKHdhdGNoZXIuZXhwcmVzc2lvbikgKyBcIlxcXCJcIilcbiAgICAgICAgICAgICAgOiBcImluIGEgY29tcG9uZW50IHJlbmRlciBmdW5jdGlvbi5cIlxuICAgICAgICAgICksXG4gICAgICAgICAgd2F0Y2hlci52bVxuICAgICAgICApO1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGtlZXAgY29waWVzIG9mIHBvc3QgcXVldWVzIGJlZm9yZSByZXNldHRpbmcgc3RhdGVcbiAgdmFyIGFjdGl2YXRlZFF1ZXVlID0gYWN0aXZhdGVkQ2hpbGRyZW4uc2xpY2UoKTtcbiAgdmFyIHVwZGF0ZWRRdWV1ZSA9IHF1ZXVlLnNsaWNlKCk7XG5cbiAgcmVzZXRTY2hlZHVsZXJTdGF0ZSgpO1xuXG4gIC8vIGNhbGwgY29tcG9uZW50IHVwZGF0ZWQgYW5kIGFjdGl2YXRlZCBob29rc1xuICBjYWxsQWN0aXZhdGVkSG9va3MoYWN0aXZhdGVkUXVldWUpO1xuICBjYWxsVXBkYXRlZEhvb2tzKHVwZGF0ZWRRdWV1ZSk7XG5cbiAgLy8gZGV2dG9vbCBob29rXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoZGV2dG9vbHMgJiYgY29uZmlnLmRldnRvb2xzKSB7XG4gICAgZGV2dG9vbHMuZW1pdCgnZmx1c2gnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjYWxsVXBkYXRlZEhvb2tzIChxdWV1ZSkge1xuICB2YXIgaSA9IHF1ZXVlLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIHZhciB3YXRjaGVyID0gcXVldWVbaV07XG4gICAgdmFyIHZtID0gd2F0Y2hlci52bTtcbiAgICBpZiAodm0uX3dhdGNoZXIgPT09IHdhdGNoZXIgJiYgdm0uX2lzTW91bnRlZCAmJiAhdm0uX2lzRGVzdHJveWVkKSB7XG4gICAgICBjYWxsSG9vayh2bSwgJ3VwZGF0ZWQnKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBRdWV1ZSBhIGtlcHQtYWxpdmUgY29tcG9uZW50IHRoYXQgd2FzIGFjdGl2YXRlZCBkdXJpbmcgcGF0Y2guXG4gKiBUaGUgcXVldWUgd2lsbCBiZSBwcm9jZXNzZWQgYWZ0ZXIgdGhlIGVudGlyZSB0cmVlIGhhcyBiZWVuIHBhdGNoZWQuXG4gKi9cbmZ1bmN0aW9uIHF1ZXVlQWN0aXZhdGVkQ29tcG9uZW50ICh2bSkge1xuICAvLyBzZXR0aW5nIF9pbmFjdGl2ZSB0byBmYWxzZSBoZXJlIHNvIHRoYXQgYSByZW5kZXIgZnVuY3Rpb24gY2FuXG4gIC8vIHJlbHkgb24gY2hlY2tpbmcgd2hldGhlciBpdCdzIGluIGFuIGluYWN0aXZlIHRyZWUgKGUuZy4gcm91dGVyLXZpZXcpXG4gIHZtLl9pbmFjdGl2ZSA9IGZhbHNlO1xuICBhY3RpdmF0ZWRDaGlsZHJlbi5wdXNoKHZtKTtcbn1cblxuZnVuY3Rpb24gY2FsbEFjdGl2YXRlZEhvb2tzIChxdWV1ZSkge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgaSsrKSB7XG4gICAgcXVldWVbaV0uX2luYWN0aXZlID0gdHJ1ZTtcbiAgICBhY3RpdmF0ZUNoaWxkQ29tcG9uZW50KHF1ZXVlW2ldLCB0cnVlIC8qIHRydWUgKi8pO1xuICB9XG59XG5cbi8qKlxuICogUHVzaCBhIHdhdGNoZXIgaW50byB0aGUgd2F0Y2hlciBxdWV1ZS5cbiAqIEpvYnMgd2l0aCBkdXBsaWNhdGUgSURzIHdpbGwgYmUgc2tpcHBlZCB1bmxlc3MgaXQnc1xuICogcHVzaGVkIHdoZW4gdGhlIHF1ZXVlIGlzIGJlaW5nIGZsdXNoZWQuXG4gKi9cbmZ1bmN0aW9uIHF1ZXVlV2F0Y2hlciAod2F0Y2hlcikge1xuICB2YXIgaWQgPSB3YXRjaGVyLmlkO1xuICBpZiAoaGFzW2lkXSA9PSBudWxsKSB7XG4gICAgaGFzW2lkXSA9IHRydWU7XG4gICAgaWYgKCFmbHVzaGluZykge1xuICAgICAgcXVldWUucHVzaCh3YXRjaGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgYWxyZWFkeSBmbHVzaGluZywgc3BsaWNlIHRoZSB3YXRjaGVyIGJhc2VkIG9uIGl0cyBpZFxuICAgICAgLy8gaWYgYWxyZWFkeSBwYXN0IGl0cyBpZCwgaXQgd2lsbCBiZSBydW4gbmV4dCBpbW1lZGlhdGVseS5cbiAgICAgIHZhciBpID0gcXVldWUubGVuZ3RoIC0gMTtcbiAgICAgIHdoaWxlIChpID4gaW5kZXggJiYgcXVldWVbaV0uaWQgPiB3YXRjaGVyLmlkKSB7XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnNwbGljZShpICsgMSwgMCwgd2F0Y2hlcik7XG4gICAgfVxuICAgIC8vIHF1ZXVlIHRoZSBmbHVzaFxuICAgIGlmICghd2FpdGluZykge1xuICAgICAgd2FpdGluZyA9IHRydWU7XG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICFjb25maWcuYXN5bmMpIHtcbiAgICAgICAgZmx1c2hTY2hlZHVsZXJRdWV1ZSgpO1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIG5leHRUaWNrKGZsdXNoU2NoZWR1bGVyUXVldWUpO1xuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cblxuXG5cbnZhciB1aWQkMiA9IDA7XG5cbi8qKlxuICogQSB3YXRjaGVyIHBhcnNlcyBhbiBleHByZXNzaW9uLCBjb2xsZWN0cyBkZXBlbmRlbmNpZXMsXG4gKiBhbmQgZmlyZXMgY2FsbGJhY2sgd2hlbiB0aGUgZXhwcmVzc2lvbiB2YWx1ZSBjaGFuZ2VzLlxuICogVGhpcyBpcyB1c2VkIGZvciBib3RoIHRoZSAkd2F0Y2goKSBhcGkgYW5kIGRpcmVjdGl2ZXMuXG4gKi9cbnZhciBXYXRjaGVyID0gZnVuY3Rpb24gV2F0Y2hlciAoXG4gIHZtLFxuICBleHBPckZuLFxuICBjYixcbiAgb3B0aW9ucyxcbiAgaXNSZW5kZXJXYXRjaGVyXG4pIHtcbiAgdGhpcy52bSA9IHZtO1xuICBpZiAoaXNSZW5kZXJXYXRjaGVyKSB7XG4gICAgdm0uX3dhdGNoZXIgPSB0aGlzO1xuICB9XG4gIHZtLl93YXRjaGVycy5wdXNoKHRoaXMpO1xuICAvLyBvcHRpb25zXG4gIGlmIChvcHRpb25zKSB7XG4gICAgdGhpcy5kZWVwID0gISFvcHRpb25zLmRlZXA7XG4gICAgdGhpcy51c2VyID0gISFvcHRpb25zLnVzZXI7XG4gICAgdGhpcy5sYXp5ID0gISFvcHRpb25zLmxhenk7XG4gICAgdGhpcy5zeW5jID0gISFvcHRpb25zLnN5bmM7XG4gICAgdGhpcy5iZWZvcmUgPSBvcHRpb25zLmJlZm9yZTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmRlZXAgPSB0aGlzLnVzZXIgPSB0aGlzLmxhenkgPSB0aGlzLnN5bmMgPSBmYWxzZTtcbiAgfVxuICB0aGlzLmNiID0gY2I7XG4gIHRoaXMuaWQgPSArK3VpZCQyOyAvLyB1aWQgZm9yIGJhdGNoaW5nXG4gIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgdGhpcy5kaXJ0eSA9IHRoaXMubGF6eTsgLy8gZm9yIGxhenkgd2F0Y2hlcnNcbiAgdGhpcy5kZXBzID0gW107XG4gIHRoaXMubmV3RGVwcyA9IFtdO1xuICB0aGlzLmRlcElkcyA9IG5ldyBfU2V0KCk7XG4gIHRoaXMubmV3RGVwSWRzID0gbmV3IF9TZXQoKTtcbiAgdGhpcy5leHByZXNzaW9uID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJ1xuICAgID8gZXhwT3JGbi50b1N0cmluZygpXG4gICAgOiAnJztcbiAgLy8gcGFyc2UgZXhwcmVzc2lvbiBmb3IgZ2V0dGVyXG4gIGlmICh0eXBlb2YgZXhwT3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRoaXMuZ2V0dGVyID0gZXhwT3JGbjtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmdldHRlciA9IHBhcnNlUGF0aChleHBPckZuKTtcbiAgICBpZiAoIXRoaXMuZ2V0dGVyKSB7XG4gICAgICB0aGlzLmdldHRlciA9IG5vb3A7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgIFwiRmFpbGVkIHdhdGNoaW5nIHBhdGg6IFxcXCJcIiArIGV4cE9yRm4gKyBcIlxcXCIgXCIgK1xuICAgICAgICAnV2F0Y2hlciBvbmx5IGFjY2VwdHMgc2ltcGxlIGRvdC1kZWxpbWl0ZWQgcGF0aHMuICcgK1xuICAgICAgICAnRm9yIGZ1bGwgY29udHJvbCwgdXNlIGEgZnVuY3Rpb24gaW5zdGVhZC4nLFxuICAgICAgICB2bVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgdGhpcy52YWx1ZSA9IHRoaXMubGF6eVxuICAgID8gdW5kZWZpbmVkXG4gICAgOiB0aGlzLmdldCgpO1xufTtcblxuLyoqXG4gKiBFdmFsdWF0ZSB0aGUgZ2V0dGVyLCBhbmQgcmUtY29sbGVjdCBkZXBlbmRlbmNpZXMuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIGdldCAoKSB7XG4gIHB1c2hUYXJnZXQodGhpcyk7XG4gIHZhciB2YWx1ZTtcbiAgdmFyIHZtID0gdGhpcy52bTtcbiAgdHJ5IHtcbiAgICB2YWx1ZSA9IHRoaXMuZ2V0dGVyLmNhbGwodm0sIHZtKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmICh0aGlzLnVzZXIpIHtcbiAgICAgIGhhbmRsZUVycm9yKGUsIHZtLCAoXCJnZXR0ZXIgZm9yIHdhdGNoZXIgXFxcIlwiICsgKHRoaXMuZXhwcmVzc2lvbikgKyBcIlxcXCJcIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBlXG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIC8vIFwidG91Y2hcIiBldmVyeSBwcm9wZXJ0eSBzbyB0aGV5IGFyZSBhbGwgdHJhY2tlZCBhc1xuICAgIC8vIGRlcGVuZGVuY2llcyBmb3IgZGVlcCB3YXRjaGluZ1xuICAgIGlmICh0aGlzLmRlZXApIHtcbiAgICAgIHRyYXZlcnNlKHZhbHVlKTtcbiAgICB9XG4gICAgcG9wVGFyZ2V0KCk7XG4gICAgdGhpcy5jbGVhbnVwRGVwcygpO1xuICB9XG4gIHJldHVybiB2YWx1ZVxufTtcblxuLyoqXG4gKiBBZGQgYSBkZXBlbmRlbmN5IHRvIHRoaXMgZGlyZWN0aXZlLlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS5hZGREZXAgPSBmdW5jdGlvbiBhZGREZXAgKGRlcCkge1xuICB2YXIgaWQgPSBkZXAuaWQ7XG4gIGlmICghdGhpcy5uZXdEZXBJZHMuaGFzKGlkKSkge1xuICAgIHRoaXMubmV3RGVwSWRzLmFkZChpZCk7XG4gICAgdGhpcy5uZXdEZXBzLnB1c2goZGVwKTtcbiAgICBpZiAoIXRoaXMuZGVwSWRzLmhhcyhpZCkpIHtcbiAgICAgIGRlcC5hZGRTdWIodGhpcyk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIENsZWFuIHVwIGZvciBkZXBlbmRlbmN5IGNvbGxlY3Rpb24uXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmNsZWFudXBEZXBzID0gZnVuY3Rpb24gY2xlYW51cERlcHMgKCkge1xuICB2YXIgaSA9IHRoaXMuZGVwcy5sZW5ndGg7XG4gIHdoaWxlIChpLS0pIHtcbiAgICB2YXIgZGVwID0gdGhpcy5kZXBzW2ldO1xuICAgIGlmICghdGhpcy5uZXdEZXBJZHMuaGFzKGRlcC5pZCkpIHtcbiAgICAgIGRlcC5yZW1vdmVTdWIodGhpcyk7XG4gICAgfVxuICB9XG4gIHZhciB0bXAgPSB0aGlzLmRlcElkcztcbiAgdGhpcy5kZXBJZHMgPSB0aGlzLm5ld0RlcElkcztcbiAgdGhpcy5uZXdEZXBJZHMgPSB0bXA7XG4gIHRoaXMubmV3RGVwSWRzLmNsZWFyKCk7XG4gIHRtcCA9IHRoaXMuZGVwcztcbiAgdGhpcy5kZXBzID0gdGhpcy5uZXdEZXBzO1xuICB0aGlzLm5ld0RlcHMgPSB0bXA7XG4gIHRoaXMubmV3RGVwcy5sZW5ndGggPSAwO1xufTtcblxuLyoqXG4gKiBTdWJzY3JpYmVyIGludGVyZmFjZS5cbiAqIFdpbGwgYmUgY2FsbGVkIHdoZW4gYSBkZXBlbmRlbmN5IGNoYW5nZXMuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIHVwZGF0ZSAoKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmICh0aGlzLmxhenkpIHtcbiAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgfSBlbHNlIGlmICh0aGlzLnN5bmMpIHtcbiAgICB0aGlzLnJ1bigpO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlV2F0Y2hlcih0aGlzKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTY2hlZHVsZXIgam9iIGludGVyZmFjZS5cbiAqIFdpbGwgYmUgY2FsbGVkIGJ5IHRoZSBzY2hlZHVsZXIuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uIHJ1biAoKSB7XG4gIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuZ2V0KCk7XG4gICAgaWYgKFxuICAgICAgdmFsdWUgIT09IHRoaXMudmFsdWUgfHxcbiAgICAgIC8vIERlZXAgd2F0Y2hlcnMgYW5kIHdhdGNoZXJzIG9uIE9iamVjdC9BcnJheXMgc2hvdWxkIGZpcmUgZXZlblxuICAgICAgLy8gd2hlbiB0aGUgdmFsdWUgaXMgdGhlIHNhbWUsIGJlY2F1c2UgdGhlIHZhbHVlIG1heVxuICAgICAgLy8gaGF2ZSBtdXRhdGVkLlxuICAgICAgaXNPYmplY3QodmFsdWUpIHx8XG4gICAgICB0aGlzLmRlZXBcbiAgICApIHtcbiAgICAgIC8vIHNldCBuZXcgdmFsdWVcbiAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICBpZiAodGhpcy51c2VyKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhpcy5jYi5jYWxsKHRoaXMudm0sIHZhbHVlLCBvbGRWYWx1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBoYW5kbGVFcnJvcihlLCB0aGlzLnZtLCAoXCJjYWxsYmFjayBmb3Igd2F0Y2hlciBcXFwiXCIgKyAodGhpcy5leHByZXNzaW9uKSArIFwiXFxcIlwiKSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuY2IuY2FsbCh0aGlzLnZtLCB2YWx1ZSwgb2xkVmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBFdmFsdWF0ZSB0aGUgdmFsdWUgb2YgdGhlIHdhdGNoZXIuXG4gKiBUaGlzIG9ubHkgZ2V0cyBjYWxsZWQgZm9yIGxhenkgd2F0Y2hlcnMuXG4gKi9cbldhdGNoZXIucHJvdG90eXBlLmV2YWx1YXRlID0gZnVuY3Rpb24gZXZhbHVhdGUgKCkge1xuICB0aGlzLnZhbHVlID0gdGhpcy5nZXQoKTtcbiAgdGhpcy5kaXJ0eSA9IGZhbHNlO1xufTtcblxuLyoqXG4gKiBEZXBlbmQgb24gYWxsIGRlcHMgY29sbGVjdGVkIGJ5IHRoaXMgd2F0Y2hlci5cbiAqL1xuV2F0Y2hlci5wcm90b3R5cGUuZGVwZW5kID0gZnVuY3Rpb24gZGVwZW5kICgpIHtcbiAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgdGhpcy5kZXBzW2ldLmRlcGVuZCgpO1xuICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZSBzZWxmIGZyb20gYWxsIGRlcGVuZGVuY2llcycgc3Vic2NyaWJlciBsaXN0LlxuICovXG5XYXRjaGVyLnByb3RvdHlwZS50ZWFyZG93biA9IGZ1bmN0aW9uIHRlYXJkb3duICgpIHtcbiAgaWYgKHRoaXMuYWN0aXZlKSB7XG4gICAgLy8gcmVtb3ZlIHNlbGYgZnJvbSB2bSdzIHdhdGNoZXIgbGlzdFxuICAgIC8vIHRoaXMgaXMgYSBzb21ld2hhdCBleHBlbnNpdmUgb3BlcmF0aW9uIHNvIHdlIHNraXAgaXRcbiAgICAvLyBpZiB0aGUgdm0gaXMgYmVpbmcgZGVzdHJveWVkLlxuICAgIGlmICghdGhpcy52bS5faXNCZWluZ0Rlc3Ryb3llZCkge1xuICAgICAgcmVtb3ZlKHRoaXMudm0uX3dhdGNoZXJzLCB0aGlzKTtcbiAgICB9XG4gICAgdmFyIGkgPSB0aGlzLmRlcHMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgIHRoaXMuZGVwc1tpXS5yZW1vdmVTdWIodGhpcyk7XG4gICAgfVxuICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gIH1cbn07XG5cbi8qICAqL1xuXG52YXIgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uID0ge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBjb25maWd1cmFibGU6IHRydWUsXG4gIGdldDogbm9vcCxcbiAgc2V0OiBub29wXG59O1xuXG5mdW5jdGlvbiBwcm94eSAodGFyZ2V0LCBzb3VyY2VLZXksIGtleSkge1xuICBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24uZ2V0ID0gZnVuY3Rpb24gcHJveHlHZXR0ZXIgKCkge1xuICAgIHJldHVybiB0aGlzW3NvdXJjZUtleV1ba2V5XVxuICB9O1xuICBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24uc2V0ID0gZnVuY3Rpb24gcHJveHlTZXR0ZXIgKHZhbCkge1xuICAgIHRoaXNbc291cmNlS2V5XVtrZXldID0gdmFsO1xuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbik7XG59XG5cbmZ1bmN0aW9uIGluaXRTdGF0ZSAodm0pIHtcbiAgdm0uX3dhdGNoZXJzID0gW107XG4gIHZhciBvcHRzID0gdm0uJG9wdGlvbnM7XG4gIGlmIChvcHRzLnByb3BzKSB7IGluaXRQcm9wcyh2bSwgb3B0cy5wcm9wcyk7IH1cbiAgaWYgKG9wdHMubWV0aG9kcykgeyBpbml0TWV0aG9kcyh2bSwgb3B0cy5tZXRob2RzKTsgfVxuICBpZiAob3B0cy5kYXRhKSB7XG4gICAgaW5pdERhdGEodm0pO1xuICB9IGVsc2Uge1xuICAgIG9ic2VydmUodm0uX2RhdGEgPSB7fSwgdHJ1ZSAvKiBhc1Jvb3REYXRhICovKTtcbiAgfVxuICBpZiAob3B0cy5jb21wdXRlZCkgeyBpbml0Q29tcHV0ZWQodm0sIG9wdHMuY29tcHV0ZWQpOyB9XG4gIGlmIChvcHRzLndhdGNoICYmIG9wdHMud2F0Y2ggIT09IG5hdGl2ZVdhdGNoKSB7XG4gICAgaW5pdFdhdGNoKHZtLCBvcHRzLndhdGNoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0UHJvcHMgKHZtLCBwcm9wc09wdGlvbnMpIHtcbiAgdmFyIHByb3BzRGF0YSA9IHZtLiRvcHRpb25zLnByb3BzRGF0YSB8fCB7fTtcbiAgdmFyIHByb3BzID0gdm0uX3Byb3BzID0ge307XG4gIC8vIGNhY2hlIHByb3Aga2V5cyBzbyB0aGF0IGZ1dHVyZSBwcm9wcyB1cGRhdGVzIGNhbiBpdGVyYXRlIHVzaW5nIEFycmF5XG4gIC8vIGluc3RlYWQgb2YgZHluYW1pYyBvYmplY3Qga2V5IGVudW1lcmF0aW9uLlxuICB2YXIga2V5cyA9IHZtLiRvcHRpb25zLl9wcm9wS2V5cyA9IFtdO1xuICB2YXIgaXNSb290ID0gIXZtLiRwYXJlbnQ7XG4gIC8vIHJvb3QgaW5zdGFuY2UgcHJvcHMgc2hvdWxkIGJlIGNvbnZlcnRlZFxuICBpZiAoIWlzUm9vdCkge1xuICAgIHRvZ2dsZU9ic2VydmluZyhmYWxzZSk7XG4gIH1cbiAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGtleSApIHtcbiAgICBrZXlzLnB1c2goa2V5KTtcbiAgICB2YXIgdmFsdWUgPSB2YWxpZGF0ZVByb3Aoa2V5LCBwcm9wc09wdGlvbnMsIHByb3BzRGF0YSwgdm0pO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBoeXBoZW5hdGVkS2V5ID0gaHlwaGVuYXRlKGtleSk7XG4gICAgICBpZiAoaXNSZXNlcnZlZEF0dHJpYnV0ZShoeXBoZW5hdGVkS2V5KSB8fFxuICAgICAgICAgIGNvbmZpZy5pc1Jlc2VydmVkQXR0cihoeXBoZW5hdGVkS2V5KSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIChcIlxcXCJcIiArIGh5cGhlbmF0ZWRLZXkgKyBcIlxcXCIgaXMgYSByZXNlcnZlZCBhdHRyaWJ1dGUgYW5kIGNhbm5vdCBiZSB1c2VkIGFzIGNvbXBvbmVudCBwcm9wLlwiKSxcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgZGVmaW5lUmVhY3RpdmUkJDEocHJvcHMsIGtleSwgdmFsdWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFpc1Jvb3QgJiYgIWlzVXBkYXRpbmdDaGlsZENvbXBvbmVudCkge1xuICAgICAgICAgIHdhcm4oXG4gICAgICAgICAgICBcIkF2b2lkIG11dGF0aW5nIGEgcHJvcCBkaXJlY3RseSBzaW5jZSB0aGUgdmFsdWUgd2lsbCBiZSBcIiArXG4gICAgICAgICAgICBcIm92ZXJ3cml0dGVuIHdoZW5ldmVyIHRoZSBwYXJlbnQgY29tcG9uZW50IHJlLXJlbmRlcnMuIFwiICtcbiAgICAgICAgICAgIFwiSW5zdGVhZCwgdXNlIGEgZGF0YSBvciBjb21wdXRlZCBwcm9wZXJ0eSBiYXNlZCBvbiB0aGUgcHJvcCdzIFwiICtcbiAgICAgICAgICAgIFwidmFsdWUuIFByb3AgYmVpbmcgbXV0YXRlZDogXFxcIlwiICsga2V5ICsgXCJcXFwiXCIsXG4gICAgICAgICAgICB2bVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWZpbmVSZWFjdGl2ZSQkMShwcm9wcywga2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIC8vIHN0YXRpYyBwcm9wcyBhcmUgYWxyZWFkeSBwcm94aWVkIG9uIHRoZSBjb21wb25lbnQncyBwcm90b3R5cGVcbiAgICAvLyBkdXJpbmcgVnVlLmV4dGVuZCgpLiBXZSBvbmx5IG5lZWQgdG8gcHJveHkgcHJvcHMgZGVmaW5lZCBhdFxuICAgIC8vIGluc3RhbnRpYXRpb24gaGVyZS5cbiAgICBpZiAoIShrZXkgaW4gdm0pKSB7XG4gICAgICBwcm94eSh2bSwgXCJfcHJvcHNcIiwga2V5KTtcbiAgICB9XG4gIH07XG5cbiAgZm9yICh2YXIga2V5IGluIHByb3BzT3B0aW9ucykgbG9vcCgga2V5ICk7XG4gIHRvZ2dsZU9ic2VydmluZyh0cnVlKTtcbn1cblxuZnVuY3Rpb24gaW5pdERhdGEgKHZtKSB7XG4gIHZhciBkYXRhID0gdm0uJG9wdGlvbnMuZGF0YTtcbiAgZGF0YSA9IHZtLl9kYXRhID0gdHlwZW9mIGRhdGEgPT09ICdmdW5jdGlvbidcbiAgICA/IGdldERhdGEoZGF0YSwgdm0pXG4gICAgOiBkYXRhIHx8IHt9O1xuICBpZiAoIWlzUGxhaW5PYmplY3QoZGF0YSkpIHtcbiAgICBkYXRhID0ge307XG4gICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB3YXJuKFxuICAgICAgJ2RhdGEgZnVuY3Rpb25zIHNob3VsZCByZXR1cm4gYW4gb2JqZWN0OlxcbicgK1xuICAgICAgJ2h0dHBzOi8vdnVlanMub3JnL3YyL2d1aWRlL2NvbXBvbmVudHMuaHRtbCNkYXRhLU11c3QtQmUtYS1GdW5jdGlvbicsXG4gICAgICB2bVxuICAgICk7XG4gIH1cbiAgLy8gcHJveHkgZGF0YSBvbiBpbnN0YW5jZVxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEpO1xuICB2YXIgcHJvcHMgPSB2bS4kb3B0aW9ucy5wcm9wcztcbiAgdmFyIG1ldGhvZHMgPSB2bS4kb3B0aW9ucy5tZXRob2RzO1xuICB2YXIgaSA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmIChtZXRob2RzICYmIGhhc093bihtZXRob2RzLCBrZXkpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgKFwiTWV0aG9kIFxcXCJcIiArIGtleSArIFwiXFxcIiBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQgYXMgYSBkYXRhIHByb3BlcnR5LlwiKSxcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAocHJvcHMgJiYgaGFzT3duKHByb3BzLCBrZXkpKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICAgIFwiVGhlIGRhdGEgcHJvcGVydHkgXFxcIlwiICsga2V5ICsgXCJcXFwiIGlzIGFscmVhZHkgZGVjbGFyZWQgYXMgYSBwcm9wLiBcIiArXG4gICAgICAgIFwiVXNlIHByb3AgZGVmYXVsdCB2YWx1ZSBpbnN0ZWFkLlwiLFxuICAgICAgICB2bVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKCFpc1Jlc2VydmVkKGtleSkpIHtcbiAgICAgIHByb3h5KHZtLCBcIl9kYXRhXCIsIGtleSk7XG4gICAgfVxuICB9XG4gIC8vIG9ic2VydmUgZGF0YVxuICBvYnNlcnZlKGRhdGEsIHRydWUgLyogYXNSb290RGF0YSAqLyk7XG59XG5cbmZ1bmN0aW9uIGdldERhdGEgKGRhdGEsIHZtKSB7XG4gIC8vICM3NTczIGRpc2FibGUgZGVwIGNvbGxlY3Rpb24gd2hlbiBpbnZva2luZyBkYXRhIGdldHRlcnNcbiAgcHVzaFRhcmdldCgpO1xuICB0cnkge1xuICAgIHJldHVybiBkYXRhLmNhbGwodm0sIHZtKVxuICB9IGNhdGNoIChlKSB7XG4gICAgaGFuZGxlRXJyb3IoZSwgdm0sIFwiZGF0YSgpXCIpO1xuICAgIHJldHVybiB7fVxuICB9IGZpbmFsbHkge1xuICAgIHBvcFRhcmdldCgpO1xuICB9XG59XG5cbnZhciBjb21wdXRlZFdhdGNoZXJPcHRpb25zID0geyBsYXp5OiB0cnVlIH07XG5cbmZ1bmN0aW9uIGluaXRDb21wdXRlZCAodm0sIGNvbXB1dGVkKSB7XG4gIC8vICRmbG93LWRpc2FibGUtbGluZVxuICB2YXIgd2F0Y2hlcnMgPSB2bS5fY29tcHV0ZWRXYXRjaGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIC8vIGNvbXB1dGVkIHByb3BlcnRpZXMgYXJlIGp1c3QgZ2V0dGVycyBkdXJpbmcgU1NSXG4gIHZhciBpc1NTUiA9IGlzU2VydmVyUmVuZGVyaW5nKCk7XG5cbiAgZm9yICh2YXIga2V5IGluIGNvbXB1dGVkKSB7XG4gICAgdmFyIHVzZXJEZWYgPSBjb21wdXRlZFtrZXldO1xuICAgIHZhciBnZXR0ZXIgPSB0eXBlb2YgdXNlckRlZiA9PT0gJ2Z1bmN0aW9uJyA/IHVzZXJEZWYgOiB1c2VyRGVmLmdldDtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBnZXR0ZXIgPT0gbnVsbCkge1xuICAgICAgd2FybihcbiAgICAgICAgKFwiR2V0dGVyIGlzIG1pc3NpbmcgZm9yIGNvbXB1dGVkIHByb3BlcnR5IFxcXCJcIiArIGtleSArIFwiXFxcIi5cIiksXG4gICAgICAgIHZtXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmICghaXNTU1IpIHtcbiAgICAgIC8vIGNyZWF0ZSBpbnRlcm5hbCB3YXRjaGVyIGZvciB0aGUgY29tcHV0ZWQgcHJvcGVydHkuXG4gICAgICB3YXRjaGVyc1trZXldID0gbmV3IFdhdGNoZXIoXG4gICAgICAgIHZtLFxuICAgICAgICBnZXR0ZXIgfHwgbm9vcCxcbiAgICAgICAgbm9vcCxcbiAgICAgICAgY29tcHV0ZWRXYXRjaGVyT3B0aW9uc1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBjb21wb25lbnQtZGVmaW5lZCBjb21wdXRlZCBwcm9wZXJ0aWVzIGFyZSBhbHJlYWR5IGRlZmluZWQgb24gdGhlXG4gICAgLy8gY29tcG9uZW50IHByb3RvdHlwZS4gV2Ugb25seSBuZWVkIHRvIGRlZmluZSBjb21wdXRlZCBwcm9wZXJ0aWVzIGRlZmluZWRcbiAgICAvLyBhdCBpbnN0YW50aWF0aW9uIGhlcmUuXG4gICAgaWYgKCEoa2V5IGluIHZtKSkge1xuICAgICAgZGVmaW5lQ29tcHV0ZWQodm0sIGtleSwgdXNlckRlZik7XG4gICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoa2V5IGluIHZtLiRkYXRhKSB7XG4gICAgICAgIHdhcm4oKFwiVGhlIGNvbXB1dGVkIHByb3BlcnR5IFxcXCJcIiArIGtleSArIFwiXFxcIiBpcyBhbHJlYWR5IGRlZmluZWQgaW4gZGF0YS5cIiksIHZtKTtcbiAgICAgIH0gZWxzZSBpZiAodm0uJG9wdGlvbnMucHJvcHMgJiYga2V5IGluIHZtLiRvcHRpb25zLnByb3BzKSB7XG4gICAgICAgIHdhcm4oKFwiVGhlIGNvbXB1dGVkIHByb3BlcnR5IFxcXCJcIiArIGtleSArIFwiXFxcIiBpcyBhbHJlYWR5IGRlZmluZWQgYXMgYSBwcm9wLlwiKSwgdm0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZpbmVDb21wdXRlZCAoXG4gIHRhcmdldCxcbiAga2V5LFxuICB1c2VyRGVmXG4pIHtcbiAgdmFyIHNob3VsZENhY2hlID0gIWlzU2VydmVyUmVuZGVyaW5nKCk7XG4gIGlmICh0eXBlb2YgdXNlckRlZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5nZXQgPSBzaG91bGRDYWNoZVxuICAgICAgPyBjcmVhdGVDb21wdXRlZEdldHRlcihrZXkpXG4gICAgICA6IGNyZWF0ZUdldHRlckludm9rZXIodXNlckRlZik7XG4gICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IG5vb3A7XG4gIH0gZWxzZSB7XG4gICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLmdldCA9IHVzZXJEZWYuZ2V0XG4gICAgICA/IHNob3VsZENhY2hlICYmIHVzZXJEZWYuY2FjaGUgIT09IGZhbHNlXG4gICAgICAgID8gY3JlYXRlQ29tcHV0ZWRHZXR0ZXIoa2V5KVxuICAgICAgICA6IGNyZWF0ZUdldHRlckludm9rZXIodXNlckRlZi5nZXQpXG4gICAgICA6IG5vb3A7XG4gICAgc2hhcmVkUHJvcGVydHlEZWZpbml0aW9uLnNldCA9IHVzZXJEZWYuc2V0IHx8IG5vb3A7XG4gIH1cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbi5zZXQgPT09IG5vb3ApIHtcbiAgICBzaGFyZWRQcm9wZXJ0eURlZmluaXRpb24uc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgd2FybihcbiAgICAgICAgKFwiQ29tcHV0ZWQgcHJvcGVydHkgXFxcIlwiICsga2V5ICsgXCJcXFwiIHdhcyBhc3NpZ25lZCB0byBidXQgaXQgaGFzIG5vIHNldHRlci5cIiksXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfTtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNoYXJlZFByb3BlcnR5RGVmaW5pdGlvbik7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNvbXB1dGVkR2V0dGVyIChrZXkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbXB1dGVkR2V0dGVyICgpIHtcbiAgICB2YXIgd2F0Y2hlciA9IHRoaXMuX2NvbXB1dGVkV2F0Y2hlcnMgJiYgdGhpcy5fY29tcHV0ZWRXYXRjaGVyc1trZXldO1xuICAgIGlmICh3YXRjaGVyKSB7XG4gICAgICBpZiAod2F0Y2hlci5kaXJ0eSkge1xuICAgICAgICB3YXRjaGVyLmV2YWx1YXRlKCk7XG4gICAgICB9XG4gICAgICBpZiAoRGVwLnRhcmdldCkge1xuICAgICAgICB3YXRjaGVyLmRlcGVuZCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdhdGNoZXIudmFsdWVcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlR2V0dGVySW52b2tlcihmbikge1xuICByZXR1cm4gZnVuY3Rpb24gY29tcHV0ZWRHZXR0ZXIgKCkge1xuICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIHRoaXMpXG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdE1ldGhvZHMgKHZtLCBtZXRob2RzKSB7XG4gIHZhciBwcm9wcyA9IHZtLiRvcHRpb25zLnByb3BzO1xuICBmb3IgKHZhciBrZXkgaW4gbWV0aG9kcykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAodHlwZW9mIG1ldGhvZHNba2V5XSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiTWV0aG9kIFxcXCJcIiArIGtleSArIFwiXFxcIiBoYXMgdHlwZSBcXFwiXCIgKyAodHlwZW9mIG1ldGhvZHNba2V5XSkgKyBcIlxcXCIgaW4gdGhlIGNvbXBvbmVudCBkZWZpbml0aW9uLiBcIiArXG4gICAgICAgICAgXCJEaWQgeW91IHJlZmVyZW5jZSB0aGUgZnVuY3Rpb24gY29ycmVjdGx5P1wiLFxuICAgICAgICAgIHZtXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBpZiAocHJvcHMgJiYgaGFzT3duKHByb3BzLCBrZXkpKSB7XG4gICAgICAgIHdhcm4oXG4gICAgICAgICAgKFwiTWV0aG9kIFxcXCJcIiArIGtleSArIFwiXFxcIiBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQgYXMgYSBwcm9wLlwiKSxcbiAgICAgICAgICB2bVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKChrZXkgaW4gdm0pICYmIGlzUmVzZXJ2ZWQoa2V5KSkge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwiTWV0aG9kIFxcXCJcIiArIGtleSArIFwiXFxcIiBjb25mbGljdHMgd2l0aCBhbiBleGlzdGluZyBWdWUgaW5zdGFuY2UgbWV0aG9kLiBcIiArXG4gICAgICAgICAgXCJBdm9pZCBkZWZpbmluZyBjb21wb25lbnQgbWV0aG9kcyB0aGF0IHN0YXJ0IHdpdGggXyBvciAkLlwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHZtW2tleV0gPSB0eXBlb2YgbWV0aG9kc1trZXldICE9PSAnZnVuY3Rpb24nID8gbm9vcCA6IGJpbmQobWV0aG9kc1trZXldLCB2bSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaW5pdFdhdGNoICh2bSwgd2F0Y2gpIHtcbiAgZm9yICh2YXIga2V5IGluIHdhdGNoKSB7XG4gICAgdmFyIGhhbmRsZXIgPSB3YXRjaFtrZXldO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGhhbmRsZXIpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhhbmRsZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3JlYXRlV2F0Y2hlcih2bSwga2V5LCBoYW5kbGVyW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3JlYXRlV2F0Y2hlcih2bSwga2V5LCBoYW5kbGVyKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlV2F0Y2hlciAoXG4gIHZtLFxuICBleHBPckZuLFxuICBoYW5kbGVyLFxuICBvcHRpb25zXG4pIHtcbiAgaWYgKGlzUGxhaW5PYmplY3QoaGFuZGxlcikpIHtcbiAgICBvcHRpb25zID0gaGFuZGxlcjtcbiAgICBoYW5kbGVyID0gaGFuZGxlci5oYW5kbGVyO1xuICB9XG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ3N0cmluZycpIHtcbiAgICBoYW5kbGVyID0gdm1baGFuZGxlcl07XG4gIH1cbiAgcmV0dXJuIHZtLiR3YXRjaChleHBPckZuLCBoYW5kbGVyLCBvcHRpb25zKVxufVxuXG5mdW5jdGlvbiBzdGF0ZU1peGluIChWdWUpIHtcbiAgLy8gZmxvdyBzb21laG93IGhhcyBwcm9ibGVtcyB3aXRoIGRpcmVjdGx5IGRlY2xhcmVkIGRlZmluaXRpb24gb2JqZWN0XG4gIC8vIHdoZW4gdXNpbmcgT2JqZWN0LmRlZmluZVByb3BlcnR5LCBzbyB3ZSBoYXZlIHRvIHByb2NlZHVyYWxseSBidWlsZCB1cFxuICAvLyB0aGUgb2JqZWN0IGhlcmUuXG4gIHZhciBkYXRhRGVmID0ge307XG4gIGRhdGFEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fZGF0YSB9O1xuICB2YXIgcHJvcHNEZWYgPSB7fTtcbiAgcHJvcHNEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fcHJvcHMgfTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBkYXRhRGVmLnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICdBdm9pZCByZXBsYWNpbmcgaW5zdGFuY2Ugcm9vdCAkZGF0YS4gJyArXG4gICAgICAgICdVc2UgbmVzdGVkIGRhdGEgcHJvcGVydGllcyBpbnN0ZWFkLicsXG4gICAgICAgIHRoaXNcbiAgICAgICk7XG4gICAgfTtcbiAgICBwcm9wc0RlZi5zZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB3YXJuKFwiJHByb3BzIGlzIHJlYWRvbmx5LlwiLCB0aGlzKTtcbiAgICB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShWdWUucHJvdG90eXBlLCAnJGRhdGEnLCBkYXRhRGVmKTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsICckcHJvcHMnLCBwcm9wc0RlZik7XG5cbiAgVnVlLnByb3RvdHlwZS4kc2V0ID0gc2V0O1xuICBWdWUucHJvdG90eXBlLiRkZWxldGUgPSBkZWw7XG5cbiAgVnVlLnByb3RvdHlwZS4kd2F0Y2ggPSBmdW5jdGlvbiAoXG4gICAgZXhwT3JGbixcbiAgICBjYixcbiAgICBvcHRpb25zXG4gICkge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QoY2IpKSB7XG4gICAgICByZXR1cm4gY3JlYXRlV2F0Y2hlcih2bSwgZXhwT3JGbiwgY2IsIG9wdGlvbnMpXG4gICAgfVxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMudXNlciA9IHRydWU7XG4gICAgdmFyIHdhdGNoZXIgPSBuZXcgV2F0Y2hlcih2bSwgZXhwT3JGbiwgY2IsIG9wdGlvbnMpO1xuICAgIGlmIChvcHRpb25zLmltbWVkaWF0ZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY2IuY2FsbCh2bSwgd2F0Y2hlci52YWx1ZSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBoYW5kbGVFcnJvcihlcnJvciwgdm0sIChcImNhbGxiYWNrIGZvciBpbW1lZGlhdGUgd2F0Y2hlciBcXFwiXCIgKyAod2F0Y2hlci5leHByZXNzaW9uKSArIFwiXFxcIlwiKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiB1bndhdGNoRm4gKCkge1xuICAgICAgd2F0Y2hlci50ZWFyZG93bigpO1xuICAgIH1cbiAgfTtcbn1cblxuLyogICovXG5cbnZhciB1aWQkMyA9IDA7XG5cbmZ1bmN0aW9uIGluaXRNaXhpbiAoVnVlKSB7XG4gIFZ1ZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHZhciB2bSA9IHRoaXM7XG4gICAgLy8gYSB1aWRcbiAgICB2bS5fdWlkID0gdWlkJDMrKztcblxuICAgIHZhciBzdGFydFRhZywgZW5kVGFnO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGNvbmZpZy5wZXJmb3JtYW5jZSAmJiBtYXJrKSB7XG4gICAgICBzdGFydFRhZyA9IFwidnVlLXBlcmYtc3RhcnQ6XCIgKyAodm0uX3VpZCk7XG4gICAgICBlbmRUYWcgPSBcInZ1ZS1wZXJmLWVuZDpcIiArICh2bS5fdWlkKTtcbiAgICAgIG1hcmsoc3RhcnRUYWcpO1xuICAgIH1cblxuICAgIC8vIGEgZmxhZyB0byBhdm9pZCB0aGlzIGJlaW5nIG9ic2VydmVkXG4gICAgdm0uX2lzVnVlID0gdHJ1ZTtcbiAgICAvLyBtZXJnZSBvcHRpb25zXG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5faXNDb21wb25lbnQpIHtcbiAgICAgIC8vIG9wdGltaXplIGludGVybmFsIGNvbXBvbmVudCBpbnN0YW50aWF0aW9uXG4gICAgICAvLyBzaW5jZSBkeW5hbWljIG9wdGlvbnMgbWVyZ2luZyBpcyBwcmV0dHkgc2xvdywgYW5kIG5vbmUgb2YgdGhlXG4gICAgICAvLyBpbnRlcm5hbCBjb21wb25lbnQgb3B0aW9ucyBuZWVkcyBzcGVjaWFsIHRyZWF0bWVudC5cbiAgICAgIGluaXRJbnRlcm5hbENvbXBvbmVudCh2bSwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZtLiRvcHRpb25zID0gbWVyZ2VPcHRpb25zKFxuICAgICAgICByZXNvbHZlQ29uc3RydWN0b3JPcHRpb25zKHZtLmNvbnN0cnVjdG9yKSxcbiAgICAgICAgb3B0aW9ucyB8fCB7fSxcbiAgICAgICAgdm1cbiAgICAgICk7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGluaXRQcm94eSh2bSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZtLl9yZW5kZXJQcm94eSA9IHZtO1xuICAgIH1cbiAgICAvLyBleHBvc2UgcmVhbCBzZWxmXG4gICAgdm0uX3NlbGYgPSB2bTtcbiAgICBpbml0TGlmZWN5Y2xlKHZtKTtcbiAgICBpbml0RXZlbnRzKHZtKTtcbiAgICBpbml0UmVuZGVyKHZtKTtcbiAgICBjYWxsSG9vayh2bSwgJ2JlZm9yZUNyZWF0ZScpO1xuICAgIGluaXRJbmplY3Rpb25zKHZtKTsgLy8gcmVzb2x2ZSBpbmplY3Rpb25zIGJlZm9yZSBkYXRhL3Byb3BzXG4gICAgaW5pdFN0YXRlKHZtKTtcbiAgICBpbml0UHJvdmlkZSh2bSk7IC8vIHJlc29sdmUgcHJvdmlkZSBhZnRlciBkYXRhL3Byb3BzXG4gICAgY2FsbEhvb2sodm0sICdjcmVhdGVkJyk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjb25maWcucGVyZm9ybWFuY2UgJiYgbWFyaykge1xuICAgICAgdm0uX25hbWUgPSBmb3JtYXRDb21wb25lbnROYW1lKHZtLCBmYWxzZSk7XG4gICAgICBtYXJrKGVuZFRhZyk7XG4gICAgICBtZWFzdXJlKChcInZ1ZSBcIiArICh2bS5fbmFtZSkgKyBcIiBpbml0XCIpLCBzdGFydFRhZywgZW5kVGFnKTtcbiAgICB9XG5cbiAgICBpZiAodm0uJG9wdGlvbnMuZWwpIHtcbiAgICAgIHZtLiRtb3VudCh2bS4kb3B0aW9ucy5lbCk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbml0SW50ZXJuYWxDb21wb25lbnQgKHZtLCBvcHRpb25zKSB7XG4gIHZhciBvcHRzID0gdm0uJG9wdGlvbnMgPSBPYmplY3QuY3JlYXRlKHZtLmNvbnN0cnVjdG9yLm9wdGlvbnMpO1xuICAvLyBkb2luZyB0aGlzIGJlY2F1c2UgaXQncyBmYXN0ZXIgdGhhbiBkeW5hbWljIGVudW1lcmF0aW9uLlxuICB2YXIgcGFyZW50Vm5vZGUgPSBvcHRpb25zLl9wYXJlbnRWbm9kZTtcbiAgb3B0cy5wYXJlbnQgPSBvcHRpb25zLnBhcmVudDtcbiAgb3B0cy5fcGFyZW50Vm5vZGUgPSBwYXJlbnRWbm9kZTtcblxuICB2YXIgdm5vZGVDb21wb25lbnRPcHRpb25zID0gcGFyZW50Vm5vZGUuY29tcG9uZW50T3B0aW9ucztcbiAgb3B0cy5wcm9wc0RhdGEgPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMucHJvcHNEYXRhO1xuICBvcHRzLl9wYXJlbnRMaXN0ZW5lcnMgPSB2bm9kZUNvbXBvbmVudE9wdGlvbnMubGlzdGVuZXJzO1xuICBvcHRzLl9yZW5kZXJDaGlsZHJlbiA9IHZub2RlQ29tcG9uZW50T3B0aW9ucy5jaGlsZHJlbjtcbiAgb3B0cy5fY29tcG9uZW50VGFnID0gdm5vZGVDb21wb25lbnRPcHRpb25zLnRhZztcblxuICBpZiAob3B0aW9ucy5yZW5kZXIpIHtcbiAgICBvcHRzLnJlbmRlciA9IG9wdGlvbnMucmVuZGVyO1xuICAgIG9wdHMuc3RhdGljUmVuZGVyRm5zID0gb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnM7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyAoQ3Rvcikge1xuICB2YXIgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucztcbiAgaWYgKEN0b3Iuc3VwZXIpIHtcbiAgICB2YXIgc3VwZXJPcHRpb25zID0gcmVzb2x2ZUNvbnN0cnVjdG9yT3B0aW9ucyhDdG9yLnN1cGVyKTtcbiAgICB2YXIgY2FjaGVkU3VwZXJPcHRpb25zID0gQ3Rvci5zdXBlck9wdGlvbnM7XG4gICAgaWYgKHN1cGVyT3B0aW9ucyAhPT0gY2FjaGVkU3VwZXJPcHRpb25zKSB7XG4gICAgICAvLyBzdXBlciBvcHRpb24gY2hhbmdlZCxcbiAgICAgIC8vIG5lZWQgdG8gcmVzb2x2ZSBuZXcgb3B0aW9ucy5cbiAgICAgIEN0b3Iuc3VwZXJPcHRpb25zID0gc3VwZXJPcHRpb25zO1xuICAgICAgLy8gY2hlY2sgaWYgdGhlcmUgYXJlIGFueSBsYXRlLW1vZGlmaWVkL2F0dGFjaGVkIG9wdGlvbnMgKCM0OTc2KVxuICAgICAgdmFyIG1vZGlmaWVkT3B0aW9ucyA9IHJlc29sdmVNb2RpZmllZE9wdGlvbnMoQ3Rvcik7XG4gICAgICAvLyB1cGRhdGUgYmFzZSBleHRlbmQgb3B0aW9uc1xuICAgICAgaWYgKG1vZGlmaWVkT3B0aW9ucykge1xuICAgICAgICBleHRlbmQoQ3Rvci5leHRlbmRPcHRpb25zLCBtb2RpZmllZE9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgb3B0aW9ucyA9IEN0b3Iub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyhzdXBlck9wdGlvbnMsIEN0b3IuZXh0ZW5kT3B0aW9ucyk7XG4gICAgICBpZiAob3B0aW9ucy5uYW1lKSB7XG4gICAgICAgIG9wdGlvbnMuY29tcG9uZW50c1tvcHRpb25zLm5hbWVdID0gQ3RvcjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnNcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZU1vZGlmaWVkT3B0aW9ucyAoQ3Rvcikge1xuICB2YXIgbW9kaWZpZWQ7XG4gIHZhciBsYXRlc3QgPSBDdG9yLm9wdGlvbnM7XG4gIHZhciBzZWFsZWQgPSBDdG9yLnNlYWxlZE9wdGlvbnM7XG4gIGZvciAodmFyIGtleSBpbiBsYXRlc3QpIHtcbiAgICBpZiAobGF0ZXN0W2tleV0gIT09IHNlYWxlZFtrZXldKSB7XG4gICAgICBpZiAoIW1vZGlmaWVkKSB7IG1vZGlmaWVkID0ge307IH1cbiAgICAgIG1vZGlmaWVkW2tleV0gPSBsYXRlc3Rba2V5XTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG1vZGlmaWVkXG59XG5cbmZ1bmN0aW9uIFZ1ZSAob3B0aW9ucykge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICEodGhpcyBpbnN0YW5jZW9mIFZ1ZSlcbiAgKSB7XG4gICAgd2FybignVnVlIGlzIGEgY29uc3RydWN0b3IgYW5kIHNob3VsZCBiZSBjYWxsZWQgd2l0aCB0aGUgYG5ld2Aga2V5d29yZCcpO1xuICB9XG4gIHRoaXMuX2luaXQob3B0aW9ucyk7XG59XG5cbmluaXRNaXhpbihWdWUpO1xuc3RhdGVNaXhpbihWdWUpO1xuZXZlbnRzTWl4aW4oVnVlKTtcbmxpZmVjeWNsZU1peGluKFZ1ZSk7XG5yZW5kZXJNaXhpbihWdWUpO1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5pdFVzZSAoVnVlKSB7XG4gIFZ1ZS51c2UgPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgdmFyIGluc3RhbGxlZFBsdWdpbnMgPSAodGhpcy5faW5zdGFsbGVkUGx1Z2lucyB8fCAodGhpcy5faW5zdGFsbGVkUGx1Z2lucyA9IFtdKSk7XG4gICAgaWYgKGluc3RhbGxlZFBsdWdpbnMuaW5kZXhPZihwbHVnaW4pID4gLTEpIHtcbiAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLy8gYWRkaXRpb25hbCBwYXJhbWV0ZXJzXG4gICAgdmFyIGFyZ3MgPSB0b0FycmF5KGFyZ3VtZW50cywgMSk7XG4gICAgYXJncy51bnNoaWZ0KHRoaXMpO1xuICAgIGlmICh0eXBlb2YgcGx1Z2luLmluc3RhbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHBsdWdpbi5pbnN0YWxsLmFwcGx5KHBsdWdpbiwgYXJncyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcGx1Z2luID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwbHVnaW4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgfVxuICAgIGluc3RhbGxlZFBsdWdpbnMucHVzaChwbHVnaW4pO1xuICAgIHJldHVybiB0aGlzXG4gIH07XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0TWl4aW4kMSAoVnVlKSB7XG4gIFZ1ZS5taXhpbiA9IGZ1bmN0aW9uIChtaXhpbikge1xuICAgIHRoaXMub3B0aW9ucyA9IG1lcmdlT3B0aW9ucyh0aGlzLm9wdGlvbnMsIG1peGluKTtcbiAgICByZXR1cm4gdGhpc1xuICB9O1xufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gaW5pdEV4dGVuZCAoVnVlKSB7XG4gIC8qKlxuICAgKiBFYWNoIGluc3RhbmNlIGNvbnN0cnVjdG9yLCBpbmNsdWRpbmcgVnVlLCBoYXMgYSB1bmlxdWVcbiAgICogY2lkLiBUaGlzIGVuYWJsZXMgdXMgdG8gY3JlYXRlIHdyYXBwZWQgXCJjaGlsZFxuICAgKiBjb25zdHJ1Y3RvcnNcIiBmb3IgcHJvdG90eXBhbCBpbmhlcml0YW5jZSBhbmQgY2FjaGUgdGhlbS5cbiAgICovXG4gIFZ1ZS5jaWQgPSAwO1xuICB2YXIgY2lkID0gMTtcblxuICAvKipcbiAgICogQ2xhc3MgaW5oZXJpdGFuY2VcbiAgICovXG4gIFZ1ZS5leHRlbmQgPSBmdW5jdGlvbiAoZXh0ZW5kT3B0aW9ucykge1xuICAgIGV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zIHx8IHt9O1xuICAgIHZhciBTdXBlciA9IHRoaXM7XG4gICAgdmFyIFN1cGVySWQgPSBTdXBlci5jaWQ7XG4gICAgdmFyIGNhY2hlZEN0b3JzID0gZXh0ZW5kT3B0aW9ucy5fQ3RvciB8fCAoZXh0ZW5kT3B0aW9ucy5fQ3RvciA9IHt9KTtcbiAgICBpZiAoY2FjaGVkQ3RvcnNbU3VwZXJJZF0pIHtcbiAgICAgIHJldHVybiBjYWNoZWRDdG9yc1tTdXBlcklkXVxuICAgIH1cblxuICAgIHZhciBuYW1lID0gZXh0ZW5kT3B0aW9ucy5uYW1lIHx8IFN1cGVyLm9wdGlvbnMubmFtZTtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBuYW1lKSB7XG4gICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUobmFtZSk7XG4gICAgfVxuXG4gICAgdmFyIFN1YiA9IGZ1bmN0aW9uIFZ1ZUNvbXBvbmVudCAob3B0aW9ucykge1xuICAgICAgdGhpcy5faW5pdChvcHRpb25zKTtcbiAgICB9O1xuICAgIFN1Yi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN1cGVyLnByb3RvdHlwZSk7XG4gICAgU3ViLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN1YjtcbiAgICBTdWIuY2lkID0gY2lkKys7XG4gICAgU3ViLm9wdGlvbnMgPSBtZXJnZU9wdGlvbnMoXG4gICAgICBTdXBlci5vcHRpb25zLFxuICAgICAgZXh0ZW5kT3B0aW9uc1xuICAgICk7XG4gICAgU3ViWydzdXBlciddID0gU3VwZXI7XG5cbiAgICAvLyBGb3IgcHJvcHMgYW5kIGNvbXB1dGVkIHByb3BlcnRpZXMsIHdlIGRlZmluZSB0aGUgcHJveHkgZ2V0dGVycyBvblxuICAgIC8vIHRoZSBWdWUgaW5zdGFuY2VzIGF0IGV4dGVuc2lvbiB0aW1lLCBvbiB0aGUgZXh0ZW5kZWQgcHJvdG90eXBlLiBUaGlzXG4gICAgLy8gYXZvaWRzIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSBjYWxscyBmb3IgZWFjaCBpbnN0YW5jZSBjcmVhdGVkLlxuICAgIGlmIChTdWIub3B0aW9ucy5wcm9wcykge1xuICAgICAgaW5pdFByb3BzJDEoU3ViKTtcbiAgICB9XG4gICAgaWYgKFN1Yi5vcHRpb25zLmNvbXB1dGVkKSB7XG4gICAgICBpbml0Q29tcHV0ZWQkMShTdWIpO1xuICAgIH1cblxuICAgIC8vIGFsbG93IGZ1cnRoZXIgZXh0ZW5zaW9uL21peGluL3BsdWdpbiB1c2FnZVxuICAgIFN1Yi5leHRlbmQgPSBTdXBlci5leHRlbmQ7XG4gICAgU3ViLm1peGluID0gU3VwZXIubWl4aW47XG4gICAgU3ViLnVzZSA9IFN1cGVyLnVzZTtcblxuICAgIC8vIGNyZWF0ZSBhc3NldCByZWdpc3RlcnMsIHNvIGV4dGVuZGVkIGNsYXNzZXNcbiAgICAvLyBjYW4gaGF2ZSB0aGVpciBwcml2YXRlIGFzc2V0cyB0b28uXG4gICAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgU3ViW3R5cGVdID0gU3VwZXJbdHlwZV07XG4gICAgfSk7XG4gICAgLy8gZW5hYmxlIHJlY3Vyc2l2ZSBzZWxmLWxvb2t1cFxuICAgIGlmIChuYW1lKSB7XG4gICAgICBTdWIub3B0aW9ucy5jb21wb25lbnRzW25hbWVdID0gU3ViO1xuICAgIH1cblxuICAgIC8vIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHN1cGVyIG9wdGlvbnMgYXQgZXh0ZW5zaW9uIHRpbWUuXG4gICAgLy8gbGF0ZXIgYXQgaW5zdGFudGlhdGlvbiB3ZSBjYW4gY2hlY2sgaWYgU3VwZXIncyBvcHRpb25zIGhhdmVcbiAgICAvLyBiZWVuIHVwZGF0ZWQuXG4gICAgU3ViLnN1cGVyT3B0aW9ucyA9IFN1cGVyLm9wdGlvbnM7XG4gICAgU3ViLmV4dGVuZE9wdGlvbnMgPSBleHRlbmRPcHRpb25zO1xuICAgIFN1Yi5zZWFsZWRPcHRpb25zID0gZXh0ZW5kKHt9LCBTdWIub3B0aW9ucyk7XG5cbiAgICAvLyBjYWNoZSBjb25zdHJ1Y3RvclxuICAgIGNhY2hlZEN0b3JzW1N1cGVySWRdID0gU3ViO1xuICAgIHJldHVybiBTdWJcbiAgfTtcbn1cblxuZnVuY3Rpb24gaW5pdFByb3BzJDEgKENvbXApIHtcbiAgdmFyIHByb3BzID0gQ29tcC5vcHRpb25zLnByb3BzO1xuICBmb3IgKHZhciBrZXkgaW4gcHJvcHMpIHtcbiAgICBwcm94eShDb21wLnByb3RvdHlwZSwgXCJfcHJvcHNcIiwga2V5KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpbml0Q29tcHV0ZWQkMSAoQ29tcCkge1xuICB2YXIgY29tcHV0ZWQgPSBDb21wLm9wdGlvbnMuY29tcHV0ZWQ7XG4gIGZvciAodmFyIGtleSBpbiBjb21wdXRlZCkge1xuICAgIGRlZmluZUNvbXB1dGVkKENvbXAucHJvdG90eXBlLCBrZXksIGNvbXB1dGVkW2tleV0pO1xuICB9XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBpbml0QXNzZXRSZWdpc3RlcnMgKFZ1ZSkge1xuICAvKipcbiAgICogQ3JlYXRlIGFzc2V0IHJlZ2lzdHJhdGlvbiBtZXRob2RzLlxuICAgKi9cbiAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIFZ1ZVt0eXBlXSA9IGZ1bmN0aW9uIChcbiAgICAgIGlkLFxuICAgICAgZGVmaW5pdGlvblxuICAgICkge1xuICAgICAgaWYgKCFkZWZpbml0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdHlwZSArICdzJ11baWRdXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgdHlwZSA9PT0gJ2NvbXBvbmVudCcpIHtcbiAgICAgICAgICB2YWxpZGF0ZUNvbXBvbmVudE5hbWUoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnY29tcG9uZW50JyAmJiBpc1BsYWluT2JqZWN0KGRlZmluaXRpb24pKSB7XG4gICAgICAgICAgZGVmaW5pdGlvbi5uYW1lID0gZGVmaW5pdGlvbi5uYW1lIHx8IGlkO1xuICAgICAgICAgIGRlZmluaXRpb24gPSB0aGlzLm9wdGlvbnMuX2Jhc2UuZXh0ZW5kKGRlZmluaXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnZGlyZWN0aXZlJyAmJiB0eXBlb2YgZGVmaW5pdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGRlZmluaXRpb24gPSB7IGJpbmQ6IGRlZmluaXRpb24sIHVwZGF0ZTogZGVmaW5pdGlvbiB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3B0aW9uc1t0eXBlICsgJ3MnXVtpZF0gPSBkZWZpbml0aW9uO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvblxuICAgICAgfVxuICAgIH07XG4gIH0pO1xufVxuXG4vKiAgKi9cblxuXG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWUgKG9wdHMpIHtcbiAgcmV0dXJuIG9wdHMgJiYgKG9wdHMuQ3Rvci5vcHRpb25zLm5hbWUgfHwgb3B0cy50YWcpXG59XG5cbmZ1bmN0aW9uIG1hdGNoZXMgKHBhdHRlcm4sIG5hbWUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkocGF0dGVybikpIHtcbiAgICByZXR1cm4gcGF0dGVybi5pbmRleE9mKG5hbWUpID4gLTFcbiAgfSBlbHNlIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gcGF0dGVybi5zcGxpdCgnLCcpLmluZGV4T2YobmFtZSkgPiAtMVxuICB9IGVsc2UgaWYgKGlzUmVnRXhwKHBhdHRlcm4pKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4udGVzdChuYW1lKVxuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBwcnVuZUNhY2hlIChrZWVwQWxpdmVJbnN0YW5jZSwgZmlsdGVyKSB7XG4gIHZhciBjYWNoZSA9IGtlZXBBbGl2ZUluc3RhbmNlLmNhY2hlO1xuICB2YXIga2V5cyA9IGtlZXBBbGl2ZUluc3RhbmNlLmtleXM7XG4gIHZhciBfdm5vZGUgPSBrZWVwQWxpdmVJbnN0YW5jZS5fdm5vZGU7XG4gIGZvciAodmFyIGtleSBpbiBjYWNoZSkge1xuICAgIHZhciBjYWNoZWROb2RlID0gY2FjaGVba2V5XTtcbiAgICBpZiAoY2FjaGVkTm9kZSkge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lKGNhY2hlZE5vZGUuY29tcG9uZW50T3B0aW9ucyk7XG4gICAgICBpZiAobmFtZSAmJiAhZmlsdGVyKG5hbWUpKSB7XG4gICAgICAgIHBydW5lQ2FjaGVFbnRyeShjYWNoZSwga2V5LCBrZXlzLCBfdm5vZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwcnVuZUNhY2hlRW50cnkgKFxuICBjYWNoZSxcbiAga2V5LFxuICBrZXlzLFxuICBjdXJyZW50XG4pIHtcbiAgdmFyIGNhY2hlZCQkMSA9IGNhY2hlW2tleV07XG4gIGlmIChjYWNoZWQkJDEgJiYgKCFjdXJyZW50IHx8IGNhY2hlZCQkMS50YWcgIT09IGN1cnJlbnQudGFnKSkge1xuICAgIGNhY2hlZCQkMS5jb21wb25lbnRJbnN0YW5jZS4kZGVzdHJveSgpO1xuICB9XG4gIGNhY2hlW2tleV0gPSBudWxsO1xuICByZW1vdmUoa2V5cywga2V5KTtcbn1cblxudmFyIHBhdHRlcm5UeXBlcyA9IFtTdHJpbmcsIFJlZ0V4cCwgQXJyYXldO1xuXG52YXIgS2VlcEFsaXZlID0ge1xuICBuYW1lOiAna2VlcC1hbGl2ZScsXG4gIGFic3RyYWN0OiB0cnVlLFxuXG4gIHByb3BzOiB7XG4gICAgaW5jbHVkZTogcGF0dGVyblR5cGVzLFxuICAgIGV4Y2x1ZGU6IHBhdHRlcm5UeXBlcyxcbiAgICBtYXg6IFtTdHJpbmcsIE51bWJlcl1cbiAgfSxcblxuICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkICgpIHtcbiAgICB0aGlzLmNhY2hlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLmtleXMgPSBbXTtcbiAgfSxcblxuICBkZXN0cm95ZWQ6IGZ1bmN0aW9uIGRlc3Ryb3llZCAoKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuY2FjaGUpIHtcbiAgICAgIHBydW5lQ2FjaGVFbnRyeSh0aGlzLmNhY2hlLCBrZXksIHRoaXMua2V5cyk7XG4gICAgfVxuICB9LFxuXG4gIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQgKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdGhpcy4kd2F0Y2goJ2luY2x1ZGUnLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBwcnVuZUNhY2hlKHRoaXMkMSwgZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIG1hdGNoZXModmFsLCBuYW1lKTsgfSk7XG4gICAgfSk7XG4gICAgdGhpcy4kd2F0Y2goJ2V4Y2x1ZGUnLCBmdW5jdGlvbiAodmFsKSB7XG4gICAgICBwcnVuZUNhY2hlKHRoaXMkMSwgZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuICFtYXRjaGVzKHZhbCwgbmFtZSk7IH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyICgpIHtcbiAgICB2YXIgc2xvdCA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7XG4gICAgdmFyIHZub2RlID0gZ2V0Rmlyc3RDb21wb25lbnRDaGlsZChzbG90KTtcbiAgICB2YXIgY29tcG9uZW50T3B0aW9ucyA9IHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG4gICAgaWYgKGNvbXBvbmVudE9wdGlvbnMpIHtcbiAgICAgIC8vIGNoZWNrIHBhdHRlcm5cbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZShjb21wb25lbnRPcHRpb25zKTtcbiAgICAgIHZhciByZWYgPSB0aGlzO1xuICAgICAgdmFyIGluY2x1ZGUgPSByZWYuaW5jbHVkZTtcbiAgICAgIHZhciBleGNsdWRlID0gcmVmLmV4Y2x1ZGU7XG4gICAgICBpZiAoXG4gICAgICAgIC8vIG5vdCBpbmNsdWRlZFxuICAgICAgICAoaW5jbHVkZSAmJiAoIW5hbWUgfHwgIW1hdGNoZXMoaW5jbHVkZSwgbmFtZSkpKSB8fFxuICAgICAgICAvLyBleGNsdWRlZFxuICAgICAgICAoZXhjbHVkZSAmJiBuYW1lICYmIG1hdGNoZXMoZXhjbHVkZSwgbmFtZSkpXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIHZub2RlXG4gICAgICB9XG5cbiAgICAgIHZhciByZWYkMSA9IHRoaXM7XG4gICAgICB2YXIgY2FjaGUgPSByZWYkMS5jYWNoZTtcbiAgICAgIHZhciBrZXlzID0gcmVmJDEua2V5cztcbiAgICAgIHZhciBrZXkgPSB2bm9kZS5rZXkgPT0gbnVsbFxuICAgICAgICAvLyBzYW1lIGNvbnN0cnVjdG9yIG1heSBnZXQgcmVnaXN0ZXJlZCBhcyBkaWZmZXJlbnQgbG9jYWwgY29tcG9uZW50c1xuICAgICAgICAvLyBzbyBjaWQgYWxvbmUgaXMgbm90IGVub3VnaCAoIzMyNjkpXG4gICAgICAgID8gY29tcG9uZW50T3B0aW9ucy5DdG9yLmNpZCArIChjb21wb25lbnRPcHRpb25zLnRhZyA/IChcIjo6XCIgKyAoY29tcG9uZW50T3B0aW9ucy50YWcpKSA6ICcnKVxuICAgICAgICA6IHZub2RlLmtleTtcbiAgICAgIGlmIChjYWNoZVtrZXldKSB7XG4gICAgICAgIHZub2RlLmNvbXBvbmVudEluc3RhbmNlID0gY2FjaGVba2V5XS5jb21wb25lbnRJbnN0YW5jZTtcbiAgICAgICAgLy8gbWFrZSBjdXJyZW50IGtleSBmcmVzaGVzdFxuICAgICAgICByZW1vdmUoa2V5cywga2V5KTtcbiAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWNoZVtrZXldID0gdm5vZGU7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICAvLyBwcnVuZSBvbGRlc3QgZW50cnlcbiAgICAgICAgaWYgKHRoaXMubWF4ICYmIGtleXMubGVuZ3RoID4gcGFyc2VJbnQodGhpcy5tYXgpKSB7XG4gICAgICAgICAgcHJ1bmVDYWNoZUVudHJ5KGNhY2hlLCBrZXlzWzBdLCBrZXlzLCB0aGlzLl92bm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdm5vZGUuZGF0YS5rZWVwQWxpdmUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdm5vZGUgfHwgKHNsb3QgJiYgc2xvdFswXSlcbiAgfVxufTtcblxudmFyIGJ1aWx0SW5Db21wb25lbnRzID0ge1xuICBLZWVwQWxpdmU6IEtlZXBBbGl2ZVxufTtcblxuLyogICovXG5cbmZ1bmN0aW9uIGluaXRHbG9iYWxBUEkgKFZ1ZSkge1xuICAvLyBjb25maWdcbiAgdmFyIGNvbmZpZ0RlZiA9IHt9O1xuICBjb25maWdEZWYuZ2V0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gY29uZmlnOyB9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGNvbmZpZ0RlZi5zZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB3YXJuKFxuICAgICAgICAnRG8gbm90IHJlcGxhY2UgdGhlIFZ1ZS5jb25maWcgb2JqZWN0LCBzZXQgaW5kaXZpZHVhbCBmaWVsZHMgaW5zdGVhZC4nXG4gICAgICApO1xuICAgIH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZSwgJ2NvbmZpZycsIGNvbmZpZ0RlZik7XG5cbiAgLy8gZXhwb3NlZCB1dGlsIG1ldGhvZHMuXG4gIC8vIE5PVEU6IHRoZXNlIGFyZSBub3QgY29uc2lkZXJlZCBwYXJ0IG9mIHRoZSBwdWJsaWMgQVBJIC0gYXZvaWQgcmVseWluZyBvblxuICAvLyB0aGVtIHVubGVzcyB5b3UgYXJlIGF3YXJlIG9mIHRoZSByaXNrLlxuICBWdWUudXRpbCA9IHtcbiAgICB3YXJuOiB3YXJuLFxuICAgIGV4dGVuZDogZXh0ZW5kLFxuICAgIG1lcmdlT3B0aW9uczogbWVyZ2VPcHRpb25zLFxuICAgIGRlZmluZVJlYWN0aXZlOiBkZWZpbmVSZWFjdGl2ZSQkMVxuICB9O1xuXG4gIFZ1ZS5zZXQgPSBzZXQ7XG4gIFZ1ZS5kZWxldGUgPSBkZWw7XG4gIFZ1ZS5uZXh0VGljayA9IG5leHRUaWNrO1xuXG4gIC8vIDIuNiBleHBsaWNpdCBvYnNlcnZhYmxlIEFQSVxuICBWdWUub2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICBvYnNlcnZlKG9iaik7XG4gICAgcmV0dXJuIG9ialxuICB9O1xuXG4gIFZ1ZS5vcHRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgQVNTRVRfVFlQRVMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIFZ1ZS5vcHRpb25zW3R5cGUgKyAncyddID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgfSk7XG5cbiAgLy8gdGhpcyBpcyB1c2VkIHRvIGlkZW50aWZ5IHRoZSBcImJhc2VcIiBjb25zdHJ1Y3RvciB0byBleHRlbmQgYWxsIHBsYWluLW9iamVjdFxuICAvLyBjb21wb25lbnRzIHdpdGggaW4gV2VleCdzIG11bHRpLWluc3RhbmNlIHNjZW5hcmlvcy5cbiAgVnVlLm9wdGlvbnMuX2Jhc2UgPSBWdWU7XG5cbiAgZXh0ZW5kKFZ1ZS5vcHRpb25zLmNvbXBvbmVudHMsIGJ1aWx0SW5Db21wb25lbnRzKTtcblxuICBpbml0VXNlKFZ1ZSk7XG4gIGluaXRNaXhpbiQxKFZ1ZSk7XG4gIGluaXRFeHRlbmQoVnVlKTtcbiAgaW5pdEFzc2V0UmVnaXN0ZXJzKFZ1ZSk7XG59XG5cbmluaXRHbG9iYWxBUEkoVnVlKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZ1ZS5wcm90b3R5cGUsICckaXNTZXJ2ZXInLCB7XG4gIGdldDogaXNTZXJ2ZXJSZW5kZXJpbmdcbn0pO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLnByb3RvdHlwZSwgJyRzc3JDb250ZXh0Jywge1xuICBnZXQ6IGZ1bmN0aW9uIGdldCAoKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdGhpcy4kdm5vZGUgJiYgdGhpcy4kdm5vZGUuc3NyQ29udGV4dFxuICB9XG59KTtcblxuLy8gZXhwb3NlIEZ1bmN0aW9uYWxSZW5kZXJDb250ZXh0IGZvciBzc3IgcnVudGltZSBoZWxwZXIgaW5zdGFsbGF0aW9uXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLCAnRnVuY3Rpb25hbFJlbmRlckNvbnRleHQnLCB7XG4gIHZhbHVlOiBGdW5jdGlvbmFsUmVuZGVyQ29udGV4dFxufSk7XG5cblZ1ZS52ZXJzaW9uID0gJzIuNi4xMic7XG5cbi8qICAqL1xuXG4vLyB0aGVzZSBhcmUgcmVzZXJ2ZWQgZm9yIHdlYiBiZWNhdXNlIHRoZXkgYXJlIGRpcmVjdGx5IGNvbXBpbGVkIGF3YXlcbi8vIGR1cmluZyB0ZW1wbGF0ZSBjb21waWxhdGlvblxudmFyIGlzUmVzZXJ2ZWRBdHRyID0gbWFrZU1hcCgnc3R5bGUsY2xhc3MnKTtcblxuLy8gYXR0cmlidXRlcyB0aGF0IHNob3VsZCBiZSB1c2luZyBwcm9wcyBmb3IgYmluZGluZ1xudmFyIGFjY2VwdFZhbHVlID0gbWFrZU1hcCgnaW5wdXQsdGV4dGFyZWEsb3B0aW9uLHNlbGVjdCxwcm9ncmVzcycpO1xudmFyIG11c3RVc2VQcm9wID0gZnVuY3Rpb24gKHRhZywgdHlwZSwgYXR0cikge1xuICByZXR1cm4gKFxuICAgIChhdHRyID09PSAndmFsdWUnICYmIGFjY2VwdFZhbHVlKHRhZykpICYmIHR5cGUgIT09ICdidXR0b24nIHx8XG4gICAgKGF0dHIgPT09ICdzZWxlY3RlZCcgJiYgdGFnID09PSAnb3B0aW9uJykgfHxcbiAgICAoYXR0ciA9PT0gJ2NoZWNrZWQnICYmIHRhZyA9PT0gJ2lucHV0JykgfHxcbiAgICAoYXR0ciA9PT0gJ211dGVkJyAmJiB0YWcgPT09ICd2aWRlbycpXG4gIClcbn07XG5cbnZhciBpc0VudW1lcmF0ZWRBdHRyID0gbWFrZU1hcCgnY29udGVudGVkaXRhYmxlLGRyYWdnYWJsZSxzcGVsbGNoZWNrJyk7XG5cbnZhciBpc1ZhbGlkQ29udGVudEVkaXRhYmxlVmFsdWUgPSBtYWtlTWFwKCdldmVudHMsY2FyZXQsdHlwaW5nLHBsYWludGV4dC1vbmx5Jyk7XG5cbnZhciBjb252ZXJ0RW51bWVyYXRlZFZhbHVlID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgcmV0dXJuIGlzRmFsc3lBdHRyVmFsdWUodmFsdWUpIHx8IHZhbHVlID09PSAnZmFsc2UnXG4gICAgPyAnZmFsc2UnXG4gICAgLy8gYWxsb3cgYXJiaXRyYXJ5IHN0cmluZyB2YWx1ZSBmb3IgY29udGVudGVkaXRhYmxlXG4gICAgOiBrZXkgPT09ICdjb250ZW50ZWRpdGFibGUnICYmIGlzVmFsaWRDb250ZW50RWRpdGFibGVWYWx1ZSh2YWx1ZSlcbiAgICAgID8gdmFsdWVcbiAgICAgIDogJ3RydWUnXG59O1xuXG52YXIgaXNCb29sZWFuQXR0ciA9IG1ha2VNYXAoXG4gICdhbGxvd2Z1bGxzY3JlZW4sYXN5bmMsYXV0b2ZvY3VzLGF1dG9wbGF5LGNoZWNrZWQsY29tcGFjdCxjb250cm9scyxkZWNsYXJlLCcgK1xuICAnZGVmYXVsdCxkZWZhdWx0Y2hlY2tlZCxkZWZhdWx0bXV0ZWQsZGVmYXVsdHNlbGVjdGVkLGRlZmVyLGRpc2FibGVkLCcgK1xuICAnZW5hYmxlZCxmb3Jtbm92YWxpZGF0ZSxoaWRkZW4saW5kZXRlcm1pbmF0ZSxpbmVydCxpc21hcCxpdGVtc2NvcGUsbG9vcCxtdWx0aXBsZSwnICtcbiAgJ211dGVkLG5vaHJlZixub3Jlc2l6ZSxub3NoYWRlLG5vdmFsaWRhdGUsbm93cmFwLG9wZW4scGF1c2VvbmV4aXQscmVhZG9ubHksJyArXG4gICdyZXF1aXJlZCxyZXZlcnNlZCxzY29wZWQsc2VhbWxlc3Msc2VsZWN0ZWQsc29ydGFibGUsdHJhbnNsYXRlLCcgK1xuICAndHJ1ZXNwZWVkLHR5cGVtdXN0bWF0Y2gsdmlzaWJsZSdcbik7XG5cbnZhciB4bGlua05TID0gJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnO1xuXG52YXIgaXNYbGluayA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHJldHVybiBuYW1lLmNoYXJBdCg1KSA9PT0gJzonICYmIG5hbWUuc2xpY2UoMCwgNSkgPT09ICd4bGluaydcbn07XG5cbnZhciBnZXRYbGlua1Byb3AgPSBmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4gaXNYbGluayhuYW1lKSA/IG5hbWUuc2xpY2UoNiwgbmFtZS5sZW5ndGgpIDogJydcbn07XG5cbnZhciBpc0ZhbHN5QXR0clZhbHVlID0gZnVuY3Rpb24gKHZhbCkge1xuICByZXR1cm4gdmFsID09IG51bGwgfHwgdmFsID09PSBmYWxzZVxufTtcblxuLyogICovXG5cbmZ1bmN0aW9uIGdlbkNsYXNzRm9yVm5vZGUgKHZub2RlKSB7XG4gIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTtcbiAgdmFyIGNoaWxkTm9kZSA9IHZub2RlO1xuICB3aGlsZSAoaXNEZWYoY2hpbGROb2RlLmNvbXBvbmVudEluc3RhbmNlKSkge1xuICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGU7XG4gICAgaWYgKGNoaWxkTm9kZSAmJiBjaGlsZE5vZGUuZGF0YSkge1xuICAgICAgZGF0YSA9IG1lcmdlQ2xhc3NEYXRhKGNoaWxkTm9kZS5kYXRhLCBkYXRhKTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKGlzRGVmKHBhcmVudE5vZGUgPSBwYXJlbnROb2RlLnBhcmVudCkpIHtcbiAgICBpZiAocGFyZW50Tm9kZSAmJiBwYXJlbnROb2RlLmRhdGEpIHtcbiAgICAgIGRhdGEgPSBtZXJnZUNsYXNzRGF0YShkYXRhLCBwYXJlbnROb2RlLmRhdGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVuZGVyQ2xhc3MoZGF0YS5zdGF0aWNDbGFzcywgZGF0YS5jbGFzcylcbn1cblxuZnVuY3Rpb24gbWVyZ2VDbGFzc0RhdGEgKGNoaWxkLCBwYXJlbnQpIHtcbiAgcmV0dXJuIHtcbiAgICBzdGF0aWNDbGFzczogY29uY2F0KGNoaWxkLnN0YXRpY0NsYXNzLCBwYXJlbnQuc3RhdGljQ2xhc3MpLFxuICAgIGNsYXNzOiBpc0RlZihjaGlsZC5jbGFzcylcbiAgICAgID8gW2NoaWxkLmNsYXNzLCBwYXJlbnQuY2xhc3NdXG4gICAgICA6IHBhcmVudC5jbGFzc1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNsYXNzIChcbiAgc3RhdGljQ2xhc3MsXG4gIGR5bmFtaWNDbGFzc1xuKSB7XG4gIGlmIChpc0RlZihzdGF0aWNDbGFzcykgfHwgaXNEZWYoZHluYW1pY0NsYXNzKSkge1xuICAgIHJldHVybiBjb25jYXQoc3RhdGljQ2xhc3MsIHN0cmluZ2lmeUNsYXNzKGR5bmFtaWNDbGFzcykpXG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgcmV0dXJuICcnXG59XG5cbmZ1bmN0aW9uIGNvbmNhdCAoYSwgYikge1xuICByZXR1cm4gYSA/IGIgPyAoYSArICcgJyArIGIpIDogYSA6IChiIHx8ICcnKVxufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnlDbGFzcyAodmFsdWUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgcmV0dXJuIHN0cmluZ2lmeUFycmF5KHZhbHVlKVxuICB9XG4gIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3RyaW5naWZ5T2JqZWN0KHZhbHVlKVxuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlXG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgcmV0dXJuICcnXG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeUFycmF5ICh2YWx1ZSkge1xuICB2YXIgcmVzID0gJyc7XG4gIHZhciBzdHJpbmdpZmllZDtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB2YWx1ZS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoaXNEZWYoc3RyaW5naWZpZWQgPSBzdHJpbmdpZnlDbGFzcyh2YWx1ZVtpXSkpICYmIHN0cmluZ2lmaWVkICE9PSAnJykge1xuICAgICAgaWYgKHJlcykgeyByZXMgKz0gJyAnOyB9XG4gICAgICByZXMgKz0gc3RyaW5naWZpZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5T2JqZWN0ICh2YWx1ZSkge1xuICB2YXIgcmVzID0gJyc7XG4gIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZVtrZXldKSB7XG4gICAgICBpZiAocmVzKSB7IHJlcyArPSAnICc7IH1cbiAgICAgIHJlcyArPSBrZXk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuLyogICovXG5cbnZhciBuYW1lc3BhY2VNYXAgPSB7XG4gIHN2ZzogJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyxcbiAgbWF0aDogJ2h0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwnXG59O1xuXG52YXIgaXNIVE1MVGFnID0gbWFrZU1hcChcbiAgJ2h0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLCcgK1xuICAnYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGZvb3RlcixoZWFkZXIsaDEsaDIsaDMsaDQsaDUsaDYsaGdyb3VwLG5hdixzZWN0aW9uLCcgK1xuICAnZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsJyArXG4gICdhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSxkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnRjLHJ1YnksJyArXG4gICdzLHNhbXAsc21hbGwsc3BhbixzdHJvbmcsc3ViLHN1cCx0aW1lLHUsdmFyLHdicixhcmVhLGF1ZGlvLG1hcCx0cmFjayx2aWRlbywnICtcbiAgJ2VtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLCcgK1xuICAnY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsJyArXG4gICdidXR0b24sZGF0YWxpc3QsZmllbGRzZXQsZm9ybSxpbnB1dCxsYWJlbCxsZWdlbmQsbWV0ZXIsb3B0Z3JvdXAsb3B0aW9uLCcgK1xuICAnb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSwnICtcbiAgJ2RldGFpbHMsZGlhbG9nLG1lbnUsbWVudWl0ZW0sc3VtbWFyeSwnICtcbiAgJ2NvbnRlbnQsZWxlbWVudCxzaGFkb3csdGVtcGxhdGUsYmxvY2txdW90ZSxpZnJhbWUsdGZvb3QnXG4pO1xuXG4vLyB0aGlzIG1hcCBpcyBpbnRlbnRpb25hbGx5IHNlbGVjdGl2ZSwgb25seSBjb3ZlcmluZyBTVkcgZWxlbWVudHMgdGhhdCBtYXlcbi8vIGNvbnRhaW4gY2hpbGQgZWxlbWVudHMuXG52YXIgaXNTVkcgPSBtYWtlTWFwKFxuICAnc3ZnLGFuaW1hdGUsY2lyY2xlLGNsaXBwYXRoLGN1cnNvcixkZWZzLGRlc2MsZWxsaXBzZSxmaWx0ZXIsZm9udC1mYWNlLCcgK1xuICAnZm9yZWlnbk9iamVjdCxnLGdseXBoLGltYWdlLGxpbmUsbWFya2VyLG1hc2ssbWlzc2luZy1nbHlwaCxwYXRoLHBhdHRlcm4sJyArXG4gICdwb2x5Z29uLHBvbHlsaW5lLHJlY3Qsc3dpdGNoLHN5bWJvbCx0ZXh0LHRleHRwYXRoLHRzcGFuLHVzZSx2aWV3JyxcbiAgdHJ1ZVxuKTtcblxudmFyIGlzUHJlVGFnID0gZnVuY3Rpb24gKHRhZykgeyByZXR1cm4gdGFnID09PSAncHJlJzsgfTtcblxudmFyIGlzUmVzZXJ2ZWRUYWcgPSBmdW5jdGlvbiAodGFnKSB7XG4gIHJldHVybiBpc0hUTUxUYWcodGFnKSB8fCBpc1NWRyh0YWcpXG59O1xuXG5mdW5jdGlvbiBnZXRUYWdOYW1lc3BhY2UgKHRhZykge1xuICBpZiAoaXNTVkcodGFnKSkge1xuICAgIHJldHVybiAnc3ZnJ1xuICB9XG4gIC8vIGJhc2ljIHN1cHBvcnQgZm9yIE1hdGhNTFxuICAvLyBub3RlIGl0IGRvZXNuJ3Qgc3VwcG9ydCBvdGhlciBNYXRoTUwgZWxlbWVudHMgYmVpbmcgY29tcG9uZW50IHJvb3RzXG4gIGlmICh0YWcgPT09ICdtYXRoJykge1xuICAgIHJldHVybiAnbWF0aCdcbiAgfVxufVxuXG52YXIgdW5rbm93bkVsZW1lbnRDYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiBpc1Vua25vd25FbGVtZW50ICh0YWcpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghaW5Ccm93c2VyKSB7XG4gICAgcmV0dXJuIHRydWVcbiAgfVxuICBpZiAoaXNSZXNlcnZlZFRhZyh0YWcpKSB7XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cbiAgdGFnID0gdGFnLnRvTG93ZXJDYXNlKCk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddICE9IG51bGwpIHtcbiAgICByZXR1cm4gdW5rbm93bkVsZW1lbnRDYWNoZVt0YWddXG4gIH1cbiAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICBpZiAodGFnLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjgyMTAzNjQvMTA3MDI0NFxuICAgIHJldHVybiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddID0gKFxuICAgICAgZWwuY29uc3RydWN0b3IgPT09IHdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnQgfHxcbiAgICAgIGVsLmNvbnN0cnVjdG9yID09PSB3aW5kb3cuSFRNTEVsZW1lbnRcbiAgICApKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAodW5rbm93bkVsZW1lbnRDYWNoZVt0YWddID0gL0hUTUxVbmtub3duRWxlbWVudC8udGVzdChlbC50b1N0cmluZygpKSlcbiAgfVxufVxuXG52YXIgaXNUZXh0SW5wdXRUeXBlID0gbWFrZU1hcCgndGV4dCxudW1iZXIscGFzc3dvcmQsc2VhcmNoLGVtYWlsLHRlbCx1cmwnKTtcblxuLyogICovXG5cbi8qKlxuICogUXVlcnkgYW4gZWxlbWVudCBzZWxlY3RvciBpZiBpdCdzIG5vdCBhbiBlbGVtZW50IGFscmVhZHkuXG4gKi9cbmZ1bmN0aW9uIHF1ZXJ5IChlbCkge1xuICBpZiAodHlwZW9mIGVsID09PSAnc3RyaW5nJykge1xuICAgIHZhciBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWwpO1xuICAgIGlmICghc2VsZWN0ZWQpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgICAgJ0Nhbm5vdCBmaW5kIGVsZW1lbnQ6ICcgKyBlbFxuICAgICAgKTtcbiAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIH1cbiAgICByZXR1cm4gc2VsZWN0ZWRcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZWxcbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCQxICh0YWdOYW1lLCB2bm9kZSkge1xuICB2YXIgZWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgaWYgKHRhZ05hbWUgIT09ICdzZWxlY3QnKSB7XG4gICAgcmV0dXJuIGVsbVxuICB9XG4gIC8vIGZhbHNlIG9yIG51bGwgd2lsbCByZW1vdmUgdGhlIGF0dHJpYnV0ZSBidXQgdW5kZWZpbmVkIHdpbGwgbm90XG4gIGlmICh2bm9kZS5kYXRhICYmIHZub2RlLmRhdGEuYXR0cnMgJiYgdm5vZGUuZGF0YS5hdHRycy5tdWx0aXBsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZWxtLnNldEF0dHJpYnV0ZSgnbXVsdGlwbGUnLCAnbXVsdGlwbGUnKTtcbiAgfVxuICByZXR1cm4gZWxtXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnROUyAobmFtZXNwYWNlLCB0YWdOYW1lKSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobmFtZXNwYWNlTWFwW25hbWVzcGFjZV0sIHRhZ05hbWUpXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVRleHROb2RlICh0ZXh0KSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KVxufVxuXG5mdW5jdGlvbiBjcmVhdGVDb21tZW50ICh0ZXh0KSB7XG4gIHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KHRleHQpXG59XG5cbmZ1bmN0aW9uIGluc2VydEJlZm9yZSAocGFyZW50Tm9kZSwgbmV3Tm9kZSwgcmVmZXJlbmNlTm9kZSkge1xuICBwYXJlbnROb2RlLmluc2VydEJlZm9yZShuZXdOb2RlLCByZWZlcmVuY2VOb2RlKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2hpbGQgKG5vZGUsIGNoaWxkKSB7XG4gIG5vZGUucmVtb3ZlQ2hpbGQoY2hpbGQpO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRDaGlsZCAobm9kZSwgY2hpbGQpIHtcbiAgbm9kZS5hcHBlbmRDaGlsZChjaGlsZCk7XG59XG5cbmZ1bmN0aW9uIHBhcmVudE5vZGUgKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUucGFyZW50Tm9kZVxufVxuXG5mdW5jdGlvbiBuZXh0U2libGluZyAobm9kZSkge1xuICByZXR1cm4gbm9kZS5uZXh0U2libGluZ1xufVxuXG5mdW5jdGlvbiB0YWdOYW1lIChub2RlKSB7XG4gIHJldHVybiBub2RlLnRhZ05hbWVcbn1cblxuZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQgKG5vZGUsIHRleHQpIHtcbiAgbm9kZS50ZXh0Q29udGVudCA9IHRleHQ7XG59XG5cbmZ1bmN0aW9uIHNldFN0eWxlU2NvcGUgKG5vZGUsIHNjb3BlSWQpIHtcbiAgbm9kZS5zZXRBdHRyaWJ1dGUoc2NvcGVJZCwgJycpO1xufVxuXG52YXIgbm9kZU9wcyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgY3JlYXRlRWxlbWVudDogY3JlYXRlRWxlbWVudCQxLFxuICBjcmVhdGVFbGVtZW50TlM6IGNyZWF0ZUVsZW1lbnROUyxcbiAgY3JlYXRlVGV4dE5vZGU6IGNyZWF0ZVRleHROb2RlLFxuICBjcmVhdGVDb21tZW50OiBjcmVhdGVDb21tZW50LFxuICBpbnNlcnRCZWZvcmU6IGluc2VydEJlZm9yZSxcbiAgcmVtb3ZlQ2hpbGQ6IHJlbW92ZUNoaWxkLFxuICBhcHBlbmRDaGlsZDogYXBwZW5kQ2hpbGQsXG4gIHBhcmVudE5vZGU6IHBhcmVudE5vZGUsXG4gIG5leHRTaWJsaW5nOiBuZXh0U2libGluZyxcbiAgdGFnTmFtZTogdGFnTmFtZSxcbiAgc2V0VGV4dENvbnRlbnQ6IHNldFRleHRDb250ZW50LFxuICBzZXRTdHlsZVNjb3BlOiBzZXRTdHlsZVNjb3BlXG59KTtcblxuLyogICovXG5cbnZhciByZWYgPSB7XG4gIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlIChfLCB2bm9kZSkge1xuICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUgKG9sZFZub2RlLCB2bm9kZSkge1xuICAgIGlmIChvbGRWbm9kZS5kYXRhLnJlZiAhPT0gdm5vZGUuZGF0YS5yZWYpIHtcbiAgICAgIHJlZ2lzdGVyUmVmKG9sZFZub2RlLCB0cnVlKTtcbiAgICAgIHJlZ2lzdGVyUmVmKHZub2RlKTtcbiAgICB9XG4gIH0sXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3kgKHZub2RlKSB7XG4gICAgcmVnaXN0ZXJSZWYodm5vZGUsIHRydWUpO1xuICB9XG59O1xuXG5mdW5jdGlvbiByZWdpc3RlclJlZiAodm5vZGUsIGlzUmVtb3ZhbCkge1xuICB2YXIga2V5ID0gdm5vZGUuZGF0YS5yZWY7XG4gIGlmICghaXNEZWYoa2V5KSkgeyByZXR1cm4gfVxuXG4gIHZhciB2bSA9IHZub2RlLmNvbnRleHQ7XG4gIHZhciByZWYgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSB8fCB2bm9kZS5lbG07XG4gIHZhciByZWZzID0gdm0uJHJlZnM7XG4gIGlmIChpc1JlbW92YWwpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShyZWZzW2tleV0pKSB7XG4gICAgICByZW1vdmUocmVmc1trZXldLCByZWYpO1xuICAgIH0gZWxzZSBpZiAocmVmc1trZXldID09PSByZWYpIHtcbiAgICAgIHJlZnNba2V5XSA9IHVuZGVmaW5lZDtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKHZub2RlLmRhdGEucmVmSW5Gb3IpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZWZzW2tleV0pKSB7XG4gICAgICAgIHJlZnNba2V5XSA9IFtyZWZdO1xuICAgICAgfSBlbHNlIGlmIChyZWZzW2tleV0uaW5kZXhPZihyZWYpIDwgMCkge1xuICAgICAgICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAgICAgICAgcmVmc1trZXldLnB1c2gocmVmKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVmc1trZXldID0gcmVmO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFZpcnR1YWwgRE9NIHBhdGNoaW5nIGFsZ29yaXRobSBiYXNlZCBvbiBTbmFiYmRvbSBieVxuICogU2ltb24gRnJpaXMgVmluZHVtIChAcGFsZGVwaW5kKVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGFsZGVwaW5kL3NuYWJiZG9tL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcbiAqXG4gKiBtb2RpZmllZCBieSBFdmFuIFlvdSAoQHl5eDk5MDgwMylcbiAqXG4gKiBOb3QgdHlwZS1jaGVja2luZyB0aGlzIGJlY2F1c2UgdGhpcyBmaWxlIGlzIHBlcmYtY3JpdGljYWwgYW5kIHRoZSBjb3N0XG4gKiBvZiBtYWtpbmcgZmxvdyB1bmRlcnN0YW5kIGl0IGlzIG5vdCB3b3J0aCBpdC5cbiAqL1xuXG52YXIgZW1wdHlOb2RlID0gbmV3IFZOb2RlKCcnLCB7fSwgW10pO1xuXG52YXIgaG9va3MgPSBbJ2NyZWF0ZScsICdhY3RpdmF0ZScsICd1cGRhdGUnLCAncmVtb3ZlJywgJ2Rlc3Ryb3knXTtcblxuZnVuY3Rpb24gc2FtZVZub2RlIChhLCBiKSB7XG4gIHJldHVybiAoXG4gICAgYS5rZXkgPT09IGIua2V5ICYmIChcbiAgICAgIChcbiAgICAgICAgYS50YWcgPT09IGIudGFnICYmXG4gICAgICAgIGEuaXNDb21tZW50ID09PSBiLmlzQ29tbWVudCAmJlxuICAgICAgICBpc0RlZihhLmRhdGEpID09PSBpc0RlZihiLmRhdGEpICYmXG4gICAgICAgIHNhbWVJbnB1dFR5cGUoYSwgYilcbiAgICAgICkgfHwgKFxuICAgICAgICBpc1RydWUoYS5pc0FzeW5jUGxhY2Vob2xkZXIpICYmXG4gICAgICAgIGEuYXN5bmNGYWN0b3J5ID09PSBiLmFzeW5jRmFjdG9yeSAmJlxuICAgICAgICBpc1VuZGVmKGIuYXN5bmNGYWN0b3J5LmVycm9yKVxuICAgICAgKVxuICAgIClcbiAgKVxufVxuXG5mdW5jdGlvbiBzYW1lSW5wdXRUeXBlIChhLCBiKSB7XG4gIGlmIChhLnRhZyAhPT0gJ2lucHV0JykgeyByZXR1cm4gdHJ1ZSB9XG4gIHZhciBpO1xuICB2YXIgdHlwZUEgPSBpc0RlZihpID0gYS5kYXRhKSAmJiBpc0RlZihpID0gaS5hdHRycykgJiYgaS50eXBlO1xuICB2YXIgdHlwZUIgPSBpc0RlZihpID0gYi5kYXRhKSAmJiBpc0RlZihpID0gaS5hdHRycykgJiYgaS50eXBlO1xuICByZXR1cm4gdHlwZUEgPT09IHR5cGVCIHx8IGlzVGV4dElucHV0VHlwZSh0eXBlQSkgJiYgaXNUZXh0SW5wdXRUeXBlKHR5cGVCKVxufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXlUb09sZElkeCAoY2hpbGRyZW4sIGJlZ2luSWR4LCBlbmRJZHgpIHtcbiAgdmFyIGksIGtleTtcbiAgdmFyIG1hcCA9IHt9O1xuICBmb3IgKGkgPSBiZWdpbklkeDsgaSA8PSBlbmRJZHg7ICsraSkge1xuICAgIGtleSA9IGNoaWxkcmVuW2ldLmtleTtcbiAgICBpZiAoaXNEZWYoa2V5KSkgeyBtYXBba2V5XSA9IGk7IH1cbiAgfVxuICByZXR1cm4gbWFwXG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhdGNoRnVuY3Rpb24gKGJhY2tlbmQpIHtcbiAgdmFyIGksIGo7XG4gIHZhciBjYnMgPSB7fTtcblxuICB2YXIgbW9kdWxlcyA9IGJhY2tlbmQubW9kdWxlcztcbiAgdmFyIG5vZGVPcHMgPSBiYWNrZW5kLm5vZGVPcHM7XG5cbiAgZm9yIChpID0gMDsgaSA8IGhvb2tzLmxlbmd0aDsgKytpKSB7XG4gICAgY2JzW2hvb2tzW2ldXSA9IFtdO1xuICAgIGZvciAoaiA9IDA7IGogPCBtb2R1bGVzLmxlbmd0aDsgKytqKSB7XG4gICAgICBpZiAoaXNEZWYobW9kdWxlc1tqXVtob29rc1tpXV0pKSB7XG4gICAgICAgIGNic1tob29rc1tpXV0ucHVzaChtb2R1bGVzW2pdW2hvb2tzW2ldXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZW1wdHlOb2RlQXQgKGVsbSkge1xuICAgIHJldHVybiBuZXcgVk5vZGUobm9kZU9wcy50YWdOYW1lKGVsbSkudG9Mb3dlckNhc2UoKSwge30sIFtdLCB1bmRlZmluZWQsIGVsbSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVJtQ2IgKGNoaWxkRWxtLCBsaXN0ZW5lcnMpIHtcbiAgICBmdW5jdGlvbiByZW1vdmUkJDEgKCkge1xuICAgICAgaWYgKC0tcmVtb3ZlJCQxLmxpc3RlbmVycyA9PT0gMCkge1xuICAgICAgICByZW1vdmVOb2RlKGNoaWxkRWxtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVtb3ZlJCQxLmxpc3RlbmVycyA9IGxpc3RlbmVycztcbiAgICByZXR1cm4gcmVtb3ZlJCQxXG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVOb2RlIChlbCkge1xuICAgIHZhciBwYXJlbnQgPSBub2RlT3BzLnBhcmVudE5vZGUoZWwpO1xuICAgIC8vIGVsZW1lbnQgbWF5IGhhdmUgYWxyZWFkeSBiZWVuIHJlbW92ZWQgZHVlIHRvIHYtaHRtbCAvIHYtdGV4dFxuICAgIGlmIChpc0RlZihwYXJlbnQpKSB7XG4gICAgICBub2RlT3BzLnJlbW92ZUNoaWxkKHBhcmVudCwgZWwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVW5rbm93bkVsZW1lbnQkJDEgKHZub2RlLCBpblZQcmUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgIWluVlByZSAmJlxuICAgICAgIXZub2RlLm5zICYmXG4gICAgICAhKFxuICAgICAgICBjb25maWcuaWdub3JlZEVsZW1lbnRzLmxlbmd0aCAmJlxuICAgICAgICBjb25maWcuaWdub3JlZEVsZW1lbnRzLnNvbWUoZnVuY3Rpb24gKGlnbm9yZSkge1xuICAgICAgICAgIHJldHVybiBpc1JlZ0V4cChpZ25vcmUpXG4gICAgICAgICAgICA/IGlnbm9yZS50ZXN0KHZub2RlLnRhZylcbiAgICAgICAgICAgIDogaWdub3JlID09PSB2bm9kZS50YWdcbiAgICAgICAgfSlcbiAgICAgICkgJiZcbiAgICAgIGNvbmZpZy5pc1Vua25vd25FbGVtZW50KHZub2RlLnRhZylcbiAgICApXG4gIH1cblxuICB2YXIgY3JlYXRpbmdFbG1JblZQcmUgPSAwO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsbSAoXG4gICAgdm5vZGUsXG4gICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLFxuICAgIHBhcmVudEVsbSxcbiAgICByZWZFbG0sXG4gICAgbmVzdGVkLFxuICAgIG93bmVyQXJyYXksXG4gICAgaW5kZXhcbiAgKSB7XG4gICAgaWYgKGlzRGVmKHZub2RlLmVsbSkgJiYgaXNEZWYob3duZXJBcnJheSkpIHtcbiAgICAgIC8vIFRoaXMgdm5vZGUgd2FzIHVzZWQgaW4gYSBwcmV2aW91cyByZW5kZXIhXG4gICAgICAvLyBub3cgaXQncyB1c2VkIGFzIGEgbmV3IG5vZGUsIG92ZXJ3cml0aW5nIGl0cyBlbG0gd291bGQgY2F1c2VcbiAgICAgIC8vIHBvdGVudGlhbCBwYXRjaCBlcnJvcnMgZG93biB0aGUgcm9hZCB3aGVuIGl0J3MgdXNlZCBhcyBhbiBpbnNlcnRpb25cbiAgICAgIC8vIHJlZmVyZW5jZSBub2RlLiBJbnN0ZWFkLCB3ZSBjbG9uZSB0aGUgbm9kZSBvbi1kZW1hbmQgYmVmb3JlIGNyZWF0aW5nXG4gICAgICAvLyBhc3NvY2lhdGVkIERPTSBlbGVtZW50IGZvciBpdC5cbiAgICAgIHZub2RlID0gb3duZXJBcnJheVtpbmRleF0gPSBjbG9uZVZOb2RlKHZub2RlKTtcbiAgICB9XG5cbiAgICB2bm9kZS5pc1Jvb3RJbnNlcnQgPSAhbmVzdGVkOyAvLyBmb3IgdHJhbnNpdGlvbiBlbnRlciBjaGVja1xuICAgIGlmIChjcmVhdGVDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgcGFyZW50RWxtLCByZWZFbG0pKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgdmFyIGNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gICAgdmFyIHRhZyA9IHZub2RlLnRhZztcbiAgICBpZiAoaXNEZWYodGFnKSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5wcmUpIHtcbiAgICAgICAgICBjcmVhdGluZ0VsbUluVlByZSsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Vua25vd25FbGVtZW50JCQxKHZub2RlLCBjcmVhdGluZ0VsbUluVlByZSkpIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgJ1Vua25vd24gY3VzdG9tIGVsZW1lbnQ6IDwnICsgdGFnICsgJz4gLSBkaWQgeW91ICcgK1xuICAgICAgICAgICAgJ3JlZ2lzdGVyIHRoZSBjb21wb25lbnQgY29ycmVjdGx5PyBGb3IgcmVjdXJzaXZlIGNvbXBvbmVudHMsICcgK1xuICAgICAgICAgICAgJ21ha2Ugc3VyZSB0byBwcm92aWRlIHRoZSBcIm5hbWVcIiBvcHRpb24uJyxcbiAgICAgICAgICAgIHZub2RlLmNvbnRleHRcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZub2RlLmVsbSA9IHZub2RlLm5zXG4gICAgICAgID8gbm9kZU9wcy5jcmVhdGVFbGVtZW50TlModm5vZGUubnMsIHRhZylcbiAgICAgICAgOiBub2RlT3BzLmNyZWF0ZUVsZW1lbnQodGFnLCB2bm9kZSk7XG4gICAgICBzZXRTY29wZSh2bm9kZSk7XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAge1xuICAgICAgICBjcmVhdGVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIGlmIChpc0RlZihkYXRhKSkge1xuICAgICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICB9XG4gICAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZGF0YSAmJiBkYXRhLnByZSkge1xuICAgICAgICBjcmVhdGluZ0VsbUluVlByZS0tO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNUcnVlKHZub2RlLmlzQ29tbWVudCkpIHtcbiAgICAgIHZub2RlLmVsbSA9IG5vZGVPcHMuY3JlYXRlQ29tbWVudCh2bm9kZS50ZXh0KTtcbiAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdm5vZGUuZWxtID0gbm9kZU9wcy5jcmVhdGVUZXh0Tm9kZSh2bm9kZS50ZXh0KTtcbiAgICAgIGluc2VydChwYXJlbnRFbG0sIHZub2RlLmVsbSwgcmVmRWxtKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVDb21wb25lbnQgKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgcmVmRWxtKSB7XG4gICAgdmFyIGkgPSB2bm9kZS5kYXRhO1xuICAgIGlmIChpc0RlZihpKSkge1xuICAgICAgdmFyIGlzUmVhY3RpdmF0ZWQgPSBpc0RlZih2bm9kZS5jb21wb25lbnRJbnN0YW5jZSkgJiYgaS5rZWVwQWxpdmU7XG4gICAgICBpZiAoaXNEZWYoaSA9IGkuaG9vaykgJiYgaXNEZWYoaSA9IGkuaW5pdCkpIHtcbiAgICAgICAgaSh2bm9kZSwgZmFsc2UgLyogaHlkcmF0aW5nICovKTtcbiAgICAgIH1cbiAgICAgIC8vIGFmdGVyIGNhbGxpbmcgdGhlIGluaXQgaG9vaywgaWYgdGhlIHZub2RlIGlzIGEgY2hpbGQgY29tcG9uZW50XG4gICAgICAvLyBpdCBzaG91bGQndmUgY3JlYXRlZCBhIGNoaWxkIGluc3RhbmNlIGFuZCBtb3VudGVkIGl0LiB0aGUgY2hpbGRcbiAgICAgIC8vIGNvbXBvbmVudCBhbHNvIGhhcyBzZXQgdGhlIHBsYWNlaG9sZGVyIHZub2RlJ3MgZWxtLlxuICAgICAgLy8gaW4gdGhhdCBjYXNlIHdlIGNhbiBqdXN0IHJldHVybiB0aGUgZWxlbWVudCBhbmQgYmUgZG9uZS5cbiAgICAgIGlmIChpc0RlZih2bm9kZS5jb21wb25lbnRJbnN0YW5jZSkpIHtcbiAgICAgICAgaW5pdENvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgICAgaW5zZXJ0KHBhcmVudEVsbSwgdm5vZGUuZWxtLCByZWZFbG0pO1xuICAgICAgICBpZiAoaXNUcnVlKGlzUmVhY3RpdmF0ZWQpKSB7XG4gICAgICAgICAgcmVhY3RpdmF0ZUNvbXBvbmVudCh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIHJlZkVsbSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0Q29tcG9uZW50ICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgaWYgKGlzRGVmKHZub2RlLmRhdGEucGVuZGluZ0luc2VydCkpIHtcbiAgICAgIGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoLmFwcGx5KGluc2VydGVkVm5vZGVRdWV1ZSwgdm5vZGUuZGF0YS5wZW5kaW5nSW5zZXJ0KTtcbiAgICAgIHZub2RlLmRhdGEucGVuZGluZ0luc2VydCA9IG51bGw7XG4gICAgfVxuICAgIHZub2RlLmVsbSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlLiRlbDtcbiAgICBpZiAoaXNQYXRjaGFibGUodm5vZGUpKSB7XG4gICAgICBpbnZva2VDcmVhdGVIb29rcyh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKTtcbiAgICAgIHNldFNjb3BlKHZub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZW1wdHkgY29tcG9uZW50IHJvb3QuXG4gICAgICAvLyBza2lwIGFsbCBlbGVtZW50LXJlbGF0ZWQgbW9kdWxlcyBleGNlcHQgZm9yIHJlZiAoIzM0NTUpXG4gICAgICByZWdpc3RlclJlZih2bm9kZSk7XG4gICAgICAvLyBtYWtlIHN1cmUgdG8gaW52b2tlIHRoZSBpbnNlcnQgaG9va1xuICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2godm5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWN0aXZhdGVDb21wb25lbnQgKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIHBhcmVudEVsbSwgcmVmRWxtKSB7XG4gICAgdmFyIGk7XG4gICAgLy8gaGFjayBmb3IgIzQzMzk6IGEgcmVhY3RpdmF0ZWQgY29tcG9uZW50IHdpdGggaW5uZXIgdHJhbnNpdGlvblxuICAgIC8vIGRvZXMgbm90IHRyaWdnZXIgYmVjYXVzZSB0aGUgaW5uZXIgbm9kZSdzIGNyZWF0ZWQgaG9va3MgYXJlIG5vdCBjYWxsZWRcbiAgICAvLyBhZ2Fpbi4gSXQncyBub3QgaWRlYWwgdG8gaW52b2x2ZSBtb2R1bGUtc3BlY2lmaWMgbG9naWMgaW4gaGVyZSBidXRcbiAgICAvLyB0aGVyZSBkb2Vzbid0IHNlZW0gdG8gYmUgYSBiZXR0ZXIgd2F5IHRvIGRvIGl0LlxuICAgIHZhciBpbm5lck5vZGUgPSB2bm9kZTtcbiAgICB3aGlsZSAoaW5uZXJOb2RlLmNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgICBpbm5lck5vZGUgPSBpbm5lck5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlO1xuICAgICAgaWYgKGlzRGVmKGkgPSBpbm5lck5vZGUuZGF0YSkgJiYgaXNEZWYoaSA9IGkudHJhbnNpdGlvbikpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5hY3RpdmF0ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGNicy5hY3RpdmF0ZVtpXShlbXB0eU5vZGUsIGlubmVyTm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLnB1c2goaW5uZXJOb2RlKTtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gdW5saWtlIGEgbmV3bHkgY3JlYXRlZCBjb21wb25lbnQsXG4gICAgLy8gYSByZWFjdGl2YXRlZCBrZWVwLWFsaXZlIGNvbXBvbmVudCBkb2Vzbid0IGluc2VydCBpdHNlbGZcbiAgICBpbnNlcnQocGFyZW50RWxtLCB2bm9kZS5lbG0sIHJlZkVsbSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbnNlcnQgKHBhcmVudCwgZWxtLCByZWYkJDEpIHtcbiAgICBpZiAoaXNEZWYocGFyZW50KSkge1xuICAgICAgaWYgKGlzRGVmKHJlZiQkMSkpIHtcbiAgICAgICAgaWYgKG5vZGVPcHMucGFyZW50Tm9kZShyZWYkJDEpID09PSBwYXJlbnQpIHtcbiAgICAgICAgICBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnQsIGVsbSwgcmVmJCQxKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZU9wcy5hcHBlbmRDaGlsZChwYXJlbnQsIGVsbSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQ2hpbGRyZW4gKHZub2RlLCBjaGlsZHJlbiwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBjaGVja0R1cGxpY2F0ZUtleXMoY2hpbGRyZW4pO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICBjcmVhdGVFbG0oY2hpbGRyZW5baV0sIGluc2VydGVkVm5vZGVRdWV1ZSwgdm5vZGUuZWxtLCBudWxsLCB0cnVlLCBjaGlsZHJlbiwgaSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ByaW1pdGl2ZSh2bm9kZS50ZXh0KSkge1xuICAgICAgbm9kZU9wcy5hcHBlbmRDaGlsZCh2bm9kZS5lbG0sIG5vZGVPcHMuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKHZub2RlLnRleHQpKSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNQYXRjaGFibGUgKHZub2RlKSB7XG4gICAgd2hpbGUgKHZub2RlLmNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgICB2bm9kZSA9IHZub2RlLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGlzRGVmKHZub2RlLnRhZylcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUNyZWF0ZUhvb2tzICh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlKSB7XG4gICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2JzLmNyZWF0ZS5sZW5ndGg7ICsraSQxKSB7XG4gICAgICBjYnMuY3JlYXRlW2kkMV0oZW1wdHlOb2RlLCB2bm9kZSk7XG4gICAgfVxuICAgIGkgPSB2bm9kZS5kYXRhLmhvb2s7IC8vIFJldXNlIHZhcmlhYmxlXG4gICAgaWYgKGlzRGVmKGkpKSB7XG4gICAgICBpZiAoaXNEZWYoaS5jcmVhdGUpKSB7IGkuY3JlYXRlKGVtcHR5Tm9kZSwgdm5vZGUpOyB9XG4gICAgICBpZiAoaXNEZWYoaS5pbnNlcnQpKSB7IGluc2VydGVkVm5vZGVRdWV1ZS5wdXNoKHZub2RlKTsgfVxuICAgIH1cbiAgfVxuXG4gIC8vIHNldCBzY29wZSBpZCBhdHRyaWJ1dGUgZm9yIHNjb3BlZCBDU1MuXG4gIC8vIHRoaXMgaXMgaW1wbGVtZW50ZWQgYXMgYSBzcGVjaWFsIGNhc2UgdG8gYXZvaWQgdGhlIG92ZXJoZWFkXG4gIC8vIG9mIGdvaW5nIHRocm91Z2ggdGhlIG5vcm1hbCBhdHRyaWJ1dGUgcGF0Y2hpbmcgcHJvY2Vzcy5cbiAgZnVuY3Rpb24gc2V0U2NvcGUgKHZub2RlKSB7XG4gICAgdmFyIGk7XG4gICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5mblNjb3BlSWQpKSB7XG4gICAgICBub2RlT3BzLnNldFN0eWxlU2NvcGUodm5vZGUuZWxtLCBpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFuY2VzdG9yID0gdm5vZGU7XG4gICAgICB3aGlsZSAoYW5jZXN0b3IpIHtcbiAgICAgICAgaWYgKGlzRGVmKGkgPSBhbmNlc3Rvci5jb250ZXh0KSAmJiBpc0RlZihpID0gaS4kb3B0aW9ucy5fc2NvcGVJZCkpIHtcbiAgICAgICAgICBub2RlT3BzLnNldFN0eWxlU2NvcGUodm5vZGUuZWxtLCBpKTtcbiAgICAgICAgfVxuICAgICAgICBhbmNlc3RvciA9IGFuY2VzdG9yLnBhcmVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gZm9yIHNsb3QgY29udGVudCB0aGV5IHNob3VsZCBhbHNvIGdldCB0aGUgc2NvcGVJZCBmcm9tIHRoZSBob3N0IGluc3RhbmNlLlxuICAgIGlmIChpc0RlZihpID0gYWN0aXZlSW5zdGFuY2UpICYmXG4gICAgICBpICE9PSB2bm9kZS5jb250ZXh0ICYmXG4gICAgICBpICE9PSB2bm9kZS5mbkNvbnRleHQgJiZcbiAgICAgIGlzRGVmKGkgPSBpLiRvcHRpb25zLl9zY29wZUlkKVxuICAgICkge1xuICAgICAgbm9kZU9wcy5zZXRTdHlsZVNjb3BlKHZub2RlLmVsbSwgaSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWRkVm5vZGVzIChwYXJlbnRFbG0sIHJlZkVsbSwgdm5vZGVzLCBzdGFydElkeCwgZW5kSWR4LCBpbnNlcnRlZFZub2RlUXVldWUpIHtcbiAgICBmb3IgKDsgc3RhcnRJZHggPD0gZW5kSWR4OyArK3N0YXJ0SWR4KSB7XG4gICAgICBjcmVhdGVFbG0odm5vZGVzW3N0YXJ0SWR4XSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIHJlZkVsbSwgZmFsc2UsIHZub2Rlcywgc3RhcnRJZHgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZURlc3Ryb3lIb29rICh2bm9kZSkge1xuICAgIHZhciBpLCBqO1xuICAgIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgICBpZiAoaXNEZWYoZGF0YSkpIHtcbiAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5kZXN0cm95KSkgeyBpKHZub2RlKTsgfVxuICAgICAgZm9yIChpID0gMDsgaSA8IGNicy5kZXN0cm95Lmxlbmd0aDsgKytpKSB7IGNicy5kZXN0cm95W2ldKHZub2RlKTsgfVxuICAgIH1cbiAgICBpZiAoaXNEZWYoaSA9IHZub2RlLmNoaWxkcmVuKSkge1xuICAgICAgZm9yIChqID0gMDsgaiA8IHZub2RlLmNoaWxkcmVuLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIGludm9rZURlc3Ryb3lIb29rKHZub2RlLmNoaWxkcmVuW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVWbm9kZXMgKHZub2Rlcywgc3RhcnRJZHgsIGVuZElkeCkge1xuICAgIGZvciAoOyBzdGFydElkeCA8PSBlbmRJZHg7ICsrc3RhcnRJZHgpIHtcbiAgICAgIHZhciBjaCA9IHZub2Rlc1tzdGFydElkeF07XG4gICAgICBpZiAoaXNEZWYoY2gpKSB7XG4gICAgICAgIGlmIChpc0RlZihjaC50YWcpKSB7XG4gICAgICAgICAgcmVtb3ZlQW5kSW52b2tlUmVtb3ZlSG9vayhjaCk7XG4gICAgICAgICAgaW52b2tlRGVzdHJveUhvb2soY2gpO1xuICAgICAgICB9IGVsc2UgeyAvLyBUZXh0IG5vZGVcbiAgICAgICAgICByZW1vdmVOb2RlKGNoLmVsbSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rICh2bm9kZSwgcm0pIHtcbiAgICBpZiAoaXNEZWYocm0pIHx8IGlzRGVmKHZub2RlLmRhdGEpKSB7XG4gICAgICB2YXIgaTtcbiAgICAgIHZhciBsaXN0ZW5lcnMgPSBjYnMucmVtb3ZlLmxlbmd0aCArIDE7XG4gICAgICBpZiAoaXNEZWYocm0pKSB7XG4gICAgICAgIC8vIHdlIGhhdmUgYSByZWN1cnNpdmVseSBwYXNzZWQgZG93biBybSBjYWxsYmFja1xuICAgICAgICAvLyBpbmNyZWFzZSB0aGUgbGlzdGVuZXJzIGNvdW50XG4gICAgICAgIHJtLmxpc3RlbmVycyArPSBsaXN0ZW5lcnM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkaXJlY3RseSByZW1vdmluZ1xuICAgICAgICBybSA9IGNyZWF0ZVJtQ2Iodm5vZGUuZWxtLCBsaXN0ZW5lcnMpO1xuICAgICAgfVxuICAgICAgLy8gcmVjdXJzaXZlbHkgaW52b2tlIGhvb2tzIG9uIGNoaWxkIGNvbXBvbmVudCByb290IG5vZGVcbiAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuY29tcG9uZW50SW5zdGFuY2UpICYmIGlzRGVmKGkgPSBpLl92bm9kZSkgJiYgaXNEZWYoaS5kYXRhKSkge1xuICAgICAgICByZW1vdmVBbmRJbnZva2VSZW1vdmVIb29rKGksIHJtKTtcbiAgICAgIH1cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBjYnMucmVtb3ZlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIGNicy5yZW1vdmVbaV0odm5vZGUsIHJtKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0RlZihpID0gdm5vZGUuZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5yZW1vdmUpKSB7XG4gICAgICAgIGkodm5vZGUsIHJtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJtKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZU5vZGUodm5vZGUuZWxtKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVDaGlsZHJlbiAocGFyZW50RWxtLCBvbGRDaCwgbmV3Q2gsIGluc2VydGVkVm5vZGVRdWV1ZSwgcmVtb3ZlT25seSkge1xuICAgIHZhciBvbGRTdGFydElkeCA9IDA7XG4gICAgdmFyIG5ld1N0YXJ0SWR4ID0gMDtcbiAgICB2YXIgb2xkRW5kSWR4ID0gb2xkQ2gubGVuZ3RoIC0gMTtcbiAgICB2YXIgb2xkU3RhcnRWbm9kZSA9IG9sZENoWzBdO1xuICAgIHZhciBvbGRFbmRWbm9kZSA9IG9sZENoW29sZEVuZElkeF07XG4gICAgdmFyIG5ld0VuZElkeCA9IG5ld0NoLmxlbmd0aCAtIDE7XG4gICAgdmFyIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFswXTtcbiAgICB2YXIgbmV3RW5kVm5vZGUgPSBuZXdDaFtuZXdFbmRJZHhdO1xuICAgIHZhciBvbGRLZXlUb0lkeCwgaWR4SW5PbGQsIHZub2RlVG9Nb3ZlLCByZWZFbG07XG5cbiAgICAvLyByZW1vdmVPbmx5IGlzIGEgc3BlY2lhbCBmbGFnIHVzZWQgb25seSBieSA8dHJhbnNpdGlvbi1ncm91cD5cbiAgICAvLyB0byBlbnN1cmUgcmVtb3ZlZCBlbGVtZW50cyBzdGF5IGluIGNvcnJlY3QgcmVsYXRpdmUgcG9zaXRpb25zXG4gICAgLy8gZHVyaW5nIGxlYXZpbmcgdHJhbnNpdGlvbnNcbiAgICB2YXIgY2FuTW92ZSA9ICFyZW1vdmVPbmx5O1xuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGNoZWNrRHVwbGljYXRlS2V5cyhuZXdDaCk7XG4gICAgfVxuXG4gICAgd2hpbGUgKG9sZFN0YXJ0SWR4IDw9IG9sZEVuZElkeCAmJiBuZXdTdGFydElkeCA8PSBuZXdFbmRJZHgpIHtcbiAgICAgIGlmIChpc1VuZGVmKG9sZFN0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTsgLy8gVm5vZGUgaGFzIGJlZW4gbW92ZWQgbGVmdFxuICAgICAgfSBlbHNlIGlmIChpc1VuZGVmKG9sZEVuZFZub2RlKSkge1xuICAgICAgICBvbGRFbmRWbm9kZSA9IG9sZENoWy0tb2xkRW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld1N0YXJ0Vm5vZGUpKSB7XG4gICAgICAgIHBhdGNoVm5vZGUob2xkU3RhcnRWbm9kZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpO1xuICAgICAgICBvbGRTdGFydFZub2RlID0gb2xkQ2hbKytvbGRTdGFydElkeF07XG4gICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZEVuZFZub2RlLCBuZXdFbmRWbm9kZSkpIHtcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRFbmRWbm9kZSwgbmV3RW5kVm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbmV3Q2gsIG5ld0VuZElkeCk7XG4gICAgICAgIG9sZEVuZFZub2RlID0gb2xkQ2hbLS1vbGRFbmRJZHhdO1xuICAgICAgICBuZXdFbmRWbm9kZSA9IG5ld0NoWy0tbmV3RW5kSWR4XTtcbiAgICAgIH0gZWxzZSBpZiAoc2FtZVZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlKSkgeyAvLyBWbm9kZSBtb3ZlZCByaWdodFxuICAgICAgICBwYXRjaFZub2RlKG9sZFN0YXJ0Vm5vZGUsIG5ld0VuZFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdFbmRJZHgpO1xuICAgICAgICBjYW5Nb3ZlICYmIG5vZGVPcHMuaW5zZXJ0QmVmb3JlKHBhcmVudEVsbSwgb2xkU3RhcnRWbm9kZS5lbG0sIG5vZGVPcHMubmV4dFNpYmxpbmcob2xkRW5kVm5vZGUuZWxtKSk7XG4gICAgICAgIG9sZFN0YXJ0Vm5vZGUgPSBvbGRDaFsrK29sZFN0YXJ0SWR4XTtcbiAgICAgICAgbmV3RW5kVm5vZGUgPSBuZXdDaFstLW5ld0VuZElkeF07XG4gICAgICB9IGVsc2UgaWYgKHNhbWVWbm9kZShvbGRFbmRWbm9kZSwgbmV3U3RhcnRWbm9kZSkpIHsgLy8gVm5vZGUgbW92ZWQgbGVmdFxuICAgICAgICBwYXRjaFZub2RlKG9sZEVuZFZub2RlLCBuZXdTdGFydFZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUsIG5ld0NoLCBuZXdTdGFydElkeCk7XG4gICAgICAgIGNhbk1vdmUgJiYgbm9kZU9wcy5pbnNlcnRCZWZvcmUocGFyZW50RWxtLCBvbGRFbmRWbm9kZS5lbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtKTtcbiAgICAgICAgb2xkRW5kVm5vZGUgPSBvbGRDaFstLW9sZEVuZElkeF07XG4gICAgICAgIG5ld1N0YXJ0Vm5vZGUgPSBuZXdDaFsrK25ld1N0YXJ0SWR4XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc1VuZGVmKG9sZEtleVRvSWR4KSkgeyBvbGRLZXlUb0lkeCA9IGNyZWF0ZUtleVRvT2xkSWR4KG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTsgfVxuICAgICAgICBpZHhJbk9sZCA9IGlzRGVmKG5ld1N0YXJ0Vm5vZGUua2V5KVxuICAgICAgICAgID8gb2xkS2V5VG9JZHhbbmV3U3RhcnRWbm9kZS5rZXldXG4gICAgICAgICAgOiBmaW5kSWR4SW5PbGQobmV3U3RhcnRWbm9kZSwgb2xkQ2gsIG9sZFN0YXJ0SWR4LCBvbGRFbmRJZHgpO1xuICAgICAgICBpZiAoaXNVbmRlZihpZHhJbk9sZCkpIHsgLy8gTmV3IGVsZW1lbnRcbiAgICAgICAgICBjcmVhdGVFbG0obmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtLCBmYWxzZSwgbmV3Q2gsIG5ld1N0YXJ0SWR4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2bm9kZVRvTW92ZSA9IG9sZENoW2lkeEluT2xkXTtcbiAgICAgICAgICBpZiAoc2FtZVZub2RlKHZub2RlVG9Nb3ZlLCBuZXdTdGFydFZub2RlKSkge1xuICAgICAgICAgICAgcGF0Y2hWbm9kZSh2bm9kZVRvTW92ZSwgbmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBuZXdDaCwgbmV3U3RhcnRJZHgpO1xuICAgICAgICAgICAgb2xkQ2hbaWR4SW5PbGRdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgY2FuTW92ZSAmJiBub2RlT3BzLmluc2VydEJlZm9yZShwYXJlbnRFbG0sIHZub2RlVG9Nb3ZlLmVsbSwgb2xkU3RhcnRWbm9kZS5lbG0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBzYW1lIGtleSBidXQgZGlmZmVyZW50IGVsZW1lbnQuIHRyZWF0IGFzIG5ldyBlbGVtZW50XG4gICAgICAgICAgICBjcmVhdGVFbG0obmV3U3RhcnRWbm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBwYXJlbnRFbG0sIG9sZFN0YXJ0Vm5vZGUuZWxtLCBmYWxzZSwgbmV3Q2gsIG5ld1N0YXJ0SWR4KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV3U3RhcnRWbm9kZSA9IG5ld0NoWysrbmV3U3RhcnRJZHhdO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob2xkU3RhcnRJZHggPiBvbGRFbmRJZHgpIHtcbiAgICAgIHJlZkVsbSA9IGlzVW5kZWYobmV3Q2hbbmV3RW5kSWR4ICsgMV0pID8gbnVsbCA6IG5ld0NoW25ld0VuZElkeCArIDFdLmVsbTtcbiAgICAgIGFkZFZub2RlcyhwYXJlbnRFbG0sIHJlZkVsbSwgbmV3Q2gsIG5ld1N0YXJ0SWR4LCBuZXdFbmRJZHgsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgfSBlbHNlIGlmIChuZXdTdGFydElkeCA+IG5ld0VuZElkeCkge1xuICAgICAgcmVtb3ZlVm5vZGVzKG9sZENoLCBvbGRTdGFydElkeCwgb2xkRW5kSWR4KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0R1cGxpY2F0ZUtleXMgKGNoaWxkcmVuKSB7XG4gICAgdmFyIHNlZW5LZXlzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHZub2RlID0gY2hpbGRyZW5baV07XG4gICAgICB2YXIga2V5ID0gdm5vZGUua2V5O1xuICAgICAgaWYgKGlzRGVmKGtleSkpIHtcbiAgICAgICAgaWYgKHNlZW5LZXlzW2tleV0pIHtcbiAgICAgICAgICB3YXJuKFxuICAgICAgICAgICAgKFwiRHVwbGljYXRlIGtleXMgZGV0ZWN0ZWQ6ICdcIiArIGtleSArIFwiJy4gVGhpcyBtYXkgY2F1c2UgYW4gdXBkYXRlIGVycm9yLlwiKSxcbiAgICAgICAgICAgIHZub2RlLmNvbnRleHRcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlZW5LZXlzW2tleV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmluZElkeEluT2xkIChub2RlLCBvbGRDaCwgc3RhcnQsIGVuZCkge1xuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG4gICAgICB2YXIgYyA9IG9sZENoW2ldO1xuICAgICAgaWYgKGlzRGVmKGMpICYmIHNhbWVWbm9kZShub2RlLCBjKSkgeyByZXR1cm4gaSB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF0Y2hWbm9kZSAoXG4gICAgb2xkVm5vZGUsXG4gICAgdm5vZGUsXG4gICAgaW5zZXJ0ZWRWbm9kZVF1ZXVlLFxuICAgIG93bmVyQXJyYXksXG4gICAgaW5kZXgsXG4gICAgcmVtb3ZlT25seVxuICApIHtcbiAgICBpZiAob2xkVm5vZGUgPT09IHZub2RlKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAoaXNEZWYodm5vZGUuZWxtKSAmJiBpc0RlZihvd25lckFycmF5KSkge1xuICAgICAgLy8gY2xvbmUgcmV1c2VkIHZub2RlXG4gICAgICB2bm9kZSA9IG93bmVyQXJyYXlbaW5kZXhdID0gY2xvbmVWTm9kZSh2bm9kZSk7XG4gICAgfVxuXG4gICAgdmFyIGVsbSA9IHZub2RlLmVsbSA9IG9sZFZub2RlLmVsbTtcblxuICAgIGlmIChpc1RydWUob2xkVm5vZGUuaXNBc3luY1BsYWNlaG9sZGVyKSkge1xuICAgICAgaWYgKGlzRGVmKHZub2RlLmFzeW5jRmFjdG9yeS5yZXNvbHZlZCkpIHtcbiAgICAgICAgaHlkcmF0ZShvbGRWbm9kZS5lbG0sIHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdm5vZGUuaXNBc3luY1BsYWNlaG9sZGVyID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIHJldXNlIGVsZW1lbnQgZm9yIHN0YXRpYyB0cmVlcy5cbiAgICAvLyBub3RlIHdlIG9ubHkgZG8gdGhpcyBpZiB0aGUgdm5vZGUgaXMgY2xvbmVkIC1cbiAgICAvLyBpZiB0aGUgbmV3IG5vZGUgaXMgbm90IGNsb25lZCBpdCBtZWFucyB0aGUgcmVuZGVyIGZ1bmN0aW9ucyBoYXZlIGJlZW5cbiAgICAvLyByZXNldCBieSB0aGUgaG90LXJlbG9hZC1hcGkgYW5kIHdlIG5lZWQgdG8gZG8gYSBwcm9wZXIgcmUtcmVuZGVyLlxuICAgIGlmIChpc1RydWUodm5vZGUuaXNTdGF0aWMpICYmXG4gICAgICBpc1RydWUob2xkVm5vZGUuaXNTdGF0aWMpICYmXG4gICAgICB2bm9kZS5rZXkgPT09IG9sZFZub2RlLmtleSAmJlxuICAgICAgKGlzVHJ1ZSh2bm9kZS5pc0Nsb25lZCkgfHwgaXNUcnVlKHZub2RlLmlzT25jZSkpXG4gICAgKSB7XG4gICAgICB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSA9IG9sZFZub2RlLmNvbXBvbmVudEluc3RhbmNlO1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIGk7XG4gICAgdmFyIGRhdGEgPSB2bm9kZS5kYXRhO1xuICAgIGlmIChpc0RlZihkYXRhKSAmJiBpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS5wcmVwYXRjaCkpIHtcbiAgICAgIGkob2xkVm5vZGUsIHZub2RlKTtcbiAgICB9XG5cbiAgICB2YXIgb2xkQ2ggPSBvbGRWbm9kZS5jaGlsZHJlbjtcbiAgICB2YXIgY2ggPSB2bm9kZS5jaGlsZHJlbjtcbiAgICBpZiAoaXNEZWYoZGF0YSkgJiYgaXNQYXRjaGFibGUodm5vZGUpKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLnVwZGF0ZS5sZW5ndGg7ICsraSkgeyBjYnMudXBkYXRlW2ldKG9sZFZub2RlLCB2bm9kZSk7IH1cbiAgICAgIGlmIChpc0RlZihpID0gZGF0YS5ob29rKSAmJiBpc0RlZihpID0gaS51cGRhdGUpKSB7IGkob2xkVm5vZGUsIHZub2RlKTsgfVxuICAgIH1cbiAgICBpZiAoaXNVbmRlZih2bm9kZS50ZXh0KSkge1xuICAgICAgaWYgKGlzRGVmKG9sZENoKSAmJiBpc0RlZihjaCkpIHtcbiAgICAgICAgaWYgKG9sZENoICE9PSBjaCkgeyB1cGRhdGVDaGlsZHJlbihlbG0sIG9sZENoLCBjaCwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCByZW1vdmVPbmx5KTsgfVxuICAgICAgfSBlbHNlIGlmIChpc0RlZihjaCkpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjaGVja0R1cGxpY2F0ZUtleXMoY2gpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0RlZihvbGRWbm9kZS50ZXh0KSkgeyBub2RlT3BzLnNldFRleHRDb250ZW50KGVsbSwgJycpOyB9XG4gICAgICAgIGFkZFZub2RlcyhlbG0sIG51bGwsIGNoLCAwLCBjaC5sZW5ndGggLSAxLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRDaCkpIHtcbiAgICAgICAgcmVtb3ZlVm5vZGVzKG9sZENoLCAwLCBvbGRDaC5sZW5ndGggLSAxKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNEZWYob2xkVm5vZGUudGV4dCkpIHtcbiAgICAgICAgbm9kZU9wcy5zZXRUZXh0Q29udGVudChlbG0sICcnKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG9sZFZub2RlLnRleHQgIT09IHZub2RlLnRleHQpIHtcbiAgICAgIG5vZGVPcHMuc2V0VGV4dENvbnRlbnQoZWxtLCB2bm9kZS50ZXh0KTtcbiAgICB9XG4gICAgaWYgKGlzRGVmKGRhdGEpKSB7XG4gICAgICBpZiAoaXNEZWYoaSA9IGRhdGEuaG9vaykgJiYgaXNEZWYoaSA9IGkucG9zdHBhdGNoKSkgeyBpKG9sZFZub2RlLCB2bm9kZSk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnZva2VJbnNlcnRIb29rICh2bm9kZSwgcXVldWUsIGluaXRpYWwpIHtcbiAgICAvLyBkZWxheSBpbnNlcnQgaG9va3MgZm9yIGNvbXBvbmVudCByb290IG5vZGVzLCBpbnZva2UgdGhlbSBhZnRlciB0aGVcbiAgICAvLyBlbGVtZW50IGlzIHJlYWxseSBpbnNlcnRlZFxuICAgIGlmIChpc1RydWUoaW5pdGlhbCkgJiYgaXNEZWYodm5vZGUucGFyZW50KSkge1xuICAgICAgdm5vZGUucGFyZW50LmRhdGEucGVuZGluZ0luc2VydCA9IHF1ZXVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXVlLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHF1ZXVlW2ldLmRhdGEuaG9vay5pbnNlcnQocXVldWVbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBoeWRyYXRpb25CYWlsZWQgPSBmYWxzZTtcbiAgLy8gbGlzdCBvZiBtb2R1bGVzIHRoYXQgY2FuIHNraXAgY3JlYXRlIGhvb2sgZHVyaW5nIGh5ZHJhdGlvbiBiZWNhdXNlIHRoZXlcbiAgLy8gYXJlIGFscmVhZHkgcmVuZGVyZWQgb24gdGhlIGNsaWVudCBvciBoYXMgbm8gbmVlZCBmb3IgaW5pdGlhbGl6YXRpb25cbiAgLy8gTm90ZTogc3R5bGUgaXMgZXhjbHVkZWQgYmVjYXVzZSBpdCByZWxpZXMgb24gaW5pdGlhbCBjbG9uZSBmb3IgZnV0dXJlXG4gIC8vIGRlZXAgdXBkYXRlcyAoIzcwNjMpLlxuICB2YXIgaXNSZW5kZXJlZE1vZHVsZSA9IG1ha2VNYXAoJ2F0dHJzLGNsYXNzLHN0YXRpY0NsYXNzLHN0YXRpY1N0eWxlLGtleScpO1xuXG4gIC8vIE5vdGU6IHRoaXMgaXMgYSBicm93c2VyLW9ubHkgZnVuY3Rpb24gc28gd2UgY2FuIGFzc3VtZSBlbG1zIGFyZSBET00gbm9kZXMuXG4gIGZ1bmN0aW9uIGh5ZHJhdGUgKGVsbSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgaW5WUHJlKSB7XG4gICAgdmFyIGk7XG4gICAgdmFyIHRhZyA9IHZub2RlLnRhZztcbiAgICB2YXIgZGF0YSA9IHZub2RlLmRhdGE7XG4gICAgdmFyIGNoaWxkcmVuID0gdm5vZGUuY2hpbGRyZW47XG4gICAgaW5WUHJlID0gaW5WUHJlIHx8IChkYXRhICYmIGRhdGEucHJlKTtcbiAgICB2bm9kZS5lbG0gPSBlbG07XG5cbiAgICBpZiAoaXNUcnVlKHZub2RlLmlzQ29tbWVudCkgJiYgaXNEZWYodm5vZGUuYXN5bmNGYWN0b3J5KSkge1xuICAgICAgdm5vZGUuaXNBc3luY1BsYWNlaG9sZGVyID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIC8vIGFzc2VydCBub2RlIG1hdGNoXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGlmICghYXNzZXJ0Tm9kZU1hdGNoKGVsbSwgdm5vZGUsIGluVlByZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0RlZihkYXRhKSkge1xuICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhLmhvb2spICYmIGlzRGVmKGkgPSBpLmluaXQpKSB7IGkodm5vZGUsIHRydWUgLyogaHlkcmF0aW5nICovKTsgfVxuICAgICAgaWYgKGlzRGVmKGkgPSB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSkpIHtcbiAgICAgICAgLy8gY2hpbGQgY29tcG9uZW50LiBpdCBzaG91bGQgaGF2ZSBoeWRyYXRlZCBpdHMgb3duIHRyZWUuXG4gICAgICAgIGluaXRDb21wb25lbnQodm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc0RlZih0YWcpKSB7XG4gICAgICBpZiAoaXNEZWYoY2hpbGRyZW4pKSB7XG4gICAgICAgIC8vIGVtcHR5IGVsZW1lbnQsIGFsbG93IGNsaWVudCB0byBwaWNrIHVwIGFuZCBwb3B1bGF0ZSBjaGlsZHJlblxuICAgICAgICBpZiAoIWVsbS5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICBjcmVhdGVDaGlsZHJlbih2bm9kZSwgY2hpbGRyZW4sIGluc2VydGVkVm5vZGVRdWV1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gdi1odG1sIGFuZCBkb21Qcm9wczogaW5uZXJIVE1MXG4gICAgICAgICAgaWYgKGlzRGVmKGkgPSBkYXRhKSAmJiBpc0RlZihpID0gaS5kb21Qcm9wcykgJiYgaXNEZWYoaSA9IGkuaW5uZXJIVE1MKSkge1xuICAgICAgICAgICAgaWYgKGkgIT09IGVsbS5pbm5lckhUTUwpIHtcbiAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgICAgICAgICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICAgIWh5ZHJhdGlvbkJhaWxlZFxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBoeWRyYXRpb25CYWlsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignUGFyZW50OiAnLCBlbG0pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybignc2VydmVyIGlubmVySFRNTDogJywgaSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdjbGllbnQgaW5uZXJIVE1MOiAnLCBlbG0uaW5uZXJIVE1MKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaXRlcmF0ZSBhbmQgY29tcGFyZSBjaGlsZHJlbiBsaXN0c1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuTWF0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgdmFyIGNoaWxkTm9kZSA9IGVsbS5maXJzdENoaWxkO1xuICAgICAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2hpbGRyZW4ubGVuZ3RoOyBpJDErKykge1xuICAgICAgICAgICAgICBpZiAoIWNoaWxkTm9kZSB8fCAhaHlkcmF0ZShjaGlsZE5vZGUsIGNoaWxkcmVuW2kkMV0sIGluc2VydGVkVm5vZGVRdWV1ZSwgaW5WUHJlKSkge1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuTWF0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNoaWxkTm9kZSA9IGNoaWxkTm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGNoaWxkTm9kZSBpcyBub3QgbnVsbCwgaXQgbWVhbnMgdGhlIGFjdHVhbCBjaGlsZE5vZGVzIGxpc3QgaXNcbiAgICAgICAgICAgIC8vIGxvbmdlciB0aGFuIHRoZSB2aXJ0dWFsIGNoaWxkcmVuIGxpc3QuXG4gICAgICAgICAgICBpZiAoIWNoaWxkcmVuTWF0Y2ggfHwgY2hpbGROb2RlKSB7XG4gICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAgICAgICAgICFoeWRyYXRpb25CYWlsZWRcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgaHlkcmF0aW9uQmFpbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BhcmVudDogJywgZWxtKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ01pc21hdGNoaW5nIGNoaWxkTm9kZXMgdnMuIFZOb2RlczogJywgZWxtLmNoaWxkTm9kZXMsIGNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChpc0RlZihkYXRhKSkge1xuICAgICAgICB2YXIgZnVsbEludm9rZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgIGlmICghaXNSZW5kZXJlZE1vZHVsZShrZXkpKSB7XG4gICAgICAgICAgICBmdWxsSW52b2tlID0gdHJ1ZTtcbiAgICAgICAgICAgIGludm9rZUNyZWF0ZUhvb2tzKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmdWxsSW52b2tlICYmIGRhdGFbJ2NsYXNzJ10pIHtcbiAgICAgICAgICAvLyBlbnN1cmUgY29sbGVjdGluZyBkZXBzIGZvciBkZWVwIGNsYXNzIGJpbmRpbmdzIGZvciBmdXR1cmUgdXBkYXRlc1xuICAgICAgICAgIHRyYXZlcnNlKGRhdGFbJ2NsYXNzJ10pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbG0uZGF0YSAhPT0gdm5vZGUudGV4dCkge1xuICAgICAgZWxtLmRhdGEgPSB2bm9kZS50ZXh0O1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgZnVuY3Rpb24gYXNzZXJ0Tm9kZU1hdGNoIChub2RlLCB2bm9kZSwgaW5WUHJlKSB7XG4gICAgaWYgKGlzRGVmKHZub2RlLnRhZykpIHtcbiAgICAgIHJldHVybiB2bm9kZS50YWcuaW5kZXhPZigndnVlLWNvbXBvbmVudCcpID09PSAwIHx8IChcbiAgICAgICAgIWlzVW5rbm93bkVsZW1lbnQkJDEodm5vZGUsIGluVlByZSkgJiZcbiAgICAgICAgdm5vZGUudGFnLnRvTG93ZXJDYXNlKCkgPT09IChub2RlLnRhZ05hbWUgJiYgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpXG4gICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBub2RlLm5vZGVUeXBlID09PSAodm5vZGUuaXNDb21tZW50ID8gOCA6IDMpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIHBhdGNoIChvbGRWbm9kZSwgdm5vZGUsIGh5ZHJhdGluZywgcmVtb3ZlT25seSkge1xuICAgIGlmIChpc1VuZGVmKHZub2RlKSkge1xuICAgICAgaWYgKGlzRGVmKG9sZFZub2RlKSkgeyBpbnZva2VEZXN0cm95SG9vayhvbGRWbm9kZSk7IH1cbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHZhciBpc0luaXRpYWxQYXRjaCA9IGZhbHNlO1xuICAgIHZhciBpbnNlcnRlZFZub2RlUXVldWUgPSBbXTtcblxuICAgIGlmIChpc1VuZGVmKG9sZFZub2RlKSkge1xuICAgICAgLy8gZW1wdHkgbW91bnQgKGxpa2VseSBhcyBjb21wb25lbnQpLCBjcmVhdGUgbmV3IHJvb3QgZWxlbWVudFxuICAgICAgaXNJbml0aWFsUGF0Y2ggPSB0cnVlO1xuICAgICAgY3JlYXRlRWxtKHZub2RlLCBpbnNlcnRlZFZub2RlUXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXNSZWFsRWxlbWVudCA9IGlzRGVmKG9sZFZub2RlLm5vZGVUeXBlKTtcbiAgICAgIGlmICghaXNSZWFsRWxlbWVudCAmJiBzYW1lVm5vZGUob2xkVm5vZGUsIHZub2RlKSkge1xuICAgICAgICAvLyBwYXRjaCBleGlzdGluZyByb290IG5vZGVcbiAgICAgICAgcGF0Y2hWbm9kZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSwgbnVsbCwgbnVsbCwgcmVtb3ZlT25seSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNSZWFsRWxlbWVudCkge1xuICAgICAgICAgIC8vIG1vdW50aW5nIHRvIGEgcmVhbCBlbGVtZW50XG4gICAgICAgICAgLy8gY2hlY2sgaWYgdGhpcyBpcyBzZXJ2ZXItcmVuZGVyZWQgY29udGVudCBhbmQgaWYgd2UgY2FuIHBlcmZvcm1cbiAgICAgICAgICAvLyBhIHN1Y2Nlc3NmdWwgaHlkcmF0aW9uLlxuICAgICAgICAgIGlmIChvbGRWbm9kZS5ub2RlVHlwZSA9PT0gMSAmJiBvbGRWbm9kZS5oYXNBdHRyaWJ1dGUoU1NSX0FUVFIpKSB7XG4gICAgICAgICAgICBvbGRWbm9kZS5yZW1vdmVBdHRyaWJ1dGUoU1NSX0FUVFIpO1xuICAgICAgICAgICAgaHlkcmF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzVHJ1ZShoeWRyYXRpbmcpKSB7XG4gICAgICAgICAgICBpZiAoaHlkcmF0ZShvbGRWbm9kZSwgdm5vZGUsIGluc2VydGVkVm5vZGVRdWV1ZSkpIHtcbiAgICAgICAgICAgICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG9sZFZub2RlXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgd2FybihcbiAgICAgICAgICAgICAgICAnVGhlIGNsaWVudC1zaWRlIHJlbmRlcmVkIHZpcnR1YWwgRE9NIHRyZWUgaXMgbm90IG1hdGNoaW5nICcgK1xuICAgICAgICAgICAgICAgICdzZXJ2ZXItcmVuZGVyZWQgY29udGVudC4gVGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IGluY29ycmVjdCAnICtcbiAgICAgICAgICAgICAgICAnSFRNTCBtYXJrdXAsIGZvciBleGFtcGxlIG5lc3RpbmcgYmxvY2stbGV2ZWwgZWxlbWVudHMgaW5zaWRlICcgK1xuICAgICAgICAgICAgICAgICc8cD4sIG9yIG1pc3NpbmcgPHRib2R5Pi4gQmFpbGluZyBoeWRyYXRpb24gYW5kIHBlcmZvcm1pbmcgJyArXG4gICAgICAgICAgICAgICAgJ2Z1bGwgY2xpZW50LXNpZGUgcmVuZGVyLidcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZWl0aGVyIG5vdCBzZXJ2ZXItcmVuZGVyZWQsIG9yIGh5ZHJhdGlvbiBmYWlsZWQuXG4gICAgICAgICAgLy8gY3JlYXRlIGFuIGVtcHR5IG5vZGUgYW5kIHJlcGxhY2UgaXRcbiAgICAgICAgICBvbGRWbm9kZSA9IGVtcHR5Tm9kZUF0KG9sZFZub2RlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlcGxhY2luZyBleGlzdGluZyBlbGVtZW50XG4gICAgICAgIHZhciBvbGRFbG0gPSBvbGRWbm9kZS5lbG07XG4gICAgICAgIHZhciBwYXJlbnRFbG0gPSBub2RlT3BzLnBhcmVudE5vZGUob2xkRWxtKTtcblxuICAgICAgICAvLyBjcmVhdGUgbmV3IG5vZGVcbiAgICAgICAgY3JlYXRlRWxtKFxuICAgICAgICAgIHZub2RlLFxuICAgICAgICAgIGluc2VydGVkVm5vZGVRdWV1ZSxcbiAgICAgICAgICAvLyBleHRyZW1lbHkgcmFyZSBlZGdlIGNhc2U6IGRvIG5vdCBpbnNlcnQgaWYgb2xkIGVsZW1lbnQgaXMgaW4gYVxuICAgICAgICAgIC8vIGxlYXZpbmcgdHJhbnNpdGlvbi4gT25seSBoYXBwZW5zIHdoZW4gY29tYmluaW5nIHRyYW5zaXRpb24gK1xuICAgICAgICAgIC8vIGtlZXAtYWxpdmUgKyBIT0NzLiAoIzQ1OTApXG4gICAgICAgICAgb2xkRWxtLl9sZWF2ZUNiID8gbnVsbCA6IHBhcmVudEVsbSxcbiAgICAgICAgICBub2RlT3BzLm5leHRTaWJsaW5nKG9sZEVsbSlcbiAgICAgICAgKTtcblxuICAgICAgICAvLyB1cGRhdGUgcGFyZW50IHBsYWNlaG9sZGVyIG5vZGUgZWxlbWVudCwgcmVjdXJzaXZlbHlcbiAgICAgICAgaWYgKGlzRGVmKHZub2RlLnBhcmVudCkpIHtcbiAgICAgICAgICB2YXIgYW5jZXN0b3IgPSB2bm9kZS5wYXJlbnQ7XG4gICAgICAgICAgdmFyIHBhdGNoYWJsZSA9IGlzUGF0Y2hhYmxlKHZub2RlKTtcbiAgICAgICAgICB3aGlsZSAoYW5jZXN0b3IpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2JzLmRlc3Ryb3kubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgY2JzLmRlc3Ryb3lbaV0oYW5jZXN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5jZXN0b3IuZWxtID0gdm5vZGUuZWxtO1xuICAgICAgICAgICAgaWYgKHBhdGNoYWJsZSkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBjYnMuY3JlYXRlLmxlbmd0aDsgKytpJDEpIHtcbiAgICAgICAgICAgICAgICBjYnMuY3JlYXRlW2kkMV0oZW1wdHlOb2RlLCBhbmNlc3Rvcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLy8gIzY1MTNcbiAgICAgICAgICAgICAgLy8gaW52b2tlIGluc2VydCBob29rcyB0aGF0IG1heSBoYXZlIGJlZW4gbWVyZ2VkIGJ5IGNyZWF0ZSBob29rcy5cbiAgICAgICAgICAgICAgLy8gZS5nLiBmb3IgZGlyZWN0aXZlcyB0aGF0IHVzZXMgdGhlIFwiaW5zZXJ0ZWRcIiBob29rLlxuICAgICAgICAgICAgICB2YXIgaW5zZXJ0ID0gYW5jZXN0b3IuZGF0YS5ob29rLmluc2VydDtcbiAgICAgICAgICAgICAgaWYgKGluc2VydC5tZXJnZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBhdCBpbmRleCAxIHRvIGF2b2lkIHJlLWludm9raW5nIGNvbXBvbmVudCBtb3VudGVkIGhvb2tcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpJDIgPSAxOyBpJDIgPCBpbnNlcnQuZm5zLmxlbmd0aDsgaSQyKyspIHtcbiAgICAgICAgICAgICAgICAgIGluc2VydC5mbnNbaSQyXSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVnaXN0ZXJSZWYoYW5jZXN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYW5jZXN0b3IgPSBhbmNlc3Rvci5wYXJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGVzdHJveSBvbGQgbm9kZVxuICAgICAgICBpZiAoaXNEZWYocGFyZW50RWxtKSkge1xuICAgICAgICAgIHJlbW92ZVZub2Rlcyhbb2xkVm5vZGVdLCAwLCAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0RlZihvbGRWbm9kZS50YWcpKSB7XG4gICAgICAgICAgaW52b2tlRGVzdHJveUhvb2sob2xkVm5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaW52b2tlSW5zZXJ0SG9vayh2bm9kZSwgaW5zZXJ0ZWRWbm9kZVF1ZXVlLCBpc0luaXRpYWxQYXRjaCk7XG4gICAgcmV0dXJuIHZub2RlLmVsbVxuICB9XG59XG5cbi8qICAqL1xuXG52YXIgZGlyZWN0aXZlcyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVEaXJlY3RpdmVzLFxuICB1cGRhdGU6IHVwZGF0ZURpcmVjdGl2ZXMsXG4gIGRlc3Ryb3k6IGZ1bmN0aW9uIHVuYmluZERpcmVjdGl2ZXMgKHZub2RlKSB7XG4gICAgdXBkYXRlRGlyZWN0aXZlcyh2bm9kZSwgZW1wdHlOb2RlKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gdXBkYXRlRGlyZWN0aXZlcyAob2xkVm5vZGUsIHZub2RlKSB7XG4gIGlmIChvbGRWbm9kZS5kYXRhLmRpcmVjdGl2ZXMgfHwgdm5vZGUuZGF0YS5kaXJlY3RpdmVzKSB7XG4gICAgX3VwZGF0ZShvbGRWbm9kZSwgdm5vZGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF91cGRhdGUgKG9sZFZub2RlLCB2bm9kZSkge1xuICB2YXIgaXNDcmVhdGUgPSBvbGRWbm9kZSA9PT0gZW1wdHlOb2RlO1xuICB2YXIgaXNEZXN0cm95ID0gdm5vZGUgPT09IGVtcHR5Tm9kZTtcbiAgdmFyIG9sZERpcnMgPSBub3JtYWxpemVEaXJlY3RpdmVzJDEob2xkVm5vZGUuZGF0YS5kaXJlY3RpdmVzLCBvbGRWbm9kZS5jb250ZXh0KTtcbiAgdmFyIG5ld0RpcnMgPSBub3JtYWxpemVEaXJlY3RpdmVzJDEodm5vZGUuZGF0YS5kaXJlY3RpdmVzLCB2bm9kZS5jb250ZXh0KTtcblxuICB2YXIgZGlyc1dpdGhJbnNlcnQgPSBbXTtcbiAgdmFyIGRpcnNXaXRoUG9zdHBhdGNoID0gW107XG5cbiAgdmFyIGtleSwgb2xkRGlyLCBkaXI7XG4gIGZvciAoa2V5IGluIG5ld0RpcnMpIHtcbiAgICBvbGREaXIgPSBvbGREaXJzW2tleV07XG4gICAgZGlyID0gbmV3RGlyc1trZXldO1xuICAgIGlmICghb2xkRGlyKSB7XG4gICAgICAvLyBuZXcgZGlyZWN0aXZlLCBiaW5kXG4gICAgICBjYWxsSG9vayQxKGRpciwgJ2JpbmQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgaWYgKGRpci5kZWYgJiYgZGlyLmRlZi5pbnNlcnRlZCkge1xuICAgICAgICBkaXJzV2l0aEluc2VydC5wdXNoKGRpcik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGV4aXN0aW5nIGRpcmVjdGl2ZSwgdXBkYXRlXG4gICAgICBkaXIub2xkVmFsdWUgPSBvbGREaXIudmFsdWU7XG4gICAgICBkaXIub2xkQXJnID0gb2xkRGlyLmFyZztcbiAgICAgIGNhbGxIb29rJDEoZGlyLCAndXBkYXRlJywgdm5vZGUsIG9sZFZub2RlKTtcbiAgICAgIGlmIChkaXIuZGVmICYmIGRpci5kZWYuY29tcG9uZW50VXBkYXRlZCkge1xuICAgICAgICBkaXJzV2l0aFBvc3RwYXRjaC5wdXNoKGRpcik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGRpcnNXaXRoSW5zZXJ0Lmxlbmd0aCkge1xuICAgIHZhciBjYWxsSW5zZXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzV2l0aEluc2VydC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYWxsSG9vayQxKGRpcnNXaXRoSW5zZXJ0W2ldLCAnaW5zZXJ0ZWQnLCB2bm9kZSwgb2xkVm5vZGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKGlzQ3JlYXRlKSB7XG4gICAgICBtZXJnZVZOb2RlSG9vayh2bm9kZSwgJ2luc2VydCcsIGNhbGxJbnNlcnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsSW5zZXJ0KCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRpcnNXaXRoUG9zdHBhdGNoLmxlbmd0aCkge1xuICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAncG9zdHBhdGNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkaXJzV2l0aFBvc3RwYXRjaC5sZW5ndGg7IGkrKykge1xuICAgICAgICBjYWxsSG9vayQxKGRpcnNXaXRoUG9zdHBhdGNoW2ldLCAnY29tcG9uZW50VXBkYXRlZCcsIHZub2RlLCBvbGRWbm9kZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoIWlzQ3JlYXRlKSB7XG4gICAgZm9yIChrZXkgaW4gb2xkRGlycykge1xuICAgICAgaWYgKCFuZXdEaXJzW2tleV0pIHtcbiAgICAgICAgLy8gbm8gbG9uZ2VyIHByZXNlbnQsIHVuYmluZFxuICAgICAgICBjYWxsSG9vayQxKG9sZERpcnNba2V5XSwgJ3VuYmluZCcsIG9sZFZub2RlLCBvbGRWbm9kZSwgaXNEZXN0cm95KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxudmFyIGVtcHR5TW9kaWZpZXJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuZnVuY3Rpb24gbm9ybWFsaXplRGlyZWN0aXZlcyQxIChcbiAgZGlycyxcbiAgdm1cbikge1xuICB2YXIgcmVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgaWYgKCFkaXJzKSB7XG4gICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXG4gICAgcmV0dXJuIHJlc1xuICB9XG4gIHZhciBpLCBkaXI7XG4gIGZvciAoaSA9IDA7IGkgPCBkaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgZGlyID0gZGlyc1tpXTtcbiAgICBpZiAoIWRpci5tb2RpZmllcnMpIHtcbiAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxuICAgICAgZGlyLm1vZGlmaWVycyA9IGVtcHR5TW9kaWZpZXJzO1xuICAgIH1cbiAgICByZXNbZ2V0UmF3RGlyTmFtZShkaXIpXSA9IGRpcjtcbiAgICBkaXIuZGVmID0gcmVzb2x2ZUFzc2V0KHZtLiRvcHRpb25zLCAnZGlyZWN0aXZlcycsIGRpci5uYW1lLCB0cnVlKTtcbiAgfVxuICAvLyAkZmxvdy1kaXNhYmxlLWxpbmVcbiAgcmV0dXJuIHJlc1xufVxuXG5mdW5jdGlvbiBnZXRSYXdEaXJOYW1lIChkaXIpIHtcbiAgcmV0dXJuIGRpci5yYXdOYW1lIHx8ICgoZGlyLm5hbWUpICsgXCIuXCIgKyAoT2JqZWN0LmtleXMoZGlyLm1vZGlmaWVycyB8fCB7fSkuam9pbignLicpKSlcbn1cblxuZnVuY3Rpb24gY2FsbEhvb2skMSAoZGlyLCBob29rLCB2bm9kZSwgb2xkVm5vZGUsIGlzRGVzdHJveSkge1xuICB2YXIgZm4gPSBkaXIuZGVmICYmIGRpci5kZWZbaG9va107XG4gIGlmIChmbikge1xuICAgIHRyeSB7XG4gICAgICBmbih2bm9kZS5lbG0sIGRpciwgdm5vZGUsIG9sZFZub2RlLCBpc0Rlc3Ryb3kpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGhhbmRsZUVycm9yKGUsIHZub2RlLmNvbnRleHQsIChcImRpcmVjdGl2ZSBcIiArIChkaXIubmFtZSkgKyBcIiBcIiArIGhvb2sgKyBcIiBob29rXCIpKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIGJhc2VNb2R1bGVzID0gW1xuICByZWYsXG4gIGRpcmVjdGl2ZXNcbl07XG5cbi8qICAqL1xuXG5mdW5jdGlvbiB1cGRhdGVBdHRycyAob2xkVm5vZGUsIHZub2RlKSB7XG4gIHZhciBvcHRzID0gdm5vZGUuY29tcG9uZW50T3B0aW9ucztcbiAgaWYgKGlzRGVmKG9wdHMpICYmIG9wdHMuQ3Rvci5vcHRpb25zLmluaGVyaXRBdHRycyA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm5cbiAgfVxuICBpZiAoaXNVbmRlZihvbGRWbm9kZS5kYXRhLmF0dHJzKSAmJiBpc1VuZGVmKHZub2RlLmRhdGEuYXR0cnMpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGtleSwgY3VyLCBvbGQ7XG4gIHZhciBlbG0gPSB2bm9kZS5lbG07XG4gIHZhciBvbGRBdHRycyA9IG9sZFZub2RlLmRhdGEuYXR0cnMgfHwge307XG4gIHZhciBhdHRycyA9IHZub2RlLmRhdGEuYXR0cnMgfHwge307XG4gIC8vIGNsb25lIG9ic2VydmVkIG9iamVjdHMsIGFzIHRoZSB1c2VyIHByb2JhYmx5IHdhbnRzIHRvIG11dGF0ZSBpdFxuICBpZiAoaXNEZWYoYXR0cnMuX19vYl9fKSkge1xuICAgIGF0dHJzID0gdm5vZGUuZGF0YS5hdHRycyA9IGV4dGVuZCh7fSwgYXR0cnMpO1xuICB9XG5cbiAgZm9yIChrZXkgaW4gYXR0cnMpIHtcbiAgICBjdXIgPSBhdHRyc1trZXldO1xuICAgIG9sZCA9IG9sZEF0dHJzW2tleV07XG4gICAgaWYgKG9sZCAhPT0gY3VyKSB7XG4gICAgICBzZXRBdHRyKGVsbSwga2V5LCBjdXIpO1xuICAgIH1cbiAgfVxuICAvLyAjNDM5MTogaW4gSUU5LCBzZXR0aW5nIHR5cGUgY2FuIHJlc2V0IHZhbHVlIGZvciBpbnB1dFt0eXBlPXJhZGlvXVxuICAvLyAjNjY2NjogSUUvRWRnZSBmb3JjZXMgcHJvZ3Jlc3MgdmFsdWUgZG93biB0byAxIGJlZm9yZSBzZXR0aW5nIGEgbWF4XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoKGlzSUUgfHwgaXNFZGdlKSAmJiBhdHRycy52YWx1ZSAhPT0gb2xkQXR0cnMudmFsdWUpIHtcbiAgICBzZXRBdHRyKGVsbSwgJ3ZhbHVlJywgYXR0cnMudmFsdWUpO1xuICB9XG4gIGZvciAoa2V5IGluIG9sZEF0dHJzKSB7XG4gICAgaWYgKGlzVW5kZWYoYXR0cnNba2V5XSkpIHtcbiAgICAgIGlmIChpc1hsaW5rKGtleSkpIHtcbiAgICAgICAgZWxtLnJlbW92ZUF0dHJpYnV0ZU5TKHhsaW5rTlMsIGdldFhsaW5rUHJvcChrZXkpKTtcbiAgICAgIH0gZWxzZSBpZiAoIWlzRW51bWVyYXRlZEF0dHIoa2V5KSkge1xuICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNldEF0dHIgKGVsLCBrZXksIHZhbHVlKSB7XG4gIGlmIChlbC50YWdOYW1lLmluZGV4T2YoJy0nKSA+IC0xKSB7XG4gICAgYmFzZVNldEF0dHIoZWwsIGtleSwgdmFsdWUpO1xuICB9IGVsc2UgaWYgKGlzQm9vbGVhbkF0dHIoa2V5KSkge1xuICAgIC8vIHNldCBhdHRyaWJ1dGUgZm9yIGJsYW5rIHZhbHVlXG4gICAgLy8gZS5nLiA8b3B0aW9uIGRpc2FibGVkPlNlbGVjdCBvbmU8L29wdGlvbj5cbiAgICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyB0ZWNobmljYWxseSBhbGxvd2Z1bGxzY3JlZW4gaXMgYSBib29sZWFuIGF0dHJpYnV0ZSBmb3IgPGlmcmFtZT4sXG4gICAgICAvLyBidXQgRmxhc2ggZXhwZWN0cyBhIHZhbHVlIG9mIFwidHJ1ZVwiIHdoZW4gdXNlZCBvbiA8ZW1iZWQ+IHRhZ1xuICAgICAgdmFsdWUgPSBrZXkgPT09ICdhbGxvd2Z1bGxzY3JlZW4nICYmIGVsLnRhZ05hbWUgPT09ICdFTUJFRCdcbiAgICAgICAgPyAndHJ1ZSdcbiAgICAgICAgOiBrZXk7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzRW51bWVyYXRlZEF0dHIoa2V5KSkge1xuICAgIGVsLnNldEF0dHJpYnV0ZShrZXksIGNvbnZlcnRFbnVtZXJhdGVkVmFsdWUoa2V5LCB2YWx1ZSkpO1xuICB9IGVsc2UgaWYgKGlzWGxpbmsoa2V5KSkge1xuICAgIGlmIChpc0ZhbHN5QXR0clZhbHVlKHZhbHVlKSkge1xuICAgICAgZWwucmVtb3ZlQXR0cmlidXRlTlMoeGxpbmtOUywgZ2V0WGxpbmtQcm9wKGtleSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGVOUyh4bGlua05TLCBrZXksIHZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgYmFzZVNldEF0dHIoZWwsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJhc2VTZXRBdHRyIChlbCwga2V5LCB2YWx1ZSkge1xuICBpZiAoaXNGYWxzeUF0dHJWYWx1ZSh2YWx1ZSkpIHtcbiAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoa2V5KTtcbiAgfSBlbHNlIHtcbiAgICAvLyAjNzEzODogSUUxMCAmIDExIGZpcmVzIGlucHV0IGV2ZW50IHdoZW4gc2V0dGluZyBwbGFjZWhvbGRlciBvblxuICAgIC8vIDx0ZXh0YXJlYT4uLi4gYmxvY2sgdGhlIGZpcnN0IGlucHV0IGV2ZW50IGFuZCByZW1vdmUgdGhlIGJsb2NrZXJcbiAgICAvLyBpbW1lZGlhdGVseS5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoXG4gICAgICBpc0lFICYmICFpc0lFOSAmJlxuICAgICAgZWwudGFnTmFtZSA9PT0gJ1RFWFRBUkVBJyAmJlxuICAgICAga2V5ID09PSAncGxhY2Vob2xkZXInICYmIHZhbHVlICE9PSAnJyAmJiAhZWwuX19pZXBoXG4gICAgKSB7XG4gICAgICB2YXIgYmxvY2tlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgYmxvY2tlcik7XG4gICAgICB9O1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBibG9ja2VyKTtcbiAgICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxuICAgICAgZWwuX19pZXBoID0gdHJ1ZTsgLyogSUUgcGxhY2Vob2xkZXIgcGF0Y2hlZCAqL1xuICAgIH1cbiAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gIH1cbn1cblxudmFyIGF0dHJzID0ge1xuICBjcmVhdGU6IHVwZGF0ZUF0dHJzLFxuICB1cGRhdGU6IHVwZGF0ZUF0dHJzXG59O1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gdXBkYXRlQ2xhc3MgKG9sZFZub2RlLCB2bm9kZSkge1xuICB2YXIgZWwgPSB2bm9kZS5lbG07XG4gIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhO1xuICBpZiAoXG4gICAgaXNVbmRlZihkYXRhLnN0YXRpY0NsYXNzKSAmJlxuICAgIGlzVW5kZWYoZGF0YS5jbGFzcykgJiYgKFxuICAgICAgaXNVbmRlZihvbGREYXRhKSB8fCAoXG4gICAgICAgIGlzVW5kZWYob2xkRGF0YS5zdGF0aWNDbGFzcykgJiZcbiAgICAgICAgaXNVbmRlZihvbGREYXRhLmNsYXNzKVxuICAgICAgKVxuICAgIClcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY2xzID0gZ2VuQ2xhc3NGb3JWbm9kZSh2bm9kZSk7XG5cbiAgLy8gaGFuZGxlIHRyYW5zaXRpb24gY2xhc3Nlc1xuICB2YXIgdHJhbnNpdGlvbkNsYXNzID0gZWwuX3RyYW5zaXRpb25DbGFzc2VzO1xuICBpZiAoaXNEZWYodHJhbnNpdGlvbkNsYXNzKSkge1xuICAgIGNscyA9IGNvbmNhdChjbHMsIHN0cmluZ2lmeUNsYXNzKHRyYW5zaXRpb25DbGFzcykpO1xuICB9XG5cbiAgLy8gc2V0IHRoZSBjbGFzc1xuICBpZiAoY2xzICE9PSBlbC5fcHJldkNsYXNzKSB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGNscyk7XG4gICAgZWwuX3ByZXZDbGFzcyA9IGNscztcbiAgfVxufVxuXG52YXIga2xhc3MgPSB7XG4gIGNyZWF0ZTogdXBkYXRlQ2xhc3MsXG4gIHVwZGF0ZTogdXBkYXRlQ2xhc3Ncbn07XG5cbi8qICAqL1xuXG52YXIgdmFsaWREaXZpc2lvbkNoYXJSRSA9IC9bXFx3KS4rXFwtXyRcXF1dLztcblxuZnVuY3Rpb24gcGFyc2VGaWx0ZXJzIChleHApIHtcbiAgdmFyIGluU2luZ2xlID0gZmFsc2U7XG4gIHZhciBpbkRvdWJsZSA9IGZhbHNlO1xuICB2YXIgaW5UZW1wbGF0ZVN0cmluZyA9IGZhbHNlO1xuICB2YXIgaW5SZWdleCA9IGZhbHNlO1xuICB2YXIgY3VybHkgPSAwO1xuICB2YXIgc3F1YXJlID0gMDtcbiAgdmFyIHBhcmVuID0gMDtcbiAgdmFyIGxhc3RGaWx0ZXJJbmRleCA9IDA7XG4gIHZhciBjLCBwcmV2LCBpLCBleHByZXNzaW9uLCBmaWx0ZXJzO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBleHAubGVuZ3RoOyBpKyspIHtcbiAgICBwcmV2ID0gYztcbiAgICBjID0gZXhwLmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGluU2luZ2xlKSB7XG4gICAgICBpZiAoYyA9PT0gMHgyNyAmJiBwcmV2ICE9PSAweDVDKSB7IGluU2luZ2xlID0gZmFsc2U7IH1cbiAgICB9IGVsc2UgaWYgKGluRG91YmxlKSB7XG4gICAgICBpZiAoYyA9PT0gMHgyMiAmJiBwcmV2ICE9PSAweDVDKSB7IGluRG91YmxlID0gZmFsc2U7IH1cbiAgICB9IGVsc2UgaWYgKGluVGVtcGxhdGVTdHJpbmcpIHtcbiAgICAgIGlmIChjID09PSAweDYwICYmIHByZXYgIT09IDB4NUMpIHsgaW5UZW1wbGF0ZVN0cmluZyA9IGZhbHNlOyB9XG4gICAgfSBlbHNlIGlmIChpblJlZ2V4KSB7XG4gICAgICBpZiAoYyA9PT0gMHgyZiAmJiBwcmV2ICE9PSAweDVDKSB7IGluUmVnZXggPSBmYWxzZTsgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICBjID09PSAweDdDICYmIC8vIHBpcGVcbiAgICAgIGV4cC5jaGFyQ29kZUF0KGkgKyAxKSAhPT0gMHg3QyAmJlxuICAgICAgZXhwLmNoYXJDb2RlQXQoaSAtIDEpICE9PSAweDdDICYmXG4gICAgICAhY3VybHkgJiYgIXNxdWFyZSAmJiAhcGFyZW5cbiAgICApIHtcbiAgICAgIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gZmlyc3QgZmlsdGVyLCBlbmQgb2YgZXhwcmVzc2lvblxuICAgICAgICBsYXN0RmlsdGVySW5kZXggPSBpICsgMTtcbiAgICAgICAgZXhwcmVzc2lvbiA9IGV4cC5zbGljZSgwLCBpKS50cmltKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwdXNoRmlsdGVyKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHN3aXRjaCAoYykge1xuICAgICAgICBjYXNlIDB4MjI6IGluRG91YmxlID0gdHJ1ZTsgYnJlYWsgICAgICAgICAvLyBcIlxuICAgICAgICBjYXNlIDB4Mjc6IGluU2luZ2xlID0gdHJ1ZTsgYnJlYWsgICAgICAgICAvLyAnXG4gICAgICAgIGNhc2UgMHg2MDogaW5UZW1wbGF0ZVN0cmluZyA9IHRydWU7IGJyZWFrIC8vIGBcbiAgICAgICAgY2FzZSAweDI4OiBwYXJlbisrOyBicmVhayAgICAgICAgICAgICAgICAgLy8gKFxuICAgICAgICBjYXNlIDB4Mjk6IHBhcmVuLS07IGJyZWFrICAgICAgICAgICAgICAgICAvLyApXG4gICAgICAgIGNhc2UgMHg1Qjogc3F1YXJlKys7IGJyZWFrICAgICAgICAgICAgICAgIC8vIFtcbiAgICAgICAgY2FzZSAweDVEOiBzcXVhcmUtLTsgYnJlYWsgICAgICAgICAgICAgICAgLy8gXVxuICAgICAgICBjYXNlIDB4N0I6IGN1cmx5Kys7IGJyZWFrICAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgIGNhc2UgMHg3RDogY3VybHktLTsgYnJlYWsgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgIH1cbiAgICAgIGlmIChjID09PSAweDJmKSB7IC8vIC9cbiAgICAgICAgdmFyIGogPSBpIC0gMTtcbiAgICAgICAgdmFyIHAgPSAodm9pZCAwKTtcbiAgICAgICAgLy8gZmluZCBmaXJzdCBub24td2hpdGVzcGFjZSBwcmV2IGNoYXJcbiAgICAgICAgZm9yICg7IGogPj0gMDsgai0tKSB7XG4gICAgICAgICAgcCA9IGV4cC5jaGFyQXQoaik7XG4gICAgICAgICAgaWYgKHAgIT09ICcgJykgeyBicmVhayB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwIHx8ICF2YWxpZERpdmlzaW9uQ2hhclJFLnRlc3QocCkpIHtcbiAgICAgICAgICBpblJlZ2V4ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChleHByZXNzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICBleHByZXNzaW9uID0gZXhwLnNsaWNlKDAsIGkpLnRyaW0oKTtcbiAgfSBlbHNlIGlmIChsYXN0RmlsdGVySW5kZXggIT09IDApIHtcbiAgICBwdXNoRmlsdGVyKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwdXNoRmlsdGVyICgpIHtcbiAgICAoZmlsdGVycyB8fCAoZmlsdGVycyA9IFtdKSkucHVzaChleHAuc2xpY2UobGFzdEZpbHRlckluZGV4LCBpKS50cmltKCkpO1xuICAgIGxhc3RGaWx0ZXJJbmRleCA9IGkgKyAxO1xuICB9XG5cbiAgaWYgKGZpbHRlcnMpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgZmlsdGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgZXhwcmVzc2lvbiA9IHdyYXBGaWx0ZXIoZXhwcmVzc2lvbiwgZmlsdGVyc1tpXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGV4cHJlc3Npb25cbn1cblxuZnVuY3Rpb24gd3JhcEZpbHRlciAoZXhwLCBmaWx0ZXIpIHtcbiAgdmFyIGkgPSBmaWx0ZXIuaW5kZXhPZignKCcpO1xuICBpZiAoaSA8IDApIHtcbiAgICAvLyBfZjogcmVzb2x2ZUZpbHRlclxuICAgIHJldHVybiAoXCJfZihcXFwiXCIgKyBmaWx0ZXIgKyBcIlxcXCIpKFwiICsgZXhwICsgXCIpXCIpXG4gIH0gZWxzZSB7XG4gICAgdmFyIG5hbWUgPSBmaWx0ZXIuc2xpY2UoMCwgaSk7XG4gICAgdmFyIGFyZ3MgPSBmaWx0ZXIuc2xpY2UoaSArIDEpO1xuICAgIHJldHVybiAoXCJfZihcXFwiXCIgKyBuYW1lICsgXCJcXFwiKShcIiArIGV4cCArIChhcmdzICE9PSAnKScgPyAnLCcgKyBhcmdzIDogYXJncykpXG4gIH1cbn1cblxuLyogICovXG5cblxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuZnVuY3Rpb24gYmFzZVdhcm4gKG1zZywgcmFuZ2UpIHtcbiAgY29uc29sZS5lcnJvcigoXCJbVnVlIGNvbXBpbGVyXTogXCIgKyBtc2cpKTtcbn1cbi8qIGVzbGludC1lbmFibGUgbm8tdW51c2VkLXZhcnMgKi9cblxuZnVuY3Rpb24gcGx1Y2tNb2R1bGVGdW5jdGlvbiAoXG4gIG1vZHVsZXMsXG4gIGtleVxuKSB7XG4gIHJldHVybiBtb2R1bGVzXG4gICAgPyBtb2R1bGVzLm1hcChmdW5jdGlvbiAobSkgeyByZXR1cm4gbVtrZXldOyB9KS5maWx0ZXIoZnVuY3Rpb24gKF8pIHsgcmV0dXJuIF87IH0pXG4gICAgOiBbXVxufVxuXG5mdW5jdGlvbiBhZGRQcm9wIChlbCwgbmFtZSwgdmFsdWUsIHJhbmdlLCBkeW5hbWljKSB7XG4gIChlbC5wcm9wcyB8fCAoZWwucHJvcHMgPSBbXSkpLnB1c2gocmFuZ2VTZXRJdGVtKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlLCBkeW5hbWljOiBkeW5hbWljIH0sIHJhbmdlKSk7XG4gIGVsLnBsYWluID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHIgKGVsLCBuYW1lLCB2YWx1ZSwgcmFuZ2UsIGR5bmFtaWMpIHtcbiAgdmFyIGF0dHJzID0gZHluYW1pY1xuICAgID8gKGVsLmR5bmFtaWNBdHRycyB8fCAoZWwuZHluYW1pY0F0dHJzID0gW10pKVxuICAgIDogKGVsLmF0dHJzIHx8IChlbC5hdHRycyA9IFtdKSk7XG4gIGF0dHJzLnB1c2gocmFuZ2VTZXRJdGVtKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlLCBkeW5hbWljOiBkeW5hbWljIH0sIHJhbmdlKSk7XG4gIGVsLnBsYWluID0gZmFsc2U7XG59XG5cbi8vIGFkZCBhIHJhdyBhdHRyICh1c2UgdGhpcyBpbiBwcmVUcmFuc2Zvcm1zKVxuZnVuY3Rpb24gYWRkUmF3QXR0ciAoZWwsIG5hbWUsIHZhbHVlLCByYW5nZSkge1xuICBlbC5hdHRyc01hcFtuYW1lXSA9IHZhbHVlO1xuICBlbC5hdHRyc0xpc3QucHVzaChyYW5nZVNldEl0ZW0oeyBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWUgfSwgcmFuZ2UpKTtcbn1cblxuZnVuY3Rpb24gYWRkRGlyZWN0aXZlIChcbiAgZWwsXG4gIG5hbWUsXG4gIHJhd05hbWUsXG4gIHZhbHVlLFxuICBhcmcsXG4gIGlzRHluYW1pY0FyZyxcbiAgbW9kaWZpZXJzLFxuICByYW5nZVxuKSB7XG4gIChlbC5kaXJlY3RpdmVzIHx8IChlbC5kaXJlY3RpdmVzID0gW10pKS5wdXNoKHJhbmdlU2V0SXRlbSh7XG4gICAgbmFtZTogbmFtZSxcbiAgICByYXdOYW1lOiByYXdOYW1lLFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBhcmc6IGFyZyxcbiAgICBpc0R5bmFtaWNBcmc6IGlzRHluYW1pY0FyZyxcbiAgICBtb2RpZmllcnM6IG1vZGlmaWVyc1xuICB9LCByYW5nZSkpO1xuICBlbC5wbGFpbiA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBwcmVwZW5kTW9kaWZpZXJNYXJrZXIgKHN5bWJvbCwgbmFtZSwgZHluYW1pYykge1xuICByZXR1cm4gZHluYW1pY1xuICAgID8gKFwiX3AoXCIgKyBuYW1lICsgXCIsXFxcIlwiICsgc3ltYm9sICsgXCJcXFwiKVwiKVxuICAgIDogc3ltYm9sICsgbmFtZSAvLyBtYXJrIHRoZSBldmVudCBhcyBjYXB0dXJlZFxufVxuXG5mdW5jdGlvbiBhZGRIYW5kbGVyIChcbiAgZWwsXG4gIG5hbWUsXG4gIHZhbHVlLFxuICBtb2RpZmllcnMsXG4gIGltcG9ydGFudCxcbiAgd2FybixcbiAgcmFuZ2UsXG4gIGR5bmFtaWNcbikge1xuICBtb2RpZmllcnMgPSBtb2RpZmllcnMgfHwgZW1wdHlPYmplY3Q7XG4gIC8vIHdhcm4gcHJldmVudCBhbmQgcGFzc2l2ZSBtb2RpZmllclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKFxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybiAmJlxuICAgIG1vZGlmaWVycy5wcmV2ZW50ICYmIG1vZGlmaWVycy5wYXNzaXZlXG4gICkge1xuICAgIHdhcm4oXG4gICAgICAncGFzc2l2ZSBhbmQgcHJldmVudCBjYW5cXCd0IGJlIHVzZWQgdG9nZXRoZXIuICcgK1xuICAgICAgJ1Bhc3NpdmUgaGFuZGxlciBjYW5cXCd0IHByZXZlbnQgZGVmYXVsdCBldmVudC4nLFxuICAgICAgcmFuZ2VcbiAgICApO1xuICB9XG5cbiAgLy8gbm9ybWFsaXplIGNsaWNrLnJpZ2h0IGFuZCBjbGljay5taWRkbGUgc2luY2UgdGhleSBkb24ndCBhY3R1YWxseSBmaXJlXG4gIC8vIHRoaXMgaXMgdGVjaG5pY2FsbHkgYnJvd3Nlci1zcGVjaWZpYywgYnV0IGF0IGxlYXN0IGZvciBub3cgYnJvd3NlcnMgYXJlXG4gIC8vIHRoZSBvbmx5IHRhcmdldCBlbnZzIHRoYXQgaGF2ZSByaWdodC9taWRkbGUgY2xpY2tzLlxuICBpZiAobW9kaWZpZXJzLnJpZ2h0KSB7XG4gICAgaWYgKGR5bmFtaWMpIHtcbiAgICAgIG5hbWUgPSBcIihcIiArIG5hbWUgKyBcIik9PT0nY2xpY2snPydjb250ZXh0bWVudSc6KFwiICsgbmFtZSArIFwiKVwiO1xuICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ2NsaWNrJykge1xuICAgICAgbmFtZSA9ICdjb250ZXh0bWVudSc7XG4gICAgICBkZWxldGUgbW9kaWZpZXJzLnJpZ2h0O1xuICAgIH1cbiAgfSBlbHNlIGlmIChtb2RpZmllcnMubWlkZGxlKSB7XG4gICAgaWYgKGR5bmFtaWMpIHtcbiAgICAgIG5hbWUgPSBcIihcIiArIG5hbWUgKyBcIik9PT0nY2xpY2snPydtb3VzZXVwJzooXCIgKyBuYW1lICsgXCIpXCI7XG4gICAgfSBlbHNlIGlmIChuYW1lID09PSAnY2xpY2snKSB7XG4gICAgICBuYW1lID0gJ21vdXNldXAnO1xuICAgIH1cbiAgfVxuXG4gIC8vIGNoZWNrIGNhcHR1cmUgbW9kaWZpZXJcbiAgaWYgKG1vZGlmaWVycy5jYXB0dXJlKSB7XG4gICAgZGVsZXRlIG1vZGlmaWVycy5jYXB0dXJlO1xuICAgIG5hbWUgPSBwcmVwZW5kTW9kaWZpZXJNYXJrZXIoJyEnLCBuYW1lLCBkeW5hbWljKTtcbiAgfVxuICBpZiAobW9kaWZpZXJzLm9uY2UpIHtcbiAgICBkZWxldGUgbW9kaWZpZXJzLm9uY2U7XG4gICAgbmFtZSA9IHByZXBlbmRNb2RpZmllck1hcmtlcignficsIG5hbWUsIGR5bmFtaWMpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAobW9kaWZpZXJzLnBhc3NpdmUpIHtcbiAgICBkZWxldGUgbW9kaWZpZXJzLnBhc3NpdmU7XG4gICAgbmFtZSA9IHByZXBlbmRNb2RpZmllck1hcmtlcignJicsIG5hbWUsIGR5bmFtaWMpO1xuICB9XG5cbiAgdmFyIGV2ZW50cztcbiAgaWYgKG1vZGlmaWVycy5uYXRpdmUpIHtcbiAgICBkZWxldGUgbW9kaWZpZXJzLm5hdGl2ZTtcbiAgICBldmVudHMgPSBlbC5uYXRpdmVFdmVudHMgfHwgKGVsLm5hdGl2ZUV2ZW50cyA9IHt9KTtcbiAgfSBlbHNlIHtcbiAgICBldmVudHMgPSBlbC5ldmVudHMgfHwgKGVsLmV2ZW50cyA9IHt9KTtcbiAgfVxuXG4gIHZhciBuZXdIYW5kbGVyID0gcmFuZ2VTZXRJdGVtKHsgdmFsdWU6IHZhbHVlLnRyaW0oKSwgZHluYW1pYzogZHluYW1pYyB9LCByYW5nZSk7XG4gIGlmIChtb2RpZmllcnMgIT09IGVtcHR5T2JqZWN0KSB7XG4gICAgbmV3SGFuZGxlci5tb2RpZmllcnMgPSBtb2RpZmllcnM7XG4gIH1cblxuICB2YXIgaGFuZGxlcnMgPSBldmVudHNbbmFtZV07XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVycykpIHtcbiAgICBpbXBvcnRhbnQgPyBoYW5kbGVycy51bnNoaWZ0KG5ld0hhbmRsZXIpIDogaGFuZGxlcnMucHVzaChuZXdIYW5kbGVyKTtcbiAgfSBlbHNlIGlmIChoYW5kbGVycykge1xuICAgIGV2ZW50c1tuYW1lXSA9IGltcG9ydGFudCA/IFtuZXdIYW5kbGVyLCBoYW5kbGVyc10gOiBbaGFuZGxlcnMsIG5ld0hhbmRsZXJdO1xuICB9IGVsc2Uge1xuICAgIGV2ZW50c1tuYW1lXSA9IG5ld0hhbmRsZXI7XG4gIH1cblxuICBlbC5wbGFpbiA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRSYXdCaW5kaW5nQXR0ciAoXG4gIGVsLFxuICBuYW1lXG4pIHtcbiAgcmV0dXJuIGVsLnJhd0F0dHJzTWFwWyc6JyArIG5hbWVdIHx8XG4gICAgZWwucmF3QXR0cnNNYXBbJ3YtYmluZDonICsgbmFtZV0gfHxcbiAgICBlbC5yYXdBdHRyc01hcFtuYW1lXVxufVxuXG5mdW5jdGlvbiBnZXRCaW5kaW5nQXR0ciAoXG4gIGVsLFxuICBuYW1lLFxuICBnZXRTdGF0aWNcbikge1xuICB2YXIgZHluYW1pY1ZhbHVlID1cbiAgICBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnOicgKyBuYW1lKSB8fFxuICAgIGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWJpbmQ6JyArIG5hbWUpO1xuICBpZiAoZHluYW1pY1ZhbHVlICE9IG51bGwpIHtcbiAgICByZXR1cm4gcGFyc2VGaWx0ZXJzKGR5bmFtaWNWYWx1ZSlcbiAgfSBlbHNlIGlmIChnZXRTdGF0aWMgIT09IGZhbHNlKSB7XG4gICAgdmFyIHN0YXRpY1ZhbHVlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgbmFtZSk7XG4gICAgaWYgKHN0YXRpY1ZhbHVlICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzdGF0aWNWYWx1ZSlcbiAgICB9XG4gIH1cbn1cblxuLy8gbm90ZTogdGhpcyBvbmx5IHJlbW92ZXMgdGhlIGF0dHIgZnJvbSB0aGUgQXJyYXkgKGF0dHJzTGlzdCkgc28gdGhhdCBpdFxuLy8gZG9lc24ndCBnZXQgcHJvY2Vzc2VkIGJ5IHByb2Nlc3NBdHRycy5cbi8vIEJ5IGRlZmF1bHQgaXQgZG9lcyBOT1QgcmVtb3ZlIGl0IGZyb20gdGhlIG1hcCAoYXR0cnNNYXApIGJlY2F1c2UgdGhlIG1hcCBpc1xuLy8gbmVlZGVkIGR1cmluZyBjb2RlZ2VuLlxuZnVuY3Rpb24gZ2V0QW5kUmVtb3ZlQXR0ciAoXG4gIGVsLFxuICBuYW1lLFxuICByZW1vdmVGcm9tTWFwXG4pIHtcbiAgdmFyIHZhbDtcbiAgaWYgKCh2YWwgPSBlbC5hdHRyc01hcFtuYW1lXSkgIT0gbnVsbCkge1xuICAgIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0O1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChsaXN0W2ldLm5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChyZW1vdmVGcm9tTWFwKSB7XG4gICAgZGVsZXRlIGVsLmF0dHJzTWFwW25hbWVdO1xuICB9XG4gIHJldHVybiB2YWxcbn1cblxuZnVuY3Rpb24gZ2V0QW5kUmVtb3ZlQXR0ckJ5UmVnZXggKFxuICBlbCxcbiAgbmFtZVxuKSB7XG4gIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0O1xuICBmb3IgKHZhciBpID0gMCwgbCA9IGxpc3QubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgdmFyIGF0dHIgPSBsaXN0W2ldO1xuICAgIGlmIChuYW1lLnRlc3QoYXR0ci5uYW1lKSkge1xuICAgICAgbGlzdC5zcGxpY2UoaSwgMSk7XG4gICAgICByZXR1cm4gYXR0clxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByYW5nZVNldEl0ZW0gKFxuICBpdGVtLFxuICByYW5nZVxuKSB7XG4gIGlmIChyYW5nZSkge1xuICAgIGlmIChyYW5nZS5zdGFydCAhPSBudWxsKSB7XG4gICAgICBpdGVtLnN0YXJ0ID0gcmFuZ2Uuc3RhcnQ7XG4gICAgfVxuICAgIGlmIChyYW5nZS5lbmQgIT0gbnVsbCkge1xuICAgICAgaXRlbS5lbmQgPSByYW5nZS5lbmQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBpdGVtXG59XG5cbi8qICAqL1xuXG4vKipcbiAqIENyb3NzLXBsYXRmb3JtIGNvZGUgZ2VuZXJhdGlvbiBmb3IgY29tcG9uZW50IHYtbW9kZWxcbiAqL1xuZnVuY3Rpb24gZ2VuQ29tcG9uZW50TW9kZWwgKFxuICBlbCxcbiAgdmFsdWUsXG4gIG1vZGlmaWVyc1xuKSB7XG4gIHZhciByZWYgPSBtb2RpZmllcnMgfHwge307XG4gIHZhciBudW1iZXIgPSByZWYubnVtYmVyO1xuICB2YXIgdHJpbSA9IHJlZi50cmltO1xuXG4gIHZhciBiYXNlVmFsdWVFeHByZXNzaW9uID0gJyQkdic7XG4gIHZhciB2YWx1ZUV4cHJlc3Npb24gPSBiYXNlVmFsdWVFeHByZXNzaW9uO1xuICBpZiAodHJpbSkge1xuICAgIHZhbHVlRXhwcmVzc2lvbiA9XG4gICAgICBcIih0eXBlb2YgXCIgKyBiYXNlVmFsdWVFeHByZXNzaW9uICsgXCIgPT09ICdzdHJpbmcnXCIgK1xuICAgICAgXCI/IFwiICsgYmFzZVZhbHVlRXhwcmVzc2lvbiArIFwiLnRyaW0oKVwiICtcbiAgICAgIFwiOiBcIiArIGJhc2VWYWx1ZUV4cHJlc3Npb24gKyBcIilcIjtcbiAgfVxuICBpZiAobnVtYmVyKSB7XG4gICAgdmFsdWVFeHByZXNzaW9uID0gXCJfbihcIiArIHZhbHVlRXhwcmVzc2lvbiArIFwiKVwiO1xuICB9XG4gIHZhciBhc3NpZ25tZW50ID0gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIHZhbHVlRXhwcmVzc2lvbik7XG5cbiAgZWwubW9kZWwgPSB7XG4gICAgdmFsdWU6IChcIihcIiArIHZhbHVlICsgXCIpXCIpLFxuICAgIGV4cHJlc3Npb246IEpTT04uc3RyaW5naWZ5KHZhbHVlKSxcbiAgICBjYWxsYmFjazogKFwiZnVuY3Rpb24gKFwiICsgYmFzZVZhbHVlRXhwcmVzc2lvbiArIFwiKSB7XCIgKyBhc3NpZ25tZW50ICsgXCJ9XCIpXG4gIH07XG59XG5cbi8qKlxuICogQ3Jvc3MtcGxhdGZvcm0gY29kZWdlbiBoZWxwZXIgZm9yIGdlbmVyYXRpbmcgdi1tb2RlbCB2YWx1ZSBhc3NpZ25tZW50IGNvZGUuXG4gKi9cbmZ1bmN0aW9uIGdlbkFzc2lnbm1lbnRDb2RlIChcbiAgdmFsdWUsXG4gIGFzc2lnbm1lbnRcbikge1xuICB2YXIgcmVzID0gcGFyc2VNb2RlbCh2YWx1ZSk7XG4gIGlmIChyZXMua2V5ID09PSBudWxsKSB7XG4gICAgcmV0dXJuICh2YWx1ZSArIFwiPVwiICsgYXNzaWdubWVudClcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFwiJHNldChcIiArIChyZXMuZXhwKSArIFwiLCBcIiArIChyZXMua2V5KSArIFwiLCBcIiArIGFzc2lnbm1lbnQgKyBcIilcIilcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIGEgdi1tb2RlbCBleHByZXNzaW9uIGludG8gYSBiYXNlIHBhdGggYW5kIGEgZmluYWwga2V5IHNlZ21lbnQuXG4gKiBIYW5kbGVzIGJvdGggZG90LXBhdGggYW5kIHBvc3NpYmxlIHNxdWFyZSBicmFja2V0cy5cbiAqXG4gKiBQb3NzaWJsZSBjYXNlczpcbiAqXG4gKiAtIHRlc3RcbiAqIC0gdGVzdFtrZXldXG4gKiAtIHRlc3RbdGVzdDFba2V5XV1cbiAqIC0gdGVzdFtcImFcIl1ba2V5XVxuICogLSB4eHgudGVzdFthW2FdLnRlc3QxW2tleV1dXG4gKiAtIHRlc3QueHh4LmFbXCJhc2FcIl1bdGVzdDFba2V5XV1cbiAqXG4gKi9cblxudmFyIGxlbiwgc3RyLCBjaHIsIGluZGV4JDEsIGV4cHJlc3Npb25Qb3MsIGV4cHJlc3Npb25FbmRQb3M7XG5cblxuXG5mdW5jdGlvbiBwYXJzZU1vZGVsICh2YWwpIHtcbiAgLy8gRml4IGh0dHBzOi8vZ2l0aHViLmNvbS92dWVqcy92dWUvcHVsbC83NzMwXG4gIC8vIGFsbG93IHYtbW9kZWw9XCJvYmoudmFsIFwiICh0cmFpbGluZyB3aGl0ZXNwYWNlKVxuICB2YWwgPSB2YWwudHJpbSgpO1xuICBsZW4gPSB2YWwubGVuZ3RoO1xuXG4gIGlmICh2YWwuaW5kZXhPZignWycpIDwgMCB8fCB2YWwubGFzdEluZGV4T2YoJ10nKSA8IGxlbiAtIDEpIHtcbiAgICBpbmRleCQxID0gdmFsLmxhc3RJbmRleE9mKCcuJyk7XG4gICAgaWYgKGluZGV4JDEgPiAtMSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZXhwOiB2YWwuc2xpY2UoMCwgaW5kZXgkMSksXG4gICAgICAgIGtleTogJ1wiJyArIHZhbC5zbGljZShpbmRleCQxICsgMSkgKyAnXCInXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGV4cDogdmFsLFxuICAgICAgICBrZXk6IG51bGxcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzdHIgPSB2YWw7XG4gIGluZGV4JDEgPSBleHByZXNzaW9uUG9zID0gZXhwcmVzc2lvbkVuZFBvcyA9IDA7XG5cbiAgd2hpbGUgKCFlb2YoKSkge1xuICAgIGNociA9IG5leHQoKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoaXNTdHJpbmdTdGFydChjaHIpKSB7XG4gICAgICBwYXJzZVN0cmluZyhjaHIpO1xuICAgIH0gZWxzZSBpZiAoY2hyID09PSAweDVCKSB7XG4gICAgICBwYXJzZUJyYWNrZXQoY2hyKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGV4cDogdmFsLnNsaWNlKDAsIGV4cHJlc3Npb25Qb3MpLFxuICAgIGtleTogdmFsLnNsaWNlKGV4cHJlc3Npb25Qb3MgKyAxLCBleHByZXNzaW9uRW5kUG9zKVxuICB9XG59XG5cbmZ1bmN0aW9uIG5leHQgKCkge1xuICByZXR1cm4gc3RyLmNoYXJDb2RlQXQoKytpbmRleCQxKVxufVxuXG5mdW5jdGlvbiBlb2YgKCkge1xuICByZXR1cm4gaW5kZXgkMSA+PSBsZW5cbn1cblxuZnVuY3Rpb24gaXNTdHJpbmdTdGFydCAoY2hyKSB7XG4gIHJldHVybiBjaHIgPT09IDB4MjIgfHwgY2hyID09PSAweDI3XG59XG5cbmZ1bmN0aW9uIHBhcnNlQnJhY2tldCAoY2hyKSB7XG4gIHZhciBpbkJyYWNrZXQgPSAxO1xuICBleHByZXNzaW9uUG9zID0gaW5kZXgkMTtcbiAgd2hpbGUgKCFlb2YoKSkge1xuICAgIGNociA9IG5leHQoKTtcbiAgICBpZiAoaXNTdHJpbmdTdGFydChjaHIpKSB7XG4gICAgICBwYXJzZVN0cmluZyhjaHIpO1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgaWYgKGNociA9PT0gMHg1QikgeyBpbkJyYWNrZXQrKzsgfVxuICAgIGlmIChjaHIgPT09IDB4NUQpIHsgaW5CcmFja2V0LS07IH1cbiAgICBpZiAoaW5CcmFja2V0ID09PSAwKSB7XG4gICAgICBleHByZXNzaW9uRW5kUG9zID0gaW5kZXgkMTtcbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlU3RyaW5nIChjaHIpIHtcbiAgdmFyIHN0cmluZ1F1b3RlID0gY2hyO1xuICB3aGlsZSAoIWVvZigpKSB7XG4gICAgY2hyID0gbmV4dCgpO1xuICAgIGlmIChjaHIgPT09IHN0cmluZ1F1b3RlKSB7XG4gICAgICBicmVha1xuICAgIH1cbiAgfVxufVxuXG4vKiAgKi9cblxudmFyIHdhcm4kMTtcblxuLy8gaW4gc29tZSBjYXNlcywgdGhlIGV2ZW50IHVzZWQgaGFzIHRvIGJlIGRldGVybWluZWQgYXQgcnVudGltZVxuLy8gc28gd2UgdXNlZCBzb21lIHJlc2VydmVkIHRva2VucyBkdXJpbmcgY29tcGlsZS5cbnZhciBSQU5HRV9UT0tFTiA9ICdfX3InO1xudmFyIENIRUNLQk9YX1JBRElPX1RPS0VOID0gJ19fYyc7XG5cbmZ1bmN0aW9uIG1vZGVsIChcbiAgZWwsXG4gIGRpcixcbiAgX3dhcm5cbikge1xuICB3YXJuJDEgPSBfd2FybjtcbiAgdmFyIHZhbHVlID0gZGlyLnZhbHVlO1xuICB2YXIgbW9kaWZpZXJzID0gZGlyLm1vZGlmaWVycztcbiAgdmFyIHRhZyA9IGVsLnRhZztcbiAgdmFyIHR5cGUgPSBlbC5hdHRyc01hcC50eXBlO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgLy8gaW5wdXRzIHdpdGggdHlwZT1cImZpbGVcIiBhcmUgcmVhZCBvbmx5IGFuZCBzZXR0aW5nIHRoZSBpbnB1dCdzXG4gICAgLy8gdmFsdWUgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAgICBpZiAodGFnID09PSAnaW5wdXQnICYmIHR5cGUgPT09ICdmaWxlJykge1xuICAgICAgd2FybiQxKFxuICAgICAgICBcIjxcIiArIChlbC50YWcpICsgXCIgdi1tb2RlbD1cXFwiXCIgKyB2YWx1ZSArIFwiXFxcIiB0eXBlPVxcXCJmaWxlXFxcIj46XFxuXCIgK1xuICAgICAgICBcIkZpbGUgaW5wdXRzIGFyZSByZWFkIG9ubHkuIFVzZSBhIHYtb246Y2hhbmdlIGxpc3RlbmVyIGluc3RlYWQuXCIsXG4gICAgICAgIGVsLnJhd0F0dHJzTWFwWyd2LW1vZGVsJ11cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGVsLmNvbXBvbmVudCkge1xuICAgIGdlbkNvbXBvbmVudE1vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcbiAgICAvLyBjb21wb25lbnQgdi1tb2RlbCBkb2Vzbid0IG5lZWQgZXh0cmEgcnVudGltZVxuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2UgaWYgKHRhZyA9PT0gJ3NlbGVjdCcpIHtcbiAgICBnZW5TZWxlY3QoZWwsIHZhbHVlLCBtb2RpZmllcnMpO1xuICB9IGVsc2UgaWYgKHRhZyA9PT0gJ2lucHV0JyAmJiB0eXBlID09PSAnY2hlY2tib3gnKSB7XG4gICAgZ2VuQ2hlY2tib3hNb2RlbChlbCwgdmFsdWUsIG1vZGlmaWVycyk7XG4gIH0gZWxzZSBpZiAodGFnID09PSAnaW5wdXQnICYmIHR5cGUgPT09ICdyYWRpbycpIHtcbiAgICBnZW5SYWRpb01vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcbiAgfSBlbHNlIGlmICh0YWcgPT09ICdpbnB1dCcgfHwgdGFnID09PSAndGV4dGFyZWEnKSB7XG4gICAgZ2VuRGVmYXVsdE1vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcbiAgfSBlbHNlIGlmICghY29uZmlnLmlzUmVzZXJ2ZWRUYWcodGFnKSkge1xuICAgIGdlbkNvbXBvbmVudE1vZGVsKGVsLCB2YWx1ZSwgbW9kaWZpZXJzKTtcbiAgICAvLyBjb21wb25lbnQgdi1tb2RlbCBkb2Vzbid0IG5lZWQgZXh0cmEgcnVudGltZVxuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB3YXJuJDEoXG4gICAgICBcIjxcIiArIChlbC50YWcpICsgXCIgdi1tb2RlbD1cXFwiXCIgKyB2YWx1ZSArIFwiXFxcIj46IFwiICtcbiAgICAgIFwidi1tb2RlbCBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgZWxlbWVudCB0eXBlLiBcIiArXG4gICAgICAnSWYgeW91IGFyZSB3b3JraW5nIHdpdGggY29udGVudGVkaXRhYmxlLCBpdFxcJ3MgcmVjb21tZW5kZWQgdG8gJyArXG4gICAgICAnd3JhcCBhIGxpYnJhcnkgZGVkaWNhdGVkIGZvciB0aGF0IHB1cnBvc2UgaW5zaWRlIGEgY3VzdG9tIGNvbXBvbmVudC4nLFxuICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtbW9kZWwnXVxuICAgICk7XG4gIH1cblxuICAvLyBlbnN1cmUgcnVudGltZSBkaXJlY3RpdmUgbWV0YWRhdGFcbiAgcmV0dXJuIHRydWVcbn1cblxuZnVuY3Rpb24gZ2VuQ2hlY2tib3hNb2RlbCAoXG4gIGVsLFxuICB2YWx1ZSxcbiAgbW9kaWZpZXJzXG4pIHtcbiAgdmFyIG51bWJlciA9IG1vZGlmaWVycyAmJiBtb2RpZmllcnMubnVtYmVyO1xuICB2YXIgdmFsdWVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICd2YWx1ZScpIHx8ICdudWxsJztcbiAgdmFyIHRydWVWYWx1ZUJpbmRpbmcgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ3RydWUtdmFsdWUnKSB8fCAndHJ1ZSc7XG4gIHZhciBmYWxzZVZhbHVlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAnZmFsc2UtdmFsdWUnKSB8fCAnZmFsc2UnO1xuICBhZGRQcm9wKGVsLCAnY2hlY2tlZCcsXG4gICAgXCJBcnJheS5pc0FycmF5KFwiICsgdmFsdWUgKyBcIilcIiArXG4gICAgXCI/X2koXCIgKyB2YWx1ZSArIFwiLFwiICsgdmFsdWVCaW5kaW5nICsgXCIpPi0xXCIgKyAoXG4gICAgICB0cnVlVmFsdWVCaW5kaW5nID09PSAndHJ1ZSdcbiAgICAgICAgPyAoXCI6KFwiICsgdmFsdWUgKyBcIilcIilcbiAgICAgICAgOiAoXCI6X3EoXCIgKyB2YWx1ZSArIFwiLFwiICsgdHJ1ZVZhbHVlQmluZGluZyArIFwiKVwiKVxuICAgIClcbiAgKTtcbiAgYWRkSGFuZGxlcihlbCwgJ2NoYW5nZScsXG4gICAgXCJ2YXIgJCRhPVwiICsgdmFsdWUgKyBcIixcIiArXG4gICAgICAgICckJGVsPSRldmVudC50YXJnZXQsJyArXG4gICAgICAgIFwiJCRjPSQkZWwuY2hlY2tlZD8oXCIgKyB0cnVlVmFsdWVCaW5kaW5nICsgXCIpOihcIiArIGZhbHNlVmFsdWVCaW5kaW5nICsgXCIpO1wiICtcbiAgICAnaWYoQXJyYXkuaXNBcnJheSgkJGEpKXsnICtcbiAgICAgIFwidmFyICQkdj1cIiArIChudW1iZXIgPyAnX24oJyArIHZhbHVlQmluZGluZyArICcpJyA6IHZhbHVlQmluZGluZykgKyBcIixcIiArXG4gICAgICAgICAgJyQkaT1faSgkJGEsJCR2KTsnICtcbiAgICAgIFwiaWYoJCRlbC5jaGVja2VkKXskJGk8MCYmKFwiICsgKGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCAnJCRhLmNvbmNhdChbJCR2XSknKSkgKyBcIil9XCIgK1xuICAgICAgXCJlbHNleyQkaT4tMSYmKFwiICsgKGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCAnJCRhLnNsaWNlKDAsJCRpKS5jb25jYXQoJCRhLnNsaWNlKCQkaSsxKSknKSkgKyBcIil9XCIgK1xuICAgIFwifWVsc2V7XCIgKyAoZ2VuQXNzaWdubWVudENvZGUodmFsdWUsICckJGMnKSkgKyBcIn1cIixcbiAgICBudWxsLCB0cnVlXG4gICk7XG59XG5cbmZ1bmN0aW9uIGdlblJhZGlvTW9kZWwgKFxuICBlbCxcbiAgdmFsdWUsXG4gIG1vZGlmaWVyc1xuKSB7XG4gIHZhciBudW1iZXIgPSBtb2RpZmllcnMgJiYgbW9kaWZpZXJzLm51bWJlcjtcbiAgdmFyIHZhbHVlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAndmFsdWUnKSB8fCAnbnVsbCc7XG4gIHZhbHVlQmluZGluZyA9IG51bWJlciA/IChcIl9uKFwiICsgdmFsdWVCaW5kaW5nICsgXCIpXCIpIDogdmFsdWVCaW5kaW5nO1xuICBhZGRQcm9wKGVsLCAnY2hlY2tlZCcsIChcIl9xKFwiICsgdmFsdWUgKyBcIixcIiArIHZhbHVlQmluZGluZyArIFwiKVwiKSk7XG4gIGFkZEhhbmRsZXIoZWwsICdjaGFuZ2UnLCBnZW5Bc3NpZ25tZW50Q29kZSh2YWx1ZSwgdmFsdWVCaW5kaW5nKSwgbnVsbCwgdHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGdlblNlbGVjdCAoXG4gIGVsLFxuICB2YWx1ZSxcbiAgbW9kaWZpZXJzXG4pIHtcbiAgdmFyIG51bWJlciA9IG1vZGlmaWVycyAmJiBtb2RpZmllcnMubnVtYmVyO1xuICB2YXIgc2VsZWN0ZWRWYWwgPSBcIkFycmF5LnByb3RvdHlwZS5maWx0ZXJcIiArXG4gICAgXCIuY2FsbCgkZXZlbnQudGFyZ2V0Lm9wdGlvbnMsZnVuY3Rpb24obyl7cmV0dXJuIG8uc2VsZWN0ZWR9KVwiICtcbiAgICBcIi5tYXAoZnVuY3Rpb24obyl7dmFyIHZhbCA9IFxcXCJfdmFsdWVcXFwiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWU7XCIgK1xuICAgIFwicmV0dXJuIFwiICsgKG51bWJlciA/ICdfbih2YWwpJyA6ICd2YWwnKSArIFwifSlcIjtcblxuICB2YXIgYXNzaWdubWVudCA9ICckZXZlbnQudGFyZ2V0Lm11bHRpcGxlID8gJCRzZWxlY3RlZFZhbCA6ICQkc2VsZWN0ZWRWYWxbMF0nO1xuICB2YXIgY29kZSA9IFwidmFyICQkc2VsZWN0ZWRWYWwgPSBcIiArIHNlbGVjdGVkVmFsICsgXCI7XCI7XG4gIGNvZGUgPSBjb2RlICsgXCIgXCIgKyAoZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIGFzc2lnbm1lbnQpKTtcbiAgYWRkSGFuZGxlcihlbCwgJ2NoYW5nZScsIGNvZGUsIG51bGwsIHRydWUpO1xufVxuXG5mdW5jdGlvbiBnZW5EZWZhdWx0TW9kZWwgKFxuICBlbCxcbiAgdmFsdWUsXG4gIG1vZGlmaWVyc1xuKSB7XG4gIHZhciB0eXBlID0gZWwuYXR0cnNNYXAudHlwZTtcblxuICAvLyB3YXJuIGlmIHYtYmluZDp2YWx1ZSBjb25mbGljdHMgd2l0aCB2LW1vZGVsXG4gIC8vIGV4Y2VwdCBmb3IgaW5wdXRzIHdpdGggdi1iaW5kOnR5cGVcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICB2YXIgdmFsdWUkMSA9IGVsLmF0dHJzTWFwWyd2LWJpbmQ6dmFsdWUnXSB8fCBlbC5hdHRyc01hcFsnOnZhbHVlJ107XG4gICAgdmFyIHR5cGVCaW5kaW5nID0gZWwuYXR0cnNNYXBbJ3YtYmluZDp0eXBlJ10gfHwgZWwuYXR0cnNNYXBbJzp0eXBlJ107XG4gICAgaWYgKHZhbHVlJDEgJiYgIXR5cGVCaW5kaW5nKSB7XG4gICAgICB2YXIgYmluZGluZyA9IGVsLmF0dHJzTWFwWyd2LWJpbmQ6dmFsdWUnXSA/ICd2LWJpbmQ6dmFsdWUnIDogJzp2YWx1ZSc7XG4gICAgICB3YXJuJDEoXG4gICAgICAgIGJpbmRpbmcgKyBcIj1cXFwiXCIgKyB2YWx1ZSQxICsgXCJcXFwiIGNvbmZsaWN0cyB3aXRoIHYtbW9kZWwgb24gdGhlIHNhbWUgZWxlbWVudCBcIiArXG4gICAgICAgICdiZWNhdXNlIHRoZSBsYXR0ZXIgYWxyZWFkeSBleHBhbmRzIHRvIGEgdmFsdWUgYmluZGluZyBpbnRlcm5hbGx5JyxcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbYmluZGluZ11cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHJlZiA9IG1vZGlmaWVycyB8fCB7fTtcbiAgdmFyIGxhenkgPSByZWYubGF6eTtcbiAgdmFyIG51bWJlciA9IHJlZi5udW1iZXI7XG4gIHZhciB0cmltID0gcmVmLnRyaW07XG4gIHZhciBuZWVkQ29tcG9zaXRpb25HdWFyZCA9ICFsYXp5ICYmIHR5cGUgIT09ICdyYW5nZSc7XG4gIHZhciBldmVudCA9IGxhenlcbiAgICA/ICdjaGFuZ2UnXG4gICAgOiB0eXBlID09PSAncmFuZ2UnXG4gICAgICA/IFJBTkdFX1RPS0VOXG4gICAgICA6ICdpbnB1dCc7XG5cbiAgdmFyIHZhbHVlRXhwcmVzc2lvbiA9ICckZXZlbnQudGFyZ2V0LnZhbHVlJztcbiAgaWYgKHRyaW0pIHtcbiAgICB2YWx1ZUV4cHJlc3Npb24gPSBcIiRldmVudC50YXJnZXQudmFsdWUudHJpbSgpXCI7XG4gIH1cbiAgaWYgKG51bWJlcikge1xuICAgIHZhbHVlRXhwcmVzc2lvbiA9IFwiX24oXCIgKyB2YWx1ZUV4cHJlc3Npb24gKyBcIilcIjtcbiAgfVxuXG4gIHZhciBjb2RlID0gZ2VuQXNzaWdubWVudENvZGUodmFsdWUsIHZhbHVlRXhwcmVzc2lvbik7XG4gIGlmIChuZWVkQ29tcG9zaXRpb25HdWFyZCkge1xuICAgIGNvZGUgPSBcImlmKCRldmVudC50YXJnZXQuY29tcG9zaW5nKXJldHVybjtcIiArIGNvZGU7XG4gIH1cblxuICBhZGRQcm9wKGVsLCAndmFsdWUnLCAoXCIoXCIgKyB2YWx1ZSArIFwiKVwiKSk7XG4gIGFkZEhhbmRsZXIoZWwsIGV2ZW50LCBjb2RlLCBudWxsLCB0cnVlKTtcbiAgaWYgKHRyaW0gfHwgbnVtYmVyKSB7XG4gICAgYWRkSGFuZGxlcihlbCwgJ2JsdXInLCAnJGZvcmNlVXBkYXRlKCknKTtcbiAgfVxufVxuXG4vKiAgKi9cblxuLy8gbm9ybWFsaXplIHYtbW9kZWwgZXZlbnQgdG9rZW5zIHRoYXQgY2FuIG9ubHkgYmUgZGV0ZXJtaW5lZCBhdCBydW50aW1lLlxuLy8gaXQncyBpbXBvcnRhbnQgdG8gcGxhY2UgdGhlIGV2ZW50IGFzIHRoZSBmaXJzdCBpbiB0aGUgYXJyYXkgYmVjYXVzZVxuLy8gdGhlIHdob2xlIHBvaW50IGlzIGVuc3VyaW5nIHRoZSB2LW1vZGVsIGNhbGxiYWNrIGdldHMgY2FsbGVkIGJlZm9yZVxuLy8gdXNlci1hdHRhY2hlZCBoYW5kbGVycy5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUV2ZW50cyAob24pIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChpc0RlZihvbltSQU5HRV9UT0tFTl0pKSB7XG4gICAgLy8gSUUgaW5wdXRbdHlwZT1yYW5nZV0gb25seSBzdXBwb3J0cyBgY2hhbmdlYCBldmVudFxuICAgIHZhciBldmVudCA9IGlzSUUgPyAnY2hhbmdlJyA6ICdpbnB1dCc7XG4gICAgb25bZXZlbnRdID0gW10uY29uY2F0KG9uW1JBTkdFX1RPS0VOXSwgb25bZXZlbnRdIHx8IFtdKTtcbiAgICBkZWxldGUgb25bUkFOR0VfVE9LRU5dO1xuICB9XG4gIC8vIFRoaXMgd2FzIG9yaWdpbmFsbHkgaW50ZW5kZWQgdG8gZml4ICM0NTIxIGJ1dCBubyBsb25nZXIgbmVjZXNzYXJ5XG4gIC8vIGFmdGVyIDIuNS4gS2VlcGluZyBpdCBmb3IgYmFja3dhcmRzIGNvbXBhdCB3aXRoIGdlbmVyYXRlZCBjb2RlIGZyb20gPCAyLjRcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChpc0RlZihvbltDSEVDS0JPWF9SQURJT19UT0tFTl0pKSB7XG4gICAgb24uY2hhbmdlID0gW10uY29uY2F0KG9uW0NIRUNLQk9YX1JBRElPX1RPS0VOXSwgb24uY2hhbmdlIHx8IFtdKTtcbiAgICBkZWxldGUgb25bQ0hFQ0tCT1hfUkFESU9fVE9LRU5dO1xuICB9XG59XG5cbnZhciB0YXJnZXQkMTtcblxuZnVuY3Rpb24gY3JlYXRlT25jZUhhbmRsZXIkMSAoZXZlbnQsIGhhbmRsZXIsIGNhcHR1cmUpIHtcbiAgdmFyIF90YXJnZXQgPSB0YXJnZXQkMTsgLy8gc2F2ZSBjdXJyZW50IHRhcmdldCBlbGVtZW50IGluIGNsb3N1cmVcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uY2VIYW5kbGVyICgpIHtcbiAgICB2YXIgcmVzID0gaGFuZGxlci5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIGlmIChyZXMgIT09IG51bGwpIHtcbiAgICAgIHJlbW92ZSQyKGV2ZW50LCBvbmNlSGFuZGxlciwgY2FwdHVyZSwgX3RhcmdldCk7XG4gICAgfVxuICB9XG59XG5cbi8vICM5NDQ2OiBGaXJlZm94IDw9IDUzIChpbiBwYXJ0aWN1bGFyLCBFU1IgNTIpIGhhcyBpbmNvcnJlY3QgRXZlbnQudGltZVN0YW1wXG4vLyBpbXBsZW1lbnRhdGlvbiBhbmQgZG9lcyBub3QgZmlyZSBtaWNyb3Rhc2tzIGluIGJldHdlZW4gZXZlbnQgcHJvcGFnYXRpb24sIHNvXG4vLyBzYWZlIHRvIGV4Y2x1ZGUuXG52YXIgdXNlTWljcm90YXNrRml4ID0gaXNVc2luZ01pY3JvVGFzayAmJiAhKGlzRkYgJiYgTnVtYmVyKGlzRkZbMV0pIDw9IDUzKTtcblxuZnVuY3Rpb24gYWRkJDEgKFxuICBuYW1lLFxuICBoYW5kbGVyLFxuICBjYXB0dXJlLFxuICBwYXNzaXZlXG4pIHtcbiAgLy8gYXN5bmMgZWRnZSBjYXNlICM2NTY2OiBpbm5lciBjbGljayBldmVudCB0cmlnZ2VycyBwYXRjaCwgZXZlbnQgaGFuZGxlclxuICAvLyBhdHRhY2hlZCB0byBvdXRlciBlbGVtZW50IGR1cmluZyBwYXRjaCwgYW5kIHRyaWdnZXJlZCBhZ2Fpbi4gVGhpc1xuICAvLyBoYXBwZW5zIGJlY2F1c2UgYnJvd3NlcnMgZmlyZSBtaWNyb3Rhc2sgdGlja3MgYmV0d2VlbiBldmVudCBwcm9wYWdhdGlvbi5cbiAgLy8gdGhlIHNvbHV0aW9uIGlzIHNpbXBsZTogd2Ugc2F2ZSB0aGUgdGltZXN0YW1wIHdoZW4gYSBoYW5kbGVyIGlzIGF0dGFjaGVkLFxuICAvLyBhbmQgdGhlIGhhbmRsZXIgd291bGQgb25seSBmaXJlIGlmIHRoZSBldmVudCBwYXNzZWQgdG8gaXQgd2FzIGZpcmVkXG4gIC8vIEFGVEVSIGl0IHdhcyBhdHRhY2hlZC5cbiAgaWYgKHVzZU1pY3JvdGFza0ZpeCkge1xuICAgIHZhciBhdHRhY2hlZFRpbWVzdGFtcCA9IGN1cnJlbnRGbHVzaFRpbWVzdGFtcDtcbiAgICB2YXIgb3JpZ2luYWwgPSBoYW5kbGVyO1xuICAgIGhhbmRsZXIgPSBvcmlnaW5hbC5fd3JhcHBlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoXG4gICAgICAgIC8vIG5vIGJ1YmJsaW5nLCBzaG91bGQgYWx3YXlzIGZpcmUuXG4gICAgICAgIC8vIHRoaXMgaXMganVzdCBhIHNhZmV0eSBuZXQgaW4gY2FzZSBldmVudC50aW1lU3RhbXAgaXMgdW5yZWxpYWJsZSBpblxuICAgICAgICAvLyBjZXJ0YWluIHdlaXJkIGVudmlyb25tZW50cy4uLlxuICAgICAgICBlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0IHx8XG4gICAgICAgIC8vIGV2ZW50IGlzIGZpcmVkIGFmdGVyIGhhbmRsZXIgYXR0YWNobWVudFxuICAgICAgICBlLnRpbWVTdGFtcCA+PSBhdHRhY2hlZFRpbWVzdGFtcCB8fFxuICAgICAgICAvLyBiYWlsIGZvciBlbnZpcm9ubWVudHMgdGhhdCBoYXZlIGJ1Z2d5IGV2ZW50LnRpbWVTdGFtcCBpbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgLy8gIzk0NjIgaU9TIDkgYnVnOiBldmVudC50aW1lU3RhbXAgaXMgMCBhZnRlciBoaXN0b3J5LnB1c2hTdGF0ZVxuICAgICAgICAvLyAjOTY4MSBRdFdlYkVuZ2luZSBldmVudC50aW1lU3RhbXAgaXMgbmVnYXRpdmUgdmFsdWVcbiAgICAgICAgZS50aW1lU3RhbXAgPD0gMCB8fFxuICAgICAgICAvLyAjOTQ0OCBiYWlsIGlmIGV2ZW50IGlzIGZpcmVkIGluIGFub3RoZXIgZG9jdW1lbnQgaW4gYSBtdWx0aS1wYWdlXG4gICAgICAgIC8vIGVsZWN0cm9uL253LmpzIGFwcCwgc2luY2UgZXZlbnQudGltZVN0YW1wIHdpbGwgYmUgdXNpbmcgYSBkaWZmZXJlbnRcbiAgICAgICAgLy8gc3RhcnRpbmcgcmVmZXJlbmNlXG4gICAgICAgIGUudGFyZ2V0Lm93bmVyRG9jdW1lbnQgIT09IGRvY3VtZW50XG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHRhcmdldCQxLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgbmFtZSxcbiAgICBoYW5kbGVyLFxuICAgIHN1cHBvcnRzUGFzc2l2ZVxuICAgICAgPyB7IGNhcHR1cmU6IGNhcHR1cmUsIHBhc3NpdmU6IHBhc3NpdmUgfVxuICAgICAgOiBjYXB0dXJlXG4gICk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZSQyIChcbiAgbmFtZSxcbiAgaGFuZGxlcixcbiAgY2FwdHVyZSxcbiAgX3RhcmdldFxuKSB7XG4gIChfdGFyZ2V0IHx8IHRhcmdldCQxKS5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgIG5hbWUsXG4gICAgaGFuZGxlci5fd3JhcHBlciB8fCBoYW5kbGVyLFxuICAgIGNhcHR1cmVcbiAgKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRE9NTGlzdGVuZXJzIChvbGRWbm9kZSwgdm5vZGUpIHtcbiAgaWYgKGlzVW5kZWYob2xkVm5vZGUuZGF0YS5vbikgJiYgaXNVbmRlZih2bm9kZS5kYXRhLm9uKSkge1xuICAgIHJldHVyblxuICB9XG4gIHZhciBvbiA9IHZub2RlLmRhdGEub24gfHwge307XG4gIHZhciBvbGRPbiA9IG9sZFZub2RlLmRhdGEub24gfHwge307XG4gIHRhcmdldCQxID0gdm5vZGUuZWxtO1xuICBub3JtYWxpemVFdmVudHMob24pO1xuICB1cGRhdGVMaXN0ZW5lcnMob24sIG9sZE9uLCBhZGQkMSwgcmVtb3ZlJDIsIGNyZWF0ZU9uY2VIYW5kbGVyJDEsIHZub2RlLmNvbnRleHQpO1xuICB0YXJnZXQkMSA9IHVuZGVmaW5lZDtcbn1cblxudmFyIGV2ZW50cyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVET01MaXN0ZW5lcnMsXG4gIHVwZGF0ZTogdXBkYXRlRE9NTGlzdGVuZXJzXG59O1xuXG4vKiAgKi9cblxudmFyIHN2Z0NvbnRhaW5lcjtcblxuZnVuY3Rpb24gdXBkYXRlRE9NUHJvcHMgKG9sZFZub2RlLCB2bm9kZSkge1xuICBpZiAoaXNVbmRlZihvbGRWbm9kZS5kYXRhLmRvbVByb3BzKSAmJiBpc1VuZGVmKHZub2RlLmRhdGEuZG9tUHJvcHMpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIGtleSwgY3VyO1xuICB2YXIgZWxtID0gdm5vZGUuZWxtO1xuICB2YXIgb2xkUHJvcHMgPSBvbGRWbm9kZS5kYXRhLmRvbVByb3BzIHx8IHt9O1xuICB2YXIgcHJvcHMgPSB2bm9kZS5kYXRhLmRvbVByb3BzIHx8IHt9O1xuICAvLyBjbG9uZSBvYnNlcnZlZCBvYmplY3RzLCBhcyB0aGUgdXNlciBwcm9iYWJseSB3YW50cyB0byBtdXRhdGUgaXRcbiAgaWYgKGlzRGVmKHByb3BzLl9fb2JfXykpIHtcbiAgICBwcm9wcyA9IHZub2RlLmRhdGEuZG9tUHJvcHMgPSBleHRlbmQoe30sIHByb3BzKTtcbiAgfVxuXG4gIGZvciAoa2V5IGluIG9sZFByb3BzKSB7XG4gICAgaWYgKCEoa2V5IGluIHByb3BzKSkge1xuICAgICAgZWxtW2tleV0gPSAnJztcbiAgICB9XG4gIH1cblxuICBmb3IgKGtleSBpbiBwcm9wcykge1xuICAgIGN1ciA9IHByb3BzW2tleV07XG4gICAgLy8gaWdub3JlIGNoaWxkcmVuIGlmIHRoZSBub2RlIGhhcyB0ZXh0Q29udGVudCBvciBpbm5lckhUTUwsXG4gICAgLy8gYXMgdGhlc2Ugd2lsbCB0aHJvdyBhd2F5IGV4aXN0aW5nIERPTSBub2RlcyBhbmQgY2F1c2UgcmVtb3ZhbCBlcnJvcnNcbiAgICAvLyBvbiBzdWJzZXF1ZW50IHBhdGNoZXMgKCMzMzYwKVxuICAgIGlmIChrZXkgPT09ICd0ZXh0Q29udGVudCcgfHwga2V5ID09PSAnaW5uZXJIVE1MJykge1xuICAgICAgaWYgKHZub2RlLmNoaWxkcmVuKSB7IHZub2RlLmNoaWxkcmVuLmxlbmd0aCA9IDA7IH1cbiAgICAgIGlmIChjdXIgPT09IG9sZFByb3BzW2tleV0pIHsgY29udGludWUgfVxuICAgICAgLy8gIzY2MDEgd29yayBhcm91bmQgQ2hyb21lIHZlcnNpb24gPD0gNTUgYnVnIHdoZXJlIHNpbmdsZSB0ZXh0Tm9kZVxuICAgICAgLy8gcmVwbGFjZWQgYnkgaW5uZXJIVE1ML3RleHRDb250ZW50IHJldGFpbnMgaXRzIHBhcmVudE5vZGUgcHJvcGVydHlcbiAgICAgIGlmIChlbG0uY2hpbGROb2Rlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgZWxtLnJlbW92ZUNoaWxkKGVsbS5jaGlsZE5vZGVzWzBdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAndmFsdWUnICYmIGVsbS50YWdOYW1lICE9PSAnUFJPR1JFU1MnKSB7XG4gICAgICAvLyBzdG9yZSB2YWx1ZSBhcyBfdmFsdWUgYXMgd2VsbCBzaW5jZVxuICAgICAgLy8gbm9uLXN0cmluZyB2YWx1ZXMgd2lsbCBiZSBzdHJpbmdpZmllZFxuICAgICAgZWxtLl92YWx1ZSA9IGN1cjtcbiAgICAgIC8vIGF2b2lkIHJlc2V0dGluZyBjdXJzb3IgcG9zaXRpb24gd2hlbiB2YWx1ZSBpcyB0aGUgc2FtZVxuICAgICAgdmFyIHN0ckN1ciA9IGlzVW5kZWYoY3VyKSA/ICcnIDogU3RyaW5nKGN1cik7XG4gICAgICBpZiAoc2hvdWxkVXBkYXRlVmFsdWUoZWxtLCBzdHJDdXIpKSB7XG4gICAgICAgIGVsbS52YWx1ZSA9IHN0ckN1cjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2lubmVySFRNTCcgJiYgaXNTVkcoZWxtLnRhZ05hbWUpICYmIGlzVW5kZWYoZWxtLmlubmVySFRNTCkpIHtcbiAgICAgIC8vIElFIGRvZXNuJ3Qgc3VwcG9ydCBpbm5lckhUTUwgZm9yIFNWRyBlbGVtZW50c1xuICAgICAgc3ZnQ29udGFpbmVyID0gc3ZnQ29udGFpbmVyIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgc3ZnQ29udGFpbmVyLmlubmVySFRNTCA9IFwiPHN2Zz5cIiArIGN1ciArIFwiPC9zdmc+XCI7XG4gICAgICB2YXIgc3ZnID0gc3ZnQ29udGFpbmVyLmZpcnN0Q2hpbGQ7XG4gICAgICB3aGlsZSAoZWxtLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgZWxtLnJlbW92ZUNoaWxkKGVsbS5maXJzdENoaWxkKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlIChzdmcuZmlyc3RDaGlsZCkge1xuICAgICAgICBlbG0uYXBwZW5kQ2hpbGQoc3ZnLmZpcnN0Q2hpbGQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoXG4gICAgICAvLyBza2lwIHRoZSB1cGRhdGUgaWYgb2xkIGFuZCBuZXcgVkRPTSBzdGF0ZSBpcyB0aGUgc2FtZS5cbiAgICAgIC8vIGB2YWx1ZWAgaXMgaGFuZGxlZCBzZXBhcmF0ZWx5IGJlY2F1c2UgdGhlIERPTSB2YWx1ZSBtYXkgYmUgdGVtcG9yYXJpbHlcbiAgICAgIC8vIG91dCBvZiBzeW5jIHdpdGggVkRPTSBzdGF0ZSBkdWUgdG8gZm9jdXMsIGNvbXBvc2l0aW9uIGFuZCBtb2RpZmllcnMuXG4gICAgICAvLyBUaGlzICAjNDUyMSBieSBza2lwcGluZyB0aGUgdW5uZWNlc3NhcnkgYGNoZWNrZWRgIHVwZGF0ZS5cbiAgICAgIGN1ciAhPT0gb2xkUHJvcHNba2V5XVxuICAgICkge1xuICAgICAgLy8gc29tZSBwcm9wZXJ0eSB1cGRhdGVzIGNhbiB0aHJvd1xuICAgICAgLy8gZS5nLiBgdmFsdWVgIG9uIDxwcm9ncmVzcz4gdy8gbm9uLWZpbml0ZSB2YWx1ZVxuICAgICAgdHJ5IHtcbiAgICAgICAgZWxtW2tleV0gPSBjdXI7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxufVxuXG4vLyBjaGVjayBwbGF0Zm9ybXMvd2ViL3V0aWwvYXR0cnMuanMgYWNjZXB0VmFsdWVcblxuXG5mdW5jdGlvbiBzaG91bGRVcGRhdGVWYWx1ZSAoZWxtLCBjaGVja1ZhbCkge1xuICByZXR1cm4gKCFlbG0uY29tcG9zaW5nICYmIChcbiAgICBlbG0udGFnTmFtZSA9PT0gJ09QVElPTicgfHxcbiAgICBpc05vdEluRm9jdXNBbmREaXJ0eShlbG0sIGNoZWNrVmFsKSB8fFxuICAgIGlzRGlydHlXaXRoTW9kaWZpZXJzKGVsbSwgY2hlY2tWYWwpXG4gICkpXG59XG5cbmZ1bmN0aW9uIGlzTm90SW5Gb2N1c0FuZERpcnR5IChlbG0sIGNoZWNrVmFsKSB7XG4gIC8vIHJldHVybiB0cnVlIHdoZW4gdGV4dGJveCAoLm51bWJlciBhbmQgLnRyaW0pIGxvc2VzIGZvY3VzIGFuZCBpdHMgdmFsdWUgaXNcbiAgLy8gbm90IGVxdWFsIHRvIHRoZSB1cGRhdGVkIHZhbHVlXG4gIHZhciBub3RJbkZvY3VzID0gdHJ1ZTtcbiAgLy8gIzYxNTdcbiAgLy8gd29yayBhcm91bmQgSUUgYnVnIHdoZW4gYWNjZXNzaW5nIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgaW4gYW4gaWZyYW1lXG4gIHRyeSB7IG5vdEluRm9jdXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBlbG07IH0gY2F0Y2ggKGUpIHt9XG4gIHJldHVybiBub3RJbkZvY3VzICYmIGVsbS52YWx1ZSAhPT0gY2hlY2tWYWxcbn1cblxuZnVuY3Rpb24gaXNEaXJ0eVdpdGhNb2RpZmllcnMgKGVsbSwgbmV3VmFsKSB7XG4gIHZhciB2YWx1ZSA9IGVsbS52YWx1ZTtcbiAgdmFyIG1vZGlmaWVycyA9IGVsbS5fdk1vZGlmaWVyczsgLy8gaW5qZWN0ZWQgYnkgdi1tb2RlbCBydW50aW1lXG4gIGlmIChpc0RlZihtb2RpZmllcnMpKSB7XG4gICAgaWYgKG1vZGlmaWVycy5udW1iZXIpIHtcbiAgICAgIHJldHVybiB0b051bWJlcih2YWx1ZSkgIT09IHRvTnVtYmVyKG5ld1ZhbClcbiAgICB9XG4gICAgaWYgKG1vZGlmaWVycy50cmltKSB7XG4gICAgICByZXR1cm4gdmFsdWUudHJpbSgpICE9PSBuZXdWYWwudHJpbSgpXG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZSAhPT0gbmV3VmFsXG59XG5cbnZhciBkb21Qcm9wcyA9IHtcbiAgY3JlYXRlOiB1cGRhdGVET01Qcm9wcyxcbiAgdXBkYXRlOiB1cGRhdGVET01Qcm9wc1xufTtcblxuLyogICovXG5cbnZhciBwYXJzZVN0eWxlVGV4dCA9IGNhY2hlZChmdW5jdGlvbiAoY3NzVGV4dCkge1xuICB2YXIgcmVzID0ge307XG4gIHZhciBsaXN0RGVsaW1pdGVyID0gLzsoPyFbXihdKlxcKSkvZztcbiAgdmFyIHByb3BlcnR5RGVsaW1pdGVyID0gLzooLispLztcbiAgY3NzVGV4dC5zcGxpdChsaXN0RGVsaW1pdGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgaWYgKGl0ZW0pIHtcbiAgICAgIHZhciB0bXAgPSBpdGVtLnNwbGl0KHByb3BlcnR5RGVsaW1pdGVyKTtcbiAgICAgIHRtcC5sZW5ndGggPiAxICYmIChyZXNbdG1wWzBdLnRyaW0oKV0gPSB0bXBbMV0udHJpbSgpKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzXG59KTtcblxuLy8gbWVyZ2Ugc3RhdGljIGFuZCBkeW5hbWljIHN0eWxlIGRhdGEgb24gdGhlIHNhbWUgdm5vZGVcbmZ1bmN0aW9uIG5vcm1hbGl6ZVN0eWxlRGF0YSAoZGF0YSkge1xuICB2YXIgc3R5bGUgPSBub3JtYWxpemVTdHlsZUJpbmRpbmcoZGF0YS5zdHlsZSk7XG4gIC8vIHN0YXRpYyBzdHlsZSBpcyBwcmUtcHJvY2Vzc2VkIGludG8gYW4gb2JqZWN0IGR1cmluZyBjb21waWxhdGlvblxuICAvLyBhbmQgaXMgYWx3YXlzIGEgZnJlc2ggb2JqZWN0LCBzbyBpdCdzIHNhZmUgdG8gbWVyZ2UgaW50byBpdFxuICByZXR1cm4gZGF0YS5zdGF0aWNTdHlsZVxuICAgID8gZXh0ZW5kKGRhdGEuc3RhdGljU3R5bGUsIHN0eWxlKVxuICAgIDogc3R5bGVcbn1cblxuLy8gbm9ybWFsaXplIHBvc3NpYmxlIGFycmF5IC8gc3RyaW5nIHZhbHVlcyBpbnRvIE9iamVjdFxuZnVuY3Rpb24gbm9ybWFsaXplU3R5bGVCaW5kaW5nIChiaW5kaW5nU3R5bGUpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYmluZGluZ1N0eWxlKSkge1xuICAgIHJldHVybiB0b09iamVjdChiaW5kaW5nU3R5bGUpXG4gIH1cbiAgaWYgKHR5cGVvZiBiaW5kaW5nU3R5bGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHBhcnNlU3R5bGVUZXh0KGJpbmRpbmdTdHlsZSlcbiAgfVxuICByZXR1cm4gYmluZGluZ1N0eWxlXG59XG5cbi8qKlxuICogcGFyZW50IGNvbXBvbmVudCBzdHlsZSBzaG91bGQgYmUgYWZ0ZXIgY2hpbGQnc1xuICogc28gdGhhdCBwYXJlbnQgY29tcG9uZW50J3Mgc3R5bGUgY291bGQgb3ZlcnJpZGUgaXRcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGUgKHZub2RlLCBjaGVja0NoaWxkKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIHN0eWxlRGF0YTtcblxuICBpZiAoY2hlY2tDaGlsZCkge1xuICAgIHZhciBjaGlsZE5vZGUgPSB2bm9kZTtcbiAgICB3aGlsZSAoY2hpbGROb2RlLmNvbXBvbmVudEluc3RhbmNlKSB7XG4gICAgICBjaGlsZE5vZGUgPSBjaGlsZE5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlO1xuICAgICAgaWYgKFxuICAgICAgICBjaGlsZE5vZGUgJiYgY2hpbGROb2RlLmRhdGEgJiZcbiAgICAgICAgKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YShjaGlsZE5vZGUuZGF0YSkpXG4gICAgICApIHtcbiAgICAgICAgZXh0ZW5kKHJlcywgc3R5bGVEYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoKHN0eWxlRGF0YSA9IG5vcm1hbGl6ZVN0eWxlRGF0YSh2bm9kZS5kYXRhKSkpIHtcbiAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpO1xuICB9XG5cbiAgdmFyIHBhcmVudE5vZGUgPSB2bm9kZTtcbiAgd2hpbGUgKChwYXJlbnROb2RlID0gcGFyZW50Tm9kZS5wYXJlbnQpKSB7XG4gICAgaWYgKHBhcmVudE5vZGUuZGF0YSAmJiAoc3R5bGVEYXRhID0gbm9ybWFsaXplU3R5bGVEYXRhKHBhcmVudE5vZGUuZGF0YSkpKSB7XG4gICAgICBleHRlbmQocmVzLCBzdHlsZURhdGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbi8qICAqL1xuXG52YXIgY3NzVmFyUkUgPSAvXi0tLztcbnZhciBpbXBvcnRhbnRSRSA9IC9cXHMqIWltcG9ydGFudCQvO1xudmFyIHNldFByb3AgPSBmdW5jdGlvbiAoZWwsIG5hbWUsIHZhbCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGNzc1ZhclJFLnRlc3QobmFtZSkpIHtcbiAgICBlbC5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB2YWwpO1xuICB9IGVsc2UgaWYgKGltcG9ydGFudFJFLnRlc3QodmFsKSkge1xuICAgIGVsLnN0eWxlLnNldFByb3BlcnR5KGh5cGhlbmF0ZShuYW1lKSwgdmFsLnJlcGxhY2UoaW1wb3J0YW50UkUsICcnKSwgJ2ltcG9ydGFudCcpO1xuICB9IGVsc2Uge1xuICAgIHZhciBub3JtYWxpemVkTmFtZSA9IG5vcm1hbGl6ZShuYW1lKTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWwpKSB7XG4gICAgICAvLyBTdXBwb3J0IHZhbHVlcyBhcnJheSBjcmVhdGVkIGJ5IGF1dG9wcmVmaXhlciwgZS5nLlxuICAgICAgLy8ge2Rpc3BsYXk6IFtcIi13ZWJraXQtYm94XCIsIFwiLW1zLWZsZXhib3hcIiwgXCJmbGV4XCJdfVxuICAgICAgLy8gU2V0IHRoZW0gb25lIGJ5IG9uZSwgYW5kIHRoZSBicm93c2VyIHdpbGwgb25seSBzZXQgdGhvc2UgaXQgY2FuIHJlY29nbml6ZVxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBlbC5zdHlsZVtub3JtYWxpemVkTmFtZV0gPSB2YWxbaV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnN0eWxlW25vcm1hbGl6ZWROYW1lXSA9IHZhbDtcbiAgICB9XG4gIH1cbn07XG5cbnZhciB2ZW5kb3JOYW1lcyA9IFsnV2Via2l0JywgJ01veicsICdtcyddO1xuXG52YXIgZW1wdHlTdHlsZTtcbnZhciBub3JtYWxpemUgPSBjYWNoZWQoZnVuY3Rpb24gKHByb3ApIHtcbiAgZW1wdHlTdHlsZSA9IGVtcHR5U3R5bGUgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XG4gIHByb3AgPSBjYW1lbGl6ZShwcm9wKTtcbiAgaWYgKHByb3AgIT09ICdmaWx0ZXInICYmIChwcm9wIGluIGVtcHR5U3R5bGUpKSB7XG4gICAgcmV0dXJuIHByb3BcbiAgfVxuICB2YXIgY2FwTmFtZSA9IHByb3AuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBwcm9wLnNsaWNlKDEpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHZlbmRvck5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG5hbWUgPSB2ZW5kb3JOYW1lc1tpXSArIGNhcE5hbWU7XG4gICAgaWYgKG5hbWUgaW4gZW1wdHlTdHlsZSkge1xuICAgICAgcmV0dXJuIG5hbWVcbiAgICB9XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiB1cGRhdGVTdHlsZSAob2xkVm5vZGUsIHZub2RlKSB7XG4gIHZhciBkYXRhID0gdm5vZGUuZGF0YTtcbiAgdmFyIG9sZERhdGEgPSBvbGRWbm9kZS5kYXRhO1xuXG4gIGlmIChpc1VuZGVmKGRhdGEuc3RhdGljU3R5bGUpICYmIGlzVW5kZWYoZGF0YS5zdHlsZSkgJiZcbiAgICBpc1VuZGVmKG9sZERhdGEuc3RhdGljU3R5bGUpICYmIGlzVW5kZWYob2xkRGF0YS5zdHlsZSlcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY3VyLCBuYW1lO1xuICB2YXIgZWwgPSB2bm9kZS5lbG07XG4gIHZhciBvbGRTdGF0aWNTdHlsZSA9IG9sZERhdGEuc3RhdGljU3R5bGU7XG4gIHZhciBvbGRTdHlsZUJpbmRpbmcgPSBvbGREYXRhLm5vcm1hbGl6ZWRTdHlsZSB8fCBvbGREYXRhLnN0eWxlIHx8IHt9O1xuXG4gIC8vIGlmIHN0YXRpYyBzdHlsZSBleGlzdHMsIHN0eWxlYmluZGluZyBhbHJlYWR5IG1lcmdlZCBpbnRvIGl0IHdoZW4gZG9pbmcgbm9ybWFsaXplU3R5bGVEYXRhXG4gIHZhciBvbGRTdHlsZSA9IG9sZFN0YXRpY1N0eWxlIHx8IG9sZFN0eWxlQmluZGluZztcblxuICB2YXIgc3R5bGUgPSBub3JtYWxpemVTdHlsZUJpbmRpbmcodm5vZGUuZGF0YS5zdHlsZSkgfHwge307XG5cbiAgLy8gc3RvcmUgbm9ybWFsaXplZCBzdHlsZSB1bmRlciBhIGRpZmZlcmVudCBrZXkgZm9yIG5leHQgZGlmZlxuICAvLyBtYWtlIHN1cmUgdG8gY2xvbmUgaXQgaWYgaXQncyByZWFjdGl2ZSwgc2luY2UgdGhlIHVzZXIgbGlrZWx5IHdhbnRzXG4gIC8vIHRvIG11dGF0ZSBpdC5cbiAgdm5vZGUuZGF0YS5ub3JtYWxpemVkU3R5bGUgPSBpc0RlZihzdHlsZS5fX29iX18pXG4gICAgPyBleHRlbmQoe30sIHN0eWxlKVxuICAgIDogc3R5bGU7XG5cbiAgdmFyIG5ld1N0eWxlID0gZ2V0U3R5bGUodm5vZGUsIHRydWUpO1xuXG4gIGZvciAobmFtZSBpbiBvbGRTdHlsZSkge1xuICAgIGlmIChpc1VuZGVmKG5ld1N0eWxlW25hbWVdKSkge1xuICAgICAgc2V0UHJvcChlbCwgbmFtZSwgJycpO1xuICAgIH1cbiAgfVxuICBmb3IgKG5hbWUgaW4gbmV3U3R5bGUpIHtcbiAgICBjdXIgPSBuZXdTdHlsZVtuYW1lXTtcbiAgICBpZiAoY3VyICE9PSBvbGRTdHlsZVtuYW1lXSkge1xuICAgICAgLy8gaWU5IHNldHRpbmcgdG8gbnVsbCBoYXMgbm8gZWZmZWN0LCBtdXN0IHVzZSBlbXB0eSBzdHJpbmdcbiAgICAgIHNldFByb3AoZWwsIG5hbWUsIGN1ciA9PSBudWxsID8gJycgOiBjdXIpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgc3R5bGUgPSB7XG4gIGNyZWF0ZTogdXBkYXRlU3R5bGUsXG4gIHVwZGF0ZTogdXBkYXRlU3R5bGVcbn07XG5cbi8qICAqL1xuXG52YXIgd2hpdGVzcGFjZVJFID0gL1xccysvO1xuXG4vKipcbiAqIEFkZCBjbGFzcyB3aXRoIGNvbXBhdGliaWxpdHkgZm9yIFNWRyBzaW5jZSBjbGFzc0xpc3QgaXMgbm90IHN1cHBvcnRlZCBvblxuICogU1ZHIGVsZW1lbnRzIGluIElFXG4gKi9cbmZ1bmN0aW9uIGFkZENsYXNzIChlbCwgY2xzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIWNscyB8fCAhKGNscyA9IGNscy50cmltKCkpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgaWYgKGNscy5pbmRleE9mKCcgJykgPiAtMSkge1xuICAgICAgY2xzLnNwbGl0KHdoaXRlc3BhY2VSRSkuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LmFkZChjKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGN1ciA9IFwiIFwiICsgKGVsLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyBcIiBcIjtcbiAgICBpZiAoY3VyLmluZGV4T2YoJyAnICsgY2xzICsgJyAnKSA8IDApIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnY2xhc3MnLCAoY3VyICsgY2xzKS50cmltKCkpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlbW92ZSBjbGFzcyB3aXRoIGNvbXBhdGliaWxpdHkgZm9yIFNWRyBzaW5jZSBjbGFzc0xpc3QgaXMgbm90IHN1cHBvcnRlZCBvblxuICogU1ZHIGVsZW1lbnRzIGluIElFXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzIChlbCwgY2xzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIWNscyB8fCAhKGNscyA9IGNscy50cmltKCkpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoZWwuY2xhc3NMaXN0KSB7XG4gICAgaWYgKGNscy5pbmRleE9mKCcgJykgPiAtMSkge1xuICAgICAgY2xzLnNwbGl0KHdoaXRlc3BhY2VSRSkuZm9yRWFjaChmdW5jdGlvbiAoYykgeyByZXR1cm4gZWwuY2xhc3NMaXN0LnJlbW92ZShjKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xzKTtcbiAgICB9XG4gICAgaWYgKCFlbC5jbGFzc0xpc3QubGVuZ3RoKSB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBjdXIgPSBcIiBcIiArIChlbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgXCIgXCI7XG4gICAgdmFyIHRhciA9ICcgJyArIGNscyArICcgJztcbiAgICB3aGlsZSAoY3VyLmluZGV4T2YodGFyKSA+PSAwKSB7XG4gICAgICBjdXIgPSBjdXIucmVwbGFjZSh0YXIsICcgJyk7XG4gICAgfVxuICAgIGN1ciA9IGN1ci50cmltKCk7XG4gICAgaWYgKGN1cikge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCdjbGFzcycsIGN1cik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnY2xhc3MnKTtcbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIHJlc29sdmVUcmFuc2l0aW9uIChkZWYkJDEpIHtcbiAgaWYgKCFkZWYkJDEpIHtcbiAgICByZXR1cm5cbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAodHlwZW9mIGRlZiQkMSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgcmVzID0ge307XG4gICAgaWYgKGRlZiQkMS5jc3MgIT09IGZhbHNlKSB7XG4gICAgICBleHRlbmQocmVzLCBhdXRvQ3NzVHJhbnNpdGlvbihkZWYkJDEubmFtZSB8fCAndicpKTtcbiAgICB9XG4gICAgZXh0ZW5kKHJlcywgZGVmJCQxKTtcbiAgICByZXR1cm4gcmVzXG4gIH0gZWxzZSBpZiAodHlwZW9mIGRlZiQkMSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gYXV0b0Nzc1RyYW5zaXRpb24oZGVmJCQxKVxuICB9XG59XG5cbnZhciBhdXRvQ3NzVHJhbnNpdGlvbiA9IGNhY2hlZChmdW5jdGlvbiAobmFtZSkge1xuICByZXR1cm4ge1xuICAgIGVudGVyQ2xhc3M6IChuYW1lICsgXCItZW50ZXJcIiksXG4gICAgZW50ZXJUb0NsYXNzOiAobmFtZSArIFwiLWVudGVyLXRvXCIpLFxuICAgIGVudGVyQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItZW50ZXItYWN0aXZlXCIpLFxuICAgIGxlYXZlQ2xhc3M6IChuYW1lICsgXCItbGVhdmVcIiksXG4gICAgbGVhdmVUb0NsYXNzOiAobmFtZSArIFwiLWxlYXZlLXRvXCIpLFxuICAgIGxlYXZlQWN0aXZlQ2xhc3M6IChuYW1lICsgXCItbGVhdmUtYWN0aXZlXCIpXG4gIH1cbn0pO1xuXG52YXIgaGFzVHJhbnNpdGlvbiA9IGluQnJvd3NlciAmJiAhaXNJRTk7XG52YXIgVFJBTlNJVElPTiA9ICd0cmFuc2l0aW9uJztcbnZhciBBTklNQVRJT04gPSAnYW5pbWF0aW9uJztcblxuLy8gVHJhbnNpdGlvbiBwcm9wZXJ0eS9ldmVudCBzbmlmZmluZ1xudmFyIHRyYW5zaXRpb25Qcm9wID0gJ3RyYW5zaXRpb24nO1xudmFyIHRyYW5zaXRpb25FbmRFdmVudCA9ICd0cmFuc2l0aW9uZW5kJztcbnZhciBhbmltYXRpb25Qcm9wID0gJ2FuaW1hdGlvbic7XG52YXIgYW5pbWF0aW9uRW5kRXZlbnQgPSAnYW5pbWF0aW9uZW5kJztcbmlmIChoYXNUcmFuc2l0aW9uKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAod2luZG93Lm9udHJhbnNpdGlvbmVuZCA9PT0gdW5kZWZpbmVkICYmXG4gICAgd2luZG93Lm9ud2Via2l0dHJhbnNpdGlvbmVuZCAhPT0gdW5kZWZpbmVkXG4gICkge1xuICAgIHRyYW5zaXRpb25Qcm9wID0gJ1dlYmtpdFRyYW5zaXRpb24nO1xuICAgIHRyYW5zaXRpb25FbmRFdmVudCA9ICd3ZWJraXRUcmFuc2l0aW9uRW5kJztcbiAgfVxuICBpZiAod2luZG93Lm9uYW5pbWF0aW9uZW5kID09PSB1bmRlZmluZWQgJiZcbiAgICB3aW5kb3cub253ZWJraXRhbmltYXRpb25lbmQgIT09IHVuZGVmaW5lZFxuICApIHtcbiAgICBhbmltYXRpb25Qcm9wID0gJ1dlYmtpdEFuaW1hdGlvbic7XG4gICAgYW5pbWF0aW9uRW5kRXZlbnQgPSAnd2Via2l0QW5pbWF0aW9uRW5kJztcbiAgfVxufVxuXG4vLyBiaW5kaW5nIHRvIHdpbmRvdyBpcyBuZWNlc3NhcnkgdG8gbWFrZSBob3QgcmVsb2FkIHdvcmsgaW4gSUUgaW4gc3RyaWN0IG1vZGVcbnZhciByYWYgPSBpbkJyb3dzZXJcbiAgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gICAgPyB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KVxuICAgIDogc2V0VGltZW91dFxuICA6IC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovIGZ1bmN0aW9uIChmbikgeyByZXR1cm4gZm4oKTsgfTtcblxuZnVuY3Rpb24gbmV4dEZyYW1lIChmbikge1xuICByYWYoZnVuY3Rpb24gKCkge1xuICAgIHJhZihmbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRUcmFuc2l0aW9uQ2xhc3MgKGVsLCBjbHMpIHtcbiAgdmFyIHRyYW5zaXRpb25DbGFzc2VzID0gZWwuX3RyYW5zaXRpb25DbGFzc2VzIHx8IChlbC5fdHJhbnNpdGlvbkNsYXNzZXMgPSBbXSk7XG4gIGlmICh0cmFuc2l0aW9uQ2xhc3Nlcy5pbmRleE9mKGNscykgPCAwKSB7XG4gICAgdHJhbnNpdGlvbkNsYXNzZXMucHVzaChjbHMpO1xuICAgIGFkZENsYXNzKGVsLCBjbHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVRyYW5zaXRpb25DbGFzcyAoZWwsIGNscykge1xuICBpZiAoZWwuX3RyYW5zaXRpb25DbGFzc2VzKSB7XG4gICAgcmVtb3ZlKGVsLl90cmFuc2l0aW9uQ2xhc3NlcywgY2xzKTtcbiAgfVxuICByZW1vdmVDbGFzcyhlbCwgY2xzKTtcbn1cblxuZnVuY3Rpb24gd2hlblRyYW5zaXRpb25FbmRzIChcbiAgZWwsXG4gIGV4cGVjdGVkVHlwZSxcbiAgY2Jcbikge1xuICB2YXIgcmVmID0gZ2V0VHJhbnNpdGlvbkluZm8oZWwsIGV4cGVjdGVkVHlwZSk7XG4gIHZhciB0eXBlID0gcmVmLnR5cGU7XG4gIHZhciB0aW1lb3V0ID0gcmVmLnRpbWVvdXQ7XG4gIHZhciBwcm9wQ291bnQgPSByZWYucHJvcENvdW50O1xuICBpZiAoIXR5cGUpIHsgcmV0dXJuIGNiKCkgfVxuICB2YXIgZXZlbnQgPSB0eXBlID09PSBUUkFOU0lUSU9OID8gdHJhbnNpdGlvbkVuZEV2ZW50IDogYW5pbWF0aW9uRW5kRXZlbnQ7XG4gIHZhciBlbmRlZCA9IDA7XG4gIHZhciBlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xuICAgIGNiKCk7XG4gIH07XG4gIHZhciBvbkVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUudGFyZ2V0ID09PSBlbCkge1xuICAgICAgaWYgKCsrZW5kZWQgPj0gcHJvcENvdW50KSB7XG4gICAgICAgIGVuZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGVuZGVkIDwgcHJvcENvdW50KSB7XG4gICAgICBlbmQoKTtcbiAgICB9XG4gIH0sIHRpbWVvdXQgKyAxKTtcbiAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgb25FbmQpO1xufVxuXG52YXIgdHJhbnNmb3JtUkUgPSAvXFxiKHRyYW5zZm9ybXxhbGwpKCx8JCkvO1xuXG5mdW5jdGlvbiBnZXRUcmFuc2l0aW9uSW5mbyAoZWwsIGV4cGVjdGVkVHlwZSkge1xuICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpO1xuICAvLyBKU0RPTSBtYXkgcmV0dXJuIHVuZGVmaW5lZCBmb3IgdHJhbnNpdGlvbiBwcm9wZXJ0aWVzXG4gIHZhciB0cmFuc2l0aW9uRGVsYXlzID0gKHN0eWxlc1t0cmFuc2l0aW9uUHJvcCArICdEZWxheSddIHx8ICcnKS5zcGxpdCgnLCAnKTtcbiAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbnMgPSAoc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ0R1cmF0aW9uJ10gfHwgJycpLnNwbGl0KCcsICcpO1xuICB2YXIgdHJhbnNpdGlvblRpbWVvdXQgPSBnZXRUaW1lb3V0KHRyYW5zaXRpb25EZWxheXMsIHRyYW5zaXRpb25EdXJhdGlvbnMpO1xuICB2YXIgYW5pbWF0aW9uRGVsYXlzID0gKHN0eWxlc1thbmltYXRpb25Qcm9wICsgJ0RlbGF5J10gfHwgJycpLnNwbGl0KCcsICcpO1xuICB2YXIgYW5pbWF0aW9uRHVyYXRpb25zID0gKHN0eWxlc1thbmltYXRpb25Qcm9wICsgJ0R1cmF0aW9uJ10gfHwgJycpLnNwbGl0KCcsICcpO1xuICB2YXIgYW5pbWF0aW9uVGltZW91dCA9IGdldFRpbWVvdXQoYW5pbWF0aW9uRGVsYXlzLCBhbmltYXRpb25EdXJhdGlvbnMpO1xuXG4gIHZhciB0eXBlO1xuICB2YXIgdGltZW91dCA9IDA7XG4gIHZhciBwcm9wQ291bnQgPSAwO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGV4cGVjdGVkVHlwZSA9PT0gVFJBTlNJVElPTikge1xuICAgIGlmICh0cmFuc2l0aW9uVGltZW91dCA+IDApIHtcbiAgICAgIHR5cGUgPSBUUkFOU0lUSU9OO1xuICAgICAgdGltZW91dCA9IHRyYW5zaXRpb25UaW1lb3V0O1xuICAgICAgcHJvcENvdW50ID0gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGg7XG4gICAgfVxuICB9IGVsc2UgaWYgKGV4cGVjdGVkVHlwZSA9PT0gQU5JTUFUSU9OKSB7XG4gICAgaWYgKGFuaW1hdGlvblRpbWVvdXQgPiAwKSB7XG4gICAgICB0eXBlID0gQU5JTUFUSU9OO1xuICAgICAgdGltZW91dCA9IGFuaW1hdGlvblRpbWVvdXQ7XG4gICAgICBwcm9wQ291bnQgPSBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aW1lb3V0ID0gTWF0aC5tYXgodHJhbnNpdGlvblRpbWVvdXQsIGFuaW1hdGlvblRpbWVvdXQpO1xuICAgIHR5cGUgPSB0aW1lb3V0ID4gMFxuICAgICAgPyB0cmFuc2l0aW9uVGltZW91dCA+IGFuaW1hdGlvblRpbWVvdXRcbiAgICAgICAgPyBUUkFOU0lUSU9OXG4gICAgICAgIDogQU5JTUFUSU9OXG4gICAgICA6IG51bGw7XG4gICAgcHJvcENvdW50ID0gdHlwZVxuICAgICAgPyB0eXBlID09PSBUUkFOU0lUSU9OXG4gICAgICAgID8gdHJhbnNpdGlvbkR1cmF0aW9ucy5sZW5ndGhcbiAgICAgICAgOiBhbmltYXRpb25EdXJhdGlvbnMubGVuZ3RoXG4gICAgICA6IDA7XG4gIH1cbiAgdmFyIGhhc1RyYW5zZm9ybSA9XG4gICAgdHlwZSA9PT0gVFJBTlNJVElPTiAmJlxuICAgIHRyYW5zZm9ybVJFLnRlc3Qoc3R5bGVzW3RyYW5zaXRpb25Qcm9wICsgJ1Byb3BlcnR5J10pO1xuICByZXR1cm4ge1xuICAgIHR5cGU6IHR5cGUsXG4gICAgdGltZW91dDogdGltZW91dCxcbiAgICBwcm9wQ291bnQ6IHByb3BDb3VudCxcbiAgICBoYXNUcmFuc2Zvcm06IGhhc1RyYW5zZm9ybVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFRpbWVvdXQgKGRlbGF5cywgZHVyYXRpb25zKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHdoaWxlIChkZWxheXMubGVuZ3RoIDwgZHVyYXRpb25zLmxlbmd0aCkge1xuICAgIGRlbGF5cyA9IGRlbGF5cy5jb25jYXQoZGVsYXlzKTtcbiAgfVxuXG4gIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBkdXJhdGlvbnMubWFwKGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgcmV0dXJuIHRvTXMoZCkgKyB0b01zKGRlbGF5c1tpXSlcbiAgfSkpXG59XG5cbi8vIE9sZCB2ZXJzaW9ucyBvZiBDaHJvbWl1bSAoYmVsb3cgNjEuMC4zMTYzLjEwMCkgZm9ybWF0cyBmbG9hdGluZyBwb2ludGVyIG51bWJlcnNcbi8vIGluIGEgbG9jYWxlLWRlcGVuZGVudCB3YXksIHVzaW5nIGEgY29tbWEgaW5zdGVhZCBvZiBhIGRvdC5cbi8vIElmIGNvbW1hIGlzIG5vdCByZXBsYWNlZCB3aXRoIGEgZG90LCB0aGUgaW5wdXQgd2lsbCBiZSByb3VuZGVkIGRvd24gKGkuZS4gYWN0aW5nXG4vLyBhcyBhIGZsb29yIGZ1bmN0aW9uKSBjYXVzaW5nIHVuZXhwZWN0ZWQgYmVoYXZpb3JzXG5mdW5jdGlvbiB0b01zIChzKSB7XG4gIHJldHVybiBOdW1iZXIocy5zbGljZSgwLCAtMSkucmVwbGFjZSgnLCcsICcuJykpICogMTAwMFxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gZW50ZXIgKHZub2RlLCB0b2dnbGVEaXNwbGF5KSB7XG4gIHZhciBlbCA9IHZub2RlLmVsbTtcblxuICAvLyBjYWxsIGxlYXZlIGNhbGxiYWNrIG5vd1xuICBpZiAoaXNEZWYoZWwuX2xlYXZlQ2IpKSB7XG4gICAgZWwuX2xlYXZlQ2IuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgICBlbC5fbGVhdmVDYigpO1xuICB9XG5cbiAgdmFyIGRhdGEgPSByZXNvbHZlVHJhbnNpdGlvbih2bm9kZS5kYXRhLnRyYW5zaXRpb24pO1xuICBpZiAoaXNVbmRlZihkYXRhKSkge1xuICAgIHJldHVyblxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChpc0RlZihlbC5fZW50ZXJDYikgfHwgZWwubm9kZVR5cGUgIT09IDEpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBjc3MgPSBkYXRhLmNzcztcbiAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG4gIHZhciBlbnRlckNsYXNzID0gZGF0YS5lbnRlckNsYXNzO1xuICB2YXIgZW50ZXJUb0NsYXNzID0gZGF0YS5lbnRlclRvQ2xhc3M7XG4gIHZhciBlbnRlckFjdGl2ZUNsYXNzID0gZGF0YS5lbnRlckFjdGl2ZUNsYXNzO1xuICB2YXIgYXBwZWFyQ2xhc3MgPSBkYXRhLmFwcGVhckNsYXNzO1xuICB2YXIgYXBwZWFyVG9DbGFzcyA9IGRhdGEuYXBwZWFyVG9DbGFzcztcbiAgdmFyIGFwcGVhckFjdGl2ZUNsYXNzID0gZGF0YS5hcHBlYXJBY3RpdmVDbGFzcztcbiAgdmFyIGJlZm9yZUVudGVyID0gZGF0YS5iZWZvcmVFbnRlcjtcbiAgdmFyIGVudGVyID0gZGF0YS5lbnRlcjtcbiAgdmFyIGFmdGVyRW50ZXIgPSBkYXRhLmFmdGVyRW50ZXI7XG4gIHZhciBlbnRlckNhbmNlbGxlZCA9IGRhdGEuZW50ZXJDYW5jZWxsZWQ7XG4gIHZhciBiZWZvcmVBcHBlYXIgPSBkYXRhLmJlZm9yZUFwcGVhcjtcbiAgdmFyIGFwcGVhciA9IGRhdGEuYXBwZWFyO1xuICB2YXIgYWZ0ZXJBcHBlYXIgPSBkYXRhLmFmdGVyQXBwZWFyO1xuICB2YXIgYXBwZWFyQ2FuY2VsbGVkID0gZGF0YS5hcHBlYXJDYW5jZWxsZWQ7XG4gIHZhciBkdXJhdGlvbiA9IGRhdGEuZHVyYXRpb247XG5cbiAgLy8gYWN0aXZlSW5zdGFuY2Ugd2lsbCBhbHdheXMgYmUgdGhlIDx0cmFuc2l0aW9uPiBjb21wb25lbnQgbWFuYWdpbmcgdGhpc1xuICAvLyB0cmFuc2l0aW9uLiBPbmUgZWRnZSBjYXNlIHRvIGNoZWNrIGlzIHdoZW4gdGhlIDx0cmFuc2l0aW9uPiBpcyBwbGFjZWRcbiAgLy8gYXMgdGhlIHJvb3Qgbm9kZSBvZiBhIGNoaWxkIGNvbXBvbmVudC4gSW4gdGhhdCBjYXNlIHdlIG5lZWQgdG8gY2hlY2tcbiAgLy8gPHRyYW5zaXRpb24+J3MgcGFyZW50IGZvciBhcHBlYXIgY2hlY2suXG4gIHZhciBjb250ZXh0ID0gYWN0aXZlSW5zdGFuY2U7XG4gIHZhciB0cmFuc2l0aW9uTm9kZSA9IGFjdGl2ZUluc3RhbmNlLiR2bm9kZTtcbiAgd2hpbGUgKHRyYW5zaXRpb25Ob2RlICYmIHRyYW5zaXRpb25Ob2RlLnBhcmVudCkge1xuICAgIGNvbnRleHQgPSB0cmFuc2l0aW9uTm9kZS5jb250ZXh0O1xuICAgIHRyYW5zaXRpb25Ob2RlID0gdHJhbnNpdGlvbk5vZGUucGFyZW50O1xuICB9XG5cbiAgdmFyIGlzQXBwZWFyID0gIWNvbnRleHQuX2lzTW91bnRlZCB8fCAhdm5vZGUuaXNSb290SW5zZXJ0O1xuXG4gIGlmIChpc0FwcGVhciAmJiAhYXBwZWFyICYmIGFwcGVhciAhPT0gJycpIHtcbiAgICByZXR1cm5cbiAgfVxuXG4gIHZhciBzdGFydENsYXNzID0gaXNBcHBlYXIgJiYgYXBwZWFyQ2xhc3NcbiAgICA/IGFwcGVhckNsYXNzXG4gICAgOiBlbnRlckNsYXNzO1xuICB2YXIgYWN0aXZlQ2xhc3MgPSBpc0FwcGVhciAmJiBhcHBlYXJBY3RpdmVDbGFzc1xuICAgID8gYXBwZWFyQWN0aXZlQ2xhc3NcbiAgICA6IGVudGVyQWN0aXZlQ2xhc3M7XG4gIHZhciB0b0NsYXNzID0gaXNBcHBlYXIgJiYgYXBwZWFyVG9DbGFzc1xuICAgID8gYXBwZWFyVG9DbGFzc1xuICAgIDogZW50ZXJUb0NsYXNzO1xuXG4gIHZhciBiZWZvcmVFbnRlckhvb2sgPSBpc0FwcGVhclxuICAgID8gKGJlZm9yZUFwcGVhciB8fCBiZWZvcmVFbnRlcilcbiAgICA6IGJlZm9yZUVudGVyO1xuICB2YXIgZW50ZXJIb29rID0gaXNBcHBlYXJcbiAgICA/ICh0eXBlb2YgYXBwZWFyID09PSAnZnVuY3Rpb24nID8gYXBwZWFyIDogZW50ZXIpXG4gICAgOiBlbnRlcjtcbiAgdmFyIGFmdGVyRW50ZXJIb29rID0gaXNBcHBlYXJcbiAgICA/IChhZnRlckFwcGVhciB8fCBhZnRlckVudGVyKVxuICAgIDogYWZ0ZXJFbnRlcjtcbiAgdmFyIGVudGVyQ2FuY2VsbGVkSG9vayA9IGlzQXBwZWFyXG4gICAgPyAoYXBwZWFyQ2FuY2VsbGVkIHx8IGVudGVyQ2FuY2VsbGVkKVxuICAgIDogZW50ZXJDYW5jZWxsZWQ7XG5cbiAgdmFyIGV4cGxpY2l0RW50ZXJEdXJhdGlvbiA9IHRvTnVtYmVyKFxuICAgIGlzT2JqZWN0KGR1cmF0aW9uKVxuICAgICAgPyBkdXJhdGlvbi5lbnRlclxuICAgICAgOiBkdXJhdGlvblxuICApO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGV4cGxpY2l0RW50ZXJEdXJhdGlvbiAhPSBudWxsKSB7XG4gICAgY2hlY2tEdXJhdGlvbihleHBsaWNpdEVudGVyRHVyYXRpb24sICdlbnRlcicsIHZub2RlKTtcbiAgfVxuXG4gIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7XG4gIHZhciB1c2VyV2FudHNDb250cm9sID0gZ2V0SG9va0FyZ3VtZW50c0xlbmd0aChlbnRlckhvb2spO1xuXG4gIHZhciBjYiA9IGVsLl9lbnRlckNiID0gb25jZShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgdG9DbGFzcyk7XG4gICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIGFjdGl2ZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBzdGFydENsYXNzKTtcbiAgICAgIH1cbiAgICAgIGVudGVyQ2FuY2VsbGVkSG9vayAmJiBlbnRlckNhbmNlbGxlZEhvb2soZWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZnRlckVudGVySG9vayAmJiBhZnRlckVudGVySG9vayhlbCk7XG4gICAgfVxuICAgIGVsLl9lbnRlckNiID0gbnVsbDtcbiAgfSk7XG5cbiAgaWYgKCF2bm9kZS5kYXRhLnNob3cpIHtcbiAgICAvLyByZW1vdmUgcGVuZGluZyBsZWF2ZSBlbGVtZW50IG9uIGVudGVyIGJ5IGluamVjdGluZyBhbiBpbnNlcnQgaG9va1xuICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAnaW5zZXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XG4gICAgICB2YXIgcGVuZGluZ05vZGUgPSBwYXJlbnQgJiYgcGFyZW50Ll9wZW5kaW5nICYmIHBhcmVudC5fcGVuZGluZ1t2bm9kZS5rZXldO1xuICAgICAgaWYgKHBlbmRpbmdOb2RlICYmXG4gICAgICAgIHBlbmRpbmdOb2RlLnRhZyA9PT0gdm5vZGUudGFnICYmXG4gICAgICAgIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYlxuICAgICAgKSB7XG4gICAgICAgIHBlbmRpbmdOb2RlLmVsbS5fbGVhdmVDYigpO1xuICAgICAgfVxuICAgICAgZW50ZXJIb29rICYmIGVudGVySG9vayhlbCwgY2IpO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gc3RhcnQgZW50ZXIgdHJhbnNpdGlvblxuICBiZWZvcmVFbnRlckhvb2sgJiYgYmVmb3JlRW50ZXJIb29rKGVsKTtcbiAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuICAgIGFkZFRyYW5zaXRpb25DbGFzcyhlbCwgYWN0aXZlQ2xhc3MpO1xuICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICByZW1vdmVUcmFuc2l0aW9uQ2xhc3MoZWwsIHN0YXJ0Q2xhc3MpO1xuICAgICAgaWYgKCFjYi5jYW5jZWxsZWQpIHtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCB0b0NsYXNzKTtcbiAgICAgICAgaWYgKCF1c2VyV2FudHNDb250cm9sKSB7XG4gICAgICAgICAgaWYgKGlzVmFsaWREdXJhdGlvbihleHBsaWNpdEVudGVyRHVyYXRpb24pKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGNiLCBleHBsaWNpdEVudGVyRHVyYXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGNiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmICh2bm9kZS5kYXRhLnNob3cpIHtcbiAgICB0b2dnbGVEaXNwbGF5ICYmIHRvZ2dsZURpc3BsYXkoKTtcbiAgICBlbnRlckhvb2sgJiYgZW50ZXJIb29rKGVsLCBjYik7XG4gIH1cblxuICBpZiAoIWV4cGVjdHNDU1MgJiYgIXVzZXJXYW50c0NvbnRyb2wpIHtcbiAgICBjYigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGxlYXZlICh2bm9kZSwgcm0pIHtcbiAgdmFyIGVsID0gdm5vZGUuZWxtO1xuXG4gIC8vIGNhbGwgZW50ZXIgY2FsbGJhY2sgbm93XG4gIGlmIChpc0RlZihlbC5fZW50ZXJDYikpIHtcbiAgICBlbC5fZW50ZXJDYi5jYW5jZWxsZWQgPSB0cnVlO1xuICAgIGVsLl9lbnRlckNiKCk7XG4gIH1cblxuICB2YXIgZGF0YSA9IHJlc29sdmVUcmFuc2l0aW9uKHZub2RlLmRhdGEudHJhbnNpdGlvbik7XG4gIGlmIChpc1VuZGVmKGRhdGEpIHx8IGVsLm5vZGVUeXBlICE9PSAxKSB7XG4gICAgcmV0dXJuIHJtKClcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoaXNEZWYoZWwuX2xlYXZlQ2IpKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgY3NzID0gZGF0YS5jc3M7XG4gIHZhciB0eXBlID0gZGF0YS50eXBlO1xuICB2YXIgbGVhdmVDbGFzcyA9IGRhdGEubGVhdmVDbGFzcztcbiAgdmFyIGxlYXZlVG9DbGFzcyA9IGRhdGEubGVhdmVUb0NsYXNzO1xuICB2YXIgbGVhdmVBY3RpdmVDbGFzcyA9IGRhdGEubGVhdmVBY3RpdmVDbGFzcztcbiAgdmFyIGJlZm9yZUxlYXZlID0gZGF0YS5iZWZvcmVMZWF2ZTtcbiAgdmFyIGxlYXZlID0gZGF0YS5sZWF2ZTtcbiAgdmFyIGFmdGVyTGVhdmUgPSBkYXRhLmFmdGVyTGVhdmU7XG4gIHZhciBsZWF2ZUNhbmNlbGxlZCA9IGRhdGEubGVhdmVDYW5jZWxsZWQ7XG4gIHZhciBkZWxheUxlYXZlID0gZGF0YS5kZWxheUxlYXZlO1xuICB2YXIgZHVyYXRpb24gPSBkYXRhLmR1cmF0aW9uO1xuXG4gIHZhciBleHBlY3RzQ1NTID0gY3NzICE9PSBmYWxzZSAmJiAhaXNJRTk7XG4gIHZhciB1c2VyV2FudHNDb250cm9sID0gZ2V0SG9va0FyZ3VtZW50c0xlbmd0aChsZWF2ZSk7XG5cbiAgdmFyIGV4cGxpY2l0TGVhdmVEdXJhdGlvbiA9IHRvTnVtYmVyKFxuICAgIGlzT2JqZWN0KGR1cmF0aW9uKVxuICAgICAgPyBkdXJhdGlvbi5sZWF2ZVxuICAgICAgOiBkdXJhdGlvblxuICApO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGlzRGVmKGV4cGxpY2l0TGVhdmVEdXJhdGlvbikpIHtcbiAgICBjaGVja0R1cmF0aW9uKGV4cGxpY2l0TGVhdmVEdXJhdGlvbiwgJ2xlYXZlJywgdm5vZGUpO1xuICB9XG5cbiAgdmFyIGNiID0gZWwuX2xlYXZlQ2IgPSBvbmNlKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLl9wZW5kaW5nKSB7XG4gICAgICBlbC5wYXJlbnROb2RlLl9wZW5kaW5nW3Zub2RlLmtleV0gPSBudWxsO1xuICAgIH1cbiAgICBpZiAoZXhwZWN0c0NTUykge1xuICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xuICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICB9XG4gICAgaWYgKGNiLmNhbmNlbGxlZCkge1xuICAgICAgaWYgKGV4cGVjdHNDU1MpIHtcbiAgICAgICAgcmVtb3ZlVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUNsYXNzKTtcbiAgICAgIH1cbiAgICAgIGxlYXZlQ2FuY2VsbGVkICYmIGxlYXZlQ2FuY2VsbGVkKGVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm0oKTtcbiAgICAgIGFmdGVyTGVhdmUgJiYgYWZ0ZXJMZWF2ZShlbCk7XG4gICAgfVxuICAgIGVsLl9sZWF2ZUNiID0gbnVsbDtcbiAgfSk7XG5cbiAgaWYgKGRlbGF5TGVhdmUpIHtcbiAgICBkZWxheUxlYXZlKHBlcmZvcm1MZWF2ZSk7XG4gIH0gZWxzZSB7XG4gICAgcGVyZm9ybUxlYXZlKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwZXJmb3JtTGVhdmUgKCkge1xuICAgIC8vIHRoZSBkZWxheWVkIGxlYXZlIG1heSBoYXZlIGFscmVhZHkgYmVlbiBjYW5jZWxsZWRcbiAgICBpZiAoY2IuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgLy8gcmVjb3JkIGxlYXZpbmcgZWxlbWVudFxuICAgIGlmICghdm5vZGUuZGF0YS5zaG93ICYmIGVsLnBhcmVudE5vZGUpIHtcbiAgICAgIChlbC5wYXJlbnROb2RlLl9wZW5kaW5nIHx8IChlbC5wYXJlbnROb2RlLl9wZW5kaW5nID0ge30pKVsodm5vZGUua2V5KV0gPSB2bm9kZTtcbiAgICB9XG4gICAgYmVmb3JlTGVhdmUgJiYgYmVmb3JlTGVhdmUoZWwpO1xuICAgIGlmIChleHBlY3RzQ1NTKSB7XG4gICAgICBhZGRUcmFuc2l0aW9uQ2xhc3MoZWwsIGxlYXZlQ2xhc3MpO1xuICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZUFjdGl2ZUNsYXNzKTtcbiAgICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbGVhdmVDbGFzcyk7XG4gICAgICAgIGlmICghY2IuY2FuY2VsbGVkKSB7XG4gICAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBsZWF2ZVRvQ2xhc3MpO1xuICAgICAgICAgIGlmICghdXNlcldhbnRzQ29udHJvbCkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWREdXJhdGlvbihleHBsaWNpdExlYXZlRHVyYXRpb24pKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoY2IsIGV4cGxpY2l0TGVhdmVEdXJhdGlvbik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB3aGVuVHJhbnNpdGlvbkVuZHMoZWwsIHR5cGUsIGNiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBsZWF2ZSAmJiBsZWF2ZShlbCwgY2IpO1xuICAgIGlmICghZXhwZWN0c0NTUyAmJiAhdXNlcldhbnRzQ29udHJvbCkge1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gb25seSB1c2VkIGluIGRldiBtb2RlXG5mdW5jdGlvbiBjaGVja0R1cmF0aW9uICh2YWwsIG5hbWUsIHZub2RlKSB7XG4gIGlmICh0eXBlb2YgdmFsICE9PSAnbnVtYmVyJykge1xuICAgIHdhcm4oXG4gICAgICBcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBcIiArIG5hbWUgKyBcIiBkdXJhdGlvbiBpcyBub3QgYSB2YWxpZCBudW1iZXIgLSBcIiArXG4gICAgICBcImdvdCBcIiArIChKU09OLnN0cmluZ2lmeSh2YWwpKSArIFwiLlwiLFxuICAgICAgdm5vZGUuY29udGV4dFxuICAgICk7XG4gIH0gZWxzZSBpZiAoaXNOYU4odmFsKSkge1xuICAgIHdhcm4oXG4gICAgICBcIjx0cmFuc2l0aW9uPiBleHBsaWNpdCBcIiArIG5hbWUgKyBcIiBkdXJhdGlvbiBpcyBOYU4gLSBcIiArXG4gICAgICAndGhlIGR1cmF0aW9uIGV4cHJlc3Npb24gbWlnaHQgYmUgaW5jb3JyZWN0LicsXG4gICAgICB2bm9kZS5jb250ZXh0XG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1ZhbGlkRHVyYXRpb24gKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicgJiYgIWlzTmFOKHZhbClcbn1cblxuLyoqXG4gKiBOb3JtYWxpemUgYSB0cmFuc2l0aW9uIGhvb2sncyBhcmd1bWVudCBsZW5ndGguIFRoZSBob29rIG1heSBiZTpcbiAqIC0gYSBtZXJnZWQgaG9vayAoaW52b2tlcikgd2l0aCB0aGUgb3JpZ2luYWwgaW4gLmZuc1xuICogLSBhIHdyYXBwZWQgY29tcG9uZW50IG1ldGhvZCAoY2hlY2sgLl9sZW5ndGgpXG4gKiAtIGEgcGxhaW4gZnVuY3Rpb24gKC5sZW5ndGgpXG4gKi9cbmZ1bmN0aW9uIGdldEhvb2tBcmd1bWVudHNMZW5ndGggKGZuKSB7XG4gIGlmIChpc1VuZGVmKGZuKSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG4gIHZhciBpbnZva2VyRm5zID0gZm4uZm5zO1xuICBpZiAoaXNEZWYoaW52b2tlckZucykpIHtcbiAgICAvLyBpbnZva2VyXG4gICAgcmV0dXJuIGdldEhvb2tBcmd1bWVudHNMZW5ndGgoXG4gICAgICBBcnJheS5pc0FycmF5KGludm9rZXJGbnMpXG4gICAgICAgID8gaW52b2tlckZuc1swXVxuICAgICAgICA6IGludm9rZXJGbnNcbiAgICApXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIChmbi5fbGVuZ3RoIHx8IGZuLmxlbmd0aCkgPiAxXG4gIH1cbn1cblxuZnVuY3Rpb24gX2VudGVyIChfLCB2bm9kZSkge1xuICBpZiAodm5vZGUuZGF0YS5zaG93ICE9PSB0cnVlKSB7XG4gICAgZW50ZXIodm5vZGUpO1xuICB9XG59XG5cbnZhciB0cmFuc2l0aW9uID0gaW5Ccm93c2VyID8ge1xuICBjcmVhdGU6IF9lbnRlcixcbiAgYWN0aXZhdGU6IF9lbnRlcixcbiAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUkJDEgKHZub2RlLCBybSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKHZub2RlLmRhdGEuc2hvdyAhPT0gdHJ1ZSkge1xuICAgICAgbGVhdmUodm5vZGUsIHJtKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcm0oKTtcbiAgICB9XG4gIH1cbn0gOiB7fTtcblxudmFyIHBsYXRmb3JtTW9kdWxlcyA9IFtcbiAgYXR0cnMsXG4gIGtsYXNzLFxuICBldmVudHMsXG4gIGRvbVByb3BzLFxuICBzdHlsZSxcbiAgdHJhbnNpdGlvblxuXTtcblxuLyogICovXG5cbi8vIHRoZSBkaXJlY3RpdmUgbW9kdWxlIHNob3VsZCBiZSBhcHBsaWVkIGxhc3QsIGFmdGVyIGFsbFxuLy8gYnVpbHQtaW4gbW9kdWxlcyBoYXZlIGJlZW4gYXBwbGllZC5cbnZhciBtb2R1bGVzID0gcGxhdGZvcm1Nb2R1bGVzLmNvbmNhdChiYXNlTW9kdWxlcyk7XG5cbnZhciBwYXRjaCA9IGNyZWF0ZVBhdGNoRnVuY3Rpb24oeyBub2RlT3BzOiBub2RlT3BzLCBtb2R1bGVzOiBtb2R1bGVzIH0pO1xuXG4vKipcbiAqIE5vdCB0eXBlIGNoZWNraW5nIHRoaXMgZmlsZSBiZWNhdXNlIGZsb3cgZG9lc24ndCBsaWtlIGF0dGFjaGluZ1xuICogcHJvcGVydGllcyB0byBFbGVtZW50cy5cbiAqL1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbmlmIChpc0lFOSkge1xuICAvLyBodHRwOi8vd3d3Lm1hdHRzNDExLmNvbS9wb3N0L2ludGVybmV0LWV4cGxvcmVyLTktb25pbnB1dC9cbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0aW9uY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgaWYgKGVsICYmIGVsLnZtb2RlbCkge1xuICAgICAgdHJpZ2dlcihlbCwgJ2lucHV0Jyk7XG4gICAgfVxuICB9KTtcbn1cblxudmFyIGRpcmVjdGl2ZSA9IHtcbiAgaW5zZXJ0ZWQ6IGZ1bmN0aW9uIGluc2VydGVkIChlbCwgYmluZGluZywgdm5vZGUsIG9sZFZub2RlKSB7XG4gICAgaWYgKHZub2RlLnRhZyA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIC8vICM2OTAzXG4gICAgICBpZiAob2xkVm5vZGUuZWxtICYmICFvbGRWbm9kZS5lbG0uX3ZPcHRpb25zKSB7XG4gICAgICAgIG1lcmdlVk5vZGVIb29rKHZub2RlLCAncG9zdHBhdGNoJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGRpcmVjdGl2ZS5jb21wb25lbnRVcGRhdGVkKGVsLCBiaW5kaW5nLCB2bm9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLmNvbnRleHQpO1xuICAgICAgfVxuICAgICAgZWwuX3ZPcHRpb25zID0gW10ubWFwLmNhbGwoZWwub3B0aW9ucywgZ2V0VmFsdWUpO1xuICAgIH0gZWxzZSBpZiAodm5vZGUudGFnID09PSAndGV4dGFyZWEnIHx8IGlzVGV4dElucHV0VHlwZShlbC50eXBlKSkge1xuICAgICAgZWwuX3ZNb2RpZmllcnMgPSBiaW5kaW5nLm1vZGlmaWVycztcbiAgICAgIGlmICghYmluZGluZy5tb2RpZmllcnMubGF6eSkge1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjb21wb3NpdGlvbnN0YXJ0Jywgb25Db21wb3NpdGlvblN0YXJ0KTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY29tcG9zaXRpb25lbmQnLCBvbkNvbXBvc2l0aW9uRW5kKTtcbiAgICAgICAgLy8gU2FmYXJpIDwgMTAuMiAmIFVJV2ViVmlldyBkb2Vzbid0IGZpcmUgY29tcG9zaXRpb25lbmQgd2hlblxuICAgICAgICAvLyBzd2l0Y2hpbmcgZm9jdXMgYmVmb3JlIGNvbmZpcm1pbmcgY29tcG9zaXRpb24gY2hvaWNlXG4gICAgICAgIC8vIHRoaXMgYWxzbyBmaXhlcyB0aGUgaXNzdWUgd2hlcmUgc29tZSBicm93c2VycyBlLmcuIGlPUyBDaHJvbWVcbiAgICAgICAgLy8gZmlyZXMgXCJjaGFuZ2VcIiBpbnN0ZWFkIG9mIFwiaW5wdXRcIiBvbiBhdXRvY29tcGxldGUuXG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIG9uQ29tcG9zaXRpb25FbmQpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGlzSUU5KSB7XG4gICAgICAgICAgZWwudm1vZGVsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBjb21wb25lbnRVcGRhdGVkOiBmdW5jdGlvbiBjb21wb25lbnRVcGRhdGVkIChlbCwgYmluZGluZywgdm5vZGUpIHtcbiAgICBpZiAodm5vZGUudGFnID09PSAnc2VsZWN0Jykge1xuICAgICAgc2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZub2RlLmNvbnRleHQpO1xuICAgICAgLy8gaW4gY2FzZSB0aGUgb3B0aW9ucyByZW5kZXJlZCBieSB2LWZvciBoYXZlIGNoYW5nZWQsXG4gICAgICAvLyBpdCdzIHBvc3NpYmxlIHRoYXQgdGhlIHZhbHVlIGlzIG91dC1vZi1zeW5jIHdpdGggdGhlIHJlbmRlcmVkIG9wdGlvbnMuXG4gICAgICAvLyBkZXRlY3Qgc3VjaCBjYXNlcyBhbmQgZmlsdGVyIG91dCB2YWx1ZXMgdGhhdCBubyBsb25nZXIgaGFzIGEgbWF0Y2hpbmdcbiAgICAgIC8vIG9wdGlvbiBpbiB0aGUgRE9NLlxuICAgICAgdmFyIHByZXZPcHRpb25zID0gZWwuX3ZPcHRpb25zO1xuICAgICAgdmFyIGN1ck9wdGlvbnMgPSBlbC5fdk9wdGlvbnMgPSBbXS5tYXAuY2FsbChlbC5vcHRpb25zLCBnZXRWYWx1ZSk7XG4gICAgICBpZiAoY3VyT3B0aW9ucy5zb21lKGZ1bmN0aW9uIChvLCBpKSB7IHJldHVybiAhbG9vc2VFcXVhbChvLCBwcmV2T3B0aW9uc1tpXSk7IH0pKSB7XG4gICAgICAgIC8vIHRyaWdnZXIgY2hhbmdlIGV2ZW50IGlmXG4gICAgICAgIC8vIG5vIG1hdGNoaW5nIG9wdGlvbiBmb3VuZCBmb3IgYXQgbGVhc3Qgb25lIHZhbHVlXG4gICAgICAgIHZhciBuZWVkUmVzZXQgPSBlbC5tdWx0aXBsZVxuICAgICAgICAgID8gYmluZGluZy52YWx1ZS5zb21lKGZ1bmN0aW9uICh2KSB7IHJldHVybiBoYXNOb01hdGNoaW5nT3B0aW9uKHYsIGN1ck9wdGlvbnMpOyB9KVxuICAgICAgICAgIDogYmluZGluZy52YWx1ZSAhPT0gYmluZGluZy5vbGRWYWx1ZSAmJiBoYXNOb01hdGNoaW5nT3B0aW9uKGJpbmRpbmcudmFsdWUsIGN1ck9wdGlvbnMpO1xuICAgICAgICBpZiAobmVlZFJlc2V0KSB7XG4gICAgICAgICAgdHJpZ2dlcihlbCwgJ2NoYW5nZScpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBzZXRTZWxlY3RlZCAoZWwsIGJpbmRpbmcsIHZtKSB7XG4gIGFjdHVhbGx5U2V0U2VsZWN0ZWQoZWwsIGJpbmRpbmcsIHZtKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChpc0lFIHx8IGlzRWRnZSkge1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgYWN0dWFsbHlTZXRTZWxlY3RlZChlbCwgYmluZGluZywgdm0pO1xuICAgIH0sIDApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFjdHVhbGx5U2V0U2VsZWN0ZWQgKGVsLCBiaW5kaW5nLCB2bSkge1xuICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlO1xuICB2YXIgaXNNdWx0aXBsZSA9IGVsLm11bHRpcGxlO1xuICBpZiAoaXNNdWx0aXBsZSAmJiAhQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHdhcm4oXG4gICAgICBcIjxzZWxlY3QgbXVsdGlwbGUgdi1tb2RlbD1cXFwiXCIgKyAoYmluZGluZy5leHByZXNzaW9uKSArIFwiXFxcIj4gXCIgK1xuICAgICAgXCJleHBlY3RzIGFuIEFycmF5IHZhbHVlIGZvciBpdHMgYmluZGluZywgYnV0IGdvdCBcIiArIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLnNsaWNlKDgsIC0xKSksXG4gICAgICB2bVxuICAgICk7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHNlbGVjdGVkLCBvcHRpb247XG4gIGZvciAodmFyIGkgPSAwLCBsID0gZWwub3B0aW9ucy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBvcHRpb24gPSBlbC5vcHRpb25zW2ldO1xuICAgIGlmIChpc011bHRpcGxlKSB7XG4gICAgICBzZWxlY3RlZCA9IGxvb3NlSW5kZXhPZih2YWx1ZSwgZ2V0VmFsdWUob3B0aW9uKSkgPiAtMTtcbiAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQgIT09IHNlbGVjdGVkKSB7XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHNlbGVjdGVkO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAobG9vc2VFcXVhbChnZXRWYWx1ZShvcHRpb24pLCB2YWx1ZSkpIHtcbiAgICAgICAgaWYgKGVsLnNlbGVjdGVkSW5kZXggIT09IGkpIHtcbiAgICAgICAgICBlbC5zZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKCFpc011bHRpcGxlKSB7XG4gICAgZWwuc2VsZWN0ZWRJbmRleCA9IC0xO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhhc05vTWF0Y2hpbmdPcHRpb24gKHZhbHVlLCBvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zLmV2ZXJ5KGZ1bmN0aW9uIChvKSB7IHJldHVybiAhbG9vc2VFcXVhbChvLCB2YWx1ZSk7IH0pXG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlIChvcHRpb24pIHtcbiAgcmV0dXJuICdfdmFsdWUnIGluIG9wdGlvblxuICAgID8gb3B0aW9uLl92YWx1ZVxuICAgIDogb3B0aW9uLnZhbHVlXG59XG5cbmZ1bmN0aW9uIG9uQ29tcG9zaXRpb25TdGFydCAoZSkge1xuICBlLnRhcmdldC5jb21wb3NpbmcgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBvbkNvbXBvc2l0aW9uRW5kIChlKSB7XG4gIC8vIHByZXZlbnQgdHJpZ2dlcmluZyBhbiBpbnB1dCBldmVudCBmb3Igbm8gcmVhc29uXG4gIGlmICghZS50YXJnZXQuY29tcG9zaW5nKSB7IHJldHVybiB9XG4gIGUudGFyZ2V0LmNvbXBvc2luZyA9IGZhbHNlO1xuICB0cmlnZ2VyKGUudGFyZ2V0LCAnaW5wdXQnKTtcbn1cblxuZnVuY3Rpb24gdHJpZ2dlciAoZWwsIHR5cGUpIHtcbiAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnSFRNTEV2ZW50cycpO1xuICBlLmluaXRFdmVudCh0eXBlLCB0cnVlLCB0cnVlKTtcbiAgZWwuZGlzcGF0Y2hFdmVudChlKTtcbn1cblxuLyogICovXG5cbi8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgcG9zc2libGUgdHJhbnNpdGlvbiBkZWZpbmVkIGluc2lkZSB0aGUgY29tcG9uZW50IHJvb3RcbmZ1bmN0aW9uIGxvY2F0ZU5vZGUgKHZub2RlKSB7XG4gIHJldHVybiB2bm9kZS5jb21wb25lbnRJbnN0YW5jZSAmJiAoIXZub2RlLmRhdGEgfHwgIXZub2RlLmRhdGEudHJhbnNpdGlvbilcbiAgICA/IGxvY2F0ZU5vZGUodm5vZGUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlKVxuICAgIDogdm5vZGVcbn1cblxudmFyIHNob3cgPSB7XG4gIGJpbmQ6IGZ1bmN0aW9uIGJpbmQgKGVsLCByZWYsIHZub2RlKSB7XG4gICAgdmFyIHZhbHVlID0gcmVmLnZhbHVlO1xuXG4gICAgdm5vZGUgPSBsb2NhdGVOb2RlKHZub2RlKTtcbiAgICB2YXIgdHJhbnNpdGlvbiQkMSA9IHZub2RlLmRhdGEgJiYgdm5vZGUuZGF0YS50cmFuc2l0aW9uO1xuICAgIHZhciBvcmlnaW5hbERpc3BsYXkgPSBlbC5fX3ZPcmlnaW5hbERpc3BsYXkgPVxuICAgICAgZWwuc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnID8gJycgOiBlbC5zdHlsZS5kaXNwbGF5O1xuICAgIGlmICh2YWx1ZSAmJiB0cmFuc2l0aW9uJCQxKSB7XG4gICAgICB2bm9kZS5kYXRhLnNob3cgPSB0cnVlO1xuICAgICAgZW50ZXIodm5vZGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9IG9yaWdpbmFsRGlzcGxheTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gdmFsdWUgPyBvcmlnaW5hbERpc3BsYXkgOiAnbm9uZSc7XG4gICAgfVxuICB9LFxuXG4gIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlIChlbCwgcmVmLCB2bm9kZSkge1xuICAgIHZhciB2YWx1ZSA9IHJlZi52YWx1ZTtcbiAgICB2YXIgb2xkVmFsdWUgPSByZWYub2xkVmFsdWU7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIXZhbHVlID09PSAhb2xkVmFsdWUpIHsgcmV0dXJuIH1cbiAgICB2bm9kZSA9IGxvY2F0ZU5vZGUodm5vZGUpO1xuICAgIHZhciB0cmFuc2l0aW9uJCQxID0gdm5vZGUuZGF0YSAmJiB2bm9kZS5kYXRhLnRyYW5zaXRpb247XG4gICAgaWYgKHRyYW5zaXRpb24kJDEpIHtcbiAgICAgIHZub2RlLmRhdGEuc2hvdyA9IHRydWU7XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZW50ZXIodm5vZGUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlYXZlKHZub2RlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnN0eWxlLmRpc3BsYXkgPSB2YWx1ZSA/IGVsLl9fdk9yaWdpbmFsRGlzcGxheSA6ICdub25lJztcbiAgICB9XG4gIH0sXG5cbiAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQgKFxuICAgIGVsLFxuICAgIGJpbmRpbmcsXG4gICAgdm5vZGUsXG4gICAgb2xkVm5vZGUsXG4gICAgaXNEZXN0cm95XG4gICkge1xuICAgIGlmICghaXNEZXN0cm95KSB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gZWwuX192T3JpZ2luYWxEaXNwbGF5O1xuICAgIH1cbiAgfVxufTtcblxudmFyIHBsYXRmb3JtRGlyZWN0aXZlcyA9IHtcbiAgbW9kZWw6IGRpcmVjdGl2ZSxcbiAgc2hvdzogc2hvd1xufTtcblxuLyogICovXG5cbnZhciB0cmFuc2l0aW9uUHJvcHMgPSB7XG4gIG5hbWU6IFN0cmluZyxcbiAgYXBwZWFyOiBCb29sZWFuLFxuICBjc3M6IEJvb2xlYW4sXG4gIG1vZGU6IFN0cmluZyxcbiAgdHlwZTogU3RyaW5nLFxuICBlbnRlckNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlQ2xhc3M6IFN0cmluZyxcbiAgZW50ZXJUb0NsYXNzOiBTdHJpbmcsXG4gIGxlYXZlVG9DbGFzczogU3RyaW5nLFxuICBlbnRlckFjdGl2ZUNsYXNzOiBTdHJpbmcsXG4gIGxlYXZlQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyQWN0aXZlQ2xhc3M6IFN0cmluZyxcbiAgYXBwZWFyVG9DbGFzczogU3RyaW5nLFxuICBkdXJhdGlvbjogW051bWJlciwgU3RyaW5nLCBPYmplY3RdXG59O1xuXG4vLyBpbiBjYXNlIHRoZSBjaGlsZCBpcyBhbHNvIGFuIGFic3RyYWN0IGNvbXBvbmVudCwgZS5nLiA8a2VlcC1hbGl2ZT5cbi8vIHdlIHdhbnQgdG8gcmVjdXJzaXZlbHkgcmV0cmlldmUgdGhlIHJlYWwgY29tcG9uZW50IHRvIGJlIHJlbmRlcmVkXG5mdW5jdGlvbiBnZXRSZWFsQ2hpbGQgKHZub2RlKSB7XG4gIHZhciBjb21wT3B0aW9ucyA9IHZub2RlICYmIHZub2RlLmNvbXBvbmVudE9wdGlvbnM7XG4gIGlmIChjb21wT3B0aW9ucyAmJiBjb21wT3B0aW9ucy5DdG9yLm9wdGlvbnMuYWJzdHJhY3QpIHtcbiAgICByZXR1cm4gZ2V0UmVhbENoaWxkKGdldEZpcnN0Q29tcG9uZW50Q2hpbGQoY29tcE9wdGlvbnMuY2hpbGRyZW4pKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiB2bm9kZVxuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RUcmFuc2l0aW9uRGF0YSAoY29tcCkge1xuICB2YXIgZGF0YSA9IHt9O1xuICB2YXIgb3B0aW9ucyA9IGNvbXAuJG9wdGlvbnM7XG4gIC8vIHByb3BzXG4gIGZvciAodmFyIGtleSBpbiBvcHRpb25zLnByb3BzRGF0YSkge1xuICAgIGRhdGFba2V5XSA9IGNvbXBba2V5XTtcbiAgfVxuICAvLyBldmVudHMuXG4gIC8vIGV4dHJhY3QgbGlzdGVuZXJzIGFuZCBwYXNzIHRoZW0gZGlyZWN0bHkgdG8gdGhlIHRyYW5zaXRpb24gbWV0aG9kc1xuICB2YXIgbGlzdGVuZXJzID0gb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO1xuICBmb3IgKHZhciBrZXkkMSBpbiBsaXN0ZW5lcnMpIHtcbiAgICBkYXRhW2NhbWVsaXplKGtleSQxKV0gPSBsaXN0ZW5lcnNba2V5JDFdO1xuICB9XG4gIHJldHVybiBkYXRhXG59XG5cbmZ1bmN0aW9uIHBsYWNlaG9sZGVyIChoLCByYXdDaGlsZCkge1xuICBpZiAoL1xcZC1rZWVwLWFsaXZlJC8udGVzdChyYXdDaGlsZC50YWcpKSB7XG4gICAgcmV0dXJuIGgoJ2tlZXAtYWxpdmUnLCB7XG4gICAgICBwcm9wczogcmF3Q2hpbGQuY29tcG9uZW50T3B0aW9ucy5wcm9wc0RhdGFcbiAgICB9KVxuICB9XG59XG5cbmZ1bmN0aW9uIGhhc1BhcmVudFRyYW5zaXRpb24gKHZub2RlKSB7XG4gIHdoaWxlICgodm5vZGUgPSB2bm9kZS5wYXJlbnQpKSB7XG4gICAgaWYgKHZub2RlLmRhdGEudHJhbnNpdGlvbikge1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNTYW1lQ2hpbGQgKGNoaWxkLCBvbGRDaGlsZCkge1xuICByZXR1cm4gb2xkQ2hpbGQua2V5ID09PSBjaGlsZC5rZXkgJiYgb2xkQ2hpbGQudGFnID09PSBjaGlsZC50YWdcbn1cblxudmFyIGlzTm90VGV4dE5vZGUgPSBmdW5jdGlvbiAoYykgeyByZXR1cm4gYy50YWcgfHwgaXNBc3luY1BsYWNlaG9sZGVyKGMpOyB9O1xuXG52YXIgaXNWU2hvd0RpcmVjdGl2ZSA9IGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLm5hbWUgPT09ICdzaG93JzsgfTtcblxudmFyIFRyYW5zaXRpb24gPSB7XG4gIG5hbWU6ICd0cmFuc2l0aW9uJyxcbiAgcHJvcHM6IHRyYW5zaXRpb25Qcm9wcyxcbiAgYWJzdHJhY3Q6IHRydWUsXG5cbiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIgKGgpIHtcbiAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuJHNsb3RzLmRlZmF1bHQ7XG4gICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gZmlsdGVyIG91dCB0ZXh0IG5vZGVzIChwb3NzaWJsZSB3aGl0ZXNwYWNlcylcbiAgICBjaGlsZHJlbiA9IGNoaWxkcmVuLmZpbHRlcihpc05vdFRleHROb2RlKTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gd2FybiBtdWx0aXBsZSBlbGVtZW50c1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGNoaWxkcmVuLmxlbmd0aCA+IDEpIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICc8dHJhbnNpdGlvbj4gY2FuIG9ubHkgYmUgdXNlZCBvbiBhIHNpbmdsZSBlbGVtZW50LiBVc2UgJyArXG4gICAgICAgICc8dHJhbnNpdGlvbi1ncm91cD4gZm9yIGxpc3RzLicsXG4gICAgICAgIHRoaXMuJHBhcmVudFxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgbW9kZSA9IHRoaXMubW9kZTtcblxuICAgIC8vIHdhcm4gaW52YWxpZCBtb2RlXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgIG1vZGUgJiYgbW9kZSAhPT0gJ2luLW91dCcgJiYgbW9kZSAhPT0gJ291dC1pbidcbiAgICApIHtcbiAgICAgIHdhcm4oXG4gICAgICAgICdpbnZhbGlkIDx0cmFuc2l0aW9uPiBtb2RlOiAnICsgbW9kZSxcbiAgICAgICAgdGhpcy4kcGFyZW50XG4gICAgICApO1xuICAgIH1cblxuICAgIHZhciByYXdDaGlsZCA9IGNoaWxkcmVuWzBdO1xuXG4gICAgLy8gaWYgdGhpcyBpcyBhIGNvbXBvbmVudCByb290IG5vZGUgYW5kIHRoZSBjb21wb25lbnQnc1xuICAgIC8vIHBhcmVudCBjb250YWluZXIgbm9kZSBhbHNvIGhhcyB0cmFuc2l0aW9uLCBza2lwLlxuICAgIGlmIChoYXNQYXJlbnRUcmFuc2l0aW9uKHRoaXMuJHZub2RlKSkge1xuICAgICAgcmV0dXJuIHJhd0NoaWxkXG4gICAgfVxuXG4gICAgLy8gYXBwbHkgdHJhbnNpdGlvbiBkYXRhIHRvIGNoaWxkXG4gICAgLy8gdXNlIGdldFJlYWxDaGlsZCgpIHRvIGlnbm9yZSBhYnN0cmFjdCBjb21wb25lbnRzIGUuZy4ga2VlcC1hbGl2ZVxuICAgIHZhciBjaGlsZCA9IGdldFJlYWxDaGlsZChyYXdDaGlsZCk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFjaGlsZCkge1xuICAgICAgcmV0dXJuIHJhd0NoaWxkXG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2xlYXZpbmcpIHtcbiAgICAgIHJldHVybiBwbGFjZWhvbGRlcihoLCByYXdDaGlsZClcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgYSBrZXkgdGhhdCBpcyB1bmlxdWUgdG8gdGhlIHZub2RlIHR5cGUgYW5kIHRvIHRoaXMgdHJhbnNpdGlvblxuICAgIC8vIGNvbXBvbmVudCBpbnN0YW5jZS4gVGhpcyBrZXkgd2lsbCBiZSB1c2VkIHRvIHJlbW92ZSBwZW5kaW5nIGxlYXZpbmcgbm9kZXNcbiAgICAvLyBkdXJpbmcgZW50ZXJpbmcuXG4gICAgdmFyIGlkID0gXCJfX3RyYW5zaXRpb24tXCIgKyAodGhpcy5fdWlkKSArIFwiLVwiO1xuICAgIGNoaWxkLmtleSA9IGNoaWxkLmtleSA9PSBudWxsXG4gICAgICA/IGNoaWxkLmlzQ29tbWVudFxuICAgICAgICA/IGlkICsgJ2NvbW1lbnQnXG4gICAgICAgIDogaWQgKyBjaGlsZC50YWdcbiAgICAgIDogaXNQcmltaXRpdmUoY2hpbGQua2V5KVxuICAgICAgICA/IChTdHJpbmcoY2hpbGQua2V5KS5pbmRleE9mKGlkKSA9PT0gMCA/IGNoaWxkLmtleSA6IGlkICsgY2hpbGQua2V5KVxuICAgICAgICA6IGNoaWxkLmtleTtcblxuICAgIHZhciBkYXRhID0gKGNoaWxkLmRhdGEgfHwgKGNoaWxkLmRhdGEgPSB7fSkpLnRyYW5zaXRpb24gPSBleHRyYWN0VHJhbnNpdGlvbkRhdGEodGhpcyk7XG4gICAgdmFyIG9sZFJhd0NoaWxkID0gdGhpcy5fdm5vZGU7XG4gICAgdmFyIG9sZENoaWxkID0gZ2V0UmVhbENoaWxkKG9sZFJhd0NoaWxkKTtcblxuICAgIC8vIG1hcmsgdi1zaG93XG4gICAgLy8gc28gdGhhdCB0aGUgdHJhbnNpdGlvbiBtb2R1bGUgY2FuIGhhbmQgb3ZlciB0aGUgY29udHJvbCB0byB0aGUgZGlyZWN0aXZlXG4gICAgaWYgKGNoaWxkLmRhdGEuZGlyZWN0aXZlcyAmJiBjaGlsZC5kYXRhLmRpcmVjdGl2ZXMuc29tZShpc1ZTaG93RGlyZWN0aXZlKSkge1xuICAgICAgY2hpbGQuZGF0YS5zaG93ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBvbGRDaGlsZCAmJlxuICAgICAgb2xkQ2hpbGQuZGF0YSAmJlxuICAgICAgIWlzU2FtZUNoaWxkKGNoaWxkLCBvbGRDaGlsZCkgJiZcbiAgICAgICFpc0FzeW5jUGxhY2Vob2xkZXIob2xkQ2hpbGQpICYmXG4gICAgICAvLyAjNjY4NyBjb21wb25lbnQgcm9vdCBpcyBhIGNvbW1lbnQgbm9kZVxuICAgICAgIShvbGRDaGlsZC5jb21wb25lbnRJbnN0YW5jZSAmJiBvbGRDaGlsZC5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUuaXNDb21tZW50KVxuICAgICkge1xuICAgICAgLy8gcmVwbGFjZSBvbGQgY2hpbGQgdHJhbnNpdGlvbiBkYXRhIHdpdGggZnJlc2ggb25lXG4gICAgICAvLyBpbXBvcnRhbnQgZm9yIGR5bmFtaWMgdHJhbnNpdGlvbnMhXG4gICAgICB2YXIgb2xkRGF0YSA9IG9sZENoaWxkLmRhdGEudHJhbnNpdGlvbiA9IGV4dGVuZCh7fSwgZGF0YSk7XG4gICAgICAvLyBoYW5kbGUgdHJhbnNpdGlvbiBtb2RlXG4gICAgICBpZiAobW9kZSA9PT0gJ291dC1pbicpIHtcbiAgICAgICAgLy8gcmV0dXJuIHBsYWNlaG9sZGVyIG5vZGUgYW5kIHF1ZXVlIHVwZGF0ZSB3aGVuIGxlYXZlIGZpbmlzaGVzXG4gICAgICAgIHRoaXMuX2xlYXZpbmcgPSB0cnVlO1xuICAgICAgICBtZXJnZVZOb2RlSG9vayhvbGREYXRhLCAnYWZ0ZXJMZWF2ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB0aGlzJDEuX2xlYXZpbmcgPSBmYWxzZTtcbiAgICAgICAgICB0aGlzJDEuJGZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGxhY2Vob2xkZXIoaCwgcmF3Q2hpbGQpXG4gICAgICB9IGVsc2UgaWYgKG1vZGUgPT09ICdpbi1vdXQnKSB7XG4gICAgICAgIGlmIChpc0FzeW5jUGxhY2Vob2xkZXIoY2hpbGQpKSB7XG4gICAgICAgICAgcmV0dXJuIG9sZFJhd0NoaWxkXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGF5ZWRMZWF2ZTtcbiAgICAgICAgdmFyIHBlcmZvcm1MZWF2ZSA9IGZ1bmN0aW9uICgpIHsgZGVsYXllZExlYXZlKCk7IH07XG4gICAgICAgIG1lcmdlVk5vZGVIb29rKGRhdGEsICdhZnRlckVudGVyJywgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgbWVyZ2VWTm9kZUhvb2soZGF0YSwgJ2VudGVyQ2FuY2VsbGVkJywgcGVyZm9ybUxlYXZlKTtcbiAgICAgICAgbWVyZ2VWTm9kZUhvb2sob2xkRGF0YSwgJ2RlbGF5TGVhdmUnLCBmdW5jdGlvbiAobGVhdmUpIHsgZGVsYXllZExlYXZlID0gbGVhdmU7IH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiByYXdDaGlsZFxuICB9XG59O1xuXG4vKiAgKi9cblxudmFyIHByb3BzID0gZXh0ZW5kKHtcbiAgdGFnOiBTdHJpbmcsXG4gIG1vdmVDbGFzczogU3RyaW5nXG59LCB0cmFuc2l0aW9uUHJvcHMpO1xuXG5kZWxldGUgcHJvcHMubW9kZTtcblxudmFyIFRyYW5zaXRpb25Hcm91cCA9IHtcbiAgcHJvcHM6IHByb3BzLFxuXG4gIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCAoKSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgdXBkYXRlID0gdGhpcy5fdXBkYXRlO1xuICAgIHRoaXMuX3VwZGF0ZSA9IGZ1bmN0aW9uICh2bm9kZSwgaHlkcmF0aW5nKSB7XG4gICAgICB2YXIgcmVzdG9yZUFjdGl2ZUluc3RhbmNlID0gc2V0QWN0aXZlSW5zdGFuY2UodGhpcyQxKTtcbiAgICAgIC8vIGZvcmNlIHJlbW92aW5nIHBhc3NcbiAgICAgIHRoaXMkMS5fX3BhdGNoX18oXG4gICAgICAgIHRoaXMkMS5fdm5vZGUsXG4gICAgICAgIHRoaXMkMS5rZXB0LFxuICAgICAgICBmYWxzZSwgLy8gaHlkcmF0aW5nXG4gICAgICAgIHRydWUgLy8gcmVtb3ZlT25seSAoIWltcG9ydGFudCwgYXZvaWRzIHVubmVjZXNzYXJ5IG1vdmVzKVxuICAgICAgKTtcbiAgICAgIHRoaXMkMS5fdm5vZGUgPSB0aGlzJDEua2VwdDtcbiAgICAgIHJlc3RvcmVBY3RpdmVJbnN0YW5jZSgpO1xuICAgICAgdXBkYXRlLmNhbGwodGhpcyQxLCB2bm9kZSwgaHlkcmF0aW5nKTtcbiAgICB9O1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyIChoKSB7XG4gICAgdmFyIHRhZyA9IHRoaXMudGFnIHx8IHRoaXMuJHZub2RlLmRhdGEudGFnIHx8ICdzcGFuJztcbiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB2YXIgcHJldkNoaWxkcmVuID0gdGhpcy5wcmV2Q2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgIHZhciByYXdDaGlsZHJlbiA9IHRoaXMuJHNsb3RzLmRlZmF1bHQgfHwgW107XG4gICAgdmFyIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbiA9IFtdO1xuICAgIHZhciB0cmFuc2l0aW9uRGF0YSA9IGV4dHJhY3RUcmFuc2l0aW9uRGF0YSh0aGlzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmF3Q2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjID0gcmF3Q2hpbGRyZW5baV07XG4gICAgICBpZiAoYy50YWcpIHtcbiAgICAgICAgaWYgKGMua2V5ICE9IG51bGwgJiYgU3RyaW5nKGMua2V5KS5pbmRleE9mKCdfX3ZsaXN0JykgIT09IDApIHtcbiAgICAgICAgICBjaGlsZHJlbi5wdXNoKGMpO1xuICAgICAgICAgIG1hcFtjLmtleV0gPSBjXG4gICAgICAgICAgOyhjLmRhdGEgfHwgKGMuZGF0YSA9IHt9KSkudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25EYXRhO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICB2YXIgb3B0cyA9IGMuY29tcG9uZW50T3B0aW9ucztcbiAgICAgICAgICB2YXIgbmFtZSA9IG9wdHMgPyAob3B0cy5DdG9yLm9wdGlvbnMubmFtZSB8fCBvcHRzLnRhZyB8fCAnJykgOiBjLnRhZztcbiAgICAgICAgICB3YXJuKChcIjx0cmFuc2l0aW9uLWdyb3VwPiBjaGlsZHJlbiBtdXN0IGJlIGtleWVkOiA8XCIgKyBuYW1lICsgXCI+XCIpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwcmV2Q2hpbGRyZW4pIHtcbiAgICAgIHZhciBrZXB0ID0gW107XG4gICAgICB2YXIgcmVtb3ZlZCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgcHJldkNoaWxkcmVuLmxlbmd0aDsgaSQxKyspIHtcbiAgICAgICAgdmFyIGMkMSA9IHByZXZDaGlsZHJlbltpJDFdO1xuICAgICAgICBjJDEuZGF0YS50cmFuc2l0aW9uID0gdHJhbnNpdGlvbkRhdGE7XG4gICAgICAgIGMkMS5kYXRhLnBvcyA9IGMkMS5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGlmIChtYXBbYyQxLmtleV0pIHtcbiAgICAgICAgICBrZXB0LnB1c2goYyQxKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZW1vdmVkLnB1c2goYyQxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5rZXB0ID0gaCh0YWcsIG51bGwsIGtlcHQpO1xuICAgICAgdGhpcy5yZW1vdmVkID0gcmVtb3ZlZDtcbiAgICB9XG5cbiAgICByZXR1cm4gaCh0YWcsIG51bGwsIGNoaWxkcmVuKVxuICB9LFxuXG4gIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQgKCkge1xuICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJldkNoaWxkcmVuO1xuICAgIHZhciBtb3ZlQ2xhc3MgPSB0aGlzLm1vdmVDbGFzcyB8fCAoKHRoaXMubmFtZSB8fCAndicpICsgJy1tb3ZlJyk7XG4gICAgaWYgKCFjaGlsZHJlbi5sZW5ndGggfHwgIXRoaXMuaGFzTW92ZShjaGlsZHJlblswXS5lbG0sIG1vdmVDbGFzcykpIHtcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vIHdlIGRpdmlkZSB0aGUgd29yayBpbnRvIHRocmVlIGxvb3BzIHRvIGF2b2lkIG1peGluZyBET00gcmVhZHMgYW5kIHdyaXRlc1xuICAgIC8vIGluIGVhY2ggaXRlcmF0aW9uIC0gd2hpY2ggaGVscHMgcHJldmVudCBsYXlvdXQgdGhyYXNoaW5nLlxuICAgIGNoaWxkcmVuLmZvckVhY2goY2FsbFBlbmRpbmdDYnMpO1xuICAgIGNoaWxkcmVuLmZvckVhY2gocmVjb3JkUG9zaXRpb24pO1xuICAgIGNoaWxkcmVuLmZvckVhY2goYXBwbHlUcmFuc2xhdGlvbik7XG5cbiAgICAvLyBmb3JjZSByZWZsb3cgdG8gcHV0IGV2ZXJ5dGhpbmcgaW4gcG9zaXRpb25cbiAgICAvLyBhc3NpZ24gdG8gdGhpcyB0byBhdm9pZCBiZWluZyByZW1vdmVkIGluIHRyZWUtc2hha2luZ1xuICAgIC8vICRmbG93LWRpc2FibGUtbGluZVxuICAgIHRoaXMuX3JlZmxvdyA9IGRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0O1xuXG4gICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKGMuZGF0YS5tb3ZlZCkge1xuICAgICAgICB2YXIgZWwgPSBjLmVsbTtcbiAgICAgICAgdmFyIHMgPSBlbC5zdHlsZTtcbiAgICAgICAgYWRkVHJhbnNpdGlvbkNsYXNzKGVsLCBtb3ZlQ2xhc3MpO1xuICAgICAgICBzLnRyYW5zZm9ybSA9IHMuV2Via2l0VHJhbnNmb3JtID0gcy50cmFuc2l0aW9uRHVyYXRpb24gPSAnJztcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0cmFuc2l0aW9uRW5kRXZlbnQsIGVsLl9tb3ZlQ2IgPSBmdW5jdGlvbiBjYiAoZSkge1xuICAgICAgICAgIGlmIChlICYmIGUudGFyZ2V0ICE9PSBlbCkge1xuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZSB8fCAvdHJhbnNmb3JtJC8udGVzdChlLnByb3BlcnR5TmFtZSkpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZEV2ZW50LCBjYik7XG4gICAgICAgICAgICBlbC5fbW92ZUNiID0gbnVsbDtcbiAgICAgICAgICAgIHJlbW92ZVRyYW5zaXRpb25DbGFzcyhlbCwgbW92ZUNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIG1ldGhvZHM6IHtcbiAgICBoYXNNb3ZlOiBmdW5jdGlvbiBoYXNNb3ZlIChlbCwgbW92ZUNsYXNzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICghaGFzVHJhbnNpdGlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHRoaXMuX2hhc01vdmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hhc01vdmVcbiAgICAgIH1cbiAgICAgIC8vIERldGVjdCB3aGV0aGVyIGFuIGVsZW1lbnQgd2l0aCB0aGUgbW92ZSBjbGFzcyBhcHBsaWVkIGhhc1xuICAgICAgLy8gQ1NTIHRyYW5zaXRpb25zLiBTaW5jZSB0aGUgZWxlbWVudCBtYXkgYmUgaW5zaWRlIGFuIGVudGVyaW5nXG4gICAgICAvLyB0cmFuc2l0aW9uIGF0IHRoaXMgdmVyeSBtb21lbnQsIHdlIG1ha2UgYSBjbG9uZSBvZiBpdCBhbmQgcmVtb3ZlXG4gICAgICAvLyBhbGwgb3RoZXIgdHJhbnNpdGlvbiBjbGFzc2VzIGFwcGxpZWQgdG8gZW5zdXJlIG9ubHkgdGhlIG1vdmUgY2xhc3NcbiAgICAgIC8vIGlzIGFwcGxpZWQuXG4gICAgICB2YXIgY2xvbmUgPSBlbC5jbG9uZU5vZGUoKTtcbiAgICAgIGlmIChlbC5fdHJhbnNpdGlvbkNsYXNzZXMpIHtcbiAgICAgICAgZWwuX3RyYW5zaXRpb25DbGFzc2VzLmZvckVhY2goZnVuY3Rpb24gKGNscykgeyByZW1vdmVDbGFzcyhjbG9uZSwgY2xzKTsgfSk7XG4gICAgICB9XG4gICAgICBhZGRDbGFzcyhjbG9uZSwgbW92ZUNsYXNzKTtcbiAgICAgIGNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB0aGlzLiRlbC5hcHBlbmRDaGlsZChjbG9uZSk7XG4gICAgICB2YXIgaW5mbyA9IGdldFRyYW5zaXRpb25JbmZvKGNsb25lKTtcbiAgICAgIHRoaXMuJGVsLnJlbW92ZUNoaWxkKGNsb25lKTtcbiAgICAgIHJldHVybiAodGhpcy5faGFzTW92ZSA9IGluZm8uaGFzVHJhbnNmb3JtKVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gY2FsbFBlbmRpbmdDYnMgKGMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChjLmVsbS5fbW92ZUNiKSB7XG4gICAgYy5lbG0uX21vdmVDYigpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoYy5lbG0uX2VudGVyQ2IpIHtcbiAgICBjLmVsbS5fZW50ZXJDYigpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlY29yZFBvc2l0aW9uIChjKSB7XG4gIGMuZGF0YS5uZXdQb3MgPSBjLmVsbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbn1cblxuZnVuY3Rpb24gYXBwbHlUcmFuc2xhdGlvbiAoYykge1xuICB2YXIgb2xkUG9zID0gYy5kYXRhLnBvcztcbiAgdmFyIG5ld1BvcyA9IGMuZGF0YS5uZXdQb3M7XG4gIHZhciBkeCA9IG9sZFBvcy5sZWZ0IC0gbmV3UG9zLmxlZnQ7XG4gIHZhciBkeSA9IG9sZFBvcy50b3AgLSBuZXdQb3MudG9wO1xuICBpZiAoZHggfHwgZHkpIHtcbiAgICBjLmRhdGEubW92ZWQgPSB0cnVlO1xuICAgIHZhciBzID0gYy5lbG0uc3R5bGU7XG4gICAgcy50cmFuc2Zvcm0gPSBzLldlYmtpdFRyYW5zZm9ybSA9IFwidHJhbnNsYXRlKFwiICsgZHggKyBcInB4LFwiICsgZHkgKyBcInB4KVwiO1xuICAgIHMudHJhbnNpdGlvbkR1cmF0aW9uID0gJzBzJztcbiAgfVxufVxuXG52YXIgcGxhdGZvcm1Db21wb25lbnRzID0ge1xuICBUcmFuc2l0aW9uOiBUcmFuc2l0aW9uLFxuICBUcmFuc2l0aW9uR3JvdXA6IFRyYW5zaXRpb25Hcm91cFxufTtcblxuLyogICovXG5cbi8vIGluc3RhbGwgcGxhdGZvcm0gc3BlY2lmaWMgdXRpbHNcblZ1ZS5jb25maWcubXVzdFVzZVByb3AgPSBtdXN0VXNlUHJvcDtcblZ1ZS5jb25maWcuaXNSZXNlcnZlZFRhZyA9IGlzUmVzZXJ2ZWRUYWc7XG5WdWUuY29uZmlnLmlzUmVzZXJ2ZWRBdHRyID0gaXNSZXNlcnZlZEF0dHI7XG5WdWUuY29uZmlnLmdldFRhZ05hbWVzcGFjZSA9IGdldFRhZ05hbWVzcGFjZTtcblZ1ZS5jb25maWcuaXNVbmtub3duRWxlbWVudCA9IGlzVW5rbm93bkVsZW1lbnQ7XG5cbi8vIGluc3RhbGwgcGxhdGZvcm0gcnVudGltZSBkaXJlY3RpdmVzICYgY29tcG9uZW50c1xuZXh0ZW5kKFZ1ZS5vcHRpb25zLmRpcmVjdGl2ZXMsIHBsYXRmb3JtRGlyZWN0aXZlcyk7XG5leHRlbmQoVnVlLm9wdGlvbnMuY29tcG9uZW50cywgcGxhdGZvcm1Db21wb25lbnRzKTtcblxuLy8gaW5zdGFsbCBwbGF0Zm9ybSBwYXRjaCBmdW5jdGlvblxuVnVlLnByb3RvdHlwZS5fX3BhdGNoX18gPSBpbkJyb3dzZXIgPyBwYXRjaCA6IG5vb3A7XG5cbi8vIHB1YmxpYyBtb3VudCBtZXRob2RcblZ1ZS5wcm90b3R5cGUuJG1vdW50ID0gZnVuY3Rpb24gKFxuICBlbCxcbiAgaHlkcmF0aW5nXG4pIHtcbiAgZWwgPSBlbCAmJiBpbkJyb3dzZXIgPyBxdWVyeShlbCkgOiB1bmRlZmluZWQ7XG4gIHJldHVybiBtb3VudENvbXBvbmVudCh0aGlzLCBlbCwgaHlkcmF0aW5nKVxufTtcblxuLy8gZGV2dG9vbHMgZ2xvYmFsIGhvb2tcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5pZiAoaW5Ccm93c2VyKSB7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIGlmIChjb25maWcuZGV2dG9vbHMpIHtcbiAgICAgIGlmIChkZXZ0b29scykge1xuICAgICAgICBkZXZ0b29scy5lbWl0KCdpbml0JywgVnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICd0ZXN0J1xuICAgICAgKSB7XG4gICAgICAgIGNvbnNvbGVbY29uc29sZS5pbmZvID8gJ2luZm8nIDogJ2xvZyddKFxuICAgICAgICAgICdEb3dubG9hZCB0aGUgVnVlIERldnRvb2xzIGV4dGVuc2lvbiBmb3IgYSBiZXR0ZXIgZGV2ZWxvcG1lbnQgZXhwZXJpZW5jZTpcXG4nICtcbiAgICAgICAgICAnaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1kZXZ0b29scydcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcgJiZcbiAgICAgIGNvbmZpZy5wcm9kdWN0aW9uVGlwICE9PSBmYWxzZSAmJlxuICAgICAgdHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnXG4gICAgKSB7XG4gICAgICBjb25zb2xlW2NvbnNvbGUuaW5mbyA/ICdpbmZvJyA6ICdsb2cnXShcbiAgICAgICAgXCJZb3UgYXJlIHJ1bm5pbmcgVnVlIGluIGRldmVsb3BtZW50IG1vZGUuXFxuXCIgK1xuICAgICAgICBcIk1ha2Ugc3VyZSB0byB0dXJuIG9uIHByb2R1Y3Rpb24gbW9kZSB3aGVuIGRlcGxveWluZyBmb3IgcHJvZHVjdGlvbi5cXG5cIiArXG4gICAgICAgIFwiU2VlIG1vcmUgdGlwcyBhdCBodHRwczovL3Z1ZWpzLm9yZy9ndWlkZS9kZXBsb3ltZW50Lmh0bWxcIlxuICAgICAgKTtcbiAgICB9XG4gIH0sIDApO1xufVxuXG4vKiAgKi9cblxudmFyIGRlZmF1bHRUYWdSRSA9IC9cXHtcXHsoKD86LnxcXHI/XFxuKSs/KVxcfVxcfS9nO1xudmFyIHJlZ2V4RXNjYXBlUkUgPSAvWy0uKis/XiR7fSgpfFtcXF1cXC9cXFxcXS9nO1xuXG52YXIgYnVpbGRSZWdleCA9IGNhY2hlZChmdW5jdGlvbiAoZGVsaW1pdGVycykge1xuICB2YXIgb3BlbiA9IGRlbGltaXRlcnNbMF0ucmVwbGFjZShyZWdleEVzY2FwZVJFLCAnXFxcXCQmJyk7XG4gIHZhciBjbG9zZSA9IGRlbGltaXRlcnNbMV0ucmVwbGFjZShyZWdleEVzY2FwZVJFLCAnXFxcXCQmJyk7XG4gIHJldHVybiBuZXcgUmVnRXhwKG9wZW4gKyAnKCg/Oi58XFxcXG4pKz8pJyArIGNsb3NlLCAnZycpXG59KTtcblxuXG5cbmZ1bmN0aW9uIHBhcnNlVGV4dCAoXG4gIHRleHQsXG4gIGRlbGltaXRlcnNcbikge1xuICB2YXIgdGFnUkUgPSBkZWxpbWl0ZXJzID8gYnVpbGRSZWdleChkZWxpbWl0ZXJzKSA6IGRlZmF1bHRUYWdSRTtcbiAgaWYgKCF0YWdSRS50ZXN0KHRleHQpKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIHRva2VucyA9IFtdO1xuICB2YXIgcmF3VG9rZW5zID0gW107XG4gIHZhciBsYXN0SW5kZXggPSB0YWdSRS5sYXN0SW5kZXggPSAwO1xuICB2YXIgbWF0Y2gsIGluZGV4LCB0b2tlblZhbHVlO1xuICB3aGlsZSAoKG1hdGNoID0gdGFnUkUuZXhlYyh0ZXh0KSkpIHtcbiAgICBpbmRleCA9IG1hdGNoLmluZGV4O1xuICAgIC8vIHB1c2ggdGV4dCB0b2tlblxuICAgIGlmIChpbmRleCA+IGxhc3RJbmRleCkge1xuICAgICAgcmF3VG9rZW5zLnB1c2godG9rZW5WYWx1ZSA9IHRleHQuc2xpY2UobGFzdEluZGV4LCBpbmRleCkpO1xuICAgICAgdG9rZW5zLnB1c2goSlNPTi5zdHJpbmdpZnkodG9rZW5WYWx1ZSkpO1xuICAgIH1cbiAgICAvLyB0YWcgdG9rZW5cbiAgICB2YXIgZXhwID0gcGFyc2VGaWx0ZXJzKG1hdGNoWzFdLnRyaW0oKSk7XG4gICAgdG9rZW5zLnB1c2goKFwiX3MoXCIgKyBleHAgKyBcIilcIikpO1xuICAgIHJhd1Rva2Vucy5wdXNoKHsgJ0BiaW5kaW5nJzogZXhwIH0pO1xuICAgIGxhc3RJbmRleCA9IGluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoO1xuICB9XG4gIGlmIChsYXN0SW5kZXggPCB0ZXh0Lmxlbmd0aCkge1xuICAgIHJhd1Rva2Vucy5wdXNoKHRva2VuVmFsdWUgPSB0ZXh0LnNsaWNlKGxhc3RJbmRleCkpO1xuICAgIHRva2Vucy5wdXNoKEpTT04uc3RyaW5naWZ5KHRva2VuVmFsdWUpKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIGV4cHJlc3Npb246IHRva2Vucy5qb2luKCcrJyksXG4gICAgdG9rZW5zOiByYXdUb2tlbnNcbiAgfVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gdHJhbnNmb3JtTm9kZSAoZWwsIG9wdGlvbnMpIHtcbiAgdmFyIHdhcm4gPSBvcHRpb25zLndhcm4gfHwgYmFzZVdhcm47XG4gIHZhciBzdGF0aWNDbGFzcyA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICdjbGFzcycpO1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzdGF0aWNDbGFzcykge1xuICAgIHZhciByZXMgPSBwYXJzZVRleHQoc3RhdGljQ2xhc3MsIG9wdGlvbnMuZGVsaW1pdGVycyk7XG4gICAgaWYgKHJlcykge1xuICAgICAgd2FybihcbiAgICAgICAgXCJjbGFzcz1cXFwiXCIgKyBzdGF0aWNDbGFzcyArIFwiXFxcIjogXCIgK1xuICAgICAgICAnSW50ZXJwb2xhdGlvbiBpbnNpZGUgYXR0cmlidXRlcyBoYXMgYmVlbiByZW1vdmVkLiAnICtcbiAgICAgICAgJ1VzZSB2LWJpbmQgb3IgdGhlIGNvbG9uIHNob3J0aGFuZCBpbnN0ZWFkLiBGb3IgZXhhbXBsZSwgJyArXG4gICAgICAgICdpbnN0ZWFkIG9mIDxkaXYgY2xhc3M9XCJ7eyB2YWwgfX1cIj4sIHVzZSA8ZGl2IDpjbGFzcz1cInZhbFwiPi4nLFxuICAgICAgICBlbC5yYXdBdHRyc01hcFsnY2xhc3MnXVxuICAgICAgKTtcbiAgICB9XG4gIH1cbiAgaWYgKHN0YXRpY0NsYXNzKSB7XG4gICAgZWwuc3RhdGljQ2xhc3MgPSBKU09OLnN0cmluZ2lmeShzdGF0aWNDbGFzcyk7XG4gIH1cbiAgdmFyIGNsYXNzQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAnY2xhc3MnLCBmYWxzZSAvKiBnZXRTdGF0aWMgKi8pO1xuICBpZiAoY2xhc3NCaW5kaW5nKSB7XG4gICAgZWwuY2xhc3NCaW5kaW5nID0gY2xhc3NCaW5kaW5nO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdlbkRhdGEgKGVsKSB7XG4gIHZhciBkYXRhID0gJyc7XG4gIGlmIChlbC5zdGF0aWNDbGFzcykge1xuICAgIGRhdGEgKz0gXCJzdGF0aWNDbGFzczpcIiArIChlbC5zdGF0aWNDbGFzcykgKyBcIixcIjtcbiAgfVxuICBpZiAoZWwuY2xhc3NCaW5kaW5nKSB7XG4gICAgZGF0YSArPSBcImNsYXNzOlwiICsgKGVsLmNsYXNzQmluZGluZykgKyBcIixcIjtcbiAgfVxuICByZXR1cm4gZGF0YVxufVxuXG52YXIga2xhc3MkMSA9IHtcbiAgc3RhdGljS2V5czogWydzdGF0aWNDbGFzcyddLFxuICB0cmFuc2Zvcm1Ob2RlOiB0cmFuc2Zvcm1Ob2RlLFxuICBnZW5EYXRhOiBnZW5EYXRhXG59O1xuXG4vKiAgKi9cblxuZnVuY3Rpb24gdHJhbnNmb3JtTm9kZSQxIChlbCwgb3B0aW9ucykge1xuICB2YXIgd2FybiA9IG9wdGlvbnMud2FybiB8fCBiYXNlV2FybjtcbiAgdmFyIHN0YXRpY1N0eWxlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3N0eWxlJyk7XG4gIGlmIChzdGF0aWNTdHlsZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB2YXIgcmVzID0gcGFyc2VUZXh0KHN0YXRpY1N0eWxlLCBvcHRpb25zLmRlbGltaXRlcnMpO1xuICAgICAgaWYgKHJlcykge1xuICAgICAgICB3YXJuKFxuICAgICAgICAgIFwic3R5bGU9XFxcIlwiICsgc3RhdGljU3R5bGUgKyBcIlxcXCI6IFwiICtcbiAgICAgICAgICAnSW50ZXJwb2xhdGlvbiBpbnNpZGUgYXR0cmlidXRlcyBoYXMgYmVlbiByZW1vdmVkLiAnICtcbiAgICAgICAgICAnVXNlIHYtYmluZCBvciB0aGUgY29sb24gc2hvcnRoYW5kIGluc3RlYWQuIEZvciBleGFtcGxlLCAnICtcbiAgICAgICAgICAnaW5zdGVhZCBvZiA8ZGl2IHN0eWxlPVwie3sgdmFsIH19XCI+LCB1c2UgPGRpdiA6c3R5bGU9XCJ2YWxcIj4uJyxcbiAgICAgICAgICBlbC5yYXdBdHRyc01hcFsnc3R5bGUnXVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBlbC5zdGF0aWNTdHlsZSA9IEpTT04uc3RyaW5naWZ5KHBhcnNlU3R5bGVUZXh0KHN0YXRpY1N0eWxlKSk7XG4gIH1cblxuICB2YXIgc3R5bGVCaW5kaW5nID0gZ2V0QmluZGluZ0F0dHIoZWwsICdzdHlsZScsIGZhbHNlIC8qIGdldFN0YXRpYyAqLyk7XG4gIGlmIChzdHlsZUJpbmRpbmcpIHtcbiAgICBlbC5zdHlsZUJpbmRpbmcgPSBzdHlsZUJpbmRpbmc7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuRGF0YSQxIChlbCkge1xuICB2YXIgZGF0YSA9ICcnO1xuICBpZiAoZWwuc3RhdGljU3R5bGUpIHtcbiAgICBkYXRhICs9IFwic3RhdGljU3R5bGU6XCIgKyAoZWwuc3RhdGljU3R5bGUpICsgXCIsXCI7XG4gIH1cbiAgaWYgKGVsLnN0eWxlQmluZGluZykge1xuICAgIGRhdGEgKz0gXCJzdHlsZTooXCIgKyAoZWwuc3R5bGVCaW5kaW5nKSArIFwiKSxcIjtcbiAgfVxuICByZXR1cm4gZGF0YVxufVxuXG52YXIgc3R5bGUkMSA9IHtcbiAgc3RhdGljS2V5czogWydzdGF0aWNTdHlsZSddLFxuICB0cmFuc2Zvcm1Ob2RlOiB0cmFuc2Zvcm1Ob2RlJDEsXG4gIGdlbkRhdGE6IGdlbkRhdGEkMVxufTtcblxuLyogICovXG5cbnZhciBkZWNvZGVyO1xuXG52YXIgaGUgPSB7XG4gIGRlY29kZTogZnVuY3Rpb24gZGVjb2RlIChodG1sKSB7XG4gICAgZGVjb2RlciA9IGRlY29kZXIgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGVjb2Rlci5pbm5lckhUTUwgPSBodG1sO1xuICAgIHJldHVybiBkZWNvZGVyLnRleHRDb250ZW50XG4gIH1cbn07XG5cbi8qICAqL1xuXG52YXIgaXNVbmFyeVRhZyA9IG1ha2VNYXAoXG4gICdhcmVhLGJhc2UsYnIsY29sLGVtYmVkLGZyYW1lLGhyLGltZyxpbnB1dCxpc2luZGV4LGtleWdlbiwnICtcbiAgJ2xpbmssbWV0YSxwYXJhbSxzb3VyY2UsdHJhY2ssd2JyJ1xuKTtcblxuLy8gRWxlbWVudHMgdGhhdCB5b3UgY2FuLCBpbnRlbnRpb25hbGx5LCBsZWF2ZSBvcGVuXG4vLyAoYW5kIHdoaWNoIGNsb3NlIHRoZW1zZWx2ZXMpXG52YXIgY2FuQmVMZWZ0T3BlblRhZyA9IG1ha2VNYXAoXG4gICdjb2xncm91cCxkZCxkdCxsaSxvcHRpb25zLHAsdGQsdGZvb3QsdGgsdGhlYWQsdHIsc291cmNlJ1xuKTtcblxuLy8gSFRNTDUgdGFncyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9pbmRpY2VzLmh0bWwjZWxlbWVudHMtM1xuLy8gUGhyYXNpbmcgQ29udGVudCBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9kb20uaHRtbCNwaHJhc2luZy1jb250ZW50XG52YXIgaXNOb25QaHJhc2luZ1RhZyA9IG1ha2VNYXAoXG4gICdhZGRyZXNzLGFydGljbGUsYXNpZGUsYmFzZSxibG9ja3F1b3RlLGJvZHksY2FwdGlvbixjb2wsY29sZ3JvdXAsZGQsJyArXG4gICdkZXRhaWxzLGRpYWxvZyxkaXYsZGwsZHQsZmllbGRzZXQsZmlnY2FwdGlvbixmaWd1cmUsZm9vdGVyLGZvcm0sJyArXG4gICdoMSxoMixoMyxoNCxoNSxoNixoZWFkLGhlYWRlcixoZ3JvdXAsaHIsaHRtbCxsZWdlbmQsbGksbWVudWl0ZW0sbWV0YSwnICtcbiAgJ29wdGdyb3VwLG9wdGlvbixwYXJhbSxycCxydCxzb3VyY2Usc3R5bGUsc3VtbWFyeSx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCwnICtcbiAgJ3RpdGxlLHRyLHRyYWNrJ1xuKTtcblxuLyoqXG4gKiBOb3QgdHlwZS1jaGVja2luZyB0aGlzIGZpbGUgYmVjYXVzZSBpdCdzIG1vc3RseSB2ZW5kb3IgY29kZS5cbiAqL1xuXG4vLyBSZWd1bGFyIEV4cHJlc3Npb25zIGZvciBwYXJzaW5nIHRhZ3MgYW5kIGF0dHJpYnV0ZXNcbnZhciBhdHRyaWJ1dGUgPSAvXlxccyooW15cXHNcIic8PlxcLz1dKykoPzpcXHMqKD0pXFxzKig/OlwiKFteXCJdKilcIit8JyhbXiddKiknK3woW15cXHNcIic9PD5gXSspKSk/LztcbnZhciBkeW5hbWljQXJnQXR0cmlidXRlID0gL15cXHMqKCg/OnYtW1xcdy1dKzp8QHw6fCMpXFxbW149XStcXF1bXlxcc1wiJzw+XFwvPV0qKSg/OlxccyooPSlcXHMqKD86XCIoW15cIl0qKVwiK3wnKFteJ10qKScrfChbXlxcc1wiJz08PmBdKykpKT8vO1xudmFyIG5jbmFtZSA9IFwiW2EtekEtWl9dW1xcXFwtXFxcXC4wLTlfYS16QS1aXCIgKyAodW5pY29kZVJlZ0V4cC5zb3VyY2UpICsgXCJdKlwiO1xudmFyIHFuYW1lQ2FwdHVyZSA9IFwiKCg/OlwiICsgbmNuYW1lICsgXCJcXFxcOik/XCIgKyBuY25hbWUgKyBcIilcIjtcbnZhciBzdGFydFRhZ09wZW4gPSBuZXcgUmVnRXhwKChcIl48XCIgKyBxbmFtZUNhcHR1cmUpKTtcbnZhciBzdGFydFRhZ0Nsb3NlID0gL15cXHMqKFxcLz8pPi87XG52YXIgZW5kVGFnID0gbmV3IFJlZ0V4cCgoXCJePFxcXFwvXCIgKyBxbmFtZUNhcHR1cmUgKyBcIltePl0qPlwiKSk7XG52YXIgZG9jdHlwZSA9IC9ePCFET0NUWVBFIFtePl0rPi9pO1xuLy8gIzcyOTg6IGVzY2FwZSAtIHRvIGF2b2lkIGJlaW5nIHBhc3NlZCBhcyBIVE1MIGNvbW1lbnQgd2hlbiBpbmxpbmVkIGluIHBhZ2VcbnZhciBjb21tZW50ID0gL148IVxcLS0vO1xudmFyIGNvbmRpdGlvbmFsQ29tbWVudCA9IC9ePCFcXFsvO1xuXG4vLyBTcGVjaWFsIEVsZW1lbnRzIChjYW4gY29udGFpbiBhbnl0aGluZylcbnZhciBpc1BsYWluVGV4dEVsZW1lbnQgPSBtYWtlTWFwKCdzY3JpcHQsc3R5bGUsdGV4dGFyZWEnLCB0cnVlKTtcbnZhciByZUNhY2hlID0ge307XG5cbnZhciBkZWNvZGluZ01hcCA9IHtcbiAgJyZsdDsnOiAnPCcsXG4gICcmZ3Q7JzogJz4nLFxuICAnJnF1b3Q7JzogJ1wiJyxcbiAgJyZhbXA7JzogJyYnLFxuICAnJiMxMDsnOiAnXFxuJyxcbiAgJyYjOTsnOiAnXFx0JyxcbiAgJyYjMzk7JzogXCInXCJcbn07XG52YXIgZW5jb2RlZEF0dHIgPSAvJig/Omx0fGd0fHF1b3R8YW1wfCMzOSk7L2c7XG52YXIgZW5jb2RlZEF0dHJXaXRoTmV3TGluZXMgPSAvJig/Omx0fGd0fHF1b3R8YW1wfCMzOXwjMTB8IzkpOy9nO1xuXG4vLyAjNTk5MlxudmFyIGlzSWdub3JlTmV3bGluZVRhZyA9IG1ha2VNYXAoJ3ByZSx0ZXh0YXJlYScsIHRydWUpO1xudmFyIHNob3VsZElnbm9yZUZpcnN0TmV3bGluZSA9IGZ1bmN0aW9uICh0YWcsIGh0bWwpIHsgcmV0dXJuIHRhZyAmJiBpc0lnbm9yZU5ld2xpbmVUYWcodGFnKSAmJiBodG1sWzBdID09PSAnXFxuJzsgfTtcblxuZnVuY3Rpb24gZGVjb2RlQXR0ciAodmFsdWUsIHNob3VsZERlY29kZU5ld2xpbmVzKSB7XG4gIHZhciByZSA9IHNob3VsZERlY29kZU5ld2xpbmVzID8gZW5jb2RlZEF0dHJXaXRoTmV3TGluZXMgOiBlbmNvZGVkQXR0cjtcbiAgcmV0dXJuIHZhbHVlLnJlcGxhY2UocmUsIGZ1bmN0aW9uIChtYXRjaCkgeyByZXR1cm4gZGVjb2RpbmdNYXBbbWF0Y2hdOyB9KVxufVxuXG5mdW5jdGlvbiBwYXJzZUhUTUwgKGh0bWwsIG9wdGlvbnMpIHtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBleHBlY3RIVE1MID0gb3B0aW9ucy5leHBlY3RIVE1MO1xuICB2YXIgaXNVbmFyeVRhZyQkMSA9IG9wdGlvbnMuaXNVbmFyeVRhZyB8fCBubztcbiAgdmFyIGNhbkJlTGVmdE9wZW5UYWckJDEgPSBvcHRpb25zLmNhbkJlTGVmdE9wZW5UYWcgfHwgbm87XG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0LCBsYXN0VGFnO1xuICB3aGlsZSAoaHRtbCkge1xuICAgIGxhc3QgPSBodG1sO1xuICAgIC8vIE1ha2Ugc3VyZSB3ZSdyZSBub3QgaW4gYSBwbGFpbnRleHQgY29udGVudCBlbGVtZW50IGxpa2Ugc2NyaXB0L3N0eWxlXG4gICAgaWYgKCFsYXN0VGFnIHx8ICFpc1BsYWluVGV4dEVsZW1lbnQobGFzdFRhZykpIHtcbiAgICAgIHZhciB0ZXh0RW5kID0gaHRtbC5pbmRleE9mKCc8Jyk7XG4gICAgICBpZiAodGV4dEVuZCA9PT0gMCkge1xuICAgICAgICAvLyBDb21tZW50OlxuICAgICAgICBpZiAoY29tbWVudC50ZXN0KGh0bWwpKSB7XG4gICAgICAgICAgdmFyIGNvbW1lbnRFbmQgPSBodG1sLmluZGV4T2YoJy0tPicpO1xuXG4gICAgICAgICAgaWYgKGNvbW1lbnRFbmQgPj0gMCkge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hvdWxkS2VlcENvbW1lbnQpIHtcbiAgICAgICAgICAgICAgb3B0aW9ucy5jb21tZW50KGh0bWwuc3Vic3RyaW5nKDQsIGNvbW1lbnRFbmQpLCBpbmRleCwgaW5kZXggKyBjb21tZW50RW5kICsgMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZHZhbmNlKGNvbW1lbnRFbmQgKyAzKTtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db25kaXRpb25hbF9jb21tZW50I0Rvd25sZXZlbC1yZXZlYWxlZF9jb25kaXRpb25hbF9jb21tZW50XG4gICAgICAgIGlmIChjb25kaXRpb25hbENvbW1lbnQudGVzdChodG1sKSkge1xuICAgICAgICAgIHZhciBjb25kaXRpb25hbEVuZCA9IGh0bWwuaW5kZXhPZignXT4nKTtcblxuICAgICAgICAgIGlmIChjb25kaXRpb25hbEVuZCA+PSAwKSB7XG4gICAgICAgICAgICBhZHZhbmNlKGNvbmRpdGlvbmFsRW5kICsgMik7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvY3R5cGU6XG4gICAgICAgIHZhciBkb2N0eXBlTWF0Y2ggPSBodG1sLm1hdGNoKGRvY3R5cGUpO1xuICAgICAgICBpZiAoZG9jdHlwZU1hdGNoKSB7XG4gICAgICAgICAgYWR2YW5jZShkb2N0eXBlTWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRW5kIHRhZzpcbiAgICAgICAgdmFyIGVuZFRhZ01hdGNoID0gaHRtbC5tYXRjaChlbmRUYWcpO1xuICAgICAgICBpZiAoZW5kVGFnTWF0Y2gpIHtcbiAgICAgICAgICB2YXIgY3VySW5kZXggPSBpbmRleDtcbiAgICAgICAgICBhZHZhbmNlKGVuZFRhZ01hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgICAgcGFyc2VFbmRUYWcoZW5kVGFnTWF0Y2hbMV0sIGN1ckluZGV4LCBpbmRleCk7XG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXJ0IHRhZzpcbiAgICAgICAgdmFyIHN0YXJ0VGFnTWF0Y2ggPSBwYXJzZVN0YXJ0VGFnKCk7XG4gICAgICAgIGlmIChzdGFydFRhZ01hdGNoKSB7XG4gICAgICAgICAgaGFuZGxlU3RhcnRUYWcoc3RhcnRUYWdNYXRjaCk7XG4gICAgICAgICAgaWYgKHNob3VsZElnbm9yZUZpcnN0TmV3bGluZShzdGFydFRhZ01hdGNoLnRhZ05hbWUsIGh0bWwpKSB7XG4gICAgICAgICAgICBhZHZhbmNlKDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB0ZXh0ID0gKHZvaWQgMCksIHJlc3QgPSAodm9pZCAwKSwgbmV4dCA9ICh2b2lkIDApO1xuICAgICAgaWYgKHRleHRFbmQgPj0gMCkge1xuICAgICAgICByZXN0ID0gaHRtbC5zbGljZSh0ZXh0RW5kKTtcbiAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICFlbmRUYWcudGVzdChyZXN0KSAmJlxuICAgICAgICAgICFzdGFydFRhZ09wZW4udGVzdChyZXN0KSAmJlxuICAgICAgICAgICFjb21tZW50LnRlc3QocmVzdCkgJiZcbiAgICAgICAgICAhY29uZGl0aW9uYWxDb21tZW50LnRlc3QocmVzdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gPCBpbiBwbGFpbiB0ZXh0LCBiZSBmb3JnaXZpbmcgYW5kIHRyZWF0IGl0IGFzIHRleHRcbiAgICAgICAgICBuZXh0ID0gcmVzdC5pbmRleE9mKCc8JywgMSk7XG4gICAgICAgICAgaWYgKG5leHQgPCAwKSB7IGJyZWFrIH1cbiAgICAgICAgICB0ZXh0RW5kICs9IG5leHQ7XG4gICAgICAgICAgcmVzdCA9IGh0bWwuc2xpY2UodGV4dEVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGV4dCA9IGh0bWwuc3Vic3RyaW5nKDAsIHRleHRFbmQpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGV4dEVuZCA8IDApIHtcbiAgICAgICAgdGV4dCA9IGh0bWw7XG4gICAgICB9XG5cbiAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgIGFkdmFuY2UodGV4dC5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5jaGFycyAmJiB0ZXh0KSB7XG4gICAgICAgIG9wdGlvbnMuY2hhcnModGV4dCwgaW5kZXggLSB0ZXh0Lmxlbmd0aCwgaW5kZXgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZW5kVGFnTGVuZ3RoID0gMDtcbiAgICAgIHZhciBzdGFja2VkVGFnID0gbGFzdFRhZy50b0xvd2VyQ2FzZSgpO1xuICAgICAgdmFyIHJlU3RhY2tlZFRhZyA9IHJlQ2FjaGVbc3RhY2tlZFRhZ10gfHwgKHJlQ2FjaGVbc3RhY2tlZFRhZ10gPSBuZXcgUmVnRXhwKCcoW1xcXFxzXFxcXFNdKj8pKDwvJyArIHN0YWNrZWRUYWcgKyAnW14+XSo+KScsICdpJykpO1xuICAgICAgdmFyIHJlc3QkMSA9IGh0bWwucmVwbGFjZShyZVN0YWNrZWRUYWcsIGZ1bmN0aW9uIChhbGwsIHRleHQsIGVuZFRhZykge1xuICAgICAgICBlbmRUYWdMZW5ndGggPSBlbmRUYWcubGVuZ3RoO1xuICAgICAgICBpZiAoIWlzUGxhaW5UZXh0RWxlbWVudChzdGFja2VkVGFnKSAmJiBzdGFja2VkVGFnICE9PSAnbm9zY3JpcHQnKSB7XG4gICAgICAgICAgdGV4dCA9IHRleHRcbiAgICAgICAgICAgIC5yZXBsYWNlKC88IVxcLS0oW1xcc1xcU10qPyktLT4vZywgJyQxJykgLy8gIzcyOThcbiAgICAgICAgICAgIC5yZXBsYWNlKC88IVxcW0NEQVRBXFxbKFtcXHNcXFNdKj8pXV0+L2csICckMScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRJZ25vcmVGaXJzdE5ld2xpbmUoc3RhY2tlZFRhZywgdGV4dCkpIHtcbiAgICAgICAgICB0ZXh0ID0gdGV4dC5zbGljZSgxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5jaGFycykge1xuICAgICAgICAgIG9wdGlvbnMuY2hhcnModGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICcnXG4gICAgICB9KTtcbiAgICAgIGluZGV4ICs9IGh0bWwubGVuZ3RoIC0gcmVzdCQxLmxlbmd0aDtcbiAgICAgIGh0bWwgPSByZXN0JDE7XG4gICAgICBwYXJzZUVuZFRhZyhzdGFja2VkVGFnLCBpbmRleCAtIGVuZFRhZ0xlbmd0aCwgaW5kZXgpO1xuICAgIH1cblxuICAgIGlmIChodG1sID09PSBsYXN0KSB7XG4gICAgICBvcHRpb25zLmNoYXJzICYmIG9wdGlvbnMuY2hhcnMoaHRtbCk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiAhc3RhY2subGVuZ3RoICYmIG9wdGlvbnMud2Fybikge1xuICAgICAgICBvcHRpb25zLndhcm4oKFwiTWFsLWZvcm1hdHRlZCB0YWcgYXQgZW5kIG9mIHRlbXBsYXRlOiBcXFwiXCIgKyBodG1sICsgXCJcXFwiXCIpLCB7IHN0YXJ0OiBpbmRleCArIGh0bWwubGVuZ3RoIH0pO1xuICAgICAgfVxuICAgICAgYnJlYWtcbiAgICB9XG4gIH1cblxuICAvLyBDbGVhbiB1cCBhbnkgcmVtYWluaW5nIHRhZ3NcbiAgcGFyc2VFbmRUYWcoKTtcblxuICBmdW5jdGlvbiBhZHZhbmNlIChuKSB7XG4gICAgaW5kZXggKz0gbjtcbiAgICBodG1sID0gaHRtbC5zdWJzdHJpbmcobik7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZVN0YXJ0VGFnICgpIHtcbiAgICB2YXIgc3RhcnQgPSBodG1sLm1hdGNoKHN0YXJ0VGFnT3Blbik7XG4gICAgaWYgKHN0YXJ0KSB7XG4gICAgICB2YXIgbWF0Y2ggPSB7XG4gICAgICAgIHRhZ05hbWU6IHN0YXJ0WzFdLFxuICAgICAgICBhdHRyczogW10sXG4gICAgICAgIHN0YXJ0OiBpbmRleFxuICAgICAgfTtcbiAgICAgIGFkdmFuY2Uoc3RhcnRbMF0ubGVuZ3RoKTtcbiAgICAgIHZhciBlbmQsIGF0dHI7XG4gICAgICB3aGlsZSAoIShlbmQgPSBodG1sLm1hdGNoKHN0YXJ0VGFnQ2xvc2UpKSAmJiAoYXR0ciA9IGh0bWwubWF0Y2goZHluYW1pY0FyZ0F0dHJpYnV0ZSkgfHwgaHRtbC5tYXRjaChhdHRyaWJ1dGUpKSkge1xuICAgICAgICBhdHRyLnN0YXJ0ID0gaW5kZXg7XG4gICAgICAgIGFkdmFuY2UoYXR0clswXS5sZW5ndGgpO1xuICAgICAgICBhdHRyLmVuZCA9IGluZGV4O1xuICAgICAgICBtYXRjaC5hdHRycy5wdXNoKGF0dHIpO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCkge1xuICAgICAgICBtYXRjaC51bmFyeVNsYXNoID0gZW5kWzFdO1xuICAgICAgICBhZHZhbmNlKGVuZFswXS5sZW5ndGgpO1xuICAgICAgICBtYXRjaC5lbmQgPSBpbmRleDtcbiAgICAgICAgcmV0dXJuIG1hdGNoXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlU3RhcnRUYWcgKG1hdGNoKSB7XG4gICAgdmFyIHRhZ05hbWUgPSBtYXRjaC50YWdOYW1lO1xuICAgIHZhciB1bmFyeVNsYXNoID0gbWF0Y2gudW5hcnlTbGFzaDtcblxuICAgIGlmIChleHBlY3RIVE1MKSB7XG4gICAgICBpZiAobGFzdFRhZyA9PT0gJ3AnICYmIGlzTm9uUGhyYXNpbmdUYWcodGFnTmFtZSkpIHtcbiAgICAgICAgcGFyc2VFbmRUYWcobGFzdFRhZyk7XG4gICAgICB9XG4gICAgICBpZiAoY2FuQmVMZWZ0T3BlblRhZyQkMSh0YWdOYW1lKSAmJiBsYXN0VGFnID09PSB0YWdOYW1lKSB7XG4gICAgICAgIHBhcnNlRW5kVGFnKHRhZ05hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB1bmFyeSA9IGlzVW5hcnlUYWckJDEodGFnTmFtZSkgfHwgISF1bmFyeVNsYXNoO1xuXG4gICAgdmFyIGwgPSBtYXRjaC5hdHRycy5sZW5ndGg7XG4gICAgdmFyIGF0dHJzID0gbmV3IEFycmF5KGwpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgYXJncyA9IG1hdGNoLmF0dHJzW2ldO1xuICAgICAgdmFyIHZhbHVlID0gYXJnc1szXSB8fCBhcmdzWzRdIHx8IGFyZ3NbNV0gfHwgJyc7XG4gICAgICB2YXIgc2hvdWxkRGVjb2RlTmV3bGluZXMgPSB0YWdOYW1lID09PSAnYScgJiYgYXJnc1sxXSA9PT0gJ2hyZWYnXG4gICAgICAgID8gb3B0aW9ucy5zaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWZcbiAgICAgICAgOiBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzO1xuICAgICAgYXR0cnNbaV0gPSB7XG4gICAgICAgIG5hbWU6IGFyZ3NbMV0sXG4gICAgICAgIHZhbHVlOiBkZWNvZGVBdHRyKHZhbHVlLCBzaG91bGREZWNvZGVOZXdsaW5lcylcbiAgICAgIH07XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XG4gICAgICAgIGF0dHJzW2ldLnN0YXJ0ID0gYXJncy5zdGFydCArIGFyZ3NbMF0ubWF0Y2goL15cXHMqLykubGVuZ3RoO1xuICAgICAgICBhdHRyc1tpXS5lbmQgPSBhcmdzLmVuZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXVuYXJ5KSB7XG4gICAgICBzdGFjay5wdXNoKHsgdGFnOiB0YWdOYW1lLCBsb3dlckNhc2VkVGFnOiB0YWdOYW1lLnRvTG93ZXJDYXNlKCksIGF0dHJzOiBhdHRycywgc3RhcnQ6IG1hdGNoLnN0YXJ0LCBlbmQ6IG1hdGNoLmVuZCB9KTtcbiAgICAgIGxhc3RUYWcgPSB0YWdOYW1lO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnN0YXJ0KSB7XG4gICAgICBvcHRpb25zLnN0YXJ0KHRhZ05hbWUsIGF0dHJzLCB1bmFyeSwgbWF0Y2guc3RhcnQsIG1hdGNoLmVuZCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VFbmRUYWcgKHRhZ05hbWUsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgcG9zLCBsb3dlckNhc2VkVGFnTmFtZTtcbiAgICBpZiAoc3RhcnQgPT0gbnVsbCkgeyBzdGFydCA9IGluZGV4OyB9XG4gICAgaWYgKGVuZCA9PSBudWxsKSB7IGVuZCA9IGluZGV4OyB9XG5cbiAgICAvLyBGaW5kIHRoZSBjbG9zZXN0IG9wZW5lZCB0YWcgb2YgdGhlIHNhbWUgdHlwZVxuICAgIGlmICh0YWdOYW1lKSB7XG4gICAgICBsb3dlckNhc2VkVGFnTmFtZSA9IHRhZ05hbWUudG9Mb3dlckNhc2UoKTtcbiAgICAgIGZvciAocG9zID0gc3RhY2subGVuZ3RoIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7XG4gICAgICAgIGlmIChzdGFja1twb3NdLmxvd2VyQ2FzZWRUYWcgPT09IGxvd2VyQ2FzZWRUYWdOYW1lKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBJZiBubyB0YWcgbmFtZSBpcyBwcm92aWRlZCwgY2xlYW4gc2hvcFxuICAgICAgcG9zID0gMDtcbiAgICB9XG5cbiAgICBpZiAocG9zID49IDApIHtcbiAgICAgIC8vIENsb3NlIGFsbCB0aGUgb3BlbiBlbGVtZW50cywgdXAgdGhlIHN0YWNrXG4gICAgICBmb3IgKHZhciBpID0gc3RhY2subGVuZ3RoIC0gMTsgaSA+PSBwb3M7IGktLSkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJlxuICAgICAgICAgIChpID4gcG9zIHx8ICF0YWdOYW1lKSAmJlxuICAgICAgICAgIG9wdGlvbnMud2FyblxuICAgICAgICApIHtcbiAgICAgICAgICBvcHRpb25zLndhcm4oXG4gICAgICAgICAgICAoXCJ0YWcgPFwiICsgKHN0YWNrW2ldLnRhZykgKyBcIj4gaGFzIG5vIG1hdGNoaW5nIGVuZCB0YWcuXCIpLFxuICAgICAgICAgICAgeyBzdGFydDogc3RhY2tbaV0uc3RhcnQsIGVuZDogc3RhY2tbaV0uZW5kIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmVuZCkge1xuICAgICAgICAgIG9wdGlvbnMuZW5kKHN0YWNrW2ldLnRhZywgc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gUmVtb3ZlIHRoZSBvcGVuIGVsZW1lbnRzIGZyb20gdGhlIHN0YWNrXG4gICAgICBzdGFjay5sZW5ndGggPSBwb3M7XG4gICAgICBsYXN0VGFnID0gcG9zICYmIHN0YWNrW3BvcyAtIDFdLnRhZztcbiAgICB9IGVsc2UgaWYgKGxvd2VyQ2FzZWRUYWdOYW1lID09PSAnYnInKSB7XG4gICAgICBpZiAob3B0aW9ucy5zdGFydCkge1xuICAgICAgICBvcHRpb25zLnN0YXJ0KHRhZ05hbWUsIFtdLCB0cnVlLCBzdGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxvd2VyQ2FzZWRUYWdOYW1lID09PSAncCcpIHtcbiAgICAgIGlmIChvcHRpb25zLnN0YXJ0KSB7XG4gICAgICAgIG9wdGlvbnMuc3RhcnQodGFnTmFtZSwgW10sIGZhbHNlLCBzdGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zLmVuZCkge1xuICAgICAgICBvcHRpb25zLmVuZCh0YWdOYW1lLCBzdGFydCwgZW5kKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbnZhciBvblJFID0gL15AfF52LW9uOi87XG52YXIgZGlyUkUgPSAvXnYtfF5AfF46fF4jLztcbnZhciBmb3JBbGlhc1JFID0gLyhbXFxzXFxTXSo/KVxccysoPzppbnxvZilcXHMrKFtcXHNcXFNdKikvO1xudmFyIGZvckl0ZXJhdG9yUkUgPSAvLChbXixcXH1cXF1dKikoPzosKFteLFxcfVxcXV0qKSk/JC87XG52YXIgc3RyaXBQYXJlbnNSRSA9IC9eXFwofFxcKSQvZztcbnZhciBkeW5hbWljQXJnUkUgPSAvXlxcWy4qXFxdJC87XG5cbnZhciBhcmdSRSA9IC86KC4qKSQvO1xudmFyIGJpbmRSRSA9IC9eOnxeXFwufF52LWJpbmQ6LztcbnZhciBtb2RpZmllclJFID0gL1xcLlteLlxcXV0rKD89W15cXF1dKiQpL2c7XG5cbnZhciBzbG90UkUgPSAvXnYtc2xvdCg6fCQpfF4jLztcblxudmFyIGxpbmVCcmVha1JFID0gL1tcXHJcXG5dLztcbnZhciB3aGl0ZXNwYWNlUkUkMSA9IC9cXHMrL2c7XG5cbnZhciBpbnZhbGlkQXR0cmlidXRlUkUgPSAvW1xcc1wiJzw+XFwvPV0vO1xuXG52YXIgZGVjb2RlSFRNTENhY2hlZCA9IGNhY2hlZChoZS5kZWNvZGUpO1xuXG52YXIgZW1wdHlTbG90U2NvcGVUb2tlbiA9IFwiX2VtcHR5X1wiO1xuXG4vLyBjb25maWd1cmFibGUgc3RhdGVcbnZhciB3YXJuJDI7XG52YXIgZGVsaW1pdGVycztcbnZhciB0cmFuc2Zvcm1zO1xudmFyIHByZVRyYW5zZm9ybXM7XG52YXIgcG9zdFRyYW5zZm9ybXM7XG52YXIgcGxhdGZvcm1Jc1ByZVRhZztcbnZhciBwbGF0Zm9ybU11c3RVc2VQcm9wO1xudmFyIHBsYXRmb3JtR2V0VGFnTmFtZXNwYWNlO1xudmFyIG1heWJlQ29tcG9uZW50O1xuXG5mdW5jdGlvbiBjcmVhdGVBU1RFbGVtZW50IChcbiAgdGFnLFxuICBhdHRycyxcbiAgcGFyZW50XG4pIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiAxLFxuICAgIHRhZzogdGFnLFxuICAgIGF0dHJzTGlzdDogYXR0cnMsXG4gICAgYXR0cnNNYXA6IG1ha2VBdHRyc01hcChhdHRycyksXG4gICAgcmF3QXR0cnNNYXA6IHt9LFxuICAgIHBhcmVudDogcGFyZW50LFxuICAgIGNoaWxkcmVuOiBbXVxuICB9XG59XG5cbi8qKlxuICogQ29udmVydCBIVE1MIHN0cmluZyB0byBBU1QuXG4gKi9cbmZ1bmN0aW9uIHBhcnNlIChcbiAgdGVtcGxhdGUsXG4gIG9wdGlvbnNcbikge1xuICB3YXJuJDIgPSBvcHRpb25zLndhcm4gfHwgYmFzZVdhcm47XG5cbiAgcGxhdGZvcm1Jc1ByZVRhZyA9IG9wdGlvbnMuaXNQcmVUYWcgfHwgbm87XG4gIHBsYXRmb3JtTXVzdFVzZVByb3AgPSBvcHRpb25zLm11c3RVc2VQcm9wIHx8IG5vO1xuICBwbGF0Zm9ybUdldFRhZ05hbWVzcGFjZSA9IG9wdGlvbnMuZ2V0VGFnTmFtZXNwYWNlIHx8IG5vO1xuICB2YXIgaXNSZXNlcnZlZFRhZyA9IG9wdGlvbnMuaXNSZXNlcnZlZFRhZyB8fCBubztcbiAgbWF5YmVDb21wb25lbnQgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuICEhZWwuY29tcG9uZW50IHx8ICFpc1Jlc2VydmVkVGFnKGVsLnRhZyk7IH07XG5cbiAgdHJhbnNmb3JtcyA9IHBsdWNrTW9kdWxlRnVuY3Rpb24ob3B0aW9ucy5tb2R1bGVzLCAndHJhbnNmb3JtTm9kZScpO1xuICBwcmVUcmFuc2Zvcm1zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICdwcmVUcmFuc2Zvcm1Ob2RlJyk7XG4gIHBvc3RUcmFuc2Zvcm1zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICdwb3N0VHJhbnNmb3JtTm9kZScpO1xuXG4gIGRlbGltaXRlcnMgPSBvcHRpb25zLmRlbGltaXRlcnM7XG5cbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBwcmVzZXJ2ZVdoaXRlc3BhY2UgPSBvcHRpb25zLnByZXNlcnZlV2hpdGVzcGFjZSAhPT0gZmFsc2U7XG4gIHZhciB3aGl0ZXNwYWNlT3B0aW9uID0gb3B0aW9ucy53aGl0ZXNwYWNlO1xuICB2YXIgcm9vdDtcbiAgdmFyIGN1cnJlbnRQYXJlbnQ7XG4gIHZhciBpblZQcmUgPSBmYWxzZTtcbiAgdmFyIGluUHJlID0gZmFsc2U7XG4gIHZhciB3YXJuZWQgPSBmYWxzZTtcblxuICBmdW5jdGlvbiB3YXJuT25jZSAobXNnLCByYW5nZSkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICB3YXJuZWQgPSB0cnVlO1xuICAgICAgd2FybiQyKG1zZywgcmFuZ2UpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlRWxlbWVudCAoZWxlbWVudCkge1xuICAgIHRyaW1FbmRpbmdXaGl0ZXNwYWNlKGVsZW1lbnQpO1xuICAgIGlmICghaW5WUHJlICYmICFlbGVtZW50LnByb2Nlc3NlZCkge1xuICAgICAgZWxlbWVudCA9IHByb2Nlc3NFbGVtZW50KGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvLyB0cmVlIG1hbmFnZW1lbnRcbiAgICBpZiAoIXN0YWNrLmxlbmd0aCAmJiBlbGVtZW50ICE9PSByb290KSB7XG4gICAgICAvLyBhbGxvdyByb290IGVsZW1lbnRzIHdpdGggdi1pZiwgdi1lbHNlLWlmIGFuZCB2LWVsc2VcbiAgICAgIGlmIChyb290LmlmICYmIChlbGVtZW50LmVsc2VpZiB8fCBlbGVtZW50LmVsc2UpKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgY2hlY2tSb290Q29uc3RyYWludHMoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgYWRkSWZDb25kaXRpb24ocm9vdCwge1xuICAgICAgICAgIGV4cDogZWxlbWVudC5lbHNlaWYsXG4gICAgICAgICAgYmxvY2s6IGVsZW1lbnRcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgd2Fybk9uY2UoXG4gICAgICAgICAgXCJDb21wb25lbnQgdGVtcGxhdGUgc2hvdWxkIGNvbnRhaW4gZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiBcIiArXG4gICAgICAgICAgXCJJZiB5b3UgYXJlIHVzaW5nIHYtaWYgb24gbXVsdGlwbGUgZWxlbWVudHMsIFwiICtcbiAgICAgICAgICBcInVzZSB2LWVsc2UtaWYgdG8gY2hhaW4gdGhlbSBpbnN0ZWFkLlwiLFxuICAgICAgICAgIHsgc3RhcnQ6IGVsZW1lbnQuc3RhcnQgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoY3VycmVudFBhcmVudCAmJiAhZWxlbWVudC5mb3JiaWRkZW4pIHtcbiAgICAgIGlmIChlbGVtZW50LmVsc2VpZiB8fCBlbGVtZW50LmVsc2UpIHtcbiAgICAgICAgcHJvY2Vzc0lmQ29uZGl0aW9ucyhlbGVtZW50LCBjdXJyZW50UGFyZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChlbGVtZW50LnNsb3RTY29wZSkge1xuICAgICAgICAgIC8vIHNjb3BlZCBzbG90XG4gICAgICAgICAgLy8ga2VlcCBpdCBpbiB0aGUgY2hpbGRyZW4gbGlzdCBzbyB0aGF0IHYtZWxzZSgtaWYpIGNvbmRpdGlvbnMgY2FuXG4gICAgICAgICAgLy8gZmluZCBpdCBhcyB0aGUgcHJldiBub2RlLlxuICAgICAgICAgIHZhciBuYW1lID0gZWxlbWVudC5zbG90VGFyZ2V0IHx8ICdcImRlZmF1bHRcIidcbiAgICAgICAgICA7KGN1cnJlbnRQYXJlbnQuc2NvcGVkU2xvdHMgfHwgKGN1cnJlbnRQYXJlbnQuc2NvcGVkU2xvdHMgPSB7fSkpW25hbWVdID0gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50UGFyZW50LmNoaWxkcmVuLnB1c2goZWxlbWVudCk7XG4gICAgICAgIGVsZW1lbnQucGFyZW50ID0gY3VycmVudFBhcmVudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBmaW5hbCBjaGlsZHJlbiBjbGVhbnVwXG4gICAgLy8gZmlsdGVyIG91dCBzY29wZWQgc2xvdHNcbiAgICBlbGVtZW50LmNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuICEoYykuc2xvdFNjb3BlOyB9KTtcbiAgICAvLyByZW1vdmUgdHJhaWxpbmcgd2hpdGVzcGFjZSBub2RlIGFnYWluXG4gICAgdHJpbUVuZGluZ1doaXRlc3BhY2UoZWxlbWVudCk7XG5cbiAgICAvLyBjaGVjayBwcmUgc3RhdGVcbiAgICBpZiAoZWxlbWVudC5wcmUpIHtcbiAgICAgIGluVlByZSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAocGxhdGZvcm1Jc1ByZVRhZyhlbGVtZW50LnRhZykpIHtcbiAgICAgIGluUHJlID0gZmFsc2U7XG4gICAgfVxuICAgIC8vIGFwcGx5IHBvc3QtdHJhbnNmb3Jtc1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zdFRyYW5zZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHBvc3RUcmFuc2Zvcm1zW2ldKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyaW1FbmRpbmdXaGl0ZXNwYWNlIChlbCkge1xuICAgIC8vIHJlbW92ZSB0cmFpbGluZyB3aGl0ZXNwYWNlIG5vZGVcbiAgICBpZiAoIWluUHJlKSB7XG4gICAgICB2YXIgbGFzdE5vZGU7XG4gICAgICB3aGlsZSAoXG4gICAgICAgIChsYXN0Tm9kZSA9IGVsLmNoaWxkcmVuW2VsLmNoaWxkcmVuLmxlbmd0aCAtIDFdKSAmJlxuICAgICAgICBsYXN0Tm9kZS50eXBlID09PSAzICYmXG4gICAgICAgIGxhc3ROb2RlLnRleHQgPT09ICcgJ1xuICAgICAgKSB7XG4gICAgICAgIGVsLmNoaWxkcmVuLnBvcCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrUm9vdENvbnN0cmFpbnRzIChlbCkge1xuICAgIGlmIChlbC50YWcgPT09ICdzbG90JyB8fCBlbC50YWcgPT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgIHdhcm5PbmNlKFxuICAgICAgICBcIkNhbm5vdCB1c2UgPFwiICsgKGVsLnRhZykgKyBcIj4gYXMgY29tcG9uZW50IHJvb3QgZWxlbWVudCBiZWNhdXNlIGl0IG1heSBcIiArXG4gICAgICAgICdjb250YWluIG11bHRpcGxlIG5vZGVzLicsXG4gICAgICAgIHsgc3RhcnQ6IGVsLnN0YXJ0IH1cbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChlbC5hdHRyc01hcC5oYXNPd25Qcm9wZXJ0eSgndi1mb3InKSkge1xuICAgICAgd2Fybk9uY2UoXG4gICAgICAgICdDYW5ub3QgdXNlIHYtZm9yIG9uIHN0YXRlZnVsIGNvbXBvbmVudCByb290IGVsZW1lbnQgYmVjYXVzZSAnICtcbiAgICAgICAgJ2l0IHJlbmRlcnMgbXVsdGlwbGUgZWxlbWVudHMuJyxcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtZm9yJ11cbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgcGFyc2VIVE1MKHRlbXBsYXRlLCB7XG4gICAgd2Fybjogd2FybiQyLFxuICAgIGV4cGVjdEhUTUw6IG9wdGlvbnMuZXhwZWN0SFRNTCxcbiAgICBpc1VuYXJ5VGFnOiBvcHRpb25zLmlzVW5hcnlUYWcsXG4gICAgY2FuQmVMZWZ0T3BlblRhZzogb3B0aW9ucy5jYW5CZUxlZnRPcGVuVGFnLFxuICAgIHNob3VsZERlY29kZU5ld2xpbmVzOiBvcHRpb25zLnNob3VsZERlY29kZU5ld2xpbmVzLFxuICAgIHNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZjogb3B0aW9ucy5zaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWYsXG4gICAgc2hvdWxkS2VlcENvbW1lbnQ6IG9wdGlvbnMuY29tbWVudHMsXG4gICAgb3V0cHV0U291cmNlUmFuZ2U6IG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UsXG4gICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0ICh0YWcsIGF0dHJzLCB1bmFyeSwgc3RhcnQkMSwgZW5kKSB7XG4gICAgICAvLyBjaGVjayBuYW1lc3BhY2UuXG4gICAgICAvLyBpbmhlcml0IHBhcmVudCBucyBpZiB0aGVyZSBpcyBvbmVcbiAgICAgIHZhciBucyA9IChjdXJyZW50UGFyZW50ICYmIGN1cnJlbnRQYXJlbnQubnMpIHx8IHBsYXRmb3JtR2V0VGFnTmFtZXNwYWNlKHRhZyk7XG5cbiAgICAgIC8vIGhhbmRsZSBJRSBzdmcgYnVnXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChpc0lFICYmIG5zID09PSAnc3ZnJykge1xuICAgICAgICBhdHRycyA9IGd1YXJkSUVTVkdCdWcoYXR0cnMpO1xuICAgICAgfVxuXG4gICAgICB2YXIgZWxlbWVudCA9IGNyZWF0ZUFTVEVsZW1lbnQodGFnLCBhdHRycywgY3VycmVudFBhcmVudCk7XG4gICAgICBpZiAobnMpIHtcbiAgICAgICAgZWxlbWVudC5ucyA9IG5zO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAob3B0aW9ucy5vdXRwdXRTb3VyY2VSYW5nZSkge1xuICAgICAgICAgIGVsZW1lbnQuc3RhcnQgPSBzdGFydCQxO1xuICAgICAgICAgIGVsZW1lbnQuZW5kID0gZW5kO1xuICAgICAgICAgIGVsZW1lbnQucmF3QXR0cnNNYXAgPSBlbGVtZW50LmF0dHJzTGlzdC5yZWR1Y2UoZnVuY3Rpb24gKGN1bXVsYXRlZCwgYXR0cikge1xuICAgICAgICAgICAgY3VtdWxhdGVkW2F0dHIubmFtZV0gPSBhdHRyO1xuICAgICAgICAgICAgcmV0dXJuIGN1bXVsYXRlZFxuICAgICAgICAgIH0sIHt9KTtcbiAgICAgICAgfVxuICAgICAgICBhdHRycy5mb3JFYWNoKGZ1bmN0aW9uIChhdHRyKSB7XG4gICAgICAgICAgaWYgKGludmFsaWRBdHRyaWJ1dGVSRS50ZXN0KGF0dHIubmFtZSkpIHtcbiAgICAgICAgICAgIHdhcm4kMihcbiAgICAgICAgICAgICAgXCJJbnZhbGlkIGR5bmFtaWMgYXJndW1lbnQgZXhwcmVzc2lvbjogYXR0cmlidXRlIG5hbWVzIGNhbm5vdCBjb250YWluIFwiICtcbiAgICAgICAgICAgICAgXCJzcGFjZXMsIHF1b3RlcywgPCwgPiwgLyBvciA9LlwiLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IGF0dHIuc3RhcnQgKyBhdHRyLm5hbWUuaW5kZXhPZihcIltcIiksXG4gICAgICAgICAgICAgICAgZW5kOiBhdHRyLnN0YXJ0ICsgYXR0ci5uYW1lLmxlbmd0aFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0ZvcmJpZGRlblRhZyhlbGVtZW50KSAmJiAhaXNTZXJ2ZXJSZW5kZXJpbmcoKSkge1xuICAgICAgICBlbGVtZW50LmZvcmJpZGRlbiA9IHRydWU7XG4gICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybiQyKFxuICAgICAgICAgICdUZW1wbGF0ZXMgc2hvdWxkIG9ubHkgYmUgcmVzcG9uc2libGUgZm9yIG1hcHBpbmcgdGhlIHN0YXRlIHRvIHRoZSAnICtcbiAgICAgICAgICAnVUkuIEF2b2lkIHBsYWNpbmcgdGFncyB3aXRoIHNpZGUtZWZmZWN0cyBpbiB5b3VyIHRlbXBsYXRlcywgc3VjaCBhcyAnICtcbiAgICAgICAgICBcIjxcIiArIHRhZyArIFwiPlwiICsgJywgYXMgdGhleSB3aWxsIG5vdCBiZSBwYXJzZWQuJyxcbiAgICAgICAgICB7IHN0YXJ0OiBlbGVtZW50LnN0YXJ0IH1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwbHkgcHJlLXRyYW5zZm9ybXNcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlVHJhbnNmb3Jtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBlbGVtZW50ID0gcHJlVHJhbnNmb3Jtc1tpXShlbGVtZW50LCBvcHRpb25zKSB8fCBlbGVtZW50O1xuICAgICAgfVxuXG4gICAgICBpZiAoIWluVlByZSkge1xuICAgICAgICBwcm9jZXNzUHJlKGVsZW1lbnQpO1xuICAgICAgICBpZiAoZWxlbWVudC5wcmUpIHtcbiAgICAgICAgICBpblZQcmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocGxhdGZvcm1Jc1ByZVRhZyhlbGVtZW50LnRhZykpIHtcbiAgICAgICAgaW5QcmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGluVlByZSkge1xuICAgICAgICBwcm9jZXNzUmF3QXR0cnMoZWxlbWVudCk7XG4gICAgICB9IGVsc2UgaWYgKCFlbGVtZW50LnByb2Nlc3NlZCkge1xuICAgICAgICAvLyBzdHJ1Y3R1cmFsIGRpcmVjdGl2ZXNcbiAgICAgICAgcHJvY2Vzc0ZvcihlbGVtZW50KTtcbiAgICAgICAgcHJvY2Vzc0lmKGVsZW1lbnQpO1xuICAgICAgICBwcm9jZXNzT25jZShlbGVtZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgIHJvb3QgPSBlbGVtZW50O1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNoZWNrUm9vdENvbnN0cmFpbnRzKHJvb3QpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghdW5hcnkpIHtcbiAgICAgICAgY3VycmVudFBhcmVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHN0YWNrLnB1c2goZWxlbWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjbG9zZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGVuZDogZnVuY3Rpb24gZW5kICh0YWcsIHN0YXJ0LCBlbmQkMSkge1xuICAgICAgdmFyIGVsZW1lbnQgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgIC8vIHBvcCBzdGFja1xuICAgICAgc3RhY2subGVuZ3RoIC09IDE7XG4gICAgICBjdXJyZW50UGFyZW50ID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XG4gICAgICAgIGVsZW1lbnQuZW5kID0gZW5kJDE7XG4gICAgICB9XG4gICAgICBjbG9zZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgfSxcblxuICAgIGNoYXJzOiBmdW5jdGlvbiBjaGFycyAodGV4dCwgc3RhcnQsIGVuZCkge1xuICAgICAgaWYgKCFjdXJyZW50UGFyZW50KSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKHRleHQgPT09IHRlbXBsYXRlKSB7XG4gICAgICAgICAgICB3YXJuT25jZShcbiAgICAgICAgICAgICAgJ0NvbXBvbmVudCB0ZW1wbGF0ZSByZXF1aXJlcyBhIHJvb3QgZWxlbWVudCwgcmF0aGVyIHRoYW4ganVzdCB0ZXh0LicsXG4gICAgICAgICAgICAgIHsgc3RhcnQ6IHN0YXJ0IH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIGlmICgodGV4dCA9IHRleHQudHJpbSgpKSkge1xuICAgICAgICAgICAgd2Fybk9uY2UoXG4gICAgICAgICAgICAgIChcInRleHQgXFxcIlwiICsgdGV4dCArIFwiXFxcIiBvdXRzaWRlIHJvb3QgZWxlbWVudCB3aWxsIGJlIGlnbm9yZWQuXCIpLFxuICAgICAgICAgICAgICB7IHN0YXJ0OiBzdGFydCB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIC8vIElFIHRleHRhcmVhIHBsYWNlaG9sZGVyIGJ1Z1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoaXNJRSAmJlxuICAgICAgICBjdXJyZW50UGFyZW50LnRhZyA9PT0gJ3RleHRhcmVhJyAmJlxuICAgICAgICBjdXJyZW50UGFyZW50LmF0dHJzTWFwLnBsYWNlaG9sZGVyID09PSB0ZXh0XG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICB2YXIgY2hpbGRyZW4gPSBjdXJyZW50UGFyZW50LmNoaWxkcmVuO1xuICAgICAgaWYgKGluUHJlIHx8IHRleHQudHJpbSgpKSB7XG4gICAgICAgIHRleHQgPSBpc1RleHRUYWcoY3VycmVudFBhcmVudCkgPyB0ZXh0IDogZGVjb2RlSFRNTENhY2hlZCh0ZXh0KTtcbiAgICAgIH0gZWxzZSBpZiAoIWNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAvLyByZW1vdmUgdGhlIHdoaXRlc3BhY2Utb25seSBub2RlIHJpZ2h0IGFmdGVyIGFuIG9wZW5pbmcgdGFnXG4gICAgICAgIHRleHQgPSAnJztcbiAgICAgIH0gZWxzZSBpZiAod2hpdGVzcGFjZU9wdGlvbikge1xuICAgICAgICBpZiAod2hpdGVzcGFjZU9wdGlvbiA9PT0gJ2NvbmRlbnNlJykge1xuICAgICAgICAgIC8vIGluIGNvbmRlbnNlIG1vZGUsIHJlbW92ZSB0aGUgd2hpdGVzcGFjZSBub2RlIGlmIGl0IGNvbnRhaW5zXG4gICAgICAgICAgLy8gbGluZSBicmVhaywgb3RoZXJ3aXNlIGNvbmRlbnNlIHRvIGEgc2luZ2xlIHNwYWNlXG4gICAgICAgICAgdGV4dCA9IGxpbmVCcmVha1JFLnRlc3QodGV4dCkgPyAnJyA6ICcgJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0ZXh0ID0gJyAnO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gcHJlc2VydmVXaGl0ZXNwYWNlID8gJyAnIDogJyc7XG4gICAgICB9XG4gICAgICBpZiAodGV4dCkge1xuICAgICAgICBpZiAoIWluUHJlICYmIHdoaXRlc3BhY2VPcHRpb24gPT09ICdjb25kZW5zZScpIHtcbiAgICAgICAgICAvLyBjb25kZW5zZSBjb25zZWN1dGl2ZSB3aGl0ZXNwYWNlcyBpbnRvIHNpbmdsZSBzcGFjZVxuICAgICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2Uod2hpdGVzcGFjZVJFJDEsICcgJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlcztcbiAgICAgICAgdmFyIGNoaWxkO1xuICAgICAgICBpZiAoIWluVlByZSAmJiB0ZXh0ICE9PSAnICcgJiYgKHJlcyA9IHBhcnNlVGV4dCh0ZXh0LCBkZWxpbWl0ZXJzKSkpIHtcbiAgICAgICAgICBjaGlsZCA9IHtcbiAgICAgICAgICAgIHR5cGU6IDIsXG4gICAgICAgICAgICBleHByZXNzaW9uOiByZXMuZXhwcmVzc2lvbixcbiAgICAgICAgICAgIHRva2VuczogcmVzLnRva2VucyxcbiAgICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKHRleHQgIT09ICcgJyB8fCAhY2hpbGRyZW4ubGVuZ3RoIHx8IGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdLnRleHQgIT09ICcgJykge1xuICAgICAgICAgIGNoaWxkID0ge1xuICAgICAgICAgICAgdHlwZTogMyxcbiAgICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UpIHtcbiAgICAgICAgICAgIGNoaWxkLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICBjaGlsZC5lbmQgPSBlbmQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBjb21tZW50OiBmdW5jdGlvbiBjb21tZW50ICh0ZXh0LCBzdGFydCwgZW5kKSB7XG4gICAgICAvLyBhZGRpbmcgYW55dGhpbmcgYXMgYSBzaWJsaW5nIHRvIHRoZSByb290IG5vZGUgaXMgZm9yYmlkZGVuXG4gICAgICAvLyBjb21tZW50cyBzaG91bGQgc3RpbGwgYmUgYWxsb3dlZCwgYnV0IGlnbm9yZWRcbiAgICAgIGlmIChjdXJyZW50UGFyZW50KSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHtcbiAgICAgICAgICB0eXBlOiAzLFxuICAgICAgICAgIHRleHQ6IHRleHQsXG4gICAgICAgICAgaXNDb21tZW50OiB0cnVlXG4gICAgICAgIH07XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UpIHtcbiAgICAgICAgICBjaGlsZC5zdGFydCA9IHN0YXJ0O1xuICAgICAgICAgIGNoaWxkLmVuZCA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50UGFyZW50LmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiByb290XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NQcmUgKGVsKSB7XG4gIGlmIChnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1wcmUnKSAhPSBudWxsKSB7XG4gICAgZWwucHJlID0gdHJ1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzUmF3QXR0cnMgKGVsKSB7XG4gIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0O1xuICB2YXIgbGVuID0gbGlzdC5sZW5ndGg7XG4gIGlmIChsZW4pIHtcbiAgICB2YXIgYXR0cnMgPSBlbC5hdHRycyA9IG5ldyBBcnJheShsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGF0dHJzW2ldID0ge1xuICAgICAgICBuYW1lOiBsaXN0W2ldLm5hbWUsXG4gICAgICAgIHZhbHVlOiBKU09OLnN0cmluZ2lmeShsaXN0W2ldLnZhbHVlKVxuICAgICAgfTtcbiAgICAgIGlmIChsaXN0W2ldLnN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgYXR0cnNbaV0uc3RhcnQgPSBsaXN0W2ldLnN0YXJ0O1xuICAgICAgICBhdHRyc1tpXS5lbmQgPSBsaXN0W2ldLmVuZDtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoIWVsLnByZSkge1xuICAgIC8vIG5vbiByb290IG5vZGUgaW4gcHJlIGJsb2NrcyB3aXRoIG5vIGF0dHJpYnV0ZXNcbiAgICBlbC5wbGFpbiA9IHRydWU7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0VsZW1lbnQgKFxuICBlbGVtZW50LFxuICBvcHRpb25zXG4pIHtcbiAgcHJvY2Vzc0tleShlbGVtZW50KTtcblxuICAvLyBkZXRlcm1pbmUgd2hldGhlciB0aGlzIGlzIGEgcGxhaW4gZWxlbWVudCBhZnRlclxuICAvLyByZW1vdmluZyBzdHJ1Y3R1cmFsIGF0dHJpYnV0ZXNcbiAgZWxlbWVudC5wbGFpbiA9IChcbiAgICAhZWxlbWVudC5rZXkgJiZcbiAgICAhZWxlbWVudC5zY29wZWRTbG90cyAmJlxuICAgICFlbGVtZW50LmF0dHJzTGlzdC5sZW5ndGhcbiAgKTtcblxuICBwcm9jZXNzUmVmKGVsZW1lbnQpO1xuICBwcm9jZXNzU2xvdENvbnRlbnQoZWxlbWVudCk7XG4gIHByb2Nlc3NTbG90T3V0bGV0KGVsZW1lbnQpO1xuICBwcm9jZXNzQ29tcG9uZW50KGVsZW1lbnQpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRyYW5zZm9ybXMubGVuZ3RoOyBpKyspIHtcbiAgICBlbGVtZW50ID0gdHJhbnNmb3Jtc1tpXShlbGVtZW50LCBvcHRpb25zKSB8fCBlbGVtZW50O1xuICB9XG4gIHByb2Nlc3NBdHRycyhlbGVtZW50KTtcbiAgcmV0dXJuIGVsZW1lbnRcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0tleSAoZWwpIHtcbiAgdmFyIGV4cCA9IGdldEJpbmRpbmdBdHRyKGVsLCAna2V5Jyk7XG4gIGlmIChleHApIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKGVsLnRhZyA9PT0gJ3RlbXBsYXRlJykge1xuICAgICAgICB3YXJuJDIoXG4gICAgICAgICAgXCI8dGVtcGxhdGU+IGNhbm5vdCBiZSBrZXllZC4gUGxhY2UgdGhlIGtleSBvbiByZWFsIGVsZW1lbnRzIGluc3RlYWQuXCIsXG4gICAgICAgICAgZ2V0UmF3QmluZGluZ0F0dHIoZWwsICdrZXknKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKGVsLmZvcikge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBlbC5pdGVyYXRvcjIgfHwgZWwuaXRlcmF0b3IxO1xuICAgICAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50O1xuICAgICAgICBpZiAoaXRlcmF0b3IgJiYgaXRlcmF0b3IgPT09IGV4cCAmJiBwYXJlbnQgJiYgcGFyZW50LnRhZyA9PT0gJ3RyYW5zaXRpb24tZ3JvdXAnKSB7XG4gICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgXCJEbyBub3QgdXNlIHYtZm9yIGluZGV4IGFzIGtleSBvbiA8dHJhbnNpdGlvbi1ncm91cD4gY2hpbGRyZW4sIFwiICtcbiAgICAgICAgICAgIFwidGhpcyBpcyB0aGUgc2FtZSBhcyBub3QgdXNpbmcga2V5cy5cIixcbiAgICAgICAgICAgIGdldFJhd0JpbmRpbmdBdHRyKGVsLCAna2V5JyksXG4gICAgICAgICAgICB0cnVlIC8qIHRpcCAqL1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZWwua2V5ID0gZXhwO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NSZWYgKGVsKSB7XG4gIHZhciByZWYgPSBnZXRCaW5kaW5nQXR0cihlbCwgJ3JlZicpO1xuICBpZiAocmVmKSB7XG4gICAgZWwucmVmID0gcmVmO1xuICAgIGVsLnJlZkluRm9yID0gY2hlY2tJbkZvcihlbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0ZvciAoZWwpIHtcbiAgdmFyIGV4cDtcbiAgaWYgKChleHAgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1mb3InKSkpIHtcbiAgICB2YXIgcmVzID0gcGFyc2VGb3IoZXhwKTtcbiAgICBpZiAocmVzKSB7XG4gICAgICBleHRlbmQoZWwsIHJlcyk7XG4gICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXJuJDIoXG4gICAgICAgIChcIkludmFsaWQgdi1mb3IgZXhwcmVzc2lvbjogXCIgKyBleHApLFxuICAgICAgICBlbC5yYXdBdHRyc01hcFsndi1mb3InXVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuXG5cbmZ1bmN0aW9uIHBhcnNlRm9yIChleHApIHtcbiAgdmFyIGluTWF0Y2ggPSBleHAubWF0Y2goZm9yQWxpYXNSRSk7XG4gIGlmICghaW5NYXRjaCkgeyByZXR1cm4gfVxuICB2YXIgcmVzID0ge307XG4gIHJlcy5mb3IgPSBpbk1hdGNoWzJdLnRyaW0oKTtcbiAgdmFyIGFsaWFzID0gaW5NYXRjaFsxXS50cmltKCkucmVwbGFjZShzdHJpcFBhcmVuc1JFLCAnJyk7XG4gIHZhciBpdGVyYXRvck1hdGNoID0gYWxpYXMubWF0Y2goZm9ySXRlcmF0b3JSRSk7XG4gIGlmIChpdGVyYXRvck1hdGNoKSB7XG4gICAgcmVzLmFsaWFzID0gYWxpYXMucmVwbGFjZShmb3JJdGVyYXRvclJFLCAnJykudHJpbSgpO1xuICAgIHJlcy5pdGVyYXRvcjEgPSBpdGVyYXRvck1hdGNoWzFdLnRyaW0oKTtcbiAgICBpZiAoaXRlcmF0b3JNYXRjaFsyXSkge1xuICAgICAgcmVzLml0ZXJhdG9yMiA9IGl0ZXJhdG9yTWF0Y2hbMl0udHJpbSgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXMuYWxpYXMgPSBhbGlhcztcbiAgfVxuICByZXR1cm4gcmVzXG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NJZiAoZWwpIHtcbiAgdmFyIGV4cCA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWlmJyk7XG4gIGlmIChleHApIHtcbiAgICBlbC5pZiA9IGV4cDtcbiAgICBhZGRJZkNvbmRpdGlvbihlbCwge1xuICAgICAgZXhwOiBleHAsXG4gICAgICBibG9jazogZWxcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtZWxzZScpICE9IG51bGwpIHtcbiAgICAgIGVsLmVsc2UgPSB0cnVlO1xuICAgIH1cbiAgICB2YXIgZWxzZWlmID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3YtZWxzZS1pZicpO1xuICAgIGlmIChlbHNlaWYpIHtcbiAgICAgIGVsLmVsc2VpZiA9IGVsc2VpZjtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0lmQ29uZGl0aW9ucyAoZWwsIHBhcmVudCkge1xuICB2YXIgcHJldiA9IGZpbmRQcmV2RWxlbWVudChwYXJlbnQuY2hpbGRyZW4pO1xuICBpZiAocHJldiAmJiBwcmV2LmlmKSB7XG4gICAgYWRkSWZDb25kaXRpb24ocHJldiwge1xuICAgICAgZXhwOiBlbC5lbHNlaWYsXG4gICAgICBibG9jazogZWxcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgd2FybiQyKFxuICAgICAgXCJ2LVwiICsgKGVsLmVsc2VpZiA/ICgnZWxzZS1pZj1cIicgKyBlbC5lbHNlaWYgKyAnXCInKSA6ICdlbHNlJykgKyBcIiBcIiArXG4gICAgICBcInVzZWQgb24gZWxlbWVudCA8XCIgKyAoZWwudGFnKSArIFwiPiB3aXRob3V0IGNvcnJlc3BvbmRpbmcgdi1pZi5cIixcbiAgICAgIGVsLnJhd0F0dHJzTWFwW2VsLmVsc2VpZiA/ICd2LWVsc2UtaWYnIDogJ3YtZWxzZSddXG4gICAgKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaW5kUHJldkVsZW1lbnQgKGNoaWxkcmVuKSB7XG4gIHZhciBpID0gY2hpbGRyZW4ubGVuZ3RoO1xuICB3aGlsZSAoaS0tKSB7XG4gICAgaWYgKGNoaWxkcmVuW2ldLnR5cGUgPT09IDEpIHtcbiAgICAgIHJldHVybiBjaGlsZHJlbltpXVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjaGlsZHJlbltpXS50ZXh0ICE9PSAnICcpIHtcbiAgICAgICAgd2FybiQyKFxuICAgICAgICAgIFwidGV4dCBcXFwiXCIgKyAoY2hpbGRyZW5baV0udGV4dC50cmltKCkpICsgXCJcXFwiIGJldHdlZW4gdi1pZiBhbmQgdi1lbHNlKC1pZikgXCIgK1xuICAgICAgICAgIFwid2lsbCBiZSBpZ25vcmVkLlwiLFxuICAgICAgICAgIGNoaWxkcmVuW2ldXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbi5wb3AoKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRkSWZDb25kaXRpb24gKGVsLCBjb25kaXRpb24pIHtcbiAgaWYgKCFlbC5pZkNvbmRpdGlvbnMpIHtcbiAgICBlbC5pZkNvbmRpdGlvbnMgPSBbXTtcbiAgfVxuICBlbC5pZkNvbmRpdGlvbnMucHVzaChjb25kaXRpb24pO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzT25jZSAoZWwpIHtcbiAgdmFyIG9uY2UkJDEgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAndi1vbmNlJyk7XG4gIGlmIChvbmNlJCQxICE9IG51bGwpIHtcbiAgICBlbC5vbmNlID0gdHJ1ZTtcbiAgfVxufVxuXG4vLyBoYW5kbGUgY29udGVudCBiZWluZyBwYXNzZWQgdG8gYSBjb21wb25lbnQgYXMgc2xvdCxcbi8vIGUuZy4gPHRlbXBsYXRlIHNsb3Q9XCJ4eHhcIj4sIDxkaXYgc2xvdC1zY29wZT1cInh4eFwiPlxuZnVuY3Rpb24gcHJvY2Vzc1Nsb3RDb250ZW50IChlbCkge1xuICB2YXIgc2xvdFNjb3BlO1xuICBpZiAoZWwudGFnID09PSAndGVtcGxhdGUnKSB7XG4gICAgc2xvdFNjb3BlID0gZ2V0QW5kUmVtb3ZlQXR0cihlbCwgJ3Njb3BlJyk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgc2xvdFNjb3BlKSB7XG4gICAgICB3YXJuJDIoXG4gICAgICAgIFwidGhlIFxcXCJzY29wZVxcXCIgYXR0cmlidXRlIGZvciBzY29wZWQgc2xvdHMgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQgYW5kIFwiICtcbiAgICAgICAgXCJyZXBsYWNlZCBieSBcXFwic2xvdC1zY29wZVxcXCIgc2luY2UgMi41LiBUaGUgbmV3IFxcXCJzbG90LXNjb3BlXFxcIiBhdHRyaWJ1dGUgXCIgK1xuICAgICAgICBcImNhbiBhbHNvIGJlIHVzZWQgb24gcGxhaW4gZWxlbWVudHMgaW4gYWRkaXRpb24gdG8gPHRlbXBsYXRlPiB0byBcIiArXG4gICAgICAgIFwiZGVub3RlIHNjb3BlZCBzbG90cy5cIixcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3Njb3BlJ10sXG4gICAgICAgIHRydWVcbiAgICAgICk7XG4gICAgfVxuICAgIGVsLnNsb3RTY29wZSA9IHNsb3RTY29wZSB8fCBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnc2xvdC1zY29wZScpO1xuICB9IGVsc2UgaWYgKChzbG90U2NvcGUgPSBnZXRBbmRSZW1vdmVBdHRyKGVsLCAnc2xvdC1zY29wZScpKSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGVsLmF0dHJzTWFwWyd2LWZvciddKSB7XG4gICAgICB3YXJuJDIoXG4gICAgICAgIFwiQW1iaWd1b3VzIGNvbWJpbmVkIHVzYWdlIG9mIHNsb3Qtc2NvcGUgYW5kIHYtZm9yIG9uIDxcIiArIChlbC50YWcpICsgXCI+IFwiICtcbiAgICAgICAgXCIodi1mb3IgdGFrZXMgaGlnaGVyIHByaW9yaXR5KS4gVXNlIGEgd3JhcHBlciA8dGVtcGxhdGU+IGZvciB0aGUgXCIgK1xuICAgICAgICBcInNjb3BlZCBzbG90IHRvIG1ha2UgaXQgY2xlYXJlci5cIixcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3Nsb3Qtc2NvcGUnXSxcbiAgICAgICAgdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gICAgZWwuc2xvdFNjb3BlID0gc2xvdFNjb3BlO1xuICB9XG5cbiAgLy8gc2xvdD1cInh4eFwiXG4gIHZhciBzbG90VGFyZ2V0ID0gZ2V0QmluZGluZ0F0dHIoZWwsICdzbG90Jyk7XG4gIGlmIChzbG90VGFyZ2V0KSB7XG4gICAgZWwuc2xvdFRhcmdldCA9IHNsb3RUYXJnZXQgPT09ICdcIlwiJyA/ICdcImRlZmF1bHRcIicgOiBzbG90VGFyZ2V0O1xuICAgIGVsLnNsb3RUYXJnZXREeW5hbWljID0gISEoZWwuYXR0cnNNYXBbJzpzbG90J10gfHwgZWwuYXR0cnNNYXBbJ3YtYmluZDpzbG90J10pO1xuICAgIC8vIHByZXNlcnZlIHNsb3QgYXMgYW4gYXR0cmlidXRlIGZvciBuYXRpdmUgc2hhZG93IERPTSBjb21wYXRcbiAgICAvLyBvbmx5IGZvciBub24tc2NvcGVkIHNsb3RzLlxuICAgIGlmIChlbC50YWcgIT09ICd0ZW1wbGF0ZScgJiYgIWVsLnNsb3RTY29wZSkge1xuICAgICAgYWRkQXR0cihlbCwgJ3Nsb3QnLCBzbG90VGFyZ2V0LCBnZXRSYXdCaW5kaW5nQXR0cihlbCwgJ3Nsb3QnKSk7XG4gICAgfVxuICB9XG5cbiAgLy8gMi42IHYtc2xvdCBzeW50YXhcbiAge1xuICAgIGlmIChlbC50YWcgPT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgIC8vIHYtc2xvdCBvbiA8dGVtcGxhdGU+XG4gICAgICB2YXIgc2xvdEJpbmRpbmcgPSBnZXRBbmRSZW1vdmVBdHRyQnlSZWdleChlbCwgc2xvdFJFKTtcbiAgICAgIGlmIChzbG90QmluZGluZykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGlmIChlbC5zbG90VGFyZ2V0IHx8IGVsLnNsb3RTY29wZSkge1xuICAgICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgbWl4ZWQgdXNhZ2Ugb2YgZGlmZmVyZW50IHNsb3Qgc3ludGF4ZXMuXCIsXG4gICAgICAgICAgICAgIGVsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZWwucGFyZW50ICYmICFtYXliZUNvbXBvbmVudChlbC5wYXJlbnQpKSB7XG4gICAgICAgICAgICB3YXJuJDIoXG4gICAgICAgICAgICAgIFwiPHRlbXBsYXRlIHYtc2xvdD4gY2FuIG9ubHkgYXBwZWFyIGF0IHRoZSByb290IGxldmVsIGluc2lkZSBcIiArXG4gICAgICAgICAgICAgIFwidGhlIHJlY2VpdmluZyBjb21wb25lbnRcIixcbiAgICAgICAgICAgICAgZWxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZWYgPSBnZXRTbG90TmFtZShzbG90QmluZGluZyk7XG4gICAgICAgIHZhciBuYW1lID0gcmVmLm5hbWU7XG4gICAgICAgIHZhciBkeW5hbWljID0gcmVmLmR5bmFtaWM7XG4gICAgICAgIGVsLnNsb3RUYXJnZXQgPSBuYW1lO1xuICAgICAgICBlbC5zbG90VGFyZ2V0RHluYW1pYyA9IGR5bmFtaWM7XG4gICAgICAgIGVsLnNsb3RTY29wZSA9IHNsb3RCaW5kaW5nLnZhbHVlIHx8IGVtcHR5U2xvdFNjb3BlVG9rZW47IC8vIGZvcmNlIGl0IGludG8gYSBzY29wZWQgc2xvdCBmb3IgcGVyZlxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyB2LXNsb3Qgb24gY29tcG9uZW50LCBkZW5vdGVzIGRlZmF1bHQgc2xvdFxuICAgICAgdmFyIHNsb3RCaW5kaW5nJDEgPSBnZXRBbmRSZW1vdmVBdHRyQnlSZWdleChlbCwgc2xvdFJFKTtcbiAgICAgIGlmIChzbG90QmluZGluZyQxKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgaWYgKCFtYXliZUNvbXBvbmVudChlbCkpIHtcbiAgICAgICAgICAgIHdhcm4kMihcbiAgICAgICAgICAgICAgXCJ2LXNsb3QgY2FuIG9ubHkgYmUgdXNlZCBvbiBjb21wb25lbnRzIG9yIDx0ZW1wbGF0ZT4uXCIsXG4gICAgICAgICAgICAgIHNsb3RCaW5kaW5nJDFcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChlbC5zbG90U2NvcGUgfHwgZWwuc2xvdFRhcmdldCkge1xuICAgICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgICBcIlVuZXhwZWN0ZWQgbWl4ZWQgdXNhZ2Ugb2YgZGlmZmVyZW50IHNsb3Qgc3ludGF4ZXMuXCIsXG4gICAgICAgICAgICAgIGVsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZWwuc2NvcGVkU2xvdHMpIHtcbiAgICAgICAgICAgIHdhcm4kMihcbiAgICAgICAgICAgICAgXCJUbyBhdm9pZCBzY29wZSBhbWJpZ3VpdHksIHRoZSBkZWZhdWx0IHNsb3Qgc2hvdWxkIGFsc28gdXNlIFwiICtcbiAgICAgICAgICAgICAgXCI8dGVtcGxhdGU+IHN5bnRheCB3aGVuIHRoZXJlIGFyZSBvdGhlciBuYW1lZCBzbG90cy5cIixcbiAgICAgICAgICAgICAgc2xvdEJpbmRpbmckMVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIHRoZSBjb21wb25lbnQncyBjaGlsZHJlbiB0byBpdHMgZGVmYXVsdCBzbG90XG4gICAgICAgIHZhciBzbG90cyA9IGVsLnNjb3BlZFNsb3RzIHx8IChlbC5zY29wZWRTbG90cyA9IHt9KTtcbiAgICAgICAgdmFyIHJlZiQxID0gZ2V0U2xvdE5hbWUoc2xvdEJpbmRpbmckMSk7XG4gICAgICAgIHZhciBuYW1lJDEgPSByZWYkMS5uYW1lO1xuICAgICAgICB2YXIgZHluYW1pYyQxID0gcmVmJDEuZHluYW1pYztcbiAgICAgICAgdmFyIHNsb3RDb250YWluZXIgPSBzbG90c1tuYW1lJDFdID0gY3JlYXRlQVNURWxlbWVudCgndGVtcGxhdGUnLCBbXSwgZWwpO1xuICAgICAgICBzbG90Q29udGFpbmVyLnNsb3RUYXJnZXQgPSBuYW1lJDE7XG4gICAgICAgIHNsb3RDb250YWluZXIuc2xvdFRhcmdldER5bmFtaWMgPSBkeW5hbWljJDE7XG4gICAgICAgIHNsb3RDb250YWluZXIuY2hpbGRyZW4gPSBlbC5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICBpZiAoIWMuc2xvdFNjb3BlKSB7XG4gICAgICAgICAgICBjLnBhcmVudCA9IHNsb3RDb250YWluZXI7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNsb3RDb250YWluZXIuc2xvdFNjb3BlID0gc2xvdEJpbmRpbmckMS52YWx1ZSB8fCBlbXB0eVNsb3RTY29wZVRva2VuO1xuICAgICAgICAvLyByZW1vdmUgY2hpbGRyZW4gYXMgdGhleSBhcmUgcmV0dXJuZWQgZnJvbSBzY29wZWRTbG90cyBub3dcbiAgICAgICAgZWwuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgLy8gbWFyayBlbCBub24tcGxhaW4gc28gZGF0YSBnZXRzIGdlbmVyYXRlZFxuICAgICAgICBlbC5wbGFpbiA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTbG90TmFtZSAoYmluZGluZykge1xuICB2YXIgbmFtZSA9IGJpbmRpbmcubmFtZS5yZXBsYWNlKHNsb3RSRSwgJycpO1xuICBpZiAoIW5hbWUpIHtcbiAgICBpZiAoYmluZGluZy5uYW1lWzBdICE9PSAnIycpIHtcbiAgICAgIG5hbWUgPSAnZGVmYXVsdCc7XG4gICAgfSBlbHNlIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICB3YXJuJDIoXG4gICAgICAgIFwidi1zbG90IHNob3J0aGFuZCBzeW50YXggcmVxdWlyZXMgYSBzbG90IG5hbWUuXCIsXG4gICAgICAgIGJpbmRpbmdcbiAgICAgICk7XG4gICAgfVxuICB9XG4gIHJldHVybiBkeW5hbWljQXJnUkUudGVzdChuYW1lKVxuICAgIC8vIGR5bmFtaWMgW25hbWVdXG4gICAgPyB7IG5hbWU6IG5hbWUuc2xpY2UoMSwgLTEpLCBkeW5hbWljOiB0cnVlIH1cbiAgICAvLyBzdGF0aWMgbmFtZVxuICAgIDogeyBuYW1lOiAoXCJcXFwiXCIgKyBuYW1lICsgXCJcXFwiXCIpLCBkeW5hbWljOiBmYWxzZSB9XG59XG5cbi8vIGhhbmRsZSA8c2xvdC8+IG91dGxldHNcbmZ1bmN0aW9uIHByb2Nlc3NTbG90T3V0bGV0IChlbCkge1xuICBpZiAoZWwudGFnID09PSAnc2xvdCcpIHtcbiAgICBlbC5zbG90TmFtZSA9IGdldEJpbmRpbmdBdHRyKGVsLCAnbmFtZScpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIGVsLmtleSkge1xuICAgICAgd2FybiQyKFxuICAgICAgICBcImBrZXlgIGRvZXMgbm90IHdvcmsgb24gPHNsb3Q+IGJlY2F1c2Ugc2xvdHMgYXJlIGFic3RyYWN0IG91dGxldHMgXCIgK1xuICAgICAgICBcImFuZCBjYW4gcG9zc2libHkgZXhwYW5kIGludG8gbXVsdGlwbGUgZWxlbWVudHMuIFwiICtcbiAgICAgICAgXCJVc2UgdGhlIGtleSBvbiBhIHdyYXBwaW5nIGVsZW1lbnQgaW5zdGVhZC5cIixcbiAgICAgICAgZ2V0UmF3QmluZGluZ0F0dHIoZWwsICdrZXknKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0NvbXBvbmVudCAoZWwpIHtcbiAgdmFyIGJpbmRpbmc7XG4gIGlmICgoYmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAnaXMnKSkpIHtcbiAgICBlbC5jb21wb25lbnQgPSBiaW5kaW5nO1xuICB9XG4gIGlmIChnZXRBbmRSZW1vdmVBdHRyKGVsLCAnaW5saW5lLXRlbXBsYXRlJykgIT0gbnVsbCkge1xuICAgIGVsLmlubGluZVRlbXBsYXRlID0gdHJ1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcm9jZXNzQXR0cnMgKGVsKSB7XG4gIHZhciBsaXN0ID0gZWwuYXR0cnNMaXN0O1xuICB2YXIgaSwgbCwgbmFtZSwgcmF3TmFtZSwgdmFsdWUsIG1vZGlmaWVycywgc3luY0dlbiwgaXNEeW5hbWljO1xuICBmb3IgKGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBuYW1lID0gcmF3TmFtZSA9IGxpc3RbaV0ubmFtZTtcbiAgICB2YWx1ZSA9IGxpc3RbaV0udmFsdWU7XG4gICAgaWYgKGRpclJFLnRlc3QobmFtZSkpIHtcbiAgICAgIC8vIG1hcmsgZWxlbWVudCBhcyBkeW5hbWljXG4gICAgICBlbC5oYXNCaW5kaW5ncyA9IHRydWU7XG4gICAgICAvLyBtb2RpZmllcnNcbiAgICAgIG1vZGlmaWVycyA9IHBhcnNlTW9kaWZpZXJzKG5hbWUucmVwbGFjZShkaXJSRSwgJycpKTtcbiAgICAgIC8vIHN1cHBvcnQgLmZvbyBzaG9ydGhhbmQgc3ludGF4IGZvciB0aGUgLnByb3AgbW9kaWZpZXJcbiAgICAgIGlmIChtb2RpZmllcnMpIHtcbiAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZShtb2RpZmllclJFLCAnJyk7XG4gICAgICB9XG4gICAgICBpZiAoYmluZFJFLnRlc3QobmFtZSkpIHsgLy8gdi1iaW5kXG4gICAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoYmluZFJFLCAnJyk7XG4gICAgICAgIHZhbHVlID0gcGFyc2VGaWx0ZXJzKHZhbHVlKTtcbiAgICAgICAgaXNEeW5hbWljID0gZHluYW1pY0FyZ1JFLnRlc3QobmFtZSk7XG4gICAgICAgIGlmIChpc0R5bmFtaWMpIHtcbiAgICAgICAgICBuYW1lID0gbmFtZS5zbGljZSgxLCAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiZcbiAgICAgICAgICB2YWx1ZS50cmltKCkubGVuZ3RoID09PSAwXG4gICAgICAgICkge1xuICAgICAgICAgIHdhcm4kMihcbiAgICAgICAgICAgIChcIlRoZSB2YWx1ZSBmb3IgYSB2LWJpbmQgZXhwcmVzc2lvbiBjYW5ub3QgYmUgZW1wdHkuIEZvdW5kIGluIFxcXCJ2LWJpbmQ6XCIgKyBuYW1lICsgXCJcXFwiXCIpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kaWZpZXJzKSB7XG4gICAgICAgICAgaWYgKG1vZGlmaWVycy5wcm9wICYmICFpc0R5bmFtaWMpIHtcbiAgICAgICAgICAgIG5hbWUgPSBjYW1lbGl6ZShuYW1lKTtcbiAgICAgICAgICAgIGlmIChuYW1lID09PSAnaW5uZXJIdG1sJykgeyBuYW1lID0gJ2lubmVySFRNTCc7IH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1vZGlmaWVycy5jYW1lbCAmJiAhaXNEeW5hbWljKSB7XG4gICAgICAgICAgICBuYW1lID0gY2FtZWxpemUobmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtb2RpZmllcnMuc3luYykge1xuICAgICAgICAgICAgc3luY0dlbiA9IGdlbkFzc2lnbm1lbnRDb2RlKHZhbHVlLCBcIiRldmVudFwiKTtcbiAgICAgICAgICAgIGlmICghaXNEeW5hbWljKSB7XG4gICAgICAgICAgICAgIGFkZEhhbmRsZXIoXG4gICAgICAgICAgICAgICAgZWwsXG4gICAgICAgICAgICAgICAgKFwidXBkYXRlOlwiICsgKGNhbWVsaXplKG5hbWUpKSksXG4gICAgICAgICAgICAgICAgc3luY0dlbixcbiAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICAgIHdhcm4kMixcbiAgICAgICAgICAgICAgICBsaXN0W2ldXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGlmIChoeXBoZW5hdGUobmFtZSkgIT09IGNhbWVsaXplKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgYWRkSGFuZGxlcihcbiAgICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgICAgKFwidXBkYXRlOlwiICsgKGh5cGhlbmF0ZShuYW1lKSkpLFxuICAgICAgICAgICAgICAgICAgc3luY0dlbixcbiAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIHdhcm4kMixcbiAgICAgICAgICAgICAgICAgIGxpc3RbaV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBoYW5kbGVyIHcvIGR5bmFtaWMgZXZlbnQgbmFtZVxuICAgICAgICAgICAgICBhZGRIYW5kbGVyKFxuICAgICAgICAgICAgICAgIGVsLFxuICAgICAgICAgICAgICAgIChcIlxcXCJ1cGRhdGU6XFxcIisoXCIgKyBuYW1lICsgXCIpXCIpLFxuICAgICAgICAgICAgICAgIHN5bmNHZW4sXG4gICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgICB3YXJuJDIsXG4gICAgICAgICAgICAgICAgbGlzdFtpXSxcbiAgICAgICAgICAgICAgICB0cnVlIC8vIGR5bmFtaWNcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChtb2RpZmllcnMgJiYgbW9kaWZpZXJzLnByb3ApIHx8IChcbiAgICAgICAgICAhZWwuY29tcG9uZW50ICYmIHBsYXRmb3JtTXVzdFVzZVByb3AoZWwudGFnLCBlbC5hdHRyc01hcC50eXBlLCBuYW1lKVxuICAgICAgICApKSB7XG4gICAgICAgICAgYWRkUHJvcChlbCwgbmFtZSwgdmFsdWUsIGxpc3RbaV0sIGlzRHluYW1pYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWRkQXR0cihlbCwgbmFtZSwgdmFsdWUsIGxpc3RbaV0sIGlzRHluYW1pYyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAob25SRS50ZXN0KG5hbWUpKSB7IC8vIHYtb25cbiAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZShvblJFLCAnJyk7XG4gICAgICAgIGlzRHluYW1pYyA9IGR5bmFtaWNBcmdSRS50ZXN0KG5hbWUpO1xuICAgICAgICBpZiAoaXNEeW5hbWljKSB7XG4gICAgICAgICAgbmFtZSA9IG5hbWUuc2xpY2UoMSwgLTEpO1xuICAgICAgICB9XG4gICAgICAgIGFkZEhhbmRsZXIoZWwsIG5hbWUsIHZhbHVlLCBtb2RpZmllcnMsIGZhbHNlLCB3YXJuJDIsIGxpc3RbaV0sIGlzRHluYW1pYyk7XG4gICAgICB9IGVsc2UgeyAvLyBub3JtYWwgZGlyZWN0aXZlc1xuICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKGRpclJFLCAnJyk7XG4gICAgICAgIC8vIHBhcnNlIGFyZ1xuICAgICAgICB2YXIgYXJnTWF0Y2ggPSBuYW1lLm1hdGNoKGFyZ1JFKTtcbiAgICAgICAgdmFyIGFyZyA9IGFyZ01hdGNoICYmIGFyZ01hdGNoWzFdO1xuICAgICAgICBpc0R5bmFtaWMgPSBmYWxzZTtcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgIG5hbWUgPSBuYW1lLnNsaWNlKDAsIC0oYXJnLmxlbmd0aCArIDEpKTtcbiAgICAgICAgICBpZiAoZHluYW1pY0FyZ1JFLnRlc3QoYXJnKSkge1xuICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgIGlzRHluYW1pYyA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFkZERpcmVjdGl2ZShlbCwgbmFtZSwgcmF3TmFtZSwgdmFsdWUsIGFyZywgaXNEeW5hbWljLCBtb2RpZmllcnMsIGxpc3RbaV0pO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBuYW1lID09PSAnbW9kZWwnKSB7XG4gICAgICAgICAgY2hlY2tGb3JBbGlhc01vZGVsKGVsLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gbGl0ZXJhbCBhdHRyaWJ1dGVcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhciByZXMgPSBwYXJzZVRleHQodmFsdWUsIGRlbGltaXRlcnMpO1xuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgd2FybiQyKFxuICAgICAgICAgICAgbmFtZSArIFwiPVxcXCJcIiArIHZhbHVlICsgXCJcXFwiOiBcIiArXG4gICAgICAgICAgICAnSW50ZXJwb2xhdGlvbiBpbnNpZGUgYXR0cmlidXRlcyBoYXMgYmVlbiByZW1vdmVkLiAnICtcbiAgICAgICAgICAgICdVc2Ugdi1iaW5kIG9yIHRoZSBjb2xvbiBzaG9ydGhhbmQgaW5zdGVhZC4gRm9yIGV4YW1wbGUsICcgK1xuICAgICAgICAgICAgJ2luc3RlYWQgb2YgPGRpdiBpZD1cInt7IHZhbCB9fVwiPiwgdXNlIDxkaXYgOmlkPVwidmFsXCI+LicsXG4gICAgICAgICAgICBsaXN0W2ldXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYWRkQXR0cihlbCwgbmFtZSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpLCBsaXN0W2ldKTtcbiAgICAgIC8vICM2ODg3IGZpcmVmb3ggZG9lc24ndCB1cGRhdGUgbXV0ZWQgc3RhdGUgaWYgc2V0IHZpYSBhdHRyaWJ1dGVcbiAgICAgIC8vIGV2ZW4gaW1tZWRpYXRlbHkgYWZ0ZXIgZWxlbWVudCBjcmVhdGlvblxuICAgICAgaWYgKCFlbC5jb21wb25lbnQgJiZcbiAgICAgICAgICBuYW1lID09PSAnbXV0ZWQnICYmXG4gICAgICAgICAgcGxhdGZvcm1NdXN0VXNlUHJvcChlbC50YWcsIGVsLmF0dHJzTWFwLnR5cGUsIG5hbWUpKSB7XG4gICAgICAgIGFkZFByb3AoZWwsIG5hbWUsICd0cnVlJywgbGlzdFtpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrSW5Gb3IgKGVsKSB7XG4gIHZhciBwYXJlbnQgPSBlbDtcbiAgd2hpbGUgKHBhcmVudCkge1xuICAgIGlmIChwYXJlbnQuZm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gIH1cbiAgcmV0dXJuIGZhbHNlXG59XG5cbmZ1bmN0aW9uIHBhcnNlTW9kaWZpZXJzIChuYW1lKSB7XG4gIHZhciBtYXRjaCA9IG5hbWUubWF0Y2gobW9kaWZpZXJSRSk7XG4gIGlmIChtYXRjaCkge1xuICAgIHZhciByZXQgPSB7fTtcbiAgICBtYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChtKSB7IHJldFttLnNsaWNlKDEpXSA9IHRydWU7IH0pO1xuICAgIHJldHVybiByZXRcbiAgfVxufVxuXG5mdW5jdGlvbiBtYWtlQXR0cnNNYXAgKGF0dHJzKSB7XG4gIHZhciBtYXAgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdHRycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgICBtYXBbYXR0cnNbaV0ubmFtZV0gJiYgIWlzSUUgJiYgIWlzRWRnZVxuICAgICkge1xuICAgICAgd2FybiQyKCdkdXBsaWNhdGUgYXR0cmlidXRlOiAnICsgYXR0cnNbaV0ubmFtZSwgYXR0cnNbaV0pO1xuICAgIH1cbiAgICBtYXBbYXR0cnNbaV0ubmFtZV0gPSBhdHRyc1tpXS52YWx1ZTtcbiAgfVxuICByZXR1cm4gbWFwXG59XG5cbi8vIGZvciBzY3JpcHQgKGUuZy4gdHlwZT1cIngvdGVtcGxhdGVcIikgb3Igc3R5bGUsIGRvIG5vdCBkZWNvZGUgY29udGVudFxuZnVuY3Rpb24gaXNUZXh0VGFnIChlbCkge1xuICByZXR1cm4gZWwudGFnID09PSAnc2NyaXB0JyB8fCBlbC50YWcgPT09ICdzdHlsZSdcbn1cblxuZnVuY3Rpb24gaXNGb3JiaWRkZW5UYWcgKGVsKSB7XG4gIHJldHVybiAoXG4gICAgZWwudGFnID09PSAnc3R5bGUnIHx8XG4gICAgKGVsLnRhZyA9PT0gJ3NjcmlwdCcgJiYgKFxuICAgICAgIWVsLmF0dHJzTWFwLnR5cGUgfHxcbiAgICAgIGVsLmF0dHJzTWFwLnR5cGUgPT09ICd0ZXh0L2phdmFzY3JpcHQnXG4gICAgKSlcbiAgKVxufVxuXG52YXIgaWVOU0J1ZyA9IC9eeG1sbnM6TlNcXGQrLztcbnZhciBpZU5TUHJlZml4ID0gL15OU1xcZCs6LztcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGd1YXJkSUVTVkdCdWcgKGF0dHJzKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRycy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBhdHRyID0gYXR0cnNbaV07XG4gICAgaWYgKCFpZU5TQnVnLnRlc3QoYXR0ci5uYW1lKSkge1xuICAgICAgYXR0ci5uYW1lID0gYXR0ci5uYW1lLnJlcGxhY2UoaWVOU1ByZWZpeCwgJycpO1xuICAgICAgcmVzLnB1c2goYXR0cik7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gY2hlY2tGb3JBbGlhc01vZGVsIChlbCwgdmFsdWUpIHtcbiAgdmFyIF9lbCA9IGVsO1xuICB3aGlsZSAoX2VsKSB7XG4gICAgaWYgKF9lbC5mb3IgJiYgX2VsLmFsaWFzID09PSB2YWx1ZSkge1xuICAgICAgd2FybiQyKFxuICAgICAgICBcIjxcIiArIChlbC50YWcpICsgXCIgdi1tb2RlbD1cXFwiXCIgKyB2YWx1ZSArIFwiXFxcIj46IFwiICtcbiAgICAgICAgXCJZb3UgYXJlIGJpbmRpbmcgdi1tb2RlbCBkaXJlY3RseSB0byBhIHYtZm9yIGl0ZXJhdGlvbiBhbGlhcy4gXCIgK1xuICAgICAgICBcIlRoaXMgd2lsbCBub3QgYmUgYWJsZSB0byBtb2RpZnkgdGhlIHYtZm9yIHNvdXJjZSBhcnJheSBiZWNhdXNlIFwiICtcbiAgICAgICAgXCJ3cml0aW5nIHRvIHRoZSBhbGlhcyBpcyBsaWtlIG1vZGlmeWluZyBhIGZ1bmN0aW9uIGxvY2FsIHZhcmlhYmxlLiBcIiArXG4gICAgICAgIFwiQ29uc2lkZXIgdXNpbmcgYW4gYXJyYXkgb2Ygb2JqZWN0cyBhbmQgdXNlIHYtbW9kZWwgb24gYW4gb2JqZWN0IHByb3BlcnR5IGluc3RlYWQuXCIsXG4gICAgICAgIGVsLnJhd0F0dHJzTWFwWyd2LW1vZGVsJ11cbiAgICAgICk7XG4gICAgfVxuICAgIF9lbCA9IF9lbC5wYXJlbnQ7XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIHByZVRyYW5zZm9ybU5vZGUgKGVsLCBvcHRpb25zKSB7XG4gIGlmIChlbC50YWcgPT09ICdpbnB1dCcpIHtcbiAgICB2YXIgbWFwID0gZWwuYXR0cnNNYXA7XG4gICAgaWYgKCFtYXBbJ3YtbW9kZWwnXSkge1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHR5cGVCaW5kaW5nO1xuICAgIGlmIChtYXBbJzp0eXBlJ10gfHwgbWFwWyd2LWJpbmQ6dHlwZSddKSB7XG4gICAgICB0eXBlQmluZGluZyA9IGdldEJpbmRpbmdBdHRyKGVsLCAndHlwZScpO1xuICAgIH1cbiAgICBpZiAoIW1hcC50eXBlICYmICF0eXBlQmluZGluZyAmJiBtYXBbJ3YtYmluZCddKSB7XG4gICAgICB0eXBlQmluZGluZyA9IFwiKFwiICsgKG1hcFsndi1iaW5kJ10pICsgXCIpLnR5cGVcIjtcbiAgICB9XG5cbiAgICBpZiAodHlwZUJpbmRpbmcpIHtcbiAgICAgIHZhciBpZkNvbmRpdGlvbiA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWlmJywgdHJ1ZSk7XG4gICAgICB2YXIgaWZDb25kaXRpb25FeHRyYSA9IGlmQ29uZGl0aW9uID8gKFwiJiYoXCIgKyBpZkNvbmRpdGlvbiArIFwiKVwiKSA6IFwiXCI7XG4gICAgICB2YXIgaGFzRWxzZSA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWVsc2UnLCB0cnVlKSAhPSBudWxsO1xuICAgICAgdmFyIGVsc2VJZkNvbmRpdGlvbiA9IGdldEFuZFJlbW92ZUF0dHIoZWwsICd2LWVsc2UtaWYnLCB0cnVlKTtcbiAgICAgIC8vIDEuIGNoZWNrYm94XG4gICAgICB2YXIgYnJhbmNoMCA9IGNsb25lQVNURWxlbWVudChlbCk7XG4gICAgICAvLyBwcm9jZXNzIGZvciBvbiB0aGUgbWFpbiBub2RlXG4gICAgICBwcm9jZXNzRm9yKGJyYW5jaDApO1xuICAgICAgYWRkUmF3QXR0cihicmFuY2gwLCAndHlwZScsICdjaGVja2JveCcpO1xuICAgICAgcHJvY2Vzc0VsZW1lbnQoYnJhbmNoMCwgb3B0aW9ucyk7XG4gICAgICBicmFuY2gwLnByb2Nlc3NlZCA9IHRydWU7IC8vIHByZXZlbnQgaXQgZnJvbSBkb3VibGUtcHJvY2Vzc2VkXG4gICAgICBicmFuY2gwLmlmID0gXCIoXCIgKyB0eXBlQmluZGluZyArIFwiKT09PSdjaGVja2JveCdcIiArIGlmQ29uZGl0aW9uRXh0cmE7XG4gICAgICBhZGRJZkNvbmRpdGlvbihicmFuY2gwLCB7XG4gICAgICAgIGV4cDogYnJhbmNoMC5pZixcbiAgICAgICAgYmxvY2s6IGJyYW5jaDBcbiAgICAgIH0pO1xuICAgICAgLy8gMi4gYWRkIHJhZGlvIGVsc2UtaWYgY29uZGl0aW9uXG4gICAgICB2YXIgYnJhbmNoMSA9IGNsb25lQVNURWxlbWVudChlbCk7XG4gICAgICBnZXRBbmRSZW1vdmVBdHRyKGJyYW5jaDEsICd2LWZvcicsIHRydWUpO1xuICAgICAgYWRkUmF3QXR0cihicmFuY2gxLCAndHlwZScsICdyYWRpbycpO1xuICAgICAgcHJvY2Vzc0VsZW1lbnQoYnJhbmNoMSwgb3B0aW9ucyk7XG4gICAgICBhZGRJZkNvbmRpdGlvbihicmFuY2gwLCB7XG4gICAgICAgIGV4cDogXCIoXCIgKyB0eXBlQmluZGluZyArIFwiKT09PSdyYWRpbydcIiArIGlmQ29uZGl0aW9uRXh0cmEsXG4gICAgICAgIGJsb2NrOiBicmFuY2gxXG4gICAgICB9KTtcbiAgICAgIC8vIDMuIG90aGVyXG4gICAgICB2YXIgYnJhbmNoMiA9IGNsb25lQVNURWxlbWVudChlbCk7XG4gICAgICBnZXRBbmRSZW1vdmVBdHRyKGJyYW5jaDIsICd2LWZvcicsIHRydWUpO1xuICAgICAgYWRkUmF3QXR0cihicmFuY2gyLCAnOnR5cGUnLCB0eXBlQmluZGluZyk7XG4gICAgICBwcm9jZXNzRWxlbWVudChicmFuY2gyLCBvcHRpb25zKTtcbiAgICAgIGFkZElmQ29uZGl0aW9uKGJyYW5jaDAsIHtcbiAgICAgICAgZXhwOiBpZkNvbmRpdGlvbixcbiAgICAgICAgYmxvY2s6IGJyYW5jaDJcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoaGFzRWxzZSkge1xuICAgICAgICBicmFuY2gwLmVsc2UgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChlbHNlSWZDb25kaXRpb24pIHtcbiAgICAgICAgYnJhbmNoMC5lbHNlaWYgPSBlbHNlSWZDb25kaXRpb247XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBicmFuY2gwXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNsb25lQVNURWxlbWVudCAoZWwpIHtcbiAgcmV0dXJuIGNyZWF0ZUFTVEVsZW1lbnQoZWwudGFnLCBlbC5hdHRyc0xpc3Quc2xpY2UoKSwgZWwucGFyZW50KVxufVxuXG52YXIgbW9kZWwkMSA9IHtcbiAgcHJlVHJhbnNmb3JtTm9kZTogcHJlVHJhbnNmb3JtTm9kZVxufTtcblxudmFyIG1vZHVsZXMkMSA9IFtcbiAga2xhc3MkMSxcbiAgc3R5bGUkMSxcbiAgbW9kZWwkMVxuXTtcblxuLyogICovXG5cbmZ1bmN0aW9uIHRleHQgKGVsLCBkaXIpIHtcbiAgaWYgKGRpci52YWx1ZSkge1xuICAgIGFkZFByb3AoZWwsICd0ZXh0Q29udGVudCcsIChcIl9zKFwiICsgKGRpci52YWx1ZSkgKyBcIilcIiksIGRpcik7XG4gIH1cbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGh0bWwgKGVsLCBkaXIpIHtcbiAgaWYgKGRpci52YWx1ZSkge1xuICAgIGFkZFByb3AoZWwsICdpbm5lckhUTUwnLCAoXCJfcyhcIiArIChkaXIudmFsdWUpICsgXCIpXCIpLCBkaXIpO1xuICB9XG59XG5cbnZhciBkaXJlY3RpdmVzJDEgPSB7XG4gIG1vZGVsOiBtb2RlbCxcbiAgdGV4dDogdGV4dCxcbiAgaHRtbDogaHRtbFxufTtcblxuLyogICovXG5cbnZhciBiYXNlT3B0aW9ucyA9IHtcbiAgZXhwZWN0SFRNTDogdHJ1ZSxcbiAgbW9kdWxlczogbW9kdWxlcyQxLFxuICBkaXJlY3RpdmVzOiBkaXJlY3RpdmVzJDEsXG4gIGlzUHJlVGFnOiBpc1ByZVRhZyxcbiAgaXNVbmFyeVRhZzogaXNVbmFyeVRhZyxcbiAgbXVzdFVzZVByb3A6IG11c3RVc2VQcm9wLFxuICBjYW5CZUxlZnRPcGVuVGFnOiBjYW5CZUxlZnRPcGVuVGFnLFxuICBpc1Jlc2VydmVkVGFnOiBpc1Jlc2VydmVkVGFnLFxuICBnZXRUYWdOYW1lc3BhY2U6IGdldFRhZ05hbWVzcGFjZSxcbiAgc3RhdGljS2V5czogZ2VuU3RhdGljS2V5cyhtb2R1bGVzJDEpXG59O1xuXG4vKiAgKi9cblxudmFyIGlzU3RhdGljS2V5O1xudmFyIGlzUGxhdGZvcm1SZXNlcnZlZFRhZztcblxudmFyIGdlblN0YXRpY0tleXNDYWNoZWQgPSBjYWNoZWQoZ2VuU3RhdGljS2V5cyQxKTtcblxuLyoqXG4gKiBHb2FsIG9mIHRoZSBvcHRpbWl6ZXI6IHdhbGsgdGhlIGdlbmVyYXRlZCB0ZW1wbGF0ZSBBU1QgdHJlZVxuICogYW5kIGRldGVjdCBzdWItdHJlZXMgdGhhdCBhcmUgcHVyZWx5IHN0YXRpYywgaS5lLiBwYXJ0cyBvZlxuICogdGhlIERPTSB0aGF0IG5ldmVyIG5lZWRzIHRvIGNoYW5nZS5cbiAqXG4gKiBPbmNlIHdlIGRldGVjdCB0aGVzZSBzdWItdHJlZXMsIHdlIGNhbjpcbiAqXG4gKiAxLiBIb2lzdCB0aGVtIGludG8gY29uc3RhbnRzLCBzbyB0aGF0IHdlIG5vIGxvbmdlciBuZWVkIHRvXG4gKiAgICBjcmVhdGUgZnJlc2ggbm9kZXMgZm9yIHRoZW0gb24gZWFjaCByZS1yZW5kZXI7XG4gKiAyLiBDb21wbGV0ZWx5IHNraXAgdGhlbSBpbiB0aGUgcGF0Y2hpbmcgcHJvY2Vzcy5cbiAqL1xuZnVuY3Rpb24gb3B0aW1pemUgKHJvb3QsIG9wdGlvbnMpIHtcbiAgaWYgKCFyb290KSB7IHJldHVybiB9XG4gIGlzU3RhdGljS2V5ID0gZ2VuU3RhdGljS2V5c0NhY2hlZChvcHRpb25zLnN0YXRpY0tleXMgfHwgJycpO1xuICBpc1BsYXRmb3JtUmVzZXJ2ZWRUYWcgPSBvcHRpb25zLmlzUmVzZXJ2ZWRUYWcgfHwgbm87XG4gIC8vIGZpcnN0IHBhc3M6IG1hcmsgYWxsIG5vbi1zdGF0aWMgbm9kZXMuXG4gIG1hcmtTdGF0aWMkMShyb290KTtcbiAgLy8gc2Vjb25kIHBhc3M6IG1hcmsgc3RhdGljIHJvb3RzLlxuICBtYXJrU3RhdGljUm9vdHMocm9vdCwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBnZW5TdGF0aWNLZXlzJDEgKGtleXMpIHtcbiAgcmV0dXJuIG1ha2VNYXAoXG4gICAgJ3R5cGUsdGFnLGF0dHJzTGlzdCxhdHRyc01hcCxwbGFpbixwYXJlbnQsY2hpbGRyZW4sYXR0cnMsc3RhcnQsZW5kLHJhd0F0dHJzTWFwJyArXG4gICAgKGtleXMgPyAnLCcgKyBrZXlzIDogJycpXG4gIClcbn1cblxuZnVuY3Rpb24gbWFya1N0YXRpYyQxIChub2RlKSB7XG4gIG5vZGUuc3RhdGljID0gaXNTdGF0aWMobm9kZSk7XG4gIGlmIChub2RlLnR5cGUgPT09IDEpIHtcbiAgICAvLyBkbyBub3QgbWFrZSBjb21wb25lbnQgc2xvdCBjb250ZW50IHN0YXRpYy4gdGhpcyBhdm9pZHNcbiAgICAvLyAxLiBjb21wb25lbnRzIG5vdCBhYmxlIHRvIG11dGF0ZSBzbG90IG5vZGVzXG4gICAgLy8gMi4gc3RhdGljIHNsb3QgY29udGVudCBmYWlscyBmb3IgaG90LXJlbG9hZGluZ1xuICAgIGlmIChcbiAgICAgICFpc1BsYXRmb3JtUmVzZXJ2ZWRUYWcobm9kZS50YWcpICYmXG4gICAgICBub2RlLnRhZyAhPT0gJ3Nsb3QnICYmXG4gICAgICBub2RlLmF0dHJzTWFwWydpbmxpbmUtdGVtcGxhdGUnXSA9PSBudWxsXG4gICAgKSB7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGNoaWxkID0gbm9kZS5jaGlsZHJlbltpXTtcbiAgICAgIG1hcmtTdGF0aWMkMShjaGlsZCk7XG4gICAgICBpZiAoIWNoaWxkLnN0YXRpYykge1xuICAgICAgICBub2RlLnN0YXRpYyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZS5pZkNvbmRpdGlvbnMpIHtcbiAgICAgIGZvciAodmFyIGkkMSA9IDEsIGwkMSA9IG5vZGUuaWZDb25kaXRpb25zLmxlbmd0aDsgaSQxIDwgbCQxOyBpJDErKykge1xuICAgICAgICB2YXIgYmxvY2sgPSBub2RlLmlmQ29uZGl0aW9uc1tpJDFdLmJsb2NrO1xuICAgICAgICBtYXJrU3RhdGljJDEoYmxvY2spO1xuICAgICAgICBpZiAoIWJsb2NrLnN0YXRpYykge1xuICAgICAgICAgIG5vZGUuc3RhdGljID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFya1N0YXRpY1Jvb3RzIChub2RlLCBpc0luRm9yKSB7XG4gIGlmIChub2RlLnR5cGUgPT09IDEpIHtcbiAgICBpZiAobm9kZS5zdGF0aWMgfHwgbm9kZS5vbmNlKSB7XG4gICAgICBub2RlLnN0YXRpY0luRm9yID0gaXNJbkZvcjtcbiAgICB9XG4gICAgLy8gRm9yIGEgbm9kZSB0byBxdWFsaWZ5IGFzIGEgc3RhdGljIHJvb3QsIGl0IHNob3VsZCBoYXZlIGNoaWxkcmVuIHRoYXRcbiAgICAvLyBhcmUgbm90IGp1c3Qgc3RhdGljIHRleHQuIE90aGVyd2lzZSB0aGUgY29zdCBvZiBob2lzdGluZyBvdXQgd2lsbFxuICAgIC8vIG91dHdlaWdoIHRoZSBiZW5lZml0cyBhbmQgaXQncyBiZXR0ZXIgb2ZmIHRvIGp1c3QgYWx3YXlzIHJlbmRlciBpdCBmcmVzaC5cbiAgICBpZiAobm9kZS5zdGF0aWMgJiYgbm9kZS5jaGlsZHJlbi5sZW5ndGggJiYgIShcbiAgICAgIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmXG4gICAgICBub2RlLmNoaWxkcmVuWzBdLnR5cGUgPT09IDNcbiAgICApKSB7XG4gICAgICBub2RlLnN0YXRpY1Jvb3QgPSB0cnVlO1xuICAgICAgcmV0dXJuXG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUuc3RhdGljUm9vdCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAobm9kZS5jaGlsZHJlbikge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBtYXJrU3RhdGljUm9vdHMobm9kZS5jaGlsZHJlbltpXSwgaXNJbkZvciB8fCAhIW5vZGUuZm9yKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG5vZGUuaWZDb25kaXRpb25zKSB7XG4gICAgICBmb3IgKHZhciBpJDEgPSAxLCBsJDEgPSBub2RlLmlmQ29uZGl0aW9ucy5sZW5ndGg7IGkkMSA8IGwkMTsgaSQxKyspIHtcbiAgICAgICAgbWFya1N0YXRpY1Jvb3RzKG5vZGUuaWZDb25kaXRpb25zW2kkMV0uYmxvY2ssIGlzSW5Gb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpc1N0YXRpYyAobm9kZSkge1xuICBpZiAobm9kZS50eXBlID09PSAyKSB7IC8vIGV4cHJlc3Npb25cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuICBpZiAobm9kZS50eXBlID09PSAzKSB7IC8vIHRleHRcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiAhIShub2RlLnByZSB8fCAoXG4gICAgIW5vZGUuaGFzQmluZGluZ3MgJiYgLy8gbm8gZHluYW1pYyBiaW5kaW5nc1xuICAgICFub2RlLmlmICYmICFub2RlLmZvciAmJiAvLyBub3Qgdi1pZiBvciB2LWZvciBvciB2LWVsc2VcbiAgICAhaXNCdWlsdEluVGFnKG5vZGUudGFnKSAmJiAvLyBub3QgYSBidWlsdC1pblxuICAgIGlzUGxhdGZvcm1SZXNlcnZlZFRhZyhub2RlLnRhZykgJiYgLy8gbm90IGEgY29tcG9uZW50XG4gICAgIWlzRGlyZWN0Q2hpbGRPZlRlbXBsYXRlRm9yKG5vZGUpICYmXG4gICAgT2JqZWN0LmtleXMobm9kZSkuZXZlcnkoaXNTdGF0aWNLZXkpXG4gICkpXG59XG5cbmZ1bmN0aW9uIGlzRGlyZWN0Q2hpbGRPZlRlbXBsYXRlRm9yIChub2RlKSB7XG4gIHdoaWxlIChub2RlLnBhcmVudCkge1xuICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICBpZiAobm9kZS50YWcgIT09ICd0ZW1wbGF0ZScpIHtcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBpZiAobm9kZS5mb3IpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG4vKiAgKi9cblxudmFyIGZuRXhwUkUgPSAvXihbXFx3JF9dK3xcXChbXildKj9cXCkpXFxzKj0+fF5mdW5jdGlvbig/OlxccytbXFx3JF0rKT9cXHMqXFwoLztcbnZhciBmbkludm9rZVJFID0gL1xcKFteKV0qP1xcKTsqJC87XG52YXIgc2ltcGxlUGF0aFJFID0gL15bQS1aYS16XyRdW1xcdyRdKig/OlxcLltBLVphLXpfJF1bXFx3JF0qfFxcWydbXiddKj8nXXxcXFtcIlteXCJdKj9cIl18XFxbXFxkK118XFxbW0EtWmEtel8kXVtcXHckXSpdKSokLztcblxuLy8gS2V5Ym9hcmRFdmVudC5rZXlDb2RlIGFsaWFzZXNcbnZhciBrZXlDb2RlcyA9IHtcbiAgZXNjOiAyNyxcbiAgdGFiOiA5LFxuICBlbnRlcjogMTMsXG4gIHNwYWNlOiAzMixcbiAgdXA6IDM4LFxuICBsZWZ0OiAzNyxcbiAgcmlnaHQ6IDM5LFxuICBkb3duOiA0MCxcbiAgJ2RlbGV0ZSc6IFs4LCA0Nl1cbn07XG5cbi8vIEtleWJvYXJkRXZlbnQua2V5IGFsaWFzZXNcbnZhciBrZXlOYW1lcyA9IHtcbiAgLy8gIzc4ODA6IElFMTEgYW5kIEVkZ2UgdXNlIGBFc2NgIGZvciBFc2NhcGUga2V5IG5hbWUuXG4gIGVzYzogWydFc2MnLCAnRXNjYXBlJ10sXG4gIHRhYjogJ1RhYicsXG4gIGVudGVyOiAnRW50ZXInLFxuICAvLyAjOTExMjogSUUxMSB1c2VzIGBTcGFjZWJhcmAgZm9yIFNwYWNlIGtleSBuYW1lLlxuICBzcGFjZTogWycgJywgJ1NwYWNlYmFyJ10sXG4gIC8vICM3ODA2OiBJRTExIHVzZXMga2V5IG5hbWVzIHdpdGhvdXQgYEFycm93YCBwcmVmaXggZm9yIGFycm93IGtleXMuXG4gIHVwOiBbJ1VwJywgJ0Fycm93VXAnXSxcbiAgbGVmdDogWydMZWZ0JywgJ0Fycm93TGVmdCddLFxuICByaWdodDogWydSaWdodCcsICdBcnJvd1JpZ2h0J10sXG4gIGRvd246IFsnRG93bicsICdBcnJvd0Rvd24nXSxcbiAgLy8gIzkxMTI6IElFMTEgdXNlcyBgRGVsYCBmb3IgRGVsZXRlIGtleSBuYW1lLlxuICAnZGVsZXRlJzogWydCYWNrc3BhY2UnLCAnRGVsZXRlJywgJ0RlbCddXG59O1xuXG4vLyAjNDg2ODogbW9kaWZpZXJzIHRoYXQgcHJldmVudCB0aGUgZXhlY3V0aW9uIG9mIHRoZSBsaXN0ZW5lclxuLy8gbmVlZCB0byBleHBsaWNpdGx5IHJldHVybiBudWxsIHNvIHRoYXQgd2UgY2FuIGRldGVybWluZSB3aGV0aGVyIHRvIHJlbW92ZVxuLy8gdGhlIGxpc3RlbmVyIGZvciAub25jZVxudmFyIGdlbkd1YXJkID0gZnVuY3Rpb24gKGNvbmRpdGlvbikgeyByZXR1cm4gKFwiaWYoXCIgKyBjb25kaXRpb24gKyBcIilyZXR1cm4gbnVsbDtcIik7IH07XG5cbnZhciBtb2RpZmllckNvZGUgPSB7XG4gIHN0b3A6ICckZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7JyxcbiAgcHJldmVudDogJyRldmVudC5wcmV2ZW50RGVmYXVsdCgpOycsXG4gIHNlbGY6IGdlbkd1YXJkKFwiJGV2ZW50LnRhcmdldCAhPT0gJGV2ZW50LmN1cnJlbnRUYXJnZXRcIiksXG4gIGN0cmw6IGdlbkd1YXJkKFwiISRldmVudC5jdHJsS2V5XCIpLFxuICBzaGlmdDogZ2VuR3VhcmQoXCIhJGV2ZW50LnNoaWZ0S2V5XCIpLFxuICBhbHQ6IGdlbkd1YXJkKFwiISRldmVudC5hbHRLZXlcIiksXG4gIG1ldGE6IGdlbkd1YXJkKFwiISRldmVudC5tZXRhS2V5XCIpLFxuICBsZWZ0OiBnZW5HdWFyZChcIididXR0b24nIGluICRldmVudCAmJiAkZXZlbnQuYnV0dG9uICE9PSAwXCIpLFxuICBtaWRkbGU6IGdlbkd1YXJkKFwiJ2J1dHRvbicgaW4gJGV2ZW50ICYmICRldmVudC5idXR0b24gIT09IDFcIiksXG4gIHJpZ2h0OiBnZW5HdWFyZChcIididXR0b24nIGluICRldmVudCAmJiAkZXZlbnQuYnV0dG9uICE9PSAyXCIpXG59O1xuXG5mdW5jdGlvbiBnZW5IYW5kbGVycyAoXG4gIGV2ZW50cyxcbiAgaXNOYXRpdmVcbikge1xuICB2YXIgcHJlZml4ID0gaXNOYXRpdmUgPyAnbmF0aXZlT246JyA6ICdvbjonO1xuICB2YXIgc3RhdGljSGFuZGxlcnMgPSBcIlwiO1xuICB2YXIgZHluYW1pY0hhbmRsZXJzID0gXCJcIjtcbiAgZm9yICh2YXIgbmFtZSBpbiBldmVudHMpIHtcbiAgICB2YXIgaGFuZGxlckNvZGUgPSBnZW5IYW5kbGVyKGV2ZW50c1tuYW1lXSk7XG4gICAgaWYgKGV2ZW50c1tuYW1lXSAmJiBldmVudHNbbmFtZV0uZHluYW1pYykge1xuICAgICAgZHluYW1pY0hhbmRsZXJzICs9IG5hbWUgKyBcIixcIiArIGhhbmRsZXJDb2RlICsgXCIsXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRpY0hhbmRsZXJzICs9IFwiXFxcIlwiICsgbmFtZSArIFwiXFxcIjpcIiArIGhhbmRsZXJDb2RlICsgXCIsXCI7XG4gICAgfVxuICB9XG4gIHN0YXRpY0hhbmRsZXJzID0gXCJ7XCIgKyAoc3RhdGljSGFuZGxlcnMuc2xpY2UoMCwgLTEpKSArIFwifVwiO1xuICBpZiAoZHluYW1pY0hhbmRsZXJzKSB7XG4gICAgcmV0dXJuIHByZWZpeCArIFwiX2QoXCIgKyBzdGF0aWNIYW5kbGVycyArIFwiLFtcIiArIChkeW5hbWljSGFuZGxlcnMuc2xpY2UoMCwgLTEpKSArIFwiXSlcIlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBwcmVmaXggKyBzdGF0aWNIYW5kbGVyc1xuICB9XG59XG5cbmZ1bmN0aW9uIGdlbkhhbmRsZXIgKGhhbmRsZXIpIHtcbiAgaWYgKCFoYW5kbGVyKSB7XG4gICAgcmV0dXJuICdmdW5jdGlvbigpe30nXG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShoYW5kbGVyKSkge1xuICAgIHJldHVybiAoXCJbXCIgKyAoaGFuZGxlci5tYXAoZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIGdlbkhhbmRsZXIoaGFuZGxlcik7IH0pLmpvaW4oJywnKSkgKyBcIl1cIilcbiAgfVxuXG4gIHZhciBpc01ldGhvZFBhdGggPSBzaW1wbGVQYXRoUkUudGVzdChoYW5kbGVyLnZhbHVlKTtcbiAgdmFyIGlzRnVuY3Rpb25FeHByZXNzaW9uID0gZm5FeHBSRS50ZXN0KGhhbmRsZXIudmFsdWUpO1xuICB2YXIgaXNGdW5jdGlvbkludm9jYXRpb24gPSBzaW1wbGVQYXRoUkUudGVzdChoYW5kbGVyLnZhbHVlLnJlcGxhY2UoZm5JbnZva2VSRSwgJycpKTtcblxuICBpZiAoIWhhbmRsZXIubW9kaWZpZXJzKSB7XG4gICAgaWYgKGlzTWV0aG9kUGF0aCB8fCBpc0Z1bmN0aW9uRXhwcmVzc2lvbikge1xuICAgICAgcmV0dXJuIGhhbmRsZXIudmFsdWVcbiAgICB9XG4gICAgcmV0dXJuIChcImZ1bmN0aW9uKCRldmVudCl7XCIgKyAoaXNGdW5jdGlvbkludm9jYXRpb24gPyAoXCJyZXR1cm4gXCIgKyAoaGFuZGxlci52YWx1ZSkpIDogaGFuZGxlci52YWx1ZSkgKyBcIn1cIikgLy8gaW5saW5lIHN0YXRlbWVudFxuICB9IGVsc2Uge1xuICAgIHZhciBjb2RlID0gJyc7XG4gICAgdmFyIGdlbk1vZGlmaWVyQ29kZSA9ICcnO1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIGhhbmRsZXIubW9kaWZpZXJzKSB7XG4gICAgICBpZiAobW9kaWZpZXJDb2RlW2tleV0pIHtcbiAgICAgICAgZ2VuTW9kaWZpZXJDb2RlICs9IG1vZGlmaWVyQ29kZVtrZXldO1xuICAgICAgICAvLyBsZWZ0L3JpZ2h0XG4gICAgICAgIGlmIChrZXlDb2Rlc1trZXldKSB7XG4gICAgICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZXhhY3QnKSB7XG4gICAgICAgIHZhciBtb2RpZmllcnMgPSAoaGFuZGxlci5tb2RpZmllcnMpO1xuICAgICAgICBnZW5Nb2RpZmllckNvZGUgKz0gZ2VuR3VhcmQoXG4gICAgICAgICAgWydjdHJsJywgJ3NoaWZ0JywgJ2FsdCcsICdtZXRhJ11cbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGtleU1vZGlmaWVyKSB7IHJldHVybiAhbW9kaWZpZXJzW2tleU1vZGlmaWVyXTsgfSlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleU1vZGlmaWVyKSB7IHJldHVybiAoXCIkZXZlbnQuXCIgKyBrZXlNb2RpZmllciArIFwiS2V5XCIpOyB9KVxuICAgICAgICAgICAgLmpvaW4oJ3x8JylcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5cy5sZW5ndGgpIHtcbiAgICAgIGNvZGUgKz0gZ2VuS2V5RmlsdGVyKGtleXMpO1xuICAgIH1cbiAgICAvLyBNYWtlIHN1cmUgbW9kaWZpZXJzIGxpa2UgcHJldmVudCBhbmQgc3RvcCBnZXQgZXhlY3V0ZWQgYWZ0ZXIga2V5IGZpbHRlcmluZ1xuICAgIGlmIChnZW5Nb2RpZmllckNvZGUpIHtcbiAgICAgIGNvZGUgKz0gZ2VuTW9kaWZpZXJDb2RlO1xuICAgIH1cbiAgICB2YXIgaGFuZGxlckNvZGUgPSBpc01ldGhvZFBhdGhcbiAgICAgID8gKFwicmV0dXJuIFwiICsgKGhhbmRsZXIudmFsdWUpICsgXCIoJGV2ZW50KVwiKVxuICAgICAgOiBpc0Z1bmN0aW9uRXhwcmVzc2lvblxuICAgICAgICA/IChcInJldHVybiAoXCIgKyAoaGFuZGxlci52YWx1ZSkgKyBcIikoJGV2ZW50KVwiKVxuICAgICAgICA6IGlzRnVuY3Rpb25JbnZvY2F0aW9uXG4gICAgICAgICAgPyAoXCJyZXR1cm4gXCIgKyAoaGFuZGxlci52YWx1ZSkpXG4gICAgICAgICAgOiBoYW5kbGVyLnZhbHVlO1xuICAgIHJldHVybiAoXCJmdW5jdGlvbigkZXZlbnQpe1wiICsgY29kZSArIGhhbmRsZXJDb2RlICsgXCJ9XCIpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuS2V5RmlsdGVyIChrZXlzKSB7XG4gIHJldHVybiAoXG4gICAgLy8gbWFrZSBzdXJlIHRoZSBrZXkgZmlsdGVycyBvbmx5IGFwcGx5IHRvIEtleWJvYXJkRXZlbnRzXG4gICAgLy8gIzk0NDE6IGNhbid0IHVzZSAna2V5Q29kZScgaW4gJGV2ZW50IGJlY2F1c2UgQ2hyb21lIGF1dG9maWxsIGZpcmVzIGZha2VcbiAgICAvLyBrZXkgZXZlbnRzIHRoYXQgZG8gbm90IGhhdmUga2V5Q29kZSBwcm9wZXJ0eS4uLlxuICAgIFwiaWYoISRldmVudC50eXBlLmluZGV4T2YoJ2tleScpJiZcIiArXG4gICAgKGtleXMubWFwKGdlbkZpbHRlckNvZGUpLmpvaW4oJyYmJykpICsgXCIpcmV0dXJuIG51bGw7XCJcbiAgKVxufVxuXG5mdW5jdGlvbiBnZW5GaWx0ZXJDb2RlIChrZXkpIHtcbiAgdmFyIGtleVZhbCA9IHBhcnNlSW50KGtleSwgMTApO1xuICBpZiAoa2V5VmFsKSB7XG4gICAgcmV0dXJuIChcIiRldmVudC5rZXlDb2RlIT09XCIgKyBrZXlWYWwpXG4gIH1cbiAgdmFyIGtleUNvZGUgPSBrZXlDb2Rlc1trZXldO1xuICB2YXIga2V5TmFtZSA9IGtleU5hbWVzW2tleV07XG4gIHJldHVybiAoXG4gICAgXCJfaygkZXZlbnQua2V5Q29kZSxcIiArXG4gICAgKEpTT04uc3RyaW5naWZ5KGtleSkpICsgXCIsXCIgK1xuICAgIChKU09OLnN0cmluZ2lmeShrZXlDb2RlKSkgKyBcIixcIiArXG4gICAgXCIkZXZlbnQua2V5LFwiICtcbiAgICBcIlwiICsgKEpTT04uc3RyaW5naWZ5KGtleU5hbWUpKSArXG4gICAgXCIpXCJcbiAgKVxufVxuXG4vKiAgKi9cblxuZnVuY3Rpb24gb24gKGVsLCBkaXIpIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgZGlyLm1vZGlmaWVycykge1xuICAgIHdhcm4oXCJ2LW9uIHdpdGhvdXQgYXJndW1lbnQgZG9lcyBub3Qgc3VwcG9ydCBtb2RpZmllcnMuXCIpO1xuICB9XG4gIGVsLndyYXBMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoY29kZSkgeyByZXR1cm4gKFwiX2coXCIgKyBjb2RlICsgXCIsXCIgKyAoZGlyLnZhbHVlKSArIFwiKVwiKTsgfTtcbn1cblxuLyogICovXG5cbmZ1bmN0aW9uIGJpbmQkMSAoZWwsIGRpcikge1xuICBlbC53cmFwRGF0YSA9IGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgcmV0dXJuIChcIl9iKFwiICsgY29kZSArIFwiLCdcIiArIChlbC50YWcpICsgXCInLFwiICsgKGRpci52YWx1ZSkgKyBcIixcIiArIChkaXIubW9kaWZpZXJzICYmIGRpci5tb2RpZmllcnMucHJvcCA/ICd0cnVlJyA6ICdmYWxzZScpICsgKGRpci5tb2RpZmllcnMgJiYgZGlyLm1vZGlmaWVycy5zeW5jID8gJyx0cnVlJyA6ICcnKSArIFwiKVwiKVxuICB9O1xufVxuXG4vKiAgKi9cblxudmFyIGJhc2VEaXJlY3RpdmVzID0ge1xuICBvbjogb24sXG4gIGJpbmQ6IGJpbmQkMSxcbiAgY2xvYWs6IG5vb3Bcbn07XG5cbi8qICAqL1xuXG5cblxuXG5cbnZhciBDb2RlZ2VuU3RhdGUgPSBmdW5jdGlvbiBDb2RlZ2VuU3RhdGUgKG9wdGlvbnMpIHtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy53YXJuID0gb3B0aW9ucy53YXJuIHx8IGJhc2VXYXJuO1xuICB0aGlzLnRyYW5zZm9ybXMgPSBwbHVja01vZHVsZUZ1bmN0aW9uKG9wdGlvbnMubW9kdWxlcywgJ3RyYW5zZm9ybUNvZGUnKTtcbiAgdGhpcy5kYXRhR2VuRm5zID0gcGx1Y2tNb2R1bGVGdW5jdGlvbihvcHRpb25zLm1vZHVsZXMsICdnZW5EYXRhJyk7XG4gIHRoaXMuZGlyZWN0aXZlcyA9IGV4dGVuZChleHRlbmQoe30sIGJhc2VEaXJlY3RpdmVzKSwgb3B0aW9ucy5kaXJlY3RpdmVzKTtcbiAgdmFyIGlzUmVzZXJ2ZWRUYWcgPSBvcHRpb25zLmlzUmVzZXJ2ZWRUYWcgfHwgbm87XG4gIHRoaXMubWF5YmVDb21wb25lbnQgPSBmdW5jdGlvbiAoZWwpIHsgcmV0dXJuICEhZWwuY29tcG9uZW50IHx8ICFpc1Jlc2VydmVkVGFnKGVsLnRhZyk7IH07XG4gIHRoaXMub25jZUlkID0gMDtcbiAgdGhpcy5zdGF0aWNSZW5kZXJGbnMgPSBbXTtcbiAgdGhpcy5wcmUgPSBmYWxzZTtcbn07XG5cblxuXG5mdW5jdGlvbiBnZW5lcmF0ZSAoXG4gIGFzdCxcbiAgb3B0aW9uc1xuKSB7XG4gIHZhciBzdGF0ZSA9IG5ldyBDb2RlZ2VuU3RhdGUob3B0aW9ucyk7XG4gIHZhciBjb2RlID0gYXN0ID8gZ2VuRWxlbWVudChhc3QsIHN0YXRlKSA6ICdfYyhcImRpdlwiKSc7XG4gIHJldHVybiB7XG4gICAgcmVuZGVyOiAoXCJ3aXRoKHRoaXMpe3JldHVybiBcIiArIGNvZGUgKyBcIn1cIiksXG4gICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0ZS5zdGF0aWNSZW5kZXJGbnNcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5FbGVtZW50IChlbCwgc3RhdGUpIHtcbiAgaWYgKGVsLnBhcmVudCkge1xuICAgIGVsLnByZSA9IGVsLnByZSB8fCBlbC5wYXJlbnQucHJlO1xuICB9XG5cbiAgaWYgKGVsLnN0YXRpY1Jvb3QgJiYgIWVsLnN0YXRpY1Byb2Nlc3NlZCkge1xuICAgIHJldHVybiBnZW5TdGF0aWMoZWwsIHN0YXRlKVxuICB9IGVsc2UgaWYgKGVsLm9uY2UgJiYgIWVsLm9uY2VQcm9jZXNzZWQpIHtcbiAgICByZXR1cm4gZ2VuT25jZShlbCwgc3RhdGUpXG4gIH0gZWxzZSBpZiAoZWwuZm9yICYmICFlbC5mb3JQcm9jZXNzZWQpIHtcbiAgICByZXR1cm4gZ2VuRm9yKGVsLCBzdGF0ZSlcbiAgfSBlbHNlIGlmIChlbC5pZiAmJiAhZWwuaWZQcm9jZXNzZWQpIHtcbiAgICByZXR1cm4gZ2VuSWYoZWwsIHN0YXRlKVxuICB9IGVsc2UgaWYgKGVsLnRhZyA9PT0gJ3RlbXBsYXRlJyAmJiAhZWwuc2xvdFRhcmdldCAmJiAhc3RhdGUucHJlKSB7XG4gICAgcmV0dXJuIGdlbkNoaWxkcmVuKGVsLCBzdGF0ZSkgfHwgJ3ZvaWQgMCdcbiAgfSBlbHNlIGlmIChlbC50YWcgPT09ICdzbG90Jykge1xuICAgIHJldHVybiBnZW5TbG90KGVsLCBzdGF0ZSlcbiAgfSBlbHNlIHtcbiAgICAvLyBjb21wb25lbnQgb3IgZWxlbWVudFxuICAgIHZhciBjb2RlO1xuICAgIGlmIChlbC5jb21wb25lbnQpIHtcbiAgICAgIGNvZGUgPSBnZW5Db21wb25lbnQoZWwuY29tcG9uZW50LCBlbCwgc3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZGF0YTtcbiAgICAgIGlmICghZWwucGxhaW4gfHwgKGVsLnByZSAmJiBzdGF0ZS5tYXliZUNvbXBvbmVudChlbCkpKSB7XG4gICAgICAgIGRhdGEgPSBnZW5EYXRhJDIoZWwsIHN0YXRlKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNoaWxkcmVuID0gZWwuaW5saW5lVGVtcGxhdGUgPyBudWxsIDogZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlLCB0cnVlKTtcbiAgICAgIGNvZGUgPSBcIl9jKCdcIiArIChlbC50YWcpICsgXCInXCIgKyAoZGF0YSA/IChcIixcIiArIGRhdGEpIDogJycpICsgKGNoaWxkcmVuID8gKFwiLFwiICsgY2hpbGRyZW4pIDogJycpICsgXCIpXCI7XG4gICAgfVxuICAgIC8vIG1vZHVsZSB0cmFuc2Zvcm1zXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS50cmFuc2Zvcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb2RlID0gc3RhdGUudHJhbnNmb3Jtc1tpXShlbCwgY29kZSk7XG4gICAgfVxuICAgIHJldHVybiBjb2RlXG4gIH1cbn1cblxuLy8gaG9pc3Qgc3RhdGljIHN1Yi10cmVlcyBvdXRcbmZ1bmN0aW9uIGdlblN0YXRpYyAoZWwsIHN0YXRlKSB7XG4gIGVsLnN0YXRpY1Byb2Nlc3NlZCA9IHRydWU7XG4gIC8vIFNvbWUgZWxlbWVudHMgKHRlbXBsYXRlcykgbmVlZCB0byBiZWhhdmUgZGlmZmVyZW50bHkgaW5zaWRlIG9mIGEgdi1wcmVcbiAgLy8gbm9kZS4gIEFsbCBwcmUgbm9kZXMgYXJlIHN0YXRpYyByb290cywgc28gd2UgY2FuIHVzZSB0aGlzIGFzIGEgbG9jYXRpb24gdG9cbiAgLy8gd3JhcCBhIHN0YXRlIGNoYW5nZSBhbmQgcmVzZXQgaXQgdXBvbiBleGl0aW5nIHRoZSBwcmUgbm9kZS5cbiAgdmFyIG9yaWdpbmFsUHJlU3RhdGUgPSBzdGF0ZS5wcmU7XG4gIGlmIChlbC5wcmUpIHtcbiAgICBzdGF0ZS5wcmUgPSBlbC5wcmU7XG4gIH1cbiAgc3RhdGUuc3RhdGljUmVuZGVyRm5zLnB1c2goKFwid2l0aCh0aGlzKXtyZXR1cm4gXCIgKyAoZ2VuRWxlbWVudChlbCwgc3RhdGUpKSArIFwifVwiKSk7XG4gIHN0YXRlLnByZSA9IG9yaWdpbmFsUHJlU3RhdGU7XG4gIHJldHVybiAoXCJfbShcIiArIChzdGF0ZS5zdGF0aWNSZW5kZXJGbnMubGVuZ3RoIC0gMSkgKyAoZWwuc3RhdGljSW5Gb3IgPyAnLHRydWUnIDogJycpICsgXCIpXCIpXG59XG5cbi8vIHYtb25jZVxuZnVuY3Rpb24gZ2VuT25jZSAoZWwsIHN0YXRlKSB7XG4gIGVsLm9uY2VQcm9jZXNzZWQgPSB0cnVlO1xuICBpZiAoZWwuaWYgJiYgIWVsLmlmUHJvY2Vzc2VkKSB7XG4gICAgcmV0dXJuIGdlbklmKGVsLCBzdGF0ZSlcbiAgfSBlbHNlIGlmIChlbC5zdGF0aWNJbkZvcikge1xuICAgIHZhciBrZXkgPSAnJztcbiAgICB2YXIgcGFyZW50ID0gZWwucGFyZW50O1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgIGlmIChwYXJlbnQuZm9yKSB7XG4gICAgICAgIGtleSA9IHBhcmVudC5rZXk7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgIH1cbiAgICBpZiAoIWtleSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBzdGF0ZS53YXJuKFxuICAgICAgICBcInYtb25jZSBjYW4gb25seSBiZSB1c2VkIGluc2lkZSB2LWZvciB0aGF0IGlzIGtleWVkLiBcIixcbiAgICAgICAgZWwucmF3QXR0cnNNYXBbJ3Ytb25jZSddXG4gICAgICApO1xuICAgICAgcmV0dXJuIGdlbkVsZW1lbnQoZWwsIHN0YXRlKVxuICAgIH1cbiAgICByZXR1cm4gKFwiX28oXCIgKyAoZ2VuRWxlbWVudChlbCwgc3RhdGUpKSArIFwiLFwiICsgKHN0YXRlLm9uY2VJZCsrKSArIFwiLFwiICsga2V5ICsgXCIpXCIpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGdlblN0YXRpYyhlbCwgc3RhdGUpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuSWYgKFxuICBlbCxcbiAgc3RhdGUsXG4gIGFsdEdlbixcbiAgYWx0RW1wdHlcbikge1xuICBlbC5pZlByb2Nlc3NlZCA9IHRydWU7IC8vIGF2b2lkIHJlY3Vyc2lvblxuICByZXR1cm4gZ2VuSWZDb25kaXRpb25zKGVsLmlmQ29uZGl0aW9ucy5zbGljZSgpLCBzdGF0ZSwgYWx0R2VuLCBhbHRFbXB0eSlcbn1cblxuZnVuY3Rpb24gZ2VuSWZDb25kaXRpb25zIChcbiAgY29uZGl0aW9ucyxcbiAgc3RhdGUsXG4gIGFsdEdlbixcbiAgYWx0RW1wdHlcbikge1xuICBpZiAoIWNvbmRpdGlvbnMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGFsdEVtcHR5IHx8ICdfZSgpJ1xuICB9XG5cbiAgdmFyIGNvbmRpdGlvbiA9IGNvbmRpdGlvbnMuc2hpZnQoKTtcbiAgaWYgKGNvbmRpdGlvbi5leHApIHtcbiAgICByZXR1cm4gKFwiKFwiICsgKGNvbmRpdGlvbi5leHApICsgXCIpP1wiICsgKGdlblRlcm5hcnlFeHAoY29uZGl0aW9uLmJsb2NrKSkgKyBcIjpcIiArIChnZW5JZkNvbmRpdGlvbnMoY29uZGl0aW9ucywgc3RhdGUsIGFsdEdlbiwgYWx0RW1wdHkpKSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gKFwiXCIgKyAoZ2VuVGVybmFyeUV4cChjb25kaXRpb24uYmxvY2spKSlcbiAgfVxuXG4gIC8vIHYtaWYgd2l0aCB2LW9uY2Ugc2hvdWxkIGdlbmVyYXRlIGNvZGUgbGlrZSAoYSk/X20oMCk6X20oMSlcbiAgZnVuY3Rpb24gZ2VuVGVybmFyeUV4cCAoZWwpIHtcbiAgICByZXR1cm4gYWx0R2VuXG4gICAgICA/IGFsdEdlbihlbCwgc3RhdGUpXG4gICAgICA6IGVsLm9uY2VcbiAgICAgICAgPyBnZW5PbmNlKGVsLCBzdGF0ZSlcbiAgICAgICAgOiBnZW5FbGVtZW50KGVsLCBzdGF0ZSlcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5Gb3IgKFxuICBlbCxcbiAgc3RhdGUsXG4gIGFsdEdlbixcbiAgYWx0SGVscGVyXG4pIHtcbiAgdmFyIGV4cCA9IGVsLmZvcjtcbiAgdmFyIGFsaWFzID0gZWwuYWxpYXM7XG4gIHZhciBpdGVyYXRvcjEgPSBlbC5pdGVyYXRvcjEgPyAoXCIsXCIgKyAoZWwuaXRlcmF0b3IxKSkgOiAnJztcbiAgdmFyIGl0ZXJhdG9yMiA9IGVsLml0ZXJhdG9yMiA/IChcIixcIiArIChlbC5pdGVyYXRvcjIpKSA6ICcnO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmXG4gICAgc3RhdGUubWF5YmVDb21wb25lbnQoZWwpICYmXG4gICAgZWwudGFnICE9PSAnc2xvdCcgJiZcbiAgICBlbC50YWcgIT09ICd0ZW1wbGF0ZScgJiZcbiAgICAhZWwua2V5XG4gICkge1xuICAgIHN0YXRlLndhcm4oXG4gICAgICBcIjxcIiArIChlbC50YWcpICsgXCIgdi1mb3I9XFxcIlwiICsgYWxpYXMgKyBcIiBpbiBcIiArIGV4cCArIFwiXFxcIj46IGNvbXBvbmVudCBsaXN0cyByZW5kZXJlZCB3aXRoIFwiICtcbiAgICAgIFwidi1mb3Igc2hvdWxkIGhhdmUgZXhwbGljaXQga2V5cy4gXCIgK1xuICAgICAgXCJTZWUgaHR0cHM6Ly92dWVqcy5vcmcvZ3VpZGUvbGlzdC5odG1sI2tleSBmb3IgbW9yZSBpbmZvLlwiLFxuICAgICAgZWwucmF3QXR0cnNNYXBbJ3YtZm9yJ10sXG4gICAgICB0cnVlIC8qIHRpcCAqL1xuICAgICk7XG4gIH1cblxuICBlbC5mb3JQcm9jZXNzZWQgPSB0cnVlOyAvLyBhdm9pZCByZWN1cnNpb25cbiAgcmV0dXJuIChhbHRIZWxwZXIgfHwgJ19sJykgKyBcIigoXCIgKyBleHAgKyBcIiksXCIgK1xuICAgIFwiZnVuY3Rpb24oXCIgKyBhbGlhcyArIGl0ZXJhdG9yMSArIGl0ZXJhdG9yMiArIFwiKXtcIiArXG4gICAgICBcInJldHVybiBcIiArICgoYWx0R2VuIHx8IGdlbkVsZW1lbnQpKGVsLCBzdGF0ZSkpICtcbiAgICAnfSknXG59XG5cbmZ1bmN0aW9uIGdlbkRhdGEkMiAoZWwsIHN0YXRlKSB7XG4gIHZhciBkYXRhID0gJ3snO1xuXG4gIC8vIGRpcmVjdGl2ZXMgZmlyc3QuXG4gIC8vIGRpcmVjdGl2ZXMgbWF5IG11dGF0ZSB0aGUgZWwncyBvdGhlciBwcm9wZXJ0aWVzIGJlZm9yZSB0aGV5IGFyZSBnZW5lcmF0ZWQuXG4gIHZhciBkaXJzID0gZ2VuRGlyZWN0aXZlcyhlbCwgc3RhdGUpO1xuICBpZiAoZGlycykgeyBkYXRhICs9IGRpcnMgKyAnLCc7IH1cblxuICAvLyBrZXlcbiAgaWYgKGVsLmtleSkge1xuICAgIGRhdGEgKz0gXCJrZXk6XCIgKyAoZWwua2V5KSArIFwiLFwiO1xuICB9XG4gIC8vIHJlZlxuICBpZiAoZWwucmVmKSB7XG4gICAgZGF0YSArPSBcInJlZjpcIiArIChlbC5yZWYpICsgXCIsXCI7XG4gIH1cbiAgaWYgKGVsLnJlZkluRm9yKSB7XG4gICAgZGF0YSArPSBcInJlZkluRm9yOnRydWUsXCI7XG4gIH1cbiAgLy8gcHJlXG4gIGlmIChlbC5wcmUpIHtcbiAgICBkYXRhICs9IFwicHJlOnRydWUsXCI7XG4gIH1cbiAgLy8gcmVjb3JkIG9yaWdpbmFsIHRhZyBuYW1lIGZvciBjb21wb25lbnRzIHVzaW5nIFwiaXNcIiBhdHRyaWJ1dGVcbiAgaWYgKGVsLmNvbXBvbmVudCkge1xuICAgIGRhdGEgKz0gXCJ0YWc6XFxcIlwiICsgKGVsLnRhZykgKyBcIlxcXCIsXCI7XG4gIH1cbiAgLy8gbW9kdWxlIGRhdGEgZ2VuZXJhdGlvbiBmdW5jdGlvbnNcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5kYXRhR2VuRm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgZGF0YSArPSBzdGF0ZS5kYXRhR2VuRm5zW2ldKGVsKTtcbiAgfVxuICAvLyBhdHRyaWJ1dGVzXG4gIGlmIChlbC5hdHRycykge1xuICAgIGRhdGEgKz0gXCJhdHRyczpcIiArIChnZW5Qcm9wcyhlbC5hdHRycykpICsgXCIsXCI7XG4gIH1cbiAgLy8gRE9NIHByb3BzXG4gIGlmIChlbC5wcm9wcykge1xuICAgIGRhdGEgKz0gXCJkb21Qcm9wczpcIiArIChnZW5Qcm9wcyhlbC5wcm9wcykpICsgXCIsXCI7XG4gIH1cbiAgLy8gZXZlbnQgaGFuZGxlcnNcbiAgaWYgKGVsLmV2ZW50cykge1xuICAgIGRhdGEgKz0gKGdlbkhhbmRsZXJzKGVsLmV2ZW50cywgZmFsc2UpKSArIFwiLFwiO1xuICB9XG4gIGlmIChlbC5uYXRpdmVFdmVudHMpIHtcbiAgICBkYXRhICs9IChnZW5IYW5kbGVycyhlbC5uYXRpdmVFdmVudHMsIHRydWUpKSArIFwiLFwiO1xuICB9XG4gIC8vIHNsb3QgdGFyZ2V0XG4gIC8vIG9ubHkgZm9yIG5vbi1zY29wZWQgc2xvdHNcbiAgaWYgKGVsLnNsb3RUYXJnZXQgJiYgIWVsLnNsb3RTY29wZSkge1xuICAgIGRhdGEgKz0gXCJzbG90OlwiICsgKGVsLnNsb3RUYXJnZXQpICsgXCIsXCI7XG4gIH1cbiAgLy8gc2NvcGVkIHNsb3RzXG4gIGlmIChlbC5zY29wZWRTbG90cykge1xuICAgIGRhdGEgKz0gKGdlblNjb3BlZFNsb3RzKGVsLCBlbC5zY29wZWRTbG90cywgc3RhdGUpKSArIFwiLFwiO1xuICB9XG4gIC8vIGNvbXBvbmVudCB2LW1vZGVsXG4gIGlmIChlbC5tb2RlbCkge1xuICAgIGRhdGEgKz0gXCJtb2RlbDp7dmFsdWU6XCIgKyAoZWwubW9kZWwudmFsdWUpICsgXCIsY2FsbGJhY2s6XCIgKyAoZWwubW9kZWwuY2FsbGJhY2spICsgXCIsZXhwcmVzc2lvbjpcIiArIChlbC5tb2RlbC5leHByZXNzaW9uKSArIFwifSxcIjtcbiAgfVxuICAvLyBpbmxpbmUtdGVtcGxhdGVcbiAgaWYgKGVsLmlubGluZVRlbXBsYXRlKSB7XG4gICAgdmFyIGlubGluZVRlbXBsYXRlID0gZ2VuSW5saW5lVGVtcGxhdGUoZWwsIHN0YXRlKTtcbiAgICBpZiAoaW5saW5lVGVtcGxhdGUpIHtcbiAgICAgIGRhdGEgKz0gaW5saW5lVGVtcGxhdGUgKyBcIixcIjtcbiAgICB9XG4gIH1cbiAgZGF0YSA9IGRhdGEucmVwbGFjZSgvLCQvLCAnJykgKyAnfSc7XG4gIC8vIHYtYmluZCBkeW5hbWljIGFyZ3VtZW50IHdyYXBcbiAgLy8gdi1iaW5kIHdpdGggZHluYW1pYyBhcmd1bWVudHMgbXVzdCBiZSBhcHBsaWVkIHVzaW5nIHRoZSBzYW1lIHYtYmluZCBvYmplY3RcbiAgLy8gbWVyZ2UgaGVscGVyIHNvIHRoYXQgY2xhc3Mvc3R5bGUvbXVzdFVzZVByb3AgYXR0cnMgYXJlIGhhbmRsZWQgY29ycmVjdGx5LlxuICBpZiAoZWwuZHluYW1pY0F0dHJzKSB7XG4gICAgZGF0YSA9IFwiX2IoXCIgKyBkYXRhICsgXCIsXFxcIlwiICsgKGVsLnRhZykgKyBcIlxcXCIsXCIgKyAoZ2VuUHJvcHMoZWwuZHluYW1pY0F0dHJzKSkgKyBcIilcIjtcbiAgfVxuICAvLyB2LWJpbmQgZGF0YSB3cmFwXG4gIGlmIChlbC53cmFwRGF0YSkge1xuICAgIGRhdGEgPSBlbC53cmFwRGF0YShkYXRhKTtcbiAgfVxuICAvLyB2LW9uIGRhdGEgd3JhcFxuICBpZiAoZWwud3JhcExpc3RlbmVycykge1xuICAgIGRhdGEgPSBlbC53cmFwTGlzdGVuZXJzKGRhdGEpO1xuICB9XG4gIHJldHVybiBkYXRhXG59XG5cbmZ1bmN0aW9uIGdlbkRpcmVjdGl2ZXMgKGVsLCBzdGF0ZSkge1xuICB2YXIgZGlycyA9IGVsLmRpcmVjdGl2ZXM7XG4gIGlmICghZGlycykgeyByZXR1cm4gfVxuICB2YXIgcmVzID0gJ2RpcmVjdGl2ZXM6Wyc7XG4gIHZhciBoYXNSdW50aW1lID0gZmFsc2U7XG4gIHZhciBpLCBsLCBkaXIsIG5lZWRSdW50aW1lO1xuICBmb3IgKGkgPSAwLCBsID0gZGlycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBkaXIgPSBkaXJzW2ldO1xuICAgIG5lZWRSdW50aW1lID0gdHJ1ZTtcbiAgICB2YXIgZ2VuID0gc3RhdGUuZGlyZWN0aXZlc1tkaXIubmFtZV07XG4gICAgaWYgKGdlbikge1xuICAgICAgLy8gY29tcGlsZS10aW1lIGRpcmVjdGl2ZSB0aGF0IG1hbmlwdWxhdGVzIEFTVC5cbiAgICAgIC8vIHJldHVybnMgdHJ1ZSBpZiBpdCBhbHNvIG5lZWRzIGEgcnVudGltZSBjb3VudGVycGFydC5cbiAgICAgIG5lZWRSdW50aW1lID0gISFnZW4oZWwsIGRpciwgc3RhdGUud2Fybik7XG4gICAgfVxuICAgIGlmIChuZWVkUnVudGltZSkge1xuICAgICAgaGFzUnVudGltZSA9IHRydWU7XG4gICAgICByZXMgKz0gXCJ7bmFtZTpcXFwiXCIgKyAoZGlyLm5hbWUpICsgXCJcXFwiLHJhd05hbWU6XFxcIlwiICsgKGRpci5yYXdOYW1lKSArIFwiXFxcIlwiICsgKGRpci52YWx1ZSA/IChcIix2YWx1ZTooXCIgKyAoZGlyLnZhbHVlKSArIFwiKSxleHByZXNzaW9uOlwiICsgKEpTT04uc3RyaW5naWZ5KGRpci52YWx1ZSkpKSA6ICcnKSArIChkaXIuYXJnID8gKFwiLGFyZzpcIiArIChkaXIuaXNEeW5hbWljQXJnID8gZGlyLmFyZyA6IChcIlxcXCJcIiArIChkaXIuYXJnKSArIFwiXFxcIlwiKSkpIDogJycpICsgKGRpci5tb2RpZmllcnMgPyAoXCIsbW9kaWZpZXJzOlwiICsgKEpTT04uc3RyaW5naWZ5KGRpci5tb2RpZmllcnMpKSkgOiAnJykgKyBcIn0sXCI7XG4gICAgfVxuICB9XG4gIGlmIChoYXNSdW50aW1lKSB7XG4gICAgcmV0dXJuIHJlcy5zbGljZSgwLCAtMSkgKyAnXSdcbiAgfVxufVxuXG5mdW5jdGlvbiBnZW5JbmxpbmVUZW1wbGF0ZSAoZWwsIHN0YXRlKSB7XG4gIHZhciBhc3QgPSBlbC5jaGlsZHJlblswXTtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgKFxuICAgIGVsLmNoaWxkcmVuLmxlbmd0aCAhPT0gMSB8fCBhc3QudHlwZSAhPT0gMVxuICApKSB7XG4gICAgc3RhdGUud2FybihcbiAgICAgICdJbmxpbmUtdGVtcGxhdGUgY29tcG9uZW50cyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgY2hpbGQgZWxlbWVudC4nLFxuICAgICAgeyBzdGFydDogZWwuc3RhcnQgfVxuICAgICk7XG4gIH1cbiAgaWYgKGFzdCAmJiBhc3QudHlwZSA9PT0gMSkge1xuICAgIHZhciBpbmxpbmVSZW5kZXJGbnMgPSBnZW5lcmF0ZShhc3QsIHN0YXRlLm9wdGlvbnMpO1xuICAgIHJldHVybiAoXCJpbmxpbmVUZW1wbGF0ZTp7cmVuZGVyOmZ1bmN0aW9uKCl7XCIgKyAoaW5saW5lUmVuZGVyRm5zLnJlbmRlcikgKyBcIn0sc3RhdGljUmVuZGVyRm5zOltcIiArIChpbmxpbmVSZW5kZXJGbnMuc3RhdGljUmVuZGVyRm5zLm1hcChmdW5jdGlvbiAoY29kZSkgeyByZXR1cm4gKFwiZnVuY3Rpb24oKXtcIiArIGNvZGUgKyBcIn1cIik7IH0pLmpvaW4oJywnKSkgKyBcIl19XCIpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuU2NvcGVkU2xvdHMgKFxuICBlbCxcbiAgc2xvdHMsXG4gIHN0YXRlXG4pIHtcbiAgLy8gYnkgZGVmYXVsdCBzY29wZWQgc2xvdHMgYXJlIGNvbnNpZGVyZWQgXCJzdGFibGVcIiwgdGhpcyBhbGxvd3MgY2hpbGRcbiAgLy8gY29tcG9uZW50cyB3aXRoIG9ubHkgc2NvcGVkIHNsb3RzIHRvIHNraXAgZm9yY2VkIHVwZGF0ZXMgZnJvbSBwYXJlbnQuXG4gIC8vIGJ1dCBpbiBzb21lIGNhc2VzIHdlIGhhdmUgdG8gYmFpbC1vdXQgb2YgdGhpcyBvcHRpbWl6YXRpb25cbiAgLy8gZm9yIGV4YW1wbGUgaWYgdGhlIHNsb3QgY29udGFpbnMgZHluYW1pYyBuYW1lcywgaGFzIHYtaWYgb3Igdi1mb3Igb24gdGhlbS4uLlxuICB2YXIgbmVlZHNGb3JjZVVwZGF0ZSA9IGVsLmZvciB8fCBPYmplY3Qua2V5cyhzbG90cykuc29tZShmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIHNsb3QgPSBzbG90c1trZXldO1xuICAgIHJldHVybiAoXG4gICAgICBzbG90LnNsb3RUYXJnZXREeW5hbWljIHx8XG4gICAgICBzbG90LmlmIHx8XG4gICAgICBzbG90LmZvciB8fFxuICAgICAgY29udGFpbnNTbG90Q2hpbGQoc2xvdCkgLy8gaXMgcGFzc2luZyBkb3duIHNsb3QgZnJvbSBwYXJlbnQgd2hpY2ggbWF5IGJlIGR5bmFtaWNcbiAgICApXG4gIH0pO1xuXG4gIC8vICM5NTM0OiBpZiBhIGNvbXBvbmVudCB3aXRoIHNjb3BlZCBzbG90cyBpcyBpbnNpZGUgYSBjb25kaXRpb25hbCBicmFuY2gsXG4gIC8vIGl0J3MgcG9zc2libGUgZm9yIHRoZSBzYW1lIGNvbXBvbmVudCB0byBiZSByZXVzZWQgYnV0IHdpdGggZGlmZmVyZW50XG4gIC8vIGNvbXBpbGVkIHNsb3QgY29udGVudC4gVG8gYXZvaWQgdGhhdCwgd2UgZ2VuZXJhdGUgYSB1bmlxdWUga2V5IGJhc2VkIG9uXG4gIC8vIHRoZSBnZW5lcmF0ZWQgY29kZSBvZiBhbGwgdGhlIHNsb3QgY29udGVudHMuXG4gIHZhciBuZWVkc0tleSA9ICEhZWwuaWY7XG5cbiAgLy8gT1Igd2hlbiBpdCBpcyBpbnNpZGUgYW5vdGhlciBzY29wZWQgc2xvdCBvciB2LWZvciAodGhlIHJlYWN0aXZpdHkgbWF5IGJlXG4gIC8vIGRpc2Nvbm5lY3RlZCBkdWUgdG8gdGhlIGludGVybWVkaWF0ZSBzY29wZSB2YXJpYWJsZSlcbiAgLy8gIzk0MzgsICM5NTA2XG4gIC8vIFRPRE86IHRoaXMgY2FuIGJlIGZ1cnRoZXIgb3B0aW1pemVkIGJ5IHByb3Blcmx5IGFuYWx5emluZyBpbi1zY29wZSBiaW5kaW5nc1xuICAvLyBhbmQgc2tpcCBmb3JjZSB1cGRhdGluZyBvbmVzIHRoYXQgZG8gbm90IGFjdHVhbGx5IHVzZSBzY29wZSB2YXJpYWJsZXMuXG4gIGlmICghbmVlZHNGb3JjZVVwZGF0ZSkge1xuICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnQ7XG4gICAgd2hpbGUgKHBhcmVudCkge1xuICAgICAgaWYgKFxuICAgICAgICAocGFyZW50LnNsb3RTY29wZSAmJiBwYXJlbnQuc2xvdFNjb3BlICE9PSBlbXB0eVNsb3RTY29wZVRva2VuKSB8fFxuICAgICAgICBwYXJlbnQuZm9yXG4gICAgICApIHtcbiAgICAgICAgbmVlZHNGb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBpZiAocGFyZW50LmlmKSB7XG4gICAgICAgIG5lZWRzS2V5ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnQ7XG4gICAgfVxuICB9XG5cbiAgdmFyIGdlbmVyYXRlZFNsb3RzID0gT2JqZWN0LmtleXMoc2xvdHMpXG4gICAgLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBnZW5TY29wZWRTbG90KHNsb3RzW2tleV0sIHN0YXRlKTsgfSlcbiAgICAuam9pbignLCcpO1xuXG4gIHJldHVybiAoXCJzY29wZWRTbG90czpfdShbXCIgKyBnZW5lcmF0ZWRTbG90cyArIFwiXVwiICsgKG5lZWRzRm9yY2VVcGRhdGUgPyBcIixudWxsLHRydWVcIiA6IFwiXCIpICsgKCFuZWVkc0ZvcmNlVXBkYXRlICYmIG5lZWRzS2V5ID8gKFwiLG51bGwsZmFsc2UsXCIgKyAoaGFzaChnZW5lcmF0ZWRTbG90cykpKSA6IFwiXCIpICsgXCIpXCIpXG59XG5cbmZ1bmN0aW9uIGhhc2goc3RyKSB7XG4gIHZhciBoYXNoID0gNTM4MTtcbiAgdmFyIGkgPSBzdHIubGVuZ3RoO1xuICB3aGlsZShpKSB7XG4gICAgaGFzaCA9IChoYXNoICogMzMpIF4gc3RyLmNoYXJDb2RlQXQoLS1pKTtcbiAgfVxuICByZXR1cm4gaGFzaCA+Pj4gMFxufVxuXG5mdW5jdGlvbiBjb250YWluc1Nsb3RDaGlsZCAoZWwpIHtcbiAgaWYgKGVsLnR5cGUgPT09IDEpIHtcbiAgICBpZiAoZWwudGFnID09PSAnc2xvdCcpIHtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICAgIHJldHVybiBlbC5jaGlsZHJlbi5zb21lKGNvbnRhaW5zU2xvdENoaWxkKVxuICB9XG4gIHJldHVybiBmYWxzZVxufVxuXG5mdW5jdGlvbiBnZW5TY29wZWRTbG90IChcbiAgZWwsXG4gIHN0YXRlXG4pIHtcbiAgdmFyIGlzTGVnYWN5U3ludGF4ID0gZWwuYXR0cnNNYXBbJ3Nsb3Qtc2NvcGUnXTtcbiAgaWYgKGVsLmlmICYmICFlbC5pZlByb2Nlc3NlZCAmJiAhaXNMZWdhY3lTeW50YXgpIHtcbiAgICByZXR1cm4gZ2VuSWYoZWwsIHN0YXRlLCBnZW5TY29wZWRTbG90LCBcIm51bGxcIilcbiAgfVxuICBpZiAoZWwuZm9yICYmICFlbC5mb3JQcm9jZXNzZWQpIHtcbiAgICByZXR1cm4gZ2VuRm9yKGVsLCBzdGF0ZSwgZ2VuU2NvcGVkU2xvdClcbiAgfVxuICB2YXIgc2xvdFNjb3BlID0gZWwuc2xvdFNjb3BlID09PSBlbXB0eVNsb3RTY29wZVRva2VuXG4gICAgPyBcIlwiXG4gICAgOiBTdHJpbmcoZWwuc2xvdFNjb3BlKTtcbiAgdmFyIGZuID0gXCJmdW5jdGlvbihcIiArIHNsb3RTY29wZSArIFwiKXtcIiArXG4gICAgXCJyZXR1cm4gXCIgKyAoZWwudGFnID09PSAndGVtcGxhdGUnXG4gICAgICA/IGVsLmlmICYmIGlzTGVnYWN5U3ludGF4XG4gICAgICAgID8gKFwiKFwiICsgKGVsLmlmKSArIFwiKT9cIiArIChnZW5DaGlsZHJlbihlbCwgc3RhdGUpIHx8ICd1bmRlZmluZWQnKSArIFwiOnVuZGVmaW5lZFwiKVxuICAgICAgICA6IGdlbkNoaWxkcmVuKGVsLCBzdGF0ZSkgfHwgJ3VuZGVmaW5lZCdcbiAgICAgIDogZ2VuRWxlbWVudChlbCwgc3RhdGUpKSArIFwifVwiO1xuICAvLyByZXZlcnNlIHByb3h5IHYtc2xvdCB3aXRob3V0IHNjb3BlIG9uIHRoaXMuJHNsb3RzXG4gIHZhciByZXZlcnNlUHJveHkgPSBzbG90U2NvcGUgPyBcIlwiIDogXCIscHJveHk6dHJ1ZVwiO1xuICByZXR1cm4gKFwie2tleTpcIiArIChlbC5zbG90VGFyZ2V0IHx8IFwiXFxcImRlZmF1bHRcXFwiXCIpICsgXCIsZm46XCIgKyBmbiArIHJldmVyc2VQcm94eSArIFwifVwiKVxufVxuXG5mdW5jdGlvbiBnZW5DaGlsZHJlbiAoXG4gIGVsLFxuICBzdGF0ZSxcbiAgY2hlY2tTa2lwLFxuICBhbHRHZW5FbGVtZW50LFxuICBhbHRHZW5Ob2RlXG4pIHtcbiAgdmFyIGNoaWxkcmVuID0gZWwuY2hpbGRyZW47XG4gIGlmIChjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICB2YXIgZWwkMSA9IGNoaWxkcmVuWzBdO1xuICAgIC8vIG9wdGltaXplIHNpbmdsZSB2LWZvclxuICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT09IDEgJiZcbiAgICAgIGVsJDEuZm9yICYmXG4gICAgICBlbCQxLnRhZyAhPT0gJ3RlbXBsYXRlJyAmJlxuICAgICAgZWwkMS50YWcgIT09ICdzbG90J1xuICAgICkge1xuICAgICAgdmFyIG5vcm1hbGl6YXRpb25UeXBlID0gY2hlY2tTa2lwXG4gICAgICAgID8gc3RhdGUubWF5YmVDb21wb25lbnQoZWwkMSkgPyBcIiwxXCIgOiBcIiwwXCJcbiAgICAgICAgOiBcIlwiO1xuICAgICAgcmV0dXJuIChcIlwiICsgKChhbHRHZW5FbGVtZW50IHx8IGdlbkVsZW1lbnQpKGVsJDEsIHN0YXRlKSkgKyBub3JtYWxpemF0aW9uVHlwZSlcbiAgICB9XG4gICAgdmFyIG5vcm1hbGl6YXRpb25UeXBlJDEgPSBjaGVja1NraXBcbiAgICAgID8gZ2V0Tm9ybWFsaXphdGlvblR5cGUoY2hpbGRyZW4sIHN0YXRlLm1heWJlQ29tcG9uZW50KVxuICAgICAgOiAwO1xuICAgIHZhciBnZW4gPSBhbHRHZW5Ob2RlIHx8IGdlbk5vZGU7XG4gICAgcmV0dXJuIChcIltcIiArIChjaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGdlbihjLCBzdGF0ZSk7IH0pLmpvaW4oJywnKSkgKyBcIl1cIiArIChub3JtYWxpemF0aW9uVHlwZSQxID8gKFwiLFwiICsgbm9ybWFsaXphdGlvblR5cGUkMSkgOiAnJykpXG4gIH1cbn1cblxuLy8gZGV0ZXJtaW5lIHRoZSBub3JtYWxpemF0aW9uIG5lZWRlZCBmb3IgdGhlIGNoaWxkcmVuIGFycmF5LlxuLy8gMDogbm8gbm9ybWFsaXphdGlvbiBuZWVkZWRcbi8vIDE6IHNpbXBsZSBub3JtYWxpemF0aW9uIG5lZWRlZCAocG9zc2libGUgMS1sZXZlbCBkZWVwIG5lc3RlZCBhcnJheSlcbi8vIDI6IGZ1bGwgbm9ybWFsaXphdGlvbiBuZWVkZWRcbmZ1bmN0aW9uIGdldE5vcm1hbGl6YXRpb25UeXBlIChcbiAgY2hpbGRyZW4sXG4gIG1heWJlQ29tcG9uZW50XG4pIHtcbiAgdmFyIHJlcyA9IDA7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZWwgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoZWwudHlwZSAhPT0gMSkge1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgaWYgKG5lZWRzTm9ybWFsaXphdGlvbihlbCkgfHxcbiAgICAgICAgKGVsLmlmQ29uZGl0aW9ucyAmJiBlbC5pZkNvbmRpdGlvbnMuc29tZShmdW5jdGlvbiAoYykgeyByZXR1cm4gbmVlZHNOb3JtYWxpemF0aW9uKGMuYmxvY2spOyB9KSkpIHtcbiAgICAgIHJlcyA9IDI7XG4gICAgICBicmVha1xuICAgIH1cbiAgICBpZiAobWF5YmVDb21wb25lbnQoZWwpIHx8XG4gICAgICAgIChlbC5pZkNvbmRpdGlvbnMgJiYgZWwuaWZDb25kaXRpb25zLnNvbWUoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIG1heWJlQ29tcG9uZW50KGMuYmxvY2spOyB9KSkpIHtcbiAgICAgIHJlcyA9IDE7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXNcbn1cblxuZnVuY3Rpb24gbmVlZHNOb3JtYWxpemF0aW9uIChlbCkge1xuICByZXR1cm4gZWwuZm9yICE9PSB1bmRlZmluZWQgfHwgZWwudGFnID09PSAndGVtcGxhdGUnIHx8IGVsLnRhZyA9PT0gJ3Nsb3QnXG59XG5cbmZ1bmN0aW9uIGdlbk5vZGUgKG5vZGUsIHN0YXRlKSB7XG4gIGlmIChub2RlLnR5cGUgPT09IDEpIHtcbiAgICByZXR1cm4gZ2VuRWxlbWVudChub2RlLCBzdGF0ZSlcbiAgfSBlbHNlIGlmIChub2RlLnR5cGUgPT09IDMgJiYgbm9kZS5pc0NvbW1lbnQpIHtcbiAgICByZXR1cm4gZ2VuQ29tbWVudChub2RlKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBnZW5UZXh0KG5vZGUpXG4gIH1cbn1cblxuZnVuY3Rpb24gZ2VuVGV4dCAodGV4dCkge1xuICByZXR1cm4gKFwiX3YoXCIgKyAodGV4dC50eXBlID09PSAyXG4gICAgPyB0ZXh0LmV4cHJlc3Npb24gLy8gbm8gbmVlZCBmb3IgKCkgYmVjYXVzZSBhbHJlYWR5IHdyYXBwZWQgaW4gX3MoKVxuICAgIDogdHJhbnNmb3JtU3BlY2lhbE5ld2xpbmVzKEpTT04uc3RyaW5naWZ5KHRleHQudGV4dCkpKSArIFwiKVwiKVxufVxuXG5mdW5jdGlvbiBnZW5Db21tZW50IChjb21tZW50KSB7XG4gIHJldHVybiAoXCJfZShcIiArIChKU09OLnN0cmluZ2lmeShjb21tZW50LnRleHQpKSArIFwiKVwiKVxufVxuXG5mdW5jdGlvbiBnZW5TbG90IChlbCwgc3RhdGUpIHtcbiAgdmFyIHNsb3ROYW1lID0gZWwuc2xvdE5hbWUgfHwgJ1wiZGVmYXVsdFwiJztcbiAgdmFyIGNoaWxkcmVuID0gZ2VuQ2hpbGRyZW4oZWwsIHN0YXRlKTtcbiAgdmFyIHJlcyA9IFwiX3QoXCIgKyBzbG90TmFtZSArIChjaGlsZHJlbiA/IChcIixcIiArIGNoaWxkcmVuKSA6ICcnKTtcbiAgdmFyIGF0dHJzID0gZWwuYXR0cnMgfHwgZWwuZHluYW1pY0F0dHJzXG4gICAgPyBnZW5Qcm9wcygoZWwuYXR0cnMgfHwgW10pLmNvbmNhdChlbC5keW5hbWljQXR0cnMgfHwgW10pLm1hcChmdW5jdGlvbiAoYXR0cikgeyByZXR1cm4gKHtcbiAgICAgICAgLy8gc2xvdCBwcm9wcyBhcmUgY2FtZWxpemVkXG4gICAgICAgIG5hbWU6IGNhbWVsaXplKGF0dHIubmFtZSksXG4gICAgICAgIHZhbHVlOiBhdHRyLnZhbHVlLFxuICAgICAgICBkeW5hbWljOiBhdHRyLmR5bmFtaWNcbiAgICAgIH0pOyB9KSlcbiAgICA6IG51bGw7XG4gIHZhciBiaW5kJCQxID0gZWwuYXR0cnNNYXBbJ3YtYmluZCddO1xuICBpZiAoKGF0dHJzIHx8IGJpbmQkJDEpICYmICFjaGlsZHJlbikge1xuICAgIHJlcyArPSBcIixudWxsXCI7XG4gIH1cbiAgaWYgKGF0dHJzKSB7XG4gICAgcmVzICs9IFwiLFwiICsgYXR0cnM7XG4gIH1cbiAgaWYgKGJpbmQkJDEpIHtcbiAgICByZXMgKz0gKGF0dHJzID8gJycgOiAnLG51bGwnKSArIFwiLFwiICsgYmluZCQkMTtcbiAgfVxuICByZXR1cm4gcmVzICsgJyknXG59XG5cbi8vIGNvbXBvbmVudE5hbWUgaXMgZWwuY29tcG9uZW50LCB0YWtlIGl0IGFzIGFyZ3VtZW50IHRvIHNodW4gZmxvdydzIHBlc3NpbWlzdGljIHJlZmluZW1lbnRcbmZ1bmN0aW9uIGdlbkNvbXBvbmVudCAoXG4gIGNvbXBvbmVudE5hbWUsXG4gIGVsLFxuICBzdGF0ZVxuKSB7XG4gIHZhciBjaGlsZHJlbiA9IGVsLmlubGluZVRlbXBsYXRlID8gbnVsbCA6IGdlbkNoaWxkcmVuKGVsLCBzdGF0ZSwgdHJ1ZSk7XG4gIHJldHVybiAoXCJfYyhcIiArIGNvbXBvbmVudE5hbWUgKyBcIixcIiArIChnZW5EYXRhJDIoZWwsIHN0YXRlKSkgKyAoY2hpbGRyZW4gPyAoXCIsXCIgKyBjaGlsZHJlbikgOiAnJykgKyBcIilcIilcbn1cblxuZnVuY3Rpb24gZ2VuUHJvcHMgKHByb3BzKSB7XG4gIHZhciBzdGF0aWNQcm9wcyA9IFwiXCI7XG4gIHZhciBkeW5hbWljUHJvcHMgPSBcIlwiO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHByb3AgPSBwcm9wc1tpXTtcbiAgICB2YXIgdmFsdWUgPSB0cmFuc2Zvcm1TcGVjaWFsTmV3bGluZXMocHJvcC52YWx1ZSk7XG4gICAgaWYgKHByb3AuZHluYW1pYykge1xuICAgICAgZHluYW1pY1Byb3BzICs9IChwcm9wLm5hbWUpICsgXCIsXCIgKyB2YWx1ZSArIFwiLFwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0aWNQcm9wcyArPSBcIlxcXCJcIiArIChwcm9wLm5hbWUpICsgXCJcXFwiOlwiICsgdmFsdWUgKyBcIixcIjtcbiAgICB9XG4gIH1cbiAgc3RhdGljUHJvcHMgPSBcIntcIiArIChzdGF0aWNQcm9wcy5zbGljZSgwLCAtMSkpICsgXCJ9XCI7XG4gIGlmIChkeW5hbWljUHJvcHMpIHtcbiAgICByZXR1cm4gKFwiX2QoXCIgKyBzdGF0aWNQcm9wcyArIFwiLFtcIiArIChkeW5hbWljUHJvcHMuc2xpY2UoMCwgLTEpKSArIFwiXSlcIilcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc3RhdGljUHJvcHNcbiAgfVxufVxuXG4vLyAjMzg5NSwgIzQyNjhcbmZ1bmN0aW9uIHRyYW5zZm9ybVNwZWNpYWxOZXdsaW5lcyAodGV4dCkge1xuICByZXR1cm4gdGV4dFxuICAgIC5yZXBsYWNlKC9cXHUyMDI4L2csICdcXFxcdTIwMjgnKVxuICAgIC5yZXBsYWNlKC9cXHUyMDI5L2csICdcXFxcdTIwMjknKVxufVxuXG4vKiAgKi9cblxuXG5cbi8vIHRoZXNlIGtleXdvcmRzIHNob3VsZCBub3QgYXBwZWFyIGluc2lkZSBleHByZXNzaW9ucywgYnV0IG9wZXJhdG9ycyBsaWtlXG4vLyB0eXBlb2YsIGluc3RhbmNlb2YgYW5kIGluIGFyZSBhbGxvd2VkXG52YXIgcHJvaGliaXRlZEtleXdvcmRSRSA9IG5ldyBSZWdFeHAoJ1xcXFxiJyArIChcbiAgJ2RvLGlmLGZvcixsZXQsbmV3LHRyeSx2YXIsY2FzZSxlbHNlLHdpdGgsYXdhaXQsYnJlYWssY2F0Y2gsY2xhc3MsY29uc3QsJyArXG4gICdzdXBlcix0aHJvdyx3aGlsZSx5aWVsZCxkZWxldGUsZXhwb3J0LGltcG9ydCxyZXR1cm4sc3dpdGNoLGRlZmF1bHQsJyArXG4gICdleHRlbmRzLGZpbmFsbHksY29udGludWUsZGVidWdnZXIsZnVuY3Rpb24sYXJndW1lbnRzJ1xuKS5zcGxpdCgnLCcpLmpvaW4oJ1xcXFxifFxcXFxiJykgKyAnXFxcXGInKTtcblxuLy8gdGhlc2UgdW5hcnkgb3BlcmF0b3JzIHNob3VsZCBub3QgYmUgdXNlZCBhcyBwcm9wZXJ0eS9tZXRob2QgbmFtZXNcbnZhciB1bmFyeU9wZXJhdG9yc1JFID0gbmV3IFJlZ0V4cCgnXFxcXGInICsgKFxuICAnZGVsZXRlLHR5cGVvZix2b2lkJ1xuKS5zcGxpdCgnLCcpLmpvaW4oJ1xcXFxzKlxcXFwoW15cXFxcKV0qXFxcXCl8XFxcXGInKSArICdcXFxccypcXFxcKFteXFxcXCldKlxcXFwpJyk7XG5cbi8vIHN0cmlwIHN0cmluZ3MgaW4gZXhwcmVzc2lvbnNcbnZhciBzdHJpcFN0cmluZ1JFID0gLycoPzpbXidcXFxcXXxcXFxcLikqJ3xcIig/OlteXCJcXFxcXXxcXFxcLikqXCJ8YCg/OlteYFxcXFxdfFxcXFwuKSpcXCRcXHt8XFx9KD86W15gXFxcXF18XFxcXC4pKmB8YCg/OlteYFxcXFxdfFxcXFwuKSpgL2c7XG5cbi8vIGRldGVjdCBwcm9ibGVtYXRpYyBleHByZXNzaW9ucyBpbiBhIHRlbXBsYXRlXG5mdW5jdGlvbiBkZXRlY3RFcnJvcnMgKGFzdCwgd2Fybikge1xuICBpZiAoYXN0KSB7XG4gICAgY2hlY2tOb2RlKGFzdCwgd2Fybik7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tOb2RlIChub2RlLCB3YXJuKSB7XG4gIGlmIChub2RlLnR5cGUgPT09IDEpIHtcbiAgICBmb3IgKHZhciBuYW1lIGluIG5vZGUuYXR0cnNNYXApIHtcbiAgICAgIGlmIChkaXJSRS50ZXN0KG5hbWUpKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG5vZGUuYXR0cnNNYXBbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHZhciByYW5nZSA9IG5vZGUucmF3QXR0cnNNYXBbbmFtZV07XG4gICAgICAgICAgaWYgKG5hbWUgPT09ICd2LWZvcicpIHtcbiAgICAgICAgICAgIGNoZWNrRm9yKG5vZGUsIChcInYtZm9yPVxcXCJcIiArIHZhbHVlICsgXCJcXFwiXCIpLCB3YXJuLCByYW5nZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09PSAndi1zbG90JyB8fCBuYW1lWzBdID09PSAnIycpIHtcbiAgICAgICAgICAgIGNoZWNrRnVuY3Rpb25QYXJhbWV0ZXJFeHByZXNzaW9uKHZhbHVlLCAobmFtZSArIFwiPVxcXCJcIiArIHZhbHVlICsgXCJcXFwiXCIpLCB3YXJuLCByYW5nZSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvblJFLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICAgIGNoZWNrRXZlbnQodmFsdWUsIChuYW1lICsgXCI9XFxcIlwiICsgdmFsdWUgKyBcIlxcXCJcIiksIHdhcm4sIHJhbmdlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2tFeHByZXNzaW9uKHZhbHVlLCAobmFtZSArIFwiPVxcXCJcIiArIHZhbHVlICsgXCJcXFwiXCIpLCB3YXJuLCByYW5nZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLmNoaWxkcmVuKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY2hlY2tOb2RlKG5vZGUuY2hpbGRyZW5baV0sIHdhcm4pO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChub2RlLnR5cGUgPT09IDIpIHtcbiAgICBjaGVja0V4cHJlc3Npb24obm9kZS5leHByZXNzaW9uLCBub2RlLnRleHQsIHdhcm4sIG5vZGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrRXZlbnQgKGV4cCwgdGV4dCwgd2FybiwgcmFuZ2UpIHtcbiAgdmFyIHN0cmlwcGVkID0gZXhwLnJlcGxhY2Uoc3RyaXBTdHJpbmdSRSwgJycpO1xuICB2YXIga2V5d29yZE1hdGNoID0gc3RyaXBwZWQubWF0Y2godW5hcnlPcGVyYXRvcnNSRSk7XG4gIGlmIChrZXl3b3JkTWF0Y2ggJiYgc3RyaXBwZWQuY2hhckF0KGtleXdvcmRNYXRjaC5pbmRleCAtIDEpICE9PSAnJCcpIHtcbiAgICB3YXJuKFxuICAgICAgXCJhdm9pZCB1c2luZyBKYXZhU2NyaXB0IHVuYXJ5IG9wZXJhdG9yIGFzIHByb3BlcnR5IG5hbWU6IFwiICtcbiAgICAgIFwiXFxcIlwiICsgKGtleXdvcmRNYXRjaFswXSkgKyBcIlxcXCIgaW4gZXhwcmVzc2lvbiBcIiArICh0ZXh0LnRyaW0oKSksXG4gICAgICByYW5nZVxuICAgICk7XG4gIH1cbiAgY2hlY2tFeHByZXNzaW9uKGV4cCwgdGV4dCwgd2FybiwgcmFuZ2UpO1xufVxuXG5mdW5jdGlvbiBjaGVja0ZvciAobm9kZSwgdGV4dCwgd2FybiwgcmFuZ2UpIHtcbiAgY2hlY2tFeHByZXNzaW9uKG5vZGUuZm9yIHx8ICcnLCB0ZXh0LCB3YXJuLCByYW5nZSk7XG4gIGNoZWNrSWRlbnRpZmllcihub2RlLmFsaWFzLCAndi1mb3IgYWxpYXMnLCB0ZXh0LCB3YXJuLCByYW5nZSk7XG4gIGNoZWNrSWRlbnRpZmllcihub2RlLml0ZXJhdG9yMSwgJ3YtZm9yIGl0ZXJhdG9yJywgdGV4dCwgd2FybiwgcmFuZ2UpO1xuICBjaGVja0lkZW50aWZpZXIobm9kZS5pdGVyYXRvcjIsICd2LWZvciBpdGVyYXRvcicsIHRleHQsIHdhcm4sIHJhbmdlKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tJZGVudGlmaWVyIChcbiAgaWRlbnQsXG4gIHR5cGUsXG4gIHRleHQsXG4gIHdhcm4sXG4gIHJhbmdlXG4pIHtcbiAgaWYgKHR5cGVvZiBpZGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICB0cnkge1xuICAgICAgbmV3IEZ1bmN0aW9uKChcInZhciBcIiArIGlkZW50ICsgXCI9X1wiKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgd2FybigoXCJpbnZhbGlkIFwiICsgdHlwZSArIFwiIFxcXCJcIiArIGlkZW50ICsgXCJcXFwiIGluIGV4cHJlc3Npb246IFwiICsgKHRleHQudHJpbSgpKSksIHJhbmdlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tFeHByZXNzaW9uIChleHAsIHRleHQsIHdhcm4sIHJhbmdlKSB7XG4gIHRyeSB7XG4gICAgbmV3IEZ1bmN0aW9uKChcInJldHVybiBcIiArIGV4cCkpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdmFyIGtleXdvcmRNYXRjaCA9IGV4cC5yZXBsYWNlKHN0cmlwU3RyaW5nUkUsICcnKS5tYXRjaChwcm9oaWJpdGVkS2V5d29yZFJFKTtcbiAgICBpZiAoa2V5d29yZE1hdGNoKSB7XG4gICAgICB3YXJuKFxuICAgICAgICBcImF2b2lkIHVzaW5nIEphdmFTY3JpcHQga2V5d29yZCBhcyBwcm9wZXJ0eSBuYW1lOiBcIiArXG4gICAgICAgIFwiXFxcIlwiICsgKGtleXdvcmRNYXRjaFswXSkgKyBcIlxcXCJcXG4gIFJhdyBleHByZXNzaW9uOiBcIiArICh0ZXh0LnRyaW0oKSksXG4gICAgICAgIHJhbmdlXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB3YXJuKFxuICAgICAgICBcImludmFsaWQgZXhwcmVzc2lvbjogXCIgKyAoZS5tZXNzYWdlKSArIFwiIGluXFxuXFxuXCIgK1xuICAgICAgICBcIiAgICBcIiArIGV4cCArIFwiXFxuXFxuXCIgK1xuICAgICAgICBcIiAgUmF3IGV4cHJlc3Npb246IFwiICsgKHRleHQudHJpbSgpKSArIFwiXFxuXCIsXG4gICAgICAgIHJhbmdlXG4gICAgICApO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja0Z1bmN0aW9uUGFyYW1ldGVyRXhwcmVzc2lvbiAoZXhwLCB0ZXh0LCB3YXJuLCByYW5nZSkge1xuICB0cnkge1xuICAgIG5ldyBGdW5jdGlvbihleHAsICcnKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHdhcm4oXG4gICAgICBcImludmFsaWQgZnVuY3Rpb24gcGFyYW1ldGVyIGV4cHJlc3Npb246IFwiICsgKGUubWVzc2FnZSkgKyBcIiBpblxcblxcblwiICtcbiAgICAgIFwiICAgIFwiICsgZXhwICsgXCJcXG5cXG5cIiArXG4gICAgICBcIiAgUmF3IGV4cHJlc3Npb246IFwiICsgKHRleHQudHJpbSgpKSArIFwiXFxuXCIsXG4gICAgICByYW5nZVxuICAgICk7XG4gIH1cbn1cblxuLyogICovXG5cbnZhciByYW5nZSA9IDI7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlQ29kZUZyYW1lIChcbiAgc291cmNlLFxuICBzdGFydCxcbiAgZW5kXG4pIHtcbiAgaWYgKCBzdGFydCA9PT0gdm9pZCAwICkgc3RhcnQgPSAwO1xuICBpZiAoIGVuZCA9PT0gdm9pZCAwICkgZW5kID0gc291cmNlLmxlbmd0aDtcblxuICB2YXIgbGluZXMgPSBzb3VyY2Uuc3BsaXQoL1xccj9cXG4vKTtcbiAgdmFyIGNvdW50ID0gMDtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY291bnQgKz0gbGluZXNbaV0ubGVuZ3RoICsgMTtcbiAgICBpZiAoY291bnQgPj0gc3RhcnQpIHtcbiAgICAgIGZvciAodmFyIGogPSBpIC0gcmFuZ2U7IGogPD0gaSArIHJhbmdlIHx8IGVuZCA+IGNvdW50OyBqKyspIHtcbiAgICAgICAgaWYgKGogPCAwIHx8IGogPj0gbGluZXMubGVuZ3RoKSB7IGNvbnRpbnVlIH1cbiAgICAgICAgcmVzLnB1c2goKFwiXCIgKyAoaiArIDEpICsgKHJlcGVhdCQxKFwiIFwiLCAzIC0gU3RyaW5nKGogKyAxKS5sZW5ndGgpKSArIFwifCAgXCIgKyAobGluZXNbal0pKSk7XG4gICAgICAgIHZhciBsaW5lTGVuZ3RoID0gbGluZXNbal0ubGVuZ3RoO1xuICAgICAgICBpZiAoaiA9PT0gaSkge1xuICAgICAgICAgIC8vIHB1c2ggdW5kZXJsaW5lXG4gICAgICAgICAgdmFyIHBhZCA9IHN0YXJ0IC0gKGNvdW50IC0gbGluZUxlbmd0aCkgKyAxO1xuICAgICAgICAgIHZhciBsZW5ndGggPSBlbmQgPiBjb3VudCA/IGxpbmVMZW5ndGggLSBwYWQgOiBlbmQgLSBzdGFydDtcbiAgICAgICAgICByZXMucHVzaChcIiAgIHwgIFwiICsgcmVwZWF0JDEoXCIgXCIsIHBhZCkgKyByZXBlYXQkMShcIl5cIiwgbGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaiA+IGkpIHtcbiAgICAgICAgICBpZiAoZW5kID4gY291bnQpIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGgkMSA9IE1hdGgubWluKGVuZCAtIGNvdW50LCBsaW5lTGVuZ3RoKTtcbiAgICAgICAgICAgIHJlcy5wdXNoKFwiICAgfCAgXCIgKyByZXBlYXQkMShcIl5cIiwgbGVuZ3RoJDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY291bnQgKz0gbGluZUxlbmd0aCArIDE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrXG4gICAgfVxuICB9XG4gIHJldHVybiByZXMuam9pbignXFxuJylcbn1cblxuZnVuY3Rpb24gcmVwZWF0JDEgKHN0ciwgbikge1xuICB2YXIgcmVzdWx0ID0gJyc7XG4gIGlmIChuID4gMCkge1xuICAgIHdoaWxlICh0cnVlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgIGlmIChuICYgMSkgeyByZXN1bHQgKz0gc3RyOyB9XG4gICAgICBuID4+Pj0gMTtcbiAgICAgIGlmIChuIDw9IDApIHsgYnJlYWsgfVxuICAgICAgc3RyICs9IHN0cjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdFxufVxuXG4vKiAgKi9cblxuXG5cbmZ1bmN0aW9uIGNyZWF0ZUZ1bmN0aW9uIChjb2RlLCBlcnJvcnMpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IEZ1bmN0aW9uKGNvZGUpXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGVycm9ycy5wdXNoKHsgZXJyOiBlcnIsIGNvZGU6IGNvZGUgfSk7XG4gICAgcmV0dXJuIG5vb3BcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVDb21waWxlVG9GdW5jdGlvbkZuIChjb21waWxlKSB7XG4gIHZhciBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGNvbXBpbGVUb0Z1bmN0aW9ucyAoXG4gICAgdGVtcGxhdGUsXG4gICAgb3B0aW9ucyxcbiAgICB2bVxuICApIHtcbiAgICBvcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zKTtcbiAgICB2YXIgd2FybiQkMSA9IG9wdGlvbnMud2FybiB8fCB3YXJuO1xuICAgIGRlbGV0ZSBvcHRpb25zLndhcm47XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLy8gZGV0ZWN0IHBvc3NpYmxlIENTUCByZXN0cmljdGlvblxuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gMScpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZS50b1N0cmluZygpLm1hdGNoKC91bnNhZmUtZXZhbHxDU1AvKSkge1xuICAgICAgICAgIHdhcm4kJDEoXG4gICAgICAgICAgICAnSXQgc2VlbXMgeW91IGFyZSB1c2luZyB0aGUgc3RhbmRhbG9uZSBidWlsZCBvZiBWdWUuanMgaW4gYW4gJyArXG4gICAgICAgICAgICAnZW52aXJvbm1lbnQgd2l0aCBDb250ZW50IFNlY3VyaXR5IFBvbGljeSB0aGF0IHByb2hpYml0cyB1bnNhZmUtZXZhbC4gJyArXG4gICAgICAgICAgICAnVGhlIHRlbXBsYXRlIGNvbXBpbGVyIGNhbm5vdCB3b3JrIGluIHRoaXMgZW52aXJvbm1lbnQuIENvbnNpZGVyICcgK1xuICAgICAgICAgICAgJ3JlbGF4aW5nIHRoZSBwb2xpY3kgdG8gYWxsb3cgdW5zYWZlLWV2YWwgb3IgcHJlLWNvbXBpbGluZyB5b3VyICcgK1xuICAgICAgICAgICAgJ3RlbXBsYXRlcyBpbnRvIHJlbmRlciBmdW5jdGlvbnMuJ1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBjaGVjayBjYWNoZVxuICAgIHZhciBrZXkgPSBvcHRpb25zLmRlbGltaXRlcnNcbiAgICAgID8gU3RyaW5nKG9wdGlvbnMuZGVsaW1pdGVycykgKyB0ZW1wbGF0ZVxuICAgICAgOiB0ZW1wbGF0ZTtcbiAgICBpZiAoY2FjaGVba2V5XSkge1xuICAgICAgcmV0dXJuIGNhY2hlW2tleV1cbiAgICB9XG5cbiAgICAvLyBjb21waWxlXG4gICAgdmFyIGNvbXBpbGVkID0gY29tcGlsZSh0ZW1wbGF0ZSwgb3B0aW9ucyk7XG5cbiAgICAvLyBjaGVjayBjb21waWxhdGlvbiBlcnJvcnMvdGlwc1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICBpZiAoY29tcGlsZWQuZXJyb3JzICYmIGNvbXBpbGVkLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMub3V0cHV0U291cmNlUmFuZ2UpIHtcbiAgICAgICAgICBjb21waWxlZC5lcnJvcnMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgd2FybiQkMShcbiAgICAgICAgICAgICAgXCJFcnJvciBjb21waWxpbmcgdGVtcGxhdGU6XFxuXFxuXCIgKyAoZS5tc2cpICsgXCJcXG5cXG5cIiArXG4gICAgICAgICAgICAgIGdlbmVyYXRlQ29kZUZyYW1lKHRlbXBsYXRlLCBlLnN0YXJ0LCBlLmVuZCksXG4gICAgICAgICAgICAgIHZtXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdhcm4kJDEoXG4gICAgICAgICAgICBcIkVycm9yIGNvbXBpbGluZyB0ZW1wbGF0ZTpcXG5cXG5cIiArIHRlbXBsYXRlICsgXCJcXG5cXG5cIiArXG4gICAgICAgICAgICBjb21waWxlZC5lcnJvcnMubWFwKGZ1bmN0aW9uIChlKSB7IHJldHVybiAoXCItIFwiICsgZSk7IH0pLmpvaW4oJ1xcbicpICsgJ1xcbicsXG4gICAgICAgICAgICB2bVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChjb21waWxlZC50aXBzICYmIGNvbXBpbGVkLnRpcHMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XG4gICAgICAgICAgY29tcGlsZWQudGlwcy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiB0aXAoZS5tc2csIHZtKTsgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29tcGlsZWQudGlwcy5mb3JFYWNoKGZ1bmN0aW9uIChtc2cpIHsgcmV0dXJuIHRpcChtc2csIHZtKTsgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0dXJuIGNvZGUgaW50byBmdW5jdGlvbnNcbiAgICB2YXIgcmVzID0ge307XG4gICAgdmFyIGZuR2VuRXJyb3JzID0gW107XG4gICAgcmVzLnJlbmRlciA9IGNyZWF0ZUZ1bmN0aW9uKGNvbXBpbGVkLnJlbmRlciwgZm5HZW5FcnJvcnMpO1xuICAgIHJlcy5zdGF0aWNSZW5kZXJGbnMgPSBjb21waWxlZC5zdGF0aWNSZW5kZXJGbnMubWFwKGZ1bmN0aW9uIChjb2RlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRnVuY3Rpb24oY29kZSwgZm5HZW5FcnJvcnMpXG4gICAgfSk7XG5cbiAgICAvLyBjaGVjayBmdW5jdGlvbiBnZW5lcmF0aW9uIGVycm9ycy5cbiAgICAvLyB0aGlzIHNob3VsZCBvbmx5IGhhcHBlbiBpZiB0aGVyZSBpcyBhIGJ1ZyBpbiB0aGUgY29tcGlsZXIgaXRzZWxmLlxuICAgIC8vIG1vc3RseSBmb3IgY29kZWdlbiBkZXZlbG9wbWVudCB1c2VcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKCghY29tcGlsZWQuZXJyb3JzIHx8ICFjb21waWxlZC5lcnJvcnMubGVuZ3RoKSAmJiBmbkdlbkVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgd2FybiQkMShcbiAgICAgICAgICBcIkZhaWxlZCB0byBnZW5lcmF0ZSByZW5kZXIgZnVuY3Rpb246XFxuXFxuXCIgK1xuICAgICAgICAgIGZuR2VuRXJyb3JzLm1hcChmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gcmVmLmVycjtcbiAgICAgICAgICAgIHZhciBjb2RlID0gcmVmLmNvZGU7XG5cbiAgICAgICAgICAgIHJldHVybiAoKGVyci50b1N0cmluZygpKSArIFwiIGluXFxuXFxuXCIgKyBjb2RlICsgXCJcXG5cIik7XG4gICAgICAgIH0pLmpvaW4oJ1xcbicpLFxuICAgICAgICAgIHZtXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChjYWNoZVtrZXldID0gcmVzKVxuICB9XG59XG5cbi8qICAqL1xuXG5mdW5jdGlvbiBjcmVhdGVDb21waWxlckNyZWF0b3IgKGJhc2VDb21waWxlKSB7XG4gIHJldHVybiBmdW5jdGlvbiBjcmVhdGVDb21waWxlciAoYmFzZU9wdGlvbnMpIHtcbiAgICBmdW5jdGlvbiBjb21waWxlIChcbiAgICAgIHRlbXBsYXRlLFxuICAgICAgb3B0aW9uc1xuICAgICkge1xuICAgICAgdmFyIGZpbmFsT3B0aW9ucyA9IE9iamVjdC5jcmVhdGUoYmFzZU9wdGlvbnMpO1xuICAgICAgdmFyIGVycm9ycyA9IFtdO1xuICAgICAgdmFyIHRpcHMgPSBbXTtcblxuICAgICAgdmFyIHdhcm4gPSBmdW5jdGlvbiAobXNnLCByYW5nZSwgdGlwKSB7XG4gICAgICAgICh0aXAgPyB0aXBzIDogZXJyb3JzKS5wdXNoKG1zZyk7XG4gICAgICB9O1xuXG4gICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBvcHRpb25zLm91dHB1dFNvdXJjZVJhbmdlKSB7XG4gICAgICAgICAgLy8gJGZsb3ctZGlzYWJsZS1saW5lXG4gICAgICAgICAgdmFyIGxlYWRpbmdTcGFjZUxlbmd0aCA9IHRlbXBsYXRlLm1hdGNoKC9eXFxzKi8pWzBdLmxlbmd0aDtcblxuICAgICAgICAgIHdhcm4gPSBmdW5jdGlvbiAobXNnLCByYW5nZSwgdGlwKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHsgbXNnOiBtc2cgfTtcbiAgICAgICAgICAgIGlmIChyYW5nZSkge1xuICAgICAgICAgICAgICBpZiAocmFuZ2Uuc3RhcnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRhdGEuc3RhcnQgPSByYW5nZS5zdGFydCArIGxlYWRpbmdTcGFjZUxlbmd0aDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAocmFuZ2UuZW5kICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmVuZCA9IHJhbmdlLmVuZCArIGxlYWRpbmdTcGFjZUxlbmd0aDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKHRpcCA/IHRpcHMgOiBlcnJvcnMpLnB1c2goZGF0YSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtZXJnZSBjdXN0b20gbW9kdWxlc1xuICAgICAgICBpZiAob3B0aW9ucy5tb2R1bGVzKSB7XG4gICAgICAgICAgZmluYWxPcHRpb25zLm1vZHVsZXMgPVxuICAgICAgICAgICAgKGJhc2VPcHRpb25zLm1vZHVsZXMgfHwgW10pLmNvbmNhdChvcHRpb25zLm1vZHVsZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1lcmdlIGN1c3RvbSBkaXJlY3RpdmVzXG4gICAgICAgIGlmIChvcHRpb25zLmRpcmVjdGl2ZXMpIHtcbiAgICAgICAgICBmaW5hbE9wdGlvbnMuZGlyZWN0aXZlcyA9IGV4dGVuZChcbiAgICAgICAgICAgIE9iamVjdC5jcmVhdGUoYmFzZU9wdGlvbnMuZGlyZWN0aXZlcyB8fCBudWxsKSxcbiAgICAgICAgICAgIG9wdGlvbnMuZGlyZWN0aXZlc1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weSBvdGhlciBvcHRpb25zXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zKSB7XG4gICAgICAgICAgaWYgKGtleSAhPT0gJ21vZHVsZXMnICYmIGtleSAhPT0gJ2RpcmVjdGl2ZXMnKSB7XG4gICAgICAgICAgICBmaW5hbE9wdGlvbnNba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZmluYWxPcHRpb25zLndhcm4gPSB3YXJuO1xuXG4gICAgICB2YXIgY29tcGlsZWQgPSBiYXNlQ29tcGlsZSh0ZW1wbGF0ZS50cmltKCksIGZpbmFsT3B0aW9ucyk7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBkZXRlY3RFcnJvcnMoY29tcGlsZWQuYXN0LCB3YXJuKTtcbiAgICAgIH1cbiAgICAgIGNvbXBpbGVkLmVycm9ycyA9IGVycm9ycztcbiAgICAgIGNvbXBpbGVkLnRpcHMgPSB0aXBzO1xuICAgICAgcmV0dXJuIGNvbXBpbGVkXG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbXBpbGU6IGNvbXBpbGUsXG4gICAgICBjb21waWxlVG9GdW5jdGlvbnM6IGNyZWF0ZUNvbXBpbGVUb0Z1bmN0aW9uRm4oY29tcGlsZSlcbiAgICB9XG4gIH1cbn1cblxuLyogICovXG5cbi8vIGBjcmVhdGVDb21waWxlckNyZWF0b3JgIGFsbG93cyBjcmVhdGluZyBjb21waWxlcnMgdGhhdCB1c2UgYWx0ZXJuYXRpdmVcbi8vIHBhcnNlci9vcHRpbWl6ZXIvY29kZWdlbiwgZS5nIHRoZSBTU1Igb3B0aW1pemluZyBjb21waWxlci5cbi8vIEhlcmUgd2UganVzdCBleHBvcnQgYSBkZWZhdWx0IGNvbXBpbGVyIHVzaW5nIHRoZSBkZWZhdWx0IHBhcnRzLlxudmFyIGNyZWF0ZUNvbXBpbGVyID0gY3JlYXRlQ29tcGlsZXJDcmVhdG9yKGZ1bmN0aW9uIGJhc2VDb21waWxlIChcbiAgdGVtcGxhdGUsXG4gIG9wdGlvbnNcbikge1xuICB2YXIgYXN0ID0gcGFyc2UodGVtcGxhdGUudHJpbSgpLCBvcHRpb25zKTtcbiAgaWYgKG9wdGlvbnMub3B0aW1pemUgIT09IGZhbHNlKSB7XG4gICAgb3B0aW1pemUoYXN0LCBvcHRpb25zKTtcbiAgfVxuICB2YXIgY29kZSA9IGdlbmVyYXRlKGFzdCwgb3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgYXN0OiBhc3QsXG4gICAgcmVuZGVyOiBjb2RlLnJlbmRlcixcbiAgICBzdGF0aWNSZW5kZXJGbnM6IGNvZGUuc3RhdGljUmVuZGVyRm5zXG4gIH1cbn0pO1xuXG4vKiAgKi9cblxudmFyIHJlZiQxID0gY3JlYXRlQ29tcGlsZXIoYmFzZU9wdGlvbnMpO1xudmFyIGNvbXBpbGUgPSByZWYkMS5jb21waWxlO1xudmFyIGNvbXBpbGVUb0Z1bmN0aW9ucyA9IHJlZiQxLmNvbXBpbGVUb0Z1bmN0aW9ucztcblxuLyogICovXG5cbi8vIGNoZWNrIHdoZXRoZXIgY3VycmVudCBicm93c2VyIGVuY29kZXMgYSBjaGFyIGluc2lkZSBhdHRyaWJ1dGUgdmFsdWVzXG52YXIgZGl2O1xuZnVuY3Rpb24gZ2V0U2hvdWxkRGVjb2RlIChocmVmKSB7XG4gIGRpdiA9IGRpdiB8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LmlubmVySFRNTCA9IGhyZWYgPyBcIjxhIGhyZWY9XFxcIlxcblxcXCIvPlwiIDogXCI8ZGl2IGE9XFxcIlxcblxcXCIvPlwiO1xuICByZXR1cm4gZGl2LmlubmVySFRNTC5pbmRleE9mKCcmIzEwOycpID4gMFxufVxuXG4vLyAjMzY2MzogSUUgZW5jb2RlcyBuZXdsaW5lcyBpbnNpZGUgYXR0cmlidXRlIHZhbHVlcyB3aGlsZSBvdGhlciBicm93c2VycyBkb24ndFxudmFyIHNob3VsZERlY29kZU5ld2xpbmVzID0gaW5Ccm93c2VyID8gZ2V0U2hvdWxkRGVjb2RlKGZhbHNlKSA6IGZhbHNlO1xuLy8gIzY4Mjg6IGNocm9tZSBlbmNvZGVzIGNvbnRlbnQgaW4gYVtocmVmXVxudmFyIHNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZiA9IGluQnJvd3NlciA/IGdldFNob3VsZERlY29kZSh0cnVlKSA6IGZhbHNlO1xuXG4vKiAgKi9cblxudmFyIGlkVG9UZW1wbGF0ZSA9IGNhY2hlZChmdW5jdGlvbiAoaWQpIHtcbiAgdmFyIGVsID0gcXVlcnkoaWQpO1xuICByZXR1cm4gZWwgJiYgZWwuaW5uZXJIVE1MXG59KTtcblxudmFyIG1vdW50ID0gVnVlLnByb3RvdHlwZS4kbW91bnQ7XG5WdWUucHJvdG90eXBlLiRtb3VudCA9IGZ1bmN0aW9uIChcbiAgZWwsXG4gIGh5ZHJhdGluZ1xuKSB7XG4gIGVsID0gZWwgJiYgcXVlcnkoZWwpO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoZWwgPT09IGRvY3VtZW50LmJvZHkgfHwgZWwgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgd2FybihcbiAgICAgIFwiRG8gbm90IG1vdW50IFZ1ZSB0byA8aHRtbD4gb3IgPGJvZHk+IC0gbW91bnQgdG8gbm9ybWFsIGVsZW1lbnRzIGluc3RlYWQuXCJcbiAgICApO1xuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICB2YXIgb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnM7XG4gIC8vIHJlc29sdmUgdGVtcGxhdGUvZWwgYW5kIGNvbnZlcnQgdG8gcmVuZGVyIGZ1bmN0aW9uXG4gIGlmICghb3B0aW9ucy5yZW5kZXIpIHtcbiAgICB2YXIgdGVtcGxhdGUgPSBvcHRpb25zLnRlbXBsYXRlO1xuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgaWYgKHR5cGVvZiB0ZW1wbGF0ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHRlbXBsYXRlLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgICAgdGVtcGxhdGUgPSBpZFRvVGVtcGxhdGUodGVtcGxhdGUpO1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmICF0ZW1wbGF0ZSkge1xuICAgICAgICAgICAgd2FybihcbiAgICAgICAgICAgICAgKFwiVGVtcGxhdGUgZWxlbWVudCBub3QgZm91bmQgb3IgaXMgZW1wdHk6IFwiICsgKG9wdGlvbnMudGVtcGxhdGUpKSxcbiAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGVtcGxhdGUubm9kZVR5cGUpIHtcbiAgICAgICAgdGVtcGxhdGUgPSB0ZW1wbGF0ZS5pbm5lckhUTUw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHdhcm4oJ2ludmFsaWQgdGVtcGxhdGUgb3B0aW9uOicgKyB0ZW1wbGF0ZSwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVsKSB7XG4gICAgICB0ZW1wbGF0ZSA9IGdldE91dGVySFRNTChlbCk7XG4gICAgfVxuICAgIGlmICh0ZW1wbGF0ZSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBjb25maWcucGVyZm9ybWFuY2UgJiYgbWFyaykge1xuICAgICAgICBtYXJrKCdjb21waWxlJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWYgPSBjb21waWxlVG9GdW5jdGlvbnModGVtcGxhdGUsIHtcbiAgICAgICAgb3V0cHV0U291cmNlUmFuZ2U6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicsXG4gICAgICAgIHNob3VsZERlY29kZU5ld2xpbmVzOiBzaG91bGREZWNvZGVOZXdsaW5lcyxcbiAgICAgICAgc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmOiBzaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWYsXG4gICAgICAgIGRlbGltaXRlcnM6IG9wdGlvbnMuZGVsaW1pdGVycyxcbiAgICAgICAgY29tbWVudHM6IG9wdGlvbnMuY29tbWVudHNcbiAgICAgIH0sIHRoaXMpO1xuICAgICAgdmFyIHJlbmRlciA9IHJlZi5yZW5kZXI7XG4gICAgICB2YXIgc3RhdGljUmVuZGVyRm5zID0gcmVmLnN0YXRpY1JlbmRlckZucztcbiAgICAgIG9wdGlvbnMucmVuZGVyID0gcmVuZGVyO1xuICAgICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSBzdGF0aWNSZW5kZXJGbnM7XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgY29uZmlnLnBlcmZvcm1hbmNlICYmIG1hcmspIHtcbiAgICAgICAgbWFyaygnY29tcGlsZSBlbmQnKTtcbiAgICAgICAgbWVhc3VyZSgoXCJ2dWUgXCIgKyAodGhpcy5fbmFtZSkgKyBcIiBjb21waWxlXCIpLCAnY29tcGlsZScsICdjb21waWxlIGVuZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbW91bnQuY2FsbCh0aGlzLCBlbCwgaHlkcmF0aW5nKVxufTtcblxuLyoqXG4gKiBHZXQgb3V0ZXJIVE1MIG9mIGVsZW1lbnRzLCB0YWtpbmcgY2FyZVxuICogb2YgU1ZHIGVsZW1lbnRzIGluIElFIGFzIHdlbGwuXG4gKi9cbmZ1bmN0aW9uIGdldE91dGVySFRNTCAoZWwpIHtcbiAgaWYgKGVsLm91dGVySFRNTCkge1xuICAgIHJldHVybiBlbC5vdXRlckhUTUxcbiAgfSBlbHNlIHtcbiAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgcmV0dXJuIGNvbnRhaW5lci5pbm5lckhUTUxcbiAgfVxufVxuXG5WdWUuY29tcGlsZSA9IGNvbXBpbGVUb0Z1bmN0aW9ucztcblxuZXhwb3J0IGRlZmF1bHQgVnVlO1xuIiwiLyoqXG4gKiBTZXNzaW9uIFN0YXR1c1xuICovXG5leHBvcnQgdmFyIFNlc3Npb25TdGF0dXM7XG4oZnVuY3Rpb24gKFNlc3Npb25TdGF0dXMpIHtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTZXNzaW9uU3RhdHVzW1wiT2tcIl0gPSBcIm9rXCI7XG4gICAgLyoqIEpTRG9jICovXG4gICAgU2Vzc2lvblN0YXR1c1tcIkV4aXRlZFwiXSA9IFwiZXhpdGVkXCI7XG4gICAgLyoqIEpTRG9jICovXG4gICAgU2Vzc2lvblN0YXR1c1tcIkNyYXNoZWRcIl0gPSBcImNyYXNoZWRcIjtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTZXNzaW9uU3RhdHVzW1wiQWJub3JtYWxcIl0gPSBcImFibm9ybWFsXCI7XG59KShTZXNzaW9uU3RhdHVzIHx8IChTZXNzaW9uU3RhdHVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlc3Npb24uanMubWFwIiwiZXhwb3J0IHZhciBTREtfVkVSU0lPTiA9ICc2LjEuMCc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12ZXJzaW9uLmpzLm1hcCIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1mdW5jdGlvbi1yZXR1cm4tdHlwZSAqL1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L3R5cGVkZWYgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXMgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmltcG9ydCB7IGlzVGhlbmFibGUgfSBmcm9tICcuL2lzJztcbi8qKiBTeW5jUHJvbWlzZSBpbnRlcm5hbCBzdGF0ZXMgKi9cbnZhciBTdGF0ZXM7XG4oZnVuY3Rpb24gKFN0YXRlcykge1xuICAgIC8qKiBQZW5kaW5nICovXG4gICAgU3RhdGVzW1wiUEVORElOR1wiXSA9IFwiUEVORElOR1wiO1xuICAgIC8qKiBSZXNvbHZlZCAvIE9LICovXG4gICAgU3RhdGVzW1wiUkVTT0xWRURcIl0gPSBcIlJFU09MVkVEXCI7XG4gICAgLyoqIFJlamVjdGVkIC8gRXJyb3IgKi9cbiAgICBTdGF0ZXNbXCJSRUpFQ1RFRFwiXSA9IFwiUkVKRUNURURcIjtcbn0pKFN0YXRlcyB8fCAoU3RhdGVzID0ge30pKTtcbi8qKlxuICogVGhlbmFibGUgY2xhc3MgdGhhdCBiZWhhdmVzIGxpa2UgYSBQcm9taXNlIGFuZCBmb2xsb3dzIGl0J3MgaW50ZXJmYWNlXG4gKiBidXQgaXMgbm90IGFzeW5jIGludGVybmFsbHlcbiAqL1xudmFyIFN5bmNQcm9taXNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN5bmNQcm9taXNlKGV4ZWN1dG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gU3RhdGVzLlBFTkRJTkc7XG4gICAgICAgIHRoaXMuX2hhbmRsZXJzID0gW107XG4gICAgICAgIC8qKiBKU0RvYyAqL1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBfdGhpcy5fc2V0UmVzdWx0KFN0YXRlcy5SRVNPTFZFRCwgdmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICAvKiogSlNEb2MgKi9cbiAgICAgICAgdGhpcy5fcmVqZWN0ID0gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgX3RoaXMuX3NldFJlc3VsdChTdGF0ZXMuUkVKRUNURUQsIHJlYXNvbik7XG4gICAgICAgIH07XG4gICAgICAgIC8qKiBKU0RvYyAqL1xuICAgICAgICB0aGlzLl9zZXRSZXN1bHQgPSBmdW5jdGlvbiAoc3RhdGUsIHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX3N0YXRlICE9PSBTdGF0ZXMuUEVORElORykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc1RoZW5hYmxlKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHZhbHVlLnRoZW4oX3RoaXMuX3Jlc29sdmUsIF90aGlzLl9yZWplY3QpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgX3RoaXMuX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBfdGhpcy5fZXhlY3V0ZUhhbmRsZXJzKCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IEZJWE1FXG4gICAgICAgIC8qKiBKU0RvYyAqL1xuICAgICAgICB0aGlzLl9hdHRhY2hIYW5kbGVyID0gZnVuY3Rpb24gKGhhbmRsZXIpIHtcbiAgICAgICAgICAgIF90aGlzLl9oYW5kbGVycyA9IF90aGlzLl9oYW5kbGVycy5jb25jYXQoaGFuZGxlcik7XG4gICAgICAgICAgICBfdGhpcy5fZXhlY3V0ZUhhbmRsZXJzKCk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKiBKU0RvYyAqL1xuICAgICAgICB0aGlzLl9leGVjdXRlSGFuZGxlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuX3N0YXRlID09PSBTdGF0ZXMuUEVORElORykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjYWNoZWRIYW5kbGVycyA9IF90aGlzLl9oYW5kbGVycy5zbGljZSgpO1xuICAgICAgICAgICAgX3RoaXMuX2hhbmRsZXJzID0gW107XG4gICAgICAgICAgICBjYWNoZWRIYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIuZG9uZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fc3RhdGUgPT09IFN0YXRlcy5SRVNPTFZFRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlci5vbmZ1bGZpbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5vbmZ1bGZpbGxlZChfdGhpcy5fdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fc3RhdGUgPT09IFN0YXRlcy5SRUpFQ1RFRCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlci5vbnJlamVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyLm9ucmVqZWN0ZWQoX3RoaXMuX3ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBoYW5kbGVyLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleGVjdXRvcih0aGlzLl9yZXNvbHZlLCB0aGlzLl9yZWplY3QpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEpTRG9jICovXG4gICAgU3luY1Byb21pc2UucmVzb2x2ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN5bmNQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTeW5jUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3luY1Byb21pc2UoZnVuY3Rpb24gKF8sIHJlamVjdCkge1xuICAgICAgICAgICAgcmVqZWN0KHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgU3luY1Byb21pc2UuYWxsID0gZnVuY3Rpb24gKGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTeW5jUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IFR5cGVFcnJvcihcIlByb21pc2UuYWxsIHJlcXVpcmVzIGFuIGFycmF5IGFzIGlucHV0LlwiKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbGxlY3Rpb24ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShbXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNvdW50ZXIgPSBjb2xsZWN0aW9uLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciByZXNvbHZlZENvbGxlY3Rpb24gPSBbXTtcbiAgICAgICAgICAgIGNvbGxlY3Rpb24uZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBTeW5jUHJvbWlzZS5yZXNvbHZlKGl0ZW0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlZENvbGxlY3Rpb25baW5kZXhdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50ZXIgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc29sdmVkQ29sbGVjdGlvbik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4obnVsbCwgcmVqZWN0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFN5bmNQcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgU3luY1Byb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgX3RoaXMuX2F0dGFjaEhhbmRsZXIoe1xuICAgICAgICAgICAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uZnVsZmlsbGVkOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb25mdWxmaWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IMKvXFxfKOODhClfL8KvXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBGSVhNRVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG9uZnVsZmlsbGVkKHJlc3VsdCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9ucmVqZWN0ZWQ6IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvbnJlamVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvbnJlamVjdGVkKHJlYXNvbikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgU3luY1Byb21pc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gKG9ucmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAodmFsKSB7IHJldHVybiB2YWw7IH0sIG9ucmVqZWN0ZWQpO1xuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgU3luY1Byb21pc2UucHJvdG90eXBlLmZpbmFsbHkgPSBmdW5jdGlvbiAob25maW5hbGx5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgU3luY1Byb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHZhbDtcbiAgICAgICAgICAgIHZhciBpc1JlamVjdGVkO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaXNSZWplY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhbCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChvbmZpbmFsbHkpIHtcbiAgICAgICAgICAgICAgICAgICAgb25maW5hbGx5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgICAgIGlzUmVqZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhbCA9IHJlYXNvbjtcbiAgICAgICAgICAgICAgICBpZiAob25maW5hbGx5KSB7XG4gICAgICAgICAgICAgICAgICAgIG9uZmluYWxseSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChpc1JlamVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCh2YWwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUodmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFN5bmNQcm9taXNlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICdbb2JqZWN0IFN5bmNQcm9taXNlXSc7XG4gICAgfTtcbiAgICByZXR1cm4gU3luY1Byb21pc2U7XG59KCkpO1xuZXhwb3J0IHsgU3luY1Byb21pc2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN5bmNwcm9taXNlLmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduLCBfX3JlYWQsIF9fc3ByZWFkIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBkYXRlVGltZXN0YW1wSW5TZWNvbmRzLCBnZXRHbG9iYWxPYmplY3QsIGlzUGxhaW5PYmplY3QsIGlzVGhlbmFibGUsIFN5bmNQcm9taXNlIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG4vKipcbiAqIEhvbGRzIGFkZGl0aW9uYWwgZXZlbnQgaW5mb3JtYXRpb24uIHtAbGluayBTY29wZS5hcHBseVRvRXZlbnR9IHdpbGwgYmVcbiAqIGNhbGxlZCBieSB0aGUgY2xpZW50IGJlZm9yZSBhbiBldmVudCB3aWxsIGJlIHNlbnQuXG4gKi9cbnZhciBTY29wZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY29wZSgpIHtcbiAgICAgICAgLyoqIEZsYWcgaWYgbm90aWZpeWluZyBpcyBoYXBwZW5pbmcuICovXG4gICAgICAgIHRoaXMuX25vdGlmeWluZ0xpc3RlbmVycyA9IGZhbHNlO1xuICAgICAgICAvKiogQ2FsbGJhY2sgZm9yIGNsaWVudCB0byByZWNlaXZlIHNjb3BlIGNoYW5nZXMuICovXG4gICAgICAgIHRoaXMuX3Njb3BlTGlzdGVuZXJzID0gW107XG4gICAgICAgIC8qKiBDYWxsYmFjayBsaXN0IHRoYXQgd2lsbCBiZSBjYWxsZWQgYWZ0ZXIge0BsaW5rIGFwcGx5VG9FdmVudH0uICovXG4gICAgICAgIHRoaXMuX2V2ZW50UHJvY2Vzc29ycyA9IFtdO1xuICAgICAgICAvKiogQXJyYXkgb2YgYnJlYWRjcnVtYnMuICovXG4gICAgICAgIHRoaXMuX2JyZWFkY3J1bWJzID0gW107XG4gICAgICAgIC8qKiBVc2VyICovXG4gICAgICAgIHRoaXMuX3VzZXIgPSB7fTtcbiAgICAgICAgLyoqIFRhZ3MgKi9cbiAgICAgICAgdGhpcy5fdGFncyA9IHt9O1xuICAgICAgICAvKiogRXh0cmEgKi9cbiAgICAgICAgdGhpcy5fZXh0cmEgPSB7fTtcbiAgICAgICAgLyoqIENvbnRleHRzICovXG4gICAgICAgIHRoaXMuX2NvbnRleHRzID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluaGVyaXQgdmFsdWVzIGZyb20gdGhlIHBhcmVudCBzY29wZS5cbiAgICAgKiBAcGFyYW0gc2NvcGUgdG8gY2xvbmUuXG4gICAgICovXG4gICAgU2NvcGUuY2xvbmUgPSBmdW5jdGlvbiAoc2NvcGUpIHtcbiAgICAgICAgdmFyIG5ld1Njb3BlID0gbmV3IFNjb3BlKCk7XG4gICAgICAgIGlmIChzY29wZSkge1xuICAgICAgICAgICAgbmV3U2NvcGUuX2JyZWFkY3J1bWJzID0gX19zcHJlYWQoc2NvcGUuX2JyZWFkY3J1bWJzKTtcbiAgICAgICAgICAgIG5ld1Njb3BlLl90YWdzID0gX19hc3NpZ24oe30sIHNjb3BlLl90YWdzKTtcbiAgICAgICAgICAgIG5ld1Njb3BlLl9leHRyYSA9IF9fYXNzaWduKHt9LCBzY29wZS5fZXh0cmEpO1xuICAgICAgICAgICAgbmV3U2NvcGUuX2NvbnRleHRzID0gX19hc3NpZ24oe30sIHNjb3BlLl9jb250ZXh0cyk7XG4gICAgICAgICAgICBuZXdTY29wZS5fdXNlciA9IHNjb3BlLl91c2VyO1xuICAgICAgICAgICAgbmV3U2NvcGUuX2xldmVsID0gc2NvcGUuX2xldmVsO1xuICAgICAgICAgICAgbmV3U2NvcGUuX3NwYW4gPSBzY29wZS5fc3BhbjtcbiAgICAgICAgICAgIG5ld1Njb3BlLl9zZXNzaW9uID0gc2NvcGUuX3Nlc3Npb247XG4gICAgICAgICAgICBuZXdTY29wZS5fdHJhbnNhY3Rpb25OYW1lID0gc2NvcGUuX3RyYW5zYWN0aW9uTmFtZTtcbiAgICAgICAgICAgIG5ld1Njb3BlLl9maW5nZXJwcmludCA9IHNjb3BlLl9maW5nZXJwcmludDtcbiAgICAgICAgICAgIG5ld1Njb3BlLl9ldmVudFByb2Nlc3NvcnMgPSBfX3NwcmVhZChzY29wZS5fZXZlbnRQcm9jZXNzb3JzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3U2NvcGU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgaW50ZXJuYWwgb24gY2hhbmdlIGxpc3RlbmVyLiBVc2VkIGZvciBzdWIgU0RLcyB0aGF0IG5lZWQgdG8gc3RvcmUgdGhlIHNjb3BlLlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuYWRkU2NvcGVMaXN0ZW5lciA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9zY29wZUxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLmFkZEV2ZW50UHJvY2Vzc29yID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50UHJvY2Vzc29ycy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5zZXRVc2VyID0gZnVuY3Rpb24gKHVzZXIpIHtcbiAgICAgICAgdGhpcy5fdXNlciA9IHVzZXIgfHwge307XG4gICAgICAgIGlmICh0aGlzLl9zZXNzaW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXNzaW9uLnVwZGF0ZSh7IHVzZXI6IHVzZXIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5nZXRVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXNlcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLnNldFRhZ3MgPSBmdW5jdGlvbiAodGFncykge1xuICAgICAgICB0aGlzLl90YWdzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX3RhZ3MpLCB0YWdzKTtcbiAgICAgICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5zZXRUYWcgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuX3RhZ3MgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5fdGFncyksIChfYSA9IHt9LCBfYVtrZXldID0gdmFsdWUsIF9hKSk7XG4gICAgICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuc2V0RXh0cmFzID0gZnVuY3Rpb24gKGV4dHJhcykge1xuICAgICAgICB0aGlzLl9leHRyYSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLl9leHRyYSksIGV4dHJhcyk7XG4gICAgICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuc2V0RXh0cmEgPSBmdW5jdGlvbiAoa2V5LCBleHRyYSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuX2V4dHJhID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX2V4dHJhKSwgKF9hID0ge30sIF9hW2tleV0gPSBleHRyYSwgX2EpKTtcbiAgICAgICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5zZXRGaW5nZXJwcmludCA9IGZ1bmN0aW9uIChmaW5nZXJwcmludCkge1xuICAgICAgICB0aGlzLl9maW5nZXJwcmludCA9IGZpbmdlcnByaW50O1xuICAgICAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLnNldExldmVsID0gZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgIHRoaXMuX2xldmVsID0gbGV2ZWw7XG4gICAgICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuc2V0VHJhbnNhY3Rpb25OYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb25OYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYW4gYmUgcmVtb3ZlZCBpbiBtYWpvciB2ZXJzaW9uLlxuICAgICAqIEBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHtAbGluayB0aGlzLnNldFRyYW5zYWN0aW9uTmFtZX1cbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuc2V0VHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRUcmFuc2FjdGlvbk5hbWUobmFtZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5zZXRDb250ZXh0ID0gZnVuY3Rpb24gKGtleSwgY29udGV4dCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWR5bmFtaWMtZGVsZXRlXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fY29udGV4dHNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHRzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX2NvbnRleHRzKSwgKF9hID0ge30sIF9hW2tleV0gPSBjb250ZXh0LCBfYSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX25vdGlmeVNjb3BlTGlzdGVuZXJzKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuc2V0U3BhbiA9IGZ1bmN0aW9uIChzcGFuKSB7XG4gICAgICAgIHRoaXMuX3NwYW4gPSBzcGFuO1xuICAgICAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLmdldFNwYW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zcGFuO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuZ2V0VHJhbnNhY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgLy8gb2Z0ZW4sIHRoaXMgc3BhbiB3aWxsIGJlIGEgdHJhbnNhY3Rpb24sIGJ1dCBpdCdzIG5vdCBndWFyYW50ZWVkIHRvIGJlXG4gICAgICAgIHZhciBzcGFuID0gdGhpcy5nZXRTcGFuKCk7XG4gICAgICAgIC8vIHRyeSBpdCB0aGUgbmV3IHdheSBmaXJzdFxuICAgICAgICBpZiAoKF9hID0gc3BhbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gKF9iID0gc3BhbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnRyYW5zYWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZhbGxiYWNrIHRvIHRoZSBvbGQgd2F5IChrbm93biBidWc6IHRoaXMgb25seSBmaW5kcyB0cmFuc2FjdGlvbnMgd2l0aCBzYW1wbGVkID0gdHJ1ZSlcbiAgICAgICAgaWYgKChfZCA9IChfYyA9IHNwYW4pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zcGFuUmVjb3JkZXIpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5zcGFuc1swXSkge1xuICAgICAgICAgICAgcmV0dXJuIHNwYW4uc3BhblJlY29yZGVyLnNwYW5zWzBdO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5laXRoZXIgd2F5IGZvdW5kIGEgdHJhbnNhY3Rpb25cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLnNldFNlc3Npb24gPSBmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9zZXNzaW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5nZXRTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2Vzc2lvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU2NvcGUucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChjYXB0dXJlQ29udGV4dCkge1xuICAgICAgICBpZiAoIWNhcHR1cmVDb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNhcHR1cmVDb250ZXh0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB2YXIgdXBkYXRlZFNjb3BlID0gY2FwdHVyZUNvbnRleHQodGhpcyk7XG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlZFNjb3BlIGluc3RhbmNlb2YgU2NvcGUgPyB1cGRhdGVkU2NvcGUgOiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYXB0dXJlQ29udGV4dCBpbnN0YW5jZW9mIFNjb3BlKSB7XG4gICAgICAgICAgICB0aGlzLl90YWdzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX3RhZ3MpLCBjYXB0dXJlQ29udGV4dC5fdGFncyk7XG4gICAgICAgICAgICB0aGlzLl9leHRyYSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLl9leHRyYSksIGNhcHR1cmVDb250ZXh0Ll9leHRyYSk7XG4gICAgICAgICAgICB0aGlzLl9jb250ZXh0cyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLl9jb250ZXh0cyksIGNhcHR1cmVDb250ZXh0Ll9jb250ZXh0cyk7XG4gICAgICAgICAgICBpZiAoY2FwdHVyZUNvbnRleHQuX3VzZXIgJiYgT2JqZWN0LmtleXMoY2FwdHVyZUNvbnRleHQuX3VzZXIpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3VzZXIgPSBjYXB0dXJlQ29udGV4dC5fdXNlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYXB0dXJlQ29udGV4dC5fbGV2ZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXZlbCA9IGNhcHR1cmVDb250ZXh0Ll9sZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYXB0dXJlQ29udGV4dC5fZmluZ2VycHJpbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5nZXJwcmludCA9IGNhcHR1cmVDb250ZXh0Ll9maW5nZXJwcmludDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1BsYWluT2JqZWN0KGNhcHR1cmVDb250ZXh0KSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgICBjYXB0dXJlQ29udGV4dCA9IGNhcHR1cmVDb250ZXh0O1xuICAgICAgICAgICAgdGhpcy5fdGFncyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLl90YWdzKSwgY2FwdHVyZUNvbnRleHQudGFncyk7XG4gICAgICAgICAgICB0aGlzLl9leHRyYSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLl9leHRyYSksIGNhcHR1cmVDb250ZXh0LmV4dHJhKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRleHRzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX2NvbnRleHRzKSwgY2FwdHVyZUNvbnRleHQuY29udGV4dHMpO1xuICAgICAgICAgICAgaWYgKGNhcHR1cmVDb250ZXh0LnVzZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91c2VyID0gY2FwdHVyZUNvbnRleHQudXNlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYXB0dXJlQ29udGV4dC5sZXZlbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldmVsID0gY2FwdHVyZUNvbnRleHQubGV2ZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2FwdHVyZUNvbnRleHQuZmluZ2VycHJpbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9maW5nZXJwcmludCA9IGNhcHR1cmVDb250ZXh0LmZpbmdlcnByaW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2JyZWFkY3J1bWJzID0gW107XG4gICAgICAgIHRoaXMuX3RhZ3MgPSB7fTtcbiAgICAgICAgdGhpcy5fZXh0cmEgPSB7fTtcbiAgICAgICAgdGhpcy5fdXNlciA9IHt9O1xuICAgICAgICB0aGlzLl9jb250ZXh0cyA9IHt9O1xuICAgICAgICB0aGlzLl9sZXZlbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb25OYW1lID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9maW5nZXJwcmludCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fc3BhbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fc2Vzc2lvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5hZGRCcmVhZGNydW1iID0gZnVuY3Rpb24gKGJyZWFkY3J1bWIsIG1heEJyZWFkY3J1bWJzKSB7XG4gICAgICAgIHZhciBtZXJnZWRCcmVhZGNydW1iID0gX19hc3NpZ24oeyB0aW1lc3RhbXA6IGRhdGVUaW1lc3RhbXBJblNlY29uZHMoKSB9LCBicmVhZGNydW1iKTtcbiAgICAgICAgdGhpcy5fYnJlYWRjcnVtYnMgPVxuICAgICAgICAgICAgbWF4QnJlYWRjcnVtYnMgIT09IHVuZGVmaW5lZCAmJiBtYXhCcmVhZGNydW1icyA+PSAwXG4gICAgICAgICAgICAgICAgPyBfX3NwcmVhZCh0aGlzLl9icmVhZGNydW1icywgW21lcmdlZEJyZWFkY3J1bWJdKS5zbGljZSgtbWF4QnJlYWRjcnVtYnMpXG4gICAgICAgICAgICAgICAgOiBfX3NwcmVhZCh0aGlzLl9icmVhZGNydW1icywgW21lcmdlZEJyZWFkY3J1bWJdKTtcbiAgICAgICAgdGhpcy5fbm90aWZ5U2NvcGVMaXN0ZW5lcnMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5jbGVhckJyZWFkY3J1bWJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9icmVhZGNydW1icyA9IFtdO1xuICAgICAgICB0aGlzLl9ub3RpZnlTY29wZUxpc3RlbmVycygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIGN1cnJlbnQgY29udGV4dCBhbmQgZmluZ2VycHJpbnQgdG8gdGhlIGV2ZW50LlxuICAgICAqIE5vdGUgdGhhdCBicmVhZGNydW1icyB3aWxsIGJlIGFkZGVkIGJ5IHRoZSBjbGllbnQuXG4gICAgICogQWxzbyBpZiB0aGUgZXZlbnQgaGFzIGFscmVhZHkgYnJlYWRjcnVtYnMgb24gaXQsIHdlIGRvIG5vdCBtZXJnZSB0aGVtLlxuICAgICAqIEBwYXJhbSBldmVudCBFdmVudFxuICAgICAqIEBwYXJhbSBoaW50IE1heSBjb250YWluIGFkZGl0aW9uYWwgaW5mb3JtYXJ0aW9uIGFib3V0IHRoZSBvcmlnaW5hbCBleGNlcHRpb24uXG4gICAgICogQGhpZGRlblxuICAgICAqL1xuICAgIFNjb3BlLnByb3RvdHlwZS5hcHBseVRvRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIGhpbnQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5fZXh0cmEgJiYgT2JqZWN0LmtleXModGhpcy5fZXh0cmEpLmxlbmd0aCkge1xuICAgICAgICAgICAgZXZlbnQuZXh0cmEgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5fZXh0cmEpLCBldmVudC5leHRyYSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3RhZ3MgJiYgT2JqZWN0LmtleXModGhpcy5fdGFncykubGVuZ3RoKSB7XG4gICAgICAgICAgICBldmVudC50YWdzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX3RhZ3MpLCBldmVudC50YWdzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdXNlciAmJiBPYmplY3Qua2V5cyh0aGlzLl91c2VyKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGV2ZW50LnVzZXIgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgdGhpcy5fdXNlciksIGV2ZW50LnVzZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9jb250ZXh0cyAmJiBPYmplY3Qua2V5cyh0aGlzLl9jb250ZXh0cykubGVuZ3RoKSB7XG4gICAgICAgICAgICBldmVudC5jb250ZXh0cyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLl9jb250ZXh0cyksIGV2ZW50LmNvbnRleHRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbGV2ZWwpIHtcbiAgICAgICAgICAgIGV2ZW50LmxldmVsID0gdGhpcy5fbGV2ZWw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zYWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgZXZlbnQudHJhbnNhY3Rpb24gPSB0aGlzLl90cmFuc2FjdGlvbk5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2Ugd2FudCB0byBzZXQgdGhlIHRyYWNlIGNvbnRleHQgZm9yIG5vcm1hbCBldmVudHMgb25seSBpZiB0aGVyZSBpc24ndCBhbHJlYWR5XG4gICAgICAgIC8vIGEgdHJhY2UgY29udGV4dCBvbiB0aGUgZXZlbnQuIFRoZXJlIGlzIGEgcHJvZHVjdCBmZWF0dXJlIGluIHBsYWNlIHdoZXJlIHdlIGxpbmtcbiAgICAgICAgLy8gZXJyb3JzIHdpdGggdHJhbnNhY3Rpb24gYW5kIGl0IHJlbHlzIG9uIHRoYXQuXG4gICAgICAgIGlmICh0aGlzLl9zcGFuKSB7XG4gICAgICAgICAgICBldmVudC5jb250ZXh0cyA9IF9fYXNzaWduKHsgdHJhY2U6IHRoaXMuX3NwYW4uZ2V0VHJhY2VDb250ZXh0KCkgfSwgZXZlbnQuY29udGV4dHMpO1xuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uTmFtZSA9IChfYSA9IHRoaXMuX3NwYW4udHJhbnNhY3Rpb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5uYW1lO1xuICAgICAgICAgICAgaWYgKHRyYW5zYWN0aW9uTmFtZSkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnRhZ3MgPSBfX2Fzc2lnbih7IHRyYW5zYWN0aW9uOiB0cmFuc2FjdGlvbk5hbWUgfSwgZXZlbnQudGFncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXBwbHlGaW5nZXJwcmludChldmVudCk7XG4gICAgICAgIGV2ZW50LmJyZWFkY3J1bWJzID0gX19zcHJlYWQoKGV2ZW50LmJyZWFkY3J1bWJzIHx8IFtdKSwgdGhpcy5fYnJlYWRjcnVtYnMpO1xuICAgICAgICBldmVudC5icmVhZGNydW1icyA9IGV2ZW50LmJyZWFkY3J1bWJzLmxlbmd0aCA+IDAgPyBldmVudC5icmVhZGNydW1icyA6IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vdGlmeUV2ZW50UHJvY2Vzc29ycyhfX3NwcmVhZChnZXRHbG9iYWxFdmVudFByb2Nlc3NvcnMoKSwgdGhpcy5fZXZlbnRQcm9jZXNzb3JzKSwgZXZlbnQsIGhpbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIGJlIGNhbGxlZCBhZnRlciB7QGxpbmsgYXBwbHlUb0V2ZW50fSBpcyBmaW5pc2hlZC5cbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuX25vdGlmeUV2ZW50UHJvY2Vzc29ycyA9IGZ1bmN0aW9uIChwcm9jZXNzb3JzLCBldmVudCwgaGludCwgaW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHsgaW5kZXggPSAwOyB9XG4gICAgICAgIHJldHVybiBuZXcgU3luY1Byb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHByb2Nlc3NvciA9IHByb2Nlc3NvcnNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGV2ZW50ID09PSBudWxsIHx8IHR5cGVvZiBwcm9jZXNzb3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBwcm9jZXNzb3IoX19hc3NpZ24oe30sIGV2ZW50KSwgaGludCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVGhlbmFibGUocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChmaW5hbCkgeyByZXR1cm4gX3RoaXMuX25vdGlmeUV2ZW50UHJvY2Vzc29ycyhwcm9jZXNzb3JzLCBmaW5hbCwgaGludCwgaW5kZXggKyAxKS50aGVuKHJlc29sdmUpOyB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4obnVsbCwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLl9ub3RpZnlFdmVudFByb2Nlc3NvcnMocHJvY2Vzc29ycywgcmVzdWx0LCBoaW50LCBpbmRleCArIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNvbHZlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4obnVsbCwgcmVqZWN0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyB3aWxsIGJlIGNhbGxlZCBvbiBldmVyeSBzZXQgY2FsbC5cbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuX25vdGlmeVNjb3BlTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBXZSBuZWVkIHRoaXMgY2hlY2sgZm9yIHRoaXMuX25vdGlmeWluZ0xpc3RlbmVycyB0byBiZSBhYmxlIHRvIHdvcmsgb24gc2NvcGUgZHVyaW5nIHVwZGF0ZXNcbiAgICAgICAgLy8gSWYgdGhpcyBjaGVjayBpcyBub3QgaGVyZSB3ZSdsbCBwcm9kdWNlIGVuZGxlc3MgcmVjdXJzaW9uIHdoZW4gc29tZXRoaW5nIGlzIGRvbmUgd2l0aCB0aGUgc2NvcGVcbiAgICAgICAgLy8gZHVyaW5nIHRoZSBjYWxsYmFjay5cbiAgICAgICAgaWYgKCF0aGlzLl9ub3RpZnlpbmdMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMuX25vdGlmeWluZ0xpc3RlbmVycyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9zY29wZUxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKF90aGlzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fbm90aWZ5aW5nTGlzdGVuZXJzID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgZmluZ2VycHJpbnQgZnJvbSB0aGUgc2NvcGUgdG8gdGhlIGV2ZW50IGlmIHRoZXJlJ3Mgb25lLFxuICAgICAqIHVzZXMgbWVzc2FnZSBpZiB0aGVyZSdzIG9uZSBpbnN0ZWFkIG9yIGdldCByaWQgb2YgZW1wdHkgZmluZ2VycHJpbnRcbiAgICAgKi9cbiAgICBTY29wZS5wcm90b3R5cGUuX2FwcGx5RmluZ2VycHJpbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIGl0J3MgYW4gYXJyYXkgZmlyc3QgYW5kIHdlIGFjdHVhbGx5IGhhdmUgc29tZXRoaW5nIGluIHBsYWNlXG4gICAgICAgIGV2ZW50LmZpbmdlcnByaW50ID0gZXZlbnQuZmluZ2VycHJpbnRcbiAgICAgICAgICAgID8gQXJyYXkuaXNBcnJheShldmVudC5maW5nZXJwcmludClcbiAgICAgICAgICAgICAgICA/IGV2ZW50LmZpbmdlcnByaW50XG4gICAgICAgICAgICAgICAgOiBbZXZlbnQuZmluZ2VycHJpbnRdXG4gICAgICAgICAgICA6IFtdO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIHNvbWV0aGluZyBvbiB0aGUgc2NvcGUsIHRoZW4gbWVyZ2UgaXQgd2l0aCBldmVudFxuICAgICAgICBpZiAodGhpcy5fZmluZ2VycHJpbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LmZpbmdlcnByaW50ID0gZXZlbnQuZmluZ2VycHJpbnQuY29uY2F0KHRoaXMuX2ZpbmdlcnByaW50KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vIGRhdGEgYXQgYWxsLCByZW1vdmUgZW1wdHkgYXJyYXkgZGVmYXVsdFxuICAgICAgICBpZiAoZXZlbnQuZmluZ2VycHJpbnQgJiYgIWV2ZW50LmZpbmdlcnByaW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgZGVsZXRlIGV2ZW50LmZpbmdlcnByaW50O1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gU2NvcGU7XG59KCkpO1xuZXhwb3J0IHsgU2NvcGUgfTtcbi8qKlxuICogUmV0cnVucyB0aGUgZ2xvYmFsIGV2ZW50IHByb2Nlc3NvcnMuXG4gKi9cbmZ1bmN0aW9uIGdldEdsb2JhbEV2ZW50UHJvY2Vzc29ycygpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MgICovXG4gICAgdmFyIGdsb2JhbCA9IGdldEdsb2JhbE9iamVjdCgpO1xuICAgIGdsb2JhbC5fX1NFTlRSWV9fID0gZ2xvYmFsLl9fU0VOVFJZX18gfHwge307XG4gICAgZ2xvYmFsLl9fU0VOVFJZX18uZ2xvYmFsRXZlbnRQcm9jZXNzb3JzID0gZ2xvYmFsLl9fU0VOVFJZX18uZ2xvYmFsRXZlbnRQcm9jZXNzb3JzIHx8IFtdO1xuICAgIHJldHVybiBnbG9iYWwuX19TRU5UUllfXy5nbG9iYWxFdmVudFByb2Nlc3NvcnM7XG4gICAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MgKi9cbn1cbi8qKlxuICogQWRkIGEgRXZlbnRQcm9jZXNzb3IgdG8gYmUga2VwdCBnbG9iYWxseS5cbiAqIEBwYXJhbSBjYWxsYmFjayBFdmVudFByb2Nlc3NvciB0byBhZGRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEdsb2JhbEV2ZW50UHJvY2Vzc29yKGNhbGxiYWNrKSB7XG4gICAgZ2V0R2xvYmFsRXZlbnRQcm9jZXNzb3JzKCkucHVzaChjYWxsYmFjayk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY29wZS5qcy5tYXAiLCJpbXBvcnQgeyBTZXNzaW9uU3RhdHVzIH0gZnJvbSAnQHNlbnRyeS90eXBlcyc7XG5pbXBvcnQgeyBkcm9wVW5kZWZpbmVkS2V5cywgdXVpZDQgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbi8qKlxuICogQGluaGVyaXRkb2NcbiAqL1xudmFyIFNlc3Npb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2Vzc2lvbihjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gMDtcbiAgICAgICAgdGhpcy5zaWQgPSB1dWlkNCgpO1xuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSAwO1xuICAgICAgICB0aGlzLnN0YXR1cyA9IFNlc3Npb25TdGF0dXMuT2s7XG4gICAgICAgIHRoaXMuaW5pdCA9IHRydWU7XG4gICAgICAgIGlmIChjb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZShjb250ZXh0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogSlNEb2MgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuICAgIFNlc3Npb24ucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGlmIChjb250ZXh0ID09PSB2b2lkIDApIHsgY29udGV4dCA9IHt9OyB9XG4gICAgICAgIGlmIChjb250ZXh0LnVzZXIpIHtcbiAgICAgICAgICAgIGlmIChjb250ZXh0LnVzZXIuaXBfYWRkcmVzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuaXBBZGRyZXNzID0gY29udGV4dC51c2VyLmlwX2FkZHJlc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWNvbnRleHQuZGlkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaWQgPSBjb250ZXh0LnVzZXIuaWQgfHwgY29udGV4dC51c2VyLmVtYWlsIHx8IGNvbnRleHQudXNlci51c2VybmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IGNvbnRleHQudGltZXN0YW1wIHx8IERhdGUubm93KCk7XG4gICAgICAgIGlmIChjb250ZXh0LnNpZCkge1xuICAgICAgICAgICAgLy8gR29vZCBlbm91Z2ggdXVpZCB2YWxpZGF0aW9uLiDigJQgS2FtaWxcbiAgICAgICAgICAgIHRoaXMuc2lkID0gY29udGV4dC5zaWQubGVuZ3RoID09PSAzMiA/IGNvbnRleHQuc2lkIDogdXVpZDQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dC5pbml0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdCA9IGNvbnRleHQuaW5pdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dC5kaWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGlkID0gXCJcIiArIGNvbnRleHQuZGlkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5zdGFydGVkID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkID0gY29udGV4dC5zdGFydGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY29udGV4dC5kdXJhdGlvbiA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMuZHVyYXRpb24gPSBjb250ZXh0LmR1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbiA9IHRoaXMudGltZXN0YW1wIC0gdGhpcy5zdGFydGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LnJlbGVhc2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVsZWFzZSA9IGNvbnRleHQucmVsZWFzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dC5lbnZpcm9ubWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IGNvbnRleHQuZW52aXJvbm1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQuaXBBZGRyZXNzKSB7XG4gICAgICAgICAgICB0aGlzLmlwQWRkcmVzcyA9IGNvbnRleHQuaXBBZGRyZXNzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250ZXh0LnVzZXJBZ2VudCkge1xuICAgICAgICAgICAgdGhpcy51c2VyQWdlbnQgPSBjb250ZXh0LnVzZXJBZ2VudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQuZXJyb3JzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhpcy5lcnJvcnMgPSBjb250ZXh0LmVycm9ycztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGV4dC5zdGF0dXMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gY29udGV4dC5zdGF0dXM7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFNlc3Npb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKHN0YXR1cykge1xuICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh7IHN0YXR1czogc3RhdHVzIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhdHVzID09PSBTZXNzaW9uU3RhdHVzLk9rKSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh7IHN0YXR1czogU2Vzc2lvblN0YXR1cy5FeGl0ZWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTZXNzaW9uLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBkcm9wVW5kZWZpbmVkS2V5cyh7XG4gICAgICAgICAgICBzaWQ6IFwiXCIgKyB0aGlzLnNpZCxcbiAgICAgICAgICAgIGluaXQ6IHRoaXMuaW5pdCxcbiAgICAgICAgICAgIHN0YXJ0ZWQ6IG5ldyBEYXRlKHRoaXMuc3RhcnRlZCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUodGhpcy50aW1lc3RhbXApLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICAgICAgZXJyb3JzOiB0aGlzLmVycm9ycyxcbiAgICAgICAgICAgIGRpZDogdHlwZW9mIHRoaXMuZGlkID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdGhpcy5kaWQgPT09ICdzdHJpbmcnID8gXCJcIiArIHRoaXMuZGlkIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb24sXG4gICAgICAgICAgICBhdHRyczogZHJvcFVuZGVmaW5lZEtleXMoe1xuICAgICAgICAgICAgICAgIHJlbGVhc2U6IHRoaXMucmVsZWFzZSxcbiAgICAgICAgICAgICAgICBlbnZpcm9ubWVudDogdGhpcy5lbnZpcm9ubWVudCxcbiAgICAgICAgICAgICAgICBpcF9hZGRyZXNzOiB0aGlzLmlwQWRkcmVzcyxcbiAgICAgICAgICAgICAgICB1c2VyX2FnZW50OiB0aGlzLnVzZXJBZ2VudCxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBTZXNzaW9uO1xufSgpKTtcbmV4cG9ydCB7IFNlc3Npb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlc3Npb24uanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fcmVhZCwgX19zcHJlYWQgfSBmcm9tIFwidHNsaWJcIjtcbi8qIGVzbGludC1kaXNhYmxlIG1heC1saW5lcyAqL1xuaW1wb3J0IHsgU2Vzc2lvblN0YXR1cywgfSBmcm9tICdAc2VudHJ5L3R5cGVzJztcbmltcG9ydCB7IGNvbnNvbGVTYW5kYm94LCBkYXRlVGltZXN0YW1wSW5TZWNvbmRzLCBnZXRHbG9iYWxPYmplY3QsIGlzTm9kZUVudiwgbG9nZ2VyLCB1dWlkNCB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgU2NvcGUgfSBmcm9tICcuL3Njb3BlJztcbmltcG9ydCB7IFNlc3Npb24gfSBmcm9tICcuL3Nlc3Npb24nO1xuLyoqXG4gKiBBUEkgY29tcGF0aWJpbGl0eSB2ZXJzaW9uIG9mIHRoaXMgaHViLlxuICpcbiAqIFdBUk5JTkc6IFRoaXMgbnVtYmVyIHNob3VsZCBvbmx5IGJlIGluY3JlYXNlZCB3aGVuIHRoZSBnbG9iYWwgaW50ZXJmYWNlXG4gKiBjaGFuZ2VzIGFuZCBuZXcgbWV0aG9kcyBhcmUgaW50cm9kdWNlZC5cbiAqXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCB2YXIgQVBJX1ZFUlNJT04gPSAzO1xuLyoqXG4gKiBEZWZhdWx0IG1heGltdW0gbnVtYmVyIG9mIGJyZWFkY3J1bWJzIGFkZGVkIHRvIGFuIGV2ZW50LiBDYW4gYmUgb3ZlcndyaXR0ZW5cbiAqIHdpdGgge0BsaW5rIE9wdGlvbnMubWF4QnJlYWRjcnVtYnN9LlxuICovXG52YXIgREVGQVVMVF9CUkVBRENSVU1CUyA9IDEwMDtcbi8qKlxuICogQWJzb2x1dGUgbWF4aW11bSBudW1iZXIgb2YgYnJlYWRjcnVtYnMgYWRkZWQgdG8gYW4gZXZlbnQuIFRoZVxuICogYG1heEJyZWFkY3J1bWJzYCBvcHRpb24gY2Fubm90IGJlIGhpZ2hlciB0aGFuIHRoaXMgdmFsdWUuXG4gKi9cbnZhciBNQVhfQlJFQURDUlVNQlMgPSAxMDA7XG4vKipcbiAqIEBpbmhlcml0RG9jXG4gKi9cbnZhciBIdWIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgaHViLCB3aWxsIHB1c2ggb25lIHtAbGluayBMYXllcn0gaW50byB0aGVcbiAgICAgKiBpbnRlcm5hbCBzdGFjayBvbiBjcmVhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjbGllbnQgYm91bmQgdG8gdGhlIGh1Yi5cbiAgICAgKiBAcGFyYW0gc2NvcGUgYm91bmQgdG8gdGhlIGh1Yi5cbiAgICAgKiBAcGFyYW0gdmVyc2lvbiBudW1iZXIsIGhpZ2hlciBudW1iZXIgbWVhbnMgaGlnaGVyIHByaW9yaXR5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEh1YihjbGllbnQsIHNjb3BlLCBfdmVyc2lvbikge1xuICAgICAgICBpZiAoc2NvcGUgPT09IHZvaWQgMCkgeyBzY29wZSA9IG5ldyBTY29wZSgpOyB9XG4gICAgICAgIGlmIChfdmVyc2lvbiA9PT0gdm9pZCAwKSB7IF92ZXJzaW9uID0gQVBJX1ZFUlNJT047IH1cbiAgICAgICAgdGhpcy5fdmVyc2lvbiA9IF92ZXJzaW9uO1xuICAgICAgICAvKiogSXMgYSB7QGxpbmsgTGF5ZXJ9W10gY29udGFpbmluZyB0aGUgY2xpZW50IGFuZCBzY29wZSAqL1xuICAgICAgICB0aGlzLl9zdGFjayA9IFt7fV07XG4gICAgICAgIHRoaXMuZ2V0U3RhY2tUb3AoKS5zY29wZSA9IHNjb3BlO1xuICAgICAgICB0aGlzLmJpbmRDbGllbnQoY2xpZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLmlzT2xkZXJUaGFuID0gZnVuY3Rpb24gKHZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcnNpb24gPCB2ZXJzaW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLmJpbmRDbGllbnQgPSBmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgICAgIHZhciB0b3AgPSB0aGlzLmdldFN0YWNrVG9wKCk7XG4gICAgICAgIHRvcC5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIGlmIChjbGllbnQgJiYgY2xpZW50LnNldHVwSW50ZWdyYXRpb25zKSB7XG4gICAgICAgICAgICBjbGllbnQuc2V0dXBJbnRlZ3JhdGlvbnMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLnB1c2hTY29wZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gV2Ugd2FudCB0byBjbG9uZSB0aGUgY29udGVudCBvZiBwcmV2IHNjb3BlXG4gICAgICAgIHZhciBzY29wZSA9IFNjb3BlLmNsb25lKHRoaXMuZ2V0U2NvcGUoKSk7XG4gICAgICAgIHRoaXMuZ2V0U3RhY2soKS5wdXNoKHtcbiAgICAgICAgICAgIGNsaWVudDogdGhpcy5nZXRDbGllbnQoKSxcbiAgICAgICAgICAgIHNjb3BlOiBzY29wZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzY29wZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSHViLnByb3RvdHlwZS5wb3BTY29wZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0U3RhY2soKS5sZW5ndGggPD0gMSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5nZXRTdGFjaygpLnBvcCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLndpdGhTY29wZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzLnB1c2hTY29wZSgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2soc2NvcGUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5wb3BTY29wZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuZ2V0Q2xpZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdGFja1RvcCgpLmNsaWVudDtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRoZSBzY29wZSBvZiB0aGUgdG9wIHN0YWNrLiAqL1xuICAgIEh1Yi5wcm90b3R5cGUuZ2V0U2NvcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0YWNrVG9wKCkuc2NvcGU7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyB0aGUgc2NvcGUgc3RhY2sgZm9yIGRvbWFpbnMgb3IgdGhlIHByb2Nlc3MuICovXG4gICAgSHViLnByb3RvdHlwZS5nZXRTdGFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YWNrO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgdGhlIHRvcG1vc3Qgc2NvcGUgbGF5ZXIgaW4gdGhlIG9yZGVyIGRvbWFpbiA+IGxvY2FsID4gcHJvY2Vzcy4gKi9cbiAgICBIdWIucHJvdG90eXBlLmdldFN0YWNrVG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhY2tbdGhpcy5fc3RhY2subGVuZ3RoIC0gMV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG4gICAgSHViLnByb3RvdHlwZS5jYXB0dXJlRXhjZXB0aW9uID0gZnVuY3Rpb24gKGV4Y2VwdGlvbiwgaGludCkge1xuICAgICAgICB2YXIgZXZlbnRJZCA9ICh0aGlzLl9sYXN0RXZlbnRJZCA9IHV1aWQ0KCkpO1xuICAgICAgICB2YXIgZmluYWxIaW50ID0gaGludDtcbiAgICAgICAgLy8gSWYgdGhlcmUncyBubyBleHBsaWNpdCBoaW50IHByb3ZpZGVkLCBtaW1pY2sgdGhlIHNhbWUgdGhpbmcgdGhhdCB3b3VsZCBoYXBwZW5cbiAgICAgICAgLy8gaW4gdGhlIG1pbmltYWwgaXRzZWxmIHRvIGNyZWF0ZSBhIGNvbnNpc3RlbnQgYmVoYXZpb3IuXG4gICAgICAgIC8vIFdlIGRvbid0IGRvIHRoaXMgaW4gdGhlIGNsaWVudCwgYXMgaXQncyB0aGUgbG93ZXN0IGxldmVsIEFQSSwgYW5kIGRvaW5nIHRoaXMsXG4gICAgICAgIC8vIHdvdWxkIHByZXZlbnQgdXNlciBmcm9tIGhhdmluZyBmdWxsIGNvbnRyb2wgb3ZlciBkaXJlY3QgY2FsbHMuXG4gICAgICAgIGlmICghaGludCkge1xuICAgICAgICAgICAgdmFyIHN5bnRoZXRpY0V4Y2VwdGlvbiA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZW50cnkgc3ludGhldGljRXhjZXB0aW9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgc3ludGhldGljRXhjZXB0aW9uID0gZXhjZXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxIaW50ID0ge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsRXhjZXB0aW9uOiBleGNlcHRpb24sXG4gICAgICAgICAgICAgICAgc3ludGhldGljRXhjZXB0aW9uOiBzeW50aGV0aWNFeGNlcHRpb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ludm9rZUNsaWVudCgnY2FwdHVyZUV4Y2VwdGlvbicsIGV4Y2VwdGlvbiwgX19hc3NpZ24oX19hc3NpZ24oe30sIGZpbmFsSGludCksIHsgZXZlbnRfaWQ6IGV2ZW50SWQgfSkpO1xuICAgICAgICByZXR1cm4gZXZlbnRJZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSHViLnByb3RvdHlwZS5jYXB0dXJlTWVzc2FnZSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBsZXZlbCwgaGludCkge1xuICAgICAgICB2YXIgZXZlbnRJZCA9ICh0aGlzLl9sYXN0RXZlbnRJZCA9IHV1aWQ0KCkpO1xuICAgICAgICB2YXIgZmluYWxIaW50ID0gaGludDtcbiAgICAgICAgLy8gSWYgdGhlcmUncyBubyBleHBsaWNpdCBoaW50IHByb3ZpZGVkLCBtaW1pY2sgdGhlIHNhbWUgdGhpbmcgdGhhdCB3b3VsZCBoYXBwZW5cbiAgICAgICAgLy8gaW4gdGhlIG1pbmltYWwgaXRzZWxmIHRvIGNyZWF0ZSBhIGNvbnNpc3RlbnQgYmVoYXZpb3IuXG4gICAgICAgIC8vIFdlIGRvbid0IGRvIHRoaXMgaW4gdGhlIGNsaWVudCwgYXMgaXQncyB0aGUgbG93ZXN0IGxldmVsIEFQSSwgYW5kIGRvaW5nIHRoaXMsXG4gICAgICAgIC8vIHdvdWxkIHByZXZlbnQgdXNlciBmcm9tIGhhdmluZyBmdWxsIGNvbnRyb2wgb3ZlciBkaXJlY3QgY2FsbHMuXG4gICAgICAgIGlmICghaGludCkge1xuICAgICAgICAgICAgdmFyIHN5bnRoZXRpY0V4Y2VwdGlvbiA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgIHN5bnRoZXRpY0V4Y2VwdGlvbiA9IGV4Y2VwdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsSGludCA9IHtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV4Y2VwdGlvbjogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICBzeW50aGV0aWNFeGNlcHRpb246IHN5bnRoZXRpY0V4Y2VwdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW52b2tlQ2xpZW50KCdjYXB0dXJlTWVzc2FnZScsIG1lc3NhZ2UsIGxldmVsLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZmluYWxIaW50KSwgeyBldmVudF9pZDogZXZlbnRJZCB9KSk7XG4gICAgICAgIHJldHVybiBldmVudElkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLmNhcHR1cmVFdmVudCA9IGZ1bmN0aW9uIChldmVudCwgaGludCkge1xuICAgICAgICB2YXIgZXZlbnRJZCA9ICh0aGlzLl9sYXN0RXZlbnRJZCA9IHV1aWQ0KCkpO1xuICAgICAgICB0aGlzLl9pbnZva2VDbGllbnQoJ2NhcHR1cmVFdmVudCcsIGV2ZW50LCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgaGludCksIHsgZXZlbnRfaWQ6IGV2ZW50SWQgfSkpO1xuICAgICAgICByZXR1cm4gZXZlbnRJZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSHViLnByb3RvdHlwZS5sYXN0RXZlbnRJZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhc3RFdmVudElkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLmFkZEJyZWFkY3J1bWIgPSBmdW5jdGlvbiAoYnJlYWRjcnVtYiwgaGludCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLmdldFN0YWNrVG9wKCksIHNjb3BlID0gX2Euc2NvcGUsIGNsaWVudCA9IF9hLmNsaWVudDtcbiAgICAgICAgaWYgKCFzY29wZSB8fCAhY2xpZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3VuYm91bmQtbWV0aG9kXG4gICAgICAgIHZhciBfYiA9IChjbGllbnQuZ2V0T3B0aW9ucyAmJiBjbGllbnQuZ2V0T3B0aW9ucygpKSB8fCB7fSwgX2MgPSBfYi5iZWZvcmVCcmVhZGNydW1iLCBiZWZvcmVCcmVhZGNydW1iID0gX2MgPT09IHZvaWQgMCA/IG51bGwgOiBfYywgX2QgPSBfYi5tYXhCcmVhZGNydW1icywgbWF4QnJlYWRjcnVtYnMgPSBfZCA9PT0gdm9pZCAwID8gREVGQVVMVF9CUkVBRENSVU1CUyA6IF9kO1xuICAgICAgICBpZiAobWF4QnJlYWRjcnVtYnMgPD0gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIHRpbWVzdGFtcCA9IGRhdGVUaW1lc3RhbXBJblNlY29uZHMoKTtcbiAgICAgICAgdmFyIG1lcmdlZEJyZWFkY3J1bWIgPSBfX2Fzc2lnbih7IHRpbWVzdGFtcDogdGltZXN0YW1wIH0sIGJyZWFkY3J1bWIpO1xuICAgICAgICB2YXIgZmluYWxCcmVhZGNydW1iID0gYmVmb3JlQnJlYWRjcnVtYlxuICAgICAgICAgICAgPyBjb25zb2xlU2FuZGJveChmdW5jdGlvbiAoKSB7IHJldHVybiBiZWZvcmVCcmVhZGNydW1iKG1lcmdlZEJyZWFkY3J1bWIsIGhpbnQpOyB9KVxuICAgICAgICAgICAgOiBtZXJnZWRCcmVhZGNydW1iO1xuICAgICAgICBpZiAoZmluYWxCcmVhZGNydW1iID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBzY29wZS5hZGRCcmVhZGNydW1iKGZpbmFsQnJlYWRjcnVtYiwgTWF0aC5taW4obWF4QnJlYWRjcnVtYnMsIE1BWF9CUkVBRENSVU1CUykpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLnNldFVzZXIgPSBmdW5jdGlvbiAodXNlcikge1xuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzLmdldFNjb3BlKCk7XG4gICAgICAgIGlmIChzY29wZSlcbiAgICAgICAgICAgIHNjb3BlLnNldFVzZXIodXNlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuc2V0VGFncyA9IGZ1bmN0aW9uICh0YWdzKSB7XG4gICAgICAgIHZhciBzY29wZSA9IHRoaXMuZ2V0U2NvcGUoKTtcbiAgICAgICAgaWYgKHNjb3BlKVxuICAgICAgICAgICAgc2NvcGUuc2V0VGFncyh0YWdzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSHViLnByb3RvdHlwZS5zZXRFeHRyYXMgPSBmdW5jdGlvbiAoZXh0cmFzKSB7XG4gICAgICAgIHZhciBzY29wZSA9IHRoaXMuZ2V0U2NvcGUoKTtcbiAgICAgICAgaWYgKHNjb3BlKVxuICAgICAgICAgICAgc2NvcGUuc2V0RXh0cmFzKGV4dHJhcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuc2V0VGFnID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcy5nZXRTY29wZSgpO1xuICAgICAgICBpZiAoc2NvcGUpXG4gICAgICAgICAgICBzY29wZS5zZXRUYWcoa2V5LCB2YWx1ZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuc2V0RXh0cmEgPSBmdW5jdGlvbiAoa2V5LCBleHRyYSkge1xuICAgICAgICB2YXIgc2NvcGUgPSB0aGlzLmdldFNjb3BlKCk7XG4gICAgICAgIGlmIChzY29wZSlcbiAgICAgICAgICAgIHNjb3BlLnNldEV4dHJhKGtleSwgZXh0cmEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIEh1Yi5wcm90b3R5cGUuc2V0Q29udGV4dCA9IGZ1bmN0aW9uIChuYW1lLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBzY29wZSA9IHRoaXMuZ2V0U2NvcGUoKTtcbiAgICAgICAgaWYgKHNjb3BlKVxuICAgICAgICAgICAgc2NvcGUuc2V0Q29udGV4dChuYW1lLCBjb250ZXh0KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSHViLnByb3RvdHlwZS5jb25maWd1cmVTY29wZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLmdldFN0YWNrVG9wKCksIHNjb3BlID0gX2Euc2NvcGUsIGNsaWVudCA9IF9hLmNsaWVudDtcbiAgICAgICAgaWYgKHNjb3BlICYmIGNsaWVudCkge1xuICAgICAgICAgICAgY2FsbGJhY2soc2NvcGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBvbGRIdWIgPSBtYWtlTWFpbih0aGlzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgbWFrZU1haW4ob2xkSHViKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLmdldEludGVncmF0aW9uID0gZnVuY3Rpb24gKGludGVncmF0aW9uKSB7XG4gICAgICAgIHZhciBjbGllbnQgPSB0aGlzLmdldENsaWVudCgpO1xuICAgICAgICBpZiAoIWNsaWVudClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGNsaWVudC5nZXRJbnRlZ3JhdGlvbihpbnRlZ3JhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9vTykge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJDYW5ub3QgcmV0cmlldmUgaW50ZWdyYXRpb24gXCIgKyBpbnRlZ3JhdGlvbi5pZCArIFwiIGZyb20gdGhlIGN1cnJlbnQgSHViXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSHViLnByb3RvdHlwZS5zdGFydFNwYW4gPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FsbEV4dGVuc2lvbk1ldGhvZCgnc3RhcnRTcGFuJywgY29udGV4dCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEh1Yi5wcm90b3R5cGUuc3RhcnRUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChjb250ZXh0LCBjdXN0b21TYW1wbGluZ0NvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxFeHRlbnNpb25NZXRob2QoJ3N0YXJ0VHJhbnNhY3Rpb24nLCBjb250ZXh0LCBjdXN0b21TYW1wbGluZ0NvbnRleHQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLnRyYWNlSGVhZGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhbGxFeHRlbnNpb25NZXRob2QoJ3RyYWNlSGVhZGVycycpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLmNhcHR1cmVTZXNzaW9uID0gZnVuY3Rpb24gKGVuZFNlc3Npb24pIHtcbiAgICAgICAgaWYgKGVuZFNlc3Npb24gPT09IHZvaWQgMCkgeyBlbmRTZXNzaW9uID0gZmFsc2U7IH1cbiAgICAgICAgLy8gYm90aCBzZW5kIHRoZSB1cGRhdGUgYW5kIHB1bGwgdGhlIHNlc3Npb24gZnJvbSB0aGUgc2NvcGVcbiAgICAgICAgaWYgKGVuZFNlc3Npb24pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVuZFNlc3Npb24oKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBvbmx5IHNlbmQgdGhlIHVwZGF0ZVxuICAgICAgICB0aGlzLl9zZW5kU2Vzc2lvblVwZGF0ZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLmVuZFNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIChfYyA9IChfYiA9IChfYSA9IHRoaXMuZ2V0U3RhY2tUb3AoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNjb3BlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0U2Vzc2lvbigpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5fc2VuZFNlc3Npb25VcGRhdGUoKTtcbiAgICAgICAgLy8gdGhlIHNlc3Npb24gaXMgb3ZlcjsgdGFrZSBpdCBvZmYgb2YgdGhlIHNjb3BlXG4gICAgICAgIChfZSA9IChfZCA9IHRoaXMuZ2V0U3RhY2tUb3AoKSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnNjb3BlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Uuc2V0U2Vzc2lvbigpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLnN0YXJ0U2Vzc2lvbiA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuZ2V0U3RhY2tUb3AoKSwgc2NvcGUgPSBfYS5zY29wZSwgY2xpZW50ID0gX2EuY2xpZW50O1xuICAgICAgICB2YXIgX2IgPSAoY2xpZW50ICYmIGNsaWVudC5nZXRPcHRpb25zKCkpIHx8IHt9LCByZWxlYXNlID0gX2IucmVsZWFzZSwgZW52aXJvbm1lbnQgPSBfYi5lbnZpcm9ubWVudDtcbiAgICAgICAgdmFyIHNlc3Npb24gPSBuZXcgU2Vzc2lvbihfX2Fzc2lnbihfX2Fzc2lnbih7IHJlbGVhc2U6IHJlbGVhc2UsXG4gICAgICAgICAgICBlbnZpcm9ubWVudDogZW52aXJvbm1lbnQgfSwgKHNjb3BlICYmIHsgdXNlcjogc2NvcGUuZ2V0VXNlcigpIH0pKSwgY29udGV4dCkpO1xuICAgICAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgICAgIC8vIEVuZCBleGlzdGluZyBzZXNzaW9uIGlmIHRoZXJlJ3Mgb25lXG4gICAgICAgICAgICB2YXIgY3VycmVudFNlc3Npb24gPSBzY29wZS5nZXRTZXNzaW9uICYmIHNjb3BlLmdldFNlc3Npb24oKTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50U2Vzc2lvbiAmJiBjdXJyZW50U2Vzc2lvbi5zdGF0dXMgPT09IFNlc3Npb25TdGF0dXMuT2spIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2Vzc2lvbi51cGRhdGUoeyBzdGF0dXM6IFNlc3Npb25TdGF0dXMuRXhpdGVkIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbmRTZXNzaW9uKCk7XG4gICAgICAgICAgICAvLyBBZnRlcndhcmRzIHdlIHNldCB0aGUgbmV3IHNlc3Npb24gb24gdGhlIHNjb3BlXG4gICAgICAgICAgICBzY29wZS5zZXRTZXNzaW9uKHNlc3Npb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZHMgdGhlIGN1cnJlbnQgU2Vzc2lvbiBvbiB0aGUgc2NvcGVcbiAgICAgKi9cbiAgICBIdWIucHJvdG90eXBlLl9zZW5kU2Vzc2lvblVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5nZXRTdGFja1RvcCgpLCBzY29wZSA9IF9hLnNjb3BlLCBjbGllbnQgPSBfYS5jbGllbnQ7XG4gICAgICAgIGlmICghc2NvcGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBzZXNzaW9uID0gc2NvcGUuZ2V0U2Vzc2lvbiAmJiBzY29wZS5nZXRTZXNzaW9uKCk7XG4gICAgICAgIGlmIChzZXNzaW9uKSB7XG4gICAgICAgICAgICBpZiAoY2xpZW50ICYmIGNsaWVudC5jYXB0dXJlU2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIGNsaWVudC5jYXB0dXJlU2Vzc2lvbihzZXNzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgaGVscGVyIGZ1bmN0aW9uIHRvIGNhbGwgYSBtZXRob2Qgb24gdGhlIHRvcCBjbGllbnQgaWYgaXQgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG1ldGhvZCBUaGUgbWV0aG9kIHRvIGNhbGwgb24gdGhlIGNsaWVudC5cbiAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgY2xpZW50IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgSHViLnByb3RvdHlwZS5faW52b2tlQ2xpZW50ID0gZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYiA9IHRoaXMuZ2V0U3RhY2tUb3AoKSwgc2NvcGUgPSBfYi5zY29wZSwgY2xpZW50ID0gX2IuY2xpZW50O1xuICAgICAgICBpZiAoY2xpZW50ICYmIGNsaWVudFttZXRob2RdKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAoX2EgPSBjbGllbnQpW21ldGhvZF0uYXBwbHkoX2EsIF9fc3ByZWFkKGFyZ3MsIFtzY29wZV0pKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbHMgZ2xvYmFsIGV4dGVuc2lvbiBtZXRob2QgYW5kIGJpbmRpbmcgY3VycmVudCBpbnN0YW5jZSB0byB0aGUgZnVuY3Rpb24gY2FsbFxuICAgICAqL1xuICAgIC8vIEB0cy1pZ25vcmUgRnVuY3Rpb24gbGFja3MgZW5kaW5nIHJldHVybiBzdGF0ZW1lbnQgYW5kIHJldHVybiB0eXBlIGRvZXMgbm90IGluY2x1ZGUgJ3VuZGVmaW5lZCcuIHRzKDIzNjYpXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBIdWIucHJvdG90eXBlLl9jYWxsRXh0ZW5zaW9uTWV0aG9kID0gZnVuY3Rpb24gKG1ldGhvZCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FycmllciA9IGdldE1haW5DYXJyaWVyKCk7XG4gICAgICAgIHZhciBzZW50cnkgPSBjYXJyaWVyLl9fU0VOVFJZX187XG4gICAgICAgIGlmIChzZW50cnkgJiYgc2VudHJ5LmV4dGVuc2lvbnMgJiYgdHlwZW9mIHNlbnRyeS5leHRlbnNpb25zW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBzZW50cnkuZXh0ZW5zaW9uc1ttZXRob2RdLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci53YXJuKFwiRXh0ZW5zaW9uIG1ldGhvZCBcIiArIG1ldGhvZCArIFwiIGNvdWxkbid0IGJlIGZvdW5kLCBkb2luZyBub3RoaW5nLlwiKTtcbiAgICB9O1xuICAgIHJldHVybiBIdWI7XG59KCkpO1xuZXhwb3J0IHsgSHViIH07XG4vKiogUmV0dXJucyB0aGUgZ2xvYmFsIHNoaW0gcmVnaXN0cnkuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFpbkNhcnJpZXIoKSB7XG4gICAgdmFyIGNhcnJpZXIgPSBnZXRHbG9iYWxPYmplY3QoKTtcbiAgICBjYXJyaWVyLl9fU0VOVFJZX18gPSBjYXJyaWVyLl9fU0VOVFJZX18gfHwge1xuICAgICAgICBleHRlbnNpb25zOiB7fSxcbiAgICAgICAgaHViOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICByZXR1cm4gY2Fycmllcjtcbn1cbi8qKlxuICogUmVwbGFjZXMgdGhlIGN1cnJlbnQgbWFpbiBodWIgd2l0aCB0aGUgcGFzc2VkIG9uZSBvbiB0aGUgZ2xvYmFsIG9iamVjdFxuICpcbiAqIEByZXR1cm5zIFRoZSBvbGQgcmVwbGFjZWQgaHViXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlTWFpbihodWIpIHtcbiAgICB2YXIgcmVnaXN0cnkgPSBnZXRNYWluQ2FycmllcigpO1xuICAgIHZhciBvbGRIdWIgPSBnZXRIdWJGcm9tQ2FycmllcihyZWdpc3RyeSk7XG4gICAgc2V0SHViT25DYXJyaWVyKHJlZ2lzdHJ5LCBodWIpO1xuICAgIHJldHVybiBvbGRIdWI7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRlZmF1bHQgaHViIGluc3RhbmNlLlxuICpcbiAqIElmIGEgaHViIGlzIGFscmVhZHkgcmVnaXN0ZXJlZCBpbiB0aGUgZ2xvYmFsIGNhcnJpZXIgYnV0IHRoaXMgbW9kdWxlXG4gKiBjb250YWlucyBhIG1vcmUgcmVjZW50IHZlcnNpb24sIGl0IHJlcGxhY2VzIHRoZSByZWdpc3RlcmVkIHZlcnNpb24uXG4gKiBPdGhlcndpc2UsIHRoZSBjdXJyZW50bHkgcmVnaXN0ZXJlZCBodWIgd2lsbCBiZSByZXR1cm5lZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRIdWIoKSB7XG4gICAgLy8gR2V0IG1haW4gY2FycmllciAoZ2xvYmFsIGZvciBldmVyeSBlbnZpcm9ubWVudClcbiAgICB2YXIgcmVnaXN0cnkgPSBnZXRNYWluQ2FycmllcigpO1xuICAgIC8vIElmIHRoZXJlJ3Mgbm8gaHViLCBvciBpdHMgYW4gb2xkIEFQSSwgYXNzaWduIGEgbmV3IG9uZVxuICAgIGlmICghaGFzSHViT25DYXJyaWVyKHJlZ2lzdHJ5KSB8fCBnZXRIdWJGcm9tQ2FycmllcihyZWdpc3RyeSkuaXNPbGRlclRoYW4oQVBJX1ZFUlNJT04pKSB7XG4gICAgICAgIHNldEh1Yk9uQ2FycmllcihyZWdpc3RyeSwgbmV3IEh1YigpKTtcbiAgICB9XG4gICAgLy8gUHJlZmVyIGRvbWFpbnMgb3ZlciBnbG9iYWwgaWYgdGhleSBhcmUgdGhlcmUgKGFwcGxpY2FibGUgb25seSB0byBOb2RlIGVudmlyb25tZW50KVxuICAgIGlmIChpc05vZGVFbnYoKSkge1xuICAgICAgICByZXR1cm4gZ2V0SHViRnJvbUFjdGl2ZURvbWFpbihyZWdpc3RyeSk7XG4gICAgfVxuICAgIC8vIFJldHVybiBodWIgdGhhdCBsaXZlcyBvbiBhIGdsb2JhbCBvYmplY3RcbiAgICByZXR1cm4gZ2V0SHViRnJvbUNhcnJpZXIocmVnaXN0cnkpO1xufVxuLyoqXG4gKiBSZXR1cm5zIHRoZSBhY3RpdmUgZG9tYWluLCBpZiBvbmUgZXhpc3RzXG4gKiBAZGVwcmVjYXRlZCBObyBsb25nZXIgdXNlZDsgcmVtb3ZlIGluIHY3XG4gKiBAcmV0dXJucyBUaGUgZG9tYWluLCBvciB1bmRlZmluZWQgaWYgdGhlcmUgaXMgbm8gYWN0aXZlIGRvbWFpblxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3RpdmVEb21haW4oKSB7XG4gICAgbG9nZ2VyLndhcm4oJ0Z1bmN0aW9uIGBnZXRBY3RpdmVEb21haW5gIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uLicpO1xuICAgIHZhciBzZW50cnkgPSBnZXRNYWluQ2FycmllcigpLl9fU0VOVFJZX187XG4gICAgcmV0dXJuIHNlbnRyeSAmJiBzZW50cnkuZXh0ZW5zaW9ucyAmJiBzZW50cnkuZXh0ZW5zaW9ucy5kb21haW4gJiYgc2VudHJ5LmV4dGVuc2lvbnMuZG9tYWluLmFjdGl2ZTtcbn1cbi8qKlxuICogVHJ5IHRvIHJlYWQgdGhlIGh1YiBmcm9tIGFuIGFjdGl2ZSBkb21haW4sIGFuZCBmYWxsYmFjayB0byB0aGUgcmVnaXN0cnkgaWYgb25lIGRvZXNuJ3QgZXhpc3RcbiAqIEByZXR1cm5zIGRpc2NvdmVyZWQgaHViXG4gKi9cbmZ1bmN0aW9uIGdldEh1YkZyb21BY3RpdmVEb21haW4ocmVnaXN0cnkpIHtcbiAgICB2YXIgX2EsIF9iLCBfYztcbiAgICB0cnkge1xuICAgICAgICB2YXIgYWN0aXZlRG9tYWluID0gKF9jID0gKF9iID0gKF9hID0gZ2V0TWFpbkNhcnJpZXIoKS5fX1NFTlRSWV9fKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXh0ZW5zaW9ucykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmRvbWFpbikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmFjdGl2ZTtcbiAgICAgICAgLy8gSWYgdGhlcmUncyBubyBhY3RpdmUgZG9tYWluLCBqdXN0IHJldHVybiBnbG9iYWwgaHViXG4gICAgICAgIGlmICghYWN0aXZlRG9tYWluKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0SHViRnJvbUNhcnJpZXIocmVnaXN0cnkpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gaHViIG9uIGN1cnJlbnQgZG9tYWluLCBvciBpdCdzIGFuIG9sZCBBUEksIGFzc2lnbiBhIG5ldyBvbmVcbiAgICAgICAgaWYgKCFoYXNIdWJPbkNhcnJpZXIoYWN0aXZlRG9tYWluKSB8fCBnZXRIdWJGcm9tQ2FycmllcihhY3RpdmVEb21haW4pLmlzT2xkZXJUaGFuKEFQSV9WRVJTSU9OKSkge1xuICAgICAgICAgICAgdmFyIHJlZ2lzdHJ5SHViVG9wU3RhY2sgPSBnZXRIdWJGcm9tQ2FycmllcihyZWdpc3RyeSkuZ2V0U3RhY2tUb3AoKTtcbiAgICAgICAgICAgIHNldEh1Yk9uQ2FycmllcihhY3RpdmVEb21haW4sIG5ldyBIdWIocmVnaXN0cnlIdWJUb3BTdGFjay5jbGllbnQsIFNjb3BlLmNsb25lKHJlZ2lzdHJ5SHViVG9wU3RhY2suc2NvcGUpKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmV0dXJuIGh1YiB0aGF0IGxpdmVzIG9uIGEgZG9tYWluXG4gICAgICAgIHJldHVybiBnZXRIdWJGcm9tQ2FycmllcihhY3RpdmVEb21haW4pO1xuICAgIH1cbiAgICBjYXRjaCAoX09vKSB7XG4gICAgICAgIC8vIFJldHVybiBodWIgdGhhdCBsaXZlcyBvbiBhIGdsb2JhbCBvYmplY3RcbiAgICAgICAgcmV0dXJuIGdldEh1YkZyb21DYXJyaWVyKHJlZ2lzdHJ5KTtcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgd2lsbCB0ZWxsIHdoZXRoZXIgYSBjYXJyaWVyIGhhcyBhIGh1YiBvbiBpdCBvciBub3RcbiAqIEBwYXJhbSBjYXJyaWVyIG9iamVjdFxuICovXG5mdW5jdGlvbiBoYXNIdWJPbkNhcnJpZXIoY2Fycmllcikge1xuICAgIHJldHVybiAhIShjYXJyaWVyICYmIGNhcnJpZXIuX19TRU5UUllfXyAmJiBjYXJyaWVyLl9fU0VOVFJZX18uaHViKTtcbn1cbi8qKlxuICogVGhpcyB3aWxsIGNyZWF0ZSBhIG5ldyB7QGxpbmsgSHVifSBhbmQgYWRkIHRvIHRoZSBwYXNzZWQgb2JqZWN0IG9uXG4gKiBfX1NFTlRSWV9fLmh1Yi5cbiAqIEBwYXJhbSBjYXJyaWVyIG9iamVjdFxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SHViRnJvbUNhcnJpZXIoY2Fycmllcikge1xuICAgIGlmIChjYXJyaWVyICYmIGNhcnJpZXIuX19TRU5UUllfXyAmJiBjYXJyaWVyLl9fU0VOVFJZX18uaHViKVxuICAgICAgICByZXR1cm4gY2Fycmllci5fX1NFTlRSWV9fLmh1YjtcbiAgICBjYXJyaWVyLl9fU0VOVFJZX18gPSBjYXJyaWVyLl9fU0VOVFJZX18gfHwge307XG4gICAgY2Fycmllci5fX1NFTlRSWV9fLmh1YiA9IG5ldyBIdWIoKTtcbiAgICByZXR1cm4gY2Fycmllci5fX1NFTlRSWV9fLmh1Yjtcbn1cbi8qKlxuICogVGhpcyB3aWxsIHNldCBwYXNzZWQge0BsaW5rIEh1Yn0gb24gdGhlIHBhc3NlZCBvYmplY3QncyBfX1NFTlRSWV9fLmh1YiBhdHRyaWJ1dGVcbiAqIEBwYXJhbSBjYXJyaWVyIG9iamVjdFxuICogQHBhcmFtIGh1YiBIdWJcbiAqIEByZXR1cm5zIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHN1Y2Nlc3Mgb3IgZmFpbHVyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SHViT25DYXJyaWVyKGNhcnJpZXIsIGh1Yikge1xuICAgIGlmICghY2FycmllcilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNhcnJpZXIuX19TRU5UUllfXyA9IGNhcnJpZXIuX19TRU5UUllfXyB8fCB7fTtcbiAgICBjYXJyaWVyLl9fU0VOVFJZX18uaHViID0gaHViO1xuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHViLmpzLm1hcCIsInZhciBvcmlnaW5hbEZ1bmN0aW9uVG9TdHJpbmc7XG4vKiogUGF0Y2ggdG9TdHJpbmcgY2FsbHMgdG8gcmV0dXJuIHByb3BlciBuYW1lIGZvciB3cmFwcGVkIGZ1bmN0aW9ucyAqL1xudmFyIEZ1bmN0aW9uVG9TdHJpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRnVuY3Rpb25Ub1N0cmluZygpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbmhlcml0RG9jXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBGdW5jdGlvblRvU3RyaW5nLmlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEZ1bmN0aW9uVG9TdHJpbmcucHJvdG90eXBlLnNldHVwT25jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgICBvcmlnaW5hbEZ1bmN0aW9uVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gdGhpcy5fX3NlbnRyeV9vcmlnaW5hbF9fIHx8IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxGdW5jdGlvblRvU3RyaW5nLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBGdW5jdGlvblRvU3RyaW5nLmlkID0gJ0Z1bmN0aW9uVG9TdHJpbmcnO1xuICAgIHJldHVybiBGdW5jdGlvblRvU3RyaW5nO1xufSgpKTtcbmV4cG9ydCB7IEZ1bmN0aW9uVG9TdHJpbmcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZ1bmN0aW9udG9zdHJpbmcuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYWRkR2xvYmFsRXZlbnRQcm9jZXNzb3IsIGdldEN1cnJlbnRIdWIgfSBmcm9tICdAc2VudHJ5L2h1Yic7XG5pbXBvcnQgeyBnZXRFdmVudERlc2NyaXB0aW9uLCBpc01hdGNoaW5nUGF0dGVybiwgbG9nZ2VyIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG4vLyBcIlNjcmlwdCBlcnJvci5cIiBpcyBoYXJkIGNvZGVkIGludG8gYnJvd3NlcnMgZm9yIGVycm9ycyB0aGF0IGl0IGNhbid0IHJlYWQuXG4vLyB0aGlzIGlzIHRoZSByZXN1bHQgb2YgYSBzY3JpcHQgYmVpbmcgcHVsbGVkIGluIGZyb20gYW4gZXh0ZXJuYWwgZG9tYWluIGFuZCBDT1JTLlxudmFyIERFRkFVTFRfSUdOT1JFX0VSUk9SUyA9IFsvXlNjcmlwdCBlcnJvclxcLj8kLywgL15KYXZhc2NyaXB0IGVycm9yOiBTY3JpcHQgZXJyb3JcXC4/IG9uIGxpbmUgMCQvXTtcbi8qKiBJbmJvdW5kIGZpbHRlcnMgY29uZmlndXJhYmxlIGJ5IHRoZSB1c2VyICovXG52YXIgSW5ib3VuZEZpbHRlcnMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW5ib3VuZEZpbHRlcnMoX29wdGlvbnMpIHtcbiAgICAgICAgaWYgKF9vcHRpb25zID09PSB2b2lkIDApIHsgX29wdGlvbnMgPSB7fTsgfVxuICAgICAgICB0aGlzLl9vcHRpb25zID0gX29wdGlvbnM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW5oZXJpdERvY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYW1lID0gSW5ib3VuZEZpbHRlcnMuaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSW5ib3VuZEZpbHRlcnMucHJvdG90eXBlLnNldHVwT25jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgYWRkR2xvYmFsRXZlbnRQcm9jZXNzb3IoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgaHViID0gZ2V0Q3VycmVudEh1YigpO1xuICAgICAgICAgICAgaWYgKCFodWIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc2VsZiA9IGh1Yi5nZXRJbnRlZ3JhdGlvbihJbmJvdW5kRmlsdGVycyk7XG4gICAgICAgICAgICBpZiAoc2VsZikge1xuICAgICAgICAgICAgICAgIHZhciBjbGllbnQgPSBodWIuZ2V0Q2xpZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIGNsaWVudE9wdGlvbnMgPSBjbGllbnQgPyBjbGllbnQuZ2V0T3B0aW9ucygpIDoge307XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBzZWxmLl9tZXJnZU9wdGlvbnMoY2xpZW50T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuX3Nob3VsZERyb3BFdmVudChldmVudCwgb3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEluYm91bmRGaWx0ZXJzLnByb3RvdHlwZS5fc2hvdWxkRHJvcEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1NlbnRyeUVycm9yKGV2ZW50LCBvcHRpb25zKSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJFdmVudCBkcm9wcGVkIGR1ZSB0byBiZWluZyBpbnRlcm5hbCBTZW50cnkgRXJyb3IuXFxuRXZlbnQ6IFwiICsgZ2V0RXZlbnREZXNjcmlwdGlvbihldmVudCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lzSWdub3JlZEVycm9yKGV2ZW50LCBvcHRpb25zKSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJFdmVudCBkcm9wcGVkIGR1ZSB0byBiZWluZyBtYXRjaGVkIGJ5IGBpZ25vcmVFcnJvcnNgIG9wdGlvbi5cXG5FdmVudDogXCIgKyBnZXRFdmVudERlc2NyaXB0aW9uKGV2ZW50KSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5faXNEZW5pZWRVcmwoZXZlbnQsIG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybihcIkV2ZW50IGRyb3BwZWQgZHVlIHRvIGJlaW5nIG1hdGNoZWQgYnkgYGRlbnlVcmxzYCBvcHRpb24uXFxuRXZlbnQ6IFwiICsgZ2V0RXZlbnREZXNjcmlwdGlvbihldmVudCkgKyBcIi5cXG5Vcmw6IFwiICsgdGhpcy5fZ2V0RXZlbnRGaWx0ZXJVcmwoZXZlbnQpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faXNBbGxvd2VkVXJsKGV2ZW50LCBvcHRpb25zKSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJFdmVudCBkcm9wcGVkIGR1ZSB0byBub3QgYmVpbmcgbWF0Y2hlZCBieSBgYWxsb3dVcmxzYCBvcHRpb24uXFxuRXZlbnQ6IFwiICsgZ2V0RXZlbnREZXNjcmlwdGlvbihldmVudCkgKyBcIi5cXG5Vcmw6IFwiICsgdGhpcy5fZ2V0RXZlbnRGaWx0ZXJVcmwoZXZlbnQpKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEluYm91bmRGaWx0ZXJzLnByb3RvdHlwZS5faXNTZW50cnlFcnJvciA9IGZ1bmN0aW9uIChldmVudCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMuaWdub3JlSW50ZXJuYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuICgoZXZlbnQgJiZcbiAgICAgICAgICAgICAgICBldmVudC5leGNlcHRpb24gJiZcbiAgICAgICAgICAgICAgICBldmVudC5leGNlcHRpb24udmFsdWVzICYmXG4gICAgICAgICAgICAgICAgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXSAmJlxuICAgICAgICAgICAgICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0udHlwZSA9PT0gJ1NlbnRyeUVycm9yJykgfHxcbiAgICAgICAgICAgICAgICBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9vTykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBJbmJvdW5kRmlsdGVycy5wcm90b3R5cGUuX2lzSWdub3JlZEVycm9yID0gZnVuY3Rpb24gKGV2ZW50LCBvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucy5pZ25vcmVFcnJvcnMgfHwgIW9wdGlvbnMuaWdub3JlRXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRQb3NzaWJsZUV2ZW50TWVzc2FnZXMoZXZlbnQpLnNvbWUoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIC8vIE5vdCBzdXJlIHdoeSBUeXBlU2NyaXB0IGNvbXBsYWlucyBoZXJlLi4uXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5pZ25vcmVFcnJvcnMuc29tZShmdW5jdGlvbiAocGF0dGVybikgeyByZXR1cm4gaXNNYXRjaGluZ1BhdHRlcm4obWVzc2FnZSwgcGF0dGVybik7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEluYm91bmRGaWx0ZXJzLnByb3RvdHlwZS5faXNEZW5pZWRVcmwgPSBmdW5jdGlvbiAoZXZlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVE9ETzogVXNlIEdsb2IgaW5zdGVhZD9cbiAgICAgICAgaWYgKCFvcHRpb25zLmRlbnlVcmxzIHx8ICFvcHRpb25zLmRlbnlVcmxzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cmwgPSB0aGlzLl9nZXRFdmVudEZpbHRlclVybChldmVudCk7XG4gICAgICAgIHJldHVybiAhdXJsID8gZmFsc2UgOiBvcHRpb25zLmRlbnlVcmxzLnNvbWUoZnVuY3Rpb24gKHBhdHRlcm4pIHsgcmV0dXJuIGlzTWF0Y2hpbmdQYXR0ZXJuKHVybCwgcGF0dGVybik7IH0pO1xuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgSW5ib3VuZEZpbHRlcnMucHJvdG90eXBlLl9pc0FsbG93ZWRVcmwgPSBmdW5jdGlvbiAoZXZlbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gVE9ETzogVXNlIEdsb2IgaW5zdGVhZD9cbiAgICAgICAgaWYgKCFvcHRpb25zLmFsbG93VXJscyB8fCAhb3B0aW9ucy5hbGxvd1VybHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXJsID0gdGhpcy5fZ2V0RXZlbnRGaWx0ZXJVcmwoZXZlbnQpO1xuICAgICAgICByZXR1cm4gIXVybCA/IHRydWUgOiBvcHRpb25zLmFsbG93VXJscy5zb21lKGZ1bmN0aW9uIChwYXR0ZXJuKSB7IHJldHVybiBpc01hdGNoaW5nUGF0dGVybih1cmwsIHBhdHRlcm4pOyB9KTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEluYm91bmRGaWx0ZXJzLnByb3RvdHlwZS5fbWVyZ2VPcHRpb25zID0gZnVuY3Rpb24gKGNsaWVudE9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGNsaWVudE9wdGlvbnMgPT09IHZvaWQgMCkgeyBjbGllbnRPcHRpb25zID0ge307IH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFsbG93VXJsczogX19zcHJlYWQoKHRoaXMuX29wdGlvbnMud2hpdGVsaXN0VXJscyB8fCBbXSksICh0aGlzLl9vcHRpb25zLmFsbG93VXJscyB8fCBbXSksIChjbGllbnRPcHRpb25zLndoaXRlbGlzdFVybHMgfHwgW10pLCAoY2xpZW50T3B0aW9ucy5hbGxvd1VybHMgfHwgW10pKSxcbiAgICAgICAgICAgIGRlbnlVcmxzOiBfX3NwcmVhZCgodGhpcy5fb3B0aW9ucy5ibGFja2xpc3RVcmxzIHx8IFtdKSwgKHRoaXMuX29wdGlvbnMuZGVueVVybHMgfHwgW10pLCAoY2xpZW50T3B0aW9ucy5ibGFja2xpc3RVcmxzIHx8IFtdKSwgKGNsaWVudE9wdGlvbnMuZGVueVVybHMgfHwgW10pKSxcbiAgICAgICAgICAgIGlnbm9yZUVycm9yczogX19zcHJlYWQoKHRoaXMuX29wdGlvbnMuaWdub3JlRXJyb3JzIHx8IFtdKSwgKGNsaWVudE9wdGlvbnMuaWdub3JlRXJyb3JzIHx8IFtdKSwgREVGQVVMVF9JR05PUkVfRVJST1JTKSxcbiAgICAgICAgICAgIGlnbm9yZUludGVybmFsOiB0eXBlb2YgdGhpcy5fb3B0aW9ucy5pZ25vcmVJbnRlcm5hbCAhPT0gJ3VuZGVmaW5lZCcgPyB0aGlzLl9vcHRpb25zLmlnbm9yZUludGVybmFsIDogdHJ1ZSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEluYm91bmRGaWx0ZXJzLnByb3RvdHlwZS5fZ2V0UG9zc2libGVFdmVudE1lc3NhZ2VzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5tZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gW2V2ZW50Lm1lc3NhZ2VdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5leGNlcHRpb24pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hID0gKGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXMgJiYgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXSkgfHwge30sIF9iID0gX2EudHlwZSwgdHlwZSA9IF9iID09PSB2b2lkIDAgPyAnJyA6IF9iLCBfYyA9IF9hLnZhbHVlLCB2YWx1ZSA9IF9jID09PSB2b2lkIDAgPyAnJyA6IF9jO1xuICAgICAgICAgICAgICAgIHJldHVybiBbXCJcIiArIHZhbHVlLCB0eXBlICsgXCI6IFwiICsgdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKG9PKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwiQ2Fubm90IGV4dHJhY3QgbWVzc2FnZSBmb3IgZXZlbnQgXCIgKyBnZXRFdmVudERlc2NyaXB0aW9uKGV2ZW50KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEluYm91bmRGaWx0ZXJzLnByb3RvdHlwZS5fZ2V0RXZlbnRGaWx0ZXJVcmwgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChldmVudC5zdGFja3RyYWNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lc18xID0gZXZlbnQuc3RhY2t0cmFjZS5mcmFtZXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChmcmFtZXNfMSAmJiBmcmFtZXNfMVtmcmFtZXNfMS5sZW5ndGggLSAxXS5maWxlbmFtZSkgfHwgbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChldmVudC5leGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWVzXzIgPSBldmVudC5leGNlcHRpb24udmFsdWVzICYmIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0uc3RhY2t0cmFjZSAmJiBldmVudC5leGNlcHRpb24udmFsdWVzWzBdLnN0YWNrdHJhY2UuZnJhbWVzO1xuICAgICAgICAgICAgICAgIHJldHVybiAoZnJhbWVzXzIgJiYgZnJhbWVzXzJbZnJhbWVzXzIubGVuZ3RoIC0gMV0uZmlsZW5hbWUpIHx8IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAob08pIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihcIkNhbm5vdCBleHRyYWN0IHVybCBmb3IgZXZlbnQgXCIgKyBnZXRFdmVudERlc2NyaXB0aW9uKGV2ZW50KSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBJbmJvdW5kRmlsdGVycy5pZCA9ICdJbmJvdW5kRmlsdGVycyc7XG4gICAgcmV0dXJuIEluYm91bmRGaWx0ZXJzO1xufSgpKTtcbmV4cG9ydCB7IEluYm91bmRGaWx0ZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmJvdW5kZmlsdGVycy5qcy5tYXAiLCJpbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICcuL21pc2MnO1xuLyoqXG4gKiBUZWxscyB3aGV0aGVyIGN1cnJlbnQgZW52aXJvbm1lbnQgc3VwcG9ydHMgRXJyb3JFdmVudCBvYmplY3RzXG4gKiB7QGxpbmsgc3VwcG9ydHNFcnJvckV2ZW50fS5cbiAqXG4gKiBAcmV0dXJucyBBbnN3ZXIgdG8gdGhlIGdpdmVuIHF1ZXN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3VwcG9ydHNFcnJvckV2ZW50KCkge1xuICAgIHRyeSB7XG4gICAgICAgIG5ldyBFcnJvckV2ZW50KCcnKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIFRlbGxzIHdoZXRoZXIgY3VycmVudCBlbnZpcm9ubWVudCBzdXBwb3J0cyBET01FcnJvciBvYmplY3RzXG4gKiB7QGxpbmsgc3VwcG9ydHNET01FcnJvcn0uXG4gKlxuICogQHJldHVybnMgQW5zd2VyIHRvIHRoZSBnaXZlbiBxdWVzdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzRE9NRXJyb3IoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQ2hyb21lOiBWTTg5OjEgVW5jYXVnaHQgVHlwZUVycm9yOiBGYWlsZWQgdG8gY29uc3RydWN0ICdET01FcnJvcic6XG4gICAgICAgIC8vIDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cbiAgICAgICAgLy8gQHRzLWlnbm9yZSBJdCByZWFsbHkgbmVlZHMgMSBhcmd1bWVudCwgbm90IDAuXG4gICAgICAgIG5ldyBET01FcnJvcignJyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBUZWxscyB3aGV0aGVyIGN1cnJlbnQgZW52aXJvbm1lbnQgc3VwcG9ydHMgRE9NRXhjZXB0aW9uIG9iamVjdHNcbiAqIHtAbGluayBzdXBwb3J0c0RPTUV4Y2VwdGlvbn0uXG4gKlxuICogQHJldHVybnMgQW5zd2VyIHRvIHRoZSBnaXZlbiBxdWVzdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzRE9NRXhjZXB0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAgIG5ldyBET01FeGNlcHRpb24oJycpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogVGVsbHMgd2hldGhlciBjdXJyZW50IGVudmlyb25tZW50IHN1cHBvcnRzIEZldGNoIEFQSVxuICoge0BsaW5rIHN1cHBvcnRzRmV0Y2h9LlxuICpcbiAqIEByZXR1cm5zIEFuc3dlciB0byB0aGUgZ2l2ZW4gcXVlc3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdXBwb3J0c0ZldGNoKCkge1xuICAgIGlmICghKCdmZXRjaCcgaW4gZ2V0R2xvYmFsT2JqZWN0KCkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgbmV3IFJlcXVlc3QoJycpO1xuICAgICAgICBuZXcgUmVzcG9uc2UoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIGlzTmF0aXZlRmV0Y2ggY2hlY2tzIGlmIHRoZSBnaXZlbiBmdW5jdGlvbiBpcyBhIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbiBvZiBmZXRjaCgpXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5mdW5jdGlvbiBpc05hdGl2ZUZldGNoKGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuYyAmJiAvXmZ1bmN0aW9uIGZldGNoXFwoXFwpXFxzK1xce1xccytcXFtuYXRpdmUgY29kZVxcXVxccytcXH0kLy50ZXN0KGZ1bmMudG9TdHJpbmcoKSk7XG59XG4vKipcbiAqIFRlbGxzIHdoZXRoZXIgY3VycmVudCBlbnZpcm9ubWVudCBzdXBwb3J0cyBGZXRjaCBBUEkgbmF0aXZlbHlcbiAqIHtAbGluayBzdXBwb3J0c05hdGl2ZUZldGNofS5cbiAqXG4gKiBAcmV0dXJucyB0cnVlIGlmIGB3aW5kb3cuZmV0Y2hgIGlzIG5hdGl2ZWx5IGltcGxlbWVudGVkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzTmF0aXZlRmV0Y2goKSB7XG4gICAgaWYgKCFzdXBwb3J0c0ZldGNoKCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4gICAgLy8gRmFzdCBwYXRoIHRvIGF2b2lkIERPTSBJL09cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3VuYm91bmQtbWV0aG9kXG4gICAgaWYgKGlzTmF0aXZlRmV0Y2goZ2xvYmFsLmZldGNoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLy8gd2luZG93LmZldGNoIGlzIGltcGxlbWVudGVkLCBidXQgaXMgcG9seWZpbGxlZCBvciBhbHJlYWR5IHdyYXBwZWQgKGUuZzogYnkgYSBjaHJvbWUgZXh0ZW5zaW9uKVxuICAgIC8vIHNvIGNyZWF0ZSBhIFwicHVyZVwiIGlmcmFtZSB0byBzZWUgaWYgdGhhdCBoYXMgbmF0aXZlIGZldGNoXG4gICAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuICAgIHZhciBkb2MgPSBnbG9iYWwuZG9jdW1lbnQ7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgaWYgKGRvYyAmJiB0eXBlb2YgZG9jLmNyZWF0ZUVsZW1lbnQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIHNhbmRib3ggPSBkb2MuY3JlYXRlRWxlbWVudCgnaWZyYW1lJyk7XG4gICAgICAgICAgICBzYW5kYm94LmhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICBkb2MuaGVhZC5hcHBlbmRDaGlsZChzYW5kYm94KTtcbiAgICAgICAgICAgIGlmIChzYW5kYm94LmNvbnRlbnRXaW5kb3cgJiYgc2FuZGJveC5jb250ZW50V2luZG93LmZldGNoKSB7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGlzTmF0aXZlRmV0Y2goc2FuZGJveC5jb250ZW50V2luZG93LmZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvYy5oZWFkLnJlbW92ZUNoaWxkKHNhbmRib3gpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdDb3VsZCBub3QgY3JlYXRlIHNhbmRib3ggaWZyYW1lIGZvciBwdXJlIGZldGNoIGNoZWNrLCBiYWlsaW5nIHRvIHdpbmRvdy5mZXRjaDogJywgZXJyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBUZWxscyB3aGV0aGVyIGN1cnJlbnQgZW52aXJvbm1lbnQgc3VwcG9ydHMgUmVwb3J0aW5nT2JzZXJ2ZXIgQVBJXG4gKiB7QGxpbmsgc3VwcG9ydHNSZXBvcnRpbmdPYnNlcnZlcn0uXG4gKlxuICogQHJldHVybnMgQW5zd2VyIHRvIHRoZSBnaXZlbiBxdWVzdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzUmVwb3J0aW5nT2JzZXJ2ZXIoKSB7XG4gICAgcmV0dXJuICdSZXBvcnRpbmdPYnNlcnZlcicgaW4gZ2V0R2xvYmFsT2JqZWN0KCk7XG59XG4vKipcbiAqIFRlbGxzIHdoZXRoZXIgY3VycmVudCBlbnZpcm9ubWVudCBzdXBwb3J0cyBSZWZlcnJlciBQb2xpY3kgQVBJXG4gKiB7QGxpbmsgc3VwcG9ydHNSZWZlcnJlclBvbGljeX0uXG4gKlxuICogQHJldHVybnMgQW5zd2VyIHRvIHRoZSBnaXZlbiBxdWVzdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzUmVmZXJyZXJQb2xpY3koKSB7XG4gICAgLy8gRGVzcGl0ZSBhbGwgc3RhcnMgaW4gdGhlIHNreSBzYXlpbmcgdGhhdCBFZGdlIHN1cHBvcnRzIG9sZCBkcmFmdCBzeW50YXgsIGFrYSAnbmV2ZXInLCAnYWx3YXlzJywgJ29yaWdpbicgYW5kICdkZWZhdWx0XG4gICAgLy8gaHR0cHM6Ly9jYW5pdXNlLmNvbS8jZmVhdD1yZWZlcnJlci1wb2xpY3lcbiAgICAvLyBJdCBkb2Vzbid0LiBBbmQgaXQgdGhyb3cgZXhjZXB0aW9uIGluc3RlYWQgb2YgaWdub3JpbmcgdGhpcyBwYXJhbWV0ZXIuLi5cbiAgICAvLyBSRUY6IGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvcmF2ZW4tanMvaXNzdWVzLzEyMzNcbiAgICBpZiAoIXN1cHBvcnRzRmV0Y2goKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIG5ldyBSZXF1ZXN0KCdfJywge1xuICAgICAgICAgICAgcmVmZXJyZXJQb2xpY3k6ICdvcmlnaW4nLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG4vKipcbiAqIFRlbGxzIHdoZXRoZXIgY3VycmVudCBlbnZpcm9ubWVudCBzdXBwb3J0cyBIaXN0b3J5IEFQSVxuICoge0BsaW5rIHN1cHBvcnRzSGlzdG9yeX0uXG4gKlxuICogQHJldHVybnMgQW5zd2VyIHRvIHRoZSBnaXZlbiBxdWVzdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN1cHBvcnRzSGlzdG9yeSgpIHtcbiAgICAvLyBOT1RFOiBpbiBDaHJvbWUgQXBwIGVudmlyb25tZW50LCB0b3VjaGluZyBoaXN0b3J5LnB1c2hTdGF0ZSwgKmV2ZW4gaW5zaWRlXG4gICAgLy8gICAgICAgYSB0cnkvY2F0Y2ggYmxvY2sqLCB3aWxsIGNhdXNlIENocm9tZSB0byBvdXRwdXQgYW4gZXJyb3IgdG8gY29uc29sZS5lcnJvclxuICAgIC8vIGJvcnJvd2VkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8xMzk0NS9maWxlc1xuICAgIHZhciBnbG9iYWwgPSBnZXRHbG9iYWxPYmplY3QoKTtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHZhciBjaHJvbWUgPSBnbG9iYWwuY2hyb21lO1xuICAgIHZhciBpc0Nocm9tZVBhY2thZ2VkQXBwID0gY2hyb21lICYmIGNocm9tZS5hcHAgJiYgY2hyb21lLmFwcC5ydW50aW1lO1xuICAgIC8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzICovXG4gICAgdmFyIGhhc0hpc3RvcnlBcGkgPSAnaGlzdG9yeScgaW4gZ2xvYmFsICYmICEhZ2xvYmFsLmhpc3RvcnkucHVzaFN0YXRlICYmICEhZ2xvYmFsLmhpc3RvcnkucmVwbGFjZVN0YXRlO1xuICAgIHJldHVybiAhaXNDaHJvbWVQYWNrYWdlZEFwcCAmJiBoYXNIaXN0b3J5QXBpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3VwcG9ydHMuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0luc3RhbmNlT2YsIGlzU3RyaW5nIH0gZnJvbSAnLi9pcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICcuL21pc2MnO1xuaW1wb3J0IHsgZmlsbCB9IGZyb20gJy4vb2JqZWN0JztcbmltcG9ydCB7IGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gJy4vc3RhY2t0cmFjZSc7XG5pbXBvcnQgeyBzdXBwb3J0c0hpc3RvcnksIHN1cHBvcnRzTmF0aXZlRmV0Y2ggfSBmcm9tICcuL3N1cHBvcnRzJztcbnZhciBnbG9iYWwgPSBnZXRHbG9iYWxPYmplY3QoKTtcbi8qKlxuICogSW5zdHJ1bWVudCBuYXRpdmUgQVBJcyB0byBjYWxsIGhhbmRsZXJzIHRoYXQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGJyZWFkY3J1bWJzLCBBUE0gc3BhbnMgZXRjLlxuICogIC0gQ29uc29sZSBBUElcbiAqICAtIEZldGNoIEFQSVxuICogIC0gWEhSIEFQSVxuICogIC0gSGlzdG9yeSBBUElcbiAqICAtIERPTSBBUEkgKGNsaWNrL3R5cGluZylcbiAqICAtIEVycm9yIEFQSVxuICogIC0gVW5oYW5kbGVkUmVqZWN0aW9uIEFQSVxuICovXG52YXIgaGFuZGxlcnMgPSB7fTtcbnZhciBpbnN0cnVtZW50ZWQgPSB7fTtcbi8qKiBJbnN0cnVtZW50cyBnaXZlbiBBUEkgKi9cbmZ1bmN0aW9uIGluc3RydW1lbnQodHlwZSkge1xuICAgIGlmIChpbnN0cnVtZW50ZWRbdHlwZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnN0cnVtZW50ZWRbdHlwZV0gPSB0cnVlO1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdjb25zb2xlJzpcbiAgICAgICAgICAgIGluc3RydW1lbnRDb25zb2xlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZG9tJzpcbiAgICAgICAgICAgIGluc3RydW1lbnRET00oKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd4aHInOlxuICAgICAgICAgICAgaW5zdHJ1bWVudFhIUigpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2ZldGNoJzpcbiAgICAgICAgICAgIGluc3RydW1lbnRGZXRjaCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2hpc3RvcnknOlxuICAgICAgICAgICAgaW5zdHJ1bWVudEhpc3RvcnkoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICBpbnN0cnVtZW50RXJyb3IoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd1bmhhbmRsZWRyZWplY3Rpb24nOlxuICAgICAgICAgICAgaW5zdHJ1bWVudFVuaGFuZGxlZFJlamVjdGlvbigpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBsb2dnZXIud2FybigndW5rbm93biBpbnN0cnVtZW50YXRpb24gdHlwZTonLCB0eXBlKTtcbiAgICB9XG59XG4vKipcbiAqIEFkZCBoYW5kbGVyIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBnaXZlbiB0eXBlIG9mIGluc3RydW1lbnRhdGlvbiB0cmlnZ2Vycy5cbiAqIFVzZSBhdCB5b3VyIG93biByaXNrLCB0aGlzIG1pZ2h0IGJyZWFrIHdpdGhvdXQgY2hhbmdlbG9nIG5vdGljZSwgb25seSB1c2VkIGludGVybmFsbHkuXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyKGhhbmRsZXIpIHtcbiAgICBpZiAoIWhhbmRsZXIgfHwgdHlwZW9mIGhhbmRsZXIudHlwZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIGhhbmRsZXIuY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBoYW5kbGVyc1toYW5kbGVyLnR5cGVdID0gaGFuZGxlcnNbaGFuZGxlci50eXBlXSB8fCBbXTtcbiAgICBoYW5kbGVyc1toYW5kbGVyLnR5cGVdLnB1c2goaGFuZGxlci5jYWxsYmFjayk7XG4gICAgaW5zdHJ1bWVudChoYW5kbGVyLnR5cGUpO1xufVxuLyoqIEpTRG9jICovXG5mdW5jdGlvbiB0cmlnZ2VySGFuZGxlcnModHlwZSwgZGF0YSkge1xuICAgIHZhciBlXzEsIF9hO1xuICAgIGlmICghdHlwZSB8fCAhaGFuZGxlcnNbdHlwZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKGhhbmRsZXJzW3R5cGVdIHx8IFtdKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xuICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSBfYy52YWx1ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcihkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKFwiRXJyb3Igd2hpbGUgdHJpZ2dlcmluZyBpbnN0cnVtZW50YXRpb24gaGFuZGxlci5cXG5UeXBlOiBcIiArIHR5cGUgKyBcIlxcbk5hbWU6IFwiICsgZ2V0RnVuY3Rpb25OYW1lKGhhbmRsZXIpICsgXCJcXG5FcnJvcjogXCIgKyBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICB9XG59XG4vKiogSlNEb2MgKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRDb25zb2xlKCkge1xuICAgIGlmICghKCdjb25zb2xlJyBpbiBnbG9iYWwpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InLCAnbG9nJywgJ2Fzc2VydCddLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgIGlmICghKGxldmVsIGluIGdsb2JhbC5jb25zb2xlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZpbGwoZ2xvYmFsLmNvbnNvbGUsIGxldmVsLCBmdW5jdGlvbiAob3JpZ2luYWxDb25zb2xlTGV2ZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyaWdnZXJIYW5kbGVycygnY29uc29sZScsIHsgYXJnczogYXJncywgbGV2ZWw6IGxldmVsIH0pO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgZmFpbHMgZm9yIHNvbWUgYnJvd3NlcnMuIDooXG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsQ29uc29sZUxldmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKG9yaWdpbmFsQ29uc29sZUxldmVsLCBnbG9iYWwuY29uc29sZSwgYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vKiogSlNEb2MgKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRGZXRjaCgpIHtcbiAgICBpZiAoIXN1cHBvcnRzTmF0aXZlRmV0Y2goKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGZpbGwoZ2xvYmFsLCAnZmV0Y2gnLCBmdW5jdGlvbiAob3JpZ2luYWxGZXRjaCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhhbmRsZXJEYXRhID0ge1xuICAgICAgICAgICAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICAgICAgICAgICAgZmV0Y2hEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogZ2V0RmV0Y2hNZXRob2QoYXJncyksXG4gICAgICAgICAgICAgICAgICAgIHVybDogZ2V0RmV0Y2hVcmwoYXJncyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGFydFRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0cmlnZ2VySGFuZGxlcnMoJ2ZldGNoJywgX19hc3NpZ24oe30sIGhhbmRsZXJEYXRhKSk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxGZXRjaC5hcHBseShnbG9iYWwsIGFyZ3MpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlckhhbmRsZXJzKCdmZXRjaCcsIF9fYXNzaWduKF9fYXNzaWduKHt9LCBoYW5kbGVyRGF0YSksIHsgZW5kVGltZXN0YW1wOiBEYXRlLm5vdygpLCByZXNwb25zZTogcmVzcG9uc2UgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHRyaWdnZXJIYW5kbGVycygnZmV0Y2gnLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgaGFuZGxlckRhdGEpLCB7IGVuZFRpbWVzdGFtcDogRGF0ZS5ub3coKSwgZXJyb3I6IGVycm9yIH0pKTtcbiAgICAgICAgICAgICAgICAvLyBOT1RFOiBJZiB5b3UgYXJlIGEgU2VudHJ5IHVzZXIsIGFuZCB5b3UgYXJlIHNlZWluZyB0aGlzIHN0YWNrIGZyYW1lLFxuICAgICAgICAgICAgICAgIC8vICAgICAgIGl0IG1lYW5zIHRoZSBzZW50cnkuamF2YXNjcmlwdCBTREsgY2F1Z2h0IGFuIGVycm9yIGludm9raW5nIHlvdXIgYXBwbGljYXRpb24gY29kZS5cbiAgICAgICAgICAgICAgICAvLyAgICAgICBUaGlzIGlzIGV4cGVjdGVkIGJlaGF2aW9yIGFuZCBOT1QgaW5kaWNhdGl2ZSBvZiBhIGJ1ZyB3aXRoIHNlbnRyeS5qYXZhc2NyaXB0LlxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MgKi9cbi8qKiBFeHRyYWN0IGBtZXRob2RgIGZyb20gZmV0Y2ggY2FsbCBhcmd1bWVudHMgKi9cbmZ1bmN0aW9uIGdldEZldGNoTWV0aG9kKGZldGNoQXJncykge1xuICAgIGlmIChmZXRjaEFyZ3MgPT09IHZvaWQgMCkgeyBmZXRjaEFyZ3MgPSBbXTsgfVxuICAgIGlmICgnUmVxdWVzdCcgaW4gZ2xvYmFsICYmIGlzSW5zdGFuY2VPZihmZXRjaEFyZ3NbMF0sIFJlcXVlc3QpICYmIGZldGNoQXJnc1swXS5tZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhmZXRjaEFyZ3NbMF0ubWV0aG9kKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICBpZiAoZmV0Y2hBcmdzWzFdICYmIGZldGNoQXJnc1sxXS5tZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhmZXRjaEFyZ3NbMV0ubWV0aG9kKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gJ0dFVCc7XG59XG4vKiogRXh0cmFjdCBgdXJsYCBmcm9tIGZldGNoIGNhbGwgYXJndW1lbnRzICovXG5mdW5jdGlvbiBnZXRGZXRjaFVybChmZXRjaEFyZ3MpIHtcbiAgICBpZiAoZmV0Y2hBcmdzID09PSB2b2lkIDApIHsgZmV0Y2hBcmdzID0gW107IH1cbiAgICBpZiAodHlwZW9mIGZldGNoQXJnc1swXSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoQXJnc1swXTtcbiAgICB9XG4gICAgaWYgKCdSZXF1ZXN0JyBpbiBnbG9iYWwgJiYgaXNJbnN0YW5jZU9mKGZldGNoQXJnc1swXSwgUmVxdWVzdCkpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoQXJnc1swXS51cmw7XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcoZmV0Y2hBcmdzWzBdKTtcbn1cbi8qIGVzbGludC1lbmFibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzICovXG4vKiogSlNEb2MgKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRYSFIoKSB7XG4gICAgaWYgKCEoJ1hNTEh0dHBSZXF1ZXN0JyBpbiBnbG9iYWwpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUG9vciBtYW4ncyBpbXBsZW1lbnRhdGlvbiBvZiBFUzYgYE1hcGAsIHRyYWNraW5nIGFuZCBrZWVwaW5nIGluIHN5bmMga2V5IGFuZCB2YWx1ZSBzZXBhcmF0ZWx5LlxuICAgIHZhciByZXF1ZXN0S2V5cyA9IFtdO1xuICAgIHZhciByZXF1ZXN0VmFsdWVzID0gW107XG4gICAgdmFyIHhocnByb3RvID0gWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlO1xuICAgIGZpbGwoeGhycHJvdG8sICdvcGVuJywgZnVuY3Rpb24gKG9yaWdpbmFsT3Blbikge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICB2YXIgeGhyID0gdGhpcztcbiAgICAgICAgICAgIHZhciB1cmwgPSBhcmdzWzFdO1xuICAgICAgICAgICAgeGhyLl9fc2VudHJ5X3hocl9fID0ge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICAgICAgICBtZXRob2Q6IGlzU3RyaW5nKGFyZ3NbMF0pID8gYXJnc1swXS50b1VwcGVyQ2FzZSgpIDogYXJnc1swXSxcbiAgICAgICAgICAgICAgICB1cmw6IGFyZ3NbMV0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gaWYgU2VudHJ5IGtleSBhcHBlYXJzIGluIFVSTCwgZG9uJ3QgY2FwdHVyZSBpdCBhcyBhIHJlcXVlc3RcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICAgIGlmIChpc1N0cmluZyh1cmwpICYmIHhoci5fX3NlbnRyeV94aHJfXy5tZXRob2QgPT09ICdQT1NUJyAmJiB1cmwubWF0Y2goL3NlbnRyeV9rZXkvKSkge1xuICAgICAgICAgICAgICAgIHhoci5fX3NlbnRyeV9vd25fcmVxdWVzdF9fID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvbnJlYWR5c3RhdGVjaGFuZ2VIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG91Y2hpbmcgc3RhdHVzQ29kZSBpbiBzb21lIHBsYXRmb3JtcyB0aHJvd3NcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuIGV4Y2VwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5fX3NlbnRyeV94aHJfXykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5fX3NlbnRyeV94aHJfXy5zdGF0dXNfY29kZSA9IHhoci5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGRvIG5vdGhpbmcgKi9cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RQb3MgPSByZXF1ZXN0S2V5cy5pbmRleE9mKHhocik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVxdWVzdFBvcyAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdG8gcG9wIGJvdGgga2V5IGFuZCB2YWx1ZSB0byBrZWVwIGl0IGluIHN5bmMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEtleXMuc3BsaWNlKHJlcXVlc3RQb3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzXzEgPSByZXF1ZXN0VmFsdWVzLnNwbGljZShyZXF1ZXN0UG9zKVswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLl9fc2VudHJ5X3hocl9fICYmIGFyZ3NfMVswXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5fX3NlbnRyeV94aHJfXy5ib2R5ID0gYXJnc18xWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogZG8gbm90aGluZyAqL1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJIYW5kbGVycygneGhyJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJnczogYXJncyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyOiB4aHIsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoJ29ucmVhZHlzdGF0ZWNoYW5nZScgaW4geGhyICYmIHR5cGVvZiB4aHIub25yZWFkeXN0YXRlY2hhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgZmlsbCh4aHIsICdvbnJlYWR5c3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiAob3JpZ2luYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFkeVN0YXRlQXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFkeVN0YXRlQXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25yZWFkeXN0YXRlY2hhbmdlSGFuZGxlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHhociwgcmVhZHlTdGF0ZUFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCBvbnJlYWR5c3RhdGVjaGFuZ2VIYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbE9wZW4uYXBwbHkoeGhyLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbiAgICBmaWxsKHhocnByb3RvLCAnc2VuZCcsIGZ1bmN0aW9uIChvcmlnaW5hbFNlbmQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3RLZXlzLnB1c2godGhpcyk7XG4gICAgICAgICAgICByZXF1ZXN0VmFsdWVzLnB1c2goYXJncyk7XG4gICAgICAgICAgICB0cmlnZ2VySGFuZGxlcnMoJ3hocicsIHtcbiAgICAgICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgIHhocjogdGhpcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsU2VuZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9KTtcbn1cbnZhciBsYXN0SHJlZjtcbi8qKiBKU0RvYyAqL1xuZnVuY3Rpb24gaW5zdHJ1bWVudEhpc3RvcnkoKSB7XG4gICAgaWYgKCFzdXBwb3J0c0hpc3RvcnkoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBvbGRPblBvcFN0YXRlID0gZ2xvYmFsLm9ucG9wc3RhdGU7XG4gICAgZ2xvYmFsLm9ucG9wc3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvID0gZ2xvYmFsLmxvY2F0aW9uLmhyZWY7XG4gICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIGN1cnJlbnQgVVJMIHN0YXRlLCBhcyB3ZSBhbHdheXMgcmVjZWl2ZSBvbmx5IHRoZSB1cGRhdGVkIHN0YXRlXG4gICAgICAgIHZhciBmcm9tID0gbGFzdEhyZWY7XG4gICAgICAgIGxhc3RIcmVmID0gdG87XG4gICAgICAgIHRyaWdnZXJIYW5kbGVycygnaGlzdG9yeScsIHtcbiAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICB0bzogdG8sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAob2xkT25Qb3BTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9sZE9uUG9wU3RhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBAaGlkZGVuICovXG4gICAgZnVuY3Rpb24gaGlzdG9yeVJlcGxhY2VtZW50RnVuY3Rpb24ob3JpZ2luYWxIaXN0b3J5RnVuY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB1cmwgPSBhcmdzLmxlbmd0aCA+IDIgPyBhcmdzWzJdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgICAgIC8vIGNvZXJjZSB0byBzdHJpbmcgKHRoaXMgaXMgd2hhdCBwdXNoU3RhdGUgZG9lcylcbiAgICAgICAgICAgICAgICB2YXIgZnJvbSA9IGxhc3RIcmVmO1xuICAgICAgICAgICAgICAgIHZhciB0byA9IFN0cmluZyh1cmwpO1xuICAgICAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIGN1cnJlbnQgVVJMIHN0YXRlLCBhcyB3ZSBhbHdheXMgcmVjZWl2ZSBvbmx5IHRoZSB1cGRhdGVkIHN0YXRlXG4gICAgICAgICAgICAgICAgbGFzdEhyZWYgPSB0bztcbiAgICAgICAgICAgICAgICB0cmlnZ2VySGFuZGxlcnMoJ2hpc3RvcnknLCB7XG4gICAgICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgICAgIHRvOiB0byxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEhpc3RvcnlGdW5jdGlvbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZmlsbChnbG9iYWwuaGlzdG9yeSwgJ3B1c2hTdGF0ZScsIGhpc3RvcnlSZXBsYWNlbWVudEZ1bmN0aW9uKTtcbiAgICBmaWxsKGdsb2JhbC5oaXN0b3J5LCAncmVwbGFjZVN0YXRlJywgaGlzdG9yeVJlcGxhY2VtZW50RnVuY3Rpb24pO1xufVxudmFyIGRlYm91bmNlRHVyYXRpb24gPSAxMDAwO1xudmFyIGRlYm91bmNlVGltZXJJRDtcbnZhciBsYXN0Q2FwdHVyZWRFdmVudDtcbi8qKlxuICogRGVjaWRlIHdoZXRoZXIgdGhlIGN1cnJlbnQgZXZlbnQgc2hvdWxkIGZpbmlzaCB0aGUgZGVib3VuY2Ugb2YgcHJldmlvdXNseSBjYXB0dXJlZCBvbmUuXG4gKiBAcGFyYW0gcHJldmlvdXMgcHJldmlvdXNseSBjYXB0dXJlZCBldmVudFxuICogQHBhcmFtIGN1cnJlbnQgZXZlbnQgdG8gYmUgY2FwdHVyZWRcbiAqL1xuZnVuY3Rpb24gc2hvdWxkU2hvcnRjaXJjdWl0UHJldmlvdXNEZWJvdW5jZShwcmV2aW91cywgY3VycmVudCkge1xuICAgIC8vIElmIHRoZXJlIHdhcyBubyBwcmV2aW91cyBldmVudCwgaXQgc2hvdWxkIGFsd2F5cyBiZSBzd2FwcGVkIGZvciB0aGUgbmV3IG9uZS5cbiAgICBpZiAoIXByZXZpb3VzKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvLyBJZiBib3RoIGV2ZW50cyBoYXZlIGRpZmZlcmVudCB0eXBlLCB0aGVuIHVzZXIgZGVmaW5pdGVseSBwZXJmb3JtZWQgdHdvIHNlcGFyYXRlIGFjdGlvbnMuIGUuZy4gY2xpY2sgKyBrZXlwcmVzcy5cbiAgICBpZiAocHJldmlvdXMudHlwZSAhPT0gY3VycmVudC50eXBlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyBJZiBib3RoIGV2ZW50cyBoYXZlIHRoZSBzYW1lIHR5cGUsIGl0J3Mgc3RpbGwgcG9zc2libGUgdGhhdCBhY3Rpb25zIHdlcmUgcGVyZm9ybWVkIG9uIGRpZmZlcmVudCB0YXJnZXRzLlxuICAgICAgICAvLyBlLmcuIDIgY2xpY2tzIG9uIGRpZmZlcmVudCBidXR0b25zLlxuICAgICAgICBpZiAocHJldmlvdXMudGFyZ2V0ICE9PSBjdXJyZW50LnRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8ganVzdCBhY2Nlc3NpbmcgYHRhcmdldGAgcHJvcGVydHkgY2FuIHRocm93IGFuIGV4Y2VwdGlvbiBpbiBzb21lIHJhcmUgY2lyY3Vtc3RhbmNlc1xuICAgICAgICAvLyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvc2VudHJ5LWphdmFzY3JpcHQvaXNzdWVzLzgzOFxuICAgIH1cbiAgICAvLyBJZiBib3RoIGV2ZW50cyBoYXZlIHRoZSBzYW1lIHR5cGUgX2FuZF8gc2FtZSBgdGFyZ2V0YCAoYW4gZWxlbWVudCB3aGljaCB0cmlnZ2VyZWQgYW4gZXZlbnQsIF9ub3QgbmVjZXNzYXJpbHlfXG4gICAgLy8gdG8gd2hpY2ggYW4gZXZlbnQgbGlzdGVuZXIgd2FzIGF0dGFjaGVkKSwgd2UgdHJlYXQgdGhlbSBhcyB0aGUgc2FtZSBhY3Rpb24sIGFzIHdlIHdhbnQgdG8gY2FwdHVyZVxuICAgIC8vIG9ubHkgb25lIGJyZWFkY3J1bWIuIGUuZy4gbXVsdGlwbGUgY2xpY2tzIG9uIHRoZSBzYW1lIGJ1dHRvbiwgb3IgdHlwaW5nIGluc2lkZSBhIHVzZXIgaW5wdXQgYm94LlxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8qKlxuICogRGVjaWRlIHdoZXRoZXIgYW4gZXZlbnQgc2hvdWxkIGJlIGNhcHR1cmVkLlxuICogQHBhcmFtIGV2ZW50IGV2ZW50IHRvIGJlIGNhcHR1cmVkXG4gKi9cbmZ1bmN0aW9uIHNob3VsZFNraXBET01FdmVudChldmVudCkge1xuICAgIC8vIFdlIGFyZSBvbmx5IGludGVyZXN0ZWQgaW4gZmlsdGVyaW5nIGBrZXlwcmVzc2AgZXZlbnRzIGZvciBub3cuXG4gICAgaWYgKGV2ZW50LnR5cGUgIT09ICdrZXlwcmVzcycpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICBpZiAoIXRhcmdldCB8fCAhdGFyZ2V0LnRhZ05hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIE9ubHkgY29uc2lkZXIga2V5cHJlc3MgZXZlbnRzIG9uIGFjdHVhbCBpbnB1dCBlbGVtZW50cy4gVGhpcyB3aWxsIGRpc3JlZ2FyZCBrZXlwcmVzc2VzIHRhcmdldGluZyBib2R5XG4gICAgICAgIC8vIGUuZy50YWJiaW5nIHRocm91Z2ggZWxlbWVudHMsIGhvdGtleXMsIGV0Yy5cbiAgICAgICAgaWYgKHRhcmdldC50YWdOYW1lID09PSAnSU5QVVQnIHx8IHRhcmdldC50YWdOYW1lID09PSAnVEVYVEFSRUEnIHx8IHRhcmdldC5pc0NvbnRlbnRFZGl0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGp1c3QgYWNjZXNzaW5nIGB0YXJnZXRgIHByb3BlcnR5IGNhbiB0aHJvdyBhbiBleGNlcHRpb24gaW4gc29tZSByYXJlIGNpcmN1bXN0YW5jZXNcbiAgICAgICAgLy8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy84MzhcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4vKipcbiAqIFdyYXBzIGFkZEV2ZW50TGlzdGVuZXIgdG8gY2FwdHVyZSBVSSBicmVhZGNydW1ic1xuICogQHBhcmFtIGhhbmRsZXIgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIHRyaWdnZXJlZFxuICogQHBhcmFtIGdsb2JhbExpc3RlbmVyIGluZGljYXRlcyB3aGV0aGVyIGV2ZW50IHdhcyBjYXB0dXJlZCBieSB0aGUgZ2xvYmFsIGV2ZW50IGxpc3RlbmVyXG4gKiBAcmV0dXJucyB3cmFwcGVkIGJyZWFkY3J1bWIgZXZlbnRzIGhhbmRsZXJcbiAqIEBoaWRkZW5cbiAqL1xuZnVuY3Rpb24gbWFrZURPTUV2ZW50SGFuZGxlcihoYW5kbGVyLCBnbG9iYWxMaXN0ZW5lcikge1xuICAgIGlmIChnbG9iYWxMaXN0ZW5lciA9PT0gdm9pZCAwKSB7IGdsb2JhbExpc3RlbmVyID0gZmFsc2U7IH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIEl0J3MgcG9zc2libGUgdGhpcyBoYW5kbGVyIG1pZ2h0IHRyaWdnZXIgbXVsdGlwbGUgdGltZXMgZm9yIHRoZSBzYW1lXG4gICAgICAgIC8vIGV2ZW50IChlLmcuIGV2ZW50IHByb3BhZ2F0aW9uIHRocm91Z2ggbm9kZSBhbmNlc3RvcnMpLlxuICAgICAgICAvLyBJZ25vcmUgaWYgd2UndmUgYWxyZWFkeSBjYXB0dXJlZCB0aGF0IGV2ZW50LlxuICAgICAgICBpZiAoIWV2ZW50IHx8IGxhc3RDYXB0dXJlZEV2ZW50ID09PSBldmVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGFsd2F5cyB3YW50IHRvIHNraXAgX3NvbWVfIGV2ZW50cy5cbiAgICAgICAgaWYgKHNob3VsZFNraXBET01FdmVudChldmVudCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZSA9IGV2ZW50LnR5cGUgPT09ICdrZXlwcmVzcycgPyAnaW5wdXQnIDogZXZlbnQudHlwZTtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZGVib3VuY2UgdGltZXIsIGl0IG1lYW5zIHRoYXQgd2UgY2FuIHNhZmVseSBjYXB0dXJlIHRoZSBuZXcgZXZlbnQgYW5kIHN0b3JlIGl0IGZvciBmdXR1cmUgY29tcGFyaXNvbnMuXG4gICAgICAgIGlmIChkZWJvdW5jZVRpbWVySUQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGFuZGxlcih7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgZ2xvYmFsOiBnbG9iYWxMaXN0ZW5lcixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGFzdENhcHR1cmVkRXZlbnQgPSBldmVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBhIGRlYm91bmNlIGF3YWl0aW5nLCBzZWUgaWYgdGhlIG5ldyBldmVudCBpcyBkaWZmZXJlbnQgZW5vdWdoIHRvIHRyZWF0IGl0IGFzIGEgdW5pcXVlIG9uZS5cbiAgICAgICAgLy8gSWYgdGhhdCdzIHRoZSBjYXNlLCBlbWl0IHRoZSBwcmV2aW91cyBldmVudCBhbmQgc3RvcmUgbG9jYWxseSB0aGUgbmV3bHktY2FwdHVyZWQgRE9NIGV2ZW50LlxuICAgICAgICBlbHNlIGlmIChzaG91bGRTaG9ydGNpcmN1aXRQcmV2aW91c0RlYm91bmNlKGxhc3RDYXB0dXJlZEV2ZW50LCBldmVudCkpIHtcbiAgICAgICAgICAgIGhhbmRsZXIoe1xuICAgICAgICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgICAgIGdsb2JhbDogZ2xvYmFsTGlzdGVuZXIsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxhc3RDYXB0dXJlZEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnQgYSBuZXcgZGVib3VuY2UgdGltZXIgdGhhdCB3aWxsIHByZXZlbnQgdXMgZnJvbSBjYXB0dXJpbmcgbXVsdGlwbGUgZXZlbnRzIHRoYXQgc2hvdWxkIGJlIGdyb3VwZWQgdG9nZXRoZXIuXG4gICAgICAgIGNsZWFyVGltZW91dChkZWJvdW5jZVRpbWVySUQpO1xuICAgICAgICBkZWJvdW5jZVRpbWVySUQgPSBnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZWJvdW5jZVRpbWVySUQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sIGRlYm91bmNlRHVyYXRpb24pO1xuICAgIH07XG59XG4vKiogSlNEb2MgKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRET00oKSB7XG4gICAgaWYgKCEoJ2RvY3VtZW50JyBpbiBnbG9iYWwpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gTWFrZSBpdCBzbyB0aGF0IGFueSBjbGljayBvciBrZXlwcmVzcyB0aGF0IGlzIHVuaGFuZGxlZCAvIGJ1YmJsZWQgdXAgYWxsIHRoZSB3YXkgdG8gdGhlIGRvY3VtZW50IHRyaWdnZXJzIG91ciBkb21cbiAgICAvLyBoYW5kbGVycy4gKE5vcm1hbGx5IHdlIGhhdmUgb25seSBvbmUsIHdoaWNoIGNhcHR1cmVzIGEgYnJlYWRjcnVtYiBmb3IgZWFjaCBjbGljayBvciBrZXlwcmVzcy4pIERvIHRoaXMgYmVmb3JlXG4gICAgLy8gd2UgaW5zdHJ1bWVudCBgYWRkRXZlbnRMaXN0ZW5lcmAgc28gdGhhdCB3ZSBkb24ndCBlbmQgdXAgYXR0YWNoaW5nIHRoaXMgaGFuZGxlciB0d2ljZS5cbiAgICB2YXIgdHJpZ2dlckRPTUhhbmRsZXIgPSB0cmlnZ2VySGFuZGxlcnMuYmluZChudWxsLCAnZG9tJyk7XG4gICAgdmFyIGdsb2JhbERPTUV2ZW50SGFuZGxlciA9IG1ha2VET01FdmVudEhhbmRsZXIodHJpZ2dlckRPTUhhbmRsZXIsIHRydWUpO1xuICAgIGdsb2JhbC5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGdsb2JhbERPTUV2ZW50SGFuZGxlciwgZmFsc2UpO1xuICAgIGdsb2JhbC5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIGdsb2JhbERPTUV2ZW50SGFuZGxlciwgZmFsc2UpO1xuICAgIC8vIEFmdGVyIGhvb2tpbmcgaW50byBjbGljayBhbmQga2V5cHJlc3MgZXZlbnRzIGJ1YmJsZWQgdXAgdG8gYGRvY3VtZW50YCwgd2UgYWxzbyBob29rIGludG8gdXNlci1oYW5kbGVkXG4gICAgLy8gY2xpY2tzICYga2V5cHJlc3NlcywgYnkgYWRkaW5nIGFuIGV2ZW50IGxpc3RlbmVyIG9mIG91ciBvd24gdG8gYW55IGVsZW1lbnQgdG8gd2hpY2ggdGhleSBhZGQgYSBsaXN0ZW5lci4gVGhhdFxuICAgIC8vIHdheSwgd2hlbmV2ZXIgb25lIG9mIHRoZWlyIGhhbmRsZXJzIGlzIHRyaWdnZXJlZCwgb3VycyB3aWxsIGJlLCB0b28uIChUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHRoZWlyIGhhbmRsZXJcbiAgICAvLyBjb3VsZCBwb3RlbnRpYWxseSBwcmV2ZW50IHRoZSBldmVudCBmcm9tIGJ1YmJsaW5nIHVwIHRvIG91ciBnbG9iYWwgbGlzdGVuZXJzLiBUaGlzIHdheSwgb3VyIGhhbmRsZXIgYXJlIHN0aWxsXG4gICAgLy8gZ3VhcmFudGVlZCB0byBmaXJlIGF0IGxlYXN0IG9uY2UuKVxuICAgIFsnRXZlbnRUYXJnZXQnLCAnTm9kZSddLmZvckVhY2goZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgIHZhciBwcm90byA9IGdsb2JhbFt0YXJnZXRdICYmIGdsb2JhbFt0YXJnZXRdLnByb3RvdHlwZTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzcywgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgIGlmICghcHJvdG8gfHwgIXByb3RvLmhhc093blByb3BlcnR5IHx8ICFwcm90by5oYXNPd25Qcm9wZXJ0eSgnYWRkRXZlbnRMaXN0ZW5lcicpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZmlsbChwcm90bywgJ2FkZEV2ZW50TGlzdGVuZXInLCBmdW5jdGlvbiAob3JpZ2luYWxBZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdjbGljaycgfHwgdHlwZSA9PSAna2V5cHJlc3MnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSB0aGlzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZXJzXzEgPSAoZWwuX19zZW50cnlfaW5zdHJ1bWVudGF0aW9uX2hhbmRsZXJzX18gPSBlbC5fX3NlbnRyeV9pbnN0cnVtZW50YXRpb25faGFuZGxlcnNfXyB8fCB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlckZvclR5cGUgPSAoaGFuZGxlcnNfMVt0eXBlXSA9IGhhbmRsZXJzXzFbdHlwZV0gfHwgeyByZWZDb3VudDogMCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGFuZGxlckZvclR5cGUuaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0gbWFrZURPTUV2ZW50SGFuZGxlcih0cmlnZ2VyRE9NSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlckZvclR5cGUuaGFuZGxlciA9IGhhbmRsZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxBZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyRm9yVHlwZS5yZWZDb3VudCArPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBY2Nlc3NpbmcgZG9tIHByb3BlcnRpZXMgaXMgYWx3YXlzIGZyYWdpbGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbHNvIGFsbG93cyB1cyB0byBza2lwIGBhZGRFdmVudExpc3RlbnJzYCBjYWxscyB3aXRoIG5vIHByb3BlciBgdGhpc2AgY29udGV4dC5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxBZGRFdmVudExpc3RlbmVyLmNhbGwodGhpcywgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbGwocHJvdG8sICdyZW1vdmVFdmVudExpc3RlbmVyJywgZnVuY3Rpb24gKG9yaWdpbmFsUmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnY2xpY2snIHx8IHR5cGUgPT0gJ2tleXByZXNzJykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsID0gdGhpcztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyc18yID0gZWwuX19zZW50cnlfaW5zdHJ1bWVudGF0aW9uX2hhbmRsZXJzX18gfHwge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGFuZGxlckZvclR5cGUgPSBoYW5kbGVyc18yW3R5cGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXJGb3JUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlckZvclR5cGUucmVmQ291bnQgLT0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgbm8gbG9uZ2VyIGFueSBjdXN0b20gaGFuZGxlcnMgb2YgdGhlIGN1cnJlbnQgdHlwZSBvbiB0aGlzIGVsZW1lbnQsIHdlIGNhbiByZW1vdmUgb3VycywgdG9vLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyRm9yVHlwZS5yZWZDb3VudCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsUmVtb3ZlRXZlbnRMaXN0ZW5lci5jYWxsKHRoaXMsIHR5cGUsIGhhbmRsZXJGb3JUeXBlLmhhbmRsZXIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyRm9yVHlwZS5oYW5kbGVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgaGFuZGxlcnNfMlt0eXBlXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZHluYW1pYy1kZWxldGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIGxvbmdlciBhbnkgY3VzdG9tIGhhbmRsZXJzIG9mIGFueSB0eXBlIG9uIHRoaXMgZWxlbWVudCwgY2xlYW51cCBldmVyeXRoaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhoYW5kbGVyc18yKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVsLl9fc2VudHJ5X2luc3RydW1lbnRhdGlvbl9oYW5kbGVyc19fO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWNjZXNzaW5nIGRvbSBwcm9wZXJ0aWVzIGlzIGFsd2F5cyBmcmFnaWxlLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxzbyBhbGxvd3MgdXMgdG8gc2tpcCBgYWRkRXZlbnRMaXN0ZW5yc2AgY2FsbHMgd2l0aCBubyBwcm9wZXIgYHRoaXNgIGNvbnRleHQuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVtb3ZlRXZlbnRMaXN0ZW5lci5jYWxsKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxudmFyIF9vbGRPbkVycm9ySGFuZGxlciA9IG51bGw7XG4vKiogSlNEb2MgKi9cbmZ1bmN0aW9uIGluc3RydW1lbnRFcnJvcigpIHtcbiAgICBfb2xkT25FcnJvckhhbmRsZXIgPSBnbG9iYWwub25lcnJvcjtcbiAgICBnbG9iYWwub25lcnJvciA9IGZ1bmN0aW9uIChtc2csIHVybCwgbGluZSwgY29sdW1uLCBlcnJvcikge1xuICAgICAgICB0cmlnZ2VySGFuZGxlcnMoJ2Vycm9yJywge1xuICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4sXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICBsaW5lOiBsaW5lLFxuICAgICAgICAgICAgbXNnOiBtc2csXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChfb2xkT25FcnJvckhhbmRsZXIpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgIHJldHVybiBfb2xkT25FcnJvckhhbmRsZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn1cbnZhciBfb2xkT25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyID0gbnVsbDtcbi8qKiBKU0RvYyAqL1xuZnVuY3Rpb24gaW5zdHJ1bWVudFVuaGFuZGxlZFJlamVjdGlvbigpIHtcbiAgICBfb2xkT25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyID0gZ2xvYmFsLm9udW5oYW5kbGVkcmVqZWN0aW9uO1xuICAgIGdsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbiA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHRyaWdnZXJIYW5kbGVycygndW5oYW5kbGVkcmVqZWN0aW9uJywgZSk7XG4gICAgICAgIGlmIChfb2xkT25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLXJlc3QtcGFyYW1zXG4gICAgICAgICAgICByZXR1cm4gX29sZE9uVW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbnN0cnVtZW50LmpzLm1hcCIsImV4cG9ydCB2YXIgc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgPyBzZXRQcm90b09mIDogbWl4aW5Qcm9wZXJ0aWVzKTtcbi8qKlxuICogc2V0UHJvdG90eXBlT2YgcG9seWZpbGwgdXNpbmcgX19wcm90b19fXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5mdW5jdGlvbiBzZXRQcm90b09mKG9iaiwgcHJvdG8pIHtcbiAgICAvLyBAdHMtaWdub3JlIF9fcHJvdG9fXyBkb2VzIG5vdCBleGlzdCBvbiBvYmpcbiAgICBvYmouX19wcm90b19fID0gcHJvdG87XG4gICAgcmV0dXJuIG9iajtcbn1cbi8qKlxuICogc2V0UHJvdG90eXBlT2YgcG9seWZpbGwgdXNpbmcgbWl4aW5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcbmZ1bmN0aW9uIG1peGluUHJvcGVydGllcyhvYmosIHByb3RvKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBwcm90bykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG4gICAgICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHR5cGVzY3JpcHQgY29tcGxhaW5zIGFib3V0IGluZGV4aW5nIHNvIHdlIHJlbW92ZVxuICAgICAgICAgICAgb2JqW3Byb3BdID0gcHJvdG9bcHJvcF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBvbHlmaWxsLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgc2V0UHJvdG90eXBlT2YgfSBmcm9tICcuL3BvbHlmaWxsJztcbi8qKiBBbiBlcnJvciBlbWl0dGVkIGJ5IFNlbnRyeSBTREtzIGFuZCByZWxhdGVkIHV0aWxpdGllcy4gKi9cbnZhciBTZW50cnlFcnJvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoU2VudHJ5RXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU2VudHJ5RXJyb3IobWVzc2FnZSkge1xuICAgICAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICBfdGhpcy5uYW1lID0gX25ld1RhcmdldC5wcm90b3R5cGUuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgc2V0UHJvdG90eXBlT2YoX3RoaXMsIF9uZXdUYXJnZXQucHJvdG90eXBlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU2VudHJ5RXJyb3I7XG59KEVycm9yKSk7XG5leHBvcnQgeyBTZW50cnlFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3IuanMubWFwIiwiaW1wb3J0IHsgX19yZWFkIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTZW50cnlFcnJvciB9IGZyb20gJy4vZXJyb3InO1xuLyoqIFJlZ3VsYXIgZXhwcmVzc2lvbiB1c2VkIHRvIHBhcnNlIGEgRHNuLiAqL1xudmFyIERTTl9SRUdFWCA9IC9eKD86KFxcdyspOilcXC9cXC8oPzooXFx3KykoPzo6KFxcdyspKT9AKShbXFx3Li1dKykoPzo6KFxcZCspKT9cXC8oLispLztcbi8qKiBFcnJvciBtZXNzYWdlICovXG52YXIgRVJST1JfTUVTU0FHRSA9ICdJbnZhbGlkIERzbic7XG4vKiogVGhlIFNlbnRyeSBEc24sIGlkZW50aWZ5aW5nIGEgU2VudHJ5IGluc3RhbmNlIGFuZCBwcm9qZWN0LiAqL1xudmFyIERzbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBEc24gY29tcG9uZW50ICovXG4gICAgZnVuY3Rpb24gRHNuKGZyb20pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy5fZnJvbVN0cmluZyhmcm9tKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2Zyb21Db21wb25lbnRzKGZyb20pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIERzbi5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIHRoaXMgd2lsbCByZW5kZXIgdGhlIHB1YmxpYyByZXByZXNlbnRhdGlvbiB3aXRob3V0IHRoZSBwYXNzd29yZFxuICAgICAqIGNvbXBvbmVudC4gVG8gZ2V0IHRoZSBkZXByZWNhdGVkIHByaXZhdGUgcmVwcmVzZW50YXRpb24sIHNldCBgd2l0aFBhc3N3b3JkYFxuICAgICAqIHRvIHRydWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2l0aFBhc3N3b3JkIFdoZW4gc2V0IHRvIHRydWUsIHRoZSBwYXNzd29yZCB3aWxsIGJlIGluY2x1ZGVkLlxuICAgICAqL1xuICAgIERzbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAod2l0aFBhc3N3b3JkKSB7XG4gICAgICAgIGlmICh3aXRoUGFzc3dvcmQgPT09IHZvaWQgMCkgeyB3aXRoUGFzc3dvcmQgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgX2EgPSB0aGlzLCBob3N0ID0gX2EuaG9zdCwgcGF0aCA9IF9hLnBhdGgsIHBhc3MgPSBfYS5wYXNzLCBwb3J0ID0gX2EucG9ydCwgcHJvamVjdElkID0gX2EucHJvamVjdElkLCBwcm90b2NvbCA9IF9hLnByb3RvY29sLCBwdWJsaWNLZXkgPSBfYS5wdWJsaWNLZXk7XG4gICAgICAgIHJldHVybiAocHJvdG9jb2wgKyBcIjovL1wiICsgcHVibGljS2V5ICsgKHdpdGhQYXNzd29yZCAmJiBwYXNzID8gXCI6XCIgKyBwYXNzIDogJycpICtcbiAgICAgICAgICAgIChcIkBcIiArIGhvc3QgKyAocG9ydCA/IFwiOlwiICsgcG9ydCA6ICcnKSArIFwiL1wiICsgKHBhdGggPyBwYXRoICsgXCIvXCIgOiBwYXRoKSArIHByb2plY3RJZCkpO1xuICAgIH07XG4gICAgLyoqIFBhcnNlcyBhIHN0cmluZyBpbnRvIHRoaXMgRHNuLiAqL1xuICAgIERzbi5wcm90b3R5cGUuX2Zyb21TdHJpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IERTTl9SRUdFWC5leGVjKHN0cik7XG4gICAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTZW50cnlFcnJvcihFUlJPUl9NRVNTQUdFKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX2EgPSBfX3JlYWQobWF0Y2guc2xpY2UoMSksIDYpLCBwcm90b2NvbCA9IF9hWzBdLCBwdWJsaWNLZXkgPSBfYVsxXSwgX2IgPSBfYVsyXSwgcGFzcyA9IF9iID09PSB2b2lkIDAgPyAnJyA6IF9iLCBob3N0ID0gX2FbM10sIF9jID0gX2FbNF0sIHBvcnQgPSBfYyA9PT0gdm9pZCAwID8gJycgOiBfYywgbGFzdFBhdGggPSBfYVs1XTtcbiAgICAgICAgdmFyIHBhdGggPSAnJztcbiAgICAgICAgdmFyIHByb2plY3RJZCA9IGxhc3RQYXRoO1xuICAgICAgICB2YXIgc3BsaXQgPSBwcm9qZWN0SWQuc3BsaXQoJy8nKTtcbiAgICAgICAgaWYgKHNwbGl0Lmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHBhdGggPSBzcGxpdC5zbGljZSgwLCAtMSkuam9pbignLycpO1xuICAgICAgICAgICAgcHJvamVjdElkID0gc3BsaXQucG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2plY3RJZCkge1xuICAgICAgICAgICAgdmFyIHByb2plY3RNYXRjaCA9IHByb2plY3RJZC5tYXRjaCgvXlxcZCsvKTtcbiAgICAgICAgICAgIGlmIChwcm9qZWN0TWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0SWQgPSBwcm9qZWN0TWF0Y2hbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZnJvbUNvbXBvbmVudHMoeyBob3N0OiBob3N0LCBwYXNzOiBwYXNzLCBwYXRoOiBwYXRoLCBwcm9qZWN0SWQ6IHByb2plY3RJZCwgcG9ydDogcG9ydCwgcHJvdG9jb2w6IHByb3RvY29sLCBwdWJsaWNLZXk6IHB1YmxpY0tleSB9KTtcbiAgICB9O1xuICAgIC8qKiBNYXBzIERzbiBjb21wb25lbnRzIGludG8gdGhpcyBpbnN0YW5jZS4gKi9cbiAgICBEc24ucHJvdG90eXBlLl9mcm9tQ29tcG9uZW50cyA9IGZ1bmN0aW9uIChjb21wb25lbnRzKSB7XG4gICAgICAgIC8vIFRPRE8gdGhpcyBpcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIGFuZCBjYW4gYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uXG4gICAgICAgIGlmICgndXNlcicgaW4gY29tcG9uZW50cyAmJiAhKCdwdWJsaWNLZXknIGluIGNvbXBvbmVudHMpKSB7XG4gICAgICAgICAgICBjb21wb25lbnRzLnB1YmxpY0tleSA9IGNvbXBvbmVudHMudXNlcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVzZXIgPSBjb21wb25lbnRzLnB1YmxpY0tleSB8fCAnJztcbiAgICAgICAgdGhpcy5wcm90b2NvbCA9IGNvbXBvbmVudHMucHJvdG9jb2w7XG4gICAgICAgIHRoaXMucHVibGljS2V5ID0gY29tcG9uZW50cy5wdWJsaWNLZXkgfHwgJyc7XG4gICAgICAgIHRoaXMucGFzcyA9IGNvbXBvbmVudHMucGFzcyB8fCAnJztcbiAgICAgICAgdGhpcy5ob3N0ID0gY29tcG9uZW50cy5ob3N0O1xuICAgICAgICB0aGlzLnBvcnQgPSBjb21wb25lbnRzLnBvcnQgfHwgJyc7XG4gICAgICAgIHRoaXMucGF0aCA9IGNvbXBvbmVudHMucGF0aCB8fCAnJztcbiAgICAgICAgdGhpcy5wcm9qZWN0SWQgPSBjb21wb25lbnRzLnByb2plY3RJZDtcbiAgICB9O1xuICAgIC8qKiBWYWxpZGF0ZXMgdGhpcyBEc24gYW5kIHRocm93cyBvbiBlcnJvci4gKi9cbiAgICBEc24ucHJvdG90eXBlLl92YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgWydwcm90b2NvbCcsICdwdWJsaWNLZXknLCAnaG9zdCcsICdwcm9qZWN0SWQnXS5mb3JFYWNoKGZ1bmN0aW9uIChjb21wb25lbnQpIHtcbiAgICAgICAgICAgIGlmICghX3RoaXNbY29tcG9uZW50XSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZW50cnlFcnJvcihFUlJPUl9NRVNTQUdFICsgXCI6IFwiICsgY29tcG9uZW50ICsgXCIgbWlzc2luZ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghdGhpcy5wcm9qZWN0SWQubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU2VudHJ5RXJyb3IoRVJST1JfTUVTU0FHRSArIFwiOiBJbnZhbGlkIHByb2plY3RJZCBcIiArIHRoaXMucHJvamVjdElkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcm90b2NvbCAhPT0gJ2h0dHAnICYmIHRoaXMucHJvdG9jb2wgIT09ICdodHRwcycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBTZW50cnlFcnJvcihFUlJPUl9NRVNTQUdFICsgXCI6IEludmFsaWQgcHJvdG9jb2wgXCIgKyB0aGlzLnByb3RvY29sKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wb3J0ICYmIGlzTmFOKHBhcnNlSW50KHRoaXMucG9ydCwgMTApKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFNlbnRyeUVycm9yKEVSUk9SX01FU1NBR0UgKyBcIjogSW52YWxpZCBwb3J0IFwiICsgdGhpcy5wb3J0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERzbjtcbn0oKSk7XG5leHBvcnQgeyBEc24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRzbi5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBhZGRHbG9iYWxFdmVudFByb2Nlc3NvciwgZ2V0Q3VycmVudEh1YiB9IGZyb20gJ0BzZW50cnkvaHViJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuZXhwb3J0IHZhciBpbnN0YWxsZWRJbnRlZ3JhdGlvbnMgPSBbXTtcbi8qKiBHZXRzIGludGVncmF0aW9uIHRvIGluc3RhbGwgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnRlZ3JhdGlvbnNUb1NldHVwKG9wdGlvbnMpIHtcbiAgICB2YXIgZGVmYXVsdEludGVncmF0aW9ucyA9IChvcHRpb25zLmRlZmF1bHRJbnRlZ3JhdGlvbnMgJiYgX19zcHJlYWQob3B0aW9ucy5kZWZhdWx0SW50ZWdyYXRpb25zKSkgfHwgW107XG4gICAgdmFyIHVzZXJJbnRlZ3JhdGlvbnMgPSBvcHRpb25zLmludGVncmF0aW9ucztcbiAgICB2YXIgaW50ZWdyYXRpb25zID0gW107XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodXNlckludGVncmF0aW9ucykpIHtcbiAgICAgICAgdmFyIHVzZXJJbnRlZ3JhdGlvbnNOYW1lc18xID0gdXNlckludGVncmF0aW9ucy5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkubmFtZTsgfSk7XG4gICAgICAgIHZhciBwaWNrZWRJbnRlZ3JhdGlvbnNOYW1lc18xID0gW107XG4gICAgICAgIC8vIExlYXZlIG9ubHkgdW5pcXVlIGRlZmF1bHQgaW50ZWdyYXRpb25zLCB0aGF0IHdlcmUgbm90IG92ZXJyaWRkZW4gd2l0aCBwcm92aWRlZCB1c2VyIGludGVncmF0aW9uc1xuICAgICAgICBkZWZhdWx0SW50ZWdyYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGRlZmF1bHRJbnRlZ3JhdGlvbikge1xuICAgICAgICAgICAgaWYgKHVzZXJJbnRlZ3JhdGlvbnNOYW1lc18xLmluZGV4T2YoZGVmYXVsdEludGVncmF0aW9uLm5hbWUpID09PSAtMSAmJlxuICAgICAgICAgICAgICAgIHBpY2tlZEludGVncmF0aW9uc05hbWVzXzEuaW5kZXhPZihkZWZhdWx0SW50ZWdyYXRpb24ubmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaW50ZWdyYXRpb25zLnB1c2goZGVmYXVsdEludGVncmF0aW9uKTtcbiAgICAgICAgICAgICAgICBwaWNrZWRJbnRlZ3JhdGlvbnNOYW1lc18xLnB1c2goZGVmYXVsdEludGVncmF0aW9uLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gRG9uJ3QgYWRkIHNhbWUgdXNlciBpbnRlZ3JhdGlvbiB0d2ljZVxuICAgICAgICB1c2VySW50ZWdyYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKHVzZXJJbnRlZ3JhdGlvbikge1xuICAgICAgICAgICAgaWYgKHBpY2tlZEludGVncmF0aW9uc05hbWVzXzEuaW5kZXhPZih1c2VySW50ZWdyYXRpb24ubmFtZSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaW50ZWdyYXRpb25zLnB1c2godXNlckludGVncmF0aW9uKTtcbiAgICAgICAgICAgICAgICBwaWNrZWRJbnRlZ3JhdGlvbnNOYW1lc18xLnB1c2godXNlckludGVncmF0aW9uLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHVzZXJJbnRlZ3JhdGlvbnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaW50ZWdyYXRpb25zID0gdXNlckludGVncmF0aW9ucyhkZWZhdWx0SW50ZWdyYXRpb25zKTtcbiAgICAgICAgaW50ZWdyYXRpb25zID0gQXJyYXkuaXNBcnJheShpbnRlZ3JhdGlvbnMpID8gaW50ZWdyYXRpb25zIDogW2ludGVncmF0aW9uc107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpbnRlZ3JhdGlvbnMgPSBfX3NwcmVhZChkZWZhdWx0SW50ZWdyYXRpb25zKTtcbiAgICB9XG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgaWYgcHJlc2VudCwgYERlYnVnYCBpbnRlZ3JhdGlvbiB3aWxsIGFsd2F5cyBydW4gbGFzdFxuICAgIHZhciBpbnRlZ3JhdGlvbnNOYW1lcyA9IGludGVncmF0aW9ucy5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkubmFtZTsgfSk7XG4gICAgdmFyIGFsd2F5c0xhc3RUb1J1biA9ICdEZWJ1Zyc7XG4gICAgaWYgKGludGVncmF0aW9uc05hbWVzLmluZGV4T2YoYWx3YXlzTGFzdFRvUnVuKSAhPT0gLTEpIHtcbiAgICAgICAgaW50ZWdyYXRpb25zLnB1c2guYXBwbHkoaW50ZWdyYXRpb25zLCBfX3NwcmVhZChpbnRlZ3JhdGlvbnMuc3BsaWNlKGludGVncmF0aW9uc05hbWVzLmluZGV4T2YoYWx3YXlzTGFzdFRvUnVuKSwgMSkpKTtcbiAgICB9XG4gICAgcmV0dXJuIGludGVncmF0aW9ucztcbn1cbi8qKiBTZXR1cCBnaXZlbiBpbnRlZ3JhdGlvbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwSW50ZWdyYXRpb24oaW50ZWdyYXRpb24pIHtcbiAgICBpZiAoaW5zdGFsbGVkSW50ZWdyYXRpb25zLmluZGV4T2YoaW50ZWdyYXRpb24ubmFtZSkgIT09IC0xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW50ZWdyYXRpb24uc2V0dXBPbmNlKGFkZEdsb2JhbEV2ZW50UHJvY2Vzc29yLCBnZXRDdXJyZW50SHViKTtcbiAgICBpbnN0YWxsZWRJbnRlZ3JhdGlvbnMucHVzaChpbnRlZ3JhdGlvbi5uYW1lKTtcbiAgICBsb2dnZXIubG9nKFwiSW50ZWdyYXRpb24gaW5zdGFsbGVkOiBcIiArIGludGVncmF0aW9uLm5hbWUpO1xufVxuLyoqXG4gKiBHaXZlbiBhIGxpc3Qgb2YgaW50ZWdyYXRpb24gaW5zdGFuY2VzIHRoaXMgaW5zdGFsbHMgdGhlbSBhbGwuIFdoZW4gYHdpdGhEZWZhdWx0c2AgaXMgc2V0IHRvIGB0cnVlYCB0aGVuIGFsbCBkZWZhdWx0XG4gKiBpbnRlZ3JhdGlvbnMgYXJlIGFkZGVkIHVubGVzcyB0aGV5IHdlcmUgYWxyZWFkeSBwcm92aWRlZCBiZWZvcmUuXG4gKiBAcGFyYW0gaW50ZWdyYXRpb25zIGFycmF5IG9mIGludGVncmF0aW9uIGluc3RhbmNlc1xuICogQHBhcmFtIHdpdGhEZWZhdWx0IHNob3VsZCBlbmFibGUgZGVmYXVsdCBpbnRlZ3JhdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldHVwSW50ZWdyYXRpb25zKG9wdGlvbnMpIHtcbiAgICB2YXIgaW50ZWdyYXRpb25zID0ge307XG4gICAgZ2V0SW50ZWdyYXRpb25zVG9TZXR1cChvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChpbnRlZ3JhdGlvbikge1xuICAgICAgICBpbnRlZ3JhdGlvbnNbaW50ZWdyYXRpb24ubmFtZV0gPSBpbnRlZ3JhdGlvbjtcbiAgICAgICAgc2V0dXBJbnRlZ3JhdGlvbihpbnRlZ3JhdGlvbik7XG4gICAgfSk7XG4gICAgcmV0dXJuIGludGVncmF0aW9ucztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVncmF0aW9uLmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduLCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxpbmVzICovXG5pbXBvcnQgeyBTY29wZSB9IGZyb20gJ0BzZW50cnkvaHViJztcbmltcG9ydCB7IFNlc3Npb25TdGF0dXMsIH0gZnJvbSAnQHNlbnRyeS90eXBlcyc7XG5pbXBvcnQgeyBkYXRlVGltZXN0YW1wSW5TZWNvbmRzLCBEc24sIGlzUHJpbWl0aXZlLCBpc1RoZW5hYmxlLCBsb2dnZXIsIG5vcm1hbGl6ZSwgU2VudHJ5RXJyb3IsIFN5bmNQcm9taXNlLCB0cnVuY2F0ZSwgdXVpZDQsIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBzZXR1cEludGVncmF0aW9ucyB9IGZyb20gJy4vaW50ZWdyYXRpb24nO1xuLyoqXG4gKiBCYXNlIGltcGxlbWVudGF0aW9uIGZvciBhbGwgSmF2YVNjcmlwdCBTREsgY2xpZW50cy5cbiAqXG4gKiBDYWxsIHRoZSBjb25zdHJ1Y3RvciB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIGJhY2tlbmQgY29uc3RydWN0b3IgYW5kIG9wdGlvbnNcbiAqIHNwZWNpZmljIHRvIHRoZSBjbGllbnQgc3ViY2xhc3MuIFRvIGFjY2VzcyB0aGVzZSBvcHRpb25zIGxhdGVyLCB1c2VcbiAqIHtAbGluayBDbGllbnQuZ2V0T3B0aW9uc30uIEFsc28sIHRoZSBCYWNrZW5kIGluc3RhbmNlIGlzIGF2YWlsYWJsZSB2aWFcbiAqIHtAbGluayBDbGllbnQuZ2V0QmFja2VuZH0uXG4gKlxuICogSWYgYSBEc24gaXMgc3BlY2lmaWVkIGluIHRoZSBvcHRpb25zLCBpdCB3aWxsIGJlIHBhcnNlZCBhbmQgc3RvcmVkLiBVc2VcbiAqIHtAbGluayBDbGllbnQuZ2V0RHNufSB0byByZXRyaWV2ZSB0aGUgRHNuIGF0IGFueSBtb21lbnQuIEluIGNhc2UgdGhlIERzbiBpc1xuICogaW52YWxpZCwgdGhlIGNvbnN0cnVjdG9yIHdpbGwgdGhyb3cgYSB7QGxpbmsgU2VudHJ5RXhjZXB0aW9ufS4gTm90ZSB0aGF0XG4gKiB3aXRob3V0IGEgdmFsaWQgRHNuLCB0aGUgU0RLIHdpbGwgbm90IHNlbmQgYW55IGV2ZW50cyB0byBTZW50cnkuXG4gKlxuICogQmVmb3JlIHNlbmRpbmcgYW4gZXZlbnQgdmlhIHRoZSBiYWNrZW5kLCBpdCBpcyBwYXNzZWQgdGhyb3VnaFxuICoge0BsaW5rIEJhc2VDbGllbnQuX3ByZXBhcmVFdmVudH0gdG8gYWRkIFNESyBpbmZvcm1hdGlvbiBhbmQgc2NvcGUgZGF0YVxuICogKGJyZWFkY3J1bWJzIGFuZCBjb250ZXh0KS4gVG8gYWRkIG1vcmUgY3VzdG9tIGluZm9ybWF0aW9uLCBvdmVycmlkZSB0aGlzXG4gKiBtZXRob2QgYW5kIGV4dGVuZCB0aGUgcmVzdWx0aW5nIHByZXBhcmVkIGV2ZW50LlxuICpcbiAqIFRvIGlzc3VlIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBldmVudHMgKGUuZy4gdmlhIGluc3RydW1lbnRhdGlvbiksIHVzZVxuICoge0BsaW5rIENsaWVudC5jYXB0dXJlRXZlbnR9LiBJdCB3aWxsIHByZXBhcmUgdGhlIGV2ZW50IGFuZCBwYXNzIGl0IHRocm91Z2hcbiAqIHRoZSBjYWxsYmFjayBsaWZlY3ljbGUuIFRvIGlzc3VlIGF1dG8tYnJlYWRjcnVtYnMsIHVzZVxuICoge0BsaW5rIENsaWVudC5hZGRCcmVhZGNydW1ifS5cbiAqXG4gKiBAZXhhbXBsZVxuICogY2xhc3MgTm9kZUNsaWVudCBleHRlbmRzIEJhc2VDbGllbnQ8Tm9kZUJhY2tlbmQsIE5vZGVPcHRpb25zPiB7XG4gKiAgIHB1YmxpYyBjb25zdHJ1Y3RvcihvcHRpb25zOiBOb2RlT3B0aW9ucykge1xuICogICAgIHN1cGVyKE5vZGVCYWNrZW5kLCBvcHRpb25zKTtcbiAqICAgfVxuICpcbiAqICAgLy8gLi4uXG4gKiB9XG4gKi9cbnZhciBCYXNlQ2xpZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoaXMgY2xpZW50IGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJhY2tlbmRDbGFzcyBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGNyZWF0ZSB0aGUgYmFja2VuZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJhc2VDbGllbnQoYmFja2VuZENsYXNzLCBvcHRpb25zKSB7XG4gICAgICAgIC8qKiBBcnJheSBvZiB1c2VkIGludGVncmF0aW9ucy4gKi9cbiAgICAgICAgdGhpcy5faW50ZWdyYXRpb25zID0ge307XG4gICAgICAgIC8qKiBOdW1iZXIgb2YgY2FsbCBiZWluZyBwcm9jZXNzZWQgKi9cbiAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyA9IDA7XG4gICAgICAgIHRoaXMuX2JhY2tlbmQgPSBuZXcgYmFja2VuZENsYXNzKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgaWYgKG9wdGlvbnMuZHNuKSB7XG4gICAgICAgICAgICB0aGlzLl9kc24gPSBuZXcgRHNuKG9wdGlvbnMuZHNuKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55LCBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuY2FwdHVyZUV4Y2VwdGlvbiA9IGZ1bmN0aW9uIChleGNlcHRpb24sIGhpbnQsIHNjb3BlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBldmVudElkID0gaGludCAmJiBoaW50LmV2ZW50X2lkO1xuICAgICAgICB0aGlzLl9wcm9jZXNzKHRoaXMuX2dldEJhY2tlbmQoKVxuICAgICAgICAgICAgLmV2ZW50RnJvbUV4Y2VwdGlvbihleGNlcHRpb24sIGhpbnQpXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIF90aGlzLl9jYXB0dXJlRXZlbnQoZXZlbnQsIGhpbnQsIHNjb3BlKTsgfSlcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGV2ZW50SWQgPSByZXN1bHQ7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50SWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLmNhcHR1cmVNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGxldmVsLCBoaW50LCBzY29wZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZXZlbnRJZCA9IGhpbnQgJiYgaGludC5ldmVudF9pZDtcbiAgICAgICAgdmFyIHByb21pc2VkRXZlbnQgPSBpc1ByaW1pdGl2ZShtZXNzYWdlKVxuICAgICAgICAgICAgPyB0aGlzLl9nZXRCYWNrZW5kKCkuZXZlbnRGcm9tTWVzc2FnZShTdHJpbmcobWVzc2FnZSksIGxldmVsLCBoaW50KVxuICAgICAgICAgICAgOiB0aGlzLl9nZXRCYWNrZW5kKCkuZXZlbnRGcm9tRXhjZXB0aW9uKG1lc3NhZ2UsIGhpbnQpO1xuICAgICAgICB0aGlzLl9wcm9jZXNzKHByb21pc2VkRXZlbnRcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gX3RoaXMuX2NhcHR1cmVFdmVudChldmVudCwgaGludCwgc2NvcGUpOyB9KVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgZXZlbnRJZCA9IHJlc3VsdDtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gZXZlbnRJZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuY2FwdHVyZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBoaW50LCBzY29wZSkge1xuICAgICAgICB2YXIgZXZlbnRJZCA9IGhpbnQgJiYgaGludC5ldmVudF9pZDtcbiAgICAgICAgdGhpcy5fcHJvY2Vzcyh0aGlzLl9jYXB0dXJlRXZlbnQoZXZlbnQsIGhpbnQsIHNjb3BlKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGV2ZW50SWQgPSByZXN1bHQ7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50SWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLmNhcHR1cmVTZXNzaW9uID0gZnVuY3Rpb24gKHNlc3Npb24pIHtcbiAgICAgICAgaWYgKCFzZXNzaW9uLnJlbGVhc2UpIHtcbiAgICAgICAgICAgIGxvZ2dlci53YXJuKCdEaXNjYXJkZWQgc2Vzc2lvbiBiZWNhdXNlIG9mIG1pc3NpbmcgcmVsZWFzZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2VuZFNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgICAvLyBBZnRlciBzZW5kaW5nLCB3ZSBzZXQgaW5pdCBmYWxzZSB0byBpbmlkY2F0ZSBpdCdzIG5vdCB0aGUgZmlyc3Qgb2NjdXJlbmNlXG4gICAgICAgICAgICBzZXNzaW9uLnVwZGF0ZSh7IGluaXQ6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLmdldERzbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RzbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQ2xpZW50UHJvY2Vzc2luZyh0aW1lb3V0KS50aGVuKGZ1bmN0aW9uIChyZWFkeSkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9nZXRCYWNrZW5kKClcbiAgICAgICAgICAgICAgICAuZ2V0VHJhbnNwb3J0KClcbiAgICAgICAgICAgICAgICAuY2xvc2UodGltZW91dClcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHJhbnNwb3J0Rmx1c2hlZCkgeyByZXR1cm4gcmVhZHkgJiYgdHJhbnNwb3J0Rmx1c2hlZDsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBCYXNlQ2xpZW50LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzLmZsdXNoKHRpbWVvdXQpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgX3RoaXMuZ2V0T3B0aW9ucygpLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB1cCB0aGUgaW50ZWdyYXRpb25zXG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuc2V0dXBJbnRlZ3JhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5faW50ZWdyYXRpb25zID0gc2V0dXBJbnRlZ3JhdGlvbnModGhpcy5fb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuZ2V0SW50ZWdyYXRpb24gPSBmdW5jdGlvbiAoaW50ZWdyYXRpb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pbnRlZ3JhdGlvbnNbaW50ZWdyYXRpb24uaWRdIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9vTykge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJDYW5ub3QgcmV0cmlldmUgaW50ZWdyYXRpb24gXCIgKyBpbnRlZ3JhdGlvbi5pZCArIFwiIGZyb20gdGhlIGN1cnJlbnQgQ2xpZW50XCIpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBVcGRhdGVzIGV4aXN0aW5nIHNlc3Npb24gYmFzZWQgb24gdGhlIHByb3ZpZGVkIGV2ZW50ICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuX3VwZGF0ZVNlc3Npb25Gcm9tRXZlbnQgPSBmdW5jdGlvbiAoc2Vzc2lvbiwgZXZlbnQpIHtcbiAgICAgICAgdmFyIGVfMSwgX2E7XG4gICAgICAgIHZhciBjcmFzaGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciB1c2VyQWdlbnQ7XG4gICAgICAgIHZhciBleGNlcHRpb25zID0gZXZlbnQuZXhjZXB0aW9uICYmIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXM7XG4gICAgICAgIGlmIChleGNlcHRpb25zKSB7XG4gICAgICAgICAgICBlcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZXhjZXB0aW9uc18xID0gX192YWx1ZXMoZXhjZXB0aW9ucyksIGV4Y2VwdGlvbnNfMV8xID0gZXhjZXB0aW9uc18xLm5leHQoKTsgIWV4Y2VwdGlvbnNfMV8xLmRvbmU7IGV4Y2VwdGlvbnNfMV8xID0gZXhjZXB0aW9uc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXggPSBleGNlcHRpb25zXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lY2hhbmlzbSA9IGV4Lm1lY2hhbmlzbTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lY2hhbmlzbSAmJiBtZWNoYW5pc20uaGFuZGxlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyYXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4Y2VwdGlvbnNfMV8xICYmICFleGNlcHRpb25zXzFfMS5kb25lICYmIChfYSA9IGV4Y2VwdGlvbnNfMS5yZXR1cm4pKSBfYS5jYWxsKGV4Y2VwdGlvbnNfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdXNlciA9IGV2ZW50LnVzZXI7XG4gICAgICAgIGlmICghc2Vzc2lvbi51c2VyQWdlbnQpIHtcbiAgICAgICAgICAgIHZhciBoZWFkZXJzID0gZXZlbnQucmVxdWVzdCA/IGV2ZW50LnJlcXVlc3QuaGVhZGVycyA6IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LnRvTG93ZXJDYXNlKCkgPT09ICd1c2VyLWFnZW50Jykge1xuICAgICAgICAgICAgICAgICAgICB1c2VyQWdlbnQgPSBoZWFkZXJzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXNzaW9uLnVwZGF0ZShfX2Fzc2lnbihfX2Fzc2lnbih7fSwgKGNyYXNoZWQgJiYgeyBzdGF0dXM6IFNlc3Npb25TdGF0dXMuQ3Jhc2hlZCB9KSksIHsgdXNlcjogdXNlcixcbiAgICAgICAgICAgIHVzZXJBZ2VudDogdXNlckFnZW50LCBlcnJvcnM6IHNlc3Npb24uZXJyb3JzICsgTnVtYmVyKGVycm9yZWQgfHwgY3Jhc2hlZCkgfSkpO1xuICAgICAgICB0aGlzLmNhcHR1cmVTZXNzaW9uKHNlc3Npb24pO1xuICAgIH07XG4gICAgLyoqIERlbGl2ZXIgY2FwdHVyZWQgc2Vzc2lvbiB0byBTZW50cnkgKi9cbiAgICBCYXNlQ2xpZW50LnByb3RvdHlwZS5fc2VuZFNlc3Npb24gPSBmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICB0aGlzLl9nZXRCYWNrZW5kKCkuc2VuZFNlc3Npb24oc2Vzc2lvbik7XG4gICAgfTtcbiAgICAvKiogV2FpdHMgZm9yIHRoZSBjbGllbnQgdG8gYmUgZG9uZSB3aXRoIHByb2Nlc3NpbmcuICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuX2lzQ2xpZW50UHJvY2Vzc2luZyA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBuZXcgU3luY1Byb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIHZhciB0aWNrZWQgPSAwO1xuICAgICAgICAgICAgdmFyIHRpY2sgPSAxO1xuICAgICAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fcHJvY2Vzc2luZyA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGlja2VkICs9IHRpY2s7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aW1lb3V0ICYmIHRpY2tlZCA+PSB0aW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGljayk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgdGhlIGN1cnJlbnQgYmFja2VuZC4gKi9cbiAgICBCYXNlQ2xpZW50LnByb3RvdHlwZS5fZ2V0QmFja2VuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2JhY2tlbmQ7XG4gICAgfTtcbiAgICAvKiogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoaXMgU0RLIGlzIGVuYWJsZWQgYW5kIGEgdmFsaWQgRHNuIGlzIHByZXNlbnQuICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuX2lzRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3B0aW9ucygpLmVuYWJsZWQgIT09IGZhbHNlICYmIHRoaXMuX2RzbiAhPT0gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBjb21tb24gaW5mb3JtYXRpb24gdG8gZXZlbnRzLlxuICAgICAqXG4gICAgICogVGhlIGluZm9ybWF0aW9uIGluY2x1ZGVzIHJlbGVhc2UgYW5kIGVudmlyb25tZW50IGZyb20gYG9wdGlvbnNgLFxuICAgICAqIGJyZWFkY3J1bWJzIGFuZCBjb250ZXh0IChleHRyYSwgdGFncyBhbmQgdXNlcikgZnJvbSB0aGUgc2NvcGUuXG4gICAgICpcbiAgICAgKiBJbmZvcm1hdGlvbiB0aGF0IGlzIGFscmVhZHkgcHJlc2VudCBpbiB0aGUgZXZlbnQgaXMgbmV2ZXIgb3ZlcndyaXR0ZW4uIEZvclxuICAgICAqIG5lc3RlZCBvYmplY3RzLCBzdWNoIGFzIHRoZSBjb250ZXh0LCBrZXlzIGFyZSBtZXJnZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnQgVGhlIG9yaWdpbmFsIGV2ZW50LlxuICAgICAqIEBwYXJhbSBoaW50IE1heSBjb250YWluIGFkZGl0aW9uYWwgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9yaWdpbmFsIGV4Y2VwdGlvbi5cbiAgICAgKiBAcGFyYW0gc2NvcGUgQSBzY29wZSBjb250YWluaW5nIGV2ZW50IG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIEEgbmV3IGV2ZW50IHdpdGggbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKi9cbiAgICBCYXNlQ2xpZW50LnByb3RvdHlwZS5fcHJlcGFyZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBzY29wZSwgaGludCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLmdldE9wdGlvbnMoKS5ub3JtYWxpemVEZXB0aCwgbm9ybWFsaXplRGVwdGggPSBfYSA9PT0gdm9pZCAwID8gMyA6IF9hO1xuICAgICAgICB2YXIgcHJlcGFyZWQgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZXZlbnQpLCB7IGV2ZW50X2lkOiBldmVudC5ldmVudF9pZCB8fCAoaGludCAmJiBoaW50LmV2ZW50X2lkID8gaGludC5ldmVudF9pZCA6IHV1aWQ0KCkpLCB0aW1lc3RhbXA6IGV2ZW50LnRpbWVzdGFtcCB8fCBkYXRlVGltZXN0YW1wSW5TZWNvbmRzKCkgfSk7XG4gICAgICAgIHRoaXMuX2FwcGx5Q2xpZW50T3B0aW9ucyhwcmVwYXJlZCk7XG4gICAgICAgIHRoaXMuX2FwcGx5SW50ZWdyYXRpb25zTWV0YWRhdGEocHJlcGFyZWQpO1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIHNjb3BlIGdpdmVuIHRvIHVzLCB1c2UgaXQgYXMgdGhlIGJhc2UgZm9yIGZ1cnRoZXIgbW9kaWZpY2F0aW9ucy5cbiAgICAgICAgLy8gVGhpcyBhbGxvd3MgdXMgdG8gcHJldmVudCB1bm5lY2Vzc2FyeSBjb3B5aW5nIG9mIGRhdGEgaWYgYGNhcHR1cmVDb250ZXh0YCBpcyBub3QgcHJvdmlkZWQuXG4gICAgICAgIHZhciBmaW5hbFNjb3BlID0gc2NvcGU7XG4gICAgICAgIGlmIChoaW50ICYmIGhpbnQuY2FwdHVyZUNvbnRleHQpIHtcbiAgICAgICAgICAgIGZpbmFsU2NvcGUgPSBTY29wZS5jbG9uZShmaW5hbFNjb3BlKS51cGRhdGUoaGludC5jYXB0dXJlQ29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgcHJlcGFyZSB0aGUgcmVzdWx0IGhlcmUgd2l0aCBhIHJlc29sdmVkIEV2ZW50LlxuICAgICAgICB2YXIgcmVzdWx0ID0gU3luY1Byb21pc2UucmVzb2x2ZShwcmVwYXJlZCk7XG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIGJlIHRoZSBsYXN0IHRoaW5nIGNhbGxlZCwgc2luY2Ugd2Ugd2FudCB0aGF0XG4gICAgICAgIC8vIHtAbGluayBIdWIuYWRkRXZlbnRQcm9jZXNzb3J9IGdldHMgdGhlIGZpbmlzaGVkIHByZXBhcmVkIGV2ZW50LlxuICAgICAgICBpZiAoZmluYWxTY29wZSkge1xuICAgICAgICAgICAgLy8gSW4gY2FzZSB3ZSBoYXZlIGEgaHViIHdlIHJlYXNzaWduIGl0LlxuICAgICAgICAgICAgcmVzdWx0ID0gZmluYWxTY29wZS5hcHBseVRvRXZlbnQocHJlcGFyZWQsIGhpbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQudGhlbihmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG5vcm1hbGl6ZURlcHRoID09PSAnbnVtYmVyJyAmJiBub3JtYWxpemVEZXB0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX25vcm1hbGl6ZUV2ZW50KGV2dCwgbm9ybWFsaXplRGVwdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV2dDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGBub3JtYWxpemVgIGZ1bmN0aW9uIG9uIG5lY2Vzc2FyeSBgRXZlbnRgIGF0dHJpYnV0ZXMgdG8gbWFrZSB0aGVtIHNhZmUgZm9yIHNlcmlhbGl6YXRpb24uXG4gICAgICogTm9ybWFsaXplZCBrZXlzOlxuICAgICAqIC0gYGJyZWFkY3J1bWJzLmRhdGFgXG4gICAgICogLSBgdXNlcmBcbiAgICAgKiAtIGBjb250ZXh0c2BcbiAgICAgKiAtIGBleHRyYWBcbiAgICAgKiBAcGFyYW0gZXZlbnQgRXZlbnRcbiAgICAgKiBAcmV0dXJucyBOb3JtYWxpemVkIGV2ZW50XG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuX25vcm1hbGl6ZUV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBkZXB0aCkge1xuICAgICAgICBpZiAoIWV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbm9ybWFsaXplZCA9IF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LCBldmVudCksIChldmVudC5icmVhZGNydW1icyAmJiB7XG4gICAgICAgICAgICBicmVhZGNydW1iczogZXZlbnQuYnJlYWRjcnVtYnMubWFwKGZ1bmN0aW9uIChiKSB7IHJldHVybiAoX19hc3NpZ24oX19hc3NpZ24oe30sIGIpLCAoYi5kYXRhICYmIHtcbiAgICAgICAgICAgICAgICBkYXRhOiBub3JtYWxpemUoYi5kYXRhLCBkZXB0aCksXG4gICAgICAgICAgICB9KSkpOyB9KSxcbiAgICAgICAgfSkpLCAoZXZlbnQudXNlciAmJiB7XG4gICAgICAgICAgICB1c2VyOiBub3JtYWxpemUoZXZlbnQudXNlciwgZGVwdGgpLFxuICAgICAgICB9KSksIChldmVudC5jb250ZXh0cyAmJiB7XG4gICAgICAgICAgICBjb250ZXh0czogbm9ybWFsaXplKGV2ZW50LmNvbnRleHRzLCBkZXB0aCksXG4gICAgICAgIH0pKSwgKGV2ZW50LmV4dHJhICYmIHtcbiAgICAgICAgICAgIGV4dHJhOiBub3JtYWxpemUoZXZlbnQuZXh0cmEsIGRlcHRoKSxcbiAgICAgICAgfSkpO1xuICAgICAgICAvLyBldmVudC5jb250ZXh0cy50cmFjZSBzdG9yZXMgaW5mb3JtYXRpb24gYWJvdXQgYSBUcmFuc2FjdGlvbi4gU2ltaWxhcmx5LFxuICAgICAgICAvLyBldmVudC5zcGFuc1tdIHN0b3JlcyBpbmZvcm1hdGlvbiBhYm91dCBjaGlsZCBTcGFucy4gR2l2ZW4gdGhhdCBhXG4gICAgICAgIC8vIFRyYW5zYWN0aW9uIGlzIGNvbmNlcHR1YWxseSBhIFNwYW4sIG5vcm1hbGl6YXRpb24gc2hvdWxkIGFwcGx5IHRvIGJvdGhcbiAgICAgICAgLy8gVHJhbnNhY3Rpb25zIGFuZCBTcGFucyBjb25zaXN0ZW50bHkuXG4gICAgICAgIC8vIEZvciBub3cgdGhlIGRlY2lzaW9uIGlzIHRvIHNraXAgbm9ybWFsaXphdGlvbiBvZiBUcmFuc2FjdGlvbnMgYW5kIFNwYW5zLFxuICAgICAgICAvLyBzbyB0aGlzIGJsb2NrIG92ZXJ3cml0ZXMgdGhlIG5vcm1hbGl6ZWQgZXZlbnQgdG8gYWRkIGJhY2sgdGhlIG9yaWdpbmFsXG4gICAgICAgIC8vIFRyYW5zYWN0aW9uIGluZm9ybWF0aW9uIHByaW9yIHRvIG5vcm1hbGl6YXRpb24uXG4gICAgICAgIGlmIChldmVudC5jb250ZXh0cyAmJiBldmVudC5jb250ZXh0cy50cmFjZSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgICAgICAgICAgbm9ybWFsaXplZC5jb250ZXh0cy50cmFjZSA9IGV2ZW50LmNvbnRleHRzLnRyYWNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogIEVuaGFuY2VzIGV2ZW50IHVzaW5nIHRoZSBjbGllbnQgY29uZmlndXJhdGlvbi5cbiAgICAgKiAgSXQgdGFrZXMgY2FyZSBvZiBhbGwgXCJzdGF0aWNcIiB2YWx1ZXMgbGlrZSBlbnZpcm9ubWVudCwgcmVsZWFzZSBhbmQgYGRpc3RgLFxuICAgICAqICBhcyB3ZWxsIGFzIHRydW5jYXRpbmcgb3Zlcmx5IGxvbmcgdmFsdWVzLlxuICAgICAqIEBwYXJhbSBldmVudCBldmVudCBpbnN0YW5jZSB0byBiZSBlbmhhbmNlZFxuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLl9hcHBseUNsaWVudE9wdGlvbnMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKTtcbiAgICAgICAgdmFyIGVudmlyb25tZW50ID0gb3B0aW9ucy5lbnZpcm9ubWVudCwgcmVsZWFzZSA9IG9wdGlvbnMucmVsZWFzZSwgZGlzdCA9IG9wdGlvbnMuZGlzdCwgX2EgPSBvcHRpb25zLm1heFZhbHVlTGVuZ3RoLCBtYXhWYWx1ZUxlbmd0aCA9IF9hID09PSB2b2lkIDAgPyAyNTAgOiBfYTtcbiAgICAgICAgaWYgKCEoJ2Vudmlyb25tZW50JyBpbiBldmVudCkpIHtcbiAgICAgICAgICAgIGV2ZW50LmVudmlyb25tZW50ID0gJ2Vudmlyb25tZW50JyBpbiBvcHRpb25zID8gZW52aXJvbm1lbnQgOiAncHJvZHVjdGlvbic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LnJlbGVhc2UgPT09IHVuZGVmaW5lZCAmJiByZWxlYXNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGV2ZW50LnJlbGVhc2UgPSByZWxlYXNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChldmVudC5kaXN0ID09PSB1bmRlZmluZWQgJiYgZGlzdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBldmVudC5kaXN0ID0gZGlzdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQubWVzc2FnZSkge1xuICAgICAgICAgICAgZXZlbnQubWVzc2FnZSA9IHRydW5jYXRlKGV2ZW50Lm1lc3NhZ2UsIG1heFZhbHVlTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXhjZXB0aW9uID0gZXZlbnQuZXhjZXB0aW9uICYmIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXMgJiYgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXTtcbiAgICAgICAgaWYgKGV4Y2VwdGlvbiAmJiBleGNlcHRpb24udmFsdWUpIHtcbiAgICAgICAgICAgIGV4Y2VwdGlvbi52YWx1ZSA9IHRydW5jYXRlKGV4Y2VwdGlvbi52YWx1ZSwgbWF4VmFsdWVMZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXF1ZXN0ID0gZXZlbnQucmVxdWVzdDtcbiAgICAgICAgaWYgKHJlcXVlc3QgJiYgcmVxdWVzdC51cmwpIHtcbiAgICAgICAgICAgIHJlcXVlc3QudXJsID0gdHJ1bmNhdGUocmVxdWVzdC51cmwsIG1heFZhbHVlTGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBhZGRzIGFsbCB1c2VkIGludGVncmF0aW9ucyB0byB0aGUgU0RLIGluZm8gaW4gdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdGhhdCB3aWxsIGJlIGZpbGxlZCB3aXRoIGFsbCBpbnRlZ3JhdGlvbnMuXG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuX2FwcGx5SW50ZWdyYXRpb25zTWV0YWRhdGEgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHNka0luZm8gPSBldmVudC5zZGs7XG4gICAgICAgIHZhciBpbnRlZ3JhdGlvbnNBcnJheSA9IE9iamVjdC5rZXlzKHRoaXMuX2ludGVncmF0aW9ucyk7XG4gICAgICAgIGlmIChzZGtJbmZvICYmIGludGVncmF0aW9uc0FycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHNka0luZm8uaW50ZWdyYXRpb25zID0gaW50ZWdyYXRpb25zQXJyYXk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRlbGxzIHRoZSBiYWNrZW5kIHRvIHNlbmQgdGhpcyBldmVudFxuICAgICAqIEBwYXJhbSBldmVudCBUaGUgU2VudHJ5IGV2ZW50IHRvIHNlbmRcbiAgICAgKi9cbiAgICBCYXNlQ2xpZW50LnByb3RvdHlwZS5fc2VuZEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuX2dldEJhY2tlbmQoKS5zZW5kRXZlbnQoZXZlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSBldmVudCBhbmQgbG9ncyBhbiBlcnJvciBpbiBjYXNlIG9mIHJlamVjdGlvblxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqIEBwYXJhbSBoaW50XG4gICAgICogQHBhcmFtIHNjb3BlXG4gICAgICovXG4gICAgQmFzZUNsaWVudC5wcm90b3R5cGUuX2NhcHR1cmVFdmVudCA9IGZ1bmN0aW9uIChldmVudCwgaGludCwgc2NvcGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2Nlc3NFdmVudChldmVudCwgaGludCwgc2NvcGUpLnRoZW4oZnVuY3Rpb24gKGZpbmFsRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBmaW5hbEV2ZW50LmV2ZW50X2lkO1xuICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IocmVhc29uKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIGFuIGV2ZW50IChlaXRoZXIgZXJyb3Igb3IgbWVzc2FnZSkgYW5kIHNlbmRzIGl0IHRvIFNlbnRyeS5cbiAgICAgKlxuICAgICAqIFRoaXMgYWxzbyBhZGRzIGJyZWFkY3J1bWJzIGFuZCBjb250ZXh0IGluZm9ybWF0aW9uIHRvIHRoZSBldmVudC4gSG93ZXZlcixcbiAgICAgKiBwbGF0Zm9ybSBzcGVjaWZpYyBtZXRhIGRhdGEgKHN1Y2ggYXMgdGhlIFVzZXIncyBJUCBhZGRyZXNzKSBtdXN0IGJlIGFkZGVkXG4gICAgICogYnkgdGhlIFNESyBpbXBsZW1lbnRvci5cbiAgICAgKlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCB0byBzZW5kIHRvIFNlbnRyeS5cbiAgICAgKiBAcGFyYW0gaGludCBNYXkgY29udGFpbiBhZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBvcmlnaW5hbCBleGNlcHRpb24uXG4gICAgICogQHBhcmFtIHNjb3BlIEEgc2NvcGUgY29udGFpbmluZyBldmVudCBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyBBIFN5bmNQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZXZlbnQgb3IgcmVqZWN0cyBpbiBjYXNlIGV2ZW50IHdhcy93aWxsIG5vdCBiZSBzZW5kLlxuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLl9wcm9jZXNzRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQsIGhpbnQsIHNjb3BlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcbiAgICAgICAgdmFyIF9hID0gdGhpcy5nZXRPcHRpb25zKCksIGJlZm9yZVNlbmQgPSBfYS5iZWZvcmVTZW5kLCBzYW1wbGVSYXRlID0gX2Euc2FtcGxlUmF0ZTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFN5bmNQcm9taXNlLnJlamVjdChuZXcgU2VudHJ5RXJyb3IoJ1NESyBub3QgZW5hYmxlZCwgd2lsbCBub3Qgc2VuZCBldmVudC4nKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGlzVHJhbnNhY3Rpb24gPSBldmVudC50eXBlID09PSAndHJhbnNhY3Rpb24nO1xuICAgICAgICAvLyAxLjAgPT09IDEwMCUgZXZlbnRzIGFyZSBzZW50XG4gICAgICAgIC8vIDAuMCA9PT0gMCUgZXZlbnRzIGFyZSBzZW50XG4gICAgICAgIC8vIFNhbXBsaW5nIGZvciB0cmFuc2FjdGlvbiBoYXBwZW5zIHNvbWV3aGVyZSBlbHNlXG4gICAgICAgIGlmICghaXNUcmFuc2FjdGlvbiAmJiB0eXBlb2Ygc2FtcGxlUmF0ZSA9PT0gJ251bWJlcicgJiYgTWF0aC5yYW5kb20oKSA+IHNhbXBsZVJhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBTeW5jUHJvbWlzZS5yZWplY3QobmV3IFNlbnRyeUVycm9yKFwiRGlzY2FyZGluZyBldmVudCBiZWNhdXNlIGl0J3Mgbm90IGluY2x1ZGVkIGluIHRoZSByYW5kb20gc2FtcGxlIChzYW1wbGluZyByYXRlID0gXCIgKyBzYW1wbGVSYXRlICsgXCIpXCIpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJlcGFyZUV2ZW50KGV2ZW50LCBzY29wZSwgaGludClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChwcmVwYXJlZCkge1xuICAgICAgICAgICAgaWYgKHByZXBhcmVkID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFNlbnRyeUVycm9yKCdBbiBldmVudCBwcm9jZXNzb3IgcmV0dXJuZWQgbnVsbCwgd2lsbCBub3Qgc2VuZCBldmVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpc0ludGVybmFsRXhjZXB0aW9uID0gaGludCAmJiBoaW50LmRhdGEgJiYgaGludC5kYXRhLl9fc2VudHJ5X18gPT09IHRydWU7XG4gICAgICAgICAgICBpZiAoaXNJbnRlcm5hbEV4Y2VwdGlvbiB8fCBpc1RyYW5zYWN0aW9uIHx8ICFiZWZvcmVTZW5kKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXBhcmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGJlZm9yZVNlbmRSZXN1bHQgPSBiZWZvcmVTZW5kKHByZXBhcmVkLCBoaW50KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYmVmb3JlU2VuZFJlc3VsdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU2VudHJ5RXJyb3IoJ2BiZWZvcmVTZW5kYCBtZXRob2QgaGFzIHRvIHJldHVybiBgbnVsbGAgb3IgYSB2YWxpZCBldmVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzVGhlbmFibGUoYmVmb3JlU2VuZFJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYmVmb3JlU2VuZFJlc3VsdC50aGVuKGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gZXZlbnQ7IH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZW50cnlFcnJvcihcImJlZm9yZVNlbmQgcmVqZWN0ZWQgd2l0aCBcIiArIGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJlZm9yZVNlbmRSZXN1bHQ7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocHJvY2Vzc2VkRXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzZWRFdmVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBTZW50cnlFcnJvcignYGJlZm9yZVNlbmRgIHJldHVybmVkIGBudWxsYCwgd2lsbCBub3Qgc2VuZCBldmVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzZXNzaW9uID0gc2NvcGUgJiYgc2NvcGUuZ2V0U2Vzc2lvbiAmJiBzY29wZS5nZXRTZXNzaW9uKCk7XG4gICAgICAgICAgICBpZiAoIWlzVHJhbnNhY3Rpb24gJiYgc2Vzc2lvbikge1xuICAgICAgICAgICAgICAgIF90aGlzLl91cGRhdGVTZXNzaW9uRnJvbUV2ZW50KHNlc3Npb24sIHByb2Nlc3NlZEV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLl9zZW5kRXZlbnQocHJvY2Vzc2VkRXZlbnQpO1xuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NlZEV2ZW50O1xuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgICAgaWYgKHJlYXNvbiBpbnN0YW5jZW9mIFNlbnRyeUVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuY2FwdHVyZUV4Y2VwdGlvbihyZWFzb24sIHtcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIF9fc2VudHJ5X186IHRydWUsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEV4Y2VwdGlvbjogcmVhc29uLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgU2VudHJ5RXJyb3IoXCJFdmVudCBwcm9jZXNzaW5nIHBpcGVsaW5lIHRocmV3IGFuIGVycm9yLCBvcmlnaW5hbCBldmVudCB3aWxsIG5vdCBiZSBzZW50LiBEZXRhaWxzIGhhdmUgYmVlbiBzZW50IGFzIGEgbmV3IGV2ZW50LlxcblJlYXNvbjogXCIgKyByZWFzb24pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE9jY3VwaWVzIHRoZSBjbGllbnQgd2l0aCBwcm9jZXNzaW5nIGFuZCBldmVudFxuICAgICAqL1xuICAgIEJhc2VDbGllbnQucHJvdG90eXBlLl9wcm9jZXNzID0gZnVuY3Rpb24gKHByb21pc2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5fcHJvY2Vzc2luZyArPSAxO1xuICAgICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBfdGhpcy5fcHJvY2Vzc2luZyAtPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICBfdGhpcy5fcHJvY2Vzc2luZyAtPSAxO1xuICAgICAgICAgICAgcmV0dXJuIHJlYXNvbjtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZUNsaWVudDtcbn0oKSk7XG5leHBvcnQgeyBCYXNlQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlY2xpZW50LmpzLm1hcCIsIi8qKiBUaGUgc3RhdHVzIG9mIGFuIGV2ZW50LiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9leHBvcnRcbmV4cG9ydCB2YXIgU3RhdHVzO1xuKGZ1bmN0aW9uIChTdGF0dXMpIHtcbiAgICAvKiogVGhlIHN0YXR1cyBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZC4gKi9cbiAgICBTdGF0dXNbXCJVbmtub3duXCJdID0gXCJ1bmtub3duXCI7XG4gICAgLyoqIFRoZSBldmVudCB3YXMgc2tpcHBlZCBkdWUgdG8gY29uZmlndXJhdGlvbiBvciBjYWxsYmFja3MuICovXG4gICAgU3RhdHVzW1wiU2tpcHBlZFwiXSA9IFwic2tpcHBlZFwiO1xuICAgIC8qKiBUaGUgZXZlbnQgd2FzIHNlbnQgdG8gU2VudHJ5IHN1Y2Nlc3NmdWxseS4gKi9cbiAgICBTdGF0dXNbXCJTdWNjZXNzXCJdID0gXCJzdWNjZXNzXCI7XG4gICAgLyoqIFRoZSBjbGllbnQgaXMgY3VycmVudGx5IHJhdGUgbGltaXRlZCBhbmQgd2lsbCB0cnkgYWdhaW4gbGF0ZXIuICovXG4gICAgU3RhdHVzW1wiUmF0ZUxpbWl0XCJdID0gXCJyYXRlX2xpbWl0XCI7XG4gICAgLyoqIFRoZSBldmVudCBjb3VsZCBub3QgYmUgcHJvY2Vzc2VkLiAqL1xuICAgIFN0YXR1c1tcIkludmFsaWRcIl0gPSBcImludmFsaWRcIjtcbiAgICAvKiogQSBzZXJ2ZXItc2lkZSBlcnJvciBvY3VycmVkIGR1cmluZyBzdWJtaXNzaW9uLiAqL1xuICAgIFN0YXR1c1tcIkZhaWxlZFwiXSA9IFwiZmFpbGVkXCI7XG59KShTdGF0dXMgfHwgKFN0YXR1cyA9IHt9KSk7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5hbWVzcGFjZSwgaW1wb3J0L2V4cG9ydFxuKGZ1bmN0aW9uIChTdGF0dXMpIHtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIEhUVFAgc3RhdHVzIGNvZGUgaW50byBhIHtAbGluayBTdGF0dXN9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGNvZGUgVGhlIEhUVFAgcmVzcG9uc2Ugc3RhdHVzIGNvZGUuXG4gICAgICogQHJldHVybnMgVGhlIHNlbmQgc3RhdHVzIG9yIHtAbGluayBTdGF0dXMuVW5rbm93bn0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUh0dHBDb2RlKGNvZGUpIHtcbiAgICAgICAgaWYgKGNvZGUgPj0gMjAwICYmIGNvZGUgPCAzMDApIHtcbiAgICAgICAgICAgIHJldHVybiBTdGF0dXMuU3VjY2VzcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZSA9PT0gNDI5KSB7XG4gICAgICAgICAgICByZXR1cm4gU3RhdHVzLlJhdGVMaW1pdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZSA+PSA0MDAgJiYgY29kZSA8IDUwMCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0YXR1cy5JbnZhbGlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlID49IDUwMCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0YXR1cy5GYWlsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFN0YXR1cy5Vbmtub3duO1xuICAgIH1cbiAgICBTdGF0dXMuZnJvbUh0dHBDb2RlID0gZnJvbUh0dHBDb2RlO1xufSkoU3RhdHVzIHx8IChTdGF0dXMgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhdHVzLmpzLm1hcCIsImltcG9ydCB7IFN0YXR1cyB9IGZyb20gJ0BzZW50cnkvdHlwZXMnO1xuaW1wb3J0IHsgU3luY1Byb21pc2UgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbi8qKiBOb29wIHRyYW5zcG9ydCAqL1xudmFyIE5vb3BUcmFuc3BvcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9vcFRyYW5zcG9ydCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBOb29wVHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kRXZlbnQgPSBmdW5jdGlvbiAoXykge1xuICAgICAgICByZXR1cm4gU3luY1Byb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICByZWFzb246IFwiTm9vcFRyYW5zcG9ydDogRXZlbnQgaGFzIGJlZW4gc2tpcHBlZCBiZWNhdXNlIG5vIERzbiBpcyBjb25maWd1cmVkLlwiLFxuICAgICAgICAgICAgc3RhdHVzOiBTdGF0dXMuU2tpcHBlZCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIE5vb3BUcmFuc3BvcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKF8pIHtcbiAgICAgICAgcmV0dXJuIFN5bmNQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gTm9vcFRyYW5zcG9ydDtcbn0oKSk7XG5leHBvcnQgeyBOb29wVHJhbnNwb3J0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcCIsIi8qKiBKU0RvYyAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGltcG9ydC9leHBvcnRcbmV4cG9ydCB2YXIgU2V2ZXJpdHk7XG4oZnVuY3Rpb24gKFNldmVyaXR5KSB7XG4gICAgLyoqIEpTRG9jICovXG4gICAgU2V2ZXJpdHlbXCJGYXRhbFwiXSA9IFwiZmF0YWxcIjtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTZXZlcml0eVtcIkVycm9yXCJdID0gXCJlcnJvclwiO1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFNldmVyaXR5W1wiV2FybmluZ1wiXSA9IFwid2FybmluZ1wiO1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFNldmVyaXR5W1wiTG9nXCJdID0gXCJsb2dcIjtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTZXZlcml0eVtcIkluZm9cIl0gPSBcImluZm9cIjtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBTZXZlcml0eVtcIkRlYnVnXCJdID0gXCJkZWJ1Z1wiO1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFNldmVyaXR5W1wiQ3JpdGljYWxcIl0gPSBcImNyaXRpY2FsXCI7XG59KShTZXZlcml0eSB8fCAoU2V2ZXJpdHkgPSB7fSkpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2UsIGltcG9ydC9leHBvcnRcbihmdW5jdGlvbiAoU2V2ZXJpdHkpIHtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIHN0cmluZy1iYXNlZCBsZXZlbCBpbnRvIGEge0BsaW5rIFNldmVyaXR5fS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsZXZlbCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgU2V2ZXJpdHlcbiAgICAgKiBAcmV0dXJucyBTZXZlcml0eVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21TdHJpbmcobGV2ZWwpIHtcbiAgICAgICAgc3dpdGNoIChsZXZlbCkge1xuICAgICAgICAgICAgY2FzZSAnZGVidWcnOlxuICAgICAgICAgICAgICAgIHJldHVybiBTZXZlcml0eS5EZWJ1ZztcbiAgICAgICAgICAgIGNhc2UgJ2luZm8nOlxuICAgICAgICAgICAgICAgIHJldHVybiBTZXZlcml0eS5JbmZvO1xuICAgICAgICAgICAgY2FzZSAnd2Fybic6XG4gICAgICAgICAgICBjYXNlICd3YXJuaW5nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gU2V2ZXJpdHkuV2FybmluZztcbiAgICAgICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gU2V2ZXJpdHkuRXJyb3I7XG4gICAgICAgICAgICBjYXNlICdmYXRhbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNldmVyaXR5LkZhdGFsO1xuICAgICAgICAgICAgY2FzZSAnY3JpdGljYWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBTZXZlcml0eS5Dcml0aWNhbDtcbiAgICAgICAgICAgIGNhc2UgJ2xvZyc6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBTZXZlcml0eS5Mb2c7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU2V2ZXJpdHkuZnJvbVN0cmluZyA9IGZyb21TdHJpbmc7XG59KShTZXZlcml0eSB8fCAoU2V2ZXJpdHkgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2V2ZXJpdHkuanMubWFwIiwiaW1wb3J0IHsgbG9nZ2VyLCBTZW50cnlFcnJvciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgTm9vcFRyYW5zcG9ydCB9IGZyb20gJy4vdHJhbnNwb3J0cy9ub29wJztcbi8qKlxuICogVGhpcyBpcyB0aGUgYmFzZSBpbXBsZW1lbnRpb24gb2YgYSBCYWNrZW5kLlxuICogQGhpZGRlblxuICovXG52YXIgQmFzZUJhY2tlbmQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgYmFja2VuZCBpbnN0YW5jZS4gKi9cbiAgICBmdW5jdGlvbiBCYXNlQmFja2VuZChvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBpZiAoIXRoaXMuX29wdGlvbnMuZHNuKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignTm8gRFNOIHByb3ZpZGVkLCBiYWNrZW5kIHdpbGwgbm90IGRvIGFueXRoaW5nLicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydCA9IHRoaXMuX3NldHVwVHJhbnNwb3J0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbiAgICBCYXNlQmFja2VuZC5wcm90b3R5cGUuZXZlbnRGcm9tRXhjZXB0aW9uID0gZnVuY3Rpb24gKF9leGNlcHRpb24sIF9oaW50KSB7XG4gICAgICAgIHRocm93IG5ldyBTZW50cnlFcnJvcignQmFja2VuZCBoYXMgdG8gaW1wbGVtZW50IGBldmVudEZyb21FeGNlcHRpb25gIG1ldGhvZCcpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBCYXNlQmFja2VuZC5wcm90b3R5cGUuZXZlbnRGcm9tTWVzc2FnZSA9IGZ1bmN0aW9uIChfbWVzc2FnZSwgX2xldmVsLCBfaGludCkge1xuICAgICAgICB0aHJvdyBuZXcgU2VudHJ5RXJyb3IoJ0JhY2tlbmQgaGFzIHRvIGltcGxlbWVudCBgZXZlbnRGcm9tTWVzc2FnZWAgbWV0aG9kJyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJhc2VCYWNrZW5kLnByb3RvdHlwZS5zZW5kRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0LnNlbmRFdmVudChldmVudCkudGhlbihudWxsLCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJFcnJvciB3aGlsZSBzZW5kaW5nIGV2ZW50OiBcIiArIHJlYXNvbik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBCYXNlQmFja2VuZC5wcm90b3R5cGUuc2VuZFNlc3Npb24gPSBmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICBpZiAoIXRoaXMuX3RyYW5zcG9ydC5zZW5kU2Vzc2lvbikge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJEcm9wcGluZyBzZXNzaW9uIGJlY2F1c2UgY3VzdG9tIHRyYW5zcG9ydCBkb2Vzbid0IGltcGxlbWVudCBzZW5kU2Vzc2lvblwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cmFuc3BvcnQuc2VuZFNlc3Npb24oc2Vzc2lvbikudGhlbihudWxsLCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoXCJFcnJvciB3aGlsZSBzZW5kaW5nIHNlc3Npb246IFwiICsgcmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJhc2VCYWNrZW5kLnByb3RvdHlwZS5nZXRUcmFuc3BvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHVwIHRoZSB0cmFuc3BvcnQgc28gaXQgY2FuIGJlIHVzZWQgbGF0ZXIgdG8gc2VuZCByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBCYXNlQmFja2VuZC5wcm90b3R5cGUuX3NldHVwVHJhbnNwb3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IE5vb3BUcmFuc3BvcnQoKTtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlQmFja2VuZDtcbn0oKSk7XG5leHBvcnQgeyBCYXNlQmFja2VuZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZWJhY2tlbmQuanMubWFwIiwiLyoqXG4gKiBUaGlzIHdhcyBvcmlnaW5hbGx5IGZvcmtlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9vY2MvVHJhY2VLaXQsIGJ1dCBoYXMgc2luY2UgYmVlblxuICogbGFyZ2VseSBtb2RpZmllZCBhbmQgaXMgbm93IG1haW50YWluZWQgYXMgcGFydCBvZiBTZW50cnkgSlMgU0RLLlxuICovXG5pbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuLy8gZ2xvYmFsIHJlZmVyZW5jZSB0byBzbGljZVxudmFyIFVOS05PV05fRlVOQ1RJT04gPSAnPyc7XG4vLyBDaHJvbWl1bSBiYXNlZCBicm93c2VyczogQ2hyb21lLCBCcmF2ZSwgbmV3IE9wZXJhLCBuZXcgRWRnZVxudmFyIGNocm9tZSA9IC9eXFxzKmF0ICg/OiguKj8pID9cXCgpPygoPzpmaWxlfGh0dHBzP3xibG9ifGNocm9tZS1leHRlbnNpb258YWRkcmVzc3xuYXRpdmV8ZXZhbHx3ZWJwYWNrfDxhbm9ueW1vdXM+fFstYS16XSs6fC4qYnVuZGxlfFxcLykuKj8pKD86OihcXGQrKSk/KD86OihcXGQrKSk/XFwpP1xccyokL2k7XG4vLyBnZWNrbyByZWdleDogYCg/OmJ1bmRsZXxcXGQrXFwuanMpYDogYGJ1bmRsZWAgaXMgZm9yIHJlYWN0IG5hdGl2ZSwgYFxcZCtcXC5qc2AgYWxzbyBidXQgc3BlY2lmaWNhbGx5IGZvciByYW0gYnVuZGxlcyBiZWNhdXNlIGl0XG4vLyBnZW5lcmF0ZXMgZmlsZW5hbWVzIHdpdGhvdXQgYSBwcmVmaXggbGlrZSBgZmlsZTovL2AgdGhlIGZpbGVuYW1lcyBpbiB0aGUgc3RhY2t0cmFjZSBhcmUganVzdCA0Mi5qc1xuLy8gV2UgbmVlZCB0aGlzIHNwZWNpZmljIGNhc2UgZm9yIG5vdyBiZWNhdXNlIHdlIHdhbnQgbm8gb3RoZXIgcmVnZXggdG8gbWF0Y2guXG52YXIgZ2Vja28gPSAvXlxccyooLio/KSg/OlxcKCguKj8pXFwpKT8oPzpefEApPygoPzpmaWxlfGh0dHBzP3xibG9ifGNocm9tZXx3ZWJwYWNrfHJlc291cmNlfG1vei1leHRlbnNpb258Y2FwYWNpdG9yKS4qPzpcXC8uKj98XFxbbmF0aXZlIGNvZGVcXF18W15AXSooPzpidW5kbGV8XFxkK1xcLmpzKXxcXC9bXFx3XFwtLiAvPV0rKSg/OjooXFxkKykpPyg/OjooXFxkKykpP1xccyokL2k7XG52YXIgd2luanMgPSAvXlxccyphdCAoPzooKD86XFxbb2JqZWN0IG9iamVjdFxcXSk/LispICk/XFwoPygoPzpmaWxlfG1zLWFwcHh8aHR0cHM/fHdlYnBhY2t8YmxvYik6Lio/KTooXFxkKykoPzo6KFxcZCspKT9cXCk/XFxzKiQvaTtcbnZhciBnZWNrb0V2YWwgPSAvKFxcUyspIGxpbmUgKFxcZCspKD86ID4gZXZhbCBsaW5lIFxcZCspKiA+IGV2YWwvaTtcbnZhciBjaHJvbWVFdmFsID0gL1xcKChcXFMqKSg/OjooXFxkKykpKD86OihcXGQrKSlcXCkvO1xuLy8gQmFzZWQgb24gb3VyIG93biBtYXBwaW5nIHBhdHRlcm4gLSBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS9ibG9iLzlmMDgzMDVlMDk4NjZjOGJkNmQwYzI0ZjViMGFhYmRkN2RkNmM1OWMvc3JjL3NlbnRyeS9sYW5nL2phdmFzY3JpcHQvZXJyb3JtYXBwaW5nLnB5I0w4My1MMTA4XG52YXIgcmVhY3RNaW5pZmllZFJlZ2V4cCA9IC9NaW5pZmllZCBSZWFjdCBlcnJvciAjXFxkKzsvaTtcbi8qKiBKU0RvYyAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlU3RhY2tUcmFjZShleCkge1xuICAgIHZhciBzdGFjayA9IG51bGw7XG4gICAgdmFyIHBvcFNpemUgPSAwO1xuICAgIGlmIChleCkge1xuICAgICAgICBpZiAodHlwZW9mIGV4LmZyYW1lc1RvUG9wID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgcG9wU2l6ZSA9IGV4LmZyYW1lc1RvUG9wO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlYWN0TWluaWZpZWRSZWdleHAudGVzdChleC5tZXNzYWdlKSkge1xuICAgICAgICAgICAgcG9wU2l6ZSA9IDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBtdXN0IGJlIHRyaWVkIGZpcnN0IGJlY2F1c2UgT3BlcmEgMTAgKmRlc3Ryb3lzKlxuICAgICAgICAvLyBpdHMgc3RhY2t0cmFjZSBwcm9wZXJ0eSBpZiB5b3UgdHJ5IHRvIGFjY2VzcyB0aGUgc3RhY2tcbiAgICAgICAgLy8gcHJvcGVydHkgZmlyc3QhIVxuICAgICAgICBzdGFjayA9IGNvbXB1dGVTdGFja1RyYWNlRnJvbVN0YWNrdHJhY2VQcm9wKGV4KTtcbiAgICAgICAgaWYgKHN0YWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9wRnJhbWVzKHN0YWNrLCBwb3BTaXplKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBuby1lbXB0eVxuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBzdGFjayA9IGNvbXB1dGVTdGFja1RyYWNlRnJvbVN0YWNrUHJvcChleCk7XG4gICAgICAgIGlmIChzdGFjaykge1xuICAgICAgICAgICAgcmV0dXJuIHBvcEZyYW1lcyhzdGFjaywgcG9wU2l6ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gbm8tZW1wdHlcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbWVzc2FnZTogZXh0cmFjdE1lc3NhZ2UoZXgpLFxuICAgICAgICBuYW1lOiBleCAmJiBleC5uYW1lLFxuICAgICAgICBzdGFjazogW10sXG4gICAgICAgIGZhaWxlZDogdHJ1ZSxcbiAgICB9O1xufVxuLyoqIEpTRG9jICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgY29tcGxleGl0eVxuZnVuY3Rpb24gY29tcHV0ZVN0YWNrVHJhY2VGcm9tU3RhY2tQcm9wKGV4KSB7XG4gICAgaWYgKCFleCB8fCAhZXguc3RhY2spIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBzdGFjayA9IFtdO1xuICAgIHZhciBsaW5lcyA9IGV4LnN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICB2YXIgaXNFdmFsO1xuICAgIHZhciBzdWJtYXRjaDtcbiAgICB2YXIgcGFydHM7XG4gICAgdmFyIGVsZW1lbnQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAoKHBhcnRzID0gY2hyb21lLmV4ZWMobGluZXNbaV0pKSkge1xuICAgICAgICAgICAgdmFyIGlzTmF0aXZlID0gcGFydHNbMl0gJiYgcGFydHNbMl0uaW5kZXhPZignbmF0aXZlJykgPT09IDA7IC8vIHN0YXJ0IG9mIGxpbmVcbiAgICAgICAgICAgIGlzRXZhbCA9IHBhcnRzWzJdICYmIHBhcnRzWzJdLmluZGV4T2YoJ2V2YWwnKSA9PT0gMDsgLy8gc3RhcnQgb2YgbGluZVxuICAgICAgICAgICAgaWYgKGlzRXZhbCAmJiAoc3VibWF0Y2ggPSBjaHJvbWVFdmFsLmV4ZWMocGFydHNbMl0pKSkge1xuICAgICAgICAgICAgICAgIC8vIHRocm93IG91dCBldmFsIGxpbmUvY29sdW1uIGFuZCB1c2UgdG9wLW1vc3QgbGluZS9jb2x1bW4gbnVtYmVyXG4gICAgICAgICAgICAgICAgcGFydHNbMl0gPSBzdWJtYXRjaFsxXTsgLy8gdXJsXG4gICAgICAgICAgICAgICAgcGFydHNbM10gPSBzdWJtYXRjaFsyXTsgLy8gbGluZVxuICAgICAgICAgICAgICAgIHBhcnRzWzRdID0gc3VibWF0Y2hbM107IC8vIGNvbHVtblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudCA9IHtcbiAgICAgICAgICAgICAgICAvLyB3b3JraW5nIHdpdGggdGhlIHJlZ2V4cCBhYm92ZSBpcyBzdXBlciBwYWluZnVsLiBpdCBpcyBxdWl0ZSBhIGhhY2ssIGJ1dCBqdXN0IHN0cmlwcGluZyB0aGUgYGFkZHJlc3MgYXQgYFxuICAgICAgICAgICAgICAgIC8vIHByZWZpeCBoZXJlIHNlZW1zIGxpa2UgdGhlIHF1aWNrZXN0IHNvbHV0aW9uIGZvciBub3cuXG4gICAgICAgICAgICAgICAgdXJsOiBwYXJ0c1syXSAmJiBwYXJ0c1syXS5pbmRleE9mKCdhZGRyZXNzIGF0ICcpID09PSAwID8gcGFydHNbMl0uc3Vic3RyKCdhZGRyZXNzIGF0ICcubGVuZ3RoKSA6IHBhcnRzWzJdLFxuICAgICAgICAgICAgICAgIGZ1bmM6IHBhcnRzWzFdIHx8IFVOS05PV05fRlVOQ1RJT04sXG4gICAgICAgICAgICAgICAgYXJnczogaXNOYXRpdmUgPyBbcGFydHNbMl1dIDogW10sXG4gICAgICAgICAgICAgICAgbGluZTogcGFydHNbM10gPyArcGFydHNbM10gOiBudWxsLFxuICAgICAgICAgICAgICAgIGNvbHVtbjogcGFydHNbNF0gPyArcGFydHNbNF0gOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocGFydHMgPSB3aW5qcy5leGVjKGxpbmVzW2ldKSkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiBwYXJ0c1syXSxcbiAgICAgICAgICAgICAgICBmdW5jOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLFxuICAgICAgICAgICAgICAgIGFyZ3M6IFtdLFxuICAgICAgICAgICAgICAgIGxpbmU6ICtwYXJ0c1szXSxcbiAgICAgICAgICAgICAgICBjb2x1bW46IHBhcnRzWzRdID8gK3BhcnRzWzRdIDogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoKHBhcnRzID0gZ2Vja28uZXhlYyhsaW5lc1tpXSkpKSB7XG4gICAgICAgICAgICBpc0V2YWwgPSBwYXJ0c1szXSAmJiBwYXJ0c1szXS5pbmRleE9mKCcgPiBldmFsJykgPiAtMTtcbiAgICAgICAgICAgIGlmIChpc0V2YWwgJiYgKHN1Ym1hdGNoID0gZ2Vja29FdmFsLmV4ZWMocGFydHNbM10pKSkge1xuICAgICAgICAgICAgICAgIC8vIHRocm93IG91dCBldmFsIGxpbmUvY29sdW1uIGFuZCB1c2UgdG9wLW1vc3QgbGluZSBudW1iZXJcbiAgICAgICAgICAgICAgICBwYXJ0c1sxXSA9IHBhcnRzWzFdIHx8IFwiZXZhbFwiO1xuICAgICAgICAgICAgICAgIHBhcnRzWzNdID0gc3VibWF0Y2hbMV07XG4gICAgICAgICAgICAgICAgcGFydHNbNF0gPSBzdWJtYXRjaFsyXTtcbiAgICAgICAgICAgICAgICBwYXJ0c1s1XSA9ICcnOyAvLyBubyBjb2x1bW4gd2hlbiBldmFsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpID09PSAwICYmICFwYXJ0c1s1XSAmJiBleC5jb2x1bW5OdW1iZXIgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIC8vIEZpcmVGb3ggdXNlcyB0aGlzIGF3ZXNvbWUgY29sdW1uTnVtYmVyIHByb3BlcnR5IGZvciBpdHMgdG9wIGZyYW1lXG4gICAgICAgICAgICAgICAgLy8gQWxzbyBub3RlLCBGaXJlZm94J3MgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkIGFuZCBldmVyeXRoaW5nIGVsc2UgZXhwZWN0cyAxLWJhc2VkLFxuICAgICAgICAgICAgICAgIC8vIHNvIGFkZGluZyAxXG4gICAgICAgICAgICAgICAgLy8gTk9URTogdGhpcyBoYWNrIGRvZXNuJ3Qgd29yayBpZiB0b3AtbW9zdCBmcmFtZSBpcyBldmFsXG4gICAgICAgICAgICAgICAgc3RhY2tbMF0uY29sdW1uID0gZXguY29sdW1uTnVtYmVyICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnQgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiBwYXJ0c1szXSxcbiAgICAgICAgICAgICAgICBmdW5jOiBwYXJ0c1sxXSB8fCBVTktOT1dOX0ZVTkNUSU9OLFxuICAgICAgICAgICAgICAgIGFyZ3M6IHBhcnRzWzJdID8gcGFydHNbMl0uc3BsaXQoJywnKSA6IFtdLFxuICAgICAgICAgICAgICAgIGxpbmU6IHBhcnRzWzRdID8gK3BhcnRzWzRdIDogbnVsbCxcbiAgICAgICAgICAgICAgICBjb2x1bW46IHBhcnRzWzVdID8gK3BhcnRzWzVdIDogbnVsbCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVsZW1lbnQuZnVuYyAmJiBlbGVtZW50LmxpbmUpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuZnVuYyA9IFVOS05PV05fRlVOQ1RJT047XG4gICAgICAgIH1cbiAgICAgICAgc3RhY2sucHVzaChlbGVtZW50KTtcbiAgICB9XG4gICAgaWYgKCFzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IGV4dHJhY3RNZXNzYWdlKGV4KSxcbiAgICAgICAgbmFtZTogZXgubmFtZSxcbiAgICAgICAgc3RhY2s6IHN0YWNrLFxuICAgIH07XG59XG4vKiogSlNEb2MgKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5mdW5jdGlvbiBjb21wdXRlU3RhY2tUcmFjZUZyb21TdGFja3RyYWNlUHJvcChleCkge1xuICAgIGlmICghZXggfHwgIWV4LnN0YWNrdHJhY2UpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIEFjY2VzcyBhbmQgc3RvcmUgdGhlIHN0YWNrdHJhY2UgcHJvcGVydHkgYmVmb3JlIGRvaW5nIEFOWVRISU5HXG4gICAgLy8gZWxzZSB0byBpdCBiZWNhdXNlIE9wZXJhIGlzIG5vdCB2ZXJ5IGdvb2QgYXQgcHJvdmlkaW5nIGl0XG4gICAgLy8gcmVsaWFibHkgaW4gb3RoZXIgY2lyY3Vtc3RhbmNlcy5cbiAgICB2YXIgc3RhY2t0cmFjZSA9IGV4LnN0YWNrdHJhY2U7XG4gICAgdmFyIG9wZXJhMTBSZWdleCA9IC8gbGluZSAoXFxkKykuKnNjcmlwdCAoPzppbiApPyhcXFMrKSg/OjogaW4gZnVuY3Rpb24gKFxcUyspKT8kL2k7XG4gICAgdmFyIG9wZXJhMTFSZWdleCA9IC8gbGluZSAoXFxkKyksIGNvbHVtbiAoXFxkKylcXHMqKD86aW4gKD86PGFub255bW91cyBmdW5jdGlvbjogKFtePl0rKT58KFteKV0rKSlcXCgoLiopXFwpKT8gaW4gKC4qKTpcXHMqJC9pO1xuICAgIHZhciBsaW5lcyA9IHN0YWNrdHJhY2Uuc3BsaXQoJ1xcbicpO1xuICAgIHZhciBzdGFjayA9IFtdO1xuICAgIHZhciBwYXJ0cztcbiAgICBmb3IgKHZhciBsaW5lID0gMDsgbGluZSA8IGxpbmVzLmxlbmd0aDsgbGluZSArPSAyKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gbnVsbDtcbiAgICAgICAgaWYgKChwYXJ0cyA9IG9wZXJhMTBSZWdleC5leGVjKGxpbmVzW2xpbmVdKSkpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiBwYXJ0c1syXSxcbiAgICAgICAgICAgICAgICBmdW5jOiBwYXJ0c1szXSxcbiAgICAgICAgICAgICAgICBhcmdzOiBbXSxcbiAgICAgICAgICAgICAgICBsaW5lOiArcGFydHNbMV0sXG4gICAgICAgICAgICAgICAgY29sdW1uOiBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgocGFydHMgPSBvcGVyYTExUmVnZXguZXhlYyhsaW5lc1tsaW5lXSkpKSB7XG4gICAgICAgICAgICBlbGVtZW50ID0ge1xuICAgICAgICAgICAgICAgIHVybDogcGFydHNbNl0sXG4gICAgICAgICAgICAgICAgZnVuYzogcGFydHNbM10gfHwgcGFydHNbNF0sXG4gICAgICAgICAgICAgICAgYXJnczogcGFydHNbNV0gPyBwYXJ0c1s1XS5zcGxpdCgnLCcpIDogW10sXG4gICAgICAgICAgICAgICAgbGluZTogK3BhcnRzWzFdLFxuICAgICAgICAgICAgICAgIGNvbHVtbjogK3BhcnRzWzJdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKCFlbGVtZW50LmZ1bmMgJiYgZWxlbWVudC5saW5lKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5mdW5jID0gVU5LTk9XTl9GVU5DVElPTjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YWNrLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2U6IGV4dHJhY3RNZXNzYWdlKGV4KSxcbiAgICAgICAgbmFtZTogZXgubmFtZSxcbiAgICAgICAgc3RhY2s6IHN0YWNrLFxuICAgIH07XG59XG4vKiogUmVtb3ZlIE4gbnVtYmVyIG9mIGZyYW1lcyBmcm9tIHRoZSBzdGFjayAqL1xuZnVuY3Rpb24gcG9wRnJhbWVzKHN0YWNrdHJhY2UsIHBvcFNpemUpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sIHN0YWNrdHJhY2UpLCB7IHN0YWNrOiBzdGFja3RyYWNlLnN0YWNrLnNsaWNlKHBvcFNpemUpIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gc3RhY2t0cmFjZTtcbiAgICB9XG59XG4vKipcbiAqIFRoZXJlIGFyZSBjYXNlcyB3aGVyZSBzdGFja3RyYWNlLm1lc3NhZ2UgaXMgYW4gRXZlbnQgb2JqZWN0XG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy8xOTQ5XG4gKiBJbiB0aGlzIHNwZWNpZmljIGNhc2Ugd2UgdHJ5IHRvIGV4dHJhY3Qgc3RhY2t0cmFjZS5tZXNzYWdlLmVycm9yLm1lc3NhZ2VcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIGV4dHJhY3RNZXNzYWdlKGV4KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSBleCAmJiBleC5tZXNzYWdlO1xuICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gJ05vIGVycm9yIG1lc3NhZ2UnO1xuICAgIH1cbiAgICBpZiAobWVzc2FnZS5lcnJvciAmJiB0eXBlb2YgbWVzc2FnZS5lcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbWVzc2FnZS5lcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNla2l0LmpzLm1hcCIsImltcG9ydCB7IGV4dHJhY3RFeGNlcHRpb25LZXlzRm9yTWVzc2FnZSwgaXNFdmVudCwgbm9ybWFsaXplVG9TaXplIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBjb21wdXRlU3RhY2tUcmFjZSB9IGZyb20gJy4vdHJhY2VraXQnO1xudmFyIFNUQUNLVFJBQ0VfTElNSVQgPSA1MDtcbi8qKlxuICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGFuIGV4Y2VwdGlvbiBmcm9tIGFuIFRyYWNlS2l0U3RhY2tUcmFjZVxuICogQHBhcmFtIHN0YWNrdHJhY2UgVHJhY2VLaXRTdGFja1RyYWNlIHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYW4gZXhjZXB0aW9uXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGNlcHRpb25Gcm9tU3RhY2t0cmFjZShzdGFja3RyYWNlKSB7XG4gICAgdmFyIGZyYW1lcyA9IHByZXBhcmVGcmFtZXNGb3JFdmVudChzdGFja3RyYWNlLnN0YWNrKTtcbiAgICB2YXIgZXhjZXB0aW9uID0ge1xuICAgICAgICB0eXBlOiBzdGFja3RyYWNlLm5hbWUsXG4gICAgICAgIHZhbHVlOiBzdGFja3RyYWNlLm1lc3NhZ2UsXG4gICAgfTtcbiAgICBpZiAoZnJhbWVzICYmIGZyYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgZXhjZXB0aW9uLnN0YWNrdHJhY2UgPSB7IGZyYW1lczogZnJhbWVzIH07XG4gICAgfVxuICAgIGlmIChleGNlcHRpb24udHlwZSA9PT0gdW5kZWZpbmVkICYmIGV4Y2VwdGlvbi52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgZXhjZXB0aW9uLnZhbHVlID0gJ1VucmVjb3ZlcmFibGUgZXJyb3IgY2F1Z2h0JztcbiAgICB9XG4gICAgcmV0dXJuIGV4Y2VwdGlvbjtcbn1cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRGcm9tUGxhaW5PYmplY3QoZXhjZXB0aW9uLCBzeW50aGV0aWNFeGNlcHRpb24sIHJlamVjdGlvbikge1xuICAgIHZhciBldmVudCA9IHtcbiAgICAgICAgZXhjZXB0aW9uOiB7XG4gICAgICAgICAgICB2YWx1ZXM6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IGlzRXZlbnQoZXhjZXB0aW9uKSA/IGV4Y2VwdGlvbi5jb25zdHJ1Y3Rvci5uYW1lIDogcmVqZWN0aW9uID8gJ1VuaGFuZGxlZFJlamVjdGlvbicgOiAnRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJOb24tRXJyb3IgXCIgKyAocmVqZWN0aW9uID8gJ3Byb21pc2UgcmVqZWN0aW9uJyA6ICdleGNlcHRpb24nKSArIFwiIGNhcHR1cmVkIHdpdGgga2V5czogXCIgKyBleHRyYWN0RXhjZXB0aW9uS2V5c0Zvck1lc3NhZ2UoZXhjZXB0aW9uKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSxcbiAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgIF9fc2VyaWFsaXplZF9fOiBub3JtYWxpemVUb1NpemUoZXhjZXB0aW9uKSxcbiAgICAgICAgfSxcbiAgICB9O1xuICAgIGlmIChzeW50aGV0aWNFeGNlcHRpb24pIHtcbiAgICAgICAgdmFyIHN0YWNrdHJhY2UgPSBjb21wdXRlU3RhY2tUcmFjZShzeW50aGV0aWNFeGNlcHRpb24pO1xuICAgICAgICB2YXIgZnJhbWVzXzEgPSBwcmVwYXJlRnJhbWVzRm9yRXZlbnQoc3RhY2t0cmFjZS5zdGFjayk7XG4gICAgICAgIGV2ZW50LnN0YWNrdHJhY2UgPSB7XG4gICAgICAgICAgICBmcmFtZXM6IGZyYW1lc18xLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZXZlbnQ7XG59XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50RnJvbVN0YWNrdHJhY2Uoc3RhY2t0cmFjZSkge1xuICAgIHZhciBleGNlcHRpb24gPSBleGNlcHRpb25Gcm9tU3RhY2t0cmFjZShzdGFja3RyYWNlKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBleGNlcHRpb246IHtcbiAgICAgICAgICAgIHZhbHVlczogW2V4Y2VwdGlvbl0sXG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUZyYW1lc0ZvckV2ZW50KHN0YWNrKSB7XG4gICAgaWYgKCFzdGFjayB8fCAhc3RhY2subGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdmFyIGxvY2FsU3RhY2sgPSBzdGFjaztcbiAgICB2YXIgZmlyc3RGcmFtZUZ1bmN0aW9uID0gbG9jYWxTdGFja1swXS5mdW5jIHx8ICcnO1xuICAgIHZhciBsYXN0RnJhbWVGdW5jdGlvbiA9IGxvY2FsU3RhY2tbbG9jYWxTdGFjay5sZW5ndGggLSAxXS5mdW5jIHx8ICcnO1xuICAgIC8vIElmIHN0YWNrIHN0YXJ0cyB3aXRoIG9uZSBvZiBvdXIgQVBJIGNhbGxzLCByZW1vdmUgaXQgKHN0YXJ0cywgbWVhbmluZyBpdCdzIHRoZSB0b3Agb2YgdGhlIHN0YWNrIC0gYWthIGxhc3QgY2FsbClcbiAgICBpZiAoZmlyc3RGcmFtZUZ1bmN0aW9uLmluZGV4T2YoJ2NhcHR1cmVNZXNzYWdlJykgIT09IC0xIHx8IGZpcnN0RnJhbWVGdW5jdGlvbi5pbmRleE9mKCdjYXB0dXJlRXhjZXB0aW9uJykgIT09IC0xKSB7XG4gICAgICAgIGxvY2FsU3RhY2sgPSBsb2NhbFN0YWNrLnNsaWNlKDEpO1xuICAgIH1cbiAgICAvLyBJZiBzdGFjayBlbmRzIHdpdGggb25lIG9mIG91ciBpbnRlcm5hbCBBUEkgY2FsbHMsIHJlbW92ZSBpdCAoZW5kcywgbWVhbmluZyBpdCdzIHRoZSBib3R0b20gb2YgdGhlIHN0YWNrIC0gYWthIHRvcC1tb3N0IGNhbGwpXG4gICAgaWYgKGxhc3RGcmFtZUZ1bmN0aW9uLmluZGV4T2YoJ3NlbnRyeVdyYXBwZWQnKSAhPT0gLTEpIHtcbiAgICAgICAgbG9jYWxTdGFjayA9IGxvY2FsU3RhY2suc2xpY2UoMCwgLTEpO1xuICAgIH1cbiAgICAvLyBUaGUgZnJhbWUgd2hlcmUgdGhlIGNyYXNoIGhhcHBlbmVkLCBzaG91bGQgYmUgdGhlIGxhc3QgZW50cnkgaW4gdGhlIGFycmF5XG4gICAgcmV0dXJuIGxvY2FsU3RhY2tcbiAgICAgICAgLnNsaWNlKDAsIFNUQUNLVFJBQ0VfTElNSVQpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKGZyYW1lKSB7IHJldHVybiAoe1xuICAgICAgICBjb2xubzogZnJhbWUuY29sdW1uID09PSBudWxsID8gdW5kZWZpbmVkIDogZnJhbWUuY29sdW1uLFxuICAgICAgICBmaWxlbmFtZTogZnJhbWUudXJsIHx8IGxvY2FsU3RhY2tbMF0udXJsLFxuICAgICAgICBmdW5jdGlvbjogZnJhbWUuZnVuYyB8fCAnPycsXG4gICAgICAgIGluX2FwcDogdHJ1ZSxcbiAgICAgICAgbGluZW5vOiBmcmFtZS5saW5lID09PSBudWxsID8gdW5kZWZpbmVkIDogZnJhbWUubGluZSxcbiAgICB9KTsgfSlcbiAgICAgICAgLnJldmVyc2UoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnNlcnMuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNldmVyaXR5IH0gZnJvbSAnQHNlbnRyeS90eXBlcyc7XG5pbXBvcnQgeyBhZGRFeGNlcHRpb25NZWNoYW5pc20sIGFkZEV4Y2VwdGlvblR5cGVWYWx1ZSwgaXNET01FcnJvciwgaXNET01FeGNlcHRpb24sIGlzRXJyb3IsIGlzRXJyb3JFdmVudCwgaXNFdmVudCwgaXNQbGFpbk9iamVjdCwgU3luY1Byb21pc2UsIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBldmVudEZyb21QbGFpbk9iamVjdCwgZXZlbnRGcm9tU3RhY2t0cmFjZSwgcHJlcGFyZUZyYW1lc0ZvckV2ZW50IH0gZnJvbSAnLi9wYXJzZXJzJztcbmltcG9ydCB7IGNvbXB1dGVTdGFja1RyYWNlIH0gZnJvbSAnLi90cmFjZWtpdCc7XG4vKipcbiAqIEJ1aWxkcyBhbmQgRXZlbnQgZnJvbSBhIEV4Y2VwdGlvblxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRGcm9tRXhjZXB0aW9uKG9wdGlvbnMsIGV4Y2VwdGlvbiwgaGludCkge1xuICAgIHZhciBzeW50aGV0aWNFeGNlcHRpb24gPSAoaGludCAmJiBoaW50LnN5bnRoZXRpY0V4Y2VwdGlvbikgfHwgdW5kZWZpbmVkO1xuICAgIHZhciBldmVudCA9IGV2ZW50RnJvbVVua25vd25JbnB1dChleGNlcHRpb24sIHN5bnRoZXRpY0V4Y2VwdGlvbiwge1xuICAgICAgICBhdHRhY2hTdGFja3RyYWNlOiBvcHRpb25zLmF0dGFjaFN0YWNrdHJhY2UsXG4gICAgfSk7XG4gICAgYWRkRXhjZXB0aW9uTWVjaGFuaXNtKGV2ZW50LCB7XG4gICAgICAgIGhhbmRsZWQ6IHRydWUsXG4gICAgICAgIHR5cGU6ICdnZW5lcmljJyxcbiAgICB9KTtcbiAgICBldmVudC5sZXZlbCA9IFNldmVyaXR5LkVycm9yO1xuICAgIGlmIChoaW50ICYmIGhpbnQuZXZlbnRfaWQpIHtcbiAgICAgICAgZXZlbnQuZXZlbnRfaWQgPSBoaW50LmV2ZW50X2lkO1xuICAgIH1cbiAgICByZXR1cm4gU3luY1Byb21pc2UucmVzb2x2ZShldmVudCk7XG59XG4vKipcbiAqIEJ1aWxkcyBhbmQgRXZlbnQgZnJvbSBhIE1lc3NhZ2VcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50RnJvbU1lc3NhZ2Uob3B0aW9ucywgbWVzc2FnZSwgbGV2ZWwsIGhpbnQpIHtcbiAgICBpZiAobGV2ZWwgPT09IHZvaWQgMCkgeyBsZXZlbCA9IFNldmVyaXR5LkluZm87IH1cbiAgICB2YXIgc3ludGhldGljRXhjZXB0aW9uID0gKGhpbnQgJiYgaGludC5zeW50aGV0aWNFeGNlcHRpb24pIHx8IHVuZGVmaW5lZDtcbiAgICB2YXIgZXZlbnQgPSBldmVudEZyb21TdHJpbmcobWVzc2FnZSwgc3ludGhldGljRXhjZXB0aW9uLCB7XG4gICAgICAgIGF0dGFjaFN0YWNrdHJhY2U6IG9wdGlvbnMuYXR0YWNoU3RhY2t0cmFjZSxcbiAgICB9KTtcbiAgICBldmVudC5sZXZlbCA9IGxldmVsO1xuICAgIGlmIChoaW50ICYmIGhpbnQuZXZlbnRfaWQpIHtcbiAgICAgICAgZXZlbnQuZXZlbnRfaWQgPSBoaW50LmV2ZW50X2lkO1xuICAgIH1cbiAgICByZXR1cm4gU3luY1Byb21pc2UucmVzb2x2ZShldmVudCk7XG59XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV2ZW50RnJvbVVua25vd25JbnB1dChleGNlcHRpb24sIHN5bnRoZXRpY0V4Y2VwdGlvbiwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIGV2ZW50O1xuICAgIGlmIChpc0Vycm9yRXZlbnQoZXhjZXB0aW9uKSAmJiBleGNlcHRpb24uZXJyb3IpIHtcbiAgICAgICAgLy8gSWYgaXQgaXMgYW4gRXJyb3JFdmVudCB3aXRoIGBlcnJvcmAgcHJvcGVydHksIGV4dHJhY3QgaXQgdG8gZ2V0IGFjdHVhbCBFcnJvclxuICAgICAgICB2YXIgZXJyb3JFdmVudCA9IGV4Y2VwdGlvbjtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgIGV4Y2VwdGlvbiA9IGVycm9yRXZlbnQuZXJyb3I7XG4gICAgICAgIGV2ZW50ID0gZXZlbnRGcm9tU3RhY2t0cmFjZShjb21wdXRlU3RhY2tUcmFjZShleGNlcHRpb24pKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cbiAgICBpZiAoaXNET01FcnJvcihleGNlcHRpb24pIHx8IGlzRE9NRXhjZXB0aW9uKGV4Y2VwdGlvbikpIHtcbiAgICAgICAgLy8gSWYgaXQgaXMgYSBET01FcnJvciBvciBET01FeGNlcHRpb24gKHdoaWNoIGFyZSBsZWdhY3kgQVBJcywgYnV0IHN0aWxsIHN1cHBvcnRlZCBpbiBzb21lIGJyb3dzZXJzKVxuICAgICAgICAvLyB0aGVuIHdlIGp1c3QgZXh0cmFjdCB0aGUgbmFtZSwgY29kZSwgYW5kIG1lc3NhZ2UsIGFzIHRoZXkgZG9uJ3QgcHJvdmlkZSBhbnl0aGluZyBlbHNlXG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9ET01FcnJvclxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRE9NRXhjZXB0aW9uXG4gICAgICAgIHZhciBkb21FeGNlcHRpb24gPSBleGNlcHRpb247XG4gICAgICAgIHZhciBuYW1lXzEgPSBkb21FeGNlcHRpb24ubmFtZSB8fCAoaXNET01FcnJvcihkb21FeGNlcHRpb24pID8gJ0RPTUVycm9yJyA6ICdET01FeGNlcHRpb24nKTtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBkb21FeGNlcHRpb24ubWVzc2FnZSA/IG5hbWVfMSArIFwiOiBcIiArIGRvbUV4Y2VwdGlvbi5tZXNzYWdlIDogbmFtZV8xO1xuICAgICAgICBldmVudCA9IGV2ZW50RnJvbVN0cmluZyhtZXNzYWdlLCBzeW50aGV0aWNFeGNlcHRpb24sIG9wdGlvbnMpO1xuICAgICAgICBhZGRFeGNlcHRpb25UeXBlVmFsdWUoZXZlbnQsIG1lc3NhZ2UpO1xuICAgICAgICBpZiAoJ2NvZGUnIGluIGRvbUV4Y2VwdGlvbikge1xuICAgICAgICAgICAgZXZlbnQudGFncyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBldmVudC50YWdzKSwgeyAnRE9NRXhjZXB0aW9uLmNvZGUnOiBcIlwiICsgZG9tRXhjZXB0aW9uLmNvZGUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH1cbiAgICBpZiAoaXNFcnJvcihleGNlcHRpb24pKSB7XG4gICAgICAgIC8vIHdlIGhhdmUgYSByZWFsIEVycm9yIG9iamVjdCwgZG8gbm90aGluZ1xuICAgICAgICBldmVudCA9IGV2ZW50RnJvbVN0YWNrdHJhY2UoY29tcHV0ZVN0YWNrVHJhY2UoZXhjZXB0aW9uKSk7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG4gICAgaWYgKGlzUGxhaW5PYmplY3QoZXhjZXB0aW9uKSB8fCBpc0V2ZW50KGV4Y2VwdGlvbikpIHtcbiAgICAgICAgLy8gSWYgaXQgaXMgcGxhaW4gT2JqZWN0IG9yIEV2ZW50LCBzZXJpYWxpemUgaXQgbWFudWFsbHkgYW5kIGV4dHJhY3Qgb3B0aW9uc1xuICAgICAgICAvLyBUaGlzIHdpbGwgYWxsb3cgdXMgdG8gZ3JvdXAgZXZlbnRzIGJhc2VkIG9uIHRvcC1sZXZlbCBrZXlzXG4gICAgICAgIC8vIHdoaWNoIGlzIG11Y2ggYmV0dGVyIHRoYW4gY3JlYXRpbmcgbmV3IGdyb3VwIHdoZW4gYW55IGtleS92YWx1ZSBjaGFuZ2VcbiAgICAgICAgdmFyIG9iamVjdEV4Y2VwdGlvbiA9IGV4Y2VwdGlvbjtcbiAgICAgICAgZXZlbnQgPSBldmVudEZyb21QbGFpbk9iamVjdChvYmplY3RFeGNlcHRpb24sIHN5bnRoZXRpY0V4Y2VwdGlvbiwgb3B0aW9ucy5yZWplY3Rpb24pO1xuICAgICAgICBhZGRFeGNlcHRpb25NZWNoYW5pc20oZXZlbnQsIHtcbiAgICAgICAgICAgIHN5bnRoZXRpYzogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBldmVudDtcbiAgICB9XG4gICAgLy8gSWYgbm9uZSBvZiBwcmV2aW91cyBjaGVja3Mgd2VyZSB2YWxpZCwgdGhlbiBpdCBtZWFucyB0aGF0IGl0J3Mgbm90OlxuICAgIC8vIC0gYW4gaW5zdGFuY2Ugb2YgRE9NRXJyb3JcbiAgICAvLyAtIGFuIGluc3RhbmNlIG9mIERPTUV4Y2VwdGlvblxuICAgIC8vIC0gYW4gaW5zdGFuY2Ugb2YgRXZlbnRcbiAgICAvLyAtIGFuIGluc3RhbmNlIG9mIEVycm9yXG4gICAgLy8gLSBhIHZhbGlkIEVycm9yRXZlbnQgKG9uZSB3aXRoIGFuIGVycm9yIHByb3BlcnR5KVxuICAgIC8vIC0gYSBwbGFpbiBPYmplY3RcbiAgICAvL1xuICAgIC8vIFNvIGJhaWwgb3V0IGFuZCBjYXB0dXJlIGl0IGFzIGEgc2ltcGxlIG1lc3NhZ2U6XG4gICAgZXZlbnQgPSBldmVudEZyb21TdHJpbmcoZXhjZXB0aW9uLCBzeW50aGV0aWNFeGNlcHRpb24sIG9wdGlvbnMpO1xuICAgIGFkZEV4Y2VwdGlvblR5cGVWYWx1ZShldmVudCwgXCJcIiArIGV4Y2VwdGlvbiwgdW5kZWZpbmVkKTtcbiAgICBhZGRFeGNlcHRpb25NZWNoYW5pc20oZXZlbnQsIHtcbiAgICAgICAgc3ludGhldGljOiB0cnVlLFxuICAgIH0pO1xuICAgIHJldHVybiBldmVudDtcbn1cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gZXZlbnRGcm9tU3RyaW5nKGlucHV0LCBzeW50aGV0aWNFeGNlcHRpb24sIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIHZhciBldmVudCA9IHtcbiAgICAgICAgbWVzc2FnZTogaW5wdXQsXG4gICAgfTtcbiAgICBpZiAob3B0aW9ucy5hdHRhY2hTdGFja3RyYWNlICYmIHN5bnRoZXRpY0V4Y2VwdGlvbikge1xuICAgICAgICB2YXIgc3RhY2t0cmFjZSA9IGNvbXB1dGVTdGFja1RyYWNlKHN5bnRoZXRpY0V4Y2VwdGlvbik7XG4gICAgICAgIHZhciBmcmFtZXNfMSA9IHByZXBhcmVGcmFtZXNGb3JFdmVudChzdGFja3RyYWNlLnN0YWNrKTtcbiAgICAgICAgZXZlbnQuc3RhY2t0cmFjZSA9IHtcbiAgICAgICAgICAgIGZyYW1lczogZnJhbWVzXzEsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBldmVudDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV2ZW50YnVpbGRlci5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiwgX19yZWFkLCBfX3Jlc3QsIF9fc3ByZWFkIH0gZnJvbSBcInRzbGliXCI7XG4vKiogRXh0cmFjdCBzZGsgaW5mbyBmcm9tIGZyb20gdGhlIEFQSSBtZXRhZGF0YSAqL1xuZnVuY3Rpb24gZ2V0U2RrTWV0YWRhdGFGb3JFbnZlbG9wZUhlYWRlcihhcGkpIHtcbiAgICBpZiAoIWFwaS5tZXRhZGF0YSB8fCAhYXBpLm1ldGFkYXRhLnNkaykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBfYSA9IGFwaS5tZXRhZGF0YS5zZGssIG5hbWUgPSBfYS5uYW1lLCB2ZXJzaW9uID0gX2EudmVyc2lvbjtcbiAgICByZXR1cm4geyBuYW1lOiBuYW1lLCB2ZXJzaW9uOiB2ZXJzaW9uIH07XG59XG4vKipcbiAqIEFwcGx5IFNka0luZm8gKG5hbWUsIHZlcnNpb24sIHBhY2thZ2VzLCBpbnRlZ3JhdGlvbnMpIHRvIHRoZSBjb3JyZXNwb25kaW5nIGV2ZW50IGtleS5cbiAqIE1lcmdlIHdpdGggZXhpc3RpbmcgZGF0YSBpZiBhbnkuXG4gKiovXG5mdW5jdGlvbiBlbmhhbmNlRXZlbnRXaXRoU2RrSW5mbyhldmVudCwgc2RrSW5mbykge1xuICAgIGlmICghc2RrSW5mbykge1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfVxuICAgIGV2ZW50LnNkayA9IGV2ZW50LnNkayB8fCB7XG4gICAgICAgIG5hbWU6IHNka0luZm8ubmFtZSxcbiAgICAgICAgdmVyc2lvbjogc2RrSW5mby52ZXJzaW9uLFxuICAgIH07XG4gICAgZXZlbnQuc2RrLm5hbWUgPSBldmVudC5zZGsubmFtZSB8fCBzZGtJbmZvLm5hbWU7XG4gICAgZXZlbnQuc2RrLnZlcnNpb24gPSBldmVudC5zZGsudmVyc2lvbiB8fCBzZGtJbmZvLnZlcnNpb247XG4gICAgZXZlbnQuc2RrLmludGVncmF0aW9ucyA9IF9fc3ByZWFkKChldmVudC5zZGsuaW50ZWdyYXRpb25zIHx8IFtdKSwgKHNka0luZm8uaW50ZWdyYXRpb25zIHx8IFtdKSk7XG4gICAgZXZlbnQuc2RrLnBhY2thZ2VzID0gX19zcHJlYWQoKGV2ZW50LnNkay5wYWNrYWdlcyB8fCBbXSksIChzZGtJbmZvLnBhY2thZ2VzIHx8IFtdKSk7XG4gICAgcmV0dXJuIGV2ZW50O1xufVxuLyoqIENyZWF0ZXMgYSBTZW50cnlSZXF1ZXN0IGZyb20gYW4gZXZlbnQuICovXG5leHBvcnQgZnVuY3Rpb24gc2Vzc2lvblRvU2VudHJ5UmVxdWVzdChzZXNzaW9uLCBhcGkpIHtcbiAgICB2YXIgc2RrSW5mbyA9IGdldFNka01ldGFkYXRhRm9yRW52ZWxvcGVIZWFkZXIoYXBpKTtcbiAgICB2YXIgZW52ZWxvcGVIZWFkZXJzID0gSlNPTi5zdHJpbmdpZnkoX19hc3NpZ24oeyBzZW50X2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSwgKHNka0luZm8gJiYgeyBzZGs6IHNka0luZm8gfSkpKTtcbiAgICB2YXIgaXRlbUhlYWRlcnMgPSBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHR5cGU6ICdzZXNzaW9uJyxcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBib2R5OiBlbnZlbG9wZUhlYWRlcnMgKyBcIlxcblwiICsgaXRlbUhlYWRlcnMgKyBcIlxcblwiICsgSlNPTi5zdHJpbmdpZnkoc2Vzc2lvbiksXG4gICAgICAgIHR5cGU6ICdzZXNzaW9uJyxcbiAgICAgICAgdXJsOiBhcGkuZ2V0RW52ZWxvcGVFbmRwb2ludFdpdGhVcmxFbmNvZGVkQXV0aCgpLFxuICAgIH07XG59XG4vKiogQ3JlYXRlcyBhIFNlbnRyeVJlcXVlc3QgZnJvbSBhbiBldmVudC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBldmVudFRvU2VudHJ5UmVxdWVzdChldmVudCwgYXBpKSB7XG4gICAgdmFyIHNka0luZm8gPSBnZXRTZGtNZXRhZGF0YUZvckVudmVsb3BlSGVhZGVyKGFwaSk7XG4gICAgdmFyIGV2ZW50VHlwZSA9IGV2ZW50LnR5cGUgfHwgJ2V2ZW50JztcbiAgICB2YXIgdXNlRW52ZWxvcGUgPSBldmVudFR5cGUgPT09ICd0cmFuc2FjdGlvbic7XG4gICAgdmFyIF9hID0gZXZlbnQuZGVidWdfbWV0YSB8fCB7fSwgdHJhbnNhY3Rpb25TYW1wbGluZyA9IF9hLnRyYW5zYWN0aW9uU2FtcGxpbmcsIG1ldGFkYXRhID0gX19yZXN0KF9hLCBbXCJ0cmFuc2FjdGlvblNhbXBsaW5nXCJdKTtcbiAgICB2YXIgX2IgPSB0cmFuc2FjdGlvblNhbXBsaW5nIHx8IHt9LCBzYW1wbGluZ01ldGhvZCA9IF9iLm1ldGhvZCwgc2FtcGxlUmF0ZSA9IF9iLnJhdGU7XG4gICAgaWYgKE9iamVjdC5rZXlzKG1ldGFkYXRhKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIGV2ZW50LmRlYnVnX21ldGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBldmVudC5kZWJ1Z19tZXRhID0gbWV0YWRhdGE7XG4gICAgfVxuICAgIHZhciByZXEgPSB7XG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNka0luZm8gPyBlbmhhbmNlRXZlbnRXaXRoU2RrSW5mbyhldmVudCwgYXBpLm1ldGFkYXRhLnNkaykgOiBldmVudCksXG4gICAgICAgIHR5cGU6IGV2ZW50VHlwZSxcbiAgICAgICAgdXJsOiB1c2VFbnZlbG9wZSA/IGFwaS5nZXRFbnZlbG9wZUVuZHBvaW50V2l0aFVybEVuY29kZWRBdXRoKCkgOiBhcGkuZ2V0U3RvcmVFbmRwb2ludFdpdGhVcmxFbmNvZGVkQXV0aCgpLFxuICAgIH07XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wLnNlbnRyeS5kZXYvc2RrL2VudmVsb3Blcy9cbiAgICAvLyBTaW5jZSB3ZSBkb24ndCBuZWVkIHRvIG1hbmlwdWxhdGUgZW52ZWxvcGVzIG5vciBzdG9yZSB0aGVtLCB0aGVyZSBpcyBub1xuICAgIC8vIGV4cG9ydGVkIGNvbmNlcHQgb2YgYW4gRW52ZWxvcGUgd2l0aCBvcGVyYXRpb25zIGluY2x1ZGluZyBzZXJpYWxpemF0aW9uIGFuZFxuICAgIC8vIGRlc2VyaWFsaXphdGlvbi4gSW5zdGVhZCwgd2Ugb25seSBpbXBsZW1lbnQgYSBtaW5pbWFsIHN1YnNldCBvZiB0aGUgc3BlYyB0b1xuICAgIC8vIHNlcmlhbGl6ZSBldmVudHMgaW5saW5lIGhlcmUuXG4gICAgaWYgKHVzZUVudmVsb3BlKSB7XG4gICAgICAgIHZhciBlbnZlbG9wZUhlYWRlcnMgPSBKU09OLnN0cmluZ2lmeShfX2Fzc2lnbih7IGV2ZW50X2lkOiBldmVudC5ldmVudF9pZCwgc2VudF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0sIChzZGtJbmZvICYmIHsgc2RrOiBzZGtJbmZvIH0pKSk7XG4gICAgICAgIHZhciBpdGVtSGVhZGVycyA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIHR5cGU6IGV2ZW50LnR5cGUsXG4gICAgICAgICAgICAvLyBUT0RPOiBSaWdodCBub3csIHNhbXBsZVJhdGUgbWF5IG9yIG1heSBub3QgYmUgZGVmaW5lZCAoaXQgd29uJ3QgYmUgaW4gdGhlIGNhc2VzIG9mIGluaGVyaXRhbmNlIGFuZFxuICAgICAgICAgICAgLy8gZXhwbGljaXRseS1zZXQgc2FtcGxpbmcgZGVjaXNpb25zKS4gQXJlIHdlIGdvb2Qgd2l0aCB0aGF0P1xuICAgICAgICAgICAgc2FtcGxlX3JhdGVzOiBbeyBpZDogc2FtcGxpbmdNZXRob2QsIHJhdGU6IHNhbXBsZVJhdGUgfV0sXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBUaGUgdHJhaWxpbmcgbmV3bGluZSBpcyBvcHRpb25hbC4gV2UgaW50ZW50aW9uYWxseSBkb24ndCBzZW5kIGl0IHRvIGF2b2lkXG4gICAgICAgIC8vIHNlbmRpbmcgdW5uZWNlc3NhcnkgYnl0ZXMuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIGNvbnN0IGVudmVsb3BlID0gYCR7ZW52ZWxvcGVIZWFkZXJzfVxcbiR7aXRlbUhlYWRlcnN9XFxuJHtyZXEuYm9keX1cXG5gO1xuICAgICAgICB2YXIgZW52ZWxvcGUgPSBlbnZlbG9wZUhlYWRlcnMgKyBcIlxcblwiICsgaXRlbUhlYWRlcnMgKyBcIlxcblwiICsgcmVxLmJvZHk7XG4gICAgICAgIHJlcS5ib2R5ID0gZW52ZWxvcGU7XG4gICAgfVxuICAgIHJldHVybiByZXE7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0LmpzLm1hcCIsImltcG9ydCB7IERzbiwgdXJsRW5jb2RlIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG52YXIgU0VOVFJZX0FQSV9WRVJTSU9OID0gJzcnO1xuLyoqXG4gKiBIZWxwZXIgY2xhc3MgdG8gcHJvdmlkZSB1cmxzLCBoZWFkZXJzIGFuZCBtZXRhZGF0YSB0aGF0IGNhbiBiZSB1c2VkIHRvIGZvcm1cbiAqIGRpZmZlcmVudCB0eXBlcyBvZiByZXF1ZXN0cyB0byBTZW50cnkgZW5kcG9pbnRzLlxuICogU3VwcG9ydHMgYm90aCBlbnZlbG9wZXMgYW5kIHJlZ3VsYXIgZXZlbnQgcmVxdWVzdHMuXG4gKiovXG52YXIgQVBJID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBDcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgQVBJICovXG4gICAgZnVuY3Rpb24gQVBJKGRzbiwgbWV0YWRhdGEpIHtcbiAgICAgICAgaWYgKG1ldGFkYXRhID09PSB2b2lkIDApIHsgbWV0YWRhdGEgPSB7fTsgfVxuICAgICAgICB0aGlzLmRzbiA9IGRzbjtcbiAgICAgICAgdGhpcy5fZHNuT2JqZWN0ID0gbmV3IERzbihkc24pO1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSBEc24gb2JqZWN0LiAqL1xuICAgIEFQSS5wcm90b3R5cGUuZ2V0RHNuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHNuT2JqZWN0O1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgdGhlIHByZWZpeCB0byBjb25zdHJ1Y3QgU2VudHJ5IGluZ2VzdGlvbiBBUEkgZW5kcG9pbnRzLiAqL1xuICAgIEFQSS5wcm90b3R5cGUuZ2V0QmFzZUFwaUVuZHBvaW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZHNuID0gdGhpcy5fZHNuT2JqZWN0O1xuICAgICAgICB2YXIgcHJvdG9jb2wgPSBkc24ucHJvdG9jb2wgPyBkc24ucHJvdG9jb2wgKyBcIjpcIiA6ICcnO1xuICAgICAgICB2YXIgcG9ydCA9IGRzbi5wb3J0ID8gXCI6XCIgKyBkc24ucG9ydCA6ICcnO1xuICAgICAgICByZXR1cm4gcHJvdG9jb2wgKyBcIi8vXCIgKyBkc24uaG9zdCArIHBvcnQgKyAoZHNuLnBhdGggPyBcIi9cIiArIGRzbi5wYXRoIDogJycpICsgXCIvYXBpL1wiO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgdGhlIHN0b3JlIGVuZHBvaW50IFVSTC4gKi9cbiAgICBBUEkucHJvdG90eXBlLmdldFN0b3JlRW5kcG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRJbmdlc3RFbmRwb2ludCgnc3RvcmUnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN0b3JlIGVuZHBvaW50IFVSTCB3aXRoIGF1dGggaW4gdGhlIHF1ZXJ5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIFNlbmRpbmcgYXV0aCBhcyBwYXJ0IG9mIHRoZSBxdWVyeSBzdHJpbmcgYW5kIG5vdCBhcyBjdXN0b20gSFRUUCBoZWFkZXJzIGF2b2lkcyBDT1JTIHByZWZsaWdodCByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBBUEkucHJvdG90eXBlLmdldFN0b3JlRW5kcG9pbnRXaXRoVXJsRW5jb2RlZEF1dGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFN0b3JlRW5kcG9pbnQoKSArIFwiP1wiICsgdGhpcy5fZW5jb2RlZEF1dGgoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGVudmVsb3BlIGVuZHBvaW50IFVSTCB3aXRoIGF1dGggaW4gdGhlIHF1ZXJ5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIFNlbmRpbmcgYXV0aCBhcyBwYXJ0IG9mIHRoZSBxdWVyeSBzdHJpbmcgYW5kIG5vdCBhcyBjdXN0b20gSFRUUCBoZWFkZXJzIGF2b2lkcyBDT1JTIHByZWZsaWdodCByZXF1ZXN0cy5cbiAgICAgKi9cbiAgICBBUEkucHJvdG90eXBlLmdldEVudmVsb3BlRW5kcG9pbnRXaXRoVXJsRW5jb2RlZEF1dGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRFbnZlbG9wZUVuZHBvaW50KCkgKyBcIj9cIiArIHRoaXMuX2VuY29kZWRBdXRoKCk7XG4gICAgfTtcbiAgICAvKiogUmV0dXJucyBvbmx5IHRoZSBwYXRoIGNvbXBvbmVudCBmb3IgdGhlIHN0b3JlIGVuZHBvaW50LiAqL1xuICAgIEFQSS5wcm90b3R5cGUuZ2V0U3RvcmVFbmRwb2ludFBhdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkc24gPSB0aGlzLl9kc25PYmplY3Q7XG4gICAgICAgIHJldHVybiAoZHNuLnBhdGggPyBcIi9cIiArIGRzbi5wYXRoIDogJycpICsgXCIvYXBpL1wiICsgZHNuLnByb2plY3RJZCArIFwiL3N0b3JlL1wiO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCBpbiByZXF1ZXN0IGhlYWRlcnMuXG4gICAgICogVGhpcyBpcyBuZWVkZWQgZm9yIG5vZGUgYW5kIHRoZSBvbGQgL3N0b3JlIGVuZHBvaW50IGluIHNlbnRyeVxuICAgICAqL1xuICAgIEFQSS5wcm90b3R5cGUuZ2V0UmVxdWVzdEhlYWRlcnMgPSBmdW5jdGlvbiAoY2xpZW50TmFtZSwgY2xpZW50VmVyc2lvbikge1xuICAgICAgICAvLyBDSEFOR0UgVEhJUyB0byB1c2UgbWV0YWRhdGEgYnV0IGtlZXAgY2xpZW50TmFtZSBhbmQgY2xpZW50VmVyc2lvbiBjb21wYXRpYmxlXG4gICAgICAgIHZhciBkc24gPSB0aGlzLl9kc25PYmplY3Q7XG4gICAgICAgIHZhciBoZWFkZXIgPSBbXCJTZW50cnkgc2VudHJ5X3ZlcnNpb249XCIgKyBTRU5UUllfQVBJX1ZFUlNJT05dO1xuICAgICAgICBoZWFkZXIucHVzaChcInNlbnRyeV9jbGllbnQ9XCIgKyBjbGllbnROYW1lICsgXCIvXCIgKyBjbGllbnRWZXJzaW9uKTtcbiAgICAgICAgaGVhZGVyLnB1c2goXCJzZW50cnlfa2V5PVwiICsgZHNuLnB1YmxpY0tleSk7XG4gICAgICAgIGlmIChkc24ucGFzcykge1xuICAgICAgICAgICAgaGVhZGVyLnB1c2goXCJzZW50cnlfc2VjcmV0PVwiICsgZHNuLnBhc3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgJ1gtU2VudHJ5LUF1dGgnOiBoZWFkZXIuam9pbignLCAnKSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRoZSB1cmwgdG8gdGhlIHJlcG9ydCBkaWFsb2cgZW5kcG9pbnQuICovXG4gICAgQVBJLnByb3RvdHlwZS5nZXRSZXBvcnREaWFsb2dFbmRwb2ludCA9IGZ1bmN0aW9uIChkaWFsb2dPcHRpb25zKSB7XG4gICAgICAgIGlmIChkaWFsb2dPcHRpb25zID09PSB2b2lkIDApIHsgZGlhbG9nT3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHZhciBkc24gPSB0aGlzLl9kc25PYmplY3Q7XG4gICAgICAgIHZhciBlbmRwb2ludCA9IHRoaXMuZ2V0QmFzZUFwaUVuZHBvaW50KCkgKyBcImVtYmVkL2Vycm9yLXBhZ2UvXCI7XG4gICAgICAgIHZhciBlbmNvZGVkT3B0aW9ucyA9IFtdO1xuICAgICAgICBlbmNvZGVkT3B0aW9ucy5wdXNoKFwiZHNuPVwiICsgZHNuLnRvU3RyaW5nKCkpO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZGlhbG9nT3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ2RzbicpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXkgPT09ICd1c2VyJykge1xuICAgICAgICAgICAgICAgIGlmICghZGlhbG9nT3B0aW9ucy51c2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGlhbG9nT3B0aW9ucy51c2VyLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5jb2RlZE9wdGlvbnMucHVzaChcIm5hbWU9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZGlhbG9nT3B0aW9ucy51c2VyLm5hbWUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRpYWxvZ09wdGlvbnMudXNlci5lbWFpbCkge1xuICAgICAgICAgICAgICAgICAgICBlbmNvZGVkT3B0aW9ucy5wdXNoKFwiZW1haWw9XCIgKyBlbmNvZGVVUklDb21wb25lbnQoZGlhbG9nT3B0aW9ucy51c2VyLmVtYWlsKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZW5jb2RlZE9wdGlvbnMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGRpYWxvZ09wdGlvbnNba2V5XSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbmNvZGVkT3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmRwb2ludCArIFwiP1wiICsgZW5jb2RlZE9wdGlvbnMuam9pbignJicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbmRwb2ludDtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIHRoZSBlbnZlbG9wZSBlbmRwb2ludCBVUkwuICovXG4gICAgQVBJLnByb3RvdHlwZS5fZ2V0RW52ZWxvcGVFbmRwb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldEluZ2VzdEVuZHBvaW50KCdlbnZlbG9wZScpO1xuICAgIH07XG4gICAgLyoqIFJldHVybnMgdGhlIGluZ2VzdCBBUEkgZW5kcG9pbnQgZm9yIHRhcmdldC4gKi9cbiAgICBBUEkucHJvdG90eXBlLl9nZXRJbmdlc3RFbmRwb2ludCA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgICAgdmFyIGJhc2UgPSB0aGlzLmdldEJhc2VBcGlFbmRwb2ludCgpO1xuICAgICAgICB2YXIgZHNuID0gdGhpcy5fZHNuT2JqZWN0O1xuICAgICAgICByZXR1cm4gXCJcIiArIGJhc2UgKyBkc24ucHJvamVjdElkICsgXCIvXCIgKyB0YXJnZXQgKyBcIi9cIjtcbiAgICB9O1xuICAgIC8qKiBSZXR1cm5zIGEgVVJMLWVuY29kZWQgc3RyaW5nIHdpdGggYXV0aCBjb25maWcgc3VpdGFibGUgZm9yIGEgcXVlcnkgc3RyaW5nLiAqL1xuICAgIEFQSS5wcm90b3R5cGUuX2VuY29kZWRBdXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZHNuID0gdGhpcy5fZHNuT2JqZWN0O1xuICAgICAgICB2YXIgYXV0aCA9IHtcbiAgICAgICAgICAgIC8vIFdlIHNlbmQgb25seSB0aGUgbWluaW11bSBzZXQgb2YgcmVxdWlyZWQgaW5mb3JtYXRpb24uIFNlZVxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9pc3N1ZXMvMjU3Mi5cbiAgICAgICAgICAgIHNlbnRyeV9rZXk6IGRzbi5wdWJsaWNLZXksXG4gICAgICAgICAgICBzZW50cnlfdmVyc2lvbjogU0VOVFJZX0FQSV9WRVJTSU9OLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdXJsRW5jb2RlKGF1dGgpO1xuICAgIH07XG4gICAgcmV0dXJuIEFQSTtcbn0oKSk7XG5leHBvcnQgeyBBUEkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwaS5qcy5tYXAiLCJpbXBvcnQgeyBTZW50cnlFcnJvciB9IGZyb20gJy4vZXJyb3InO1xuaW1wb3J0IHsgU3luY1Byb21pc2UgfSBmcm9tICcuL3N5bmNwcm9taXNlJztcbi8qKiBBIHNpbXBsZSBxdWV1ZSB0aGF0IGhvbGRzIHByb21pc2VzLiAqL1xudmFyIFByb21pc2VCdWZmZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJvbWlzZUJ1ZmZlcihfbGltaXQpIHtcbiAgICAgICAgdGhpcy5fbGltaXQgPSBfbGltaXQ7XG4gICAgICAgIC8qKiBJbnRlcm5hbCBzZXQgb2YgcXVldWVkIFByb21pc2VzICovXG4gICAgICAgIHRoaXMuX2J1ZmZlciA9IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYXlzIGlmIHRoZSBidWZmZXIgaXMgcmVhZHkgdG8gdGFrZSBtb3JlIHJlcXVlc3RzXG4gICAgICovXG4gICAgUHJvbWlzZUJ1ZmZlci5wcm90b3R5cGUuaXNSZWFkeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbWl0ID09PSB1bmRlZmluZWQgfHwgdGhpcy5sZW5ndGgoKSA8IHRoaXMuX2xpbWl0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGEgcHJvbWlzZSB0byB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFzayBDYW4gYmUgYW55IFByb21pc2VMaWtlPFQ+XG4gICAgICogQHJldHVybnMgVGhlIG9yaWdpbmFsIHByb21pc2UuXG4gICAgICovXG4gICAgUHJvbWlzZUJ1ZmZlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmlzUmVhZHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFN5bmNQcm9taXNlLnJlamVjdChuZXcgU2VudHJ5RXJyb3IoJ05vdCBhZGRpbmcgUHJvbWlzZSBkdWUgdG8gYnVmZmVyIGxpbWl0IHJlYWNoZWQuJykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9idWZmZXIuaW5kZXhPZih0YXNrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlci5wdXNoKHRhc2spO1xuICAgICAgICB9XG4gICAgICAgIHRhc2tcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnJlbW92ZSh0YXNrKTsgfSlcbiAgICAgICAgICAgIC50aGVuKG51bGwsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZW1vdmUodGFzaykudGhlbihudWxsLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0byBhZGQgdGhpcyBjYXRjaCBoZXJlIG90aGVyd2lzZSB3ZSBoYXZlIGFuIHVuaGFuZGxlZFByb21pc2VSZWplY3Rpb25cbiAgICAgICAgICAgICAgICAvLyBiZWNhdXNlIGl0J3MgYSBuZXcgUHJvbWlzZSBjaGFpbi5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRhc2s7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYSBwcm9taXNlIHRvIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0YXNrIENhbiBiZSBhbnkgUHJvbWlzZUxpa2U8VD5cbiAgICAgKiBAcmV0dXJucyBSZW1vdmVkIHByb21pc2UuXG4gICAgICovXG4gICAgUHJvbWlzZUJ1ZmZlci5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgdmFyIHJlbW92ZWRUYXNrID0gdGhpcy5fYnVmZmVyLnNwbGljZSh0aGlzLl9idWZmZXIuaW5kZXhPZih0YXNrKSwgMSlbMF07XG4gICAgICAgIHJldHVybiByZW1vdmVkVGFzaztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgbnVtYmVyIG9mIHVucmVzb2x2ZWQgcHJvbWlzZXMgaW4gdGhlIHF1ZXVlLlxuICAgICAqL1xuICAgIFByb21pc2VCdWZmZXIucHJvdG90eXBlLmxlbmd0aCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J1ZmZlci5sZW5ndGg7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIHdpbGwgZHJhaW4gdGhlIHdob2xlIHF1ZXVlLCByZXR1cm5zIHRydWUgaWYgcXVldWUgaXMgZW1wdHkgb3IgZHJhaW5lZC5cbiAgICAgKiBJZiB0aW1lb3V0IGlzIHByb3ZpZGVkIGFuZCB0aGUgcXVldWUgdGFrZXMgbG9uZ2VyIHRvIGRyYWluLCB0aGUgcHJvbWlzZSBzdGlsbCByZXNvbHZlcyBidXQgd2l0aCBmYWxzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aW1lb3V0IE51bWJlciBpbiBtcyB0byB3YWl0IHVudGlsIGl0IHJlc29sdmVzIHdpdGggZmFsc2UuXG4gICAgICovXG4gICAgUHJvbWlzZUJ1ZmZlci5wcm90b3R5cGUuZHJhaW4gPSBmdW5jdGlvbiAodGltZW91dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gbmV3IFN5bmNQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICB2YXIgY2FwdHVyZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWVvdXQgJiYgdGltZW91dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICBTeW5jUHJvbWlzZS5hbGwoX3RoaXMuX2J1ZmZlcilcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNhcHR1cmVkU2V0VGltZW91dCk7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRoZW4obnVsbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gUHJvbWlzZUJ1ZmZlcjtcbn0oKSk7XG5leHBvcnQgeyBQcm9taXNlQnVmZmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9taXNlYnVmZmVyLmpzLm1hcCIsImltcG9ydCB7IF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBUEkgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgU3RhdHVzLCB9IGZyb20gJ0BzZW50cnkvdHlwZXMnO1xuaW1wb3J0IHsgbG9nZ2VyLCBwYXJzZVJldHJ5QWZ0ZXJIZWFkZXIsIFByb21pc2VCdWZmZXIsIFNlbnRyeUVycm9yIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG4vKiogQmFzZSBUcmFuc3BvcnQgY2xhc3MgaW1wbGVtZW50YXRpb24gKi9cbnZhciBCYXNlVHJhbnNwb3J0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJhc2VUcmFuc3BvcnQob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAvKiogQSBzaW1wbGUgYnVmZmVyIGhvbGRpbmcgYWxsIHJlcXVlc3RzLiAqL1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBuZXcgUHJvbWlzZUJ1ZmZlcigzMCk7XG4gICAgICAgIC8qKiBMb2NrcyB0cmFuc3BvcnQgYWZ0ZXIgcmVjZWl2aW5nIHJhdGUgbGltaXRzIGluIGEgcmVzcG9uc2UgKi9cbiAgICAgICAgdGhpcy5fcmF0ZUxpbWl0cyA9IHt9O1xuICAgICAgICB0aGlzLl9hcGkgPSBuZXcgQVBJKG9wdGlvbnMuZHNuLCBvcHRpb25zLl9tZXRhZGF0YSk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICB0aGlzLnVybCA9IHRoaXMuX2FwaS5nZXRTdG9yZUVuZHBvaW50V2l0aFVybEVuY29kZWRBdXRoKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQmFzZVRyYW5zcG9ydC5wcm90b3R5cGUuc2VuZEV2ZW50ID0gZnVuY3Rpb24gKF8pIHtcbiAgICAgICAgdGhyb3cgbmV3IFNlbnRyeUVycm9yKCdUcmFuc3BvcnQgQ2xhc3MgaGFzIHRvIGltcGxlbWVudCBgc2VuZEV2ZW50YCBtZXRob2QnKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQmFzZVRyYW5zcG9ydC5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAodGltZW91dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmRyYWluKHRpbWVvdXQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSGFuZGxlIFNlbnRyeSByZXBzb25zZSBmb3IgcHJvbWlzZS1iYXNlZCB0cmFuc3BvcnRzLlxuICAgICAqL1xuICAgIEJhc2VUcmFuc3BvcnQucHJvdG90eXBlLl9oYW5kbGVSZXNwb25zZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgcmVxdWVzdFR5cGUgPSBfYS5yZXF1ZXN0VHlwZSwgcmVzcG9uc2UgPSBfYS5yZXNwb25zZSwgaGVhZGVycyA9IF9hLmhlYWRlcnMsIHJlc29sdmUgPSBfYS5yZXNvbHZlLCByZWplY3QgPSBfYS5yZWplY3Q7XG4gICAgICAgIHZhciBzdGF0dXMgPSBTdGF0dXMuZnJvbUh0dHBDb2RlKHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBcIlRoZSBuYW1lIGlzIGNhc2UtaW5zZW5zaXRpdmUuXCJcbiAgICAgICAgICogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hlYWRlcnMvZ2V0XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgbGltaXRlZCA9IHRoaXMuX2hhbmRsZVJhdGVMaW1pdChoZWFkZXJzKTtcbiAgICAgICAgaWYgKGxpbWl0ZWQpXG4gICAgICAgICAgICBsb2dnZXIud2FybihcIlRvbyBtYW55IHJlcXVlc3RzLCBiYWNraW5nIG9mZiB1bnRpbDogXCIgKyB0aGlzLl9kaXNhYmxlZFVudGlsKHJlcXVlc3RUeXBlKSk7XG4gICAgICAgIGlmIChzdGF0dXMgPT09IFN0YXR1cy5TdWNjZXNzKSB7XG4gICAgICAgICAgICByZXNvbHZlKHsgc3RhdHVzOiBzdGF0dXMgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVqZWN0KHJlc3BvbnNlKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRpbWUgdGhhdCBnaXZlbiBjYXRlZ29yeSBpcyBkaXNhYmxlZCB1bnRpbCBmb3IgcmF0ZSBsaW1pdGluZ1xuICAgICAqL1xuICAgIEJhc2VUcmFuc3BvcnQucHJvdG90eXBlLl9kaXNhYmxlZFVudGlsID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yYXRlTGltaXRzW2NhdGVnb3J5XSB8fCB0aGlzLl9yYXRlTGltaXRzLmFsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGNhdGVnb3J5IGlzIHJhdGUgbGltaXRlZFxuICAgICAqL1xuICAgIEJhc2VUcmFuc3BvcnQucHJvdG90eXBlLl9pc1JhdGVMaW1pdGVkID0gZnVuY3Rpb24gKGNhdGVnb3J5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNhYmxlZFVudGlsKGNhdGVnb3J5KSA+IG5ldyBEYXRlKERhdGUubm93KCkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyBpbnRlcm5hbCBfcmF0ZUxpbWl0cyBmcm9tIGluY29taW5nIGhlYWRlcnMuIFJldHVybnMgdHJ1ZSBpZiBoZWFkZXJzIGNvbnRhaW5zIGEgbm9uLWVtcHR5IHJhdGUgbGltaXRpbmcgaGVhZGVyLlxuICAgICAqL1xuICAgIEJhc2VUcmFuc3BvcnQucHJvdG90eXBlLl9oYW5kbGVSYXRlTGltaXQgPSBmdW5jdGlvbiAoaGVhZGVycykge1xuICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjtcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHZhciBybEhlYWRlciA9IGhlYWRlcnNbJ3gtc2VudHJ5LXJhdGUtbGltaXRzJ107XG4gICAgICAgIHZhciByYUhlYWRlciA9IGhlYWRlcnNbJ3JldHJ5LWFmdGVyJ107XG4gICAgICAgIGlmIChybEhlYWRlcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyByYXRlIGxpbWl0IGhlYWRlcnMgYXJlIG9mIHRoZSBmb3JtXG4gICAgICAgICAgICAgICAgLy8gICAgIDxoZWFkZXI+LDxoZWFkZXI+LC4uXG4gICAgICAgICAgICAgICAgLy8gd2hlcmUgZWFjaCA8aGVhZGVyPiBpcyBvZiB0aGUgZm9ybVxuICAgICAgICAgICAgICAgIC8vICAgICA8cmV0cnlfYWZ0ZXI+OiA8Y2F0ZWdvcmllcz46IDxzY29wZT46IDxyZWFzb25fY29kZT5cbiAgICAgICAgICAgICAgICAvLyB3aGVyZVxuICAgICAgICAgICAgICAgIC8vICAgICA8cmV0cnlfYWZ0ZXI+IGlzIGEgZGVsYXkgaW4gbXNcbiAgICAgICAgICAgICAgICAvLyAgICAgPGNhdGVnb3JpZXM+IGlzIHRoZSBldmVudCB0eXBlKHMpIChlcnJvciwgdHJhbnNhY3Rpb24sIGV0YykgYmVpbmcgcmF0ZSBsaW1pdGVkIGFuZCBpcyBvZiB0aGUgZm9ybVxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgPGNhdGVnb3J5Pjs8Y2F0ZWdvcnk+Oy4uLlxuICAgICAgICAgICAgICAgIC8vICAgICA8c2NvcGU+IGlzIHdoYXQncyBiZWluZyBsaW1pdGVkIChvcmcsIHByb2plY3QsIG9yIGtleSkgLSBpZ25vcmVkIGJ5IFNES1xuICAgICAgICAgICAgICAgIC8vICAgICA8cmVhc29uX2NvZGU+IGlzIGFuIGFyYml0cmFyeSBzdHJpbmcgbGlrZSBcIm9yZ19xdW90YVwiIC0gaWdub3JlZCBieSBTREtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYyA9IF9fdmFsdWVzKHJsSGVhZGVyLnRyaW0oKS5zcGxpdCgnLCcpKSwgX2QgPSBfYy5uZXh0KCk7ICFfZC5kb25lOyBfZCA9IF9jLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGltaXQgPSBfZC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBsaW1pdC5zcGxpdCgnOicsIDIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGVyRGVsYXkgPSBwYXJzZUludChwYXJhbWV0ZXJzWzBdLCAxMCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWxheSA9ICghaXNOYU4oaGVhZGVyRGVsYXkpID8gaGVhZGVyRGVsYXkgOiA2MCkgKiAxMDAwOyAvLyA2MHNlYyBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZSA9IChlXzIgPSB2b2lkIDAsIF9fdmFsdWVzKHBhcmFtZXRlcnNbMV0uc3BsaXQoJzsnKSkpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gX2YudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmF0ZUxpbWl0c1tjYXRlZ29yeSB8fCAnYWxsJ10gPSBuZXcgRGF0ZShub3cgKyBkZWxheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZiAmJiAhX2YuZG9uZSAmJiAoX2IgPSBfZS5yZXR1cm4pKSBfYi5jYWxsKF9lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhSGVhZGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9yYXRlTGltaXRzLmFsbCA9IG5ldyBEYXRlKG5vdyArIHBhcnNlUmV0cnlBZnRlckhlYWRlcihub3csIHJhSGVhZGVyKSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gQmFzZVRyYW5zcG9ydDtcbn0oKSk7XG5leHBvcnQgeyBCYXNlVHJhbnNwb3J0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXNlLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZXZlbnRUb1NlbnRyeVJlcXVlc3QsIHNlc3Npb25Ub1NlbnRyeVJlcXVlc3QgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsT2JqZWN0LCBzdXBwb3J0c1JlZmVycmVyUG9saWN5LCBTeW5jUHJvbWlzZSB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgQmFzZVRyYW5zcG9ydCB9IGZyb20gJy4vYmFzZSc7XG52YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4vKiogYGZldGNoYCBiYXNlZCB0cmFuc3BvcnQgKi9cbnZhciBGZXRjaFRyYW5zcG9ydCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoRmV0Y2hUcmFuc3BvcnQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRmV0Y2hUcmFuc3BvcnQoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBGZXRjaFRyYW5zcG9ydC5wcm90b3R5cGUuc2VuZEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kUmVxdWVzdChldmVudFRvU2VudHJ5UmVxdWVzdChldmVudCwgdGhpcy5fYXBpKSwgZXZlbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBGZXRjaFRyYW5zcG9ydC5wcm90b3R5cGUuc2VuZFNlc3Npb24gPSBmdW5jdGlvbiAoc2Vzc2lvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZFJlcXVlc3Qoc2Vzc2lvblRvU2VudHJ5UmVxdWVzdChzZXNzaW9uLCB0aGlzLl9hcGkpLCBzZXNzaW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzZW50cnlSZXF1ZXN0IFByZXBhcmVkIFNlbnRyeVJlcXVlc3QgdG8gYmUgZGVsaXZlcmVkXG4gICAgICogQHBhcmFtIG9yaWdpbmFsUGF5bG9hZCBPcmlnaW5hbCBwYXlsb2FkIHVzZWQgdG8gY3JlYXRlIFNlbnRyeVJlcXVlc3RcbiAgICAgKi9cbiAgICBGZXRjaFRyYW5zcG9ydC5wcm90b3R5cGUuX3NlbmRSZXF1ZXN0ID0gZnVuY3Rpb24gKHNlbnRyeVJlcXVlc3QsIG9yaWdpbmFsUGF5bG9hZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5faXNSYXRlTGltaXRlZChzZW50cnlSZXF1ZXN0LnR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe1xuICAgICAgICAgICAgICAgIGV2ZW50OiBvcmlnaW5hbFBheWxvYWQsXG4gICAgICAgICAgICAgICAgdHlwZTogc2VudHJ5UmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogXCJUcmFuc3BvcnQgbG9ja2VkIHRpbGwgXCIgKyB0aGlzLl9kaXNhYmxlZFVudGlsKHNlbnRyeVJlcXVlc3QudHlwZSkgKyBcIiBkdWUgdG8gdG9vIG1hbnkgcmVxdWVzdHMuXCIsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiA0MjksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGJvZHk6IHNlbnRyeVJlcXVlc3QuYm9keSxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgLy8gRGVzcGl0ZSBhbGwgc3RhcnMgaW4gdGhlIHNreSBzYXlpbmcgdGhhdCBFZGdlIHN1cHBvcnRzIG9sZCBkcmFmdCBzeW50YXgsIGFrYSAnbmV2ZXInLCAnYWx3YXlzJywgJ29yaWdpbicgYW5kICdkZWZhdWx0XG4gICAgICAgICAgICAvLyBodHRwczovL2Nhbml1c2UuY29tLyNmZWF0PXJlZmVycmVyLXBvbGljeVxuICAgICAgICAgICAgLy8gSXQgZG9lc24ndC4gQW5kIGl0IHRocm93IGV4Y2VwdGlvbiBpbnN0ZWFkIG9mIGlnbm9yaW5nIHRoaXMgcGFyYW1ldGVyLi4uXG4gICAgICAgICAgICAvLyBSRUY6IGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvcmF2ZW4tanMvaXNzdWVzLzEyMzNcbiAgICAgICAgICAgIHJlZmVycmVyUG9saWN5OiAoc3VwcG9ydHNSZWZlcnJlclBvbGljeSgpID8gJ29yaWdpbicgOiAnJyksXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZmV0Y2hQYXJhbWV0ZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24ob3B0aW9ucywgdGhpcy5vcHRpb25zLmZldGNoUGFyYW1ldGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5oZWFkZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVycyA9IHRoaXMub3B0aW9ucy5oZWFkZXJzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9idWZmZXIuYWRkKG5ldyBTeW5jUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBnbG9iYWxcbiAgICAgICAgICAgICAgICAuZmV0Y2goc2VudHJ5UmVxdWVzdC51cmwsIG9wdGlvbnMpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICd4LXNlbnRyeS1yYXRlLWxpbWl0cyc6IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdYLVNlbnRyeS1SYXRlLUxpbWl0cycpLFxuICAgICAgICAgICAgICAgICAgICAncmV0cnktYWZ0ZXInOiByZXNwb25zZS5oZWFkZXJzLmdldCgnUmV0cnktQWZ0ZXInKSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzLl9oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RUeXBlOiBzZW50cnlSZXF1ZXN0LnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiByZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0OiByZWplY3QsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChyZWplY3QpO1xuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gRmV0Y2hUcmFuc3BvcnQ7XG59KEJhc2VUcmFuc3BvcnQpKTtcbmV4cG9ydCB7IEZldGNoVHJhbnNwb3J0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mZXRjaC5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGV2ZW50VG9TZW50cnlSZXF1ZXN0LCBzZXNzaW9uVG9TZW50cnlSZXF1ZXN0IH0gZnJvbSAnQHNlbnRyeS9jb3JlJztcbmltcG9ydCB7IFN5bmNQcm9taXNlIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBCYXNlVHJhbnNwb3J0IH0gZnJvbSAnLi9iYXNlJztcbi8qKiBgWEhSYCBiYXNlZCB0cmFuc3BvcnQgKi9cbnZhciBYSFJUcmFuc3BvcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFhIUlRyYW5zcG9ydCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBYSFJUcmFuc3BvcnQoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBYSFJUcmFuc3BvcnQucHJvdG90eXBlLnNlbmRFdmVudCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VuZFJlcXVlc3QoZXZlbnRUb1NlbnRyeVJlcXVlc3QoZXZlbnQsIHRoaXMuX2FwaSksIGV2ZW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgWEhSVHJhbnNwb3J0LnByb3RvdHlwZS5zZW5kU2Vzc2lvbiA9IGZ1bmN0aW9uIChzZXNzaW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZW5kUmVxdWVzdChzZXNzaW9uVG9TZW50cnlSZXF1ZXN0KHNlc3Npb24sIHRoaXMuX2FwaSksIHNlc3Npb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNlbnRyeVJlcXVlc3QgUHJlcGFyZWQgU2VudHJ5UmVxdWVzdCB0byBiZSBkZWxpdmVyZWRcbiAgICAgKiBAcGFyYW0gb3JpZ2luYWxQYXlsb2FkIE9yaWdpbmFsIHBheWxvYWQgdXNlZCB0byBjcmVhdGUgU2VudHJ5UmVxdWVzdFxuICAgICAqL1xuICAgIFhIUlRyYW5zcG9ydC5wcm90b3R5cGUuX3NlbmRSZXF1ZXN0ID0gZnVuY3Rpb24gKHNlbnRyeVJlcXVlc3QsIG9yaWdpbmFsUGF5bG9hZCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5faXNSYXRlTGltaXRlZChzZW50cnlSZXF1ZXN0LnR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe1xuICAgICAgICAgICAgICAgIGV2ZW50OiBvcmlnaW5hbFBheWxvYWQsXG4gICAgICAgICAgICAgICAgdHlwZTogc2VudHJ5UmVxdWVzdC50eXBlLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogXCJUcmFuc3BvcnQgbG9ja2VkIHRpbGwgXCIgKyB0aGlzLl9kaXNhYmxlZFVudGlsKHNlbnRyeVJlcXVlc3QudHlwZSkgKyBcIiBkdWUgdG8gdG9vIG1hbnkgcmVxdWVzdHMuXCIsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiA0MjksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYnVmZmVyLmFkZChuZXcgU3luY1Byb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgIHJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAneC1zZW50cnktcmF0ZS1saW1pdHMnOiByZXF1ZXN0LmdldFJlc3BvbnNlSGVhZGVyKCdYLVNlbnRyeS1SYXRlLUxpbWl0cycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3JldHJ5LWFmdGVyJzogcmVxdWVzdC5nZXRSZXNwb25zZUhlYWRlcignUmV0cnktQWZ0ZXInKSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2hhbmRsZVJlc3BvbnNlKHsgcmVxdWVzdFR5cGU6IHNlbnRyeVJlcXVlc3QudHlwZSwgcmVzcG9uc2U6IHJlcXVlc3QsIGhlYWRlcnM6IGhlYWRlcnMsIHJlc29sdmU6IHJlc29sdmUsIHJlamVjdDogcmVqZWN0IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCBzZW50cnlSZXF1ZXN0LnVybCk7XG4gICAgICAgICAgICBmb3IgKHZhciBoZWFkZXIgaW4gX3RoaXMub3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShoZWFkZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihoZWFkZXIsIF90aGlzLm9wdGlvbnMuaGVhZGVyc1toZWFkZXJdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXF1ZXN0LnNlbmQoc2VudHJ5UmVxdWVzdC5ib2R5KTtcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIFhIUlRyYW5zcG9ydDtcbn0oQmFzZVRyYW5zcG9ydCkpO1xuZXhwb3J0IHsgWEhSVHJhbnNwb3J0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD14aHIuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgQmFzZUJhY2tlbmQgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgU2V2ZXJpdHkgfSBmcm9tICdAc2VudHJ5L3R5cGVzJztcbmltcG9ydCB7IHN1cHBvcnRzRmV0Y2ggfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IGV2ZW50RnJvbUV4Y2VwdGlvbiwgZXZlbnRGcm9tTWVzc2FnZSB9IGZyb20gJy4vZXZlbnRidWlsZGVyJztcbmltcG9ydCB7IEZldGNoVHJhbnNwb3J0LCBYSFJUcmFuc3BvcnQgfSBmcm9tICcuL3RyYW5zcG9ydHMnO1xuLyoqXG4gKiBUaGUgU2VudHJ5IEJyb3dzZXIgU0RLIEJhY2tlbmQuXG4gKiBAaGlkZGVuXG4gKi9cbnZhciBCcm93c2VyQmFja2VuZCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnJvd3NlckJhY2tlbmQsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQnJvd3NlckJhY2tlbmQoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBCcm93c2VyQmFja2VuZC5wcm90b3R5cGUuZXZlbnRGcm9tRXhjZXB0aW9uID0gZnVuY3Rpb24gKGV4Y2VwdGlvbiwgaGludCkge1xuICAgICAgICByZXR1cm4gZXZlbnRGcm9tRXhjZXB0aW9uKHRoaXMuX29wdGlvbnMsIGV4Y2VwdGlvbiwgaGludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJyb3dzZXJCYWNrZW5kLnByb3RvdHlwZS5ldmVudEZyb21NZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGxldmVsLCBoaW50KSB7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gdm9pZCAwKSB7IGxldmVsID0gU2V2ZXJpdHkuSW5mbzsgfVxuICAgICAgICByZXR1cm4gZXZlbnRGcm9tTWVzc2FnZSh0aGlzLl9vcHRpb25zLCBtZXNzYWdlLCBsZXZlbCwgaGludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJyb3dzZXJCYWNrZW5kLnByb3RvdHlwZS5fc2V0dXBUcmFuc3BvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5kc24pIHtcbiAgICAgICAgICAgIC8vIFdlIHJldHVybiB0aGUgbm9vcCB0cmFuc3BvcnQgaGVyZSBpbiBjYXNlIHRoZXJlIGlzIG5vIERzbi5cbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl9zZXR1cFRyYW5zcG9ydC5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmFuc3BvcnRPcHRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX29wdGlvbnMudHJhbnNwb3J0T3B0aW9ucyksIHsgZHNuOiB0aGlzLl9vcHRpb25zLmRzbiwgX21ldGFkYXRhOiB0aGlzLl9vcHRpb25zLl9tZXRhZGF0YSB9KTtcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMudHJhbnNwb3J0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IHRoaXMuX29wdGlvbnMudHJhbnNwb3J0KHRyYW5zcG9ydE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdXBwb3J0c0ZldGNoKCkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmV0Y2hUcmFuc3BvcnQodHJhbnNwb3J0T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBYSFJUcmFuc3BvcnQodHJhbnNwb3J0T3B0aW9ucyk7XG4gICAgfTtcbiAgICByZXR1cm4gQnJvd3NlckJhY2tlbmQ7XG59KEJhc2VCYWNrZW5kKSk7XG5leHBvcnQgeyBCcm93c2VyQmFja2VuZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFja2VuZC5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiwgX19yZWFkLCBfX3NwcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZ2V0Q3VycmVudEh1YiB9IGZyb20gJ0BzZW50cnkvaHViJztcbi8qKlxuICogVGhpcyBjYWxscyBhIGZ1bmN0aW9uIG9uIHRoZSBjdXJyZW50IGh1Yi5cbiAqIEBwYXJhbSBtZXRob2QgZnVuY3Rpb24gdG8gY2FsbCBvbiBodWIuXG4gKiBAcGFyYW0gYXJncyB0byBwYXNzIHRvIGZ1bmN0aW9uLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gY2FsbE9uSHViKG1ldGhvZCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIGh1YiA9IGdldEN1cnJlbnRIdWIoKTtcbiAgICBpZiAoaHViICYmIGh1YlttZXRob2RdKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHJldHVybiBodWJbbWV0aG9kXS5hcHBseShodWIsIF9fc3ByZWFkKGFyZ3MpKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gaHViIGRlZmluZWQgb3IgXCIgKyBtZXRob2QgKyBcIiB3YXMgbm90IGZvdW5kIG9uIHRoZSBodWIsIHBsZWFzZSBvcGVuIGEgYnVnIHJlcG9ydC5cIik7XG59XG4vKipcbiAqIENhcHR1cmVzIGFuIGV4Y2VwdGlvbiBldmVudCBhbmQgc2VuZHMgaXQgdG8gU2VudHJ5LlxuICpcbiAqIEBwYXJhbSBleGNlcHRpb24gQW4gZXhjZXB0aW9uLWxpa2Ugb2JqZWN0LlxuICogQHJldHVybnMgVGhlIGdlbmVyYXRlZCBldmVudElkLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZXhwb3J0IGZ1bmN0aW9uIGNhcHR1cmVFeGNlcHRpb24oZXhjZXB0aW9uLCBjYXB0dXJlQ29udGV4dCkge1xuICAgIHZhciBzeW50aGV0aWNFeGNlcHRpb247XG4gICAgdHJ5IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTZW50cnkgc3ludGhldGljRXhjZXB0aW9uJyk7XG4gICAgfVxuICAgIGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgc3ludGhldGljRXhjZXB0aW9uID0gZXhjZXB0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbE9uSHViKCdjYXB0dXJlRXhjZXB0aW9uJywgZXhjZXB0aW9uLCB7XG4gICAgICAgIGNhcHR1cmVDb250ZXh0OiBjYXB0dXJlQ29udGV4dCxcbiAgICAgICAgb3JpZ2luYWxFeGNlcHRpb246IGV4Y2VwdGlvbixcbiAgICAgICAgc3ludGhldGljRXhjZXB0aW9uOiBzeW50aGV0aWNFeGNlcHRpb24sXG4gICAgfSk7XG59XG4vKipcbiAqIENhcHR1cmVzIGEgbWVzc2FnZSBldmVudCBhbmQgc2VuZHMgaXQgdG8gU2VudHJ5LlxuICpcbiAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHNlbmQgdG8gU2VudHJ5LlxuICogQHBhcmFtIGxldmVsIERlZmluZSB0aGUgbGV2ZWwgb2YgdGhlIG1lc3NhZ2UuXG4gKiBAcmV0dXJucyBUaGUgZ2VuZXJhdGVkIGV2ZW50SWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjYXB0dXJlTWVzc2FnZShtZXNzYWdlLCBjYXB0dXJlQ29udGV4dCkge1xuICAgIHZhciBzeW50aGV0aWNFeGNlcHRpb247XG4gICAgdHJ5IHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgIHN5bnRoZXRpY0V4Y2VwdGlvbiA9IGV4Y2VwdGlvbjtcbiAgICB9XG4gICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgdG8gcHJvdmlkZSBleHBsaWNpdCBzY29wZXMgdXBncmFkZSwgd2l0aG91dCBjaGFuZ2luZyB0aGUgb3JpZ2luYWxcbiAgICAvLyBhcml0eSBvZiB0aGUgYGNhcHR1cmVNZXNzYWdlKG1lc3NhZ2UsIGxldmVsKWAgbWV0aG9kLlxuICAgIHZhciBsZXZlbCA9IHR5cGVvZiBjYXB0dXJlQ29udGV4dCA9PT0gJ3N0cmluZycgPyBjYXB0dXJlQ29udGV4dCA6IHVuZGVmaW5lZDtcbiAgICB2YXIgY29udGV4dCA9IHR5cGVvZiBjYXB0dXJlQ29udGV4dCAhPT0gJ3N0cmluZycgPyB7IGNhcHR1cmVDb250ZXh0OiBjYXB0dXJlQ29udGV4dCB9IDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBjYWxsT25IdWIoJ2NhcHR1cmVNZXNzYWdlJywgbWVzc2FnZSwgbGV2ZWwsIF9fYXNzaWduKHsgb3JpZ2luYWxFeGNlcHRpb246IG1lc3NhZ2UsIHN5bnRoZXRpY0V4Y2VwdGlvbjogc3ludGhldGljRXhjZXB0aW9uIH0sIGNvbnRleHQpKTtcbn1cbi8qKlxuICogQ2FwdHVyZXMgYSBtYW51YWxseSBjcmVhdGVkIGV2ZW50IGFuZCBzZW5kcyBpdCB0byBTZW50cnkuXG4gKlxuICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCB0byBzZW5kIHRvIFNlbnRyeS5cbiAqIEByZXR1cm5zIFRoZSBnZW5lcmF0ZWQgZXZlbnRJZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNhcHR1cmVFdmVudChldmVudCkge1xuICAgIHJldHVybiBjYWxsT25IdWIoJ2NhcHR1cmVFdmVudCcsIGV2ZW50KTtcbn1cbi8qKlxuICogQ2FsbGJhY2sgdG8gc2V0IGNvbnRleHQgaW5mb3JtYXRpb24gb250byB0aGUgc2NvcGUuXG4gKiBAcGFyYW0gY2FsbGJhY2sgQ2FsbGJhY2sgZnVuY3Rpb24gdGhhdCByZWNlaXZlcyBTY29wZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZ3VyZVNjb3BlKGNhbGxiYWNrKSB7XG4gICAgY2FsbE9uSHViKCdjb25maWd1cmVTY29wZScsIGNhbGxiYWNrKTtcbn1cbi8qKlxuICogUmVjb3JkcyBhIG5ldyBicmVhZGNydW1iIHdoaWNoIHdpbGwgYmUgYXR0YWNoZWQgdG8gZnV0dXJlIGV2ZW50cy5cbiAqXG4gKiBCcmVhZGNydW1icyB3aWxsIGJlIGFkZGVkIHRvIHN1YnNlcXVlbnQgZXZlbnRzIHRvIHByb3ZpZGUgbW9yZSBjb250ZXh0IG9uXG4gKiB1c2VyJ3MgYWN0aW9ucyBwcmlvciB0byBhbiBlcnJvciBvciBjcmFzaC5cbiAqXG4gKiBAcGFyYW0gYnJlYWRjcnVtYiBUaGUgYnJlYWRjcnVtYiB0byByZWNvcmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRCcmVhZGNydW1iKGJyZWFkY3J1bWIpIHtcbiAgICBjYWxsT25IdWIoJ2FkZEJyZWFkY3J1bWInLCBicmVhZGNydW1iKTtcbn1cbi8qKlxuICogU2V0cyBjb250ZXh0IGRhdGEgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAqIEBwYXJhbSBuYW1lIG9mIHRoZSBjb250ZXh0XG4gKiBAcGFyYW0gY29udGV4dCBBbnkga2luZCBvZiBkYXRhLiBUaGlzIGRhdGEgd2lsbCBiZSBub3JtYWxpemVkLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZXhwb3J0IGZ1bmN0aW9uIHNldENvbnRleHQobmFtZSwgY29udGV4dCkge1xuICAgIGNhbGxPbkh1Yignc2V0Q29udGV4dCcsIG5hbWUsIGNvbnRleHQpO1xufVxuLyoqXG4gKiBTZXQgYW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBtZXJnZWQgc2VudCBhcyBleHRyYSBkYXRhIHdpdGggdGhlIGV2ZW50LlxuICogQHBhcmFtIGV4dHJhcyBFeHRyYXMgb2JqZWN0IHRvIG1lcmdlIGludG8gY3VycmVudCBjb250ZXh0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0RXh0cmFzKGV4dHJhcykge1xuICAgIGNhbGxPbkh1Yignc2V0RXh0cmFzJywgZXh0cmFzKTtcbn1cbi8qKlxuICogU2V0IGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgbWVyZ2VkIHNlbnQgYXMgdGFncyBkYXRhIHdpdGggdGhlIGV2ZW50LlxuICogQHBhcmFtIHRhZ3MgVGFncyBjb250ZXh0IG9iamVjdCB0byBtZXJnZSBpbnRvIGN1cnJlbnQgY29udGV4dC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRhZ3ModGFncykge1xuICAgIGNhbGxPbkh1Yignc2V0VGFncycsIHRhZ3MpO1xufVxuLyoqXG4gKiBTZXQga2V5OnZhbHVlIHRoYXQgd2lsbCBiZSBzZW50IGFzIGV4dHJhIGRhdGEgd2l0aCB0aGUgZXZlbnQuXG4gKiBAcGFyYW0ga2V5IFN0cmluZyBvZiBleHRyYVxuICogQHBhcmFtIGV4dHJhIEFueSBraW5kIG9mIGRhdGEuIFRoaXMgZGF0YSB3aWxsIGJlIG5vcm1hbGl6ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRFeHRyYShrZXksIGV4dHJhKSB7XG4gICAgY2FsbE9uSHViKCdzZXRFeHRyYScsIGtleSwgZXh0cmEpO1xufVxuLyoqXG4gKiBTZXQga2V5OnZhbHVlIHRoYXQgd2lsbCBiZSBzZW50IGFzIHRhZ3MgZGF0YSB3aXRoIHRoZSBldmVudC5cbiAqXG4gKiBDYW4gYWxzbyBiZSB1c2VkIHRvIHVuc2V0IGEgdGFnLCBieSBwYXNzaW5nIGB1bmRlZmluZWRgLlxuICpcbiAqIEBwYXJhbSBrZXkgU3RyaW5nIGtleSBvZiB0YWdcbiAqIEBwYXJhbSB2YWx1ZSBWYWx1ZSBvZiB0YWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFRhZyhrZXksIHZhbHVlKSB7XG4gICAgY2FsbE9uSHViKCdzZXRUYWcnLCBrZXksIHZhbHVlKTtcbn1cbi8qKlxuICogVXBkYXRlcyB1c2VyIGNvbnRleHQgaW5mb3JtYXRpb24gZm9yIGZ1dHVyZSBldmVudHMuXG4gKlxuICogQHBhcmFtIHVzZXIgVXNlciBjb250ZXh0IG9iamVjdCB0byBiZSBzZXQgaW4gdGhlIGN1cnJlbnQgY29udGV4dC4gUGFzcyBgbnVsbGAgdG8gdW5zZXQgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRVc2VyKHVzZXIpIHtcbiAgICBjYWxsT25IdWIoJ3NldFVzZXInLCB1c2VyKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBzY29wZSB3aXRoIGFuZCBleGVjdXRlcyB0aGUgZ2l2ZW4gb3BlcmF0aW9uIHdpdGhpbi5cbiAqIFRoZSBzY29wZSBpcyBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgb25jZSB0aGUgb3BlcmF0aW9uXG4gKiBmaW5pc2hlcyBvciB0aHJvd3MuXG4gKlxuICogVGhpcyBpcyBlc3NlbnRpYWxseSBhIGNvbnZlbmllbmNlIGZ1bmN0aW9uIGZvcjpcbiAqXG4gKiAgICAgcHVzaFNjb3BlKCk7XG4gKiAgICAgY2FsbGJhY2soKTtcbiAqICAgICBwb3BTY29wZSgpO1xuICpcbiAqIEBwYXJhbSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgZW5jbG9zZWQgaW50byBwdXNoL3BvcFNjb3BlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd2l0aFNjb3BlKGNhbGxiYWNrKSB7XG4gICAgY2FsbE9uSHViKCd3aXRoU2NvcGUnLCBjYWxsYmFjayk7XG59XG4vKipcbiAqIENhbGxzIGEgZnVuY3Rpb24gb24gdGhlIGxhdGVzdCBjbGllbnQuIFVzZSB0aGlzIHdpdGggY2F1dGlvbiwgaXQncyBtZWFudCBhc1xuICogaW4gXCJpbnRlcm5hbFwiIGhlbHBlciBzbyB3ZSBkb24ndCBuZWVkIHRvIGV4cG9zZSBldmVyeSBwb3NzaWJsZSBmdW5jdGlvbiBpblxuICogdGhlIHNoaW0uIEl0IGlzIG5vdCBndWFyYW50ZWVkIHRoYXQgdGhlIGNsaWVudCBhY3R1YWxseSBpbXBsZW1lbnRzIHRoZVxuICogZnVuY3Rpb24uXG4gKlxuICogQHBhcmFtIG1ldGhvZCBUaGUgbWV0aG9kIHRvIGNhbGwgb24gdGhlIGNsaWVudC9jbGllbnQuXG4gKiBAcGFyYW0gYXJncyBBcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgY2xpZW50L2ZvbnRlbmQuXG4gKiBAaGlkZGVuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gX2NhbGxPbkNsaWVudChtZXRob2QpIHtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIGNhbGxPbkh1Yi5hcHBseSh2b2lkIDAsIF9fc3ByZWFkKFsnX2ludm9rZUNsaWVudCcsIG1ldGhvZF0sIGFyZ3MpKTtcbn1cbi8qKlxuICogU3RhcnRzIGEgbmV3IGBUcmFuc2FjdGlvbmAgYW5kIHJldHVybnMgaXQuIFRoaXMgaXMgdGhlIGVudHJ5IHBvaW50IHRvIG1hbnVhbCB0cmFjaW5nIGluc3RydW1lbnRhdGlvbi5cbiAqXG4gKiBBIHRyZWUgc3RydWN0dXJlIGNhbiBiZSBidWlsdCBieSBhZGRpbmcgY2hpbGQgc3BhbnMgdG8gdGhlIHRyYW5zYWN0aW9uLCBhbmQgY2hpbGQgc3BhbnMgdG8gb3RoZXIgc3BhbnMuIFRvIHN0YXJ0IGFcbiAqIG5ldyBjaGlsZCBzcGFuIHdpdGhpbiB0aGUgdHJhbnNhY3Rpb24gb3IgYW55IHNwYW4sIGNhbGwgdGhlIHJlc3BlY3RpdmUgYC5zdGFydENoaWxkKClgIG1ldGhvZC5cbiAqXG4gKiBFdmVyeSBjaGlsZCBzcGFuIG11c3QgYmUgZmluaXNoZWQgYmVmb3JlIHRoZSB0cmFuc2FjdGlvbiBpcyBmaW5pc2hlZCwgb3RoZXJ3aXNlIHRoZSB1bmZpbmlzaGVkIHNwYW5zIGFyZSBkaXNjYXJkZWQuXG4gKlxuICogVGhlIHRyYW5zYWN0aW9uIG11c3QgYmUgZmluaXNoZWQgd2l0aCBhIGNhbGwgdG8gaXRzIGAuZmluaXNoKClgIG1ldGhvZCwgYXQgd2hpY2ggcG9pbnQgdGhlIHRyYW5zYWN0aW9uIHdpdGggYWxsIGl0c1xuICogZmluaXNoZWQgY2hpbGQgc3BhbnMgd2lsbCBiZSBzZW50IHRvIFNlbnRyeS5cbiAqXG4gKiBAcGFyYW0gY29udGV4dCBQcm9wZXJ0aWVzIG9mIHRoZSBuZXcgYFRyYW5zYWN0aW9uYC5cbiAqIEBwYXJhbSBjdXN0b21TYW1wbGluZ0NvbnRleHQgSW5mb3JtYXRpb24gZ2l2ZW4gdG8gdGhlIHRyYW5zYWN0aW9uIHNhbXBsaW5nIGZ1bmN0aW9uIChhbG9uZyB3aXRoIGNvbnRleHQtZGVwZW5kZW50XG4gKiBkZWZhdWx0IHZhbHVlcykuIFNlZSB7QGxpbmsgT3B0aW9ucy50cmFjZXNTYW1wbGVyfS5cbiAqXG4gKiBAcmV0dXJucyBUaGUgdHJhbnNhY3Rpb24gd2hpY2ggd2FzIGp1c3Qgc3RhcnRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhcnRUcmFuc2FjdGlvbihjb250ZXh0LCBjdXN0b21TYW1wbGluZ0NvbnRleHQpIHtcbiAgICByZXR1cm4gY2FsbE9uSHViKCdzdGFydFRyYW5zYWN0aW9uJywgX19hc3NpZ24oe30sIGNvbnRleHQpLCBjdXN0b21TYW1wbGluZ0NvbnRleHQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFQSSwgY2FwdHVyZUV4Y2VwdGlvbiwgd2l0aFNjb3BlIH0gZnJvbSAnQHNlbnRyeS9jb3JlJztcbmltcG9ydCB7IGFkZEV4Y2VwdGlvbk1lY2hhbmlzbSwgYWRkRXhjZXB0aW9uVHlwZVZhbHVlLCBsb2dnZXIgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbnZhciBpZ25vcmVPbkVycm9yID0gMDtcbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkSWdub3JlT25FcnJvcigpIHtcbiAgICByZXR1cm4gaWdub3JlT25FcnJvciA+IDA7XG59XG4vKipcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlnbm9yZU5leHRPbkVycm9yKCkge1xuICAgIC8vIG9uZXJyb3Igc2hvdWxkIHRyaWdnZXIgYmVmb3JlIHNldFRpbWVvdXRcbiAgICBpZ25vcmVPbkVycm9yICs9IDE7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlnbm9yZU9uRXJyb3IgLT0gMTtcbiAgICB9KTtcbn1cbi8qKlxuICogSW5zdHJ1bWVudHMgdGhlIGdpdmVuIGZ1bmN0aW9uIGFuZCBzZW5kcyBhbiBldmVudCB0byBTZW50cnkgZXZlcnkgdGltZSB0aGVcbiAqIGZ1bmN0aW9uIHRocm93cyBhbiBleGNlcHRpb24uXG4gKlxuICogQHBhcmFtIGZuIEEgZnVuY3Rpb24gdG8gd3JhcC5cbiAqIEByZXR1cm5zIFRoZSB3cmFwcGVkIGZ1bmN0aW9uLlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcChmbiwgb3B0aW9ucywgYmVmb3JlKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBpZiAodHlwZW9mIGZuICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gV2UgZG9uJ3Qgd2FubmEgd3JhcCBpdCB0d2ljZVxuICAgICAgICBpZiAoZm4uX19zZW50cnlfXykge1xuICAgICAgICAgICAgcmV0dXJuIGZuO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoaXMgaGFzIGFscmVhZHkgYmVlbiB3cmFwcGVkIGluIHRoZSBwYXN0LCByZXR1cm4gdGhhdCB3cmFwcGVkIGZ1bmN0aW9uXG4gICAgICAgIGlmIChmbi5fX3NlbnRyeV93cmFwcGVkX18pIHtcbiAgICAgICAgICAgIHJldHVybiBmbi5fX3NlbnRyeV93cmFwcGVkX187XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSnVzdCBhY2Nlc3NpbmcgY3VzdG9tIHByb3BzIGluIHNvbWUgU2VsZW5pdW0gZW52aXJvbm1lbnRzXG4gICAgICAgIC8vIGNhbiBjYXVzZSBhIFwiUGVybWlzc2lvbiBkZW5pZWRcIiBleGNlcHRpb24gKHNlZSByYXZlbi1qcyM0OTUpLlxuICAgICAgICAvLyBCYWlsIG9uIHdyYXBwaW5nIGFuZCByZXR1cm4gdGhlIGZ1bmN0aW9uIGFzLWlzIChkZWZlcnMgdG8gd2luZG93Lm9uZXJyb3IpLlxuICAgICAgICByZXR1cm4gZm47XG4gICAgfVxuICAgIC8qIGVzbGludC1kaXNhYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgdmFyIHNlbnRyeVdyYXBwZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChiZWZvcmUgJiYgdHlwZW9mIGJlZm9yZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGJlZm9yZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnksIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgICAgICAgICAgdmFyIHdyYXBwZWRBcmd1bWVudHMgPSBhcmdzLm1hcChmdW5jdGlvbiAoYXJnKSB7IHJldHVybiB3cmFwKGFyZywgb3B0aW9ucyk7IH0pO1xuICAgICAgICAgICAgaWYgKGZuLmhhbmRsZUV2ZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBpbnZva2UgdXNlci1sYW5kIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgLy8gTk9URTogSWYgeW91IGFyZSBhIFNlbnRyeSB1c2VyLCBhbmQgeW91IGFyZSBzZWVpbmcgdGhpcyBzdGFjayBmcmFtZSwgaXRcbiAgICAgICAgICAgICAgICAvLyAgICAgICBtZWFucyB0aGUgc2VudHJ5LmphdmFzY3JpcHQgU0RLIGNhdWdodCBhbiBlcnJvciBpbnZva2luZyB5b3VyIGFwcGxpY2F0aW9uIGNvZGUuIFRoaXNcbiAgICAgICAgICAgICAgICAvLyAgICAgICBpcyBleHBlY3RlZCBiZWhhdmlvciBhbmQgTk9UIGluZGljYXRpdmUgb2YgYSBidWcgd2l0aCBzZW50cnkuamF2YXNjcmlwdC5cbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuLmhhbmRsZUV2ZW50LmFwcGx5KHRoaXMsIHdyYXBwZWRBcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXR0ZW1wdCB0byBpbnZva2UgdXNlci1sYW5kIGZ1bmN0aW9uXG4gICAgICAgICAgICAvLyBOT1RFOiBJZiB5b3UgYXJlIGEgU2VudHJ5IHVzZXIsIGFuZCB5b3UgYXJlIHNlZWluZyB0aGlzIHN0YWNrIGZyYW1lLCBpdFxuICAgICAgICAgICAgLy8gICAgICAgbWVhbnMgdGhlIHNlbnRyeS5qYXZhc2NyaXB0IFNESyBjYXVnaHQgYW4gZXJyb3IgaW52b2tpbmcgeW91ciBhcHBsaWNhdGlvbiBjb2RlLiBUaGlzXG4gICAgICAgICAgICAvLyAgICAgICBpcyBleHBlY3RlZCBiZWhhdmlvciBhbmQgTk9UIGluZGljYXRpdmUgb2YgYSBidWcgd2l0aCBzZW50cnkuamF2YXNjcmlwdC5cbiAgICAgICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCB3cmFwcGVkQXJndW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgIGlnbm9yZU5leHRPbkVycm9yKCk7XG4gICAgICAgICAgICB3aXRoU2NvcGUoZnVuY3Rpb24gKHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgc2NvcGUuYWRkRXZlbnRQcm9jZXNzb3IoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9jZXNzZWRFdmVudCA9IF9fYXNzaWduKHt9LCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLm1lY2hhbmlzbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRXhjZXB0aW9uVHlwZVZhbHVlKHByb2Nlc3NlZEV2ZW50LCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRFeGNlcHRpb25NZWNoYW5pc20ocHJvY2Vzc2VkRXZlbnQsIG9wdGlvbnMubWVjaGFuaXNtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzZWRFdmVudC5leHRyYSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBwcm9jZXNzZWRFdmVudC5leHRyYSksIHsgYXJndW1lbnRzOiBhcmdzIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc2VkRXZlbnQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY2FwdHVyZUV4Y2VwdGlvbihleCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiBlc2xpbnQtZW5hYmxlIHByZWZlci1yZXN0LXBhcmFtcyAqL1xuICAgIC8vIEFjY2Vzc2luZyBzb21lIG9iamVjdHMgbWF5IHRocm93XG4gICAgLy8gcmVmOiBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy8xMTY4XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgcHJvcGVydHkgaW4gZm4pIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZm4sIHByb3BlcnR5KSkge1xuICAgICAgICAgICAgICAgIHNlbnRyeVdyYXBwZWRbcHJvcGVydHldID0gZm5bcHJvcGVydHldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChfb08pIHsgfSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVtcHR5XG4gICAgZm4ucHJvdG90eXBlID0gZm4ucHJvdG90eXBlIHx8IHt9O1xuICAgIHNlbnRyeVdyYXBwZWQucHJvdG90eXBlID0gZm4ucHJvdG90eXBlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbiwgJ19fc2VudHJ5X3dyYXBwZWRfXycsIHtcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBzZW50cnlXcmFwcGVkLFxuICAgIH0pO1xuICAgIC8vIFNpZ25hbCB0aGF0IHRoaXMgZnVuY3Rpb24gaGFzIGJlZW4gd3JhcHBlZC9maWxsZWQgYWxyZWFkeVxuICAgIC8vIGZvciBib3RoIGRlYnVnZ2luZyBhbmQgdG8gcHJldmVudCBpdCB0byBiZWluZyB3cmFwcGVkL2ZpbGxlZCB0d2ljZVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHNlbnRyeVdyYXBwZWQsIHtcbiAgICAgICAgX19zZW50cnlfXzoge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgX19zZW50cnlfb3JpZ2luYWxfXzoge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogZm4sXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgLy8gUmVzdG9yZSBvcmlnaW5hbCBmdW5jdGlvbiBuYW1lIChub3QgYWxsIGJyb3dzZXJzIGFsbG93IHRoYXQpXG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNlbnRyeVdyYXBwZWQsICduYW1lJyk7XG4gICAgICAgIGlmIChkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHNlbnRyeVdyYXBwZWQsICduYW1lJywge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4ubmFtZTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfVxuICAgIGNhdGNoIChfb08pIHsgfVxuICAgIHJldHVybiBzZW50cnlXcmFwcGVkO1xufVxuLyoqXG4gKiBJbmplY3RzIHRoZSBSZXBvcnQgRGlhbG9nIHNjcmlwdFxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5qZWN0UmVwb3J0RGlhbG9nKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIGlmICghb3B0aW9ucy5ldmVudElkKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIk1pc3NpbmcgZXZlbnRJZCBvcHRpb24gaW4gc2hvd1JlcG9ydERpYWxvZyBjYWxsXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5kc24pIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiTWlzc2luZyBkc24gb3B0aW9uIGluIHNob3dSZXBvcnREaWFsb2cgY2FsbFwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgICBzY3JpcHQuc3JjID0gbmV3IEFQSShvcHRpb25zLmRzbikuZ2V0UmVwb3J0RGlhbG9nRW5kcG9pbnQob3B0aW9ucyk7XG4gICAgaWYgKG9wdGlvbnMub25Mb2FkKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcbiAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IG9wdGlvbnMub25Mb2FkO1xuICAgIH1cbiAgICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChzY3JpcHQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVycy5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiwgX19yZWFkLCBfX3NwcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGluZXMgKi9cbmltcG9ydCB7IGdldEN1cnJlbnRIdWIgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgU2V2ZXJpdHkgfSBmcm9tICdAc2VudHJ5L3R5cGVzJztcbmltcG9ydCB7IGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIsIGdldEV2ZW50RGVzY3JpcHRpb24sIGdldEdsb2JhbE9iamVjdCwgaHRtbFRyZWVBc1N0cmluZywgcGFyc2VVcmwsIHNhZmVKb2luLCB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuLyoqXG4gKiBEZWZhdWx0IEJyZWFkY3J1bWJzIGluc3RydW1lbnRhdGlvbnNcbiAqIFRPRE86IERlcHJlY2F0ZWQgLSB3aXRoIHY2LCB0aGlzIHdpbGwgYmUgcmVuYW1lZCB0byBgSW5zdHJ1bWVudGBcbiAqL1xudmFyIEJyZWFkY3J1bWJzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnJlYWRjcnVtYnMob3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGluaGVyaXREb2NcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IEJyZWFkY3J1bWJzLmlkO1xuICAgICAgICB0aGlzLl9vcHRpb25zID0gX19hc3NpZ24oeyBjb25zb2xlOiB0cnVlLCBkb206IHRydWUsIGZldGNoOiB0cnVlLCBoaXN0b3J5OiB0cnVlLCBzZW50cnk6IHRydWUsIHhocjogdHJ1ZSB9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgYnJlYWRjcnVtYiBvZiBgc2VudHJ5YCBmcm9tIHRoZSBldmVudHMgdGhlbXNlbHZlc1xuICAgICAqL1xuICAgIEJyZWFkY3J1bWJzLnByb3RvdHlwZS5hZGRTZW50cnlCcmVhZGNydW1iID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5fb3B0aW9ucy5zZW50cnkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnZXRDdXJyZW50SHViKCkuYWRkQnJlYWRjcnVtYih7XG4gICAgICAgICAgICBjYXRlZ29yeTogXCJzZW50cnkuXCIgKyAoZXZlbnQudHlwZSA9PT0gJ3RyYW5zYWN0aW9uJyA/ICd0cmFuc2FjdGlvbicgOiAnZXZlbnQnKSxcbiAgICAgICAgICAgIGV2ZW50X2lkOiBldmVudC5ldmVudF9pZCxcbiAgICAgICAgICAgIGxldmVsOiBldmVudC5sZXZlbCxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGdldEV2ZW50RGVzY3JpcHRpb24oZXZlbnQpLFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogSW5zdHJ1bWVudCBicm93c2VyIGJ1aWx0LWlucyB3LyBicmVhZGNydW1iIGNhcHR1cmluZ1xuICAgICAqICAtIENvbnNvbGUgQVBJXG4gICAgICogIC0gRE9NIEFQSSAoY2xpY2svdHlwaW5nKVxuICAgICAqICAtIFhNTEh0dHBSZXF1ZXN0IEFQSVxuICAgICAqICAtIEZldGNoIEFQSVxuICAgICAqICAtIEhpc3RvcnkgQVBJXG4gICAgICovXG4gICAgQnJlYWRjcnVtYnMucHJvdG90eXBlLnNldHVwT25jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuY29uc29sZSkge1xuICAgICAgICAgICAgYWRkSW5zdHJ1bWVudGF0aW9uSGFuZGxlcih7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fY29uc29sZUJyZWFkY3J1bWIuYXBwbHkoX3RoaXMsIF9fc3ByZWFkKGFyZ3MpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGU6ICdjb25zb2xlJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmRvbSkge1xuICAgICAgICAgICAgYWRkSW5zdHJ1bWVudGF0aW9uSGFuZGxlcih7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZG9tQnJlYWRjcnVtYi5hcHBseShfdGhpcywgX19zcHJlYWQoYXJncykpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RvbScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy54aHIpIHtcbiAgICAgICAgICAgIGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIoe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3hockJyZWFkY3J1bWIuYXBwbHkoX3RoaXMsIF9fc3ByZWFkKGFyZ3MpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGU6ICd4aHInLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuZmV0Y2gpIHtcbiAgICAgICAgICAgIGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIoe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2ZldGNoQnJlYWRjcnVtYi5hcHBseShfdGhpcywgX19zcHJlYWQoYXJncykpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ2ZldGNoJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmhpc3RvcnkpIHtcbiAgICAgICAgICAgIGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIoe1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2hpc3RvcnlCcmVhZGNydW1iLmFwcGx5KF90aGlzLCBfX3NwcmVhZChhcmdzKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnaGlzdG9yeScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBicmVhZGNydW1icyBmcm9tIGNvbnNvbGUgQVBJIGNhbGxzXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBCcmVhZGNydW1icy5wcm90b3R5cGUuX2NvbnNvbGVCcmVhZGNydW1iID0gZnVuY3Rpb24gKGhhbmRsZXJEYXRhKSB7XG4gICAgICAgIHZhciBicmVhZGNydW1iID0ge1xuICAgICAgICAgICAgY2F0ZWdvcnk6ICdjb25zb2xlJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBhcmd1bWVudHM6IGhhbmRsZXJEYXRhLmFyZ3MsXG4gICAgICAgICAgICAgICAgbG9nZ2VyOiAnY29uc29sZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGV2ZWw6IFNldmVyaXR5LmZyb21TdHJpbmcoaGFuZGxlckRhdGEubGV2ZWwpLFxuICAgICAgICAgICAgbWVzc2FnZTogc2FmZUpvaW4oaGFuZGxlckRhdGEuYXJncywgJyAnKSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGhhbmRsZXJEYXRhLmxldmVsID09PSAnYXNzZXJ0Jykge1xuICAgICAgICAgICAgaWYgKGhhbmRsZXJEYXRhLmFyZ3NbMF0gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgYnJlYWRjcnVtYi5tZXNzYWdlID0gXCJBc3NlcnRpb24gZmFpbGVkOiBcIiArIChzYWZlSm9pbihoYW5kbGVyRGF0YS5hcmdzLnNsaWNlKDEpLCAnICcpIHx8ICdjb25zb2xlLmFzc2VydCcpO1xuICAgICAgICAgICAgICAgIGJyZWFkY3J1bWIuZGF0YS5hcmd1bWVudHMgPSBoYW5kbGVyRGF0YS5hcmdzLnNsaWNlKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgY2FwdHVyZSBhIGJyZWFkY3J1bWIgZm9yIHBhc3NlZCBhc3NlcnRpb25zXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGdldEN1cnJlbnRIdWIoKS5hZGRCcmVhZGNydW1iKGJyZWFkY3J1bWIsIHtcbiAgICAgICAgICAgIGlucHV0OiBoYW5kbGVyRGF0YS5hcmdzLFxuICAgICAgICAgICAgbGV2ZWw6IGhhbmRsZXJEYXRhLmxldmVsLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYnJlYWRjcnVtYnMgZnJvbSBET00gQVBJIGNhbGxzXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBCcmVhZGNydW1icy5wcm90b3R5cGUuX2RvbUJyZWFkY3J1bWIgPSBmdW5jdGlvbiAoaGFuZGxlckRhdGEpIHtcbiAgICAgICAgdmFyIHRhcmdldDtcbiAgICAgICAgLy8gQWNjZXNzaW5nIGV2ZW50LnRhcmdldCBjYW4gdGhyb3cgKHNlZSBnZXRzZW50cnkvcmF2ZW4tanMjODM4LCAjNzY4KVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGFyZ2V0ID0gaGFuZGxlckRhdGEuZXZlbnQudGFyZ2V0XG4gICAgICAgICAgICAgICAgPyBodG1sVHJlZUFzU3RyaW5nKGhhbmRsZXJEYXRhLmV2ZW50LnRhcmdldClcbiAgICAgICAgICAgICAgICA6IGh0bWxUcmVlQXNTdHJpbmcoaGFuZGxlckRhdGEuZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSAnPHVua25vd24+JztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFyZ2V0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdldEN1cnJlbnRIdWIoKS5hZGRCcmVhZGNydW1iKHtcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcInVpLlwiICsgaGFuZGxlckRhdGEubmFtZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRhcmdldCxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgZXZlbnQ6IGhhbmRsZXJEYXRhLmV2ZW50LFxuICAgICAgICAgICAgbmFtZTogaGFuZGxlckRhdGEubmFtZSxcbiAgICAgICAgICAgIGdsb2JhbDogaGFuZGxlckRhdGEuZ2xvYmFsLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYnJlYWRjcnVtYnMgZnJvbSBYSFIgQVBJIGNhbGxzXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBCcmVhZGNydW1icy5wcm90b3R5cGUuX3hockJyZWFkY3J1bWIgPSBmdW5jdGlvbiAoaGFuZGxlckRhdGEpIHtcbiAgICAgICAgaWYgKGhhbmRsZXJEYXRhLmVuZFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgLy8gV2Ugb25seSBjYXB0dXJlIGNvbXBsZXRlLCBub24tc2VudHJ5IHJlcXVlc3RzXG4gICAgICAgICAgICBpZiAoaGFuZGxlckRhdGEueGhyLl9fc2VudHJ5X293bl9yZXF1ZXN0X18pIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2EgPSBoYW5kbGVyRGF0YS54aHIuX19zZW50cnlfeGhyX18gfHwge30sIG1ldGhvZCA9IF9hLm1ldGhvZCwgdXJsID0gX2EudXJsLCBzdGF0dXNfY29kZSA9IF9hLnN0YXR1c19jb2RlLCBib2R5ID0gX2EuYm9keTtcbiAgICAgICAgICAgIGdldEN1cnJlbnRIdWIoKS5hZGRCcmVhZGNydW1iKHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ3hocicsXG4gICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c19jb2RlOiBzdGF0dXNfY29kZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGU6ICdodHRwJyxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB4aHI6IGhhbmRsZXJEYXRhLnhocixcbiAgICAgICAgICAgICAgICBpbnB1dDogYm9keSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGJyZWFkY3J1bWJzIGZyb20gZmV0Y2ggQVBJIGNhbGxzXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBCcmVhZGNydW1icy5wcm90b3R5cGUuX2ZldGNoQnJlYWRjcnVtYiA9IGZ1bmN0aW9uIChoYW5kbGVyRGF0YSkge1xuICAgICAgICAvLyBXZSBvbmx5IGNhcHR1cmUgY29tcGxldGUgZmV0Y2ggcmVxdWVzdHNcbiAgICAgICAgaWYgKCFoYW5kbGVyRGF0YS5lbmRUaW1lc3RhbXApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGFuZGxlckRhdGEuZmV0Y2hEYXRhLnVybC5tYXRjaCgvc2VudHJ5X2tleS8pICYmIGhhbmRsZXJEYXRhLmZldGNoRGF0YS5tZXRob2QgPT09ICdQT1NUJykge1xuICAgICAgICAgICAgLy8gV2Ugd2lsbCBub3QgY3JlYXRlIGJyZWFkY3J1bWJzIGZvciBmZXRjaCByZXF1ZXN0cyB0aGF0IGNvbnRhaW4gYHNlbnRyeV9rZXlgIChpbnRlcm5hbCBzZW50cnkgcmVxdWVzdHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhbmRsZXJEYXRhLmVycm9yKSB7XG4gICAgICAgICAgICBnZXRDdXJyZW50SHViKCkuYWRkQnJlYWRjcnVtYih7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdmZXRjaCcsXG4gICAgICAgICAgICAgICAgZGF0YTogaGFuZGxlckRhdGEuZmV0Y2hEYXRhLFxuICAgICAgICAgICAgICAgIGxldmVsOiBTZXZlcml0eS5FcnJvcixcbiAgICAgICAgICAgICAgICB0eXBlOiAnaHR0cCcsXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZGF0YTogaGFuZGxlckRhdGEuZXJyb3IsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IGhhbmRsZXJEYXRhLmFyZ3MsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGdldEN1cnJlbnRIdWIoKS5hZGRCcmVhZGNydW1iKHtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeTogJ2ZldGNoJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgaGFuZGxlckRhdGEuZmV0Y2hEYXRhKSwgeyBzdGF0dXNfY29kZTogaGFuZGxlckRhdGEucmVzcG9uc2Uuc3RhdHVzIH0pLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdodHRwJyxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBpbnB1dDogaGFuZGxlckRhdGEuYXJncyxcbiAgICAgICAgICAgICAgICByZXNwb25zZTogaGFuZGxlckRhdGEucmVzcG9uc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBicmVhZGNydW1icyBmcm9tIGhpc3RvcnkgQVBJIGNhbGxzXG4gICAgICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBCcmVhZGNydW1icy5wcm90b3R5cGUuX2hpc3RvcnlCcmVhZGNydW1iID0gZnVuY3Rpb24gKGhhbmRsZXJEYXRhKSB7XG4gICAgICAgIHZhciBnbG9iYWwgPSBnZXRHbG9iYWxPYmplY3QoKTtcbiAgICAgICAgdmFyIGZyb20gPSBoYW5kbGVyRGF0YS5mcm9tO1xuICAgICAgICB2YXIgdG8gPSBoYW5kbGVyRGF0YS50bztcbiAgICAgICAgdmFyIHBhcnNlZExvYyA9IHBhcnNlVXJsKGdsb2JhbC5sb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgdmFyIHBhcnNlZEZyb20gPSBwYXJzZVVybChmcm9tKTtcbiAgICAgICAgdmFyIHBhcnNlZFRvID0gcGFyc2VVcmwodG8pO1xuICAgICAgICAvLyBJbml0aWFsIHB1c2hTdGF0ZSBkb2Vzbid0IHByb3ZpZGUgYGZyb21gIGluZm9ybWF0aW9uXG4gICAgICAgIGlmICghcGFyc2VkRnJvbS5wYXRoKSB7XG4gICAgICAgICAgICBwYXJzZWRGcm9tID0gcGFyc2VkTG9jO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVzZSBvbmx5IHRoZSBwYXRoIGNvbXBvbmVudCBvZiB0aGUgVVJMIGlmIHRoZSBVUkwgbWF0Y2hlcyB0aGUgY3VycmVudFxuICAgICAgICAvLyBkb2N1bWVudCAoYWxtb3N0IGFsbCB0aGUgdGltZSB3aGVuIHVzaW5nIHB1c2hTdGF0ZSlcbiAgICAgICAgaWYgKHBhcnNlZExvYy5wcm90b2NvbCA9PT0gcGFyc2VkVG8ucHJvdG9jb2wgJiYgcGFyc2VkTG9jLmhvc3QgPT09IHBhcnNlZFRvLmhvc3QpIHtcbiAgICAgICAgICAgIHRvID0gcGFyc2VkVG8ucmVsYXRpdmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZExvYy5wcm90b2NvbCA9PT0gcGFyc2VkRnJvbS5wcm90b2NvbCAmJiBwYXJzZWRMb2MuaG9zdCA9PT0gcGFyc2VkRnJvbS5ob3N0KSB7XG4gICAgICAgICAgICBmcm9tID0gcGFyc2VkRnJvbS5yZWxhdGl2ZTtcbiAgICAgICAgfVxuICAgICAgICBnZXRDdXJyZW50SHViKCkuYWRkQnJlYWRjcnVtYih7XG4gICAgICAgICAgICBjYXRlZ29yeTogJ25hdmlnYXRpb24nLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgdG86IHRvLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJyZWFkY3J1bWJzLmlkID0gJ0JyZWFkY3J1bWJzJztcbiAgICByZXR1cm4gQnJlYWRjcnVtYnM7XG59KCkpO1xuZXhwb3J0IHsgQnJlYWRjcnVtYnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyZWFkY3J1bWJzLmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduLCBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEJhc2VDbGllbnQgfSBmcm9tICdAc2VudHJ5L2NvcmUnO1xuaW1wb3J0IHsgZ2V0R2xvYmFsT2JqZWN0LCBsb2dnZXIgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IEJyb3dzZXJCYWNrZW5kIH0gZnJvbSAnLi9iYWNrZW5kJztcbmltcG9ydCB7IGluamVjdFJlcG9ydERpYWxvZyB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBCcmVhZGNydW1icyB9IGZyb20gJy4vaW50ZWdyYXRpb25zJztcbi8qKlxuICogVGhlIFNlbnRyeSBCcm93c2VyIFNESyBDbGllbnQuXG4gKlxuICogQHNlZSBCcm93c2VyT3B0aW9ucyBmb3IgZG9jdW1lbnRhdGlvbiBvbiBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gKiBAc2VlIFNlbnRyeUNsaWVudCBmb3IgdXNhZ2UgZG9jdW1lbnRhdGlvbi5cbiAqL1xudmFyIEJyb3dzZXJDbGllbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEJyb3dzZXJDbGllbnQsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBCcm93c2VyIFNESyBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhpcyBTREsuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQnJvd3NlckNsaWVudChvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBCcm93c2VyQmFja2VuZCwgb3B0aW9ucykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2hvdyBhIHJlcG9ydCBkaWFsb2cgdG8gdGhlIHVzZXIgdG8gc2VuZCBmZWVkYmFjayB0byBhIHNwZWNpZmljIGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgU2V0IGluZGl2aWR1YWwgb3B0aW9ucyBmb3IgdGhlIGRpYWxvZ1xuICAgICAqL1xuICAgIEJyb3dzZXJDbGllbnQucHJvdG90eXBlLnNob3dSZXBvcnREaWFsb2cgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvLyBkb2Vzbid0IHdvcmsgd2l0aG91dCBhIGRvY3VtZW50IChSZWFjdCBOYXRpdmUpXG4gICAgICAgIHZhciBkb2N1bWVudCA9IGdldEdsb2JhbE9iamVjdCgpLmRvY3VtZW50O1xuICAgICAgICBpZiAoIWRvY3VtZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9pc0VuYWJsZWQoKSkge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdUcnlpbmcgdG8gY2FsbCBzaG93UmVwb3J0RGlhbG9nIHdpdGggU2VudHJ5IENsaWVudCBkaXNhYmxlZCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGluamVjdFJlcG9ydERpYWxvZyhfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3B0aW9ucyksIHsgZHNuOiBvcHRpb25zLmRzbiB8fCB0aGlzLmdldERzbigpIH0pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQnJvd3NlckNsaWVudC5wcm90b3R5cGUuX3ByZXBhcmVFdmVudCA9IGZ1bmN0aW9uIChldmVudCwgc2NvcGUsIGhpbnQpIHtcbiAgICAgICAgZXZlbnQucGxhdGZvcm0gPSBldmVudC5wbGF0Zm9ybSB8fCAnamF2YXNjcmlwdCc7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl9wcmVwYXJlRXZlbnQuY2FsbCh0aGlzLCBldmVudCwgc2NvcGUsIGhpbnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBCcm93c2VyQ2xpZW50LnByb3RvdHlwZS5fc2VuZEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBpbnRlZ3JhdGlvbiA9IHRoaXMuZ2V0SW50ZWdyYXRpb24oQnJlYWRjcnVtYnMpO1xuICAgICAgICBpZiAoaW50ZWdyYXRpb24pIHtcbiAgICAgICAgICAgIGludGVncmF0aW9uLmFkZFNlbnRyeUJyZWFkY3J1bWIoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX3NlbmRFdmVudC5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xuICAgIHJldHVybiBCcm93c2VyQ2xpZW50O1xufShCYXNlQ2xpZW50KSk7XG5leHBvcnQgeyBCcm93c2VyQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGZpbGwsIGdldEZ1bmN0aW9uTmFtZSwgZ2V0R2xvYmFsT2JqZWN0IH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyB3cmFwIH0gZnJvbSAnLi4vaGVscGVycyc7XG52YXIgREVGQVVMVF9FVkVOVF9UQVJHRVQgPSBbXG4gICAgJ0V2ZW50VGFyZ2V0JyxcbiAgICAnV2luZG93JyxcbiAgICAnTm9kZScsXG4gICAgJ0FwcGxpY2F0aW9uQ2FjaGUnLFxuICAgICdBdWRpb1RyYWNrTGlzdCcsXG4gICAgJ0NoYW5uZWxNZXJnZXJOb2RlJyxcbiAgICAnQ3J5cHRvT3BlcmF0aW9uJyxcbiAgICAnRXZlbnRTb3VyY2UnLFxuICAgICdGaWxlUmVhZGVyJyxcbiAgICAnSFRNTFVua25vd25FbGVtZW50JyxcbiAgICAnSURCRGF0YWJhc2UnLFxuICAgICdJREJSZXF1ZXN0JyxcbiAgICAnSURCVHJhbnNhY3Rpb24nLFxuICAgICdLZXlPcGVyYXRpb24nLFxuICAgICdNZWRpYUNvbnRyb2xsZXInLFxuICAgICdNZXNzYWdlUG9ydCcsXG4gICAgJ01vZGFsV2luZG93JyxcbiAgICAnTm90aWZpY2F0aW9uJyxcbiAgICAnU1ZHRWxlbWVudEluc3RhbmNlJyxcbiAgICAnU2NyZWVuJyxcbiAgICAnVGV4dFRyYWNrJyxcbiAgICAnVGV4dFRyYWNrQ3VlJyxcbiAgICAnVGV4dFRyYWNrTGlzdCcsXG4gICAgJ1dlYlNvY2tldCcsXG4gICAgJ1dlYlNvY2tldFdvcmtlcicsXG4gICAgJ1dvcmtlcicsXG4gICAgJ1hNTEh0dHBSZXF1ZXN0JyxcbiAgICAnWE1MSHR0cFJlcXVlc3RFdmVudFRhcmdldCcsXG4gICAgJ1hNTEh0dHBSZXF1ZXN0VXBsb2FkJyxcbl07XG4vKiogV3JhcCB0aW1lciBmdW5jdGlvbnMgYW5kIGV2ZW50IHRhcmdldHMgdG8gY2F0Y2ggZXJyb3JzIGFuZCBwcm92aWRlIGJldHRlciBtZXRhIGRhdGEgKi9cbnZhciBUcnlDYXRjaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIFRyeUNhdGNoKG9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbmhlcml0RG9jXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBUcnlDYXRjaC5pZDtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IF9fYXNzaWduKHsgWE1MSHR0cFJlcXVlc3Q6IHRydWUsIGV2ZW50VGFyZ2V0OiB0cnVlLCByZXF1ZXN0QW5pbWF0aW9uRnJhbWU6IHRydWUsIHNldEludGVydmFsOiB0cnVlLCBzZXRUaW1lb3V0OiB0cnVlIH0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcmFwIHRpbWVyIGZ1bmN0aW9ucyBhbmQgZXZlbnQgdGFyZ2V0cyB0byBjYXRjaCBlcnJvcnNcbiAgICAgKiBhbmQgcHJvdmlkZSBiZXR0ZXIgbWV0YWRhdGEuXG4gICAgICovXG4gICAgVHJ5Q2F0Y2gucHJvdG90eXBlLnNldHVwT25jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGdsb2JhbCA9IGdldEdsb2JhbE9iamVjdCgpO1xuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5zZXRUaW1lb3V0KSB7XG4gICAgICAgICAgICBmaWxsKGdsb2JhbCwgJ3NldFRpbWVvdXQnLCB0aGlzLl93cmFwVGltZUZ1bmN0aW9uLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLnNldEludGVydmFsKSB7XG4gICAgICAgICAgICBmaWxsKGdsb2JhbCwgJ3NldEludGVydmFsJywgdGhpcy5fd3JhcFRpbWVGdW5jdGlvbi5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgICAgIGZpbGwoZ2xvYmFsLCAncmVxdWVzdEFuaW1hdGlvbkZyYW1lJywgdGhpcy5fd3JhcFJBRi5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5YTUxIdHRwUmVxdWVzdCAmJiAnWE1MSHR0cFJlcXVlc3QnIGluIGdsb2JhbCkge1xuICAgICAgICAgICAgZmlsbChYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUsICdzZW5kJywgdGhpcy5fd3JhcFhIUi5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5ldmVudFRhcmdldCkge1xuICAgICAgICAgICAgdmFyIGV2ZW50VGFyZ2V0ID0gQXJyYXkuaXNBcnJheSh0aGlzLl9vcHRpb25zLmV2ZW50VGFyZ2V0KSA/IHRoaXMuX29wdGlvbnMuZXZlbnRUYXJnZXQgOiBERUZBVUxUX0VWRU5UX1RBUkdFVDtcbiAgICAgICAgICAgIGV2ZW50VGFyZ2V0LmZvckVhY2godGhpcy5fd3JhcEV2ZW50VGFyZ2V0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBUcnlDYXRjaC5wcm90b3R5cGUuX3dyYXBUaW1lRnVuY3Rpb24gPSBmdW5jdGlvbiAob3JpZ2luYWwpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBvcmlnaW5hbENhbGxiYWNrID0gYXJnc1swXTtcbiAgICAgICAgICAgIGFyZ3NbMF0gPSB3cmFwKG9yaWdpbmFsQ2FsbGJhY2ssIHtcbiAgICAgICAgICAgICAgICBtZWNoYW5pc206IHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBmdW5jdGlvbjogZ2V0RnVuY3Rpb25OYW1lKG9yaWdpbmFsKSB9LFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5zdHJ1bWVudCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqIEpTRG9jICovXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBUcnlDYXRjaC5wcm90b3R5cGUuX3dyYXBSQUYgPSBmdW5jdGlvbiAob3JpZ2luYWwpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsLmNhbGwodGhpcywgd3JhcChjYWxsYmFjaywge1xuICAgICAgICAgICAgICAgIG1lY2hhbmlzbToge1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbjogJ3JlcXVlc3RBbmltYXRpb25GcmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBnZXRGdW5jdGlvbk5hbWUob3JpZ2luYWwpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBoYW5kbGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5zdHJ1bWVudCcsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFRyeUNhdGNoLnByb3RvdHlwZS5fd3JhcEV2ZW50VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgdmFyIHByb3RvID0gZ2xvYmFsW3RhcmdldF0gJiYgZ2xvYmFsW3RhcmdldF0ucHJvdG90eXBlO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgIGlmICghcHJvdG8gfHwgIXByb3RvLmhhc093blByb3BlcnR5IHx8ICFwcm90by5oYXNPd25Qcm9wZXJ0eSgnYWRkRXZlbnRMaXN0ZW5lcicpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZmlsbChwcm90bywgJ2FkZEV2ZW50TGlzdGVuZXInLCBmdW5jdGlvbiAob3JpZ2luYWwpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnROYW1lLCBmbiwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm4uaGFuZGxlRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuLmhhbmRsZUV2ZW50ID0gd3JhcChmbi5oYW5kbGVFdmVudC5iaW5kKGZuKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lY2hhbmlzbToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbjogJ2hhbmRsZUV2ZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IGdldEZ1bmN0aW9uTmFtZShmbiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2luc3RydW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbiBzb21ldGltZXMgZ2V0ICdQZXJtaXNzaW9uIGRlbmllZCB0byBhY2Nlc3MgcHJvcGVydHkgXCJoYW5kbGUgRXZlbnQnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbC5jYWxsKHRoaXMsIGV2ZW50TmFtZSwgXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICB3cmFwKGZuLCB7XG4gICAgICAgICAgICAgICAgICAgIG1lY2hhbmlzbToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiAnYWRkRXZlbnRMaXN0ZW5lcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogZ2V0RnVuY3Rpb25OYW1lKGZuKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2luc3RydW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0pLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICBmaWxsKHByb3RvLCAncmVtb3ZlRXZlbnRMaXN0ZW5lcicsIGZ1bmN0aW9uIChvcmlnaW5hbFJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnROYW1lLCBmbiwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUaGVyZSBhcmUgMiBwb3NzaWJsZSBzY2VuYXJpb3MgaGVyZTpcbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIDEuIFNvbWVvbmUgcGFzc2VzIGEgY2FsbGJhY2ssIHdoaWNoIHdhcyBhdHRhY2hlZCBwcmlvciB0byBTZW50cnkgaW5pdGlhbGl6YXRpb24sIG9yIGJ5IHVzaW5nIHVubW9kaWZpZWRcbiAgICAgICAgICAgICAgICAgKiBtZXRob2QsIGVnLiBgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lci5jYWxsKGVsLCBuYW1lLCBoYW5kbGVyKS4gSW4gdGhpcyBjYXNlLCB3ZSB0cmVhdCB0aGlzIGZ1bmN0aW9uXG4gICAgICAgICAgICAgICAgICogYXMgYSBwYXNzLXRocm91Z2gsIGFuZCBjYWxsIG9yaWdpbmFsIGByZW1vdmVFdmVudExpc3RlbmVyYCB3aXRoIGl0LlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogMi4gU29tZW9uZSBwYXNzZXMgYSBjYWxsYmFjaywgd2hpY2ggd2FzIGF0dGFjaGVkIGFmdGVyIFNlbnRyeSB3YXMgaW5pdGlhbGl6ZWQsIHdoaWNoIG1lYW5zIHRoYXQgaXQgd2FzIHVzaW5nXG4gICAgICAgICAgICAgICAgICogb3VyIHdyYXBwZWQgdmVyc2lvbiBvZiBgYWRkRXZlbnRMaXN0ZW5lcmAsIHdoaWNoIGludGVybmFsbHkgY2FsbHMgYHdyYXBgIGhlbHBlci5cbiAgICAgICAgICAgICAgICAgKiBUaGlzIGhlbHBlciBcIndyYXBzXCIgd2hvbGUgY2FsbGJhY2sgaW5zaWRlIGEgdHJ5L2NhdGNoIHN0YXRlbWVudCwgYW5kIGF0dGFjaGVkIGFwcHJvcHJpYXRlIG1ldGFkYXRhIHRvIGl0LFxuICAgICAgICAgICAgICAgICAqIGluIG9yZGVyIGZvciB1cyB0byBtYWtlIGEgZGlzdGluY3Rpb24gYmV0d2VlbiB3cmFwcGVkL25vbi13cmFwcGVkIGZ1bmN0aW9ucyBwb3NzaWJsZS5cbiAgICAgICAgICAgICAgICAgKiBJZiBhIGZ1bmN0aW9uIHdhcyB3cmFwcGVkLCBpdCBoYXMgYWRkaXRpb25hbCBwcm9wZXJ0eSBvZiBgX19zZW50cnlfd3JhcHBlZF9fYCwgaG9sZGluZyB0aGUgaGFuZGxlci5cbiAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAqIFdoZW4gc29tZW9uZSBhZGRzIGEgaGFuZGxlciBwcmlvciB0byBpbml0aWFsaXphdGlvbiwgYW5kIHRoZW4gZG8gaXQgYWdhaW4sIGJ1dCBhZnRlcixcbiAgICAgICAgICAgICAgICAgKiB0aGVuIHdlIGhhdmUgdG8gZGV0YWNoIGJvdGggb2YgdGhlbS4gT3RoZXJ3aXNlLCBpZiB3ZSdkIGRldGFjaCBvbmx5IHdyYXBwZWQgb25lLCBpdCdkIGJlIGltcG9zc2libGVcbiAgICAgICAgICAgICAgICAgKiB0byBnZXQgcmlkIG9mIHRoZSBpbml0aWFsIGhhbmRsZXIgYW5kIGl0J2Qgc3RpY2sgdGhlcmUgZm9yZXZlci5cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZEV2ZW50SGFuZGxlciA9IGZuO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbEV2ZW50SGFuZGxlciA9IChfYSA9IHdyYXBwZWRFdmVudEhhbmRsZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5fX3NlbnRyeV93cmFwcGVkX187XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEV2ZW50SGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxSZW1vdmVFdmVudExpc3RlbmVyLmNhbGwodGhpcywgZXZlbnROYW1lLCBvcmlnaW5hbEV2ZW50SGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWdub3JlLCBhY2Nlc3NpbmcgX19zZW50cnlfd3JhcHBlZF9fIHdpbGwgdGhyb3cgaW4gc29tZSBTZWxlbml1bSBlbnZpcm9ubWVudHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVtb3ZlRXZlbnRMaXN0ZW5lci5jYWxsKHRoaXMsIGV2ZW50TmFtZSwgd3JhcHBlZEV2ZW50SGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIFRyeUNhdGNoLnByb3RvdHlwZS5fd3JhcFhIUiA9IGZ1bmN0aW9uIChvcmlnaW5hbFNlbmQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdGhpcy1hbGlhc1xuICAgICAgICAgICAgdmFyIHhociA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgeG1sSHR0cFJlcXVlc3RQcm9wcyA9IFsnb25sb2FkJywgJ29uZXJyb3InLCAnb25wcm9ncmVzcycsICdvbnJlYWR5c3RhdGVjaGFuZ2UnXTtcbiAgICAgICAgICAgIHhtbEh0dHBSZXF1ZXN0UHJvcHMuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wIGluIHhociAmJiB0eXBlb2YgeGhyW3Byb3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICAgICAgICAgIGZpbGwoeGhyLCBwcm9wLCBmdW5jdGlvbiAob3JpZ2luYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3cmFwT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWNoYW5pc206IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb246IHByb3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBnZXRGdW5jdGlvbk5hbWUob3JpZ2luYWwpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5zdHJ1bWVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBJbnN0cnVtZW50IGludGVncmF0aW9uIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUgVHJ5Q2F0Y2gsIGdldCB0aGUgbmFtZSBvZiBvcmlnaW5hbCBmdW5jdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsLl9fc2VudHJ5X29yaWdpbmFsX18pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cmFwT3B0aW9ucy5tZWNoYW5pc20uZGF0YS5oYW5kbGVyID0gZ2V0RnVuY3Rpb25OYW1lKG9yaWdpbmFsLl9fc2VudHJ5X29yaWdpbmFsX18pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHdyYXAgZGlyZWN0bHlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3cmFwKG9yaWdpbmFsLCB3cmFwT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsU2VuZC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgVHJ5Q2F0Y2guaWQgPSAnVHJ5Q2F0Y2gnO1xuICAgIHJldHVybiBUcnlDYXRjaDtcbn0oKSk7XG5leHBvcnQgeyBUcnlDYXRjaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJ5Y2F0Y2guanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2VzcyAqL1xuaW1wb3J0IHsgZ2V0Q3VycmVudEh1YiB9IGZyb20gJ0BzZW50cnkvY29yZSc7XG5pbXBvcnQgeyBTZXZlcml0eSB9IGZyb20gJ0BzZW50cnkvdHlwZXMnO1xuaW1wb3J0IHsgYWRkRXhjZXB0aW9uTWVjaGFuaXNtLCBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyLCBnZXRMb2NhdGlvbkhyZWYsIGlzRXJyb3JFdmVudCwgaXNQcmltaXRpdmUsIGlzU3RyaW5nLCBsb2dnZXIsIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBldmVudEZyb21Vbmtub3duSW5wdXQgfSBmcm9tICcuLi9ldmVudGJ1aWxkZXInO1xuaW1wb3J0IHsgc2hvdWxkSWdub3JlT25FcnJvciB9IGZyb20gJy4uL2hlbHBlcnMnO1xuLyoqIEdsb2JhbCBoYW5kbGVycyAqL1xudmFyIEdsb2JhbEhhbmRsZXJzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIGZ1bmN0aW9uIEdsb2JhbEhhbmRsZXJzKG9wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbmhlcml0RG9jXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBHbG9iYWxIYW5kbGVycy5pZDtcbiAgICAgICAgLyoqIEpTRG9jICovXG4gICAgICAgIHRoaXMuX29uRXJyb3JIYW5kbGVySW5zdGFsbGVkID0gZmFsc2U7XG4gICAgICAgIC8qKiBKU0RvYyAqL1xuICAgICAgICB0aGlzLl9vblVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZXJJbnN0YWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IF9fYXNzaWduKHsgb25lcnJvcjogdHJ1ZSwgb251bmhhbmRsZWRyZWplY3Rpb246IHRydWUgfSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgR2xvYmFsSGFuZGxlcnMucHJvdG90eXBlLnNldHVwT25jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gNTA7XG4gICAgICAgIGlmICh0aGlzLl9vcHRpb25zLm9uZXJyb3IpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ0dsb2JhbCBIYW5kbGVyIGF0dGFjaGVkOiBvbmVycm9yJyk7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YWxsR2xvYmFsT25FcnJvckhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5vbnVuaGFuZGxlZHJlamVjdGlvbikge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnR2xvYmFsIEhhbmRsZXIgYXR0YWNoZWQ6IG9udW5oYW5kbGVkcmVqZWN0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YWxsR2xvYmFsT25VbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBKU0RvYyAqL1xuICAgIEdsb2JhbEhhbmRsZXJzLnByb3RvdHlwZS5faW5zdGFsbEdsb2JhbE9uRXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5fb25FcnJvckhhbmRsZXJJbnN0YWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyKHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBkYXRhLmVycm9yO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50SHViID0gZ2V0Q3VycmVudEh1YigpO1xuICAgICAgICAgICAgICAgIHZhciBoYXNJbnRlZ3JhdGlvbiA9IGN1cnJlbnRIdWIuZ2V0SW50ZWdyYXRpb24oR2xvYmFsSGFuZGxlcnMpO1xuICAgICAgICAgICAgICAgIHZhciBpc0ZhaWxlZE93bkRlbGl2ZXJ5ID0gZXJyb3IgJiYgZXJyb3IuX19zZW50cnlfb3duX3JlcXVlc3RfXyA9PT0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0ludGVncmF0aW9uIHx8IHNob3VsZElnbm9yZU9uRXJyb3IoKSB8fCBpc0ZhaWxlZE93bkRlbGl2ZXJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGNsaWVudCA9IGN1cnJlbnRIdWIuZ2V0Q2xpZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gaXNQcmltaXRpdmUoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgID8gX3RoaXMuX2V2ZW50RnJvbUluY29tcGxldGVPbkVycm9yKGRhdGEubXNnLCBkYXRhLnVybCwgZGF0YS5saW5lLCBkYXRhLmNvbHVtbilcbiAgICAgICAgICAgICAgICAgICAgOiBfdGhpcy5fZW5oYW5jZUV2ZW50V2l0aEluaXRpYWxGcmFtZShldmVudEZyb21Vbmtub3duSW5wdXQoZXJyb3IsIHVuZGVmaW5lZCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoU3RhY2t0cmFjZTogY2xpZW50ICYmIGNsaWVudC5nZXRPcHRpb25zKCkuYXR0YWNoU3RhY2t0cmFjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdGlvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIH0pLCBkYXRhLnVybCwgZGF0YS5saW5lLCBkYXRhLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgYWRkRXhjZXB0aW9uTWVjaGFuaXNtKGV2ZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb25lcnJvcicsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY3VycmVudEh1Yi5jYXB0dXJlRXZlbnQoZXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFeGNlcHRpb246IGVycm9yLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9vbkVycm9ySGFuZGxlckluc3RhbGxlZCA9IHRydWU7XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICBHbG9iYWxIYW5kbGVycy5wcm90b3R5cGUuX2luc3RhbGxHbG9iYWxPblVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLl9vblVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZXJJbnN0YWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyKHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBlO1xuICAgICAgICAgICAgICAgIC8vIGRpZyB0aGUgb2JqZWN0IG9mIHRoZSByZWplY3Rpb24gb3V0IG9mIGtub3duIGV2ZW50IHR5cGVzXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvbWlzZVJlamVjdGlvbkV2ZW50cyBzdG9yZSB0aGUgb2JqZWN0IG9mIHRoZSByZWplY3Rpb24gdW5kZXIgJ3JlYXNvbidcbiAgICAgICAgICAgICAgICAgICAgLy8gc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Qcm9taXNlUmVqZWN0aW9uRXZlbnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdyZWFzb24nIGluIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gZS5yZWFzb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gc29tZXRoaW5nLCBzb21ld2hlcmUsIChsaWtlbHkgYSBicm93c2VyIGV4dGVuc2lvbikgZWZmZWN0aXZlbHkgY2FzdHMgUHJvbWlzZVJlamVjdGlvbkV2ZW50c1xuICAgICAgICAgICAgICAgICAgICAvLyB0byBDdXN0b21FdmVudHMsIG1vdmluZyB0aGUgYHByb21pc2VgIGFuZCBgcmVhc29uYCBhdHRyaWJ1dGVzIG9mIHRoZSBQUkUgaW50b1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGUgQ3VzdG9tRXZlbnQncyBgZGV0YWlsYCBhdHRyaWJ1dGUsIHNpbmNlIHRoZXkncmUgbm90IHBhcnQgb2YgQ3VzdG9tRXZlbnQncyBzcGVjXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQgYW5kXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9nZXRzZW50cnkvc2VudHJ5LWphdmFzY3JpcHQvaXNzdWVzLzIzODBcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoJ2RldGFpbCcgaW4gZSAmJiAncmVhc29uJyBpbiBlLmRldGFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBlLmRldGFpbC5yZWFzb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKF9vTykge1xuICAgICAgICAgICAgICAgICAgICAvLyBuby1lbXB0eVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEh1YiA9IGdldEN1cnJlbnRIdWIoKTtcbiAgICAgICAgICAgICAgICB2YXIgaGFzSW50ZWdyYXRpb24gPSBjdXJyZW50SHViLmdldEludGVncmF0aW9uKEdsb2JhbEhhbmRsZXJzKTtcbiAgICAgICAgICAgICAgICB2YXIgaXNGYWlsZWRPd25EZWxpdmVyeSA9IGVycm9yICYmIGVycm9yLl9fc2VudHJ5X293bl9yZXF1ZXN0X18gPT09IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKCFoYXNJbnRlZ3JhdGlvbiB8fCBzaG91bGRJZ25vcmVPbkVycm9yKCkgfHwgaXNGYWlsZWRPd25EZWxpdmVyeSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGNsaWVudCA9IGN1cnJlbnRIdWIuZ2V0Q2xpZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50ID0gaXNQcmltaXRpdmUoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgID8gX3RoaXMuX2V2ZW50RnJvbVJlamVjdGlvbldpdGhQcmltaXRpdmUoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgIDogZXZlbnRGcm9tVW5rbm93bklucHV0KGVycm9yLCB1bmRlZmluZWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaFN0YWNrdHJhY2U6IGNsaWVudCAmJiBjbGllbnQuZ2V0T3B0aW9ucygpLmF0dGFjaFN0YWNrdHJhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3Rpb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGV2ZW50LmxldmVsID0gU2V2ZXJpdHkuRXJyb3I7XG4gICAgICAgICAgICAgICAgYWRkRXhjZXB0aW9uTWVjaGFuaXNtKGV2ZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnb251bmhhbmRsZWRyZWplY3Rpb24nLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRIdWIuY2FwdHVyZUV2ZW50KGV2ZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXhjZXB0aW9uOiBlcnJvcixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ3VuaGFuZGxlZHJlamVjdGlvbicsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9vblVuaGFuZGxlZFJlamVjdGlvbkhhbmRsZXJJbnN0YWxsZWQgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjcmVhdGVzIGEgc3RhY2sgZnJvbSBhbiBvbGQsIGVycm9yLWxlc3Mgb25lcnJvciBoYW5kbGVyLlxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgR2xvYmFsSGFuZGxlcnMucHJvdG90eXBlLl9ldmVudEZyb21JbmNvbXBsZXRlT25FcnJvciA9IGZ1bmN0aW9uIChtc2csIHVybCwgbGluZSwgY29sdW1uKSB7XG4gICAgICAgIHZhciBFUlJPUl9UWVBFU19SRSA9IC9eKD86W1V1XW5jYXVnaHQgKD86ZXhjZXB0aW9uOiApPyk/KD86KCg/OkV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSXwpRXJyb3IpOiApPyguKikkL2k7XG4gICAgICAgIC8vIElmICdtZXNzYWdlJyBpcyBFcnJvckV2ZW50LCBnZXQgcmVhbCBtZXNzYWdlIGZyb20gaW5zaWRlXG4gICAgICAgIHZhciBtZXNzYWdlID0gaXNFcnJvckV2ZW50KG1zZykgPyBtc2cubWVzc2FnZSA6IG1zZztcbiAgICAgICAgdmFyIG5hbWU7XG4gICAgICAgIGlmIChpc1N0cmluZyhtZXNzYWdlKSkge1xuICAgICAgICAgICAgdmFyIGdyb3VwcyA9IG1lc3NhZ2UubWF0Y2goRVJST1JfVFlQRVNfUkUpO1xuICAgICAgICAgICAgaWYgKGdyb3Vwcykge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBncm91cHNbMV07XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IGdyb3Vwc1syXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZXZlbnQgPSB7XG4gICAgICAgICAgICBleGNlcHRpb246IHtcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogbmFtZSB8fCAnRXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmhhbmNlRXZlbnRXaXRoSW5pdGlhbEZyYW1lKGV2ZW50LCB1cmwsIGxpbmUsIGNvbHVtbik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gZXZlbnQgZnJvbSBhIHByb21pc2UgcmVqZWN0aW9uIHdoZXJlIHRoZSBgcmVhc29uYCBpcyBhIHByaW1pdGl2ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSByZWFzb246IFRoZSBgcmVhc29uYCBwcm9wZXJ0eSBvZiB0aGUgcHJvbWlzZSByZWplY3Rpb25cbiAgICAgKiBAcmV0dXJucyBBbiBFdmVudCBvYmplY3Qgd2l0aCBhbiBhcHByb3ByaWF0ZSBgZXhjZXB0aW9uYCB2YWx1ZVxuICAgICAqL1xuICAgIEdsb2JhbEhhbmRsZXJzLnByb3RvdHlwZS5fZXZlbnRGcm9tUmVqZWN0aW9uV2l0aFByaW1pdGl2ZSA9IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGV4Y2VwdGlvbjoge1xuICAgICAgICAgICAgICAgIHZhbHVlczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnVW5oYW5kbGVkUmVqZWN0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFN0cmluZygpIGlzIG5lZWRlZCBiZWNhdXNlIHRoZSBQcmltaXRpdmUgdHlwZSBpbmNsdWRlcyBzeW1ib2xzICh3aGljaCBjYW4ndCBiZSBhdXRvbWF0aWNhbGx5IHN0cmluZ2lmaWVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFwiTm9uLUVycm9yIHByb21pc2UgcmVqZWN0aW9uIGNhcHR1cmVkIHdpdGggdmFsdWU6IFwiICsgU3RyaW5nKHJlYXNvbiksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKiogSlNEb2MgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIEdsb2JhbEhhbmRsZXJzLnByb3RvdHlwZS5fZW5oYW5jZUV2ZW50V2l0aEluaXRpYWxGcmFtZSA9IGZ1bmN0aW9uIChldmVudCwgdXJsLCBsaW5lLCBjb2x1bW4pIHtcbiAgICAgICAgZXZlbnQuZXhjZXB0aW9uID0gZXZlbnQuZXhjZXB0aW9uIHx8IHt9O1xuICAgICAgICBldmVudC5leGNlcHRpb24udmFsdWVzID0gZXZlbnQuZXhjZXB0aW9uLnZhbHVlcyB8fCBbXTtcbiAgICAgICAgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXSA9IGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0gfHwge307XG4gICAgICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0uc3RhY2t0cmFjZSA9IGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0uc3RhY2t0cmFjZSB8fCB7fTtcbiAgICAgICAgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXS5zdGFja3RyYWNlLmZyYW1lcyA9IGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0uc3RhY2t0cmFjZS5mcmFtZXMgfHwgW107XG4gICAgICAgIHZhciBjb2xubyA9IGlzTmFOKHBhcnNlSW50KGNvbHVtbiwgMTApKSA/IHVuZGVmaW5lZCA6IGNvbHVtbjtcbiAgICAgICAgdmFyIGxpbmVubyA9IGlzTmFOKHBhcnNlSW50KGxpbmUsIDEwKSkgPyB1bmRlZmluZWQgOiBsaW5lO1xuICAgICAgICB2YXIgZmlsZW5hbWUgPSBpc1N0cmluZyh1cmwpICYmIHVybC5sZW5ndGggPiAwID8gdXJsIDogZ2V0TG9jYXRpb25IcmVmKCk7XG4gICAgICAgIGlmIChldmVudC5leGNlcHRpb24udmFsdWVzWzBdLnN0YWNrdHJhY2UuZnJhbWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXS5zdGFja3RyYWNlLmZyYW1lcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2xubzogY29sbm8sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IGZpbGVuYW1lLFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiAnPycsXG4gICAgICAgICAgICAgICAgaW5fYXBwOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxpbmVubzogbGluZW5vLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBHbG9iYWxIYW5kbGVycy5pZCA9ICdHbG9iYWxIYW5kbGVycyc7XG4gICAgcmV0dXJuIEdsb2JhbEhhbmRsZXJzO1xufSgpKTtcbmV4cG9ydCB7IEdsb2JhbEhhbmRsZXJzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nbG9iYWxoYW5kbGVycy5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBhZGRHbG9iYWxFdmVudFByb2Nlc3NvciwgZ2V0Q3VycmVudEh1YiB9IGZyb20gJ0BzZW50cnkvY29yZSc7XG5pbXBvcnQgeyBpc0luc3RhbmNlT2YgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IGV4Y2VwdGlvbkZyb21TdGFja3RyYWNlIH0gZnJvbSAnLi4vcGFyc2Vycyc7XG5pbXBvcnQgeyBjb21wdXRlU3RhY2tUcmFjZSB9IGZyb20gJy4uL3RyYWNla2l0JztcbnZhciBERUZBVUxUX0tFWSA9ICdjYXVzZSc7XG52YXIgREVGQVVMVF9MSU1JVCA9IDU7XG4vKiogQWRkcyBTREsgaW5mbyB0byBhbiBldmVudC4gKi9cbnZhciBMaW5rZWRFcnJvcnMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBMaW5rZWRFcnJvcnMob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGluaGVyaXREb2NcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IExpbmtlZEVycm9ycy5pZDtcbiAgICAgICAgdGhpcy5fa2V5ID0gb3B0aW9ucy5rZXkgfHwgREVGQVVMVF9LRVk7XG4gICAgICAgIHRoaXMuX2xpbWl0ID0gb3B0aW9ucy5saW1pdCB8fCBERUZBVUxUX0xJTUlUO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIExpbmtlZEVycm9ycy5wcm90b3R5cGUuc2V0dXBPbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRHbG9iYWxFdmVudFByb2Nlc3NvcihmdW5jdGlvbiAoZXZlbnQsIGhpbnQpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gZ2V0Q3VycmVudEh1YigpLmdldEludGVncmF0aW9uKExpbmtlZEVycm9ycyk7XG4gICAgICAgICAgICBpZiAoc2VsZikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9oYW5kbGVyKGV2ZW50LCBoaW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBldmVudDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIExpbmtlZEVycm9ycy5wcm90b3R5cGUuX2hhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGhpbnQpIHtcbiAgICAgICAgaWYgKCFldmVudC5leGNlcHRpb24gfHwgIWV2ZW50LmV4Y2VwdGlvbi52YWx1ZXMgfHwgIWhpbnQgfHwgIWlzSW5zdGFuY2VPZihoaW50Lm9yaWdpbmFsRXhjZXB0aW9uLCBFcnJvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbGlua2VkRXJyb3JzID0gdGhpcy5fd2Fsa0Vycm9yVHJlZShoaW50Lm9yaWdpbmFsRXhjZXB0aW9uLCB0aGlzLl9rZXkpO1xuICAgICAgICBldmVudC5leGNlcHRpb24udmFsdWVzID0gX19zcHJlYWQobGlua2VkRXJyb3JzLCBldmVudC5leGNlcHRpb24udmFsdWVzKTtcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBMaW5rZWRFcnJvcnMucHJvdG90eXBlLl93YWxrRXJyb3JUcmVlID0gZnVuY3Rpb24gKGVycm9yLCBrZXksIHN0YWNrKSB7XG4gICAgICAgIGlmIChzdGFjayA9PT0gdm9pZCAwKSB7IHN0YWNrID0gW107IH1cbiAgICAgICAgaWYgKCFpc0luc3RhbmNlT2YoZXJyb3Jba2V5XSwgRXJyb3IpIHx8IHN0YWNrLmxlbmd0aCArIDEgPj0gdGhpcy5fbGltaXQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhY2t0cmFjZSA9IGNvbXB1dGVTdGFja1RyYWNlKGVycm9yW2tleV0pO1xuICAgICAgICB2YXIgZXhjZXB0aW9uID0gZXhjZXB0aW9uRnJvbVN0YWNrdHJhY2Uoc3RhY2t0cmFjZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl93YWxrRXJyb3JUcmVlKGVycm9yW2tleV0sIGtleSwgX19zcHJlYWQoW2V4Y2VwdGlvbl0sIHN0YWNrKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIExpbmtlZEVycm9ycy5pZCA9ICdMaW5rZWRFcnJvcnMnO1xuICAgIHJldHVybiBMaW5rZWRFcnJvcnM7XG59KCkpO1xuZXhwb3J0IHsgTGlua2VkRXJyb3JzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saW5rZWRlcnJvcnMuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGFkZEdsb2JhbEV2ZW50UHJvY2Vzc29yLCBnZXRDdXJyZW50SHViIH0gZnJvbSAnQHNlbnRyeS9jb3JlJztcbmltcG9ydCB7IGdldEdsb2JhbE9iamVjdCB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xudmFyIGdsb2JhbCA9IGdldEdsb2JhbE9iamVjdCgpO1xuLyoqIFVzZXJBZ2VudCAqL1xudmFyIFVzZXJBZ2VudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBVc2VyQWdlbnQoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW5oZXJpdERvY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5uYW1lID0gVXNlckFnZW50LmlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFVzZXJBZ2VudC5wcm90b3R5cGUuc2V0dXBPbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGRHbG9iYWxFdmVudFByb2Nlc3NvcihmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICAgICAgaWYgKGdldEN1cnJlbnRIdWIoKS5nZXRJbnRlZ3JhdGlvbihVc2VyQWdlbnQpKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgbm9uZSBvZiB0aGUgaW5mb3JtYXRpb24gd2Ugd2FudCBleGlzdHMsIGRvbid0IGJvdGhlclxuICAgICAgICAgICAgICAgIGlmICghZ2xvYmFsLm5hdmlnYXRvciAmJiAhZ2xvYmFsLmxvY2F0aW9uICYmICFnbG9iYWwuZG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBncmFiIGFzIG11Y2ggaW5mbyBhcyBleGlzdHMgYW5kIGFkZCBpdCB0byB0aGUgZXZlbnRcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gKChfYSA9IGV2ZW50LnJlcXVlc3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51cmwpIHx8ICgoX2IgPSBnbG9iYWwubG9jYXRpb24pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5ocmVmKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVmZXJyZXIgPSAoZ2xvYmFsLmRvY3VtZW50IHx8IHt9KS5yZWZlcnJlcjtcbiAgICAgICAgICAgICAgICB2YXIgdXNlckFnZW50ID0gKGdsb2JhbC5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudDtcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVycyA9IF9fYXNzaWduKF9fYXNzaWduKF9fYXNzaWduKHt9LCAoX2MgPSBldmVudC5yZXF1ZXN0KSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuaGVhZGVycyksIChyZWZlcnJlciAmJiB7IFJlZmVyZXI6IHJlZmVycmVyIH0pKSwgKHVzZXJBZ2VudCAmJiB7ICdVc2VyLUFnZW50JzogdXNlckFnZW50IH0pKTtcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCAodXJsICYmIHsgdXJsOiB1cmwgfSkpLCB7IGhlYWRlcnM6IGhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYXNzaWduKF9fYXNzaWduKHt9LCBldmVudCksIHsgcmVxdWVzdDogcmVxdWVzdCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBldmVudDtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFVzZXJBZ2VudC5pZCA9ICdVc2VyQWdlbnQnO1xuICAgIHJldHVybiBVc2VyQWdlbnQ7XG59KCkpO1xuZXhwb3J0IHsgVXNlckFnZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2VyYWdlbnQuanMubWFwIiwiaW1wb3J0IHsgZ2V0Q3VycmVudEh1YiwgaW5pdEFuZEJpbmQsIEludGVncmF0aW9ucyBhcyBDb3JlSW50ZWdyYXRpb25zLCBTREtfVkVSU0lPTiB9IGZyb20gJ0BzZW50cnkvY29yZSc7XG5pbXBvcnQgeyBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyLCBnZXRHbG9iYWxPYmplY3QsIGxvZ2dlciwgU3luY1Byb21pc2UgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IEJyb3dzZXJDbGllbnQgfSBmcm9tICcuL2NsaWVudCc7XG5pbXBvcnQgeyB3cmFwIGFzIGludGVybmFsV3JhcCB9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgeyBCcmVhZGNydW1icywgR2xvYmFsSGFuZGxlcnMsIExpbmtlZEVycm9ycywgVHJ5Q2F0Y2gsIFVzZXJBZ2VudCB9IGZyb20gJy4vaW50ZWdyYXRpb25zJztcbmV4cG9ydCB2YXIgZGVmYXVsdEludGVncmF0aW9ucyA9IFtcbiAgICBuZXcgQ29yZUludGVncmF0aW9ucy5JbmJvdW5kRmlsdGVycygpLFxuICAgIG5ldyBDb3JlSW50ZWdyYXRpb25zLkZ1bmN0aW9uVG9TdHJpbmcoKSxcbiAgICBuZXcgVHJ5Q2F0Y2goKSxcbiAgICBuZXcgQnJlYWRjcnVtYnMoKSxcbiAgICBuZXcgR2xvYmFsSGFuZGxlcnMoKSxcbiAgICBuZXcgTGlua2VkRXJyb3JzKCksXG4gICAgbmV3IFVzZXJBZ2VudCgpLFxuXTtcbi8qKlxuICogVGhlIFNlbnRyeSBCcm93c2VyIFNESyBDbGllbnQuXG4gKlxuICogVG8gdXNlIHRoaXMgU0RLLCBjYWxsIHRoZSB7QGxpbmsgaW5pdH0gZnVuY3Rpb24gYXMgZWFybHkgYXMgcG9zc2libGUgd2hlblxuICogbG9hZGluZyB0aGUgd2ViIHBhZ2UuIFRvIHNldCBjb250ZXh0IGluZm9ybWF0aW9uIG9yIHNlbmQgbWFudWFsIGV2ZW50cywgdXNlXG4gKiB0aGUgcHJvdmlkZWQgbWV0aG9kcy5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYFxuICpcbiAqIGltcG9ydCB7IGluaXQgfSBmcm9tICdAc2VudHJ5L2Jyb3dzZXInO1xuICpcbiAqIGluaXQoe1xuICogICBkc246ICdfX0RTTl9fJyxcbiAqICAgLy8gLi4uXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGBcbiAqXG4gKiBpbXBvcnQgeyBjb25maWd1cmVTY29wZSB9IGZyb20gJ0BzZW50cnkvYnJvd3Nlcic7XG4gKiBjb25maWd1cmVTY29wZSgoc2NvcGU6IFNjb3BlKSA9PiB7XG4gKiAgIHNjb3BlLnNldEV4dHJhKHsgYmF0dGVyeTogMC43IH0pO1xuICogICBzY29wZS5zZXRUYWcoeyB1c2VyX21vZGU6ICdhZG1pbicgfSk7XG4gKiAgIHNjb3BlLnNldFVzZXIoeyBpZDogJzQ3MTEnIH0pO1xuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgXG4gKlxuICogaW1wb3J0IHsgYWRkQnJlYWRjcnVtYiB9IGZyb20gJ0BzZW50cnkvYnJvd3Nlcic7XG4gKiBhZGRCcmVhZGNydW1iKHtcbiAqICAgbWVzc2FnZTogJ015IEJyZWFkY3J1bWInLFxuICogICAvLyAuLi5cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGBcbiAqXG4gKiBpbXBvcnQgKiBhcyBTZW50cnkgZnJvbSAnQHNlbnRyeS9icm93c2VyJztcbiAqIFNlbnRyeS5jYXB0dXJlTWVzc2FnZSgnSGVsbG8sIHdvcmxkIScpO1xuICogU2VudHJ5LmNhcHR1cmVFeGNlcHRpb24obmV3IEVycm9yKCdHb29kIGJ5ZScpKTtcbiAqIFNlbnRyeS5jYXB0dXJlRXZlbnQoe1xuICogICBtZXNzYWdlOiAnTWFudWFsJyxcbiAqICAgc3RhY2t0cmFjZTogW1xuICogICAgIC8vIC4uLlxuICogICBdLFxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIHtAbGluayBCcm93c2VyT3B0aW9uc30gZm9yIGRvY3VtZW50YXRpb24gb24gY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICBpZiAob3B0aW9ucy5kZWZhdWx0SW50ZWdyYXRpb25zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3B0aW9ucy5kZWZhdWx0SW50ZWdyYXRpb25zID0gZGVmYXVsdEludGVncmF0aW9ucztcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMucmVsZWFzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciB3aW5kb3dfMSA9IGdldEdsb2JhbE9iamVjdCgpO1xuICAgICAgICAvLyBUaGlzIHN1cHBvcnRzIHRoZSB2YXJpYWJsZSB0aGF0IHNlbnRyeS13ZWJwYWNrLXBsdWdpbiBpbmplY3RzXG4gICAgICAgIGlmICh3aW5kb3dfMS5TRU5UUllfUkVMRUFTRSAmJiB3aW5kb3dfMS5TRU5UUllfUkVMRUFTRS5pZCkge1xuICAgICAgICAgICAgb3B0aW9ucy5yZWxlYXNlID0gd2luZG93XzEuU0VOVFJZX1JFTEVBU0UuaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKG9wdGlvbnMuYXV0b1Nlc3Npb25UcmFja2luZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG9wdGlvbnMuYXV0b1Nlc3Npb25UcmFja2luZyA9IHRydWU7XG4gICAgfVxuICAgIG9wdGlvbnMuX21ldGFkYXRhID0gb3B0aW9ucy5fbWV0YWRhdGEgfHwge307XG4gICAgb3B0aW9ucy5fbWV0YWRhdGEuc2RrID0ge1xuICAgICAgICBuYW1lOiAnc2VudHJ5LmphdmFzY3JpcHQuYnJvd3NlcicsXG4gICAgICAgIHBhY2thZ2VzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ25wbTpAc2VudHJ5L2Jyb3dzZXInLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IFNES19WRVJTSU9OLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgdmVyc2lvbjogU0RLX1ZFUlNJT04sXG4gICAgfTtcbiAgICBpbml0QW5kQmluZChCcm93c2VyQ2xpZW50LCBvcHRpb25zKTtcbiAgICBpZiAob3B0aW9ucy5hdXRvU2Vzc2lvblRyYWNraW5nKSB7XG4gICAgICAgIHN0YXJ0U2Vzc2lvblRyYWNraW5nKCk7XG4gICAgfVxufVxuLyoqXG4gKiBQcmVzZW50IHRoZSB1c2VyIHdpdGggYSByZXBvcnQgZGlhbG9nLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIEV2ZXJ5dGhpbmcgaXMgb3B0aW9uYWwsIHdlIHRyeSB0byBmZXRjaCBhbGwgaW5mbyBuZWVkIGZyb20gdGhlIGdsb2JhbCBzY29wZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3dSZXBvcnREaWFsb2cob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgaWYgKCFvcHRpb25zLmV2ZW50SWQpIHtcbiAgICAgICAgb3B0aW9ucy5ldmVudElkID0gZ2V0Q3VycmVudEh1YigpLmxhc3RFdmVudElkKCk7XG4gICAgfVxuICAgIHZhciBjbGllbnQgPSBnZXRDdXJyZW50SHViKCkuZ2V0Q2xpZW50KCk7XG4gICAgaWYgKGNsaWVudCkge1xuICAgICAgICBjbGllbnQuc2hvd1JlcG9ydERpYWxvZyhvcHRpb25zKTtcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgaXMgdGhlIGdldHRlciBmb3IgbGFzdEV2ZW50SWQuXG4gKlxuICogQHJldHVybnMgVGhlIGxhc3QgZXZlbnQgaWQgb2YgYSBjYXB0dXJlZCBldmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxhc3RFdmVudElkKCkge1xuICAgIHJldHVybiBnZXRDdXJyZW50SHViKCkubGFzdEV2ZW50SWQoKTtcbn1cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBpcyBoZXJlIHRvIGJlIEFQSSBjb21wYXRpYmxlIHdpdGggdGhlIGxvYWRlci5cbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmNlTG9hZCgpIHtcbiAgICAvLyBOb29wXG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gaXMgaGVyZSB0byBiZSBBUEkgY29tcGF0aWJsZSB3aXRoIHRoZSBsb2FkZXIuXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvbkxvYWQoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjaygpO1xufVxuLyoqXG4gKiBBIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCBjdXJyZW50IGV2ZW50cyBoYXZlIGJlZW4gc2VudC5cbiAqIElmIHlvdSBwcm92aWRlIGEgdGltZW91dCBhbmQgdGhlIHF1ZXVlIHRha2VzIGxvbmdlciB0byBkcmFpbiB0aGUgcHJvbWlzZSByZXR1cm5zIGZhbHNlLlxuICpcbiAqIEBwYXJhbSB0aW1lb3V0IE1heGltdW0gdGltZSBpbiBtcyB0aGUgY2xpZW50IHNob3VsZCB3YWl0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmx1c2godGltZW91dCkge1xuICAgIHZhciBjbGllbnQgPSBnZXRDdXJyZW50SHViKCkuZ2V0Q2xpZW50KCk7XG4gICAgaWYgKGNsaWVudCkge1xuICAgICAgICByZXR1cm4gY2xpZW50LmZsdXNoKHRpbWVvdXQpO1xuICAgIH1cbiAgICByZXR1cm4gU3luY1Byb21pc2UucmVqZWN0KGZhbHNlKTtcbn1cbi8qKlxuICogQSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgY3VycmVudCBldmVudHMgaGF2ZSBiZWVuIHNlbnQuXG4gKiBJZiB5b3UgcHJvdmlkZSBhIHRpbWVvdXQgYW5kIHRoZSBxdWV1ZSB0YWtlcyBsb25nZXIgdG8gZHJhaW4gdGhlIHByb21pc2UgcmV0dXJucyBmYWxzZS5cbiAqXG4gKiBAcGFyYW0gdGltZW91dCBNYXhpbXVtIHRpbWUgaW4gbXMgdGhlIGNsaWVudCBzaG91bGQgd2FpdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsb3NlKHRpbWVvdXQpIHtcbiAgICB2YXIgY2xpZW50ID0gZ2V0Q3VycmVudEh1YigpLmdldENsaWVudCgpO1xuICAgIGlmIChjbGllbnQpIHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC5jbG9zZSh0aW1lb3V0KTtcbiAgICB9XG4gICAgcmV0dXJuIFN5bmNQcm9taXNlLnJlamVjdChmYWxzZSk7XG59XG4vKipcbiAqIFdyYXAgY29kZSB3aXRoaW4gYSB0cnkvY2F0Y2ggYmxvY2sgc28gdGhlIFNESyBpcyBhYmxlIHRvIGNhcHR1cmUgZXJyb3JzLlxuICpcbiAqIEBwYXJhbSBmbiBBIGZ1bmN0aW9uIHRvIHdyYXAuXG4gKlxuICogQHJldHVybnMgVGhlIHJlc3VsdCBvZiB3cmFwcGVkIGZ1bmN0aW9uIGNhbGwuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gd3JhcChmbikge1xuICAgIHJldHVybiBpbnRlcm5hbFdyYXAoZm4pKCk7XG59XG4vKipcbiAqIEVuYWJsZSBhdXRvbWF0aWMgU2Vzc2lvbiBUcmFja2luZyBmb3IgdGhlIGluaXRpYWwgcGFnZSBsb2FkLlxuICovXG5mdW5jdGlvbiBzdGFydFNlc3Npb25UcmFja2luZygpIHtcbiAgICB2YXIgd2luZG93ID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4gICAgdmFyIGRvY3VtZW50ID0gd2luZG93LmRvY3VtZW50O1xuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdTZXNzaW9uIHRyYWNraW5nIGluIG5vbi1icm93c2VyIGVudmlyb25tZW50IHdpdGggQHNlbnRyeS9icm93c2VyIGlzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGh1YiA9IGdldEN1cnJlbnRIdWIoKTtcbiAgICBodWIuc3RhcnRTZXNzaW9uKCk7XG4gICAgaHViLmNhcHR1cmVTZXNzaW9uKCk7XG4gICAgLy8gV2Ugd2FudCB0byBjcmVhdGUgYSBzZXNzaW9uIGZvciBldmVyeSBuYXZpZ2F0aW9uIGFzIHdlbGxcbiAgICBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyKHtcbiAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGh1Yi5zdGFydFNlc3Npb24oKTtcbiAgICAgICAgICAgIGh1Yi5jYXB0dXJlU2Vzc2lvbigpO1xuICAgICAgICB9LFxuICAgICAgICB0eXBlOiAnaGlzdG9yeScsXG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZGsuanMubWFwIiwiLy8gU2xpZ2h0bHkgbW9kaWZpZWQgKG5vIElFOCBzdXBwb3J0LCBFUzYpIGFuZCB0cmFuc2NyaWJlZCB0byBUeXBlU2NyaXB0XG4vLyBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vY2FsdmlubWV0Y2FsZi9yb2xsdXAtcGx1Z2luLW5vZGUtYnVpbHRpbnMvbWFzdGVyL3NyYy9lczYvcGF0aC5qc1xuLyoqIEpTRG9jICovXG5mdW5jdGlvbiBub3JtYWxpemVBcnJheShwYXJ0cywgYWxsb3dBYm92ZVJvb3QpIHtcbiAgICAvLyBpZiB0aGUgcGF0aCB0cmllcyB0byBnbyBhYm92ZSB0aGUgcm9vdCwgYHVwYCBlbmRzIHVwID4gMFxuICAgIHZhciB1cCA9IDA7XG4gICAgZm9yICh2YXIgaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHZhciBsYXN0ID0gcGFydHNbaV07XG4gICAgICAgIGlmIChsYXN0ID09PSAnLicpIHtcbiAgICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChsYXN0ID09PSAnLi4nKSB7XG4gICAgICAgICAgICBwYXJ0cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGx1c3BsdXNcbiAgICAgICAgICAgIHVwKys7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodXApIHtcbiAgICAgICAgICAgIHBhcnRzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wbHVzcGx1c1xuICAgICAgICAgICAgdXAtLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiB0aGUgcGF0aCBpcyBhbGxvd2VkIHRvIGdvIGFib3ZlIHRoZSByb290LCByZXN0b3JlIGxlYWRpbmcgLi5zXG4gICAgaWYgKGFsbG93QWJvdmVSb290KSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wbHVzcGx1c1xuICAgICAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgICAgICAgIHBhcnRzLnVuc2hpZnQoJy4uJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcnRzO1xufVxuLy8gU3BsaXQgYSBmaWxlbmFtZSBpbnRvIFtyb290LCBkaXIsIGJhc2VuYW1lLCBleHRdLCB1bml4IHZlcnNpb25cbi8vICdyb290JyBpcyBqdXN0IGEgc2xhc2gsIG9yIG5vdGhpbmcuXG52YXIgc3BsaXRQYXRoUmUgPSAvXihcXC8/fCkoW1xcc1xcU10qPykoKD86XFwuezEsMn18W14vXSs/fCkoXFwuW14uL10qfCkpKD86Wy9dKikkLztcbi8qKiBKU0RvYyAqL1xuZnVuY3Rpb24gc3BsaXRQYXRoKGZpbGVuYW1lKSB7XG4gICAgdmFyIHBhcnRzID0gc3BsaXRQYXRoUmUuZXhlYyhmaWxlbmFtZSk7XG4gICAgcmV0dXJuIHBhcnRzID8gcGFydHMuc2xpY2UoMSkgOiBbXTtcbn1cbi8vIHBhdGgucmVzb2x2ZShbZnJvbSAuLi5dLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbi8qKiBKU0RvYyAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmUoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXNvbHZlZFBhdGggPSAnJztcbiAgICB2YXIgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSBhcmdzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgICAgICB2YXIgcGF0aCA9IGkgPj0gMCA/IGFyZ3NbaV0gOiAnLyc7XG4gICAgICAgIC8vIFNraXAgZW1wdHkgZW50cmllc1xuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmVkUGF0aCA9IHBhdGggKyBcIi9cIiArIHJlc29sdmVkUGF0aDtcbiAgICAgICAgcmVzb2x2ZWRBYnNvbHV0ZSA9IHBhdGguY2hhckF0KDApID09PSAnLyc7XG4gICAgfVxuICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLCBidXRcbiAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcbiAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICByZXNvbHZlZFBhdGggPSBub3JtYWxpemVBcnJheShyZXNvbHZlZFBhdGguc3BsaXQoJy8nKS5maWx0ZXIoZnVuY3Rpb24gKHApIHsgcmV0dXJuICEhcDsgfSksICFyZXNvbHZlZEFic29sdXRlKS5qb2luKCcvJyk7XG4gICAgcmV0dXJuIChyZXNvbHZlZEFic29sdXRlID8gJy8nIDogJycpICsgcmVzb2x2ZWRQYXRoIHx8ICcuJztcbn1cbi8qKiBKU0RvYyAqL1xuZnVuY3Rpb24gdHJpbShhcnIpIHtcbiAgICB2YXIgc3RhcnQgPSAwO1xuICAgIGZvciAoOyBzdGFydCA8IGFyci5sZW5ndGg7IHN0YXJ0KyspIHtcbiAgICAgICAgaWYgKGFycltzdGFydF0gIT09ICcnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgZW5kID0gYXJyLmxlbmd0aCAtIDE7XG4gICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xuICAgICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3RhcnQgPiBlbmQpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyLnNsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCArIDEpO1xufVxuLy8gcGF0aC5yZWxhdGl2ZShmcm9tLCB0bylcbi8vIHBvc2l4IHZlcnNpb25cbi8qKiBKU0RvYyAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbGF0aXZlKGZyb20sIHRvKSB7XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tcGFyYW0tcmVhc3NpZ24gKi9cbiAgICBmcm9tID0gcmVzb2x2ZShmcm9tKS5zdWJzdHIoMSk7XG4gICAgdG8gPSByZXNvbHZlKHRvKS5zdWJzdHIoMSk7XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuICAgIHZhciBmcm9tUGFydHMgPSB0cmltKGZyb20uc3BsaXQoJy8nKSk7XG4gICAgdmFyIHRvUGFydHMgPSB0cmltKHRvLnNwbGl0KCcvJykpO1xuICAgIHZhciBsZW5ndGggPSBNYXRoLm1pbihmcm9tUGFydHMubGVuZ3RoLCB0b1BhcnRzLmxlbmd0aCk7XG4gICAgdmFyIHNhbWVQYXJ0c0xlbmd0aCA9IGxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmcm9tUGFydHNbaV0gIT09IHRvUGFydHNbaV0pIHtcbiAgICAgICAgICAgIHNhbWVQYXJ0c0xlbmd0aCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgb3V0cHV0UGFydHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIG91dHB1dFBhcnRzLnB1c2goJy4uJyk7XG4gICAgfVxuICAgIG91dHB1dFBhcnRzID0gb3V0cHV0UGFydHMuY29uY2F0KHRvUGFydHMuc2xpY2Uoc2FtZVBhcnRzTGVuZ3RoKSk7XG4gICAgcmV0dXJuIG91dHB1dFBhcnRzLmpvaW4oJy8nKTtcbn1cbi8vIHBhdGgubm9ybWFsaXplKHBhdGgpXG4vLyBwb3NpeCB2ZXJzaW9uXG4vKiogSlNEb2MgKi9cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVQYXRoKHBhdGgpIHtcbiAgICB2YXIgaXNQYXRoQWJzb2x1dGUgPSBpc0Fic29sdXRlKHBhdGgpO1xuICAgIHZhciB0cmFpbGluZ1NsYXNoID0gcGF0aC5zdWJzdHIoLTEpID09PSAnLyc7XG4gICAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gICAgdmFyIG5vcm1hbGl6ZWRQYXRoID0gbm9ybWFsaXplQXJyYXkocGF0aC5zcGxpdCgnLycpLmZpbHRlcihmdW5jdGlvbiAocCkgeyByZXR1cm4gISFwOyB9KSwgIWlzUGF0aEFic29sdXRlKS5qb2luKCcvJyk7XG4gICAgaWYgKCFub3JtYWxpemVkUGF0aCAmJiAhaXNQYXRoQWJzb2x1dGUpIHtcbiAgICAgICAgbm9ybWFsaXplZFBhdGggPSAnLic7XG4gICAgfVxuICAgIGlmIChub3JtYWxpemVkUGF0aCAmJiB0cmFpbGluZ1NsYXNoKSB7XG4gICAgICAgIG5vcm1hbGl6ZWRQYXRoICs9ICcvJztcbiAgICB9XG4gICAgcmV0dXJuIChpc1BhdGhBYnNvbHV0ZSA/ICcvJyA6ICcnKSArIG5vcm1hbGl6ZWRQYXRoO1xufVxuLy8gcG9zaXggdmVyc2lvblxuLyoqIEpTRG9jICovXG5leHBvcnQgZnVuY3Rpb24gaXNBYnNvbHV0ZShwYXRoKSB7XG4gICAgcmV0dXJuIHBhdGguY2hhckF0KDApID09PSAnLyc7XG59XG4vLyBwb3NpeCB2ZXJzaW9uXG4vKiogSlNEb2MgKi9cbmV4cG9ydCBmdW5jdGlvbiBqb2luKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplUGF0aChhcmdzLmpvaW4oJy8nKSk7XG59XG4vKiogSlNEb2MgKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXJuYW1lKHBhdGgpIHtcbiAgICB2YXIgcmVzdWx0ID0gc3BsaXRQYXRoKHBhdGgpO1xuICAgIHZhciByb290ID0gcmVzdWx0WzBdO1xuICAgIHZhciBkaXIgPSByZXN1bHRbMV07XG4gICAgaWYgKCFyb290ICYmICFkaXIpIHtcbiAgICAgICAgLy8gTm8gZGlybmFtZSB3aGF0c29ldmVyXG4gICAgICAgIHJldHVybiAnLic7XG4gICAgfVxuICAgIGlmIChkaXIpIHtcbiAgICAgICAgLy8gSXQgaGFzIGEgZGlybmFtZSwgc3RyaXAgdHJhaWxpbmcgc2xhc2hcbiAgICAgICAgZGlyID0gZGlyLnN1YnN0cigwLCBkaXIubGVuZ3RoIC0gMSk7XG4gICAgfVxuICAgIHJldHVybiByb290ICsgZGlyO1xufVxuLyoqIEpTRG9jICovXG5leHBvcnQgZnVuY3Rpb24gYmFzZW5hbWUocGF0aCwgZXh0KSB7XG4gICAgdmFyIGYgPSBzcGxpdFBhdGgocGF0aClbMl07XG4gICAgaWYgKGV4dCAmJiBmLnN1YnN0cihleHQubGVuZ3RoICogLTEpID09PSBleHQpIHtcbiAgICAgICAgZiA9IGYuc3Vic3RyKDAsIGYubGVuZ3RoIC0gZXh0Lmxlbmd0aCk7XG4gICAgfVxuICAgIHJldHVybiBmO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGF0aC5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiwgX19yZWFkLCBfX3NwcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuLyogZXNsaW50LWRpc2FibGUgbWF4LWxpbmVzLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5pbXBvcnQgeyBnZXRDdXJyZW50SHViLCBpbml0IGFzIGJyb3dzZXJJbml0LCBTREtfVkVSU0lPTiB9IGZyb20gJ0BzZW50cnkvYnJvd3Nlcic7XG5pbXBvcnQgeyBiYXNlbmFtZSwgZ2V0R2xvYmFsT2JqZWN0LCBsb2dnZXIsIHRpbWVzdGFtcFdpdGhNcyB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuLy8gTWFwcGluZ3MgZnJvbSBvcGVyYXRpb24gdG8gY29ycmVzcG9uZGluZyBsaWZlY3ljbGUgaG9vay5cbnZhciBIT09LUyA9IHtcbiAgICBhY3RpdmF0ZTogWydhY3RpdmF0ZWQnLCAnZGVhY3RpdmF0ZWQnXSxcbiAgICBjcmVhdGU6IFsnYmVmb3JlQ3JlYXRlJywgJ2NyZWF0ZWQnXSxcbiAgICBkZXN0cm95OiBbJ2JlZm9yZURlc3Ryb3knLCAnZGVzdHJveWVkJ10sXG4gICAgbW91bnQ6IFsnYmVmb3JlTW91bnQnLCAnbW91bnRlZCddLFxuICAgIHVwZGF0ZTogWydiZWZvcmVVcGRhdGUnLCAndXBkYXRlZCddLFxufTtcbnZhciBDT01QT05FTlRfTkFNRV9SRUdFWFAgPSAvKD86XnxbLV8vXSkoXFx3KS9nO1xudmFyIFJPT1RfQ09NUE9ORU5UX05BTUUgPSAncm9vdCc7XG52YXIgQU5PTllNT1VTX0NPTVBPTkVOVF9OQU1FID0gJ2Fub255bW91cyBjb21wb25lbnQnO1xuLyoqXG4gKiBJbml0cyB0aGUgVnVlIFNES1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdChvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgZmluYWxPcHRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oeyBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgICAgICBWdWU6IGdldEdsb2JhbE9iamVjdCgpLlZ1ZSwgYXR0YWNoUHJvcHM6IHRydWUsIGxvZ0Vycm9yczogZmFsc2UsIHRyYWNpbmc6IGZhbHNlIH0sIG9wdGlvbnMpLCB7IHRyYWNpbmdPcHRpb25zOiBfX2Fzc2lnbih7IGhvb2tzOiBbJ2FjdGl2YXRlJywgJ21vdW50JywgJ3VwZGF0ZSddLCB0aW1lb3V0OiAyMDAwLCB0cmFja0NvbXBvbmVudHM6IGZhbHNlIH0sIG9wdGlvbnMudHJhY2luZ09wdGlvbnMpIH0pO1xuICAgIGZpbmFsT3B0aW9ucy5fbWV0YWRhdGEgPSBmaW5hbE9wdGlvbnMuX21ldGFkYXRhIHx8IHt9O1xuICAgIGZpbmFsT3B0aW9ucy5fbWV0YWRhdGEuc2RrID0ge1xuICAgICAgICBuYW1lOiAnc2VudHJ5LmphdmFzY3JpcHQudnVlJyxcbiAgICAgICAgcGFja2FnZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnbnBtOkBzZW50cnkvdnVlJyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBTREtfVkVSU0lPTixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIHZlcnNpb246IFNES19WRVJTSU9OLFxuICAgIH07XG4gICAgYnJvd3NlckluaXQoZmluYWxPcHRpb25zKTtcbiAgICBpZiAoZmluYWxPcHRpb25zLlZ1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdObyBWdWUgaW5zdGFuY2Ugd2FzIHByb3ZpZGVkLiBBbHNvIHRoZXJlIGlzIG5vIFZ1ZSBpbnN0YW5jZSBvbiB0aGUgYHdpbmRvd2Agb2JqZWN0LicpO1xuICAgICAgICBsb2dnZXIud2FybignV2Ugd2lsbCBvbmx5IGNhcHR1cmUgZ2xvYmFsIHVuaGFuZGxlZCBlcnJvcnMuJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgdnVlSGVscGVyID0gbmV3IFZ1ZUhlbHBlcihmaW5hbE9wdGlvbnMpO1xuICAgICAgICB2dWVIZWxwZXIuc2V0dXAoKTtcbiAgICB9XG59XG4vKiogSlNEb2MgKi9cbnZhciBWdWVIZWxwZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBWdWVIZWxwZXIob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGUgaG9sZGluZyBhbHJlYWR5IHByb2Nlc3NlZCBjb21wb25lbnQgbmFtZXNcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2NvbXBvbmVudHNDYWNoZSA9IHt9O1xuICAgICAgICAvKiogS2VlcCBpdCBhcyBhdHRyaWJ1dGUgZnVuY3Rpb24sIHRvIGtlZXAgY29ycmVjdCBgdGhpc2AgYmluZGluZyBpbnNpZGUgdGhlIGhvb2tzIGNhbGxiYWNrcyAgKi9cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC90eXBlZGVmXG4gICAgICAgIHRoaXMuX2FwcGx5VHJhY2luZ0hvb2tzID0gZnVuY3Rpb24gKHZtKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBhdHRhY2ggdHdpY2UsIGp1c3QgaW4gY2FzZVxuICAgICAgICAgICAgaWYgKHZtLiRvcHRpb25zLiRfc2VudHJ5UGVyZkhvb2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2bS4kb3B0aW9ucy4kX3NlbnRyeVBlcmZIb29rID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBuYW1lID0gX3RoaXMuX2dldENvbXBvbmVudE5hbWUodm0pO1xuICAgICAgICAgICAgdmFyIHJvb3RNb3VudCA9IG5hbWUgPT09IFJPT1RfQ09NUE9ORU5UX05BTUU7XG4gICAgICAgICAgICB2YXIgc3BhbnMgPSB7fTtcbiAgICAgICAgICAgIC8vIFJlbmRlciBob29rIHN0YXJ0cyBhZnRlciBvbmNlIGV2ZW50IGlzIGVtaXR0ZWQsXG4gICAgICAgICAgICAvLyBidXQgaXQgZW5kcyBiZWZvcmUgdGhlIHNlY29uZCBldmVudCBvZiB0aGUgc2FtZSB0eXBlLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhpcywgd2Ugc3RhcnQgbWVhc3VyaW5nIGluc2lkZSB0aGUgZmlyc3QgZXZlbnQsXG4gICAgICAgICAgICAvLyBidXQgZmluaXNoIGl0IGJlZm9yZSBpdCB0cmlnZ2VycywgdG8gc2tpcCB0aGUgZXZlbnQgZW1pdHRlciB0aW1pbmcgaXRzZWxmLlxuICAgICAgICAgICAgdmFyIHJvb3RIYW5kbGVyID0gZnVuY3Rpb24gKGhvb2spIHtcbiAgICAgICAgICAgICAgICB2YXIgbm93ID0gdGltZXN0YW1wV2l0aE1zKCk7XG4gICAgICAgICAgICAgICAgLy8gT24gdGhlIGZpcnN0IGhhbmRsZXIgY2FsbCAoYmVmb3JlKSwgaXQnbGwgYmUgdW5kZWZpbmVkLCBhcyBgJG9uY2VgIHdpbGwgYWRkIGl0IGluIHRoZSBmdXR1cmUuXG4gICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgb24gdGhlIHNlY29uZCBjYWxsIChhZnRlciksIGl0J2xsIGJlIGFscmVhZHkgaW4gcGxhY2UuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLl9yb290U3Bhbikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZmluaXNoUm9vdFNwYW4obm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZtLiRvbmNlKFwiaG9vazpcIiArIGhvb2ssIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhbiBhY3Rpdml0eSBvbiB0aGUgZmlyc3QgZXZlbnQgY2FsbC4gVGhlcmUnbGwgYmUgbm8gc2Vjb25kIGNhbGwsIGFzIHJvb3RTcGFuIHdpbGwgYmUgaW4gcGxhY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aHVzIG5ldyBldmVudCBoYW5kbGVyIHdvbid0IGJlIGF0dGFjaGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZVRyYW5zYWN0aW9uID0gZ2V0QWN0aXZlVHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9yb290U3BhbiA9IGFjdGl2ZVRyYW5zYWN0aW9uLnN0YXJ0Q2hpbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0FwcGxpY2F0aW9uIFJlbmRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wOiAnVnVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBjaGlsZEhhbmRsZXIgPSBmdW5jdGlvbiAoaG9vaywgb3BlcmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCBjb21wb25lbnRzIHRoYXQgd2UgZG9uJ3Qgd2FudCB0byB0cmFjayB0byBtaW5pbWl6ZSB0aGUgbm9pc2UgYW5kIGdpdmUgYSBtb3JlIGdyYW51bGFyIGNvbnRyb2wgdG8gdGhlIHVzZXJcbiAgICAgICAgICAgICAgICB2YXIgc2hvdWxkVHJhY2sgPSBBcnJheS5pc0FycmF5KF90aGlzLl9vcHRpb25zLnRyYWNpbmdPcHRpb25zLnRyYWNrQ29tcG9uZW50cylcbiAgICAgICAgICAgICAgICAgICAgPyBfdGhpcy5fb3B0aW9ucy50cmFjaW5nT3B0aW9ucy50cmFja0NvbXBvbmVudHMuaW5kZXhPZihuYW1lKSA+IC0xXG4gICAgICAgICAgICAgICAgICAgIDogX3RoaXMuX29wdGlvbnMudHJhY2luZ09wdGlvbnMudHJhY2tDb21wb25lbnRzO1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZE9mID0gX3RoaXMuX3Jvb3RTcGFuIHx8IGdldEFjdGl2ZVRyYW5zYWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFjaGlsZE9mIHx8ICFzaG91bGRUcmFjaykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBub3cgPSB0aW1lc3RhbXBXaXRoTXMoKTtcbiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IHNwYW5zW29wZXJhdGlvbl07XG4gICAgICAgICAgICAgICAgLy8gT24gdGhlIGZpcnN0IGhhbmRsZXIgY2FsbCAoYmVmb3JlKSwgaXQnbGwgYmUgdW5kZWZpbmVkLCBhcyBgJG9uY2VgIHdpbGwgYWRkIGl0IGluIHRoZSBmdXR1cmUuXG4gICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgb24gdGhlIHNlY29uZCBjYWxsIChhZnRlciksIGl0J2xsIGJlIGFscmVhZHkgaW4gcGxhY2UuXG4gICAgICAgICAgICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5maW5pc2goKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2ZpbmlzaFJvb3RTcGFuKG5vdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2bS4kb25jZShcImhvb2s6XCIgKyBob29rLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRPZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW5zW29wZXJhdGlvbl0gPSBjaGlsZE9mLnN0YXJ0Q2hpbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJWdWUgPFwiICsgbmFtZSArIFwiPlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcDogb3BlcmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gRWFjaCBjb21wb25lbnQgaGFzIGl0J3Mgb3duIHNjb3BlLCBzbyBhbGwgYWN0aXZpdGllcyBhcmUgb25seSByZWxhdGVkIHRvIG9uZSBvZiB0aGVtXG4gICAgICAgICAgICBfdGhpcy5fb3B0aW9ucy50cmFjaW5nT3B0aW9ucy5ob29rcy5mb3JFYWNoKGZ1bmN0aW9uIChvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBSZXRyaWV2ZSBjb3JyZXNwb25kaW5nIGhvb2tzIGZyb20gVnVlIGxpZmVjeWNsZS5cbiAgICAgICAgICAgICAgICAvLyBlZy4gbW91bnQgPT4gWydiZWZvcmVNb3VudCcsICdtb3VudGVkJ11cbiAgICAgICAgICAgICAgICB2YXIgaW50ZXJuYWxIb29rcyA9IEhPT0tTW29wZXJhdGlvbl07XG4gICAgICAgICAgICAgICAgaWYgKCFpbnRlcm5hbEhvb2tzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKFwiVW5rbm93biBob29rOiBcIiArIG9wZXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW50ZXJuYWxIb29rcy5mb3JFYWNoKGZ1bmN0aW9uIChpbnRlcm5hbEhvb2spIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhbmRsZXIgPSByb290TW91bnRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gcm9vdEhhbmRsZXIuYmluZChfdGhpcywgaW50ZXJuYWxIb29rKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGlsZEhhbmRsZXIuYmluZChfdGhpcywgaW50ZXJuYWxIb29rLCBvcGVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gdm0uJG9wdGlvbnNbaW50ZXJuYWxIb29rXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY3VycmVudFZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdm0uJG9wdGlvbnNbaW50ZXJuYWxIb29rXSA9IF9fc3ByZWFkKFtoYW5kbGVyXSwgY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgY3VycmVudFZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS4kb3B0aW9uc1tpbnRlcm5hbEhvb2tdID0gW2hhbmRsZXIsIGN1cnJlbnRWYWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2bS4kb3B0aW9uc1tpbnRlcm5hbEhvb2tdID0gW2hhbmRsZXJdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIHRoZSBlcnJvciBoYW5kbGVyIGFuZCBzdGFydHMgdHJhY2luZ1xuICAgICAqL1xuICAgIFZ1ZUhlbHBlci5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2F0dGFjaEVycm9ySGFuZGxlcigpO1xuICAgICAgICBpZiAoJ3RyYWNlc1NhbXBsZVJhdGUnIGluIHRoaXMuX29wdGlvbnMgfHwgJ3RyYWNlc1NhbXBsZXInIGluIHRoaXMuX29wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0VHJhY2luZygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IGNvbXBvbmVudCBuYW1lIGZyb20gdGhlIFZpZXdNb2RlbFxuICAgICAqL1xuICAgIFZ1ZUhlbHBlci5wcm90b3R5cGUuX2dldENvbXBvbmVudE5hbWUgPSBmdW5jdGlvbiAodm0pIHtcbiAgICAgICAgLy8gU3VjaCBsZXZlbCBvZiBncmFudWxhcml0eSBpcyBtb3N0IGxpa2VseSBub3QgbmVjZXNzYXJ5LCBidXQgYmV0dGVyIHNhZmUgdGhhbiBzb3JyeS4g4oCUIEthbWlsXG4gICAgICAgIGlmICghdm0pIHtcbiAgICAgICAgICAgIHJldHVybiBBTk9OWU1PVVNfQ09NUE9ORU5UX05BTUU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZtLiRyb290ID09PSB2bSkge1xuICAgICAgICAgICAgcmV0dXJuIFJPT1RfQ09NUE9ORU5UX05BTUU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2bS4kb3B0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIEFOT05ZTU9VU19DT01QT05FTlRfTkFNRTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodm0uJG9wdGlvbnMubmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZtLiRvcHRpb25zLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZtLiRvcHRpb25zLl9jb21wb25lbnRUYWcpIHtcbiAgICAgICAgICAgIHJldHVybiB2bS4kb3B0aW9ucy5fY29tcG9uZW50VGFnO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluamVjdGVkIGJ5IHZ1ZS1sb2FkZXJcbiAgICAgICAgaWYgKHZtLiRvcHRpb25zLl9fZmlsZSkge1xuICAgICAgICAgICAgdmFyIHVuaWZpZWRGaWxlID0gdm0uJG9wdGlvbnMuX19maWxlLnJlcGxhY2UoL15bYS16QS1aXTovLCAnJykucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICAgICAgICAgICAgdmFyIGZpbGVuYW1lID0gYmFzZW5hbWUodW5pZmllZEZpbGUsICcudnVlJyk7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuX2NvbXBvbmVudHNDYWNoZVtmaWxlbmFtZV0gfHxcbiAgICAgICAgICAgICAgICAodGhpcy5fY29tcG9uZW50c0NhY2hlW2ZpbGVuYW1lXSA9IGZpbGVuYW1lLnJlcGxhY2UoQ09NUE9ORU5UX05BTUVfUkVHRVhQLCBmdW5jdGlvbiAoXywgYykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYyA/IGMudG9VcHBlckNhc2UoKSA6ICcnO1xuICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFOT05ZTU9VU19DT01QT05FTlRfTkFNRTtcbiAgICB9O1xuICAgIC8qKiBGaW5pc2ggdG9wLWxldmVsIHNwYW4gYW5kIGFjdGl2aXR5IHdpdGggYSBkZWJvdW5jZSBjb25maWd1cmVkIHVzaW5nIGB0aW1lb3V0YCBvcHRpb24gKi9cbiAgICBWdWVIZWxwZXIucHJvdG90eXBlLl9maW5pc2hSb290U3BhbiA9IGZ1bmN0aW9uICh0aW1lc3RhbXApIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX3Jvb3RTcGFuVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yb290U3BhblRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9yb290U3BhblRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBXZSBzaG91bGQgYWx3YXlzIGZpbmlzaCB0aGUgc3Bhbiwgb25seSBzaG91bGQgcG9wIGFjdGl2aXR5IGlmIHVzaW5nIEBzZW50cnkvYXBtXG4gICAgICAgICAgICBpZiAoX3RoaXMuX3Jvb3RTcGFuKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Jvb3RTcGFuLmZpbmlzaCh0aW1lc3RhbXApO1xuICAgICAgICAgICAgICAgIF90aGlzLl9yb290U3BhbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdGhpcy5fb3B0aW9ucy50cmFjaW5nT3B0aW9ucy50aW1lb3V0KTtcbiAgICB9O1xuICAgIC8qKiBJbmplY3QgY29uZmlndXJlZCB0cmFjaW5nIGhvb2tzIGludG8gVnVlJ3MgY29tcG9uZW50IGxpZmVjeWNsZXMgKi9cbiAgICBWdWVIZWxwZXIucHJvdG90eXBlLl9zdGFydFRyYWNpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcHBseVRyYWNpbmdIb29rcyA9IHRoaXMuX2FwcGx5VHJhY2luZ0hvb2tzO1xuICAgICAgICB2YXIgYXBwbGllZFRyYWNpbmdIb29rcyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJEaWRuJ3QgYXBwbHkgdHJhY2luZyBob29rcywgbWFrZSBzdXJlIHlvdSBjYWxsIFNlbnRyeS5pbml0IGJlZm9yZSBpbml0aWFsemluZyBWdWUhXCIpO1xuICAgICAgICB9LCA1MDApO1xuICAgICAgICB0aGlzLl9vcHRpb25zLlZ1ZS5taXhpbih7XG4gICAgICAgICAgICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoYXBwbGllZFRyYWNpbmdIb29rcyk7XG4gICAgICAgICAgICAgICAgYXBwbHlUcmFjaW5nSG9va3ModGhpcyk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKiBJbmplY3QgU2VudHJ5J3MgaGFuZGxlciBpbnRvIG93bnMgVnVlJ3MgZXJyb3IgaGFuZGxlciAgKi9cbiAgICBWdWVIZWxwZXIucHJvdG90eXBlLl9hdHRhY2hFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcbiAgICAgICAgdmFyIGN1cnJlbnRFcnJvckhhbmRsZXIgPSB0aGlzLl9vcHRpb25zLlZ1ZS5jb25maWcuZXJyb3JIYW5kbGVyO1xuICAgICAgICB0aGlzLl9vcHRpb25zLlZ1ZS5jb25maWcuZXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGVycm9yLCB2bSwgaW5mbykge1xuICAgICAgICAgICAgdmFyIG1ldGFkYXRhID0ge307XG4gICAgICAgICAgICBpZiAodm0pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YS5jb21wb25lbnROYW1lID0gX3RoaXMuX2dldENvbXBvbmVudE5hbWUodm0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX29wdGlvbnMuYXR0YWNoUHJvcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLnByb3BzRGF0YSA9IHZtLiRvcHRpb25zLnByb3BzRGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoX29PKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKCdVbmFibGUgdG8gZXh0cmFjdCBtZXRhZGF0YSBmcm9tIFZ1ZSBjb21wb25lbnQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluZm8pIHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5saWZlY3ljbGVIb29rID0gaW5mbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENhcHR1cmUgZXhjZXB0aW9uIGluIHRoZSBuZXh0IGV2ZW50IGxvb3AsIHRvIG1ha2Ugc3VyZSB0aGF0IGFsbCBicmVhZGNydW1icyBhcmUgcmVjb3JkZWQgaW4gdGltZS5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGdldEN1cnJlbnRIdWIoKS53aXRoU2NvcGUoZnVuY3Rpb24gKHNjb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLnNldENvbnRleHQoJ3Z1ZScsIG1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0Q3VycmVudEh1YigpLmNhcHR1cmVFeGNlcHRpb24oZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRFcnJvckhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50RXJyb3JIYW5kbGVyLmNhbGwoX3RoaXMuX29wdGlvbnMuVnVlLCBlcnJvciwgdm0sIGluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLl9vcHRpb25zLmxvZ0Vycm9ycykge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fb3B0aW9ucy5WdWUudXRpbCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fb3B0aW9ucy5WdWUudXRpbC53YXJuKFwiRXJyb3IgaW4gXCIgKyBpbmZvICsgXCI6IFxcXCJcIiArIChlcnJvciAmJiBlcnJvci50b1N0cmluZygpKSArIFwiXFxcIlwiLCB2bSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gVnVlSGVscGVyO1xufSgpKTtcbi8qKiBHcmFicyBhY3RpdmUgdHJhbnNhY3Rpb24gb2ZmIHNjb3BlLCBpZiBhbnkgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3RpdmVUcmFuc2FjdGlvbigpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IGdldEN1cnJlbnRIdWIoKVxuICAgICAgICAuZ2V0U2NvcGUoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFRyYW5zYWN0aW9uKCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZGsuanMubWFwIiwiZXhwb3J0IHZhciBUcmFuc2FjdGlvblNhbXBsaW5nTWV0aG9kO1xuKGZ1bmN0aW9uIChUcmFuc2FjdGlvblNhbXBsaW5nTWV0aG9kKSB7XG4gICAgVHJhbnNhY3Rpb25TYW1wbGluZ01ldGhvZFtcIkV4cGxpY2l0XCJdID0gXCJleHBsaWNpdGx5X3NldFwiO1xuICAgIFRyYW5zYWN0aW9uU2FtcGxpbmdNZXRob2RbXCJTYW1wbGVyXCJdID0gXCJjbGllbnRfc2FtcGxlclwiO1xuICAgIFRyYW5zYWN0aW9uU2FtcGxpbmdNZXRob2RbXCJSYXRlXCJdID0gXCJjbGllbnRfcmF0ZVwiO1xuICAgIFRyYW5zYWN0aW9uU2FtcGxpbmdNZXRob2RbXCJJbmhlcml0YW5jZVwiXSA9IFwiaW5oZXJpdGFuY2VcIjtcbn0pKFRyYW5zYWN0aW9uU2FtcGxpbmdNZXRob2QgfHwgKFRyYW5zYWN0aW9uU2FtcGxpbmdNZXRob2QgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNhY3Rpb24uanMubWFwIiwiLyoqIFRoZSBzdGF0dXMgb2YgYW4gU3Bhbi4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvZXhwb3J0XG5leHBvcnQgdmFyIFNwYW5TdGF0dXM7XG4oZnVuY3Rpb24gKFNwYW5TdGF0dXMpIHtcbiAgICAvKiogVGhlIG9wZXJhdGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LiAqL1xuICAgIFNwYW5TdGF0dXNbXCJPa1wiXSA9IFwib2tcIjtcbiAgICAvKiogRGVhZGxpbmUgZXhwaXJlZCBiZWZvcmUgb3BlcmF0aW9uIGNvdWxkIGNvbXBsZXRlLiAqL1xuICAgIFNwYW5TdGF0dXNbXCJEZWFkbGluZUV4Y2VlZGVkXCJdID0gXCJkZWFkbGluZV9leGNlZWRlZFwiO1xuICAgIC8qKiA0MDEgVW5hdXRob3JpemVkIChhY3R1YWxseSBkb2VzIG1lYW4gdW5hdXRoZW50aWNhdGVkIGFjY29yZGluZyB0byBSRkMgNzIzNSkgKi9cbiAgICBTcGFuU3RhdHVzW1wiVW5hdXRoZW50aWNhdGVkXCJdID0gXCJ1bmF1dGhlbnRpY2F0ZWRcIjtcbiAgICAvKiogNDAzIEZvcmJpZGRlbiAqL1xuICAgIFNwYW5TdGF0dXNbXCJQZXJtaXNzaW9uRGVuaWVkXCJdID0gXCJwZXJtaXNzaW9uX2RlbmllZFwiO1xuICAgIC8qKiA0MDQgTm90IEZvdW5kLiBTb21lIHJlcXVlc3RlZCBlbnRpdHkgKGZpbGUgb3IgZGlyZWN0b3J5KSB3YXMgbm90IGZvdW5kLiAqL1xuICAgIFNwYW5TdGF0dXNbXCJOb3RGb3VuZFwiXSA9IFwibm90X2ZvdW5kXCI7XG4gICAgLyoqIDQyOSBUb28gTWFueSBSZXF1ZXN0cyAqL1xuICAgIFNwYW5TdGF0dXNbXCJSZXNvdXJjZUV4aGF1c3RlZFwiXSA9IFwicmVzb3VyY2VfZXhoYXVzdGVkXCI7XG4gICAgLyoqIENsaWVudCBzcGVjaWZpZWQgYW4gaW52YWxpZCBhcmd1bWVudC4gNHh4LiAqL1xuICAgIFNwYW5TdGF0dXNbXCJJbnZhbGlkQXJndW1lbnRcIl0gPSBcImludmFsaWRfYXJndW1lbnRcIjtcbiAgICAvKiogNTAxIE5vdCBJbXBsZW1lbnRlZCAqL1xuICAgIFNwYW5TdGF0dXNbXCJVbmltcGxlbWVudGVkXCJdID0gXCJ1bmltcGxlbWVudGVkXCI7XG4gICAgLyoqIDUwMyBTZXJ2aWNlIFVuYXZhaWxhYmxlICovXG4gICAgU3BhblN0YXR1c1tcIlVuYXZhaWxhYmxlXCJdID0gXCJ1bmF2YWlsYWJsZVwiO1xuICAgIC8qKiBPdGhlci9nZW5lcmljIDV4eC4gKi9cbiAgICBTcGFuU3RhdHVzW1wiSW50ZXJuYWxFcnJvclwiXSA9IFwiaW50ZXJuYWxfZXJyb3JcIjtcbiAgICAvKiogVW5rbm93bi4gQW55IG5vbi1zdGFuZGFyZCBIVFRQIHN0YXR1cyBjb2RlLiAqL1xuICAgIFNwYW5TdGF0dXNbXCJVbmtub3duRXJyb3JcIl0gPSBcInVua25vd25fZXJyb3JcIjtcbiAgICAvKiogVGhlIG9wZXJhdGlvbiB3YXMgY2FuY2VsbGVkICh0eXBpY2FsbHkgYnkgdGhlIHVzZXIpLiAqL1xuICAgIFNwYW5TdGF0dXNbXCJDYW5jZWxsZWRcIl0gPSBcImNhbmNlbGxlZFwiO1xuICAgIC8qKiBBbHJlYWR5IGV4aXN0cyAoNDA5KSAqL1xuICAgIFNwYW5TdGF0dXNbXCJBbHJlYWR5RXhpc3RzXCJdID0gXCJhbHJlYWR5X2V4aXN0c1wiO1xuICAgIC8qKiBPcGVyYXRpb24gd2FzIHJlamVjdGVkIGJlY2F1c2UgdGhlIHN5c3RlbSBpcyBub3QgaW4gYSBzdGF0ZSByZXF1aXJlZCBmb3IgdGhlIG9wZXJhdGlvbidzICovXG4gICAgU3BhblN0YXR1c1tcIkZhaWxlZFByZWNvbmRpdGlvblwiXSA9IFwiZmFpbGVkX3ByZWNvbmRpdGlvblwiO1xuICAgIC8qKiBUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkLCB0eXBpY2FsbHkgZHVlIHRvIGEgY29uY3VycmVuY3kgaXNzdWUuICovXG4gICAgU3BhblN0YXR1c1tcIkFib3J0ZWRcIl0gPSBcImFib3J0ZWRcIjtcbiAgICAvKiogT3BlcmF0aW9uIHdhcyBhdHRlbXB0ZWQgcGFzdCB0aGUgdmFsaWQgcmFuZ2UuICovXG4gICAgU3BhblN0YXR1c1tcIk91dE9mUmFuZ2VcIl0gPSBcIm91dF9vZl9yYW5nZVwiO1xuICAgIC8qKiBVbnJlY292ZXJhYmxlIGRhdGEgbG9zcyBvciBjb3JydXB0aW9uICovXG4gICAgU3BhblN0YXR1c1tcIkRhdGFMb3NzXCJdID0gXCJkYXRhX2xvc3NcIjtcbn0pKFNwYW5TdGF0dXMgfHwgKFNwYW5TdGF0dXMgPSB7fSkpO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1uYW1lc3BhY2UsIGltcG9ydC9leHBvcnRcbihmdW5jdGlvbiAoU3BhblN0YXR1cykge1xuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgSFRUUCBzdGF0dXMgY29kZSBpbnRvIGEge0BsaW5rIFNwYW5TdGF0dXN9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGh0dHBTdGF0dXMgVGhlIEhUVFAgcmVzcG9uc2Ugc3RhdHVzIGNvZGUuXG4gICAgICogQHJldHVybnMgVGhlIHNwYW4gc3RhdHVzIG9yIHtAbGluayBTcGFuU3RhdHVzLlVua25vd25FcnJvcn0uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbUh0dHBDb2RlKGh0dHBTdGF0dXMpIHtcbiAgICAgICAgaWYgKGh0dHBTdGF0dXMgPCA0MDApIHtcbiAgICAgICAgICAgIHJldHVybiBTcGFuU3RhdHVzLk9rO1xuICAgICAgICB9XG4gICAgICAgIGlmIChodHRwU3RhdHVzID49IDQwMCAmJiBodHRwU3RhdHVzIDwgNTAwKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGh0dHBTdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDQwMTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNwYW5TdGF0dXMuVW5hdXRoZW50aWNhdGVkO1xuICAgICAgICAgICAgICAgIGNhc2UgNDAzOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3BhblN0YXR1cy5QZXJtaXNzaW9uRGVuaWVkO1xuICAgICAgICAgICAgICAgIGNhc2UgNDA0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3BhblN0YXR1cy5Ob3RGb3VuZDtcbiAgICAgICAgICAgICAgICBjYXNlIDQwOTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNwYW5TdGF0dXMuQWxyZWFkeUV4aXN0cztcbiAgICAgICAgICAgICAgICBjYXNlIDQxMzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNwYW5TdGF0dXMuRmFpbGVkUHJlY29uZGl0aW9uO1xuICAgICAgICAgICAgICAgIGNhc2UgNDI5OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3BhblN0YXR1cy5SZXNvdXJjZUV4aGF1c3RlZDtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3BhblN0YXR1cy5JbnZhbGlkQXJndW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGh0dHBTdGF0dXMgPj0gNTAwICYmIGh0dHBTdGF0dXMgPCA2MDApIHtcbiAgICAgICAgICAgIHN3aXRjaCAoaHR0cFN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNhc2UgNTAxOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3BhblN0YXR1cy5VbmltcGxlbWVudGVkO1xuICAgICAgICAgICAgICAgIGNhc2UgNTAzOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3BhblN0YXR1cy5VbmF2YWlsYWJsZTtcbiAgICAgICAgICAgICAgICBjYXNlIDUwNDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNwYW5TdGF0dXMuRGVhZGxpbmVFeGNlZWRlZDtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3BhblN0YXR1cy5JbnRlcm5hbEVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTcGFuU3RhdHVzLlVua25vd25FcnJvcjtcbiAgICB9XG4gICAgU3BhblN0YXR1cy5mcm9tSHR0cENvZGUgPSBmcm9tSHR0cENvZGU7XG59KShTcGFuU3RhdHVzIHx8IChTcGFuU3RhdHVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwYW5zdGF0dXMuanMubWFwIiwiaW1wb3J0IHsgZ2V0Q3VycmVudEh1YiB9IGZyb20gJ0BzZW50cnkvaHViJztcbmV4cG9ydCB2YXIgVFJBQ0VQQVJFTlRfUkVHRVhQID0gbmV3IFJlZ0V4cCgnXlsgXFxcXHRdKicgKyAvLyB3aGl0ZXNwYWNlXG4gICAgJyhbMC05YS1mXXszMn0pPycgKyAvLyB0cmFjZV9pZFxuICAgICctPyhbMC05YS1mXXsxNn0pPycgKyAvLyBzcGFuX2lkXG4gICAgJy0/KFswMV0pPycgKyAvLyBzYW1wbGVkXG4gICAgJ1sgXFxcXHRdKiQnKTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiB0cmFjaW5nIGlzIGN1cnJlbnRseSBlbmFibGVkLlxuICpcbiAqIFRyYWNpbmcgaXMgZW5hYmxlZCB3aGVuIGF0IGxlYXN0IG9uZSBvZiBgdHJhY2VzU2FtcGxlUmF0ZWAgYW5kIGB0cmFjZXNTYW1wbGVyYCBpcyBkZWZpbmVkIGluIHRoZSBTREsgY29uZmlnLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzVHJhY2luZ0VuYWJsZWQob3B0aW9ucykge1xuICAgIHJldHVybiAndHJhY2VzU2FtcGxlUmF0ZScgaW4gb3B0aW9ucyB8fCAndHJhY2VzU2FtcGxlcicgaW4gb3B0aW9ucztcbn1cbi8qKlxuICogRXh0cmFjdCB0cmFuc2FjdGlvbiBjb250ZXh0IGRhdGEgZnJvbSBhIGBzZW50cnktdHJhY2VgIGhlYWRlci5cbiAqXG4gKiBAcGFyYW0gdHJhY2VwYXJlbnQgVHJhY2VwYXJlbnQgc3RyaW5nXG4gKlxuICogQHJldHVybnMgT2JqZWN0IGNvbnRhaW5pbmcgZGF0YSBmcm9tIHRoZSBoZWFkZXIsIG9yIHVuZGVmaW5lZCBpZiB0cmFjZXBhcmVudCBzdHJpbmcgaXMgbWFsZm9ybWVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0VHJhY2VwYXJlbnREYXRhKHRyYWNlcGFyZW50KSB7XG4gICAgdmFyIG1hdGNoZXMgPSB0cmFjZXBhcmVudC5tYXRjaChUUkFDRVBBUkVOVF9SRUdFWFApO1xuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgIHZhciBwYXJlbnRTYW1wbGVkID0gdm9pZCAwO1xuICAgICAgICBpZiAobWF0Y2hlc1szXSA9PT0gJzEnKSB7XG4gICAgICAgICAgICBwYXJlbnRTYW1wbGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXRjaGVzWzNdID09PSAnMCcpIHtcbiAgICAgICAgICAgIHBhcmVudFNhbXBsZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHJhY2VJZDogbWF0Y2hlc1sxXSxcbiAgICAgICAgICAgIHBhcmVudFNhbXBsZWQ6IHBhcmVudFNhbXBsZWQsXG4gICAgICAgICAgICBwYXJlbnRTcGFuSWQ6IG1hdGNoZXNbMl0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vKiogR3JhYnMgYWN0aXZlIHRyYW5zYWN0aW9uIG9mZiBzY29wZSwgaWYgYW55ICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlVHJhbnNhY3Rpb24oaHViKSB7XG4gICAgaWYgKGh1YiA9PT0gdm9pZCAwKSB7IGh1YiA9IGdldEN1cnJlbnRIdWIoKTsgfVxuICAgIHZhciBfYSwgX2I7XG4gICAgcmV0dXJuIChfYiA9IChfYSA9IGh1YikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFNjb3BlKCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5nZXRUcmFuc2FjdGlvbigpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBmcm9tIG1pbGxpc2Vjb25kcyB0byBzZWNvbmRzXG4gKiBAcGFyYW0gdGltZSB0aW1lIGluIG1zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtc1RvU2VjKHRpbWUpIHtcbiAgICByZXR1cm4gdGltZSAvIDEwMDA7XG59XG4vKipcbiAqIENvbnZlcnRzIGZyb20gc2Vjb25kcyB0byBtaWxsaXNlY29uZHNcbiAqIEBwYXJhbSB0aW1lIHRpbWUgaW4gc2Vjb25kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gc2VjVG9Ncyh0aW1lKSB7XG4gICAgcmV0dXJuIHRpbWUgKiAxMDAwO1xufVxuLy8gc28gaXQgY2FuIGJlIHVzZWQgaW4gbWFudWFsIGluc3RydW1lbnRhdGlvbiB3aXRob3V0IG5lY2Vzc2l0YXRpbmcgYSBoYXJkIGRlcGVuZGVuY3kgb24gQHNlbnRyeS91dGlsc1xuZXhwb3J0IHsgc3RyaXBVcmxRdWVyeUFuZEZyYWdtZW50IH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlscy5qcy5tYXAiLCJpbXBvcnQgeyBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyLCBsb2dnZXIgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IFNwYW5TdGF0dXMgfSBmcm9tICcuL3NwYW5zdGF0dXMnO1xuaW1wb3J0IHsgZ2V0QWN0aXZlVHJhbnNhY3Rpb24gfSBmcm9tICcuL3V0aWxzJztcbi8qKlxuICogQ29uZmlndXJlcyBnbG9iYWwgZXJyb3IgbGlzdGVuZXJzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckVycm9ySW5zdHJ1bWVudGF0aW9uKCkge1xuICAgIGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIoe1xuICAgICAgICBjYWxsYmFjazogZXJyb3JDYWxsYmFjayxcbiAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICB9KTtcbiAgICBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyKHtcbiAgICAgICAgY2FsbGJhY2s6IGVycm9yQ2FsbGJhY2ssXG4gICAgICAgIHR5cGU6ICd1bmhhbmRsZWRyZWplY3Rpb24nLFxuICAgIH0pO1xufVxuLyoqXG4gKiBJZiBhbiBlcnJvciBvciB1bmhhbmRsZWQgcHJvbWlzZSBvY2N1cnMsIHdlIG1hcmsgdGhlIGFjdGl2ZSB0cmFuc2FjdGlvbiBhcyBmYWlsZWRcbiAqL1xuZnVuY3Rpb24gZXJyb3JDYWxsYmFjaygpIHtcbiAgICB2YXIgYWN0aXZlVHJhbnNhY3Rpb24gPSBnZXRBY3RpdmVUcmFuc2FjdGlvbigpO1xuICAgIGlmIChhY3RpdmVUcmFuc2FjdGlvbikge1xuICAgICAgICBsb2dnZXIubG9nKFwiW1RyYWNpbmddIFRyYW5zYWN0aW9uOiBcIiArIFNwYW5TdGF0dXMuSW50ZXJuYWxFcnJvciArIFwiIC0+IEdsb2JhbCBlcnJvciBvY2N1cmVkXCIpO1xuICAgICAgICBhY3RpdmVUcmFuc2FjdGlvbi5zZXRTdGF0dXMoU3BhblN0YXR1cy5JbnRlcm5hbEVycm9yKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGRyb3BVbmRlZmluZWRLZXlzLCB0aW1lc3RhbXBXaXRoTXMsIHV1aWQ0IH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBTcGFuU3RhdHVzIH0gZnJvbSAnLi9zcGFuc3RhdHVzJztcbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgZmluaXNoZWQgc3BhbnMgZm9yIGEgZ2l2ZW4gdHJhbnNhY3Rpb25cbiAqIEBpbnRlcm5hbFxuICogQGhpZGVjb25zdHJ1Y3RvclxuICogQGhpZGRlblxuICovXG52YXIgU3BhblJlY29yZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNwYW5SZWNvcmRlcihtYXhsZW4pIHtcbiAgICAgICAgaWYgKG1heGxlbiA9PT0gdm9pZCAwKSB7IG1heGxlbiA9IDEwMDA7IH1cbiAgICAgICAgdGhpcy5zcGFucyA9IFtdO1xuICAgICAgICB0aGlzLl9tYXhsZW4gPSBtYXhsZW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaXMganVzdCBzbyB0aGF0IHdlIGRvbid0IHJ1biBvdXQgb2YgbWVtb3J5IHdoaWxlIHJlY29yZGluZyBhIGxvdFxuICAgICAqIG9mIHNwYW5zLiBBdCBzb21lIHBvaW50IHdlIGp1c3Qgc3RvcCBhbmQgZmx1c2ggb3V0IHRoZSBzdGFydCBvZiB0aGVcbiAgICAgKiB0cmFjZSB0cmVlIChpLmUudGhlIGZpcnN0IG4gc3BhbnMgd2l0aCB0aGUgc21hbGxlc3RcbiAgICAgKiBzdGFydF90aW1lc3RhbXApLlxuICAgICAqL1xuICAgIFNwYW5SZWNvcmRlci5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHNwYW4pIHtcbiAgICAgICAgaWYgKHRoaXMuc3BhbnMubGVuZ3RoID4gdGhpcy5fbWF4bGVuKSB7XG4gICAgICAgICAgICBzcGFuLnNwYW5SZWNvcmRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3BhbnMucHVzaChzcGFuKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNwYW5SZWNvcmRlcjtcbn0oKSk7XG5leHBvcnQgeyBTcGFuUmVjb3JkZXIgfTtcbi8qKlxuICogU3BhbiBjb250YWlucyBhbGwgZGF0YSBhYm91dCBhIHNwYW5cbiAqL1xudmFyIFNwYW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogWW91IHNob3VsZCBuZXZlciBjYWxsIHRoZSBjb25zdHJ1Y3RvciBtYW51YWxseSwgYWx3YXlzIHVzZSBgU2VudHJ5LnN0YXJ0VHJhbnNhY3Rpb24oKWBcbiAgICAgKiBvciBjYWxsIGBzdGFydENoaWxkKClgIG9uIGFuIGV4aXN0aW5nIHNwYW4uXG4gICAgICogQGludGVybmFsXG4gICAgICogQGhpZGVjb25zdHJ1Y3RvclxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTcGFuKHNwYW5Db250ZXh0KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW5oZXJpdERvY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFjZUlkID0gdXVpZDQoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbmhlcml0RG9jXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNwYW5JZCA9IHV1aWQ0KCkuc3Vic3RyaW5nKDE2KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRpbWVzdGFtcCBpbiBzZWNvbmRzIHdoZW4gdGhlIHNwYW4gd2FzIGNyZWF0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnN0YXJ0VGltZXN0YW1wID0gdGltZXN0YW1wV2l0aE1zKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW5oZXJpdERvY1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50YWdzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW5oZXJpdERvY1xuICAgICAgICAgKi9cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgdGhpcy5kYXRhID0ge307XG4gICAgICAgIGlmICghc3BhbkNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFuQ29udGV4dC50cmFjZUlkKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNlSWQgPSBzcGFuQ29udGV4dC50cmFjZUlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFuQ29udGV4dC5zcGFuSWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3BhbklkID0gc3BhbkNvbnRleHQuc3BhbklkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzcGFuQ29udGV4dC5wYXJlbnRTcGFuSWQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50U3BhbklkID0gc3BhbkNvbnRleHQucGFyZW50U3BhbklkO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gaW5jbHVkZSBib29sZWFucyBhcyB3ZWxsIGhlcmVcbiAgICAgICAgaWYgKCdzYW1wbGVkJyBpbiBzcGFuQ29udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5zYW1wbGVkID0gc3BhbkNvbnRleHQuc2FtcGxlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BhbkNvbnRleHQub3ApIHtcbiAgICAgICAgICAgIHRoaXMub3AgPSBzcGFuQ29udGV4dC5vcDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BhbkNvbnRleHQuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBzcGFuQ29udGV4dC5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BhbkNvbnRleHQuZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gc3BhbkNvbnRleHQuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BhbkNvbnRleHQudGFncykge1xuICAgICAgICAgICAgdGhpcy50YWdzID0gc3BhbkNvbnRleHQudGFncztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BhbkNvbnRleHQuc3RhdHVzKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IHNwYW5Db250ZXh0LnN0YXR1cztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BhbkNvbnRleHQuc3RhcnRUaW1lc3RhbXApIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRUaW1lc3RhbXAgPSBzcGFuQ29udGV4dC5zdGFydFRpbWVzdGFtcDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3BhbkNvbnRleHQuZW5kVGltZXN0YW1wKSB7XG4gICAgICAgICAgICB0aGlzLmVuZFRpbWVzdGFtcCA9IHNwYW5Db250ZXh0LmVuZFRpbWVzdGFtcDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgU3Bhbi5wcm90b3R5cGUuY2hpbGQgPSBmdW5jdGlvbiAoc3BhbkNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRDaGlsZChzcGFuQ29udGV4dCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNwYW4ucHJvdG90eXBlLnN0YXJ0Q2hpbGQgPSBmdW5jdGlvbiAoc3BhbkNvbnRleHQpIHtcbiAgICAgICAgdmFyIGNoaWxkU3BhbiA9IG5ldyBTcGFuKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzcGFuQ29udGV4dCksIHsgcGFyZW50U3BhbklkOiB0aGlzLnNwYW5JZCwgc2FtcGxlZDogdGhpcy5zYW1wbGVkLCB0cmFjZUlkOiB0aGlzLnRyYWNlSWQgfSkpO1xuICAgICAgICBjaGlsZFNwYW4uc3BhblJlY29yZGVyID0gdGhpcy5zcGFuUmVjb3JkZXI7XG4gICAgICAgIGlmIChjaGlsZFNwYW4uc3BhblJlY29yZGVyKSB7XG4gICAgICAgICAgICBjaGlsZFNwYW4uc3BhblJlY29yZGVyLmFkZChjaGlsZFNwYW4pO1xuICAgICAgICB9XG4gICAgICAgIGNoaWxkU3Bhbi50cmFuc2FjdGlvbiA9IHRoaXMudHJhbnNhY3Rpb247XG4gICAgICAgIHJldHVybiBjaGlsZFNwYW47XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNwYW4ucHJvdG90eXBlLnNldFRhZyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy50YWdzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMudGFncyksIChfYSA9IHt9LCBfYVtrZXldID0gdmFsdWUsIF9hKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSwgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuICAgIFNwYW4ucHJvdG90eXBlLnNldERhdGEgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZGF0YSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCB0aGlzLmRhdGEpLCAoX2EgPSB7fSwgX2Fba2V5XSA9IHZhbHVlLCBfYSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU3Bhbi5wcm90b3R5cGUuc2V0U3RhdHVzID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTcGFuLnByb3RvdHlwZS5zZXRIdHRwU3RhdHVzID0gZnVuY3Rpb24gKGh0dHBTdGF0dXMpIHtcbiAgICAgICAgdGhpcy5zZXRUYWcoJ2h0dHAuc3RhdHVzX2NvZGUnLCBTdHJpbmcoaHR0cFN0YXR1cykpO1xuICAgICAgICB2YXIgc3BhblN0YXR1cyA9IFNwYW5TdGF0dXMuZnJvbUh0dHBDb2RlKGh0dHBTdGF0dXMpO1xuICAgICAgICBpZiAoc3BhblN0YXR1cyAhPT0gU3BhblN0YXR1cy5Vbmtub3duRXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdHVzKHNwYW5TdGF0dXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTcGFuLnByb3RvdHlwZS5pc1N1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0YXR1cyA9PT0gU3BhblN0YXR1cy5PaztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU3Bhbi5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKGVuZFRpbWVzdGFtcCkge1xuICAgICAgICB0aGlzLmVuZFRpbWVzdGFtcCA9IHR5cGVvZiBlbmRUaW1lc3RhbXAgPT09ICdudW1iZXInID8gZW5kVGltZXN0YW1wIDogdGltZXN0YW1wV2l0aE1zKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNwYW4ucHJvdG90eXBlLnRvVHJhY2VwYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzYW1wbGVkU3RyaW5nID0gJyc7XG4gICAgICAgIGlmICh0aGlzLnNhbXBsZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc2FtcGxlZFN0cmluZyA9IHRoaXMuc2FtcGxlZCA/ICctMScgOiAnLTAnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRyYWNlSWQgKyBcIi1cIiArIHRoaXMuc3BhbklkICsgc2FtcGxlZFN0cmluZztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgU3Bhbi5wcm90b3R5cGUudG9Db250ZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZHJvcFVuZGVmaW5lZEtleXMoe1xuICAgICAgICAgICAgZGF0YTogdGhpcy5kYXRhLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBlbmRUaW1lc3RhbXA6IHRoaXMuZW5kVGltZXN0YW1wLFxuICAgICAgICAgICAgb3A6IHRoaXMub3AsXG4gICAgICAgICAgICBwYXJlbnRTcGFuSWQ6IHRoaXMucGFyZW50U3BhbklkLFxuICAgICAgICAgICAgc2FtcGxlZDogdGhpcy5zYW1wbGVkLFxuICAgICAgICAgICAgc3BhbklkOiB0aGlzLnNwYW5JZCxcbiAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wOiB0aGlzLnN0YXJ0VGltZXN0YW1wLFxuICAgICAgICAgICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICAgICAgICAgIHRhZ3M6IHRoaXMudGFncyxcbiAgICAgICAgICAgIHRyYWNlSWQ6IHRoaXMudHJhY2VJZCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNwYW4ucHJvdG90eXBlLnVwZGF0ZVdpdGhDb250ZXh0ID0gZnVuY3Rpb24gKHNwYW5Db250ZXh0KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2U7XG4gICAgICAgIHRoaXMuZGF0YSA9IChfYSA9IHNwYW5Db250ZXh0LmRhdGEsIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB7fSkpO1xuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gc3BhbkNvbnRleHQuZGVzY3JpcHRpb247XG4gICAgICAgIHRoaXMuZW5kVGltZXN0YW1wID0gc3BhbkNvbnRleHQuZW5kVGltZXN0YW1wO1xuICAgICAgICB0aGlzLm9wID0gc3BhbkNvbnRleHQub3A7XG4gICAgICAgIHRoaXMucGFyZW50U3BhbklkID0gc3BhbkNvbnRleHQucGFyZW50U3BhbklkO1xuICAgICAgICB0aGlzLnNhbXBsZWQgPSBzcGFuQ29udGV4dC5zYW1wbGVkO1xuICAgICAgICB0aGlzLnNwYW5JZCA9IChfYiA9IHNwYW5Db250ZXh0LnNwYW5JZCwgKF9iICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRoaXMuc3BhbklkKSk7XG4gICAgICAgIHRoaXMuc3RhcnRUaW1lc3RhbXAgPSAoX2MgPSBzcGFuQ29udGV4dC5zdGFydFRpbWVzdGFtcCwgKF9jICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHRoaXMuc3RhcnRUaW1lc3RhbXApKTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzcGFuQ29udGV4dC5zdGF0dXM7XG4gICAgICAgIHRoaXMudGFncyA9IChfZCA9IHNwYW5Db250ZXh0LnRhZ3MsIChfZCAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB7fSkpO1xuICAgICAgICB0aGlzLnRyYWNlSWQgPSAoX2UgPSBzcGFuQ29udGV4dC50cmFjZUlkLCAoX2UgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogdGhpcy50cmFjZUlkKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBTcGFuLnByb3RvdHlwZS5nZXRUcmFjZUNvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBkcm9wVW5kZWZpbmVkS2V5cyh7XG4gICAgICAgICAgICBkYXRhOiBPYmplY3Qua2V5cyh0aGlzLmRhdGEpLmxlbmd0aCA+IDAgPyB0aGlzLmRhdGEgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIG9wOiB0aGlzLm9wLFxuICAgICAgICAgICAgcGFyZW50X3NwYW5faWQ6IHRoaXMucGFyZW50U3BhbklkLFxuICAgICAgICAgICAgc3Bhbl9pZDogdGhpcy5zcGFuSWQsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICAgICAgdGFnczogT2JqZWN0LmtleXModGhpcy50YWdzKS5sZW5ndGggPiAwID8gdGhpcy50YWdzIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdHJhY2VfaWQ6IHRoaXMudHJhY2VJZCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIFNwYW4ucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGRyb3BVbmRlZmluZWRLZXlzKHtcbiAgICAgICAgICAgIGRhdGE6IE9iamVjdC5rZXlzKHRoaXMuZGF0YSkubGVuZ3RoID4gMCA/IHRoaXMuZGF0YSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgb3A6IHRoaXMub3AsXG4gICAgICAgICAgICBwYXJlbnRfc3Bhbl9pZDogdGhpcy5wYXJlbnRTcGFuSWQsXG4gICAgICAgICAgICBzcGFuX2lkOiB0aGlzLnNwYW5JZCxcbiAgICAgICAgICAgIHN0YXJ0X3RpbWVzdGFtcDogdGhpcy5zdGFydFRpbWVzdGFtcCxcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgICAgICB0YWdzOiBPYmplY3Qua2V5cyh0aGlzLnRhZ3MpLmxlbmd0aCA+IDAgPyB0aGlzLnRhZ3MgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRoaXMuZW5kVGltZXN0YW1wLFxuICAgICAgICAgICAgdHJhY2VfaWQ6IHRoaXMudHJhY2VJZCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gU3Bhbjtcbn0oKSk7XG5leHBvcnQgeyBTcGFuIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcGFuLmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduLCBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRIdWIsIEh1YiB9IGZyb20gJ0BzZW50cnkvaHViJztcbmltcG9ydCB7IGRyb3BVbmRlZmluZWRLZXlzLCBpc0luc3RhbmNlT2YsIGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgU3BhbiBhcyBTcGFuQ2xhc3MsIFNwYW5SZWNvcmRlciB9IGZyb20gJy4vc3Bhbic7XG4vKiogSlNEb2MgKi9cbnZhciBUcmFuc2FjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVHJhbnNhY3Rpb24sIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogVGhpcyBjb25zdHJ1Y3RvciBzaG91bGQgbmV2ZXIgYmUgY2FsbGVkIG1hbnVhbGx5LiBUaG9zZSBpbnN0cnVtZW50aW5nIHRyYWNpbmcgc2hvdWxkIHVzZVxuICAgICAqIGBTZW50cnkuc3RhcnRUcmFuc2FjdGlvbigpYCwgYW5kIGludGVybmFsIG1ldGhvZHMgc2hvdWxkIHVzZSBgaHViLnN0YXJ0VHJhbnNhY3Rpb24oKWAuXG4gICAgICogQGludGVybmFsXG4gICAgICogQGhpZGVjb25zdHJ1Y3RvclxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBUcmFuc2FjdGlvbih0cmFuc2FjdGlvbkNvbnRleHQsIGh1Yikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbkNvbnRleHQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl9tZXRhZGF0YSA9IHt9O1xuICAgICAgICBfdGhpcy5fbWVhc3VyZW1lbnRzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IGh1Yi5cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9odWIgPSBnZXRDdXJyZW50SHViKCk7XG4gICAgICAgIGlmIChpc0luc3RhbmNlT2YoaHViLCBIdWIpKSB7XG4gICAgICAgICAgICBfdGhpcy5faHViID0gaHViO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLm5hbWUgPSB0cmFuc2FjdGlvbkNvbnRleHQubmFtZSB8fCAnJztcbiAgICAgICAgX3RoaXMuX3RyaW1FbmQgPSB0cmFuc2FjdGlvbkNvbnRleHQudHJpbUVuZDtcbiAgICAgICAgLy8gdGhpcyBpcyBiZWNhdXNlIHRyYW5zYWN0aW9ucyBhcmUgYWxzbyBzcGFucywgYW5kIHNwYW5zIGhhdmUgYSB0cmFuc2FjdGlvbiBwb2ludGVyXG4gICAgICAgIF90aGlzLnRyYW5zYWN0aW9uID0gX3RoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogSlNEb2NcbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuc2V0TmFtZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBTcGFuUmVjb3JkZXIgdG8gdGhlIHNwYW4gaXRzZWxmXG4gICAgICogQHBhcmFtIG1heGxlbiBtYXhpbXVtIG51bWJlciBvZiBzcGFucyB0aGF0IGNhbiBiZSByZWNvcmRlZFxuICAgICAqL1xuICAgIFRyYW5zYWN0aW9uLnByb3RvdHlwZS5pbml0U3BhblJlY29yZGVyID0gZnVuY3Rpb24gKG1heGxlbikge1xuICAgICAgICBpZiAobWF4bGVuID09PSB2b2lkIDApIHsgbWF4bGVuID0gMTAwMDsgfVxuICAgICAgICBpZiAoIXRoaXMuc3BhblJlY29yZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNwYW5SZWNvcmRlciA9IG5ldyBTcGFuUmVjb3JkZXIobWF4bGVuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwYW5SZWNvcmRlci5hZGQodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgb2JzZXJ2ZWQgbWVhc3VyZW1lbnRzIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAqIEBoaWRkZW5cbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuc2V0TWVhc3VyZW1lbnRzID0gZnVuY3Rpb24gKG1lYXN1cmVtZW50cykge1xuICAgICAgICB0aGlzLl9tZWFzdXJlbWVudHMgPSBfX2Fzc2lnbih7fSwgbWVhc3VyZW1lbnRzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldCBtZXRhZGF0YSBmb3IgdGhpcyB0cmFuc2FjdGlvbi5cbiAgICAgKiBAaGlkZGVuXG4gICAgICovXG4gICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLnNldE1ldGFkYXRhID0gZnVuY3Rpb24gKG5ld01ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuX21ldGFkYXRhID0gX19hc3NpZ24oX19hc3NpZ24oe30sIHRoaXMuX21ldGFkYXRhKSwgbmV3TWV0YWRhdGEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBUcmFuc2FjdGlvbi5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKGVuZFRpbWVzdGFtcCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBUaGlzIHRyYW5zYWN0aW9uIGlzIGFscmVhZHkgZmluaXNoZWQsIHNvIHdlIHNob3VsZCBub3QgZmx1c2ggaXQgYWdhaW4uXG4gICAgICAgIGlmICh0aGlzLmVuZFRpbWVzdGFtcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5uYW1lKSB7XG4gICAgICAgICAgICBsb2dnZXIud2FybignVHJhbnNhY3Rpb24gaGFzIG5vIG5hbWUsIGZhbGxpbmcgYmFjayB0byBgPHVubGFiZWxlZCB0cmFuc2FjdGlvbj5gLicpO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gJzx1bmxhYmVsZWQgdHJhbnNhY3Rpb24+JztcbiAgICAgICAgfVxuICAgICAgICAvLyBqdXN0IHNldHMgdGhlIGVuZCB0aW1lc3RhbXBcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5maW5pc2guY2FsbCh0aGlzLCBlbmRUaW1lc3RhbXApO1xuICAgICAgICBpZiAodGhpcy5zYW1wbGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50IGlmIGBzYW1wbGVkICE9PSB0cnVlYCB3ZSB3YW50IHRvIGRpc2NhcmQgdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgbG9nZ2VyLmxvZygnW1RyYWNpbmddIERpc2NhcmRpbmcgdHJhbnNhY3Rpb24gYmVjYXVzZSBpdHMgdHJhY2Ugd2FzIG5vdCBjaG9zZW4gdG8gYmUgc2FtcGxlZC4nKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpbmlzaGVkU3BhbnMgPSB0aGlzLnNwYW5SZWNvcmRlciA/IHRoaXMuc3BhblJlY29yZGVyLnNwYW5zLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcyAhPT0gX3RoaXMgJiYgcy5lbmRUaW1lc3RhbXA7IH0pIDogW107XG4gICAgICAgIGlmICh0aGlzLl90cmltRW5kICYmIGZpbmlzaGVkU3BhbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5lbmRUaW1lc3RhbXAgPSBmaW5pc2hlZFNwYW5zLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChwcmV2LmVuZFRpbWVzdGFtcCAmJiBjdXJyZW50LmVuZFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJldi5lbmRUaW1lc3RhbXAgPiBjdXJyZW50LmVuZFRpbWVzdGFtcCA/IHByZXYgOiBjdXJyZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldjtcbiAgICAgICAgICAgIH0pLmVuZFRpbWVzdGFtcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSB7XG4gICAgICAgICAgICBjb250ZXh0czoge1xuICAgICAgICAgICAgICAgIHRyYWNlOiB0aGlzLmdldFRyYWNlQ29udGV4dCgpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNwYW5zOiBmaW5pc2hlZFNwYW5zLFxuICAgICAgICAgICAgc3RhcnRfdGltZXN0YW1wOiB0aGlzLnN0YXJ0VGltZXN0YW1wLFxuICAgICAgICAgICAgdGFnczogdGhpcy50YWdzLFxuICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLmVuZFRpbWVzdGFtcCxcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICB0eXBlOiAndHJhbnNhY3Rpb24nLFxuICAgICAgICAgICAgZGVidWdfbWV0YTogdGhpcy5fbWV0YWRhdGEsXG4gICAgICAgIH07XG4gICAgICAgIHZhciBoYXNNZWFzdXJlbWVudHMgPSBPYmplY3Qua2V5cyh0aGlzLl9tZWFzdXJlbWVudHMpLmxlbmd0aCA+IDA7XG4gICAgICAgIGlmIChoYXNNZWFzdXJlbWVudHMpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ1tNZWFzdXJlbWVudHNdIEFkZGluZyBtZWFzdXJlbWVudHMgdG8gdHJhbnNhY3Rpb24nLCBKU09OLnN0cmluZ2lmeSh0aGlzLl9tZWFzdXJlbWVudHMsIHVuZGVmaW5lZCwgMikpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24ubWVhc3VyZW1lbnRzID0gdGhpcy5fbWVhc3VyZW1lbnRzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9odWIuY2FwdHVyZUV2ZW50KHRyYW5zYWN0aW9uKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLnRvQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNwYW5Db250ZXh0ID0gX3N1cGVyLnByb3RvdHlwZS50b0NvbnRleHQuY2FsbCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIGRyb3BVbmRlZmluZWRLZXlzKF9fYXNzaWduKF9fYXNzaWduKHt9LCBzcGFuQ29udGV4dCksIHsgbmFtZTogdGhpcy5uYW1lLCB0cmltRW5kOiB0aGlzLl90cmltRW5kIH0pKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgVHJhbnNhY3Rpb24ucHJvdG90eXBlLnVwZGF0ZVdpdGhDb250ZXh0ID0gZnVuY3Rpb24gKHRyYW5zYWN0aW9uQ29udGV4dCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUudXBkYXRlV2l0aENvbnRleHQuY2FsbCh0aGlzLCB0cmFuc2FjdGlvbkNvbnRleHQpO1xuICAgICAgICB0aGlzLm5hbWUgPSAoX2EgPSB0cmFuc2FjdGlvbkNvbnRleHQubmFtZSwgKF9hICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnKSk7XG4gICAgICAgIHRoaXMuX3RyaW1FbmQgPSB0cmFuc2FjdGlvbkNvbnRleHQudHJpbUVuZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gVHJhbnNhY3Rpb247XG59KFNwYW5DbGFzcykpO1xuZXhwb3J0IHsgVHJhbnNhY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zYWN0aW9uLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcywgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGxvZ2dlciwgdGltZXN0YW1wV2l0aE1zIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBTcGFuUmVjb3JkZXIgfSBmcm9tICcuL3NwYW4nO1xuaW1wb3J0IHsgU3BhblN0YXR1cyB9IGZyb20gJy4vc3BhbnN0YXR1cyc7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbiB9IGZyb20gJy4vdHJhbnNhY3Rpb24nO1xuZXhwb3J0IHZhciBERUZBVUxUX0lETEVfVElNRU9VVCA9IDEwMDA7XG4vKipcbiAqIEBpbmhlcml0RG9jXG4gKi9cbnZhciBJZGxlVHJhbnNhY3Rpb25TcGFuUmVjb3JkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKElkbGVUcmFuc2FjdGlvblNwYW5SZWNvcmRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJZGxlVHJhbnNhY3Rpb25TcGFuUmVjb3JkZXIoX3B1c2hBY3Rpdml0eSwgX3BvcEFjdGl2aXR5LCB0cmFuc2FjdGlvblNwYW5JZCwgbWF4bGVuKSB7XG4gICAgICAgIGlmICh0cmFuc2FjdGlvblNwYW5JZCA9PT0gdm9pZCAwKSB7IHRyYW5zYWN0aW9uU3BhbklkID0gJyc7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWF4bGVuKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcHVzaEFjdGl2aXR5ID0gX3B1c2hBY3Rpdml0eTtcbiAgICAgICAgX3RoaXMuX3BvcEFjdGl2aXR5ID0gX3BvcEFjdGl2aXR5O1xuICAgICAgICBfdGhpcy50cmFuc2FjdGlvblNwYW5JZCA9IHRyYW5zYWN0aW9uU3BhbklkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgSWRsZVRyYW5zYWN0aW9uU3BhblJlY29yZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoc3Bhbikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBXZSBzaG91bGQgbWFrZSBzdXJlIHdlIGRvIG5vdCBwdXNoIGFuZCBwb3AgYWN0aXZpdGllcyBmb3JcbiAgICAgICAgLy8gdGhlIHRyYW5zYWN0aW9uIHRoYXQgdGhpcyBzcGFuIHJlY29yZGVyIGJlbG9uZ3MgdG8uXG4gICAgICAgIGlmIChzcGFuLnNwYW5JZCAhPT0gdGhpcy50cmFuc2FjdGlvblNwYW5JZCkge1xuICAgICAgICAgICAgLy8gV2UgcGF0Y2ggc3Bhbi5maW5pc2goKSB0byBwb3AgYW4gYWN0aXZpdHkgYWZ0ZXIgc2V0dGluZyBhbiBlbmRUaW1lc3RhbXAuXG4gICAgICAgICAgICBzcGFuLmZpbmlzaCA9IGZ1bmN0aW9uIChlbmRUaW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICBzcGFuLmVuZFRpbWVzdGFtcCA9IHR5cGVvZiBlbmRUaW1lc3RhbXAgPT09ICdudW1iZXInID8gZW5kVGltZXN0YW1wIDogdGltZXN0YW1wV2l0aE1zKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3BvcEFjdGl2aXR5KHNwYW4uc3BhbklkKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBXZSBzaG91bGQgb25seSBwdXNoIG5ldyBhY3Rpdml0aWVzIGlmIHRoZSBzcGFuIGRvZXMgbm90IGhhdmUgYW4gZW5kIHRpbWVzdGFtcC5cbiAgICAgICAgICAgIGlmIChzcGFuLmVuZFRpbWVzdGFtcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHVzaEFjdGl2aXR5KHNwYW4uc3BhbklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmFkZC5jYWxsKHRoaXMsIHNwYW4pO1xuICAgIH07XG4gICAgcmV0dXJuIElkbGVUcmFuc2FjdGlvblNwYW5SZWNvcmRlcjtcbn0oU3BhblJlY29yZGVyKSk7XG5leHBvcnQgeyBJZGxlVHJhbnNhY3Rpb25TcGFuUmVjb3JkZXIgfTtcbi8qKlxuICogQW4gSWRsZVRyYW5zYWN0aW9uIGlzIGEgdHJhbnNhY3Rpb24gdGhhdCBhdXRvbWF0aWNhbGx5IGZpbmlzaGVzLiBJdCBkb2VzIHRoaXMgYnkgdHJhY2tpbmcgY2hpbGQgc3BhbnMgYXMgYWN0aXZpdGllcy5cbiAqIFlvdSBjYW4gaGF2ZSBtdWx0aXBsZSBJZGxlVHJhbnNhY3Rpb25zIGFjdGl2ZSwgYnV0IGlmIHRoZSBgb25TY29wZWAgb3B0aW9uIGlzIHNwZWNpZmllZCwgdGhlIGlkbGUgdHJhbnNhY3Rpb24gd2lsbFxuICogcHV0IGl0c2VsZiBvbiB0aGUgc2NvcGUgb24gY3JlYXRpb24uXG4gKi9cbnZhciBJZGxlVHJhbnNhY3Rpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKElkbGVUcmFuc2FjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJZGxlVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25Db250ZXh0LCBfaWRsZUh1YiwgXG4gICAgLy8gVGhlIHRpbWUgdG8gd2FpdCBpbiBtcyB1bnRpbCB0aGUgaWRsZSB0cmFuc2FjdGlvbiB3aWxsIGJlIGZpbmlzaGVkLiBEZWZhdWx0OiAxMDAwXG4gICAgX2lkbGVUaW1lb3V0LCBcbiAgICAvLyBJZiBhbiBpZGxlIHRyYW5zYWN0aW9uIHNob3VsZCBiZSBwdXQgaXRzZWxmIG9uIGFuZCBvZmYgdGhlIHNjb3BlIGF1dG9tYXRpY2FsbHkuXG4gICAgX29uU2NvcGUpIHtcbiAgICAgICAgaWYgKF9pZGxlVGltZW91dCA9PT0gdm9pZCAwKSB7IF9pZGxlVGltZW91dCA9IERFRkFVTFRfSURMRV9USU1FT1VUOyB9XG4gICAgICAgIGlmIChfb25TY29wZSA9PT0gdm9pZCAwKSB7IF9vblNjb3BlID0gZmFsc2U7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgdHJhbnNhY3Rpb25Db250ZXh0LCBfaWRsZUh1YikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX2lkbGVIdWIgPSBfaWRsZUh1YjtcbiAgICAgICAgX3RoaXMuX2lkbGVUaW1lb3V0ID0gX2lkbGVUaW1lb3V0O1xuICAgICAgICBfdGhpcy5fb25TY29wZSA9IF9vblNjb3BlO1xuICAgICAgICAvLyBBY3Rpdml0aWVzIHN0b3JlIGEgbGlzdCBvZiBhY3RpdmUgc3BhbnNcbiAgICAgICAgX3RoaXMuYWN0aXZpdGllcyA9IHt9O1xuICAgICAgICAvLyBTdG9yZXMgcmVmZXJlbmNlIHRvIHRoZSB0aW1lb3V0IHRoYXQgY2FsbHMgX2JlYXQoKS5cbiAgICAgICAgX3RoaXMuX2hlYXJ0YmVhdFRpbWVyID0gMDtcbiAgICAgICAgLy8gQW1vdW50IG9mIHRpbWVzIGhlYXJ0YmVhdCBoYXMgY291bnRlZC4gV2lsbCBjYXVzZSB0cmFuc2FjdGlvbiB0byBmaW5pc2ggYWZ0ZXIgMyBiZWF0cy5cbiAgICAgICAgX3RoaXMuX2hlYXJ0YmVhdENvdW50ZXIgPSAwO1xuICAgICAgICAvLyBXZSBzaG91bGQgbm90IHVzZSBoZWFydGJlYXQgaWYgd2UgZmluaXNoZWQgYSB0cmFuc2FjdGlvblxuICAgICAgICBfdGhpcy5fZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX2JlZm9yZUZpbmlzaENhbGxiYWNrcyA9IFtdO1xuICAgICAgICBpZiAoX2lkbGVIdWIgJiYgX29uU2NvcGUpIHtcbiAgICAgICAgICAgIC8vIFRoZXJlIHNob3VsZCBvbmx5IGJlIG9uZSBhY3RpdmUgdHJhbnNhY3Rpb24gb24gdGhlIHNjb3BlXG4gICAgICAgICAgICBjbGVhckFjdGl2ZVRyYW5zYWN0aW9uKF9pZGxlSHViKTtcbiAgICAgICAgICAgIC8vIFdlIHNldCB0aGUgdHJhbnNhY3Rpb24gaGVyZSBvbiB0aGUgc2NvcGUgc28gZXJyb3IgZXZlbnRzIHBpY2sgdXAgdGhlIHRyYWNlXG4gICAgICAgICAgICAvLyBjb250ZXh0IGFuZCBhdHRhY2ggaXQgdG8gdGhlIGVycm9yLlxuICAgICAgICAgICAgbG9nZ2VyLmxvZyhcIlNldHRpbmcgaWRsZSB0cmFuc2FjdGlvbiBvbiBzY29wZS4gU3BhbiBJRDogXCIgKyBfdGhpcy5zcGFuSWQpO1xuICAgICAgICAgICAgX2lkbGVIdWIuY29uZmlndXJlU2NvcGUoZnVuY3Rpb24gKHNjb3BlKSB7IHJldHVybiBzY29wZS5zZXRTcGFuKF90aGlzKTsgfSk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuX2luaXRUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLl9maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmZpbmlzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBfdGhpcy5faWRsZVRpbWVvdXQpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKiB7QGluaGVyaXREb2N9ICovXG4gICAgSWRsZVRyYW5zYWN0aW9uLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoZW5kVGltZXN0YW1wKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZW5kVGltZXN0YW1wID09PSB2b2lkIDApIHsgZW5kVGltZXN0YW1wID0gdGltZXN0YW1wV2l0aE1zKCk7IH1cbiAgICAgICAgdGhpcy5fZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmFjdGl2aXRpZXMgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuc3BhblJlY29yZGVyKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdbVHJhY2luZ10gZmluaXNoaW5nIElkbGVUcmFuc2FjdGlvbicsIG5ldyBEYXRlKGVuZFRpbWVzdGFtcCAqIDEwMDApLnRvSVNPU3RyaW5nKCksIHRoaXMub3ApO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKHRoaXMuX2JlZm9yZUZpbmlzaENhbGxiYWNrcyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMsIGVuZFRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zcGFuUmVjb3JkZXIuc3BhbnMgPSB0aGlzLnNwYW5SZWNvcmRlci5zcGFucy5maWx0ZXIoZnVuY3Rpb24gKHNwYW4pIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSBhcmUgZGVhbGluZyB3aXRoIHRoZSB0cmFuc2FjdGlvbiBpdHNlbGYsIHdlIGp1c3QgcmV0dXJuIGl0XG4gICAgICAgICAgICAgICAgaWYgKHNwYW4uc3BhbklkID09PSBfdGhpcy5zcGFuSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdlIGNhbmNlbCBhbGwgcGVuZGluZyBzcGFucyB3aXRoIHN0YXR1cyBcImNhbmNlbGxlZFwiIHRvIGluZGljYXRlIHRoZSBpZGxlIHRyYW5zYWN0aW9uIHdhcyBmaW5pc2hlZCBlYXJseVxuICAgICAgICAgICAgICAgIGlmICghc3Bhbi5lbmRUaW1lc3RhbXApIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5lbmRUaW1lc3RhbXAgPSBlbmRUaW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0U3RhdHVzKFNwYW5TdGF0dXMuQ2FuY2VsbGVkKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnW1RyYWNpbmddIGNhbmNlbGxpbmcgc3BhbiBzaW5jZSB0cmFuc2FjdGlvbiBlbmRlZCBlYXJseScsIEpTT04uc3RyaW5naWZ5KHNwYW4sIHVuZGVmaW5lZCwgMikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIga2VlcFNwYW4gPSBzcGFuLnN0YXJ0VGltZXN0YW1wIDwgZW5kVGltZXN0YW1wO1xuICAgICAgICAgICAgICAgIGlmICgha2VlcFNwYW4pIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnW1RyYWNpbmddIGRpc2NhcmRpbmcgU3BhbiBzaW5jZSBpdCBoYXBwZW5lZCBhZnRlciBUcmFuc2FjdGlvbiB3YXMgZmluaXNoZWQnLCBKU09OLnN0cmluZ2lmeShzcGFuLCB1bmRlZmluZWQsIDIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGtlZXBTcGFuO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdbVHJhY2luZ10gZmx1c2hpbmcgSWRsZVRyYW5zYWN0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdbVHJhY2luZ10gTm8gYWN0aXZlIElkbGVUcmFuc2FjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoaXMuX29uU2NvcGUgaXMgdHJ1ZSBpZiB0aGUgdHJhbnNhY3Rpb24gd2FzIHByZXZpb3VzbHkgb24gdGhlIHNjb3BlLlxuICAgICAgICBpZiAodGhpcy5fb25TY29wZSkge1xuICAgICAgICAgICAgY2xlYXJBY3RpdmVUcmFuc2FjdGlvbih0aGlzLl9pZGxlSHViKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5maW5pc2guY2FsbCh0aGlzLCBlbmRUaW1lc3RhbXApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IGdldHMgZXhjZWN1dGVkIGJlZm9yZSB0aGUgdHJhbnNhY3Rpb24gZmluaXNoZXMuXG4gICAgICogVXNlZnVsIGZvciBjbGVhbnVwIG9yIGlmIHlvdSB3YW50IHRvIGFkZCBhbnkgYWRkaXRpb25hbCBzcGFucyBiYXNlZCBvbiBjdXJyZW50IGNvbnRleHQuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGV4cG9zZWQgYmVjYXVzZSB1c2VycyBoYXZlIG5vIG90aGVyIHdheSBvZiBydW5uaW5nIHNvbWV0aGluZyBiZWZvcmUgYW4gaWRsZSB0cmFuc2FjdGlvblxuICAgICAqIGZpbmlzaGVzLlxuICAgICAqL1xuICAgIElkbGVUcmFuc2FjdGlvbi5wcm90b3R5cGUucmVnaXN0ZXJCZWZvcmVGaW5pc2hDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9iZWZvcmVGaW5pc2hDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIElkbGVUcmFuc2FjdGlvbi5wcm90b3R5cGUuaW5pdFNwYW5SZWNvcmRlciA9IGZ1bmN0aW9uIChtYXhsZW4pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLnNwYW5SZWNvcmRlcikge1xuICAgICAgICAgICAgdmFyIHB1c2hBY3Rpdml0eSA9IGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5fZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5fcHVzaEFjdGl2aXR5KGlkKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB2YXIgcG9wQWN0aXZpdHkgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMuX3BvcEFjdGl2aXR5KGlkKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnNwYW5SZWNvcmRlciA9IG5ldyBJZGxlVHJhbnNhY3Rpb25TcGFuUmVjb3JkZXIocHVzaEFjdGl2aXR5LCBwb3BBY3Rpdml0eSwgdGhpcy5zcGFuSWQsIG1heGxlbik7XG4gICAgICAgICAgICAvLyBTdGFydCBoZWFydGJlYXQgc28gdGhhdCB0cmFuc2FjdGlvbnMgZG8gbm90IHJ1biBmb3JldmVyLlxuICAgICAgICAgICAgbG9nZ2VyLmxvZygnU3RhcnRpbmcgaGVhcnRiZWF0Jyk7XG4gICAgICAgICAgICB0aGlzLl9waW5nSGVhcnRiZWF0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zcGFuUmVjb3JkZXIuYWRkKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnQgdHJhY2tpbmcgYSBzcGVjaWZpYyBhY3Rpdml0eS5cbiAgICAgKiBAcGFyYW0gc3BhbklkIFRoZSBzcGFuIGlkIHRoYXQgcmVwcmVzZW50cyB0aGUgYWN0aXZpdHlcbiAgICAgKi9cbiAgICBJZGxlVHJhbnNhY3Rpb24ucHJvdG90eXBlLl9wdXNoQWN0aXZpdHkgPSBmdW5jdGlvbiAoc3BhbklkKSB7XG4gICAgICAgIGlmICh0aGlzLl9pbml0VGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2luaXRUaW1lb3V0KTtcbiAgICAgICAgICAgIHRoaXMuX2luaXRUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlci5sb2coXCJbVHJhY2luZ10gcHVzaEFjdGl2aXR5OiBcIiArIHNwYW5JZCk7XG4gICAgICAgIHRoaXMuYWN0aXZpdGllc1tzcGFuSWRdID0gdHJ1ZTtcbiAgICAgICAgbG9nZ2VyLmxvZygnW1RyYWNpbmddIG5ldyBhY3Rpdml0aWVzIGNvdW50JywgT2JqZWN0LmtleXModGhpcy5hY3Rpdml0aWVzKS5sZW5ndGgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFuIGFjdGl2aXR5IGZyb20gdXNhZ2VcbiAgICAgKiBAcGFyYW0gc3BhbklkIFRoZSBzcGFuIGlkIHRoYXQgcmVwcmVzZW50cyB0aGUgYWN0aXZpdHlcbiAgICAgKi9cbiAgICBJZGxlVHJhbnNhY3Rpb24ucHJvdG90eXBlLl9wb3BBY3Rpdml0eSA9IGZ1bmN0aW9uIChzcGFuSWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZpdGllc1tzcGFuSWRdKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiW1RyYWNpbmddIHBvcEFjdGl2aXR5IFwiICsgc3BhbklkKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZHluYW1pYy1kZWxldGVcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2aXRpZXNbc3BhbklkXTtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ1tUcmFjaW5nXSBuZXcgYWN0aXZpdGllcyBjb3VudCcsIE9iamVjdC5rZXlzKHRoaXMuYWN0aXZpdGllcykubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5hY3Rpdml0aWVzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHZhciB0aW1lb3V0ID0gdGhpcy5faWRsZVRpbWVvdXQ7XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGFkZCB0aGUgdGltZW91dCBoZXJlIHRvIGhhdmUgdGhlIHJlYWwgZW5kdGltZXN0YW1wIG9mIHRoZSB0cmFuc2FjdGlvblxuICAgICAgICAgICAgLy8gUmVtZW1iZXIgdGltZXN0YW1wV2l0aE1zIGlzIGluIHNlY29uZHMsIHRpbWVvdXQgaXMgaW4gbXNcbiAgICAgICAgICAgIHZhciBlbmRfMSA9IHRpbWVzdGFtcFdpdGhNcygpICsgdGltZW91dCAvIDEwMDA7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl9maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5maW5pc2goZW5kXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hlbiBlbnRyaWVzIG9mIHRoaXMuYWN0aXZpdGllcyBhcmUgbm90IGNoYW5naW5nIGZvciAzIGJlYXRzLlxuICAgICAqIElmIHRoaXMgb2NjdXJzIHdlIGZpbmlzaCB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICovXG4gICAgSWRsZVRyYW5zYWN0aW9uLnByb3RvdHlwZS5fYmVhdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2hlYXJ0YmVhdFRpbWVyKTtcbiAgICAgICAgLy8gV2Ugc2hvdWxkIG5vdCBiZSBydW5uaW5nIGhlYXJ0YmVhdCBpZiB0aGUgaWRsZSB0cmFuc2FjdGlvbiBpcyBmaW5pc2hlZC5cbiAgICAgICAgaWYgKHRoaXMuX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmFjdGl2aXRpZXMpO1xuICAgICAgICB2YXIgaGVhcnRiZWF0U3RyaW5nID0ga2V5cy5sZW5ndGggPyBrZXlzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VycmVudCkgeyByZXR1cm4gcHJldiArIGN1cnJlbnQ7IH0pIDogJyc7XG4gICAgICAgIGlmIChoZWFydGJlYXRTdHJpbmcgPT09IHRoaXMuX3ByZXZIZWFydGJlYXRTdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdENvdW50ZXIgKz0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdENvdW50ZXIgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ByZXZIZWFydGJlYXRTdHJpbmcgPSBoZWFydGJlYXRTdHJpbmc7XG4gICAgICAgIGlmICh0aGlzLl9oZWFydGJlYXRDb3VudGVyID49IDMpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coXCJbVHJhY2luZ10gVHJhbnNhY3Rpb24gZmluaXNoZWQgYmVjYXVzZSBvZiBubyBjaGFuZ2UgZm9yIDMgaGVhcnQgYmVhdHNcIik7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXR1cyhTcGFuU3RhdHVzLkRlYWRsaW5lRXhjZWVkZWQpO1xuICAgICAgICAgICAgdGhpcy5zZXRUYWcoJ2hlYXJ0YmVhdCcsICdmYWlsZWQnKTtcbiAgICAgICAgICAgIHRoaXMuZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9waW5nSGVhcnRiZWF0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBpbmdzIHRoZSBoZWFydGJlYXRcbiAgICAgKi9cbiAgICBJZGxlVHJhbnNhY3Rpb24ucHJvdG90eXBlLl9waW5nSGVhcnRiZWF0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBsb2dnZXIubG9nKFwicGluZ2luZyBIZWFydGJlYXQgLT4gY3VycmVudCBjb3VudGVyOiBcIiArIHRoaXMuX2hlYXJ0YmVhdENvdW50ZXIpO1xuICAgICAgICB0aGlzLl9oZWFydGJlYXRUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgX3RoaXMuX2JlYXQoKTtcbiAgICAgICAgfSwgNTAwMCk7XG4gICAgfTtcbiAgICByZXR1cm4gSWRsZVRyYW5zYWN0aW9uO1xufShUcmFuc2FjdGlvbikpO1xuZXhwb3J0IHsgSWRsZVRyYW5zYWN0aW9uIH07XG4vKipcbiAqIFJlc2V0IGFjdGl2ZSB0cmFuc2FjdGlvbiBvbiBzY29wZVxuICovXG5mdW5jdGlvbiBjbGVhckFjdGl2ZVRyYW5zYWN0aW9uKGh1Yikge1xuICAgIGlmIChodWIpIHtcbiAgICAgICAgdmFyIHNjb3BlID0gaHViLmdldFNjb3BlKCk7XG4gICAgICAgIGlmIChzY29wZSkge1xuICAgICAgICAgICAgdmFyIHRyYW5zYWN0aW9uID0gc2NvcGUuZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgIGlmICh0cmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIHNjb3BlLnNldFNwYW4odW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkbGV0cmFuc2FjdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBfX2Fzc2lnbiB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZ2V0TWFpbkNhcnJpZXIgfSBmcm9tICdAc2VudHJ5L2h1Yic7XG5pbXBvcnQgeyBUcmFuc2FjdGlvblNhbXBsaW5nTWV0aG9kIH0gZnJvbSAnQHNlbnRyeS90eXBlcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCB7IHJlZ2lzdGVyRXJyb3JJbnN0cnVtZW50YXRpb24gfSBmcm9tICcuL2Vycm9ycyc7XG5pbXBvcnQgeyBJZGxlVHJhbnNhY3Rpb24gfSBmcm9tICcuL2lkbGV0cmFuc2FjdGlvbic7XG5pbXBvcnQgeyBUcmFuc2FjdGlvbiB9IGZyb20gJy4vdHJhbnNhY3Rpb24nO1xuaW1wb3J0IHsgaGFzVHJhY2luZ0VuYWJsZWQgfSBmcm9tICcuL3V0aWxzJztcbi8qKiBSZXR1cm5zIGFsbCB0cmFjZSBoZWFkZXJzIHRoYXQgYXJlIGN1cnJlbnRseSBvbiB0aGUgdG9wIHNjb3BlLiAqL1xuZnVuY3Rpb24gdHJhY2VIZWFkZXJzKCkge1xuICAgIHZhciBzY29wZSA9IHRoaXMuZ2V0U2NvcGUoKTtcbiAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgdmFyIHNwYW4gPSBzY29wZS5nZXRTcGFuKCk7XG4gICAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICdzZW50cnktdHJhY2UnOiBzcGFuLnRvVHJhY2VwYXJlbnQoKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHt9O1xufVxuLyoqXG4gKiBNYWtlcyBhIHNhbXBsaW5nIGRlY2lzaW9uIGZvciB0aGUgZ2l2ZW4gdHJhbnNhY3Rpb24gYW5kIHN0b3JlcyBpdCBvbiB0aGUgdHJhbnNhY3Rpb24uXG4gKlxuICogQ2FsbGVkIGV2ZXJ5IHRpbWUgYSB0cmFuc2FjdGlvbiBpcyBjcmVhdGVkLiBPbmx5IHRyYW5zYWN0aW9ucyB3aGljaCBlbWVyZ2Ugd2l0aCBhIGBzYW1wbGVkYCB2YWx1ZSBvZiBgdHJ1ZWAgd2lsbCBiZVxuICogc2VudCB0byBTZW50cnkuXG4gKlxuICogQHBhcmFtIGh1YjogVGhlIGh1YiBvZmYgb2Ygd2hpY2ggdG8gcmVhZCBjb25maWcgb3B0aW9uc1xuICogQHBhcmFtIHRyYW5zYWN0aW9uOiBUaGUgdHJhbnNhY3Rpb24gbmVlZGluZyBhIHNhbXBsaW5nIGRlY2lzaW9uXG4gKiBAcGFyYW0gc2FtcGxpbmdDb250ZXh0OiBEZWZhdWx0IGFuZCB1c2VyLXByb3ZpZGVkIGRhdGEgd2hpY2ggbWF5IGJlIHVzZWQgdG8gaGVscCBtYWtlIHRoZSBkZWNpc2lvblxuICpcbiAqIEByZXR1cm5zIFRoZSBnaXZlbiB0cmFuc2FjdGlvbiB3aXRoIGl0cyBgc2FtcGxlZGAgdmFsdWUgc2V0XG4gKi9cbmZ1bmN0aW9uIHNhbXBsZShodWIsIHRyYW5zYWN0aW9uLCBzYW1wbGluZ0NvbnRleHQpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIGNsaWVudCA9IGh1Yi5nZXRDbGllbnQoKTtcbiAgICB2YXIgb3B0aW9ucyA9IChjbGllbnQgJiYgY2xpZW50LmdldE9wdGlvbnMoKSkgfHwge307XG4gICAgLy8gbm90aGluZyB0byBkbyBpZiB0aGVyZSdzIG5vIGNsaWVudCBvciBpZiB0cmFjaW5nIGlzIGRpc2FibGVkXG4gICAgaWYgKCFjbGllbnQgfHwgIWhhc1RyYWNpbmdFbmFibGVkKG9wdGlvbnMpKSB7XG4gICAgICAgIHRyYW5zYWN0aW9uLnNhbXBsZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgdXNlciBoYXMgZm9yY2VkIGEgc2FtcGxpbmcgZGVjaXNpb24gYnkgcGFzc2luZyBhIGBzYW1wbGVkYCB2YWx1ZSBpbiB0aGVpciB0cmFuc2FjdGlvbiBjb250ZXh0LCBnbyB3aXRoIHRoYXRcbiAgICBpZiAodHJhbnNhY3Rpb24uc2FtcGxlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRyYW5zYWN0aW9uLnNldE1ldGFkYXRhKHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU2FtcGxpbmc6IHsgbWV0aG9kOiBUcmFuc2FjdGlvblNhbXBsaW5nTWV0aG9kLkV4cGxpY2l0IH0sXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJhbnNhY3Rpb247XG4gICAgfVxuICAgIC8vIHdlIHdvdWxkIGhhdmUgYmFpbGVkIGFscmVhZHkgaWYgbmVpdGhlciBgdHJhY2VzU2FtcGxlcmAgbm9yIGB0cmFjZXNTYW1wbGVSYXRlYCB3ZXJlIGRlZmluZWQsIHNvIG9uZSBvZiB0aGVzZSBzaG91bGRcbiAgICAvLyB3b3JrOyBwcmVmZXIgdGhlIGhvb2sgaWYgc29cbiAgICB2YXIgc2FtcGxlUmF0ZTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMudHJhY2VzU2FtcGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzYW1wbGVSYXRlID0gb3B0aW9ucy50cmFjZXNTYW1wbGVyKHNhbXBsaW5nQ29udGV4dCk7XG4gICAgICAgIHRyYW5zYWN0aW9uLnNldE1ldGFkYXRhKHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU2FtcGxpbmc6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFRyYW5zYWN0aW9uU2FtcGxpbmdNZXRob2QuU2FtcGxlcixcbiAgICAgICAgICAgICAgICAvLyBjYXN0IHRvIG51bWJlciBpbiBjYXNlIGl0J3MgYSBib29sZWFuXG4gICAgICAgICAgICAgICAgcmF0ZTogTnVtYmVyKHNhbXBsZVJhdGUpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNhbXBsaW5nQ29udGV4dC5wYXJlbnRTYW1wbGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2FtcGxlUmF0ZSA9IHNhbXBsaW5nQ29udGV4dC5wYXJlbnRTYW1wbGVkO1xuICAgICAgICB0cmFuc2FjdGlvbi5zZXRNZXRhZGF0YSh7XG4gICAgICAgICAgICB0cmFuc2FjdGlvblNhbXBsaW5nOiB7IG1ldGhvZDogVHJhbnNhY3Rpb25TYW1wbGluZ01ldGhvZC5Jbmhlcml0YW5jZSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNhbXBsZVJhdGUgPSBvcHRpb25zLnRyYWNlc1NhbXBsZVJhdGU7XG4gICAgICAgIHRyYW5zYWN0aW9uLnNldE1ldGFkYXRhKHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU2FtcGxpbmc6IHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFRyYW5zYWN0aW9uU2FtcGxpbmdNZXRob2QuUmF0ZSxcbiAgICAgICAgICAgICAgICAvLyBjYXN0IHRvIG51bWJlciBpbiBjYXNlIGl0J3MgYSBib29sZWFuXG4gICAgICAgICAgICAgICAgcmF0ZTogTnVtYmVyKHNhbXBsZVJhdGUpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFNpbmNlIHRoaXMgaXMgY29taW5nIGZyb20gdGhlIHVzZXIgKG9yIGZyb20gYSBmdW5jdGlvbiBwcm92aWRlZCBieSB0aGUgdXNlciksIHdobyBrbm93cyB3aGF0IHdlIG1pZ2h0IGdldC4gKFRoZVxuICAgIC8vIG9ubHkgdmFsaWQgdmFsdWVzIGFyZSBib29sZWFucyBvciBudW1iZXJzIGJldHdlZW4gMCBhbmQgMS4pXG4gICAgaWYgKCFpc1ZhbGlkU2FtcGxlUmF0ZShzYW1wbGVSYXRlKSkge1xuICAgICAgICBsb2dnZXIud2FybihcIltUcmFjaW5nXSBEaXNjYXJkaW5nIHRyYW5zYWN0aW9uIGJlY2F1c2Ugb2YgaW52YWxpZCBzYW1wbGUgcmF0ZS5cIik7XG4gICAgICAgIHRyYW5zYWN0aW9uLnNhbXBsZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgZnVuY3Rpb24gcmV0dXJuZWQgMCAob3IgZmFsc2UpLCBvciBpZiBgdHJhY2VzU2FtcGxlUmF0ZWAgaXMgMCwgaXQncyBhIHNpZ24gdGhlIHRyYW5zYWN0aW9uIHNob3VsZCBiZSBkcm9wcGVkXG4gICAgaWYgKCFzYW1wbGVSYXRlKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJbVHJhY2luZ10gRGlzY2FyZGluZyB0cmFuc2FjdGlvbiBiZWNhdXNlIFwiICsgKHR5cGVvZiBvcHRpb25zLnRyYWNlc1NhbXBsZXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgID8gJ3RyYWNlc1NhbXBsZXIgcmV0dXJuZWQgMCBvciBmYWxzZSdcbiAgICAgICAgICAgIDogJ2EgbmVnYXRpdmUgc2FtcGxpbmcgZGVjaXNpb24gd2FzIGluaGVyaXRlZCBvciB0cmFjZXNTYW1wbGVSYXRlIGlzIHNldCB0byAwJykpO1xuICAgICAgICB0cmFuc2FjdGlvbi5zYW1wbGVkID0gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjtcbiAgICB9XG4gICAgLy8gTm93IHdlIHJvbGwgdGhlIGRpY2UuIE1hdGgucmFuZG9tIGlzIGluY2x1c2l2ZSBvZiAwLCBidXQgbm90IG9mIDEsIHNvIHN0cmljdCA8IGlzIHNhZmUgaGVyZS4gSW4gY2FzZSBzYW1wbGVSYXRlIGlzXG4gICAgLy8gYSBib29sZWFuLCB0aGUgPCBjb21wYXJpc29uIHdpbGwgY2F1c2UgaXQgdG8gYmUgYXV0b21hdGljYWxseSBjYXN0IHRvIDEgaWYgaXQncyB0cnVlIGFuZCAwIGlmIGl0J3MgZmFsc2UuXG4gICAgdHJhbnNhY3Rpb24uc2FtcGxlZCA9IE1hdGgucmFuZG9tKCkgPCBzYW1wbGVSYXRlO1xuICAgIC8vIGlmIHdlJ3JlIG5vdCBnb2luZyB0byBrZWVwIGl0LCB3ZSdyZSBkb25lXG4gICAgaWYgKCF0cmFuc2FjdGlvbi5zYW1wbGVkKSB7XG4gICAgICAgIGxvZ2dlci5sb2coXCJbVHJhY2luZ10gRGlzY2FyZGluZyB0cmFuc2FjdGlvbiBiZWNhdXNlIGl0J3Mgbm90IGluY2x1ZGVkIGluIHRoZSByYW5kb20gc2FtcGxlIChzYW1wbGluZyByYXRlID0gXCIgKyBOdW1iZXIoc2FtcGxlUmF0ZSkgKyBcIilcIik7XG4gICAgICAgIHJldHVybiB0cmFuc2FjdGlvbjtcbiAgICB9XG4gICAgLy8gYXQgdGhpcyBwb2ludCB3ZSBrbm93IHdlJ3JlIGtlZXBpbmcgdGhlIHRyYW5zYWN0aW9uLCB3aGV0aGVyIGJlY2F1c2Ugb2YgYW4gaW5oZXJpdGVkIGRlY2lzaW9uIG9yIGJlY2F1c2UgaXQgZ290XG4gICAgLy8gbHVja3kgd2l0aCB0aGUgZGljZSByb2xsXG4gICAgdHJhbnNhY3Rpb24uaW5pdFNwYW5SZWNvcmRlcigoX2EgPSBvcHRpb25zLl9leHBlcmltZW50cykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm1heFNwYW5zKTtcbiAgICBsb2dnZXIubG9nKFwiW1RyYWNpbmddIHN0YXJ0aW5nIFwiICsgdHJhbnNhY3Rpb24ub3AgKyBcIiB0cmFuc2FjdGlvbiAtIFwiICsgdHJhbnNhY3Rpb24ubmFtZSk7XG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xufVxuLyoqXG4gKiBDaGVja3MgdGhlIGdpdmVuIHNhbXBsZSByYXRlIHRvIG1ha2Ugc3VyZSBpdCBpcyB2YWxpZCB0eXBlIGFuZCB2YWx1ZSAoYSBib29sZWFuLCBvciBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEpLlxuICovXG5mdW5jdGlvbiBpc1ZhbGlkU2FtcGxlUmF0ZShyYXRlKSB7XG4gICAgLy8gd2UgbmVlZCB0byBjaGVjayBOYU4gZXhwbGljaXRseSBiZWNhdXNlIGl0J3Mgb2YgdHlwZSAnbnVtYmVyJyBhbmQgdGhlcmVmb3JlIHdvdWxkbid0IGdldCBjYXVnaHQgYnkgdGhpcyB0eXBlY2hlY2tcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGlmIChpc05hTihyYXRlKSB8fCAhKHR5cGVvZiByYXRlID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgcmF0ZSA9PT0gJ2Jvb2xlYW4nKSkge1xuICAgICAgICBsb2dnZXIud2FybihcIltUcmFjaW5nXSBHaXZlbiBzYW1wbGUgcmF0ZSBpcyBpbnZhbGlkLiBTYW1wbGUgcmF0ZSBtdXN0IGJlIGEgYm9vbGVhbiBvciBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuIEdvdCBcIiArIEpTT04uc3RyaW5naWZ5KHJhdGUpICsgXCIgb2YgdHlwZSBcIiArIEpTT04uc3RyaW5naWZ5KHR5cGVvZiByYXRlKSArIFwiLlwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvLyBpbiBjYXNlIHNhbXBsZVJhdGUgaXMgYSBib29sZWFuLCBpdCB3aWxsIGdldCBhdXRvbWF0aWNhbGx5IGNhc3QgdG8gMSBpZiBpdCdzIHRydWUgYW5kIDAgaWYgaXQncyBmYWxzZVxuICAgIGlmIChyYXRlIDwgMCB8fCByYXRlID4gMSkge1xuICAgICAgICBsb2dnZXIud2FybihcIltUcmFjaW5nXSBHaXZlbiBzYW1wbGUgcmF0ZSBpcyBpbnZhbGlkLiBTYW1wbGUgcmF0ZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMS4gR290IFwiICsgcmF0ZSArIFwiLlwiKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB0cmFuc2FjdGlvbiBhbmQgYWRkcyBhIHNhbXBsaW5nIGRlY2lzaW9uIGlmIGl0IGRvZXNuJ3QgeWV0IGhhdmUgb25lLlxuICpcbiAqIFRoZSBIdWIuc3RhcnRUcmFuc2FjdGlvbiBtZXRob2QgZGVsZWdhdGVzIHRvIHRoaXMgbWV0aG9kIHRvIGRvIGl0cyB3b3JrLCBwYXNzaW5nIHRoZSBIdWIgaW5zdGFuY2UgaW4gYXMgYHRoaXNgLCBhcyBpZlxuICogaXQgaGFkIGJlZW4gY2FsbGVkIG9uIHRoZSBodWIgZGlyZWN0bHkuIEV4aXN0cyBhcyBhIHNlcGFyYXRlIGZ1bmN0aW9uIHNvIHRoYXQgaXQgY2FuIGJlIGluamVjdGVkIGludG8gdGhlIGNsYXNzIGFzIGFuXG4gKiBcImV4dGVuc2lvbiBtZXRob2QuXCJcbiAqXG4gKiBAcGFyYW0gdGhpczogVGhlIEh1YiBzdGFydGluZyB0aGUgdHJhbnNhY3Rpb25cbiAqIEBwYXJhbSB0cmFuc2FjdGlvbkNvbnRleHQ6IERhdGEgdXNlZCB0byBjb25maWd1cmUgdGhlIHRyYW5zYWN0aW9uXG4gKiBAcGFyYW0gQ3VzdG9tU2FtcGxpbmdDb250ZXh0OiBPcHRpb25hbCBkYXRhIHRvIGJlIHByb3ZpZGVkIHRvIHRoZSBgdHJhY2VzU2FtcGxlcmAgZnVuY3Rpb24gKGlmIGFueSlcbiAqXG4gKiBAcmV0dXJucyBUaGUgbmV3IHRyYW5zYWN0aW9uXG4gKlxuICogQHNlZSB7QGxpbmsgSHViLnN0YXJ0VHJhbnNhY3Rpb259XG4gKi9cbmZ1bmN0aW9uIF9zdGFydFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uQ29udGV4dCwgY3VzdG9tU2FtcGxpbmdDb250ZXh0KSB7XG4gICAgdmFyIHRyYW5zYWN0aW9uID0gbmV3IFRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uQ29udGV4dCwgdGhpcyk7XG4gICAgcmV0dXJuIHNhbXBsZSh0aGlzLCB0cmFuc2FjdGlvbiwgX19hc3NpZ24oeyBwYXJlbnRTYW1wbGVkOiB0cmFuc2FjdGlvbkNvbnRleHQucGFyZW50U2FtcGxlZCwgdHJhbnNhY3Rpb25Db250ZXh0OiB0cmFuc2FjdGlvbkNvbnRleHQgfSwgY3VzdG9tU2FtcGxpbmdDb250ZXh0KSk7XG59XG4vKipcbiAqIENyZWF0ZSBuZXcgaWRsZSB0cmFuc2FjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0SWRsZVRyYW5zYWN0aW9uKGh1YiwgdHJhbnNhY3Rpb25Db250ZXh0LCBpZGxlVGltZW91dCwgb25TY29wZSwgY3VzdG9tU2FtcGxpbmdDb250ZXh0KSB7XG4gICAgdmFyIHRyYW5zYWN0aW9uID0gbmV3IElkbGVUcmFuc2FjdGlvbih0cmFuc2FjdGlvbkNvbnRleHQsIGh1YiwgaWRsZVRpbWVvdXQsIG9uU2NvcGUpO1xuICAgIHJldHVybiBzYW1wbGUoaHViLCB0cmFuc2FjdGlvbiwgX19hc3NpZ24oeyBwYXJlbnRTYW1wbGVkOiB0cmFuc2FjdGlvbkNvbnRleHQucGFyZW50U2FtcGxlZCwgdHJhbnNhY3Rpb25Db250ZXh0OiB0cmFuc2FjdGlvbkNvbnRleHQgfSwgY3VzdG9tU2FtcGxpbmdDb250ZXh0KSk7XG59XG4vKipcbiAqIEBwcml2YXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfYWRkVHJhY2luZ0V4dGVuc2lvbnMoKSB7XG4gICAgdmFyIGNhcnJpZXIgPSBnZXRNYWluQ2FycmllcigpO1xuICAgIGlmIChjYXJyaWVyLl9fU0VOVFJZX18pIHtcbiAgICAgICAgY2Fycmllci5fX1NFTlRSWV9fLmV4dGVuc2lvbnMgPSBjYXJyaWVyLl9fU0VOVFJZX18uZXh0ZW5zaW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKCFjYXJyaWVyLl9fU0VOVFJZX18uZXh0ZW5zaW9ucy5zdGFydFRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICBjYXJyaWVyLl9fU0VOVFJZX18uZXh0ZW5zaW9ucy5zdGFydFRyYW5zYWN0aW9uID0gX3N0YXJ0VHJhbnNhY3Rpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjYXJyaWVyLl9fU0VOVFJZX18uZXh0ZW5zaW9ucy50cmFjZUhlYWRlcnMpIHtcbiAgICAgICAgICAgIGNhcnJpZXIuX19TRU5UUllfXy5leHRlbnNpb25zLnRyYWNlSGVhZGVycyA9IHRyYWNlSGVhZGVycztcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogVGhpcyBwYXRjaGVzIHRoZSBnbG9iYWwgb2JqZWN0IGFuZCBpbmplY3RzIHRoZSBUcmFjaW5nIGV4dGVuc2lvbnMgbWV0aG9kc1xuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXh0ZW5zaW9uTWV0aG9kcygpIHtcbiAgICBfYWRkVHJhY2luZ0V4dGVuc2lvbnMoKTtcbiAgICAvLyBJZiBhbiBlcnJvciBoYXBwZW5zIGdsb2JhbGx5LCB3ZSBzaG91bGQgbWFrZSBzdXJlIHRyYW5zYWN0aW9uIHN0YXR1cyBpcyBzZXQgdG8gZXJyb3IuXG4gICAgcmVnaXN0ZXJFcnJvckluc3RydW1lbnRhdGlvbigpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aHViZXh0ZW5zaW9ucy5qcy5tYXAiLCJpbXBvcnQgeyBnZXRHbG9iYWxPYmplY3QsIGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgU3BhblN0YXR1cyB9IGZyb20gJy4uL3NwYW5zdGF0dXMnO1xuaW1wb3J0IHsgZ2V0QWN0aXZlVHJhbnNhY3Rpb24gfSBmcm9tICcuLi91dGlscyc7XG52YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIHRoYXQgY2FuY2VscyBhbmQgZmluaXNoZXMgYSB0cmFuc2FjdGlvbiB3aGVuIHRoZSBnbG9iYWxcbiAqIGRvY3VtZW50IGlzIGhpZGRlbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyQmFja2dyb3VuZFRhYkRldGVjdGlvbigpIHtcbiAgICBpZiAoZ2xvYmFsICYmIGdsb2JhbC5kb2N1bWVudCkge1xuICAgICAgICBnbG9iYWwuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhY3RpdmVUcmFuc2FjdGlvbiA9IGdldEFjdGl2ZVRyYW5zYWN0aW9uKCk7XG4gICAgICAgICAgICBpZiAoZ2xvYmFsLmRvY3VtZW50LmhpZGRlbiAmJiBhY3RpdmVUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coXCJbVHJhY2luZ10gVHJhbnNhY3Rpb246IFwiICsgU3BhblN0YXR1cy5DYW5jZWxsZWQgKyBcIiAtPiBzaW5jZSB0YWIgbW92ZWQgdG8gdGhlIGJhY2tncm91bmQsIG9wOiBcIiArIGFjdGl2ZVRyYW5zYWN0aW9uLm9wKTtcbiAgICAgICAgICAgICAgICAvLyBXZSBzaG91bGQgbm90IHNldCBzdGF0dXMgaWYgaXQgaXMgYWxyZWFkeSBzZXQsIHRoaXMgcHJldmVudCBpbXBvcnRhbnQgc3RhdHVzZXMgbGlrZVxuICAgICAgICAgICAgICAgIC8vIGVycm9yIG9yIGRhdGEgbG9zcyBmcm9tIGJlaW5nIG92ZXJ3cml0dGVuIG9uIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlVHJhbnNhY3Rpb24uc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZVRyYW5zYWN0aW9uLnNldFN0YXR1cyhTcGFuU3RhdHVzLkNhbmNlbGxlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFjdGl2ZVRyYW5zYWN0aW9uLnNldFRhZygndmlzaWJpbGl0eWNoYW5nZScsICdkb2N1bWVudC5oaWRkZW4nKTtcbiAgICAgICAgICAgICAgICBhY3RpdmVUcmFuc2FjdGlvbi5maW5pc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsb2dnZXIud2FybignW1RyYWNpbmddIENvdWxkIG5vdCBzZXQgdXAgYmFja2dyb3VuZCB0YWIgZGV0ZWN0aW9uIGR1ZSB0byBsYWNrIG9mIGdsb2JhbCBkb2N1bWVudCcpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhY2tncm91bmR0YWIuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBvbkhpZGRlbiB9IGZyb20gJy4vb25IaWRkZW4nO1xudmFyIGZpcnN0SGlkZGVuVGltZTtcbmV4cG9ydCB2YXIgZ2V0Rmlyc3RIaWRkZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGZpcnN0SGlkZGVuVGltZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIElmIHRoZSBkb2N1bWVudCBpcyBoaWRkZW4gd2hlbiB0aGlzIGNvZGUgcnVucywgYXNzdW1lIGl0IHdhcyBoaWRkZW5cbiAgICAgICAgLy8gc2luY2UgbmF2aWdhdGlvbiBzdGFydC4gVGhpcyBpc24ndCBhIHBlcmZlY3QgaGV1cmlzdGljLCBidXQgaXQncyB0aGVcbiAgICAgICAgLy8gYmVzdCB3ZSBjYW4gZG8gdW50aWwgYW4gQVBJIGlzIGF2YWlsYWJsZSB0byBzdXBwb3J0IHF1ZXJ5aW5nIHBhc3RcbiAgICAgICAgLy8gdmlzaWJpbGl0eVN0YXRlLlxuICAgICAgICBmaXJzdEhpZGRlblRpbWUgPSBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nID8gMCA6IEluZmluaXR5O1xuICAgICAgICAvLyBVcGRhdGUgdGhlIHRpbWUgaWYvd2hlbiB0aGUgZG9jdW1lbnQgYmVjb21lcyBoaWRkZW4uXG4gICAgICAgIG9uSGlkZGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIHRpbWVTdGFtcCA9IF9hLnRpbWVTdGFtcDtcbiAgICAgICAgICAgIHJldHVybiAoZmlyc3RIaWRkZW5UaW1lID0gdGltZVN0YW1wKTtcbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGdldCB0aW1lU3RhbXAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3RIaWRkZW5UaW1lO1xuICAgICAgICB9LFxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Rmlyc3RIaWRkZW4uanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgaW5wdXRQcm9taXNlO1xuZXhwb3J0IHZhciB3aGVuSW5wdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFpbnB1dFByb21pc2UpIHtcbiAgICAgICAgaW5wdXRQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgIHJldHVybiBbJ3Njcm9sbCcsICdrZXlkb3duJywgJ3BvaW50ZXJkb3duJ10ubWFwKGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCByLCB7XG4gICAgICAgICAgICAgICAgICAgIG9uY2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHBhc3NpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBpbnB1dFByb21pc2U7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2hlbklucHV0LmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0IHZhciBiaW5kUmVwb3J0ZXIgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIG1ldHJpYywgcG8sIG9ic2VydmVBbGxVcGRhdGVzKSB7XG4gICAgdmFyIHByZXZWYWx1ZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocG8gJiYgbWV0cmljLmlzRmluYWwpIHtcbiAgICAgICAgICAgIHBvLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWV0cmljLnZhbHVlID49IDApIHtcbiAgICAgICAgICAgIGlmIChvYnNlcnZlQWxsVXBkYXRlcyB8fCBtZXRyaWMuaXNGaW5hbCB8fCBkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgbWV0cmljLmRlbHRhID0gbWV0cmljLnZhbHVlIC0gKHByZXZWYWx1ZSB8fCAwKTtcbiAgICAgICAgICAgICAgICAvLyBSZXBvcnQgdGhlIG1ldHJpYyBpZiB0aGVyZSdzIGEgbm9uLXplcm8gZGVsdGEsIGlmIHRoZSBtZXRyaWMgaXNcbiAgICAgICAgICAgICAgICAvLyBmaW5hbCwgb3IgaWYgbm8gcHJldmlvdXMgdmFsdWUgZXhpc3RzICh3aGljaCBjYW4gaGFwcGVuIGluIHRoZSBjYXNlXG4gICAgICAgICAgICAgICAgLy8gb2YgdGhlIGRvY3VtZW50IGJlY29taW5nIGhpZGRlbiB3aGVuIHRoZSBtZXRyaWMgdmFsdWUgaXMgMCkuXG4gICAgICAgICAgICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dlYi12aXRhbHMvaXNzdWVzLzE0XG4gICAgICAgICAgICAgICAgaWYgKG1ldHJpYy5kZWx0YSB8fCBtZXRyaWMuaXNGaW5hbCB8fCBwcmV2VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhtZXRyaWMpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2VmFsdWUgPSBtZXRyaWMudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaW5kUmVwb3J0ZXIuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgeyBnZW5lcmF0ZVVuaXF1ZUlEIH0gZnJvbSAnLi9nZW5lcmF0ZVVuaXF1ZUlEJztcbmV4cG9ydCB2YXIgaW5pdE1ldHJpYyA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7IHZhbHVlID0gLTE7IH1cbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGRlbHRhOiAwLFxuICAgICAgICBlbnRyaWVzOiBbXSxcbiAgICAgICAgaWQ6IGdlbmVyYXRlVW5pcXVlSUQoKSxcbiAgICAgICAgaXNGaW5hbDogZmFsc2UsXG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbml0TWV0cmljLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBQZXJmb3JtYW50bHkgZ2VuZXJhdGUgYSB1bmlxdWUsIDI3LWNoYXIgc3RyaW5nIGJ5IGNvbWJpbmluZyB0aGUgY3VycmVudFxuICogdGltZXN0YW1wIHdpdGggYSAxMy1kaWdpdCByYW5kb20gbnVtYmVyLlxuICogQHJldHVybiB7c3RyaW5nfVxuICovXG5leHBvcnQgdmFyIGdlbmVyYXRlVW5pcXVlSUQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCkgKyBcIi1cIiArIChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoOWUxMiAtIDEpKSArIDFlMTIpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdlbmVyYXRlVW5pcXVlSUQuanMubWFwIiwiLypcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRha2VzIGEgcGVyZm9ybWFuY2UgZW50cnkgdHlwZSBhbmQgYSBjYWxsYmFjayBmdW5jdGlvbiwgYW5kIGNyZWF0ZXMgYVxuICogYFBlcmZvcm1hbmNlT2JzZXJ2ZXJgIGluc3RhbmNlIHRoYXQgd2lsbCBvYnNlcnZlIHRoZSBzcGVjaWZpZWQgZW50cnkgdHlwZVxuICogd2l0aCBidWZmZXJpbmcgZW5hYmxlZCBhbmQgY2FsbCB0aGUgY2FsbGJhY2sgX2ZvciBlYWNoIGVudHJ5Xy5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGFsc28gZmVhdHVyZS1kZXRlY3RzIGVudHJ5IHN1cHBvcnQgYW5kIHdyYXBzIHRoZSBsb2dpYyBpbiBhXG4gKiB0cnkvY2F0Y2ggdG8gYXZvaWQgZXJyb3JzIGluIHVuc3VwcG9ydGluZyBicm93c2Vycy5cbiAqL1xuZXhwb3J0IHZhciBvYnNlcnZlID0gZnVuY3Rpb24gKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKFBlcmZvcm1hbmNlT2JzZXJ2ZXIuc3VwcG9ydGVkRW50cnlUeXBlcy5pbmNsdWRlcyh0eXBlKSkge1xuICAgICAgICAgICAgdmFyIHBvID0gbmV3IFBlcmZvcm1hbmNlT2JzZXJ2ZXIoZnVuY3Rpb24gKGwpIHsgcmV0dXJuIGwuZ2V0RW50cmllcygpLm1hcChjYWxsYmFjayk7IH0pO1xuICAgICAgICAgICAgcG8ub2JzZXJ2ZSh7IHR5cGU6IHR5cGUsIGJ1ZmZlcmVkOiB0cnVlIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBvO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIERvIG5vdGhpbmcuXG4gICAgfVxuICAgIHJldHVybjtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZlLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGlzVW5sb2FkaW5nID0gZmFsc2U7XG52YXIgbGlzdGVuZXJzQWRkZWQgPSBmYWxzZTtcbnZhciBvblBhZ2VIaWRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaXNVbmxvYWRpbmcgPSAhZXZlbnQucGVyc2lzdGVkO1xufTtcbnZhciBhZGRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcigncGFnZWhpZGUnLCBvblBhZ2VIaWRlKTtcbiAgICAvLyBgYmVmb3JldW5sb2FkYCBpcyBuZWVkZWQgdG8gZml4IHRoaXMgYnVnOlxuICAgIC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTk4NzQwOVxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgICBhZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCBmdW5jdGlvbiAoKSB7IH0pO1xufTtcbmV4cG9ydCB2YXIgb25IaWRkZW4gPSBmdW5jdGlvbiAoY2IsIG9uY2UpIHtcbiAgICBpZiAob25jZSA9PT0gdm9pZCAwKSB7IG9uY2UgPSBmYWxzZTsgfVxuICAgIGlmICghbGlzdGVuZXJzQWRkZWQpIHtcbiAgICAgICAgYWRkTGlzdGVuZXJzKCk7XG4gICAgICAgIGxpc3RlbmVyc0FkZGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgdGltZVN0YW1wID0gX2EudGltZVN0YW1wO1xuICAgICAgICBpZiAoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlID09PSAnaGlkZGVuJykge1xuICAgICAgICAgICAgY2IoeyB0aW1lU3RhbXA6IHRpbWVTdGFtcCwgaXNVbmxvYWRpbmc6IGlzVW5sb2FkaW5nIH0pO1xuICAgICAgICB9XG4gICAgfSwgeyBjYXB0dXJlOiB0cnVlLCBvbmNlOiBvbmNlIH0pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9uSGlkZGVuLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgZ2V0R2xvYmFsT2JqZWN0IH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBpbml0TWV0cmljIH0gZnJvbSAnLi9saWIvaW5pdE1ldHJpYyc7XG52YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG52YXIgYWZ0ZXJMb2FkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgLy8gUXVldWUgYSB0YXNrIHNvIHRoZSBjYWxsYmFjayBydW5zIGFmdGVyIGBsb2FkRXZlbnRFbmRgLlxuICAgICAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCAwKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFVzZSBgcGFnZXNob3dgIHNvIHRoZSBjYWxsYmFjayBydW5zIGFmdGVyIGBsb2FkRXZlbnRFbmRgLlxuICAgICAgICBhZGRFdmVudExpc3RlbmVyKCdwYWdlc2hvdycsIGNhbGxiYWNrKTtcbiAgICB9XG59O1xudmFyIGdldE5hdmlnYXRpb25FbnRyeUZyb21QZXJmb3JtYW5jZVRpbWluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBSZWFsbHkgYW5ub3lpbmcgdGhhdCBUeXBlU2NyaXB0IGVycm9ycyB3aGVuIHVzaW5nIGBQZXJmb3JtYW5jZVRpbWluZ2AuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgdmFyIHRpbWluZyA9IGdsb2JhbC5wZXJmb3JtYW5jZS50aW1pbmc7XG4gICAgdmFyIG5hdmlnYXRpb25FbnRyeSA9IHtcbiAgICAgICAgZW50cnlUeXBlOiAnbmF2aWdhdGlvbicsXG4gICAgICAgIHN0YXJ0VGltZTogMCxcbiAgICB9O1xuICAgIGZvciAodmFyIGtleSBpbiB0aW1pbmcpIHtcbiAgICAgICAgaWYgKGtleSAhPT0gJ25hdmlnYXRpb25TdGFydCcgJiYga2V5ICE9PSAndG9KU09OJykge1xuICAgICAgICAgICAgbmF2aWdhdGlvbkVudHJ5W2tleV0gPSBNYXRoLm1heCh0aW1pbmdba2V5XSAtIHRpbWluZy5uYXZpZ2F0aW9uU3RhcnQsIDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuYXZpZ2F0aW9uRW50cnk7XG59O1xuZXhwb3J0IHZhciBnZXRUVEZCID0gZnVuY3Rpb24gKG9uUmVwb3J0KSB7XG4gICAgdmFyIG1ldHJpYyA9IGluaXRNZXRyaWMoJ1RURkInKTtcbiAgICBhZnRlckxvYWQoZnVuY3Rpb24gKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBOYXZpZ2F0aW9uVGltaW5nIEwyIGVudHJ5IGlmIGF2YWlsYWJsZS5cbiAgICAgICAgICAgIHZhciBuYXZpZ2F0aW9uRW50cnkgPSBnbG9iYWwucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZSgnbmF2aWdhdGlvbicpWzBdIHx8IGdldE5hdmlnYXRpb25FbnRyeUZyb21QZXJmb3JtYW5jZVRpbWluZygpO1xuICAgICAgICAgICAgbWV0cmljLnZhbHVlID0gbWV0cmljLmRlbHRhID0gbmF2aWdhdGlvbkVudHJ5LnJlc3BvbnNlU3RhcnQ7XG4gICAgICAgICAgICBtZXRyaWMuZW50cmllcyA9IFtuYXZpZ2F0aW9uRW50cnldO1xuICAgICAgICAgICAgb25SZXBvcnQobWV0cmljKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIERvIG5vdGhpbmcuXG4gICAgICAgIH1cbiAgICB9KTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRUVEZCLmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduLCBfX3Jlc3QgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGJyb3dzZXJQZXJmb3JtYW5jZVRpbWVPcmlnaW4sIGdldEdsb2JhbE9iamVjdCwgbG9nZ2VyIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBtc1RvU2VjIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgZ2V0Q0xTIH0gZnJvbSAnLi93ZWItdml0YWxzL2dldENMUyc7XG5pbXBvcnQgeyBnZXRGSUQgfSBmcm9tICcuL3dlYi12aXRhbHMvZ2V0RklEJztcbmltcG9ydCB7IGdldExDUCB9IGZyb20gJy4vd2ViLXZpdGFscy9nZXRMQ1AnO1xuaW1wb3J0IHsgZ2V0VFRGQiB9IGZyb20gJy4vd2ViLXZpdGFscy9nZXRUVEZCJztcbmltcG9ydCB7IGdldEZpcnN0SGlkZGVuIH0gZnJvbSAnLi93ZWItdml0YWxzL2xpYi9nZXRGaXJzdEhpZGRlbic7XG52YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4vKiogQ2xhc3MgdHJhY2tpbmcgbWV0cmljcyAgKi9cbnZhciBNZXRyaWNzSW5zdHJ1bWVudGF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1ldHJpY3NJbnN0cnVtZW50YXRpb24oKSB7XG4gICAgICAgIHRoaXMuX21lYXN1cmVtZW50cyA9IHt9O1xuICAgICAgICB0aGlzLl9wZXJmb3JtYW5jZUN1cnNvciA9IDA7XG4gICAgICAgIGlmIChnbG9iYWwgJiYgZ2xvYmFsLnBlcmZvcm1hbmNlKSB7XG4gICAgICAgICAgICBpZiAoZ2xvYmFsLnBlcmZvcm1hbmNlLm1hcmspIHtcbiAgICAgICAgICAgICAgICBnbG9iYWwucGVyZm9ybWFuY2UubWFyaygnc2VudHJ5LXRyYWNpbmctaW5pdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdHJhY2tDTFMoKTtcbiAgICAgICAgICAgIHRoaXMuX3RyYWNrTENQKCk7XG4gICAgICAgICAgICB0aGlzLl90cmFja0ZJRCgpO1xuICAgICAgICAgICAgdGhpcy5fdHJhY2tUVEZCKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEFkZCBwZXJmb3JtYW5jZSByZWxhdGVkIHNwYW5zIHRvIGEgdHJhbnNhY3Rpb24gKi9cbiAgICBNZXRyaWNzSW5zdHJ1bWVudGF0aW9uLnByb3RvdHlwZS5hZGRQZXJmb3JtYW5jZUVudHJpZXMgPSBmdW5jdGlvbiAodHJhbnNhY3Rpb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCFnbG9iYWwgfHwgIWdsb2JhbC5wZXJmb3JtYW5jZSB8fCAhZ2xvYmFsLnBlcmZvcm1hbmNlLmdldEVudHJpZXMgfHwgIWJyb3dzZXJQZXJmb3JtYW5jZVRpbWVPcmlnaW4pIHtcbiAgICAgICAgICAgIC8vIEdhdGVrZWVwZXIgaWYgcGVyZm9ybWFuY2UgQVBJIG5vdCBhdmFpbGFibGVcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIubG9nKCdbVHJhY2luZ10gQWRkaW5nICYgYWRqdXN0aW5nIHNwYW5zIHVzaW5nIFBlcmZvcm1hbmNlIEFQSScpO1xuICAgICAgICB2YXIgdGltZU9yaWdpbiA9IG1zVG9TZWMoYnJvd3NlclBlcmZvcm1hbmNlVGltZU9yaWdpbik7XG4gICAgICAgIHZhciBlbnRyeVNjcmlwdFNyYztcbiAgICAgICAgaWYgKGdsb2JhbC5kb2N1bWVudCkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9wcmVmZXItZm9yLW9mXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRvY3VtZW50LnNjcmlwdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBnbyB0aHJvdWdoIGFsbCBzY3JpcHRzIG9uIHRoZSBwYWdlIGFuZCBsb29rIGZvciAnZGF0YS1lbnRyeSdcbiAgICAgICAgICAgICAgICAvLyBXZSByZW1lbWJlciB0aGUgbmFtZSBhbmQgbWVhc3VyZSB0aGUgdGltZSBiZXR3ZWVuIHRoaXMgc2NyaXB0IGZpbmlzaGVkIGxvYWRpbmcgYW5kXG4gICAgICAgICAgICAgICAgLy8gb3VyIG1hcmsgJ3NlbnRyeS10cmFjaW5nLWluaXQnXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnNjcmlwdHNbaV0uZGF0YXNldC5lbnRyeSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICAgIGVudHJ5U2NyaXB0U3JjID0gZG9jdW1lbnQuc2NyaXB0c1tpXS5zcmM7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZW50cnlTY3JpcHRTdGFydFRpbWVzdGFtcDtcbiAgICAgICAgdmFyIHRyYWNpbmdJbml0TWFya1N0YXJ0VGltZTtcbiAgICAgICAgZ2xvYmFsLnBlcmZvcm1hbmNlXG4gICAgICAgICAgICAuZ2V0RW50cmllcygpXG4gICAgICAgICAgICAuc2xpY2UodGhpcy5fcGVyZm9ybWFuY2VDdXJzb3IpXG4gICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgICAgIHZhciBzdGFydFRpbWUgPSBtc1RvU2VjKGVudHJ5LnN0YXJ0VGltZSk7XG4gICAgICAgICAgICB2YXIgZHVyYXRpb24gPSBtc1RvU2VjKGVudHJ5LmR1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmICh0cmFuc2FjdGlvbi5vcCA9PT0gJ25hdmlnYXRpb24nICYmIHRpbWVPcmlnaW4gKyBzdGFydFRpbWUgPCB0cmFuc2FjdGlvbi5zdGFydFRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN3aXRjaCAoZW50cnkuZW50cnlUeXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnbmF2aWdhdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIGFkZE5hdmlnYXRpb25TcGFucyh0cmFuc2FjdGlvbiwgZW50cnksIHRpbWVPcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdtYXJrJzpcbiAgICAgICAgICAgICAgICBjYXNlICdwYWludCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnbWVhc3VyZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGltZXN0YW1wID0gYWRkTWVhc3VyZVNwYW5zKHRyYW5zYWN0aW9uLCBlbnRyeSwgc3RhcnRUaW1lLCBkdXJhdGlvbiwgdGltZU9yaWdpbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmFjaW5nSW5pdE1hcmtTdGFydFRpbWUgPT09IHVuZGVmaW5lZCAmJiBlbnRyeS5uYW1lID09PSAnc2VudHJ5LXRyYWNpbmctaW5pdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNpbmdJbml0TWFya1N0YXJ0VGltZSA9IHN0YXJ0VGltZXN0YW1wO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhcHR1cmUgd2ViIHZpdGFsc1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlyc3RIaWRkZW4gPSBnZXRGaXJzdEhpZGRlbigpO1xuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHJlcG9ydCBpZiB0aGUgcGFnZSB3YXNuJ3QgaGlkZGVuIHByaW9yIHRvIHRoZSB3ZWIgdml0YWwuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaG91bGRSZWNvcmQgPSBlbnRyeS5zdGFydFRpbWUgPCBmaXJzdEhpZGRlbi50aW1lU3RhbXA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5uYW1lID09PSAnZmlyc3QtcGFpbnQnICYmIHNob3VsZFJlY29yZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnW01lYXN1cmVtZW50c10gQWRkaW5nIEZQJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbWVhc3VyZW1lbnRzWydmcCddID0geyB2YWx1ZTogZW50cnkuc3RhcnRUaW1lIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbWVhc3VyZW1lbnRzWydtYXJrLmZwJ10gPSB7IHZhbHVlOiBzdGFydFRpbWVzdGFtcCB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5uYW1lID09PSAnZmlyc3QtY29udGVudGZ1bC1wYWludCcgJiYgc2hvdWxkUmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdbTWVhc3VyZW1lbnRzXSBBZGRpbmcgRkNQJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbWVhc3VyZW1lbnRzWydmY3AnXSA9IHsgdmFsdWU6IGVudHJ5LnN0YXJ0VGltZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX21lYXN1cmVtZW50c1snbWFyay5mY3AnXSA9IHsgdmFsdWU6IHN0YXJ0VGltZXN0YW1wIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgJ3Jlc291cmNlJzoge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzb3VyY2VOYW1lID0gZW50cnkubmFtZS5yZXBsYWNlKHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4sICcnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFRpbWVzdGFtcCA9IGFkZFJlc291cmNlU3BhbnModHJhbnNhY3Rpb24sIGVudHJ5LCByZXNvdXJjZU5hbWUsIHN0YXJ0VGltZSwgZHVyYXRpb24sIHRpbWVPcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSByZW1lbWJlciB0aGUgZW50cnkgc2NyaXB0IGVuZCB0aW1lIHRvIGNhbGN1bGF0ZSB0aGUgZGlmZmVyZW5jZSB0byB0aGUgZmlyc3QgaW5pdCBtYXJrXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeVNjcmlwdFN0YXJ0VGltZXN0YW1wID09PSB1bmRlZmluZWQgJiYgKGVudHJ5U2NyaXB0U3JjIHx8ICcnKS5pbmRleE9mKHJlc291cmNlTmFtZSkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50cnlTY3JpcHRTdGFydFRpbWVzdGFtcCA9IGVuZFRpbWVzdGFtcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAvLyBJZ25vcmUgb3RoZXIgZW50cnkgdHlwZXMuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZW50cnlTY3JpcHRTdGFydFRpbWVzdGFtcCAhPT0gdW5kZWZpbmVkICYmIHRyYWNpbmdJbml0TWFya1N0YXJ0VGltZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBfc3RhcnRDaGlsZCh0cmFuc2FjdGlvbiwge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnZXZhbHVhdGlvbicsXG4gICAgICAgICAgICAgICAgZW5kVGltZXN0YW1wOiB0cmFjaW5nSW5pdE1hcmtTdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgb3A6ICdzY3JpcHQnLFxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wOiBlbnRyeVNjcmlwdFN0YXJ0VGltZXN0YW1wLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGVyZm9ybWFuY2VDdXJzb3IgPSBNYXRoLm1heChwZXJmb3JtYW5jZS5nZXRFbnRyaWVzKCkubGVuZ3RoIC0gMSwgMCk7XG4gICAgICAgIHRoaXMuX3RyYWNrTmF2aWdhdG9yKHRyYW5zYWN0aW9uKTtcbiAgICAgICAgLy8gTWVhc3VyZW1lbnRzIGFyZSBvbmx5IGF2YWlsYWJsZSBmb3IgcGFnZWxvYWQgdHJhbnNhY3Rpb25zXG4gICAgICAgIGlmICh0cmFuc2FjdGlvbi5vcCA9PT0gJ3BhZ2Vsb2FkJykge1xuICAgICAgICAgICAgLy8gbm9ybWFsaXplIGFwcGxpY2FibGUgd2ViIHZpdGFsIHZhbHVlcyB0byBiZSByZWxhdGl2ZSB0byB0cmFuc2FjdGlvbi5zdGFydFRpbWVzdGFtcFxuICAgICAgICAgICAgdmFyIHRpbWVPcmlnaW5fMSA9IG1zVG9TZWMoYnJvd3NlclBlcmZvcm1hbmNlVGltZU9yaWdpbik7XG4gICAgICAgICAgICBbJ2ZjcCcsICdmcCcsICdsY3AnLCAndHRmYiddLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIV90aGlzLl9tZWFzdXJlbWVudHNbbmFtZV0gfHwgdGltZU9yaWdpbl8xID49IHRyYW5zYWN0aW9uLnN0YXJ0VGltZXN0YW1wKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVGhlIHdlYiB2aXRhbHMsIGZjcCwgZnAsIGxjcCwgYW5kIHR0ZmIsIGFsbCBtZWFzdXJlIHJlbGF0aXZlIHRvIHRpbWVPcmlnaW4uXG4gICAgICAgICAgICAgICAgLy8gVW5mb3J0dW5hdGVseSwgdGltZU9yaWdpbiBpcyBub3QgY2FwdHVyZWQgd2l0aGluIHRoZSB0cmFuc2FjdGlvbiBzcGFuIGRhdGEsIHNvIHRoZXNlIHdlYiB2aXRhbHMgd2lsbCBuZWVkXG4gICAgICAgICAgICAgICAgLy8gdG8gYmUgYWRqdXN0ZWQgdG8gYmUgcmVsYXRpdmUgdG8gdHJhbnNhY3Rpb24uc3RhcnRUaW1lc3RhbXAuXG4gICAgICAgICAgICAgICAgdmFyIG9sZFZhbHVlID0gX3RoaXMuX21lYXN1cmVtZW50c1tuYW1lXS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgbWVhc3VyZW1lbnRUaW1lc3RhbXAgPSB0aW1lT3JpZ2luXzEgKyBtc1RvU2VjKG9sZFZhbHVlKTtcbiAgICAgICAgICAgICAgICAvLyBub3JtYWxpemVkVmFsdWUgc2hvdWxkIGJlIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgICAgIHZhciBub3JtYWxpemVkVmFsdWUgPSBNYXRoLmFicygobWVhc3VyZW1lbnRUaW1lc3RhbXAgLSB0cmFuc2FjdGlvbi5zdGFydFRpbWVzdGFtcCkgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBub3JtYWxpemVkVmFsdWUgLSBvbGRWYWx1ZTtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiW01lYXN1cmVtZW50c10gTm9ybWFsaXplZCBcIiArIG5hbWUgKyBcIiBmcm9tIFwiICsgb2xkVmFsdWUgKyBcIiB0byBcIiArIG5vcm1hbGl6ZWRWYWx1ZSArIFwiIChcIiArIGRlbHRhICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9tZWFzdXJlbWVudHNbbmFtZV0udmFsdWUgPSBub3JtYWxpemVkVmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWFzdXJlbWVudHNbJ21hcmsuZmlkJ10gJiYgdGhpcy5fbWVhc3VyZW1lbnRzWydmaWQnXSkge1xuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBzcGFuIGZvciBGSURcbiAgICAgICAgICAgICAgICBfc3RhcnRDaGlsZCh0cmFuc2FjdGlvbiwge1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ2ZpcnN0IGlucHV0IGRlbGF5JyxcbiAgICAgICAgICAgICAgICAgICAgZW5kVGltZXN0YW1wOiB0aGlzLl9tZWFzdXJlbWVudHNbJ21hcmsuZmlkJ10udmFsdWUgKyBtc1RvU2VjKHRoaXMuX21lYXN1cmVtZW50c1snZmlkJ10udmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICBvcDogJ3dlYi52aXRhbHMnLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVzdGFtcDogdGhpcy5fbWVhc3VyZW1lbnRzWydtYXJrLmZpZCddLnZhbHVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhbnNhY3Rpb24uc2V0TWVhc3VyZW1lbnRzKHRoaXMuX21lYXN1cmVtZW50cyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBTdGFydHMgdHJhY2tpbmcgdGhlIEN1bXVsYXRpdmUgTGF5b3V0IFNoaWZ0IG9uIHRoZSBjdXJyZW50IHBhZ2UuICovXG4gICAgTWV0cmljc0luc3RydW1lbnRhdGlvbi5wcm90b3R5cGUuX3RyYWNrQ0xTID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBnZXRDTFMoZnVuY3Rpb24gKG1ldHJpYykge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gbWV0cmljLmVudHJpZXMucG9wKCk7XG4gICAgICAgICAgICBpZiAoIWVudHJ5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbG9nZ2VyLmxvZygnW01lYXN1cmVtZW50c10gQWRkaW5nIENMUycpO1xuICAgICAgICAgICAgX3RoaXMuX21lYXN1cmVtZW50c1snY2xzJ10gPSB7IHZhbHVlOiBtZXRyaWMudmFsdWUgfTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYXB0dXJlIHRoZSBpbmZvcm1hdGlvbiBvZiB0aGUgdXNlciBhZ2VudC5cbiAgICAgKi9cbiAgICBNZXRyaWNzSW5zdHJ1bWVudGF0aW9uLnByb3RvdHlwZS5fdHJhY2tOYXZpZ2F0b3IgPSBmdW5jdGlvbiAodHJhbnNhY3Rpb24pIHtcbiAgICAgICAgdmFyIG5hdmlnYXRvciA9IGdsb2JhbC5uYXZpZ2F0b3I7XG4gICAgICAgIGlmICghbmF2aWdhdG9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHJhY2sgbmV0d29yayBjb25uZWN0aXZpdHlcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSBuYXZpZ2F0b3IuY29ubmVjdGlvbjtcbiAgICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLmVmZmVjdGl2ZVR5cGUpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5zZXRUYWcoJ2VmZmVjdGl2ZUNvbm5lY3Rpb25UeXBlJywgY29ubmVjdGlvbi5lZmZlY3RpdmVUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25uZWN0aW9uLnR5cGUpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5zZXRUYWcoJ2Nvbm5lY3Rpb25UeXBlJywgY29ubmVjdGlvbi50eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc01lYXN1cmVtZW50VmFsdWUoY29ubmVjdGlvbi5ydHQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVhc3VyZW1lbnRzWydjb25uZWN0aW9uLnJ0dCddID0geyB2YWx1ZTogY29ubmVjdGlvbi5ydHQgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc01lYXN1cmVtZW50VmFsdWUoY29ubmVjdGlvbi5kb3dubGluaykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWFzdXJlbWVudHNbJ2Nvbm5lY3Rpb24uZG93bmxpbmsnXSA9IHsgdmFsdWU6IGNvbm5lY3Rpb24uZG93bmxpbmsgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNNZWFzdXJlbWVudFZhbHVlKG5hdmlnYXRvci5kZXZpY2VNZW1vcnkpKSB7XG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5zZXRUYWcoJ2RldmljZU1lbW9yeScsIFN0cmluZyhuYXZpZ2F0b3IuZGV2aWNlTWVtb3J5KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTWVhc3VyZW1lbnRWYWx1ZShuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSkpIHtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uLnNldFRhZygnaGFyZHdhcmVDb25jdXJyZW5jeScsIFN0cmluZyhuYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogU3RhcnRzIHRyYWNraW5nIHRoZSBMYXJnZXN0IENvbnRlbnRmdWwgUGFpbnQgb24gdGhlIGN1cnJlbnQgcGFnZS4gKi9cbiAgICBNZXRyaWNzSW5zdHJ1bWVudGF0aW9uLnByb3RvdHlwZS5fdHJhY2tMQ1AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGdldExDUChmdW5jdGlvbiAobWV0cmljKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBtZXRyaWMuZW50cmllcy5wb3AoKTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGltZU9yaWdpbiA9IG1zVG9TZWMocGVyZm9ybWFuY2UudGltZU9yaWdpbik7XG4gICAgICAgICAgICB2YXIgc3RhcnRUaW1lID0gbXNUb1NlYyhlbnRyeS5zdGFydFRpbWUpO1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnW01lYXN1cmVtZW50c10gQWRkaW5nIExDUCcpO1xuICAgICAgICAgICAgX3RoaXMuX21lYXN1cmVtZW50c1snbGNwJ10gPSB7IHZhbHVlOiBtZXRyaWMudmFsdWUgfTtcbiAgICAgICAgICAgIF90aGlzLl9tZWFzdXJlbWVudHNbJ21hcmsubGNwJ10gPSB7IHZhbHVlOiB0aW1lT3JpZ2luICsgc3RhcnRUaW1lIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIFN0YXJ0cyB0cmFja2luZyB0aGUgRmlyc3QgSW5wdXQgRGVsYXkgb24gdGhlIGN1cnJlbnQgcGFnZS4gKi9cbiAgICBNZXRyaWNzSW5zdHJ1bWVudGF0aW9uLnByb3RvdHlwZS5fdHJhY2tGSUQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGdldEZJRChmdW5jdGlvbiAobWV0cmljKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBtZXRyaWMuZW50cmllcy5wb3AoKTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGltZU9yaWdpbiA9IG1zVG9TZWMocGVyZm9ybWFuY2UudGltZU9yaWdpbik7XG4gICAgICAgICAgICB2YXIgc3RhcnRUaW1lID0gbXNUb1NlYyhlbnRyeS5zdGFydFRpbWUpO1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnW01lYXN1cmVtZW50c10gQWRkaW5nIEZJRCcpO1xuICAgICAgICAgICAgX3RoaXMuX21lYXN1cmVtZW50c1snZmlkJ10gPSB7IHZhbHVlOiBtZXRyaWMudmFsdWUgfTtcbiAgICAgICAgICAgIF90aGlzLl9tZWFzdXJlbWVudHNbJ21hcmsuZmlkJ10gPSB7IHZhbHVlOiB0aW1lT3JpZ2luICsgc3RhcnRUaW1lIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqIFN0YXJ0cyB0cmFja2luZyB0aGUgVGltZSB0byBGaXJzdCBCeXRlIG9uIHRoZSBjdXJyZW50IHBhZ2UuICovXG4gICAgTWV0cmljc0luc3RydW1lbnRhdGlvbi5wcm90b3R5cGUuX3RyYWNrVFRGQiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgZ2V0VFRGQihmdW5jdGlvbiAobWV0cmljKSB7XG4gICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBtZXRyaWMuZW50cmllcy5wb3AoKTtcbiAgICAgICAgICAgIGlmICghZW50cnkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdbTWVhc3VyZW1lbnRzXSBBZGRpbmcgVFRGQicpO1xuICAgICAgICAgICAgX3RoaXMuX21lYXN1cmVtZW50c1sndHRmYiddID0geyB2YWx1ZTogbWV0cmljLnZhbHVlIH07XG4gICAgICAgICAgICAvLyBDYXB0dXJlIHRoZSB0aW1lIHNwZW50IG1ha2luZyB0aGUgcmVxdWVzdCBhbmQgcmVjZWl2aW5nIHRoZSBmaXJzdCBieXRlIG9mIHRoZSByZXNwb25zZVxuICAgICAgICAgICAgdmFyIHJlcXVlc3RUaW1lID0gbWV0cmljLnZhbHVlIC0gKF9hID0gbWV0cmljLmVudHJpZXNbMF0sIChfYSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBlbnRyeSkpLnJlcXVlc3RTdGFydDtcbiAgICAgICAgICAgIF90aGlzLl9tZWFzdXJlbWVudHNbJ3R0ZmIucmVxdWVzdFRpbWUnXSA9IHsgdmFsdWU6IHJlcXVlc3RUaW1lIH07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE1ldHJpY3NJbnN0cnVtZW50YXRpb247XG59KCkpO1xuZXhwb3J0IHsgTWV0cmljc0luc3RydW1lbnRhdGlvbiB9O1xuLyoqIEluc3RydW1lbnQgbmF2aWdhdGlvbiBlbnRyaWVzICovXG5mdW5jdGlvbiBhZGROYXZpZ2F0aW9uU3BhbnModHJhbnNhY3Rpb24sIGVudHJ5LCB0aW1lT3JpZ2luKSB7XG4gICAgYWRkUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nKHRyYW5zYWN0aW9uLCBlbnRyeSwgJ3VubG9hZEV2ZW50JywgdGltZU9yaWdpbik7XG4gICAgYWRkUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nKHRyYW5zYWN0aW9uLCBlbnRyeSwgJ3JlZGlyZWN0JywgdGltZU9yaWdpbik7XG4gICAgYWRkUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nKHRyYW5zYWN0aW9uLCBlbnRyeSwgJ2RvbUNvbnRlbnRMb2FkZWRFdmVudCcsIHRpbWVPcmlnaW4pO1xuICAgIGFkZFBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZyh0cmFuc2FjdGlvbiwgZW50cnksICdsb2FkRXZlbnQnLCB0aW1lT3JpZ2luKTtcbiAgICBhZGRQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcodHJhbnNhY3Rpb24sIGVudHJ5LCAnY29ubmVjdCcsIHRpbWVPcmlnaW4pO1xuICAgIGFkZFBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZyh0cmFuc2FjdGlvbiwgZW50cnksICdzZWN1cmVDb25uZWN0aW9uJywgdGltZU9yaWdpbiwgJ2Nvbm5lY3RFbmQnKTtcbiAgICBhZGRQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcodHJhbnNhY3Rpb24sIGVudHJ5LCAnZmV0Y2gnLCB0aW1lT3JpZ2luLCAnZG9tYWluTG9va3VwU3RhcnQnKTtcbiAgICBhZGRQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcodHJhbnNhY3Rpb24sIGVudHJ5LCAnZG9tYWluTG9va3VwJywgdGltZU9yaWdpbik7XG4gICAgYWRkUmVxdWVzdCh0cmFuc2FjdGlvbiwgZW50cnksIHRpbWVPcmlnaW4pO1xufVxuLyoqIENyZWF0ZSBtZWFzdXJlIHJlbGF0ZWQgc3BhbnMgKi9cbmZ1bmN0aW9uIGFkZE1lYXN1cmVTcGFucyh0cmFuc2FjdGlvbiwgZW50cnksIHN0YXJ0VGltZSwgZHVyYXRpb24sIHRpbWVPcmlnaW4pIHtcbiAgICB2YXIgbWVhc3VyZVN0YXJ0VGltZXN0YW1wID0gdGltZU9yaWdpbiArIHN0YXJ0VGltZTtcbiAgICB2YXIgbWVhc3VyZUVuZFRpbWVzdGFtcCA9IG1lYXN1cmVTdGFydFRpbWVzdGFtcCArIGR1cmF0aW9uO1xuICAgIF9zdGFydENoaWxkKHRyYW5zYWN0aW9uLCB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiBlbnRyeS5uYW1lLFxuICAgICAgICBlbmRUaW1lc3RhbXA6IG1lYXN1cmVFbmRUaW1lc3RhbXAsXG4gICAgICAgIG9wOiBlbnRyeS5lbnRyeVR5cGUsXG4gICAgICAgIHN0YXJ0VGltZXN0YW1wOiBtZWFzdXJlU3RhcnRUaW1lc3RhbXAsXG4gICAgfSk7XG4gICAgcmV0dXJuIG1lYXN1cmVTdGFydFRpbWVzdGFtcDtcbn1cbi8qKiBDcmVhdGUgcmVzb3VyY2UtcmVsYXRlZCBzcGFucyAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFJlc291cmNlU3BhbnModHJhbnNhY3Rpb24sIGVudHJ5LCByZXNvdXJjZU5hbWUsIHN0YXJ0VGltZSwgZHVyYXRpb24sIHRpbWVPcmlnaW4pIHtcbiAgICAvLyB3ZSBhbHJlYWR5IGluc3RydW1lbnQgYmFzZWQgb24gZmV0Y2ggYW5kIHhociwgc28gd2UgZG9uJ3QgbmVlZCB0b1xuICAgIC8vIGR1cGxpY2F0ZSBzcGFucyBoZXJlLlxuICAgIGlmIChlbnRyeS5pbml0aWF0b3JUeXBlID09PSAneG1saHR0cHJlcXVlc3QnIHx8IGVudHJ5LmluaXRpYXRvclR5cGUgPT09ICdmZXRjaCcpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdmFyIGRhdGEgPSB7fTtcbiAgICBpZiAoJ3RyYW5zZmVyU2l6ZScgaW4gZW50cnkpIHtcbiAgICAgICAgZGF0YVsnVHJhbnNmZXIgU2l6ZSddID0gZW50cnkudHJhbnNmZXJTaXplO1xuICAgIH1cbiAgICBpZiAoJ2VuY29kZWRCb2R5U2l6ZScgaW4gZW50cnkpIHtcbiAgICAgICAgZGF0YVsnRW5jb2RlZCBCb2R5IFNpemUnXSA9IGVudHJ5LmVuY29kZWRCb2R5U2l6ZTtcbiAgICB9XG4gICAgaWYgKCdkZWNvZGVkQm9keVNpemUnIGluIGVudHJ5KSB7XG4gICAgICAgIGRhdGFbJ0RlY29kZWQgQm9keSBTaXplJ10gPSBlbnRyeS5kZWNvZGVkQm9keVNpemU7XG4gICAgfVxuICAgIHZhciBzdGFydFRpbWVzdGFtcCA9IHRpbWVPcmlnaW4gKyBzdGFydFRpbWU7XG4gICAgdmFyIGVuZFRpbWVzdGFtcCA9IHN0YXJ0VGltZXN0YW1wICsgZHVyYXRpb247XG4gICAgX3N0YXJ0Q2hpbGQodHJhbnNhY3Rpb24sIHtcbiAgICAgICAgZGVzY3JpcHRpb246IHJlc291cmNlTmFtZSxcbiAgICAgICAgZW5kVGltZXN0YW1wOiBlbmRUaW1lc3RhbXAsXG4gICAgICAgIG9wOiBlbnRyeS5pbml0aWF0b3JUeXBlID8gXCJyZXNvdXJjZS5cIiArIGVudHJ5LmluaXRpYXRvclR5cGUgOiAncmVzb3VyY2UnLFxuICAgICAgICBzdGFydFRpbWVzdGFtcDogc3RhcnRUaW1lc3RhbXAsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgfSk7XG4gICAgcmV0dXJuIGVuZFRpbWVzdGFtcDtcbn1cbi8qKiBDcmVhdGUgcGVyZm9ybWFuY2UgbmF2aWdhdGlvbiByZWxhdGVkIHNwYW5zICovXG5mdW5jdGlvbiBhZGRQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmcodHJhbnNhY3Rpb24sIGVudHJ5LCBldmVudCwgdGltZU9yaWdpbiwgZXZlbnRFbmQpIHtcbiAgICB2YXIgZW5kID0gZXZlbnRFbmQgPyBlbnRyeVtldmVudEVuZF0gOiBlbnRyeVtldmVudCArIFwiRW5kXCJdO1xuICAgIHZhciBzdGFydCA9IGVudHJ5W2V2ZW50ICsgXCJTdGFydFwiXTtcbiAgICBpZiAoIXN0YXJ0IHx8ICFlbmQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfc3RhcnRDaGlsZCh0cmFuc2FjdGlvbiwge1xuICAgICAgICBvcDogJ2Jyb3dzZXInLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXZlbnQsXG4gICAgICAgIHN0YXJ0VGltZXN0YW1wOiB0aW1lT3JpZ2luICsgbXNUb1NlYyhzdGFydCksXG4gICAgICAgIGVuZFRpbWVzdGFtcDogdGltZU9yaWdpbiArIG1zVG9TZWMoZW5kKSxcbiAgICB9KTtcbn1cbi8qKiBDcmVhdGUgcmVxdWVzdCBhbmQgcmVzcG9uc2UgcmVsYXRlZCBzcGFucyAqL1xuZnVuY3Rpb24gYWRkUmVxdWVzdCh0cmFuc2FjdGlvbiwgZW50cnksIHRpbWVPcmlnaW4pIHtcbiAgICBfc3RhcnRDaGlsZCh0cmFuc2FjdGlvbiwge1xuICAgICAgICBvcDogJ2Jyb3dzZXInLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ3JlcXVlc3QnLFxuICAgICAgICBzdGFydFRpbWVzdGFtcDogdGltZU9yaWdpbiArIG1zVG9TZWMoZW50cnkucmVxdWVzdFN0YXJ0KSxcbiAgICAgICAgZW5kVGltZXN0YW1wOiB0aW1lT3JpZ2luICsgbXNUb1NlYyhlbnRyeS5yZXNwb25zZUVuZCksXG4gICAgfSk7XG4gICAgX3N0YXJ0Q2hpbGQodHJhbnNhY3Rpb24sIHtcbiAgICAgICAgb3A6ICdicm93c2VyJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdyZXNwb25zZScsXG4gICAgICAgIHN0YXJ0VGltZXN0YW1wOiB0aW1lT3JpZ2luICsgbXNUb1NlYyhlbnRyeS5yZXNwb25zZVN0YXJ0KSxcbiAgICAgICAgZW5kVGltZXN0YW1wOiB0aW1lT3JpZ2luICsgbXNUb1NlYyhlbnRyeS5yZXNwb25zZUVuZCksXG4gICAgfSk7XG59XG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBzdGFydCBjaGlsZCBvbiB0cmFuc2FjdGlvbnMuIFRoaXMgZnVuY3Rpb24gd2lsbCBtYWtlIHN1cmUgdGhhdCB0aGUgdHJhbnNhY3Rpb24gd2lsbFxuICogdXNlIHRoZSBzdGFydCB0aW1lc3RhbXAgb2YgdGhlIGNyZWF0ZWQgY2hpbGQgc3BhbiBpZiBpdCBpcyBlYXJsaWVyIHRoYW4gdGhlIHRyYW5zYWN0aW9ucyBhY3R1YWxcbiAqIHN0YXJ0IHRpbWVzdGFtcC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9zdGFydENoaWxkKHRyYW5zYWN0aW9uLCBfYSkge1xuICAgIHZhciBzdGFydFRpbWVzdGFtcCA9IF9hLnN0YXJ0VGltZXN0YW1wLCBjdHggPSBfX3Jlc3QoX2EsIFtcInN0YXJ0VGltZXN0YW1wXCJdKTtcbiAgICBpZiAoc3RhcnRUaW1lc3RhbXAgJiYgdHJhbnNhY3Rpb24uc3RhcnRUaW1lc3RhbXAgPiBzdGFydFRpbWVzdGFtcCkge1xuICAgICAgICB0cmFuc2FjdGlvbi5zdGFydFRpbWVzdGFtcCA9IHN0YXJ0VGltZXN0YW1wO1xuICAgIH1cbiAgICByZXR1cm4gdHJhbnNhY3Rpb24uc3RhcnRDaGlsZChfX2Fzc2lnbih7IHN0YXJ0VGltZXN0YW1wOiBzdGFydFRpbWVzdGFtcCB9LCBjdHgpKTtcbn1cbi8qKlxuICogQ2hlY2tzIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgYSB2YWxpZCBtZWFzdXJlbWVudCB2YWx1ZS5cbiAqL1xuZnVuY3Rpb24gaXNNZWFzdXJlbWVudFZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgJiYgaXNGaW5pdGUodmFsdWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWV0cmljcy5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IGJpbmRSZXBvcnRlciB9IGZyb20gJy4vbGliL2JpbmRSZXBvcnRlcic7XG5pbXBvcnQgeyBpbml0TWV0cmljIH0gZnJvbSAnLi9saWIvaW5pdE1ldHJpYyc7XG5pbXBvcnQgeyBvYnNlcnZlIH0gZnJvbSAnLi9saWIvb2JzZXJ2ZSc7XG5pbXBvcnQgeyBvbkhpZGRlbiB9IGZyb20gJy4vbGliL29uSGlkZGVuJztcbmV4cG9ydCB2YXIgZ2V0Q0xTID0gZnVuY3Rpb24gKG9uUmVwb3J0LCByZXBvcnRBbGxDaGFuZ2VzKSB7XG4gICAgaWYgKHJlcG9ydEFsbENoYW5nZXMgPT09IHZvaWQgMCkgeyByZXBvcnRBbGxDaGFuZ2VzID0gZmFsc2U7IH1cbiAgICB2YXIgbWV0cmljID0gaW5pdE1ldHJpYygnQ0xTJywgMCk7XG4gICAgdmFyIHJlcG9ydDtcbiAgICB2YXIgZW50cnlIYW5kbGVyID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIC8vIE9ubHkgY291bnQgbGF5b3V0IHNoaWZ0cyB3aXRob3V0IHJlY2VudCB1c2VyIGlucHV0LlxuICAgICAgICBpZiAoIWVudHJ5LmhhZFJlY2VudElucHV0KSB7XG4gICAgICAgICAgICBtZXRyaWMudmFsdWUgKz0gZW50cnkudmFsdWU7XG4gICAgICAgICAgICBtZXRyaWMuZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIHJlcG9ydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgcG8gPSBvYnNlcnZlKCdsYXlvdXQtc2hpZnQnLCBlbnRyeUhhbmRsZXIpO1xuICAgIGlmIChwbykge1xuICAgICAgICByZXBvcnQgPSBiaW5kUmVwb3J0ZXIob25SZXBvcnQsIG1ldHJpYywgcG8sIHJlcG9ydEFsbENoYW5nZXMpO1xuICAgICAgICBvbkhpZGRlbihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBpc1VubG9hZGluZyA9IF9hLmlzVW5sb2FkaW5nO1xuICAgICAgICAgICAgcG8udGFrZVJlY29yZHMoKS5tYXAoZW50cnlIYW5kbGVyKTtcbiAgICAgICAgICAgIGlmIChpc1VubG9hZGluZykge1xuICAgICAgICAgICAgICAgIG1ldHJpYy5pc0ZpbmFsID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcG9ydCgpO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0Q0xTLmpzLm1hcCIsIi8qXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IHsgYmluZFJlcG9ydGVyIH0gZnJvbSAnLi9saWIvYmluZFJlcG9ydGVyJztcbmltcG9ydCB7IGdldEZpcnN0SGlkZGVuIH0gZnJvbSAnLi9saWIvZ2V0Rmlyc3RIaWRkZW4nO1xuaW1wb3J0IHsgaW5pdE1ldHJpYyB9IGZyb20gJy4vbGliL2luaXRNZXRyaWMnO1xuaW1wb3J0IHsgb2JzZXJ2ZSB9IGZyb20gJy4vbGliL29ic2VydmUnO1xuaW1wb3J0IHsgb25IaWRkZW4gfSBmcm9tICcuL2xpYi9vbkhpZGRlbic7XG5pbXBvcnQgeyB3aGVuSW5wdXQgfSBmcm9tICcuL2xpYi93aGVuSW5wdXQnO1xuZXhwb3J0IHZhciBnZXRMQ1AgPSBmdW5jdGlvbiAob25SZXBvcnQsIHJlcG9ydEFsbENoYW5nZXMpIHtcbiAgICBpZiAocmVwb3J0QWxsQ2hhbmdlcyA9PT0gdm9pZCAwKSB7IHJlcG9ydEFsbENoYW5nZXMgPSBmYWxzZTsgfVxuICAgIHZhciBtZXRyaWMgPSBpbml0TWV0cmljKCdMQ1AnKTtcbiAgICB2YXIgZmlyc3RIaWRkZW4gPSBnZXRGaXJzdEhpZGRlbigpO1xuICAgIHZhciByZXBvcnQ7XG4gICAgdmFyIGVudHJ5SGFuZGxlciA9IGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICAvLyBUaGUgc3RhcnRUaW1lIGF0dHJpYnV0ZSByZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgcmVuZGVyVGltZSBpZiBpdCBpcyBub3QgMCxcbiAgICAgICAgLy8gYW5kIHRoZSB2YWx1ZSBvZiB0aGUgbG9hZFRpbWUgb3RoZXJ3aXNlLlxuICAgICAgICB2YXIgdmFsdWUgPSBlbnRyeS5zdGFydFRpbWU7XG4gICAgICAgIC8vIElmIHRoZSBwYWdlIHdhcyBoaWRkZW4gcHJpb3IgdG8gcGFpbnQgdGltZSBvZiB0aGUgZW50cnksXG4gICAgICAgIC8vIGlnbm9yZSBpdCBhbmQgbWFyayB0aGUgbWV0cmljIGFzIGZpbmFsLCBvdGhlcndpc2UgYWRkIHRoZSBlbnRyeS5cbiAgICAgICAgaWYgKHZhbHVlIDwgZmlyc3RIaWRkZW4udGltZVN0YW1wKSB7XG4gICAgICAgICAgICBtZXRyaWMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIG1ldHJpYy5lbnRyaWVzLnB1c2goZW50cnkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWV0cmljLmlzRmluYWwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlcG9ydCgpO1xuICAgIH07XG4gICAgdmFyIHBvID0gb2JzZXJ2ZSgnbGFyZ2VzdC1jb250ZW50ZnVsLXBhaW50JywgZW50cnlIYW5kbGVyKTtcbiAgICBpZiAocG8pIHtcbiAgICAgICAgcmVwb3J0ID0gYmluZFJlcG9ydGVyKG9uUmVwb3J0LCBtZXRyaWMsIHBvLCByZXBvcnRBbGxDaGFuZ2VzKTtcbiAgICAgICAgdmFyIG9uRmluYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIW1ldHJpYy5pc0ZpbmFsKSB7XG4gICAgICAgICAgICAgICAgcG8udGFrZVJlY29yZHMoKS5tYXAoZW50cnlIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICBtZXRyaWMuaXNGaW5hbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVwb3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZvaWQgd2hlbklucHV0KCkudGhlbihvbkZpbmFsKTtcbiAgICAgICAgb25IaWRkZW4ob25GaW5hbCwgdHJ1ZSk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldExDUC5qcy5tYXAiLCIvKlxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmltcG9ydCB7IGJpbmRSZXBvcnRlciB9IGZyb20gJy4vbGliL2JpbmRSZXBvcnRlcic7XG5pbXBvcnQgeyBnZXRGaXJzdEhpZGRlbiB9IGZyb20gJy4vbGliL2dldEZpcnN0SGlkZGVuJztcbmltcG9ydCB7IGluaXRNZXRyaWMgfSBmcm9tICcuL2xpYi9pbml0TWV0cmljJztcbmltcG9ydCB7IG9ic2VydmUgfSBmcm9tICcuL2xpYi9vYnNlcnZlJztcbmltcG9ydCB7IG9uSGlkZGVuIH0gZnJvbSAnLi9saWIvb25IaWRkZW4nO1xuZXhwb3J0IHZhciBnZXRGSUQgPSBmdW5jdGlvbiAob25SZXBvcnQpIHtcbiAgICB2YXIgbWV0cmljID0gaW5pdE1ldHJpYygnRklEJyk7XG4gICAgdmFyIGZpcnN0SGlkZGVuID0gZ2V0Rmlyc3RIaWRkZW4oKTtcbiAgICB2YXIgZW50cnlIYW5kbGVyID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIC8vIE9ubHkgcmVwb3J0IGlmIHRoZSBwYWdlIHdhc24ndCBoaWRkZW4gcHJpb3IgdG8gdGhlIGZpcnN0IGlucHV0LlxuICAgICAgICBpZiAoZW50cnkuc3RhcnRUaW1lIDwgZmlyc3RIaWRkZW4udGltZVN0YW1wKSB7XG4gICAgICAgICAgICBtZXRyaWMudmFsdWUgPSBlbnRyeS5wcm9jZXNzaW5nU3RhcnQgLSBlbnRyeS5zdGFydFRpbWU7XG4gICAgICAgICAgICBtZXRyaWMuZW50cmllcy5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIG1ldHJpYy5pc0ZpbmFsID0gdHJ1ZTtcbiAgICAgICAgICAgIHJlcG9ydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgcG8gPSBvYnNlcnZlKCdmaXJzdC1pbnB1dCcsIGVudHJ5SGFuZGxlcik7XG4gICAgdmFyIHJlcG9ydCA9IGJpbmRSZXBvcnRlcihvblJlcG9ydCwgbWV0cmljLCBwbyk7XG4gICAgaWYgKHBvKSB7XG4gICAgICAgIG9uSGlkZGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBvLnRha2VSZWNvcmRzKCkubWFwKGVudHJ5SGFuZGxlcik7XG4gICAgICAgICAgICBwby5kaXNjb25uZWN0KCk7XG4gICAgICAgIH0sIHRydWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKHdpbmRvdy5wZXJmTWV0cmljcyAmJiB3aW5kb3cucGVyZk1ldHJpY3Mub25GaXJzdElucHV0RGVsYXkpIHtcbiAgICAgICAgICAgIHdpbmRvdy5wZXJmTWV0cmljcy5vbkZpcnN0SW5wdXREZWxheShmdW5jdGlvbiAodmFsdWUsIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSByZXBvcnQgaWYgdGhlIHBhZ2Ugd2Fzbid0IGhpZGRlbiBwcmlvciB0byB0aGUgZmlyc3QgaW5wdXQuXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRpbWVTdGFtcCA8IGZpcnN0SGlkZGVuLnRpbWVTdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICBtZXRyaWMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgbWV0cmljLmlzRmluYWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBtZXRyaWMuZW50cmllcyA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeVR5cGU6ICdmaXJzdC1pbnB1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogZXZlbnQudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGV2ZW50LnRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWxhYmxlOiBldmVudC5jYW5jZWxhYmxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZTogZXZlbnQudGltZVN0YW1wLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NpbmdTdGFydDogZXZlbnQudGltZVN0YW1wICsgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZXRGSUQuanMubWFwIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fcmVhZCwgX19zcHJlYWQgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRIdWIgfSBmcm9tICdAc2VudHJ5L2h1Yic7XG5pbXBvcnQgeyBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyLCBpc0luc3RhbmNlT2YsIGlzTWF0Y2hpbmdQYXR0ZXJuIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgeyBnZXRBY3RpdmVUcmFuc2FjdGlvbiwgaGFzVHJhY2luZ0VuYWJsZWQgfSBmcm9tICcuLi91dGlscyc7XG5leHBvcnQgdmFyIERFRkFVTFRfVFJBQ0lOR19PUklHSU5TID0gWydsb2NhbGhvc3QnLCAvXlxcLy9dO1xuZXhwb3J0IHZhciBkZWZhdWx0UmVxdWVzdEluc3RydW1lbnRhdGlvbk9wdGlvbnMgPSB7XG4gICAgdHJhY2VGZXRjaDogdHJ1ZSxcbiAgICB0cmFjZVhIUjogdHJ1ZSxcbiAgICB0cmFjaW5nT3JpZ2luczogREVGQVVMVF9UUkFDSU5HX09SSUdJTlMsXG59O1xuLyoqIFJlZ2lzdGVycyBzcGFuIGNyZWF0b3JzIGZvciB4aHIgYW5kIGZldGNoIHJlcXVlc3RzICAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlZ2lzdGVyUmVxdWVzdEluc3RydW1lbnRhdGlvbihfb3B0aW9ucykge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcbiAgICB2YXIgX2EgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZGVmYXVsdFJlcXVlc3RJbnN0cnVtZW50YXRpb25PcHRpb25zKSwgX29wdGlvbnMpLCB0cmFjZUZldGNoID0gX2EudHJhY2VGZXRjaCwgdHJhY2VYSFIgPSBfYS50cmFjZVhIUiwgdHJhY2luZ09yaWdpbnMgPSBfYS50cmFjaW5nT3JpZ2lucywgc2hvdWxkQ3JlYXRlU3BhbkZvclJlcXVlc3QgPSBfYS5zaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdDtcbiAgICAvLyBXZSBzaG91bGQgY2FjaGUgdXJsIC0+IGRlY2lzaW9uIHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBjb21wdXRlXG4gICAgLy8gcmVnZXhwIGV2ZXJ5dGltZSB3ZSBjcmVhdGUgYSByZXF1ZXN0LlxuICAgIHZhciB1cmxNYXAgPSB7fTtcbiAgICB2YXIgZGVmYXVsdFNob3VsZENyZWF0ZVNwYW4gPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIGlmICh1cmxNYXBbdXJsXSkge1xuICAgICAgICAgICAgcmV0dXJuIHVybE1hcFt1cmxdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvcmlnaW5zID0gdHJhY2luZ09yaWdpbnM7XG4gICAgICAgIHVybE1hcFt1cmxdID1cbiAgICAgICAgICAgIG9yaWdpbnMuc29tZShmdW5jdGlvbiAob3JpZ2luKSB7IHJldHVybiBpc01hdGNoaW5nUGF0dGVybih1cmwsIG9yaWdpbik7IH0pICYmXG4gICAgICAgICAgICAgICAgIWlzTWF0Y2hpbmdQYXR0ZXJuKHVybCwgJ3NlbnRyeV9rZXknKTtcbiAgICAgICAgcmV0dXJuIHVybE1hcFt1cmxdO1xuICAgIH07XG4gICAgLy8gV2Ugd2FudCB0aGF0IG91ciB1c2VycyBkb24ndCBoYXZlIHRvIHJlLWltcGxlbWVudCBzaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdCB0aGVtc2VsdmVzXG4gICAgLy8gVGhhdCdzIHdoeSB3ZSBmaWx0ZXIgb3V0IGFscmVhZHkgdW53YW50ZWQgU3BhbnMgZnJvbSB0cmFjaW5nT3JpZ2luc1xuICAgIHZhciBzaG91bGRDcmVhdGVTcGFuID0gZGVmYXVsdFNob3VsZENyZWF0ZVNwYW47XG4gICAgaWYgKHR5cGVvZiBzaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzaG91bGRDcmVhdGVTcGFuID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTaG91bGRDcmVhdGVTcGFuKHVybCkgJiYgc2hvdWxkQ3JlYXRlU3BhbkZvclJlcXVlc3QodXJsKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHNwYW5zID0ge307XG4gICAgaWYgKHRyYWNlRmV0Y2gpIHtcbiAgICAgICAgYWRkSW5zdHJ1bWVudGF0aW9uSGFuZGxlcih7XG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGhhbmRsZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgZmV0Y2hDYWxsYmFjayhoYW5kbGVyRGF0YSwgc2hvdWxkQ3JlYXRlU3Bhbiwgc3BhbnMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6ICdmZXRjaCcsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAodHJhY2VYSFIpIHtcbiAgICAgICAgYWRkSW5zdHJ1bWVudGF0aW9uSGFuZGxlcih7XG4gICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGhhbmRsZXJEYXRhKSB7XG4gICAgICAgICAgICAgICAgeGhyQ2FsbGJhY2soaGFuZGxlckRhdGEsIHNob3VsZENyZWF0ZVNwYW4sIHNwYW5zKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eXBlOiAneGhyJyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBDcmVhdGUgYW5kIHRyYWNrIGZldGNoIHJlcXVlc3Qgc3BhbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZldGNoQ2FsbGJhY2soaGFuZGxlckRhdGEsIHNob3VsZENyZWF0ZVNwYW4sIHNwYW5zKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciBjdXJyZW50Q2xpZW50T3B0aW9ucyA9IChfYSA9IGdldEN1cnJlbnRIdWIoKVxuICAgICAgICAuZ2V0Q2xpZW50KCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXRPcHRpb25zKCk7XG4gICAgaWYgKCEoY3VycmVudENsaWVudE9wdGlvbnMgJiYgaGFzVHJhY2luZ0VuYWJsZWQoY3VycmVudENsaWVudE9wdGlvbnMpKSB8fFxuICAgICAgICAhKGhhbmRsZXJEYXRhLmZldGNoRGF0YSAmJiBzaG91bGRDcmVhdGVTcGFuKGhhbmRsZXJEYXRhLmZldGNoRGF0YS51cmwpKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChoYW5kbGVyRGF0YS5lbmRUaW1lc3RhbXAgJiYgaGFuZGxlckRhdGEuZmV0Y2hEYXRhLl9fc3Bhbikge1xuICAgICAgICB2YXIgc3BhbiA9IHNwYW5zW2hhbmRsZXJEYXRhLmZldGNoRGF0YS5fX3NwYW5dO1xuICAgICAgICBpZiAoc3Bhbikge1xuICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gaGFuZGxlckRhdGEucmVzcG9uc2U7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIChrbWNsYikgcmVtb3ZlIHRoaXMgb25jZSB0eXBlcyBQUiBnb2VzIHRocm91Z2hcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRIdHRwU3RhdHVzKHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcGFuLmZpbmlzaCgpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1keW5hbWljLWRlbGV0ZVxuICAgICAgICAgICAgZGVsZXRlIHNwYW5zW2hhbmRsZXJEYXRhLmZldGNoRGF0YS5fX3NwYW5dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGFjdGl2ZVRyYW5zYWN0aW9uID0gZ2V0QWN0aXZlVHJhbnNhY3Rpb24oKTtcbiAgICBpZiAoYWN0aXZlVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgdmFyIHNwYW4gPSBhY3RpdmVUcmFuc2FjdGlvbi5zdGFydENoaWxkKHtcbiAgICAgICAgICAgIGRhdGE6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBoYW5kbGVyRGF0YS5mZXRjaERhdGEpLCB7IHR5cGU6ICdmZXRjaCcgfSksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogaGFuZGxlckRhdGEuZmV0Y2hEYXRhLm1ldGhvZCArIFwiIFwiICsgaGFuZGxlckRhdGEuZmV0Y2hEYXRhLnVybCxcbiAgICAgICAgICAgIG9wOiAnaHR0cCcsXG4gICAgICAgIH0pO1xuICAgICAgICBoYW5kbGVyRGF0YS5mZXRjaERhdGEuX19zcGFuID0gc3Bhbi5zcGFuSWQ7XG4gICAgICAgIHNwYW5zW3NwYW4uc3BhbklkXSA9IHNwYW47XG4gICAgICAgIHZhciByZXF1ZXN0ID0gKGhhbmRsZXJEYXRhLmFyZ3NbMF0gPSBoYW5kbGVyRGF0YS5hcmdzWzBdKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAoaGFuZGxlckRhdGEuYXJnc1sxXSA9IGhhbmRsZXJEYXRhLmFyZ3NbMV0gfHwge30pO1xuICAgICAgICB2YXIgaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgICAgICAgaWYgKGlzSW5zdGFuY2VPZihyZXF1ZXN0LCBSZXF1ZXN0KSkge1xuICAgICAgICAgICAgaGVhZGVycyA9IHJlcXVlc3QuaGVhZGVycztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaGVhZGVycykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBoZWFkZXJzLmFwcGVuZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmFwcGVuZCgnc2VudHJ5LXRyYWNlJywgc3Bhbi50b1RyYWNlcGFyZW50KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMgPSBfX3NwcmVhZChoZWFkZXJzLCBbWydzZW50cnktdHJhY2UnLCBzcGFuLnRvVHJhY2VwYXJlbnQoKV1dKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgaGVhZGVycyksIHsgJ3NlbnRyeS10cmFjZSc6IHNwYW4udG9UcmFjZXBhcmVudCgpIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGVhZGVycyA9IHsgJ3NlbnRyeS10cmFjZSc6IHNwYW4udG9UcmFjZXBhcmVudCgpIH07XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0gaGVhZGVycztcbiAgICB9XG59XG4vKipcbiAqIENyZWF0ZSBhbmQgdHJhY2sgeGhyIHJlcXVlc3Qgc3BhbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhockNhbGxiYWNrKGhhbmRsZXJEYXRhLCBzaG91bGRDcmVhdGVTcGFuLCBzcGFucykge1xuICAgIHZhciBfYTtcbiAgICB2YXIgY3VycmVudENsaWVudE9wdGlvbnMgPSAoX2EgPSBnZXRDdXJyZW50SHViKClcbiAgICAgICAgLmdldENsaWVudCgpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ2V0T3B0aW9ucygpO1xuICAgIGlmICghKGN1cnJlbnRDbGllbnRPcHRpb25zICYmIGhhc1RyYWNpbmdFbmFibGVkKGN1cnJlbnRDbGllbnRPcHRpb25zKSkgfHxcbiAgICAgICAgIShoYW5kbGVyRGF0YS54aHIgJiYgaGFuZGxlckRhdGEueGhyLl9fc2VudHJ5X3hocl9fICYmIHNob3VsZENyZWF0ZVNwYW4oaGFuZGxlckRhdGEueGhyLl9fc2VudHJ5X3hocl9fLnVybCkpIHx8XG4gICAgICAgIGhhbmRsZXJEYXRhLnhoci5fX3NlbnRyeV9vd25fcmVxdWVzdF9fKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHhociA9IGhhbmRsZXJEYXRhLnhoci5fX3NlbnRyeV94aHJfXztcbiAgICAvLyBjaGVjayBmaXJzdCBpZiB0aGUgcmVxdWVzdCBoYXMgZmluaXNoZWQgYW5kIGlzIHRyYWNrZWQgYnkgYW4gZXhpc3Rpbmcgc3BhbiB3aGljaCBzaG91bGQgbm93IGVuZFxuICAgIGlmIChoYW5kbGVyRGF0YS5lbmRUaW1lc3RhbXAgJiYgaGFuZGxlckRhdGEueGhyLl9fc2VudHJ5X3hocl9zcGFuX2lkX18pIHtcbiAgICAgICAgdmFyIHNwYW4gPSBzcGFuc1toYW5kbGVyRGF0YS54aHIuX19zZW50cnlfeGhyX3NwYW5faWRfX107XG4gICAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgICAgICBzcGFuLnNldEh0dHBTdGF0dXMoeGhyLnN0YXR1c19jb2RlKTtcbiAgICAgICAgICAgIHNwYW4uZmluaXNoKCk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWR5bmFtaWMtZGVsZXRlXG4gICAgICAgICAgICBkZWxldGUgc3BhbnNbaGFuZGxlckRhdGEueGhyLl9fc2VudHJ5X3hocl9zcGFuX2lkX19dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gaWYgbm90LCBjcmVhdGUgYSBuZXcgc3BhbiB0byB0cmFjayBpdFxuICAgIHZhciBhY3RpdmVUcmFuc2FjdGlvbiA9IGdldEFjdGl2ZVRyYW5zYWN0aW9uKCk7XG4gICAgaWYgKGFjdGl2ZVRyYW5zYWN0aW9uKSB7XG4gICAgICAgIHZhciBzcGFuID0gYWN0aXZlVHJhbnNhY3Rpb24uc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICBkYXRhOiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgeGhyLmRhdGEpLCB7IHR5cGU6ICd4aHInLCBtZXRob2Q6IHhoci5tZXRob2QsIHVybDogeGhyLnVybCB9KSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB4aHIubWV0aG9kICsgXCIgXCIgKyB4aHIudXJsLFxuICAgICAgICAgICAgb3A6ICdodHRwJyxcbiAgICAgICAgfSk7XG4gICAgICAgIGhhbmRsZXJEYXRhLnhoci5fX3NlbnRyeV94aHJfc3Bhbl9pZF9fID0gc3Bhbi5zcGFuSWQ7XG4gICAgICAgIHNwYW5zW2hhbmRsZXJEYXRhLnhoci5fX3NlbnRyeV94aHJfc3Bhbl9pZF9fXSA9IHNwYW47XG4gICAgICAgIGlmIChoYW5kbGVyRGF0YS54aHIuc2V0UmVxdWVzdEhlYWRlcikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyRGF0YS54aHIuc2V0UmVxdWVzdEhlYWRlcignc2VudHJ5LXRyYWNlJywgc3Bhbi50b1RyYWNlcGFyZW50KCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgICAgICAvLyBFcnJvcjogSW52YWxpZFN0YXRlRXJyb3I6IEZhaWxlZCB0byBleGVjdXRlICdzZXRSZXF1ZXN0SGVhZGVyJyBvbiAnWE1MSHR0cFJlcXVlc3QnOiBUaGUgb2JqZWN0J3Mgc3RhdGUgbXVzdCBiZSBPUEVORUQuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0LmpzLm1hcCIsImltcG9ydCB7IGFkZEluc3RydW1lbnRhdGlvbkhhbmRsZXIsIGdldEdsb2JhbE9iamVjdCwgbG9nZ2VyIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG52YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4vKipcbiAqIERlZmF1bHQgZnVuY3Rpb24gaW1wbGVtZW50aW5nIHBhZ2Vsb2FkIGFuZCBuYXZpZ2F0aW9uIHRyYW5zYWN0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdFJvdXRpbmdJbnN0cnVtZW50YXRpb24oc3RhcnRUcmFuc2FjdGlvbiwgc3RhcnRUcmFuc2FjdGlvbk9uUGFnZUxvYWQsIHN0YXJ0VHJhbnNhY3Rpb25PbkxvY2F0aW9uQ2hhbmdlKSB7XG4gICAgaWYgKHN0YXJ0VHJhbnNhY3Rpb25PblBhZ2VMb2FkID09PSB2b2lkIDApIHsgc3RhcnRUcmFuc2FjdGlvbk9uUGFnZUxvYWQgPSB0cnVlOyB9XG4gICAgaWYgKHN0YXJ0VHJhbnNhY3Rpb25PbkxvY2F0aW9uQ2hhbmdlID09PSB2b2lkIDApIHsgc3RhcnRUcmFuc2FjdGlvbk9uTG9jYXRpb25DaGFuZ2UgPSB0cnVlOyB9XG4gICAgaWYgKCFnbG9iYWwgfHwgIWdsb2JhbC5sb2NhdGlvbikge1xuICAgICAgICBsb2dnZXIud2FybignQ291bGQgbm90IGluaXRpYWxpemUgcm91dGluZyBpbnN0cnVtZW50YXRpb24gZHVlIHRvIGludmFsaWQgbG9jYXRpb24nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgc3RhcnRpbmdVcmwgPSBnbG9iYWwubG9jYXRpb24uaHJlZjtcbiAgICB2YXIgYWN0aXZlVHJhbnNhY3Rpb247XG4gICAgaWYgKHN0YXJ0VHJhbnNhY3Rpb25PblBhZ2VMb2FkKSB7XG4gICAgICAgIGFjdGl2ZVRyYW5zYWN0aW9uID0gc3RhcnRUcmFuc2FjdGlvbih7IG5hbWU6IGdsb2JhbC5sb2NhdGlvbi5wYXRobmFtZSwgb3A6ICdwYWdlbG9hZCcgfSk7XG4gICAgfVxuICAgIGlmIChzdGFydFRyYW5zYWN0aW9uT25Mb2NhdGlvbkNoYW5nZSkge1xuICAgICAgICBhZGRJbnN0cnVtZW50YXRpb25IYW5kbGVyKHtcbiAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG8gPSBfYS50bywgZnJvbSA9IF9hLmZyb207XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVGhpcyBlYXJseSByZXR1cm4gaXMgdGhlcmUgdG8gYWNjb3VudCBmb3Igc29tZSBjYXNlcyB3aGVyZSBhIG5hdmlnYXRpb24gdHJhbnNhY3Rpb24gc3RhcnRzIHJpZ2h0IGFmdGVyXG4gICAgICAgICAgICAgICAgICogbG9uZy1ydW5uaW5nIHBhZ2Vsb2FkLiBXZSBtYWtlIHN1cmUgdGhhdCBpZiBgZnJvbWAgaXMgdW5kZWZpbmVkIGFuZCBhIHZhbGlkIGBzdGFydGluZ1VSTGAgZXhpc3RzLCB3ZSBkb24ndFxuICAgICAgICAgICAgICAgICAqIGNyZWF0ZSBhbiB1bmVjY2Vzc2FyeSBuYXZpZ2F0aW9uIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICogVGhpcyB3YXMgaGFyZCB0byBkdXBsaWNhdGUsIGJ1dCB0aGlzIGJlaGF2aW9yIHN0b3BwZWQgYXMgc29vbiBhcyB0aGlzIGZpeCB3YXMgYXBwbGllZC4gVGhpcyBpc3N1ZSBtaWdodCBhbHNvXG4gICAgICAgICAgICAgICAgICogb25seSBiZSBjYXVzZWQgaW4gY2VydGFpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgd2hlcmUgdGhlIHVzYWdlIG9mIGEgaG90IG1vZHVsZSByZWxvYWRlciBpcyBjYXVzaW5nXG4gICAgICAgICAgICAgICAgICogZXJyb3JzLlxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGlmIChmcm9tID09PSB1bmRlZmluZWQgJiYgc3RhcnRpbmdVcmwgJiYgc3RhcnRpbmdVcmwuaW5kZXhPZih0bykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0aW5nVXJsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmcm9tICE9PSB0bykge1xuICAgICAgICAgICAgICAgICAgICBzdGFydGluZ1VybCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZVRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKFwiW1RyYWNpbmddIEZpbmlzaGluZyBjdXJyZW50IHRyYW5zYWN0aW9uIHdpdGggb3A6IFwiICsgYWN0aXZlVHJhbnNhY3Rpb24ub3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBhbiBvcGVuIHRyYW5zYWN0aW9uIG9uIHRoZSBzY29wZSwgd2UgbmVlZCB0byBmaW5pc2ggaXQgYmVmb3JlIGNyZWF0aW5nIGFuIG5ldyBvbmUuXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVUcmFuc2FjdGlvbi5maW5pc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhY3RpdmVUcmFuc2FjdGlvbiA9IHN0YXJ0VHJhbnNhY3Rpb24oeyBuYW1lOiBnbG9iYWwubG9jYXRpb24ucGF0aG5hbWUsIG9wOiAnbmF2aWdhdGlvbicgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6ICdoaXN0b3J5JyxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cm91dGVyLmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBnZXRHbG9iYWxPYmplY3QsIGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IHsgc3RhcnRJZGxlVHJhbnNhY3Rpb24gfSBmcm9tICcuLi9odWJleHRlbnNpb25zJztcbmltcG9ydCB7IERFRkFVTFRfSURMRV9USU1FT1VUIH0gZnJvbSAnLi4vaWRsZXRyYW5zYWN0aW9uJztcbmltcG9ydCB7IFNwYW5TdGF0dXMgfSBmcm9tICcuLi9zcGFuc3RhdHVzJztcbmltcG9ydCB7IGV4dHJhY3RUcmFjZXBhcmVudERhdGEsIHNlY1RvTXMgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyByZWdpc3RlckJhY2tncm91bmRUYWJEZXRlY3Rpb24gfSBmcm9tICcuL2JhY2tncm91bmR0YWInO1xuaW1wb3J0IHsgTWV0cmljc0luc3RydW1lbnRhdGlvbiB9IGZyb20gJy4vbWV0cmljcyc7XG5pbXBvcnQgeyBkZWZhdWx0UmVxdWVzdEluc3RydW1lbnRhdGlvbk9wdGlvbnMsIHJlZ2lzdGVyUmVxdWVzdEluc3RydW1lbnRhdGlvbiwgfSBmcm9tICcuL3JlcXVlc3QnO1xuaW1wb3J0IHsgZGVmYXVsdFJvdXRpbmdJbnN0cnVtZW50YXRpb24gfSBmcm9tICcuL3JvdXRlcic7XG5leHBvcnQgdmFyIERFRkFVTFRfTUFYX1RSQU5TQUNUSU9OX0RVUkFUSU9OX1NFQ09ORFMgPSA2MDA7XG52YXIgREVGQVVMVF9CUk9XU0VSX1RSQUNJTkdfT1BUSU9OUyA9IF9fYXNzaWduKHsgaWRsZVRpbWVvdXQ6IERFRkFVTFRfSURMRV9USU1FT1VULCBtYXJrQmFja2dyb3VuZFRyYW5zYWN0aW9uczogdHJ1ZSwgbWF4VHJhbnNhY3Rpb25EdXJhdGlvbjogREVGQVVMVF9NQVhfVFJBTlNBQ1RJT05fRFVSQVRJT05fU0VDT05EUywgcm91dGluZ0luc3RydW1lbnRhdGlvbjogZGVmYXVsdFJvdXRpbmdJbnN0cnVtZW50YXRpb24sIHN0YXJ0VHJhbnNhY3Rpb25PbkxvY2F0aW9uQ2hhbmdlOiB0cnVlLCBzdGFydFRyYW5zYWN0aW9uT25QYWdlTG9hZDogdHJ1ZSB9LCBkZWZhdWx0UmVxdWVzdEluc3RydW1lbnRhdGlvbk9wdGlvbnMpO1xuLyoqXG4gKiBUaGUgQnJvd3NlciBUcmFjaW5nIGludGVncmF0aW9uIGF1dG9tYXRpY2FsbHkgaW5zdHJ1bWVudHMgYnJvd3NlciBwYWdlbG9hZC9uYXZpZ2F0aW9uXG4gKiBhY3Rpb25zIGFzIHRyYW5zYWN0aW9ucywgYW5kIGNhcHR1cmVzIHJlcXVlc3RzLCBtZXRyaWNzIGFuZCBlcnJvcnMgYXMgc3BhbnMuXG4gKlxuICogVGhlIGludGVncmF0aW9uIGNhbiBiZSBjb25maWd1cmVkIHdpdGggYSB2YXJpZXR5IG9mIG9wdGlvbnMsIGFuZCBjYW4gYmUgZXh0ZW5kZWQgdG8gdXNlXG4gKiBhbnkgcm91dGluZyBsaWJyYXJ5LiBUaGlzIGludGVncmF0aW9uIHVzZXMge0BzZWUgSWRsZVRyYW5zYWN0aW9ufSB0byBjcmVhdGUgdHJhbnNhY3Rpb25zLlxuICovXG52YXIgQnJvd3NlclRyYWNpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnJvd3NlclRyYWNpbmcoX29wdGlvbnMpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbmhlcml0RG9jXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5hbWUgPSBCcm93c2VyVHJhY2luZy5pZDtcbiAgICAgICAgdGhpcy5fbWV0cmljcyA9IG5ldyBNZXRyaWNzSW5zdHJ1bWVudGF0aW9uKCk7XG4gICAgICAgIHRoaXMuX2VtaXRPcHRpb25zV2FybmluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgdHJhY2luZ09yaWdpbnMgPSBkZWZhdWx0UmVxdWVzdEluc3RydW1lbnRhdGlvbk9wdGlvbnMudHJhY2luZ09yaWdpbnM7XG4gICAgICAgIC8vIE5PVEU6IExvZ2dlciBkb2Vzbid0IHdvcmsgaW4gY29uc3RydWN0b3JzLCBhcyBpdCdzIGluaXRpYWxpemVkIGFmdGVyIGludGVncmF0aW9ucyBpbnN0YW5jZXNcbiAgICAgICAgaWYgKF9vcHRpb25zICYmXG4gICAgICAgICAgICBfb3B0aW9ucy50cmFjaW5nT3JpZ2lucyAmJlxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShfb3B0aW9ucy50cmFjaW5nT3JpZ2lucykgJiZcbiAgICAgICAgICAgIF9vcHRpb25zLnRyYWNpbmdPcmlnaW5zLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgdHJhY2luZ09yaWdpbnMgPSBfb3B0aW9ucy50cmFjaW5nT3JpZ2lucztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXRPcHRpb25zV2FybmluZyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRpb25zID0gX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sIERFRkFVTFRfQlJPV1NFUl9UUkFDSU5HX09QVElPTlMpLCBfb3B0aW9ucyksIHsgdHJhY2luZ09yaWdpbnM6IHRyYWNpbmdPcmlnaW5zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEJyb3dzZXJUcmFjaW5nLnByb3RvdHlwZS5zZXR1cE9uY2UgPSBmdW5jdGlvbiAoXywgZ2V0Q3VycmVudEh1Yikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9nZXRDdXJyZW50SHViID0gZ2V0Q3VycmVudEh1YjtcbiAgICAgICAgaWYgKHRoaXMuX2VtaXRPcHRpb25zV2FybmluZykge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ1tUcmFjaW5nXSBZb3UgbmVlZCB0byBkZWZpbmUgYHRyYWNpbmdPcmlnaW5zYCBpbiB0aGUgb3B0aW9ucy4gU2V0IGFuIGFycmF5IG9mIHVybHMgb3IgcGF0dGVybnMgdG8gdHJhY2UuJyk7XG4gICAgICAgICAgICBsb2dnZXIud2FybihcIltUcmFjaW5nXSBXZSBhZGRlZCBhIHJlYXNvbmFibGUgZGVmYXVsdCBmb3IgeW91OiBcIiArIGRlZmF1bHRSZXF1ZXN0SW5zdHJ1bWVudGF0aW9uT3B0aW9ucy50cmFjaW5nT3JpZ2lucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgICB2YXIgX2EgPSB0aGlzLm9wdGlvbnMsIHJvdXRpbmdJbnN0cnVtZW50YXRpb24gPSBfYS5yb3V0aW5nSW5zdHJ1bWVudGF0aW9uLCBzdGFydFRyYW5zYWN0aW9uT25Mb2NhdGlvbkNoYW5nZSA9IF9hLnN0YXJ0VHJhbnNhY3Rpb25PbkxvY2F0aW9uQ2hhbmdlLCBzdGFydFRyYW5zYWN0aW9uT25QYWdlTG9hZCA9IF9hLnN0YXJ0VHJhbnNhY3Rpb25PblBhZ2VMb2FkLCBtYXJrQmFja2dyb3VuZFRyYW5zYWN0aW9ucyA9IF9hLm1hcmtCYWNrZ3JvdW5kVHJhbnNhY3Rpb25zLCB0cmFjZUZldGNoID0gX2EudHJhY2VGZXRjaCwgdHJhY2VYSFIgPSBfYS50cmFjZVhIUiwgdHJhY2luZ09yaWdpbnMgPSBfYS50cmFjaW5nT3JpZ2lucywgc2hvdWxkQ3JlYXRlU3BhbkZvclJlcXVlc3QgPSBfYS5zaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdDtcbiAgICAgICAgcm91dGluZ0luc3RydW1lbnRhdGlvbihmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gX3RoaXMuX2NyZWF0ZVJvdXRlVHJhbnNhY3Rpb24oY29udGV4dCk7IH0sIHN0YXJ0VHJhbnNhY3Rpb25PblBhZ2VMb2FkLCBzdGFydFRyYW5zYWN0aW9uT25Mb2NhdGlvbkNoYW5nZSk7XG4gICAgICAgIGlmIChtYXJrQmFja2dyb3VuZFRyYW5zYWN0aW9ucykge1xuICAgICAgICAgICAgcmVnaXN0ZXJCYWNrZ3JvdW5kVGFiRGV0ZWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVnaXN0ZXJSZXF1ZXN0SW5zdHJ1bWVudGF0aW9uKHsgdHJhY2VGZXRjaDogdHJhY2VGZXRjaCwgdHJhY2VYSFI6IHRyYWNlWEhSLCB0cmFjaW5nT3JpZ2luczogdHJhY2luZ09yaWdpbnMsIHNob3VsZENyZWF0ZVNwYW5Gb3JSZXF1ZXN0OiBzaG91bGRDcmVhdGVTcGFuRm9yUmVxdWVzdCB9KTtcbiAgICB9O1xuICAgIC8qKiBDcmVhdGUgcm91dGluZyBpZGxlIHRyYW5zYWN0aW9uLiAqL1xuICAgIEJyb3dzZXJUcmFjaW5nLnByb3RvdHlwZS5fY3JlYXRlUm91dGVUcmFuc2FjdGlvbiA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5fZ2V0Q3VycmVudEh1Yikge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJbVHJhY2luZ10gRGlkIG5vdCBjcmVhdGUgXCIgKyBjb250ZXh0Lm9wICsgXCIgdHJhbnNhY3Rpb24gYmVjYXVzZSBfZ2V0Q3VycmVudEh1YiBpcyBpbnZhbGlkLlwiKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgICB2YXIgX2EgPSB0aGlzLm9wdGlvbnMsIGJlZm9yZU5hdmlnYXRlID0gX2EuYmVmb3JlTmF2aWdhdGUsIGlkbGVUaW1lb3V0ID0gX2EuaWRsZVRpbWVvdXQsIG1heFRyYW5zYWN0aW9uRHVyYXRpb24gPSBfYS5tYXhUcmFuc2FjdGlvbkR1cmF0aW9uO1xuICAgICAgICB2YXIgcGFyZW50Q29udGV4dEZyb21IZWFkZXIgPSBjb250ZXh0Lm9wID09PSAncGFnZWxvYWQnID8gZ2V0SGVhZGVyQ29udGV4dCgpIDogdW5kZWZpbmVkO1xuICAgICAgICB2YXIgZXhwYW5kZWRDb250ZXh0ID0gX19hc3NpZ24oX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbnRleHQpLCBwYXJlbnRDb250ZXh0RnJvbUhlYWRlciksIHsgdHJpbUVuZDogdHJ1ZSB9KTtcbiAgICAgICAgdmFyIG1vZGlmaWVkQ29udGV4dCA9IHR5cGVvZiBiZWZvcmVOYXZpZ2F0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGJlZm9yZU5hdmlnYXRlKGV4cGFuZGVkQ29udGV4dCkgOiBleHBhbmRlZENvbnRleHQ7XG4gICAgICAgIC8vIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSByZWFzb25zLCBiZWZvcmVOYXZpZ2F0ZSBjYW4gcmV0dXJuIHVuZGVmaW5lZCB0byBcImRyb3BcIiB0aGUgdHJhbnNhY3Rpb24gKHByZXZlbnQgaXRcbiAgICAgICAgLy8gZnJvbSBiZWluZyBzZW50IHRvIFNlbnRyeSkuXG4gICAgICAgIHZhciBmaW5hbENvbnRleHQgPSBtb2RpZmllZENvbnRleHQgPT09IHVuZGVmaW5lZCA/IF9fYXNzaWduKF9fYXNzaWduKHt9LCBleHBhbmRlZENvbnRleHQpLCB7IHNhbXBsZWQ6IGZhbHNlIH0pIDogbW9kaWZpZWRDb250ZXh0O1xuICAgICAgICBpZiAoZmluYWxDb250ZXh0LnNhbXBsZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKFwiW1RyYWNpbmddIFdpbGwgbm90IHNlbmQgXCIgKyBmaW5hbENvbnRleHQub3AgKyBcIiB0cmFuc2FjdGlvbiBiZWNhdXNlIG9mIGJlZm9yZU5hdmlnYXRlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIubG9nKFwiW1RyYWNpbmddIFN0YXJ0aW5nIFwiICsgZmluYWxDb250ZXh0Lm9wICsgXCIgdHJhbnNhY3Rpb24gb24gc2NvcGVcIik7XG4gICAgICAgIHZhciBodWIgPSB0aGlzLl9nZXRDdXJyZW50SHViKCk7XG4gICAgICAgIHZhciBsb2NhdGlvbiA9IGdldEdsb2JhbE9iamVjdCgpLmxvY2F0aW9uO1xuICAgICAgICB2YXIgaWRsZVRyYW5zYWN0aW9uID0gc3RhcnRJZGxlVHJhbnNhY3Rpb24oaHViLCBmaW5hbENvbnRleHQsIGlkbGVUaW1lb3V0LCB0cnVlLCB7IGxvY2F0aW9uOiBsb2NhdGlvbiB9KTtcbiAgICAgICAgaWRsZVRyYW5zYWN0aW9uLnJlZ2lzdGVyQmVmb3JlRmluaXNoQ2FsbGJhY2soZnVuY3Rpb24gKHRyYW5zYWN0aW9uLCBlbmRUaW1lc3RhbXApIHtcbiAgICAgICAgICAgIF90aGlzLl9tZXRyaWNzLmFkZFBlcmZvcm1hbmNlRW50cmllcyh0cmFuc2FjdGlvbik7XG4gICAgICAgICAgICBhZGp1c3RUcmFuc2FjdGlvbkR1cmF0aW9uKHNlY1RvTXMobWF4VHJhbnNhY3Rpb25EdXJhdGlvbiksIHRyYW5zYWN0aW9uLCBlbmRUaW1lc3RhbXApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGlkbGVUcmFuc2FjdGlvbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgQnJvd3NlclRyYWNpbmcuaWQgPSAnQnJvd3NlclRyYWNpbmcnO1xuICAgIHJldHVybiBCcm93c2VyVHJhY2luZztcbn0oKSk7XG5leHBvcnQgeyBCcm93c2VyVHJhY2luZyB9O1xuLyoqXG4gKiBHZXRzIHRyYW5zYWN0aW9uIGNvbnRleHQgZnJvbSBhIHNlbnRyeS10cmFjZSBtZXRhLlxuICpcbiAqIEByZXR1cm5zIFRyYW5zYWN0aW9uIGNvbnRleHQgZGF0YSBmcm9tIHRoZSBoZWFkZXIgb3IgdW5kZWZpbmVkIGlmIHRoZXJlJ3Mgbm8gaGVhZGVyIG9yIHRoZSBoZWFkZXIgaXMgbWFsZm9ybWVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRIZWFkZXJDb250ZXh0KCkge1xuICAgIHZhciBoZWFkZXIgPSBnZXRNZXRhQ29udGVudCgnc2VudHJ5LXRyYWNlJyk7XG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgICByZXR1cm4gZXh0cmFjdFRyYWNlcGFyZW50RGF0YShoZWFkZXIpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqIFJldHVybnMgdGhlIHZhbHVlIG9mIGEgbWV0YSB0YWcgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXRhQ29udGVudChtZXRhTmFtZSkge1xuICAgIHZhciBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtZXRhW25hbWU9XCIgKyBtZXRhTmFtZSArIFwiXVwiKTtcbiAgICByZXR1cm4gZWwgPyBlbC5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnQnKSA6IG51bGw7XG59XG4vKiogQWRqdXN0cyB0cmFuc2FjdGlvbiB2YWx1ZSBiYXNlZCBvbiBtYXggdHJhbnNhY3Rpb24gZHVyYXRpb24gKi9cbmZ1bmN0aW9uIGFkanVzdFRyYW5zYWN0aW9uRHVyYXRpb24obWF4RHVyYXRpb24sIHRyYW5zYWN0aW9uLCBlbmRUaW1lc3RhbXApIHtcbiAgICB2YXIgZGlmZiA9IGVuZFRpbWVzdGFtcCAtIHRyYW5zYWN0aW9uLnN0YXJ0VGltZXN0YW1wO1xuICAgIHZhciBpc091dGRhdGVkVHJhbnNhY3Rpb24gPSBlbmRUaW1lc3RhbXAgJiYgKGRpZmYgPiBtYXhEdXJhdGlvbiB8fCBkaWZmIDwgMCk7XG4gICAgaWYgKGlzT3V0ZGF0ZWRUcmFuc2FjdGlvbikge1xuICAgICAgICB0cmFuc2FjdGlvbi5zZXRTdGF0dXMoU3BhblN0YXR1cy5EZWFkbGluZUV4Y2VlZGVkKTtcbiAgICAgICAgdHJhbnNhY3Rpb24uc2V0VGFnKCdtYXhUcmFuc2FjdGlvbkR1cmF0aW9uRXhjZWVkZWQnLCAndHJ1ZScpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb3dzZXJ0cmFjaW5nLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWQgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuLyoqXG4gKiBFeHByZXNzIGludGVncmF0aW9uXG4gKlxuICogUHJvdmlkZXMgYW4gcmVxdWVzdCBhbmQgZXJyb3IgaGFuZGxlciBmb3IgRXhwcmVzcyBmcmFtZXdvcmsgYXMgd2VsbCBhcyB0cmFjaW5nIGNhcGFiaWxpdGllc1xuICovXG52YXIgRXhwcmVzcyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIEV4cHJlc3Mob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQGluaGVyaXREb2NcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmFtZSA9IEV4cHJlc3MuaWQ7XG4gICAgICAgIHRoaXMuX3JvdXRlciA9IG9wdGlvbnMucm91dGVyIHx8IG9wdGlvbnMuYXBwO1xuICAgICAgICB0aGlzLl9tZXRob2RzID0gKEFycmF5LmlzQXJyYXkob3B0aW9ucy5tZXRob2RzKSA/IG9wdGlvbnMubWV0aG9kcyA6IFtdKS5jb25jYXQoJ3VzZScpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW5oZXJpdERvY1xuICAgICAqL1xuICAgIEV4cHJlc3MucHJvdG90eXBlLnNldHVwT25jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yb3V0ZXIpIHtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRXhwcmVzc0ludGVncmF0aW9uIGlzIG1pc3NpbmcgYW4gRXhwcmVzcyBpbnN0YW5jZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGluc3RydW1lbnRNaWRkbGV3YXJlcyh0aGlzLl9yb3V0ZXIsIHRoaXMuX21ldGhvZHMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBFeHByZXNzLmlkID0gJ0V4cHJlc3MnO1xuICAgIHJldHVybiBFeHByZXNzO1xufSgpKTtcbmV4cG9ydCB7IEV4cHJlc3MgfTtcbi8qKlxuICogV3JhcHMgb3JpZ2luYWwgbWlkZGxld2FyZSBmdW5jdGlvbiBpbiBhIHRyYWNpbmcgY2FsbCwgd2hpY2ggc3RvcmVzIHRoZSBpbmZvIGFib3V0IHRoZSBjYWxsIGFzIGEgc3BhbixcbiAqIGFuZCBmaW5pc2hlcyBpdCBvbmNlIHRoZSBtaWRkbGV3YXJlIGlzIGRvbmUgaW52b2tpbmcuXG4gKlxuICogRXhwcmVzcyBtaWRkbGV3YXJlcyBoYXZlIDMgdmFyaW91cyBmb3JtcywgdGh1cyB3ZSBoYXZlIHRvIHRha2UgY2FyZSBvZiBhbGwgb2YgdGhlbTpcbiAqIC8vIHN5bmNcbiAqIGFwcC51c2UoZnVuY3Rpb24gKHJlcSwgcmVzKSB7IC4uLiB9KVxuICogLy8gYXN5bmNcbiAqIGFwcC51c2UoZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7IC4uLiB9KVxuICogLy8gZXJyb3IgaGFuZGxlclxuICogYXBwLnVzZShmdW5jdGlvbiAoZXJyLCByZXEsIHJlcywgbmV4dCkgeyAuLi4gfSlcbiAqXG4gKiBUaGV5IGFsbCBpbnRlcm5hbGx5IGRlbGVnYXRlIHRvIHRoZSBgcm91dGVyW21ldGhvZF1gIG9mIHRoZSBnaXZlbiBhcHBsaWNhdGlvbiBpbnN0YW5jZS5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXMsIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIHdyYXAoZm4sIG1ldGhvZCkge1xuICAgIHZhciBhcml0eSA9IGZuLmxlbmd0aDtcbiAgICBzd2l0Y2ggKGFyaXR5KSB7XG4gICAgICAgIGNhc2UgMjoge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IHJlcy5fX3NlbnRyeV90cmFuc2FjdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwYW5fMSA9IHRyYW5zYWN0aW9uLnN0YXJ0Q2hpbGQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGZuLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcDogXCJtaWRkbGV3YXJlLlwiICsgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVzLm9uY2UoJ2ZpbmlzaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYW5fMS5maW5pc2goKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIHJlcSwgcmVzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSAzOiB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc2FjdGlvbiA9IHJlcy5fX3NlbnRyeV90cmFuc2FjdGlvbjtcbiAgICAgICAgICAgICAgICB2YXIgc3BhbiA9IChfYSA9IHRyYW5zYWN0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBmbi5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBvcDogXCJtaWRkbGV3YXJlLlwiICsgbWV0aG9kLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGZuLmNhbGwodGhpcywgcmVxLCByZXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHNwYW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maW5pc2goKTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5jYWxsLmFwcGx5KG5leHQsIF9fc3ByZWFkKFt0aGlzXSwgYXJncykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXJyLCByZXEsIHJlcywgbmV4dCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNhY3Rpb24gPSByZXMuX19zZW50cnlfdHJhbnNhY3Rpb247XG4gICAgICAgICAgICAgICAgdmFyIHNwYW4gPSAoX2EgPSB0cmFuc2FjdGlvbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN0YXJ0Q2hpbGQoe1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZm4ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwibWlkZGxld2FyZS5cIiArIG1ldGhvZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBmbi5jYWxsKHRoaXMsIGVyciwgcmVxLCByZXMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgICAgIChfYSA9IHNwYW4pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5maW5pc2goKTtcbiAgICAgICAgICAgICAgICAgICAgbmV4dC5jYWxsLmFwcGx5KG5leHQsIF9fc3ByZWFkKFt0aGlzXSwgYXJncykpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFeHByZXNzIG1pZGRsZXdhcmUgdGFrZXMgMi00IGFyZ3VtZW50cy4gR290OiBcIiArIGFyaXR5KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogVGFrZXMgYWxsIHRoZSBmdW5jdGlvbiBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBvcmlnaW5hbCBgYXBwYCBvciBgcm91dGVyYCBtZXRob2QsIGVnLiBgYXBwLnVzZWAgb3IgYHJvdXRlci51c2VgXG4gKiBhbmQgd3JhcHMgZXZlcnkgZnVuY3Rpb24sIGFzIHdlbGwgYXMgYXJyYXkgb2YgZnVuY3Rpb25zIHdpdGggYSBjYWxsIHRvIG91ciBgd3JhcGAgbWV0aG9kLlxuICogV2UgaGF2ZSB0byB0YWtlIGNhcmUgb2YgdGhlIGFycmF5cyBhcyB3ZWxsIGFzIGl0ZXJhdGUgb3ZlciBhbGwgb2YgdGhlIGFyZ3VtZW50cyxcbiAqIGFzIGBhcHAudXNlYCBjYW4gYWNjZXB0IG1pZGRsZXdhcmVzIGluIGZldyB2YXJpb3VzIGZvcm1zLlxuICpcbiAqIGFwcC51c2UoWzxwYXRoPl0sIDxmbj4pXG4gKiBhcHAudXNlKFs8cGF0aD5dLCA8Zm4+LCAuLi48Zm4+KVxuICogYXBwLnVzZShbPHBhdGg+XSwgLi4uPGZuPltdKVxuICovXG5mdW5jdGlvbiB3cmFwTWlkZGxld2FyZUFyZ3MoYXJncywgbWV0aG9kKSB7XG4gICAgcmV0dXJuIGFyZ3MubWFwKGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB3cmFwKGFyZywgbWV0aG9kKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJnLm1hcChmdW5jdGlvbiAoYSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd3JhcChhLCBtZXRob2QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmc7XG4gICAgfSk7XG59XG4vKipcbiAqIFBhdGNoZXMgb3JpZ2luYWwgcm91dGVyIHRvIHV0aWxpemUgb3VyIHRyYWNpbmcgZnVuY3Rpb25hbGl0eVxuICovXG5mdW5jdGlvbiBwYXRjaE1pZGRsZXdhcmUocm91dGVyLCBtZXRob2QpIHtcbiAgICB2YXIgb3JpZ2luYWxDYWxsYmFjayA9IHJvdXRlclttZXRob2RdO1xuICAgIHJvdXRlclttZXRob2RdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcmlnaW5hbENhbGxiYWNrLmNhbGwuYXBwbHkob3JpZ2luYWxDYWxsYmFjaywgX19zcHJlYWQoW3RoaXNdLCB3cmFwTWlkZGxld2FyZUFyZ3MoYXJncywgbWV0aG9kKSkpO1xuICAgIH07XG4gICAgcmV0dXJuIHJvdXRlcjtcbn1cbi8qKlxuICogUGF0Y2hlcyBvcmlnaW5hbCByb3V0ZXIgbWV0aG9kc1xuICovXG5mdW5jdGlvbiBpbnN0cnVtZW50TWlkZGxld2FyZXMocm91dGVyLCBtZXRob2RzKSB7XG4gICAgaWYgKG1ldGhvZHMgPT09IHZvaWQgMCkgeyBtZXRob2RzID0gW107IH1cbiAgICBtZXRob2RzLmZvckVhY2goZnVuY3Rpb24gKG1ldGhvZCkgeyByZXR1cm4gcGF0Y2hNaWRkbGV3YXJlKHJvdXRlciwgbWV0aG9kKTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leHByZXNzLmpzLm1hcCIsImltcG9ydCB7IF9fYXNzaWduIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBCcm93c2VyVHJhY2luZyB9IGZyb20gJy4vYnJvd3Nlcic7XG5pbXBvcnQgeyBhZGRFeHRlbnNpb25NZXRob2RzIH0gZnJvbSAnLi9odWJleHRlbnNpb25zJztcbmltcG9ydCAqIGFzIFRyYWNpbmdJbnRlZ3JhdGlvbnMgZnJvbSAnLi9pbnRlZ3JhdGlvbnMnO1xudmFyIEludGVncmF0aW9ucyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBUcmFjaW5nSW50ZWdyYXRpb25zKSwgeyBCcm93c2VyVHJhY2luZzogQnJvd3NlclRyYWNpbmcgfSk7XG5leHBvcnQgeyBJbnRlZ3JhdGlvbnMgfTtcbmV4cG9ydCB7IFNwYW4gfSBmcm9tICcuL3NwYW4nO1xuZXhwb3J0IHsgVHJhbnNhY3Rpb24gfSBmcm9tICcuL3RyYW5zYWN0aW9uJztcbmV4cG9ydCB7IHJlZ2lzdGVyUmVxdWVzdEluc3RydW1lbnRhdGlvbiwgZGVmYXVsdFJlcXVlc3RJbnN0cnVtZW50YXRpb25PcHRpb25zLCB9IGZyb20gJy4vYnJvd3Nlcic7XG5leHBvcnQgeyBTcGFuU3RhdHVzIH0gZnJvbSAnLi9zcGFuc3RhdHVzJztcbmV4cG9ydCB7IElkbGVUcmFuc2FjdGlvbiB9IGZyb20gJy4vaWRsZXRyYW5zYWN0aW9uJztcbmV4cG9ydCB7IHN0YXJ0SWRsZVRyYW5zYWN0aW9uIH0gZnJvbSAnLi9odWJleHRlbnNpb25zJztcbi8vIFdlIGFyZSBwYXRjaGluZyB0aGUgZ2xvYmFsIG9iamVjdCB3aXRoIG91ciBodWIgZXh0ZW5zaW9uIG1ldGhvZHNcbmFkZEV4dGVuc2lvbk1ldGhvZHMoKTtcbmV4cG9ydCB7IGFkZEV4dGVuc2lvbk1ldGhvZHMgfTtcbmV4cG9ydCB7IGV4dHJhY3RUcmFjZXBhcmVudERhdGEsIGdldEFjdGl2ZVRyYW5zYWN0aW9uLCBoYXNUcmFjaW5nRW5hYmxlZCwgc3RyaXBVcmxRdWVyeUFuZEZyYWdtZW50LCBUUkFDRVBBUkVOVF9SRUdFWFAsIH0gZnJvbSAnLi91dGlscyc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJmdW5jdGlvbiB0KHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9QXJyYXkobj4xP24tMTowKSxlPTE7ZTxuO2UrKylyW2UtMV09YXJndW1lbnRzW2VdO2lmKFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYpe3ZhciBpPVlbdF0sbz1pP1wiZnVuY3Rpb25cIj09dHlwZW9mIGk/aS5hcHBseShudWxsLHIpOmk6XCJ1bmtub3duIGVycm9yIG5yOiBcIit0O3Rocm93IEVycm9yKFwiW0ltbWVyXSBcIitvKX10aHJvdyBFcnJvcihcIltJbW1lcl0gbWluaWZpZWQgZXJyb3IgbnI6IFwiK3QrKHIubGVuZ3RoP1wiIFwiK3IubWFwKChmdW5jdGlvbih0KXtyZXR1cm5cIidcIit0K1wiJ1wifSkpLmpvaW4oXCIsXCIpOlwiXCIpK1wiLiBGaW5kIHRoZSBmdWxsIGVycm9yIGF0OiBodHRwczovL2JpdC5seS8zY1hFS1dmXCIpfWZ1bmN0aW9uIG4odCl7cmV0dXJuISF0JiYhIXRbUV19ZnVuY3Rpb24gcih0KXtyZXR1cm4hIXQmJihmdW5jdGlvbih0KXtpZighdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQpcmV0dXJuITE7dmFyIG49T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpO3JldHVybiFufHxuPT09T2JqZWN0LnByb3RvdHlwZX0odCl8fEFycmF5LmlzQXJyYXkodCl8fCEhdFtMXXx8ISF0LmNvbnN0cnVjdG9yW0xdfHxzKHQpfHx2KHQpKX1mdW5jdGlvbiBlKHIpe3JldHVybiBuKHIpfHx0KDIzLHIpLHJbUV0udH1mdW5jdGlvbiBpKHQsbixyKXt2b2lkIDA9PT1yJiYocj0hMSksMD09PW8odCk/KHI/T2JqZWN0LmtleXM6WikodCkuZm9yRWFjaCgoZnVuY3Rpb24oZSl7ciYmXCJzeW1ib2xcIj09dHlwZW9mIGV8fG4oZSx0W2VdLHQpfSkpOnQuZm9yRWFjaCgoZnVuY3Rpb24ocixlKXtyZXR1cm4gbihlLHIsdCl9KSl9ZnVuY3Rpb24gbyh0KXt2YXIgbj10W1FdO3JldHVybiBuP24uaT4zP24uaS00Om4uaTpBcnJheS5pc0FycmF5KHQpPzE6cyh0KT8yOnYodCk/MzowfWZ1bmN0aW9uIHUodCxuKXtyZXR1cm4gMj09PW8odCk/dC5oYXMobik6T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbil9ZnVuY3Rpb24gYSh0LG4pe3JldHVybiAyPT09byh0KT90LmdldChuKTp0W25dfWZ1bmN0aW9uIGYodCxuLHIpe3ZhciBlPW8odCk7Mj09PWU/dC5zZXQobixyKTozPT09ZT8odC5kZWxldGUobiksdC5hZGQocikpOnRbbl09cn1mdW5jdGlvbiBjKHQsbil7cmV0dXJuIHQ9PT1uPzAhPT10fHwxL3Q9PTEvbjp0IT10JiZuIT1ufWZ1bmN0aW9uIHModCl7cmV0dXJuIFgmJnQgaW5zdGFuY2VvZiBNYXB9ZnVuY3Rpb24gdih0KXtyZXR1cm4gcSYmdCBpbnN0YW5jZW9mIFNldH1mdW5jdGlvbiBwKHQpe3JldHVybiB0Lm98fHQudH1mdW5jdGlvbiBsKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQpO3ZhciBuPXR0KHQpO2RlbGV0ZSBuW1FdO2Zvcih2YXIgcj1aKG4pLGU9MDtlPHIubGVuZ3RoO2UrKyl7dmFyIGk9cltlXSxvPW5baV07ITE9PT1vLndyaXRhYmxlJiYoby53cml0YWJsZT0hMCxvLmNvbmZpZ3VyYWJsZT0hMCksKG8uZ2V0fHxvLnNldCkmJihuW2ldPXtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsZW51bWVyYWJsZTpvLmVudW1lcmFibGUsdmFsdWU6dFtpXX0pfXJldHVybiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSxuKX1mdW5jdGlvbiBkKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPSExKSx5KHQpfHxuKHQpfHwhcih0KT90OihvKHQpPjEmJih0LnNldD10LmFkZD10LmNsZWFyPXQuZGVsZXRlPWgpLE9iamVjdC5mcmVlemUodCksZSYmaSh0LChmdW5jdGlvbih0LG4pe3JldHVybiBkKG4sITApfSksITApLHQpfWZ1bmN0aW9uIGgoKXt0KDIpfWZ1bmN0aW9uIHkodCl7cmV0dXJuIG51bGw9PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0fHxPYmplY3QuaXNGcm96ZW4odCl9ZnVuY3Rpb24gYihuKXt2YXIgcj1udFtuXTtyZXR1cm4gcnx8dCgxOCxuKSxyfWZ1bmN0aW9uIG0odCxuKXtudFt0XXx8KG50W3RdPW4pfWZ1bmN0aW9uIF8oKXtyZXR1cm5cInByb2R1Y3Rpb25cIj09PXByb2Nlc3MuZW52Lk5PREVfRU5WfHxVfHx0KDApLFV9ZnVuY3Rpb24gaih0LG4pe24mJihiKFwiUGF0Y2hlc1wiKSx0LnU9W10sdC5zPVtdLHQudj1uKX1mdW5jdGlvbiBnKHQpe3codCksdC5wLmZvckVhY2goUyksdC5wPW51bGx9ZnVuY3Rpb24gdyh0KXt0PT09VSYmKFU9dC5sKX1mdW5jdGlvbiBPKHQpe3JldHVybiBVPXtwOltdLGw6VSxoOnQsbTohMCxfOjB9fWZ1bmN0aW9uIFModCl7dmFyIG49dFtRXTswPT09bi5pfHwxPT09bi5pP24uaigpOm4uZz0hMH1mdW5jdGlvbiBQKG4sZSl7ZS5fPWUucC5sZW5ndGg7dmFyIGk9ZS5wWzBdLG89dm9pZCAwIT09biYmbiE9PWk7cmV0dXJuIGUuaC5PfHxiKFwiRVM1XCIpLlMoZSxuLG8pLG8/KGlbUV0uUCYmKGcoZSksdCg0KSkscihuKSYmKG49TShlLG4pLGUubHx8eChlLG4pKSxlLnUmJmIoXCJQYXRjaGVzXCIpLk0oaVtRXSxuLGUudSxlLnMpKTpuPU0oZSxpLFtdKSxnKGUpLGUudSYmZS52KGUudSxlLnMpLG4hPT1IP246dm9pZCAwfWZ1bmN0aW9uIE0odCxuLHIpe2lmKHkobikpcmV0dXJuIG47dmFyIGU9bltRXTtpZighZSlyZXR1cm4gaShuLChmdW5jdGlvbihpLG8pe3JldHVybiBBKHQsZSxuLGksbyxyKX0pLCEwKSxuO2lmKGUuQSE9PXQpcmV0dXJuIG47aWYoIWUuUClyZXR1cm4geCh0LGUudCwhMCksZS50O2lmKCFlLkkpe2UuST0hMCxlLkEuXy0tO3ZhciBvPTQ9PT1lLml8fDU9PT1lLmk/ZS5vPWwoZS5rKTplLm87aSgzPT09ZS5pP25ldyBTZXQobyk6bywoZnVuY3Rpb24obixpKXtyZXR1cm4gQSh0LGUsbyxuLGkscil9KSkseCh0LG8sITEpLHImJnQudSYmYihcIlBhdGNoZXNcIikuUihlLHIsdC51LHQucyl9cmV0dXJuIGUub31mdW5jdGlvbiBBKGUsaSxvLGEsYyxzKXtpZihcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZjPT09byYmdCg1KSxuKGMpKXt2YXIgdj1NKGUsYyxzJiZpJiYzIT09aS5pJiYhdShpLkQsYSk/cy5jb25jYXQoYSk6dm9pZCAwKTtpZihmKG8sYSx2KSwhbih2KSlyZXR1cm47ZS5tPSExfWlmKHIoYykmJiF5KGMpKXtpZighZS5oLk4mJmUuXzwxKXJldHVybjtNKGUsYyksaSYmaS5BLmx8fHgoZSxjKX19ZnVuY3Rpb24geCh0LG4scil7dm9pZCAwPT09ciYmKHI9ITEpLHQuaC5OJiZ0Lm0mJmQobixyKX1mdW5jdGlvbiB6KHQsbil7dmFyIHI9dFtRXTtyZXR1cm4ocj9wKHIpOnQpW25dfWZ1bmN0aW9uIEkodCxuKXtpZihuIGluIHQpZm9yKHZhciByPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtyOyl7dmFyIGU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLG4pO2lmKGUpcmV0dXJuIGU7cj1PYmplY3QuZ2V0UHJvdG90eXBlT2Yocil9fWZ1bmN0aW9uIGsodCl7dC5QfHwodC5QPSEwLHQubCYmayh0LmwpKX1mdW5jdGlvbiBFKHQpe3Qub3x8KHQubz1sKHQudCkpfWZ1bmN0aW9uIFIodCxuLHIpe3ZhciBlPXMobik/YihcIk1hcFNldFwiKS5UKG4scik6dihuKT9iKFwiTWFwU2V0XCIpLkYobixyKTp0Lk8/ZnVuY3Rpb24odCxuKXt2YXIgcj1BcnJheS5pc0FycmF5KHQpLGU9e2k6cj8xOjAsQTpuP24uQTpfKCksUDohMSxJOiExLEQ6e30sbDpuLHQ6dCxrOm51bGwsbzpudWxsLGo6bnVsbCxDOiExfSxpPWUsbz1ydDtyJiYoaT1bZV0sbz1ldCk7dmFyIHU9UHJveHkucmV2b2NhYmxlKGksbyksYT11LnJldm9rZSxmPXUucHJveHk7cmV0dXJuIGUuaz1mLGUuaj1hLGZ9KG4scik6YihcIkVTNVwiKS5KKG4scik7cmV0dXJuKHI/ci5BOl8oKSkucC5wdXNoKGUpLGV9ZnVuY3Rpb24gRChlKXtyZXR1cm4gbihlKXx8dCgyMixlKSxmdW5jdGlvbiB0KG4pe2lmKCFyKG4pKXJldHVybiBuO3ZhciBlLHU9bltRXSxjPW8obik7aWYodSl7aWYoIXUuUCYmKHUuaTw0fHwhYihcIkVTNVwiKS5LKHUpKSlyZXR1cm4gdS50O3UuST0hMCxlPU4obixjKSx1Lkk9ITF9ZWxzZSBlPU4obixjKTtyZXR1cm4gaShlLChmdW5jdGlvbihuLHIpe3UmJmEodS50LG4pPT09cnx8ZihlLG4sdChyKSl9KSksMz09PWM/bmV3IFNldChlKTplfShlKX1mdW5jdGlvbiBOKHQsbil7c3dpdGNoKG4pe2Nhc2UgMjpyZXR1cm4gbmV3IE1hcCh0KTtjYXNlIDM6cmV0dXJuIEFycmF5LmZyb20odCl9cmV0dXJuIGwodCl9ZnVuY3Rpb24gVCgpe2Z1bmN0aW9uIHIodCxuKXt2YXIgcj1zW3RdO3JldHVybiByP3IuZW51bWVyYWJsZT1uOnNbdF09cj17Y29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6bixnZXQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzW1FdO3JldHVyblwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmYobikscnQuZ2V0KG4sdCl9LHNldDpmdW5jdGlvbihuKXt2YXIgcj10aGlzW1FdO1wicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmYocikscnQuc2V0KHIsdCxuKX19LHJ9ZnVuY3Rpb24gZSh0KXtmb3IodmFyIG49dC5sZW5ndGgtMTtuPj0wO24tLSl7dmFyIHI9dFtuXVtRXTtpZighci5QKXN3aXRjaChyLmkpe2Nhc2UgNTphKHIpJiZrKHIpO2JyZWFrO2Nhc2UgNDpvKHIpJiZrKHIpfX19ZnVuY3Rpb24gbyh0KXtmb3IodmFyIG49dC50LHI9dC5rLGU9WihyKSxpPWUubGVuZ3RoLTE7aT49MDtpLS0pe3ZhciBvPWVbaV07aWYobyE9PVEpe3ZhciBhPW5bb107aWYodm9pZCAwPT09YSYmIXUobixvKSlyZXR1cm4hMDt2YXIgZj1yW29dLHM9ZiYmZltRXTtpZihzP3MudCE9PWE6IWMoZixhKSlyZXR1cm4hMH19dmFyIHY9ISFuW1FdO3JldHVybiBlLmxlbmd0aCE9PVoobikubGVuZ3RoKyh2PzA6MSl9ZnVuY3Rpb24gYSh0KXt2YXIgbj10Lms7aWYobi5sZW5ndGghPT10LnQubGVuZ3RoKXJldHVybiEwO3ZhciByPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobixuLmxlbmd0aC0xKTtyZXR1cm4hKCFyfHxyLmdldCl9ZnVuY3Rpb24gZihuKXtuLmcmJnQoMyxKU09OLnN0cmluZ2lmeShwKG4pKSl9dmFyIHM9e307bShcIkVTNVwiLHtKOmZ1bmN0aW9uKHQsbil7dmFyIGU9QXJyYXkuaXNBcnJheSh0KSxpPWZ1bmN0aW9uKHQsbil7aWYodCl7Zm9yKHZhciBlPUFycmF5KG4ubGVuZ3RoKSxpPTA7aTxuLmxlbmd0aDtpKyspT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJcIitpLHIoaSwhMCkpO3JldHVybiBlfXZhciBvPXR0KG4pO2RlbGV0ZSBvW1FdO2Zvcih2YXIgdT1aKG8pLGE9MDthPHUubGVuZ3RoO2ErKyl7dmFyIGY9dVthXTtvW2ZdPXIoZix0fHwhIW9bZl0uZW51bWVyYWJsZSl9cmV0dXJuIE9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKG4pLG8pfShlLHQpLG89e2k6ZT81OjQsQTpuP24uQTpfKCksUDohMSxJOiExLEQ6e30sbDpuLHQ6dCxrOmksbzpudWxsLGc6ITEsQzohMX07cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLFEse3ZhbHVlOm8sd3JpdGFibGU6ITB9KSxpfSxTOmZ1bmN0aW9uKHQscixvKXtvP24ocikmJnJbUV0uQT09PXQmJmUodC5wKToodC51JiZmdW5jdGlvbiB0KG4pe2lmKG4mJlwib2JqZWN0XCI9PXR5cGVvZiBuKXt2YXIgcj1uW1FdO2lmKHIpe3ZhciBlPXIudCxvPXIuayxmPXIuRCxjPXIuaTtpZig0PT09YylpKG8sKGZ1bmN0aW9uKG4pe24hPT1RJiYodm9pZCAwIT09ZVtuXXx8dShlLG4pP2Zbbl18fHQob1tuXSk6KGZbbl09ITAsayhyKSkpfSkpLGkoZSwoZnVuY3Rpb24odCl7dm9pZCAwIT09b1t0XXx8dShvLHQpfHwoZlt0XT0hMSxrKHIpKX0pKTtlbHNlIGlmKDU9PT1jKXtpZihhKHIpJiYoayhyKSxmLmxlbmd0aD0hMCksby5sZW5ndGg8ZS5sZW5ndGgpZm9yKHZhciBzPW8ubGVuZ3RoO3M8ZS5sZW5ndGg7cysrKWZbc109ITE7ZWxzZSBmb3IodmFyIHY9ZS5sZW5ndGg7djxvLmxlbmd0aDt2KyspZlt2XT0hMDtmb3IodmFyIHA9TWF0aC5taW4oby5sZW5ndGgsZS5sZW5ndGgpLGw9MDtsPHA7bCsrKXZvaWQgMD09PWZbbF0mJnQob1tsXSl9fX19KHQucFswXSksZSh0LnApKX0sSzpmdW5jdGlvbih0KXtyZXR1cm4gND09PXQuaT9vKHQpOmEodCl9fSl9ZnVuY3Rpb24gRigpe2Z1bmN0aW9uIGUodCl7aWYoIXIodCkpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdC5tYXAoZSk7aWYocyh0KSlyZXR1cm4gbmV3IE1hcChBcnJheS5mcm9tKHQuZW50cmllcygpKS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVyblt0WzBdLGUodFsxXSldfSkpKTtpZih2KHQpKXJldHVybiBuZXcgU2V0KEFycmF5LmZyb20odCkubWFwKGUpKTt2YXIgbj1PYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZih0KSk7Zm9yKHZhciBpIGluIHQpbltpXT1lKHRbaV0pO3JldHVybiBufWZ1bmN0aW9uIGYodCl7cmV0dXJuIG4odCk/ZSh0KTp0fXZhciBjPVwiYWRkXCI7bShcIlBhdGNoZXNcIix7JDpmdW5jdGlvbihuLHIpe3JldHVybiByLmZvckVhY2goKGZ1bmN0aW9uKHIpe2Zvcih2YXIgaT1yLnBhdGgsdT1yLm9wLGY9bixzPTA7czxpLmxlbmd0aC0xO3MrKyl7dmFyIHY9byhmKSxwPWlbc107MCE9PXYmJjEhPT12fHxcIl9fcHJvdG9fX1wiIT09cCYmXCJjb25zdHJ1Y3RvclwiIT09cHx8dCgyNCksXCJmdW5jdGlvblwiPT10eXBlb2YgZiYmXCJwcm90b3R5cGVcIj09PXAmJnQoMjQpLFwib2JqZWN0XCIhPXR5cGVvZihmPWEoZixwKSkmJnQoMTUsaS5qb2luKFwiL1wiKSl9dmFyIGw9byhmKSxkPWUoci52YWx1ZSksaD1pW2kubGVuZ3RoLTFdO3N3aXRjaCh1KXtjYXNlXCJyZXBsYWNlXCI6c3dpdGNoKGwpe2Nhc2UgMjpyZXR1cm4gZi5zZXQoaCxkKTtjYXNlIDM6dCgxNik7ZGVmYXVsdDpyZXR1cm4gZltoXT1kfWNhc2UgYzpzd2l0Y2gobCl7Y2FzZSAxOnJldHVybiBmLnNwbGljZShoLDAsZCk7Y2FzZSAyOnJldHVybiBmLnNldChoLGQpO2Nhc2UgMzpyZXR1cm4gZi5hZGQoZCk7ZGVmYXVsdDpyZXR1cm4gZltoXT1kfWNhc2VcInJlbW92ZVwiOnN3aXRjaChsKXtjYXNlIDE6cmV0dXJuIGYuc3BsaWNlKGgsMSk7Y2FzZSAyOnJldHVybiBmLmRlbGV0ZShoKTtjYXNlIDM6cmV0dXJuIGYuZGVsZXRlKHIudmFsdWUpO2RlZmF1bHQ6cmV0dXJuIGRlbGV0ZSBmW2hdfWRlZmF1bHQ6dCgxNyx1KX19KSksbn0sUjpmdW5jdGlvbih0LG4scixlKXtzd2l0Y2godC5pKXtjYXNlIDA6Y2FzZSA0OmNhc2UgMjpyZXR1cm4gZnVuY3Rpb24odCxuLHIsZSl7dmFyIG89dC50LHM9dC5vO2kodC5ELChmdW5jdGlvbih0LGkpe3ZhciB2PWEobyx0KSxwPWEocyx0KSxsPWk/dShvLHQpP1wicmVwbGFjZVwiOmM6XCJyZW1vdmVcIjtpZih2IT09cHx8XCJyZXBsYWNlXCIhPT1sKXt2YXIgZD1uLmNvbmNhdCh0KTtyLnB1c2goXCJyZW1vdmVcIj09PWw/e29wOmwscGF0aDpkfTp7b3A6bCxwYXRoOmQsdmFsdWU6cH0pLGUucHVzaChsPT09Yz97b3A6XCJyZW1vdmVcIixwYXRoOmR9OlwicmVtb3ZlXCI9PT1sP3tvcDpjLHBhdGg6ZCx2YWx1ZTpmKHYpfTp7b3A6XCJyZXBsYWNlXCIscGF0aDpkLHZhbHVlOmYodil9KX19KSl9KHQsbixyLGUpO2Nhc2UgNTpjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKHQsbixyLGUpe3ZhciBpPXQudCxvPXQuRCx1PXQubztpZih1Lmxlbmd0aDxpLmxlbmd0aCl7dmFyIGE9W3UsaV07aT1hWzBdLHU9YVsxXTt2YXIgcz1bZSxyXTtyPXNbMF0sZT1zWzFdfWZvcih2YXIgdj0wO3Y8aS5sZW5ndGg7disrKWlmKG9bdl0mJnVbdl0hPT1pW3ZdKXt2YXIgcD1uLmNvbmNhdChbdl0pO3IucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpwLHZhbHVlOmYodVt2XSl9KSxlLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6cCx2YWx1ZTpmKGlbdl0pfSl9Zm9yKHZhciBsPWkubGVuZ3RoO2w8dS5sZW5ndGg7bCsrKXt2YXIgZD1uLmNvbmNhdChbbF0pO3IucHVzaCh7b3A6YyxwYXRoOmQsdmFsdWU6Zih1W2xdKX0pfWkubGVuZ3RoPHUubGVuZ3RoJiZlLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6bi5jb25jYXQoW1wibGVuZ3RoXCJdKSx2YWx1ZTppLmxlbmd0aH0pfSh0LG4scixlKTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKHQsbixyLGUpe3ZhciBpPXQudCxvPXQubyx1PTA7aS5mb3JFYWNoKChmdW5jdGlvbih0KXtpZighby5oYXModCkpe3ZhciBpPW4uY29uY2F0KFt1XSk7ci5wdXNoKHtvcDpcInJlbW92ZVwiLHBhdGg6aSx2YWx1ZTp0fSksZS51bnNoaWZ0KHtvcDpjLHBhdGg6aSx2YWx1ZTp0fSl9dSsrfSkpLHU9MCxvLmZvckVhY2goKGZ1bmN0aW9uKHQpe2lmKCFpLmhhcyh0KSl7dmFyIG89bi5jb25jYXQoW3VdKTtyLnB1c2goe29wOmMscGF0aDpvLHZhbHVlOnR9KSxlLnVuc2hpZnQoe29wOlwicmVtb3ZlXCIscGF0aDpvLHZhbHVlOnR9KX11Kyt9KSl9KHQsbixyLGUpfX0sTTpmdW5jdGlvbih0LG4scixlKXtyLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6W10sdmFsdWU6bn0pLGUucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpbXSx2YWx1ZTp0LnR9KX19KX1mdW5jdGlvbiBDKCl7ZnVuY3Rpb24gbih0LG4pe2Z1bmN0aW9uIHIoKXt0aGlzLmNvbnN0cnVjdG9yPXR9YSh0LG4pLHQucHJvdG90eXBlPShyLnByb3RvdHlwZT1uLnByb3RvdHlwZSxuZXcgcil9ZnVuY3Rpb24gZSh0KXt0Lm98fCh0LkQ9bmV3IE1hcCx0Lm89bmV3IE1hcCh0LnQpKX1mdW5jdGlvbiBvKHQpe3Qub3x8KHQubz1uZXcgU2V0LHQudC5mb3JFYWNoKChmdW5jdGlvbihuKXtpZihyKG4pKXt2YXIgZT1SKHQuQS5oLG4sdCk7dC5wLnNldChuLGUpLHQuby5hZGQoZSl9ZWxzZSB0Lm8uYWRkKG4pfSkpKX1mdW5jdGlvbiB1KG4pe24uZyYmdCgzLEpTT04uc3RyaW5naWZ5KHAobikpKX12YXIgYT1mdW5jdGlvbih0LG4pe3JldHVybihhPU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LG4pe3QuX19wcm90b19fPW59fHxmdW5jdGlvbih0LG4pe2Zvcih2YXIgciBpbiBuKW4uaGFzT3duUHJvcGVydHkocikmJih0W3JdPW5bcl0pfSkodCxuKX0sZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxuKXtyZXR1cm4gdGhpc1tRXT17aToyLGw6bixBOm4/bi5BOl8oKSxQOiExLEk6ITEsbzp2b2lkIDAsRDp2b2lkIDAsdDp0LGs6dGhpcyxDOiExLGc6ITF9LHRoaXN9bih0LE1hcCk7dmFyIG89dC5wcm90b3R5cGU7cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcCh0aGlzW1FdKS5zaXplfX0pLG8uaGFzPWZ1bmN0aW9uKHQpe3JldHVybiBwKHRoaXNbUV0pLmhhcyh0KX0sby5zZXQ9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzW1FdO3JldHVybiB1KHIpLHAocikuaGFzKHQpJiZwKHIpLmdldCh0KT09PW58fChlKHIpLGsociksci5ELnNldCh0LCEwKSxyLm8uc2V0KHQsbiksci5ELnNldCh0LCEwKSksdGhpc30sby5kZWxldGU9ZnVuY3Rpb24odCl7aWYoIXRoaXMuaGFzKHQpKXJldHVybiExO3ZhciBuPXRoaXNbUV07cmV0dXJuIHUobiksZShuKSxrKG4pLG4uRC5zZXQodCwhMSksbi5vLmRlbGV0ZSh0KSwhMH0sby5jbGVhcj1mdW5jdGlvbigpe3ZhciB0PXRoaXNbUV07dSh0KSxwKHQpLnNpemUmJihlKHQpLGsodCksdC5EPW5ldyBNYXAsaSh0LnQsKGZ1bmN0aW9uKG4pe3QuRC5zZXQobiwhMSl9KSksdC5vLmNsZWFyKCkpfSxvLmZvckVhY2g9ZnVuY3Rpb24odCxuKXt2YXIgcj10aGlzO3AodGhpc1tRXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXt0LmNhbGwobixyLmdldChpKSxpLHIpfSkpfSxvLmdldD1mdW5jdGlvbih0KXt2YXIgbj10aGlzW1FdO3Uobik7dmFyIGk9cChuKS5nZXQodCk7aWYobi5JfHwhcihpKSlyZXR1cm4gaTtpZihpIT09bi50LmdldCh0KSlyZXR1cm4gaTt2YXIgbz1SKG4uQS5oLGksbik7cmV0dXJuIGUobiksbi5vLnNldCh0LG8pLG99LG8ua2V5cz1mdW5jdGlvbigpe3JldHVybiBwKHRoaXNbUV0pLmtleXMoKX0sby52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgdCxuPXRoaXMscj10aGlzLmtleXMoKTtyZXR1cm4odD17fSlbVl09ZnVuY3Rpb24oKXtyZXR1cm4gbi52YWx1ZXMoKX0sdC5uZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9ci5uZXh0KCk7cmV0dXJuIHQuZG9uZT90Ontkb25lOiExLHZhbHVlOm4uZ2V0KHQudmFsdWUpfX0sdH0sby5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIHQsbj10aGlzLHI9dGhpcy5rZXlzKCk7cmV0dXJuKHQ9e30pW1ZdPWZ1bmN0aW9uKCl7cmV0dXJuIG4uZW50cmllcygpfSx0Lm5leHQ9ZnVuY3Rpb24oKXt2YXIgdD1yLm5leHQoKTtpZih0LmRvbmUpcmV0dXJuIHQ7dmFyIGU9bi5nZXQodC52YWx1ZSk7cmV0dXJue2RvbmU6ITEsdmFsdWU6W3QudmFsdWUsZV19fSx0fSxvW1ZdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfSx0fSgpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIHRoaXNbUV09e2k6MyxsOm4sQTpuP24uQTpfKCksUDohMSxJOiExLG86dm9pZCAwLHQ6dCxrOnRoaXMscDpuZXcgTWFwLGc6ITEsQzohMX0sdGhpc31uKHQsU2V0KTt2YXIgcj10LnByb3RvdHlwZTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBwKHRoaXNbUV0pLnNpemV9fSksci5oYXM9ZnVuY3Rpb24odCl7dmFyIG49dGhpc1tRXTtyZXR1cm4gdShuKSxuLm8/ISFuLm8uaGFzKHQpfHwhKCFuLnAuaGFzKHQpfHwhbi5vLmhhcyhuLnAuZ2V0KHQpKSk6bi50Lmhhcyh0KX0sci5hZGQ9ZnVuY3Rpb24odCl7dmFyIG49dGhpc1tRXTtyZXR1cm4gdShuKSx0aGlzLmhhcyh0KXx8KG8obiksayhuKSxuLm8uYWRkKHQpKSx0aGlzfSxyLmRlbGV0ZT1mdW5jdGlvbih0KXtpZighdGhpcy5oYXModCkpcmV0dXJuITE7dmFyIG49dGhpc1tRXTtyZXR1cm4gdShuKSxvKG4pLGsobiksbi5vLmRlbGV0ZSh0KXx8ISFuLnAuaGFzKHQpJiZuLm8uZGVsZXRlKG4ucC5nZXQodCkpfSxyLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1tRXTt1KHQpLHAodCkuc2l6ZSYmKG8odCksayh0KSx0Lm8uY2xlYXIoKSl9LHIudmFsdWVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1tRXTtyZXR1cm4gdSh0KSxvKHQpLHQuby52YWx1ZXMoKX0sci5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpc1tRXTtyZXR1cm4gdSh0KSxvKHQpLHQuby5lbnRyaWVzKCl9LHIua2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcygpfSxyW1ZdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzKCl9LHIuZm9yRWFjaD1mdW5jdGlvbih0LG4pe2Zvcih2YXIgcj10aGlzLnZhbHVlcygpLGU9ci5uZXh0KCk7IWUuZG9uZTspdC5jYWxsKG4sZS52YWx1ZSxlLnZhbHVlLHRoaXMpLGU9ci5uZXh0KCl9LHR9KCk7bShcIk1hcFNldFwiLHtUOmZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBmKHQsbil9LEY6ZnVuY3Rpb24odCxuKXtyZXR1cm4gbmV3IGModCxuKX19KX1mdW5jdGlvbiBKKCl7VCgpLEMoKSxGKCl9ZnVuY3Rpb24gSyh0KXtyZXR1cm4gdH1mdW5jdGlvbiAkKHQpe3JldHVybiB0fXZhciBHLFUsVz1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sKFwieFwiKSxYPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBNYXAscT1cInVuZGVmaW5lZFwiIT10eXBlb2YgU2V0LEI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb3h5JiZ2b2lkIDAhPT1Qcm94eS5yZXZvY2FibGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0LEg9Vz9TeW1ib2wuZm9yKFwiaW1tZXItbm90aGluZ1wiKTooKEc9e30pW1wiaW1tZXItbm90aGluZ1wiXT0hMCxHKSxMPVc/U3ltYm9sLmZvcihcImltbWVyLWRyYWZ0YWJsZVwiKTpcIl9fJGltbWVyX2RyYWZ0YWJsZVwiLFE9Vz9TeW1ib2wuZm9yKFwiaW1tZXItc3RhdGVcIik6XCJfXyRpbW1lcl9zdGF0ZVwiLFY9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixZPXswOlwiSWxsZWdhbCBzdGF0ZVwiLDE6XCJJbW1lciBkcmFmdHMgY2Fubm90IGhhdmUgY29tcHV0ZWQgcHJvcGVydGllc1wiLDI6XCJUaGlzIG9iamVjdCBoYXMgYmVlbiBmcm96ZW4gYW5kIHNob3VsZCBub3QgYmUgbXV0YXRlZFwiLDM6ZnVuY3Rpb24odCl7cmV0dXJuXCJDYW5ub3QgdXNlIGEgcHJveHkgdGhhdCBoYXMgYmVlbiByZXZva2VkLiBEaWQgeW91IHBhc3MgYW4gb2JqZWN0IGZyb20gaW5zaWRlIGFuIGltbWVyIGZ1bmN0aW9uIHRvIGFuIGFzeW5jIHByb2Nlc3M/IFwiK3R9LDQ6XCJBbiBpbW1lciBwcm9kdWNlciByZXR1cm5lZCBhIG5ldyB2YWx1ZSAqYW5kKiBtb2RpZmllZCBpdHMgZHJhZnQuIEVpdGhlciByZXR1cm4gYSBuZXcgdmFsdWUgKm9yKiBtb2RpZnkgdGhlIGRyYWZ0LlwiLDU6XCJJbW1lciBmb3JiaWRzIGNpcmN1bGFyIHJlZmVyZW5jZXNcIiw2OlwiVGhlIGZpcnN0IG9yIHNlY29uZCBhcmd1bWVudCB0byBgcHJvZHVjZWAgbXVzdCBiZSBhIGZ1bmN0aW9uXCIsNzpcIlRoZSB0aGlyZCBhcmd1bWVudCB0byBgcHJvZHVjZWAgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIHVuZGVmaW5lZFwiLDg6XCJGaXJzdCBhcmd1bWVudCB0byBgY3JlYXRlRHJhZnRgIG11c3QgYmUgYSBwbGFpbiBvYmplY3QsIGFuIGFycmF5LCBvciBhbiBpbW1lcmFibGUgb2JqZWN0XCIsOTpcIkZpcnN0IGFyZ3VtZW50IHRvIGBmaW5pc2hEcmFmdGAgbXVzdCBiZSBhIGRyYWZ0IHJldHVybmVkIGJ5IGBjcmVhdGVEcmFmdGBcIiwxMDpcIlRoZSBnaXZlbiBkcmFmdCBpcyBhbHJlYWR5IGZpbmFsaXplZFwiLDExOlwiT2JqZWN0LmRlZmluZVByb3BlcnR5KCkgY2Fubm90IGJlIHVzZWQgb24gYW4gSW1tZXIgZHJhZnRcIiwxMjpcIk9iamVjdC5zZXRQcm90b3R5cGVPZigpIGNhbm5vdCBiZSB1c2VkIG9uIGFuIEltbWVyIGRyYWZ0XCIsMTM6XCJJbW1lciBvbmx5IHN1cHBvcnRzIGRlbGV0aW5nIGFycmF5IGluZGljZXNcIiwxNDpcIkltbWVyIG9ubHkgc3VwcG9ydHMgc2V0dGluZyBhcnJheSBpbmRpY2VzIGFuZCB0aGUgJ2xlbmd0aCcgcHJvcGVydHlcIiwxNTpmdW5jdGlvbih0KXtyZXR1cm5cIkNhbm5vdCBhcHBseSBwYXRjaCwgcGF0aCBkb2Vzbid0IHJlc29sdmU6IFwiK3R9LDE2OidTZXRzIGNhbm5vdCBoYXZlIFwicmVwbGFjZVwiIHBhdGNoZXMuJywxNzpmdW5jdGlvbih0KXtyZXR1cm5cIlVuc3VwcG9ydGVkIHBhdGNoIG9wZXJhdGlvbjogXCIrdH0sMTg6ZnVuY3Rpb24odCl7cmV0dXJuXCJUaGUgcGx1Z2luIGZvciAnXCIrdCtcIicgaGFzIG5vdCBiZWVuIGxvYWRlZCBpbnRvIEltbWVyLiBUbyBlbmFibGUgdGhlIHBsdWdpbiwgaW1wb3J0IGFuZCBjYWxsIGBlbmFibGVcIit0K1wiKClgIHdoZW4gaW5pdGlhbGl6aW5nIHlvdXIgYXBwbGljYXRpb24uXCJ9LDIwOlwiQ2Fubm90IHVzZSBwcm94aWVzIGlmIFByb3h5LCBQcm94eS5yZXZvY2FibGUgb3IgUmVmbGVjdCBhcmUgbm90IGF2YWlsYWJsZVwiLDIxOmZ1bmN0aW9uKHQpe3JldHVyblwicHJvZHVjZSBjYW4gb25seSBiZSBjYWxsZWQgb24gdGhpbmdzIHRoYXQgYXJlIGRyYWZ0YWJsZTogcGxhaW4gb2JqZWN0cywgYXJyYXlzLCBNYXAsIFNldCBvciBjbGFzc2VzIHRoYXQgYXJlIG1hcmtlZCB3aXRoICdbaW1tZXJhYmxlXTogdHJ1ZScuIEdvdCAnXCIrdCtcIidcIn0sMjI6ZnVuY3Rpb24odCl7cmV0dXJuXCInY3VycmVudCcgZXhwZWN0cyBhIGRyYWZ0LCBnb3Q6IFwiK3R9LDIzOmZ1bmN0aW9uKHQpe3JldHVyblwiJ29yaWdpbmFsJyBleHBlY3RzIGEgZHJhZnQsIGdvdDogXCIrdH0sMjQ6XCJQYXRjaGluZyByZXNlcnZlZCBhdHRyaWJ1dGVzIGxpa2UgX19wcm90b19fLCBwcm90b3R5cGUgYW5kIGNvbnN0cnVjdG9yIGlzIG5vdCBhbGxvd2VkXCJ9LFo9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3Qub3duS2V5cz9SZWZsZWN0Lm93bktleXM6dm9pZCAwIT09T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModCkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModCkpfTpPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyx0dD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yc3x8ZnVuY3Rpb24odCl7dmFyIG49e307cmV0dXJuIFoodCkuZm9yRWFjaCgoZnVuY3Rpb24ocil7bltyXT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQscil9KSksbn0sbnQ9e30scnQ9e2dldDpmdW5jdGlvbih0LG4pe2lmKG49PT1RKXJldHVybiB0O3ZhciBlPXAodCk7aWYoIXUoZSxuKSlyZXR1cm4gZnVuY3Rpb24odCxuLHIpe3ZhciBlLGk9SShuLHIpO3JldHVybiBpP1widmFsdWVcImluIGk/aS52YWx1ZTpudWxsPT09KGU9aS5nZXQpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNhbGwodC5rKTp2b2lkIDB9KHQsZSxuKTt2YXIgaT1lW25dO3JldHVybiB0Lkl8fCFyKGkpP2k6aT09PXoodC50LG4pPyhFKHQpLHQub1tuXT1SKHQuQS5oLGksdCkpOml9LGhhczpmdW5jdGlvbih0LG4pe3JldHVybiBuIGluIHAodCl9LG93bktleXM6ZnVuY3Rpb24odCl7cmV0dXJuIFJlZmxlY3Qub3duS2V5cyhwKHQpKX0sc2V0OmZ1bmN0aW9uKHQsbixyKXt2YXIgZT1JKHAodCksbik7aWYobnVsbD09ZT92b2lkIDA6ZS5zZXQpcmV0dXJuIGUuc2V0LmNhbGwodC5rLHIpLCEwO2lmKCF0LlApe3ZhciBpPXoocCh0KSxuKSxvPW51bGw9PWk/dm9pZCAwOmlbUV07aWYobyYmby50PT09cilyZXR1cm4gdC5vW25dPXIsdC5EW25dPSExLCEwO2lmKGMocixpKSYmKHZvaWQgMCE9PXJ8fHUodC50LG4pKSlyZXR1cm4hMDtFKHQpLGsodCl9cmV0dXJuIHQub1tuXT1yLHQuRFtuXT0hMCwhMH0sZGVsZXRlUHJvcGVydHk6ZnVuY3Rpb24odCxuKXtyZXR1cm4gdm9pZCAwIT09eih0LnQsbil8fG4gaW4gdC50Pyh0LkRbbl09ITEsRSh0KSxrKHQpKTpkZWxldGUgdC5EW25dLHQubyYmZGVsZXRlIHQub1tuXSwhMH0sZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOmZ1bmN0aW9uKHQsbil7dmFyIHI9cCh0KSxlPVJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHIsbik7cmV0dXJuIGU/e3dyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZToxIT09dC5pfHxcImxlbmd0aFwiIT09bixlbnVtZXJhYmxlOmUuZW51bWVyYWJsZSx2YWx1ZTpyW25dfTplfSxkZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbigpe3QoMTEpfSxnZXRQcm90b3R5cGVPZjpmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldFByb3RvdHlwZU9mKHQudCl9LHNldFByb3RvdHlwZU9mOmZ1bmN0aW9uKCl7dCgxMil9fSxldD17fTtpKHJ0LChmdW5jdGlvbih0LG4pe2V0W3RdPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1hcmd1bWVudHNbMF1bMF0sbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSkpLGV0LmRlbGV0ZVByb3BlcnR5PWZ1bmN0aW9uKG4scil7cmV0dXJuXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOViYmaXNOYU4ocGFyc2VJbnQocikpJiZ0KDEzKSxydC5kZWxldGVQcm9wZXJ0eS5jYWxsKHRoaXMsblswXSxyKX0sZXQuc2V0PWZ1bmN0aW9uKG4scixlKXtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZcImxlbmd0aFwiIT09ciYmaXNOYU4ocGFyc2VJbnQocikpJiZ0KDE0KSxydC5zZXQuY2FsbCh0aGlzLG5bMF0scixlLG5bMF0pfTt2YXIgaXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3RoaXMuTz1CLHRoaXMuTj0hMCxcImJvb2xlYW5cIj09dHlwZW9mKG51bGw9PXQ/dm9pZCAwOnQudXNlUHJveGllcykmJnRoaXMuc2V0VXNlUHJveGllcyh0LnVzZVByb3hpZXMpLFwiYm9vbGVhblwiPT10eXBlb2YobnVsbD09dD92b2lkIDA6dC5hdXRvRnJlZXplKSYmdGhpcy5zZXRBdXRvRnJlZXplKHQuYXV0b0ZyZWV6ZSksdGhpcy5wcm9kdWNlPXRoaXMucHJvZHVjZS5iaW5kKHRoaXMpLHRoaXMucHJvZHVjZVdpdGhQYXRjaGVzPXRoaXMucHJvZHVjZVdpdGhQYXRjaGVzLmJpbmQodGhpcyl9dmFyIGk9ZS5wcm90b3R5cGU7cmV0dXJuIGkucHJvZHVjZT1mdW5jdGlvbihuLGUsaSl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbiYmXCJmdW5jdGlvblwiIT10eXBlb2YgZSl7dmFyIG89ZTtlPW47dmFyIHU9dGhpcztyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49dGhpczt2b2lkIDA9PT10JiYodD1vKTtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxpPUFycmF5KHI+MT9yLTE6MCksYT0xO2E8cjthKyspaVthLTFdPWFyZ3VtZW50c1thXTtyZXR1cm4gdS5wcm9kdWNlKHQsKGZ1bmN0aW9uKHQpe3ZhciByO3JldHVybihyPWUpLmNhbGwuYXBwbHkocixbbix0XS5jb25jYXQoaSkpfSkpfX12YXIgYTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlJiZ0KDYpLHZvaWQgMCE9PWkmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGkmJnQoNykscihuKSl7dmFyIGY9Tyh0aGlzKSxjPVIodGhpcyxuLHZvaWQgMCkscz0hMDt0cnl7YT1lKGMpLHM9ITF9ZmluYWxseXtzP2coZik6dyhmKX1yZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmYSBpbnN0YW5jZW9mIFByb21pc2U/YS50aGVuKChmdW5jdGlvbih0KXtyZXR1cm4gaihmLGkpLFAodCxmKX0pLChmdW5jdGlvbih0KXt0aHJvdyBnKGYpLHR9KSk6KGooZixpKSxQKGEsZikpfWlmKCFufHxcIm9iamVjdFwiIT10eXBlb2Ygbil7aWYoKGE9ZShuKSk9PT1IKXJldHVybjtyZXR1cm4gdm9pZCAwPT09YSYmKGE9biksdGhpcy5OJiZkKGEsITApLGF9dCgyMSxuKX0saS5wcm9kdWNlV2l0aFBhdGNoZXM9ZnVuY3Rpb24odCxuKXt2YXIgcixlLGk9dGhpcztyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P2Z1bmN0aW9uKG4pe2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLGU9QXJyYXkocj4xP3ItMTowKSxvPTE7bzxyO28rKyllW28tMV09YXJndW1lbnRzW29dO3JldHVybiBpLnByb2R1Y2VXaXRoUGF0Y2hlcyhuLChmdW5jdGlvbihuKXtyZXR1cm4gdC5hcHBseSh2b2lkIDAsW25dLmNvbmNhdChlKSl9KSl9Olt0aGlzLnByb2R1Y2UodCxuLChmdW5jdGlvbih0LG4pe3I9dCxlPW59KSkscixlXX0saS5jcmVhdGVEcmFmdD1mdW5jdGlvbihlKXtyKGUpfHx0KDgpLG4oZSkmJihlPUQoZSkpO3ZhciBpPU8odGhpcyksbz1SKHRoaXMsZSx2b2lkIDApO3JldHVybiBvW1FdLkM9ITAsdyhpKSxvfSxpLmZpbmlzaERyYWZ0PWZ1bmN0aW9uKG4scil7dmFyIGU9biYmbltRXTtcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiYoZSYmZS5DfHx0KDkpLGUuSSYmdCgxMCkpO3ZhciBpPWUuQTtyZXR1cm4gaihpLHIpLFAodm9pZCAwLGkpfSxpLnNldEF1dG9GcmVlemU9ZnVuY3Rpb24odCl7dGhpcy5OPXR9LGkuc2V0VXNlUHJveGllcz1mdW5jdGlvbihuKXtuJiYhQiYmdCgyMCksdGhpcy5PPW59LGkuYXBwbHlQYXRjaGVzPWZ1bmN0aW9uKHQscil7dmFyIGU7Zm9yKGU9ci5sZW5ndGgtMTtlPj0wO2UtLSl7dmFyIGk9cltlXTtpZigwPT09aS5wYXRoLmxlbmd0aCYmXCJyZXBsYWNlXCI9PT1pLm9wKXt0PWkudmFsdWU7YnJlYWt9fXZhciBvPWIoXCJQYXRjaGVzXCIpLiQ7cmV0dXJuIG4odCk/byh0LHIpOnRoaXMucHJvZHVjZSh0LChmdW5jdGlvbih0KXtyZXR1cm4gbyh0LHIuc2xpY2UoZSsxKSl9KSl9LGV9KCksb3Q9bmV3IGl0LHV0PW90LnByb2R1Y2UsYXQ9b3QucHJvZHVjZVdpdGhQYXRjaGVzLmJpbmQob3QpLGZ0PW90LnNldEF1dG9GcmVlemUuYmluZChvdCksY3Q9b3Quc2V0VXNlUHJveGllcy5iaW5kKG90KSxzdD1vdC5hcHBseVBhdGNoZXMuYmluZChvdCksdnQ9b3QuY3JlYXRlRHJhZnQuYmluZChvdCkscHQ9b3QuZmluaXNoRHJhZnQuYmluZChvdCk7ZXhwb3J0IGRlZmF1bHQgdXQ7ZXhwb3J0e2l0IGFzIEltbWVyLHN0IGFzIGFwcGx5UGF0Y2hlcyxLIGFzIGNhc3REcmFmdCwkIGFzIGNhc3RJbW11dGFibGUsdnQgYXMgY3JlYXRlRHJhZnQsRCBhcyBjdXJyZW50LEogYXMgZW5hYmxlQWxsUGx1Z2lucyxUIGFzIGVuYWJsZUVTNSxDIGFzIGVuYWJsZU1hcFNldCxGIGFzIGVuYWJsZVBhdGNoZXMscHQgYXMgZmluaXNoRHJhZnQsZCBhcyBmcmVlemUsTCBhcyBpbW1lcmFibGUsbiBhcyBpc0RyYWZ0LHIgYXMgaXNEcmFmdGFibGUsSCBhcyBub3RoaW5nLGUgYXMgb3JpZ2luYWwsdXQgYXMgcHJvZHVjZSxhdCBhcyBwcm9kdWNlV2l0aFBhdGNoZXMsZnQgYXMgc2V0QXV0b0ZyZWV6ZSxjdCBhcyBzZXRVc2VQcm94aWVzfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltbWVyLmVzbS5qcy5tYXBcbiIsImltcG9ydCB7IGdldEN1cnJlbnRIdWIgfSBmcm9tICdAc2VudHJ5L2h1Yic7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbi8qKlxuICogSW50ZXJuYWwgZnVuY3Rpb24gdG8gY3JlYXRlIGEgbmV3IFNESyBjbGllbnQgaW5zdGFuY2UuIFRoZSBjbGllbnQgaXNcbiAqIGluc3RhbGxlZCBhbmQgdGhlbiBib3VuZCB0byB0aGUgY3VycmVudCBzY29wZS5cbiAqXG4gKiBAcGFyYW0gY2xpZW50Q2xhc3MgVGhlIGNsaWVudCBjbGFzcyB0byBpbnN0YW50aWF0ZS5cbiAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgdG8gcGFzcyB0byB0aGUgY2xpZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEFuZEJpbmQoY2xpZW50Q2xhc3MsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5kZWJ1ZyA9PT0gdHJ1ZSkge1xuICAgICAgICBsb2dnZXIuZW5hYmxlKCk7XG4gICAgfVxuICAgIHZhciBodWIgPSBnZXRDdXJyZW50SHViKCk7XG4gICAgdmFyIGNsaWVudCA9IG5ldyBjbGllbnRDbGFzcyhvcHRpb25zKTtcbiAgICBodWIuYmluZENsaWVudChjbGllbnQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2RrLmpzLm1hcCIsImltcG9ydCBWdWUgZnJvbSAndnVlJztcclxuaW1wb3J0ICogYXMgU2VudHJ5IGZyb20gJ0BzZW50cnkvdnVlJztcclxuaW1wb3J0IHsgSW50ZWdyYXRpb25zIH0gZnJvbSAnQHNlbnRyeS90cmFjaW5nJztcclxuXHJcblNlbnRyeS5pbml0KHtcclxuICBWdWUsXHJcbiAgZHNuOiBwcm9jZXNzLmVudi5TRU5UUllfRFNOIHx8ICcnLFxyXG4gIGludGVncmF0aW9uczogW25ldyBJbnRlZ3JhdGlvbnMuQnJvd3NlclRyYWNpbmcoKV0sXHJcblxyXG4gIC8vIFdlIHJlY29tbWVuZCBhZGp1c3RpbmcgdGhpcyB2YWx1ZSBpbiBwcm9kdWN0aW9uLCBvciB1c2luZyB0cmFjZXNTYW1wbGVyXHJcbiAgLy8gZm9yIGZpbmVyIGNvbnRyb2xcclxuICB0cmFjZXNTYW1wbGVSYXRlOiAxLjAsXHJcbn0pO1xyXG4iLCJpbXBvcnQgJCRvYnNlcnZhYmxlIGZyb20gJ3N5bWJvbC1vYnNlcnZhYmxlJztcblxuLyoqXG4gKiBUaGVzZSBhcmUgcHJpdmF0ZSBhY3Rpb24gdHlwZXMgcmVzZXJ2ZWQgYnkgUmVkdXguXG4gKiBGb3IgYW55IHVua25vd24gYWN0aW9ucywgeW91IG11c3QgcmV0dXJuIHRoZSBjdXJyZW50IHN0YXRlLlxuICogSWYgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdW5kZWZpbmVkLCB5b3UgbXVzdCByZXR1cm4gdGhlIGluaXRpYWwgc3RhdGUuXG4gKiBEbyBub3QgcmVmZXJlbmNlIHRoZXNlIGFjdGlvbiB0eXBlcyBkaXJlY3RseSBpbiB5b3VyIGNvZGUuXG4gKi9cbnZhciByYW5kb21TdHJpbmcgPSBmdW5jdGlvbiByYW5kb21TdHJpbmcoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoNykuc3BsaXQoJycpLmpvaW4oJy4nKTtcbn07XG5cbnZhciBBY3Rpb25UeXBlcyA9IHtcbiAgSU5JVDogXCJAQHJlZHV4L0lOSVRcIiArIHJhbmRvbVN0cmluZygpLFxuICBSRVBMQUNFOiBcIkBAcmVkdXgvUkVQTEFDRVwiICsgcmFuZG9tU3RyaW5nKCksXG4gIFBST0JFX1VOS05PV05fQUNUSU9OOiBmdW5jdGlvbiBQUk9CRV9VTktOT1dOX0FDVElPTigpIHtcbiAgICByZXR1cm4gXCJAQHJlZHV4L1BST0JFX1VOS05PV05fQUNUSU9OXCIgKyByYW5kb21TdHJpbmcoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gb2JqIFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBhcmd1bWVudCBhcHBlYXJzIHRvIGJlIGEgcGxhaW4gb2JqZWN0LlxuICovXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KG9iaikge1xuICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSByZXR1cm4gZmFsc2U7XG4gIHZhciBwcm90byA9IG9iajtcblxuICB3aGlsZSAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKSAhPT0gbnVsbCkge1xuICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqKSA9PT0gcHJvdG87XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIFJlZHV4IHN0b3JlIHRoYXQgaG9sZHMgdGhlIHN0YXRlIHRyZWUuXG4gKiBUaGUgb25seSB3YXkgdG8gY2hhbmdlIHRoZSBkYXRhIGluIHRoZSBzdG9yZSBpcyB0byBjYWxsIGBkaXNwYXRjaCgpYCBvbiBpdC5cbiAqXG4gKiBUaGVyZSBzaG91bGQgb25seSBiZSBhIHNpbmdsZSBzdG9yZSBpbiB5b3VyIGFwcC4gVG8gc3BlY2lmeSBob3cgZGlmZmVyZW50XG4gKiBwYXJ0cyBvZiB0aGUgc3RhdGUgdHJlZSByZXNwb25kIHRvIGFjdGlvbnMsIHlvdSBtYXkgY29tYmluZSBzZXZlcmFsIHJlZHVjZXJzXG4gKiBpbnRvIGEgc2luZ2xlIHJlZHVjZXIgZnVuY3Rpb24gYnkgdXNpbmcgYGNvbWJpbmVSZWR1Y2Vyc2AuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVkdWNlciBBIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGUgbmV4dCBzdGF0ZSB0cmVlLCBnaXZlblxuICogdGhlIGN1cnJlbnQgc3RhdGUgdHJlZSBhbmQgdGhlIGFjdGlvbiB0byBoYW5kbGUuXG4gKlxuICogQHBhcmFtIHthbnl9IFtwcmVsb2FkZWRTdGF0ZV0gVGhlIGluaXRpYWwgc3RhdGUuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBoeWRyYXRlIHRoZSBzdGF0ZSBmcm9tIHRoZSBzZXJ2ZXIgaW4gdW5pdmVyc2FsIGFwcHMsIG9yIHRvIHJlc3RvcmUgYVxuICogcHJldmlvdXNseSBzZXJpYWxpemVkIHVzZXIgc2Vzc2lvbi5cbiAqIElmIHlvdSB1c2UgYGNvbWJpbmVSZWR1Y2Vyc2AgdG8gcHJvZHVjZSB0aGUgcm9vdCByZWR1Y2VyIGZ1bmN0aW9uLCB0aGlzIG11c3QgYmVcbiAqIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIHNoYXBlIGFzIGBjb21iaW5lUmVkdWNlcnNgIGtleXMuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW2VuaGFuY2VyXSBUaGUgc3RvcmUgZW5oYW5jZXIuIFlvdSBtYXkgb3B0aW9uYWxseSBzcGVjaWZ5IGl0XG4gKiB0byBlbmhhbmNlIHRoZSBzdG9yZSB3aXRoIHRoaXJkLXBhcnR5IGNhcGFiaWxpdGllcyBzdWNoIGFzIG1pZGRsZXdhcmUsXG4gKiB0aW1lIHRyYXZlbCwgcGVyc2lzdGVuY2UsIGV0Yy4gVGhlIG9ubHkgc3RvcmUgZW5oYW5jZXIgdGhhdCBzaGlwcyB3aXRoIFJlZHV4XG4gKiBpcyBgYXBwbHlNaWRkbGV3YXJlKClgLlxuICpcbiAqIEByZXR1cm5zIHtTdG9yZX0gQSBSZWR1eCBzdG9yZSB0aGF0IGxldHMgeW91IHJlYWQgdGhlIHN0YXRlLCBkaXNwYXRjaCBhY3Rpb25zXG4gKiBhbmQgc3Vic2NyaWJlIHRvIGNoYW5nZXMuXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlU3RvcmUocmVkdWNlciwgcHJlbG9hZGVkU3RhdGUsIGVuaGFuY2VyKSB7XG4gIHZhciBfcmVmMjtcblxuICBpZiAodHlwZW9mIHByZWxvYWRlZFN0YXRlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbmhhbmNlciA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgZW5oYW5jZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGFyZ3VtZW50c1szXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignSXQgbG9va3MgbGlrZSB5b3UgYXJlIHBhc3Npbmcgc2V2ZXJhbCBzdG9yZSBlbmhhbmNlcnMgdG8gJyArICdjcmVhdGVTdG9yZSgpLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQuIEluc3RlYWQsIGNvbXBvc2UgdGhlbSAnICsgJ3RvZ2V0aGVyIHRvIGEgc2luZ2xlIGZ1bmN0aW9uLicpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBwcmVsb2FkZWRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW5oYW5jZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgZW5oYW5jZXIgPSBwcmVsb2FkZWRTdGF0ZTtcbiAgICBwcmVsb2FkZWRTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgZW5oYW5jZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBlbmhhbmNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgZW5oYW5jZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZW5oYW5jZXIoY3JlYXRlU3RvcmUpKHJlZHVjZXIsIHByZWxvYWRlZFN0YXRlKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgcmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIHJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgfVxuXG4gIHZhciBjdXJyZW50UmVkdWNlciA9IHJlZHVjZXI7XG4gIHZhciBjdXJyZW50U3RhdGUgPSBwcmVsb2FkZWRTdGF0ZTtcbiAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIG5leHRMaXN0ZW5lcnMgPSBjdXJyZW50TGlzdGVuZXJzO1xuICB2YXIgaXNEaXNwYXRjaGluZyA9IGZhbHNlO1xuICAvKipcbiAgICogVGhpcyBtYWtlcyBhIHNoYWxsb3cgY29weSBvZiBjdXJyZW50TGlzdGVuZXJzIHNvIHdlIGNhbiB1c2VcbiAgICogbmV4dExpc3RlbmVycyBhcyBhIHRlbXBvcmFyeSBsaXN0IHdoaWxlIGRpc3BhdGNoaW5nLlxuICAgKlxuICAgKiBUaGlzIHByZXZlbnRzIGFueSBidWdzIGFyb3VuZCBjb25zdW1lcnMgY2FsbGluZ1xuICAgKiBzdWJzY3JpYmUvdW5zdWJzY3JpYmUgaW4gdGhlIG1pZGRsZSBvZiBhIGRpc3BhdGNoLlxuICAgKi9cblxuICBmdW5jdGlvbiBlbnN1cmVDYW5NdXRhdGVOZXh0TGlzdGVuZXJzKCkge1xuICAgIGlmIChuZXh0TGlzdGVuZXJzID09PSBjdXJyZW50TGlzdGVuZXJzKSB7XG4gICAgICBuZXh0TGlzdGVuZXJzID0gY3VycmVudExpc3RlbmVycy5zbGljZSgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmVhZHMgdGhlIHN0YXRlIHRyZWUgbWFuYWdlZCBieSB0aGUgc3RvcmUuXG4gICAqXG4gICAqIEByZXR1cm5zIHthbnl9IFRoZSBjdXJyZW50IHN0YXRlIHRyZWUgb2YgeW91ciBhcHBsaWNhdGlvbi5cbiAgICovXG5cblxuICBmdW5jdGlvbiBnZXRTdGF0ZSgpIHtcbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbWF5IG5vdCBjYWxsIHN0b3JlLmdldFN0YXRlKCkgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ1RoZSByZWR1Y2VyIGhhcyBhbHJlYWR5IHJlY2VpdmVkIHRoZSBzdGF0ZSBhcyBhbiBhcmd1bWVudC4gJyArICdQYXNzIGl0IGRvd24gZnJvbSB0aGUgdG9wIHJlZHVjZXIgaW5zdGVhZCBvZiByZWFkaW5nIGl0IGZyb20gdGhlIHN0b3JlLicpO1xuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50U3RhdGU7XG4gIH1cbiAgLyoqXG4gICAqIEFkZHMgYSBjaGFuZ2UgbGlzdGVuZXIuIEl0IHdpbGwgYmUgY2FsbGVkIGFueSB0aW1lIGFuIGFjdGlvbiBpcyBkaXNwYXRjaGVkLFxuICAgKiBhbmQgc29tZSBwYXJ0IG9mIHRoZSBzdGF0ZSB0cmVlIG1heSBwb3RlbnRpYWxseSBoYXZlIGNoYW5nZWQuIFlvdSBtYXkgdGhlblxuICAgKiBjYWxsIGBnZXRTdGF0ZSgpYCB0byByZWFkIHRoZSBjdXJyZW50IHN0YXRlIHRyZWUgaW5zaWRlIHRoZSBjYWxsYmFjay5cbiAgICpcbiAgICogWW91IG1heSBjYWxsIGBkaXNwYXRjaCgpYCBmcm9tIGEgY2hhbmdlIGxpc3RlbmVyLCB3aXRoIHRoZSBmb2xsb3dpbmdcbiAgICogY2F2ZWF0czpcbiAgICpcbiAgICogMS4gVGhlIHN1YnNjcmlwdGlvbnMgYXJlIHNuYXBzaG90dGVkIGp1c3QgYmVmb3JlIGV2ZXJ5IGBkaXNwYXRjaCgpYCBjYWxsLlxuICAgKiBJZiB5b3Ugc3Vic2NyaWJlIG9yIHVuc3Vic2NyaWJlIHdoaWxlIHRoZSBsaXN0ZW5lcnMgYXJlIGJlaW5nIGludm9rZWQsIHRoaXNcbiAgICogd2lsbCBub3QgaGF2ZSBhbnkgZWZmZWN0IG9uIHRoZSBgZGlzcGF0Y2goKWAgdGhhdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXG4gICAqIEhvd2V2ZXIsIHRoZSBuZXh0IGBkaXNwYXRjaCgpYCBjYWxsLCB3aGV0aGVyIG5lc3RlZCBvciBub3QsIHdpbGwgdXNlIGEgbW9yZVxuICAgKiByZWNlbnQgc25hcHNob3Qgb2YgdGhlIHN1YnNjcmlwdGlvbiBsaXN0LlxuICAgKlxuICAgKiAyLiBUaGUgbGlzdGVuZXIgc2hvdWxkIG5vdCBleHBlY3QgdG8gc2VlIGFsbCBzdGF0ZSBjaGFuZ2VzLCBhcyB0aGUgc3RhdGVcbiAgICogbWlnaHQgaGF2ZSBiZWVuIHVwZGF0ZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgbmVzdGVkIGBkaXNwYXRjaCgpYCBiZWZvcmVcbiAgICogdGhlIGxpc3RlbmVyIGlzIGNhbGxlZC4gSXQgaXMsIGhvd2V2ZXIsIGd1YXJhbnRlZWQgdGhhdCBhbGwgc3Vic2NyaWJlcnNcbiAgICogcmVnaXN0ZXJlZCBiZWZvcmUgdGhlIGBkaXNwYXRjaCgpYCBzdGFydGVkIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIGxhdGVzdFxuICAgKiBzdGF0ZSBieSB0aGUgdGltZSBpdCBleGl0cy5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgQSBjYWxsYmFjayB0byBiZSBpbnZva2VkIG9uIGV2ZXJ5IGRpc3BhdGNoLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgZnVuY3Rpb24gdG8gcmVtb3ZlIHRoaXMgY2hhbmdlIGxpc3RlbmVyLlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHN1YnNjcmliZShsaXN0ZW5lcikge1xuICAgIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgdGhlIGxpc3RlbmVyIHRvIGJlIGEgZnVuY3Rpb24uJyk7XG4gICAgfVxuXG4gICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG1heSBub3QgY2FsbCBzdG9yZS5zdWJzY3JpYmUoKSB3aGlsZSB0aGUgcmVkdWNlciBpcyBleGVjdXRpbmcuICcgKyAnSWYgeW91IHdvdWxkIGxpa2UgdG8gYmUgbm90aWZpZWQgYWZ0ZXIgdGhlIHN0b3JlIGhhcyBiZWVuIHVwZGF0ZWQsIHN1YnNjcmliZSBmcm9tIGEgJyArICdjb21wb25lbnQgYW5kIGludm9rZSBzdG9yZS5nZXRTdGF0ZSgpIGluIHRoZSBjYWxsYmFjayB0byBhY2Nlc3MgdGhlIGxhdGVzdCBzdGF0ZS4gJyArICdTZWUgaHR0cHM6Ly9yZWR1eC5qcy5vcmcvYXBpLXJlZmVyZW5jZS9zdG9yZSNzdWJzY3JpYmVsaXN0ZW5lciBmb3IgbW9yZSBkZXRhaWxzLicpO1xuICAgIH1cblxuICAgIHZhciBpc1N1YnNjcmliZWQgPSB0cnVlO1xuICAgIGVuc3VyZUNhbk11dGF0ZU5leHRMaXN0ZW5lcnMoKTtcbiAgICBuZXh0TGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xuICAgIHJldHVybiBmdW5jdGlvbiB1bnN1YnNjcmliZSgpIHtcbiAgICAgIGlmICghaXNTdWJzY3JpYmVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzRGlzcGF0Y2hpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdZb3UgbWF5IG5vdCB1bnN1YnNjcmliZSBmcm9tIGEgc3RvcmUgbGlzdGVuZXIgd2hpbGUgdGhlIHJlZHVjZXIgaXMgZXhlY3V0aW5nLiAnICsgJ1NlZSBodHRwczovL3JlZHV4LmpzLm9yZy9hcGktcmVmZXJlbmNlL3N0b3JlI3N1YnNjcmliZWxpc3RlbmVyIGZvciBtb3JlIGRldGFpbHMuJyk7XG4gICAgICB9XG5cbiAgICAgIGlzU3Vic2NyaWJlZCA9IGZhbHNlO1xuICAgICAgZW5zdXJlQ2FuTXV0YXRlTmV4dExpc3RlbmVycygpO1xuICAgICAgdmFyIGluZGV4ID0gbmV4dExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgIG5leHRMaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGN1cnJlbnRMaXN0ZW5lcnMgPSBudWxsO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIERpc3BhdGNoZXMgYW4gYWN0aW9uLiBJdCBpcyB0aGUgb25seSB3YXkgdG8gdHJpZ2dlciBhIHN0YXRlIGNoYW5nZS5cbiAgICpcbiAgICogVGhlIGByZWR1Y2VyYCBmdW5jdGlvbiwgdXNlZCB0byBjcmVhdGUgdGhlIHN0b3JlLCB3aWxsIGJlIGNhbGxlZCB3aXRoIHRoZVxuICAgKiBjdXJyZW50IHN0YXRlIHRyZWUgYW5kIHRoZSBnaXZlbiBgYWN0aW9uYC4gSXRzIHJldHVybiB2YWx1ZSB3aWxsXG4gICAqIGJlIGNvbnNpZGVyZWQgdGhlICoqbmV4dCoqIHN0YXRlIG9mIHRoZSB0cmVlLCBhbmQgdGhlIGNoYW5nZSBsaXN0ZW5lcnNcbiAgICogd2lsbCBiZSBub3RpZmllZC5cbiAgICpcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb25seSBzdXBwb3J0cyBwbGFpbiBvYmplY3QgYWN0aW9ucy4gSWYgeW91IHdhbnQgdG9cbiAgICogZGlzcGF0Y2ggYSBQcm9taXNlLCBhbiBPYnNlcnZhYmxlLCBhIHRodW5rLCBvciBzb21ldGhpbmcgZWxzZSwgeW91IG5lZWQgdG9cbiAgICogd3JhcCB5b3VyIHN0b3JlIGNyZWF0aW5nIGZ1bmN0aW9uIGludG8gdGhlIGNvcnJlc3BvbmRpbmcgbWlkZGxld2FyZS4gRm9yXG4gICAqIGV4YW1wbGUsIHNlZSB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgdGhlIGByZWR1eC10aHVua2AgcGFja2FnZS4gRXZlbiB0aGVcbiAgICogbWlkZGxld2FyZSB3aWxsIGV2ZW50dWFsbHkgZGlzcGF0Y2ggcGxhaW4gb2JqZWN0IGFjdGlvbnMgdXNpbmcgdGhpcyBtZXRob2QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhY3Rpb24gQSBwbGFpbiBvYmplY3QgcmVwcmVzZW50aW5nIOKAnHdoYXQgY2hhbmdlZOKAnS4gSXQgaXNcbiAgICogYSBnb29kIGlkZWEgdG8ga2VlcCBhY3Rpb25zIHNlcmlhbGl6YWJsZSBzbyB5b3UgY2FuIHJlY29yZCBhbmQgcmVwbGF5IHVzZXJcbiAgICogc2Vzc2lvbnMsIG9yIHVzZSB0aGUgdGltZSB0cmF2ZWxsaW5nIGByZWR1eC1kZXZ0b29sc2AuIEFuIGFjdGlvbiBtdXN0IGhhdmVcbiAgICogYSBgdHlwZWAgcHJvcGVydHkgd2hpY2ggbWF5IG5vdCBiZSBgdW5kZWZpbmVkYC4gSXQgaXMgYSBnb29kIGlkZWEgdG8gdXNlXG4gICAqIHN0cmluZyBjb25zdGFudHMgZm9yIGFjdGlvbiB0eXBlcy5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gRm9yIGNvbnZlbmllbmNlLCB0aGUgc2FtZSBhY3Rpb24gb2JqZWN0IHlvdSBkaXNwYXRjaGVkLlxuICAgKlxuICAgKiBOb3RlIHRoYXQsIGlmIHlvdSB1c2UgYSBjdXN0b20gbWlkZGxld2FyZSwgaXQgbWF5IHdyYXAgYGRpc3BhdGNoKClgIHRvXG4gICAqIHJldHVybiBzb21ldGhpbmcgZWxzZSAoZm9yIGV4YW1wbGUsIGEgUHJvbWlzZSB5b3UgY2FuIGF3YWl0KS5cbiAgICovXG5cblxuICBmdW5jdGlvbiBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3QoYWN0aW9uKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBY3Rpb25zIG11c3QgYmUgcGxhaW4gb2JqZWN0cy4gJyArICdVc2UgY3VzdG9tIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWN0aW9ucyBtYXkgbm90IGhhdmUgYW4gdW5kZWZpbmVkIFwidHlwZVwiIHByb3BlcnR5LiAnICsgJ0hhdmUgeW91IG1pc3NwZWxsZWQgYSBjb25zdGFudD8nKTtcbiAgICB9XG5cbiAgICBpZiAoaXNEaXNwYXRjaGluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWR1Y2VycyBtYXkgbm90IGRpc3BhdGNoIGFjdGlvbnMuJyk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGlzRGlzcGF0Y2hpbmcgPSB0cnVlO1xuICAgICAgY3VycmVudFN0YXRlID0gY3VycmVudFJlZHVjZXIoY3VycmVudFN0YXRlLCBhY3Rpb24pO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBpc0Rpc3BhdGNoaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGxpc3RlbmVycyA9IGN1cnJlbnRMaXN0ZW5lcnMgPSBuZXh0TGlzdGVuZXJzO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBsaXN0ZW5lciA9IGxpc3RlbmVyc1tpXTtcbiAgICAgIGxpc3RlbmVyKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGFjdGlvbjtcbiAgfVxuICAvKipcbiAgICogUmVwbGFjZXMgdGhlIHJlZHVjZXIgY3VycmVudGx5IHVzZWQgYnkgdGhlIHN0b3JlIHRvIGNhbGN1bGF0ZSB0aGUgc3RhdGUuXG4gICAqXG4gICAqIFlvdSBtaWdodCBuZWVkIHRoaXMgaWYgeW91ciBhcHAgaW1wbGVtZW50cyBjb2RlIHNwbGl0dGluZyBhbmQgeW91IHdhbnQgdG9cbiAgICogbG9hZCBzb21lIG9mIHRoZSByZWR1Y2VycyBkeW5hbWljYWxseS4gWW91IG1pZ2h0IGFsc28gbmVlZCB0aGlzIGlmIHlvdVxuICAgKiBpbXBsZW1lbnQgYSBob3QgcmVsb2FkaW5nIG1lY2hhbmlzbSBmb3IgUmVkdXguXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IG5leHRSZWR1Y2VyIFRoZSByZWR1Y2VyIGZvciB0aGUgc3RvcmUgdG8gdXNlIGluc3RlYWQuXG4gICAqIEByZXR1cm5zIHt2b2lkfVxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIHJlcGxhY2VSZWR1Y2VyKG5leHRSZWR1Y2VyKSB7XG4gICAgaWYgKHR5cGVvZiBuZXh0UmVkdWNlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCB0aGUgbmV4dFJlZHVjZXIgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBjdXJyZW50UmVkdWNlciA9IG5leHRSZWR1Y2VyOyAvLyBUaGlzIGFjdGlvbiBoYXMgYSBzaW1pbGlhciBlZmZlY3QgdG8gQWN0aW9uVHlwZXMuSU5JVC5cbiAgICAvLyBBbnkgcmVkdWNlcnMgdGhhdCBleGlzdGVkIGluIGJvdGggdGhlIG5ldyBhbmQgb2xkIHJvb3RSZWR1Y2VyXG4gICAgLy8gd2lsbCByZWNlaXZlIHRoZSBwcmV2aW91cyBzdGF0ZS4gVGhpcyBlZmZlY3RpdmVseSBwb3B1bGF0ZXNcbiAgICAvLyB0aGUgbmV3IHN0YXRlIHRyZWUgd2l0aCBhbnkgcmVsZXZhbnQgZGF0YSBmcm9tIHRoZSBvbGQgb25lLlxuXG4gICAgZGlzcGF0Y2goe1xuICAgICAgdHlwZTogQWN0aW9uVHlwZXMuUkVQTEFDRVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBJbnRlcm9wZXJhYmlsaXR5IHBvaW50IGZvciBvYnNlcnZhYmxlL3JlYWN0aXZlIGxpYnJhcmllcy5cbiAgICogQHJldHVybnMge29ic2VydmFibGV9IEEgbWluaW1hbCBvYnNlcnZhYmxlIG9mIHN0YXRlIGNoYW5nZXMuXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWUgdGhlIG9ic2VydmFibGUgcHJvcG9zYWw6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLW9ic2VydmFibGVcbiAgICovXG5cblxuICBmdW5jdGlvbiBvYnNlcnZhYmxlKCkge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIG91dGVyU3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgIHJldHVybiBfcmVmID0ge1xuICAgICAgLyoqXG4gICAgICAgKiBUaGUgbWluaW1hbCBvYnNlcnZhYmxlIHN1YnNjcmlwdGlvbiBtZXRob2QuXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JzZXJ2ZXIgQW55IG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIG9ic2VydmVyLlxuICAgICAgICogVGhlIG9ic2VydmVyIG9iamVjdCBzaG91bGQgaGF2ZSBhIGBuZXh0YCBtZXRob2QuXG4gICAgICAgKiBAcmV0dXJucyB7c3Vic2NyaXB0aW9ufSBBbiBvYmplY3Qgd2l0aCBhbiBgdW5zdWJzY3JpYmVgIG1ldGhvZCB0aGF0IGNhblxuICAgICAgICogYmUgdXNlZCB0byB1bnN1YnNjcmliZSB0aGUgb2JzZXJ2YWJsZSBmcm9tIHRoZSBzdG9yZSwgYW5kIHByZXZlbnQgZnVydGhlclxuICAgICAgICogZW1pc3Npb24gb2YgdmFsdWVzIGZyb20gdGhlIG9ic2VydmFibGUuXG4gICAgICAgKi9cbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKG9ic2VydmVyKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JzZXJ2ZXIgIT09ICdvYmplY3QnIHx8IG9ic2VydmVyID09PSBudWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIG9ic2VydmVyIHRvIGJlIGFuIG9iamVjdC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG9ic2VydmVTdGF0ZSgpIHtcbiAgICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChnZXRTdGF0ZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBvYnNlcnZlU3RhdGUoKTtcbiAgICAgICAgdmFyIHVuc3Vic2NyaWJlID0gb3V0ZXJTdWJzY3JpYmUob2JzZXJ2ZVN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB1bnN1YnNjcmliZTogdW5zdWJzY3JpYmVcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9LCBfcmVmWyQkb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBfcmVmO1xuICB9IC8vIFdoZW4gYSBzdG9yZSBpcyBjcmVhdGVkLCBhbiBcIklOSVRcIiBhY3Rpb24gaXMgZGlzcGF0Y2hlZCBzbyB0aGF0IGV2ZXJ5XG4gIC8vIHJlZHVjZXIgcmV0dXJucyB0aGVpciBpbml0aWFsIHN0YXRlLiBUaGlzIGVmZmVjdGl2ZWx5IHBvcHVsYXRlc1xuICAvLyB0aGUgaW5pdGlhbCBzdGF0ZSB0cmVlLlxuXG5cbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6IEFjdGlvblR5cGVzLklOSVRcbiAgfSk7XG4gIHJldHVybiBfcmVmMiA9IHtcbiAgICBkaXNwYXRjaDogZGlzcGF0Y2gsXG4gICAgc3Vic2NyaWJlOiBzdWJzY3JpYmUsXG4gICAgZ2V0U3RhdGU6IGdldFN0YXRlLFxuICAgIHJlcGxhY2VSZWR1Y2VyOiByZXBsYWNlUmVkdWNlclxuICB9LCBfcmVmMlskJG9ic2VydmFibGVdID0gb2JzZXJ2YWJsZSwgX3JlZjI7XG59XG5cbi8qKlxuICogUHJpbnRzIGEgd2FybmluZyBpbiB0aGUgY29uc29sZSBpZiBpdCBleGlzdHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1lc3NhZ2UgVGhlIHdhcm5pbmcgbWVzc2FnZS5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiB3YXJuaW5nKG1lc3NhZ2UpIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlLmVycm9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgfVxuICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnNvbGUgKi9cblxuXG4gIHRyeSB7XG4gICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCBpZiB5b3UgZW5hYmxlXG4gICAgLy8gXCJicmVhayBvbiBhbGwgZXhjZXB0aW9uc1wiIGluIHlvdXIgY29uc29sZSxcbiAgICAvLyBpdCB3b3VsZCBwYXVzZSB0aGUgZXhlY3V0aW9uIGF0IHRoaXMgbGluZS5cbiAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gIH0gY2F0Y2ggKGUpIHt9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZW1wdHlcblxufVxuXG5mdW5jdGlvbiBnZXRVbmRlZmluZWRTdGF0ZUVycm9yTWVzc2FnZShrZXksIGFjdGlvbikge1xuICB2YXIgYWN0aW9uVHlwZSA9IGFjdGlvbiAmJiBhY3Rpb24udHlwZTtcbiAgdmFyIGFjdGlvbkRlc2NyaXB0aW9uID0gYWN0aW9uVHlwZSAmJiBcImFjdGlvbiBcXFwiXCIgKyBTdHJpbmcoYWN0aW9uVHlwZSkgKyBcIlxcXCJcIiB8fCAnYW4gYWN0aW9uJztcbiAgcmV0dXJuIFwiR2l2ZW4gXCIgKyBhY3Rpb25EZXNjcmlwdGlvbiArIFwiLCByZWR1Y2VyIFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQuIFwiICsgXCJUbyBpZ25vcmUgYW4gYWN0aW9uLCB5b3UgbXVzdCBleHBsaWNpdGx5IHJldHVybiB0aGUgcHJldmlvdXMgc3RhdGUuIFwiICsgXCJJZiB5b3Ugd2FudCB0aGlzIHJlZHVjZXIgdG8gaG9sZCBubyB2YWx1ZSwgeW91IGNhbiByZXR1cm4gbnVsbCBpbnN0ZWFkIG9mIHVuZGVmaW5lZC5cIjtcbn1cblxuZnVuY3Rpb24gZ2V0VW5leHBlY3RlZFN0YXRlU2hhcGVXYXJuaW5nTWVzc2FnZShpbnB1dFN0YXRlLCByZWR1Y2VycywgYWN0aW9uLCB1bmV4cGVjdGVkS2V5Q2FjaGUpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgYXJndW1lbnROYW1lID0gYWN0aW9uICYmIGFjdGlvbi50eXBlID09PSBBY3Rpb25UeXBlcy5JTklUID8gJ3ByZWxvYWRlZFN0YXRlIGFyZ3VtZW50IHBhc3NlZCB0byBjcmVhdGVTdG9yZScgOiAncHJldmlvdXMgc3RhdGUgcmVjZWl2ZWQgYnkgdGhlIHJlZHVjZXInO1xuXG4gIGlmIChyZWR1Y2VyS2V5cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gJ1N0b3JlIGRvZXMgbm90IGhhdmUgYSB2YWxpZCByZWR1Y2VyLiBNYWtlIHN1cmUgdGhlIGFyZ3VtZW50IHBhc3NlZCAnICsgJ3RvIGNvbWJpbmVSZWR1Y2VycyBpcyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSByZWR1Y2Vycy4nO1xuICB9XG5cbiAgaWYgKCFpc1BsYWluT2JqZWN0KGlucHV0U3RhdGUpKSB7XG4gICAgcmV0dXJuIFwiVGhlIFwiICsgYXJndW1lbnROYW1lICsgXCIgaGFzIHVuZXhwZWN0ZWQgdHlwZSBvZiBcXFwiXCIgKyB7fS50b1N0cmluZy5jYWxsKGlucHV0U3RhdGUpLm1hdGNoKC9cXHMoW2EtenxBLVpdKykvKVsxXSArIFwiXFxcIi4gRXhwZWN0ZWQgYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBcIiArIChcImtleXM6IFxcXCJcIiArIHJlZHVjZXJLZXlzLmpvaW4oJ1wiLCBcIicpICsgXCJcXFwiXCIpO1xuICB9XG5cbiAgdmFyIHVuZXhwZWN0ZWRLZXlzID0gT2JqZWN0LmtleXMoaW5wdXRTdGF0ZSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gIXJlZHVjZXJzLmhhc093blByb3BlcnR5KGtleSkgJiYgIXVuZXhwZWN0ZWRLZXlDYWNoZVtrZXldO1xuICB9KTtcbiAgdW5leHBlY3RlZEtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdW5leHBlY3RlZEtleUNhY2hlW2tleV0gPSB0cnVlO1xuICB9KTtcbiAgaWYgKGFjdGlvbiAmJiBhY3Rpb24udHlwZSA9PT0gQWN0aW9uVHlwZXMuUkVQTEFDRSkgcmV0dXJuO1xuXG4gIGlmICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIFwiVW5leHBlY3RlZCBcIiArICh1bmV4cGVjdGVkS2V5cy5sZW5ndGggPiAxID8gJ2tleXMnIDogJ2tleScpICsgXCIgXCIgKyAoXCJcXFwiXCIgKyB1bmV4cGVjdGVkS2V5cy5qb2luKCdcIiwgXCInKSArIFwiXFxcIiBmb3VuZCBpbiBcIiArIGFyZ3VtZW50TmFtZSArIFwiLiBcIikgKyBcIkV4cGVjdGVkIHRvIGZpbmQgb25lIG9mIHRoZSBrbm93biByZWR1Y2VyIGtleXMgaW5zdGVhZDogXCIgKyAoXCJcXFwiXCIgKyByZWR1Y2VyS2V5cy5qb2luKCdcIiwgXCInKSArIFwiXFxcIi4gVW5leHBlY3RlZCBrZXlzIHdpbGwgYmUgaWdub3JlZC5cIik7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0UmVkdWNlclNoYXBlKHJlZHVjZXJzKSB7XG4gIE9iamVjdC5rZXlzKHJlZHVjZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcmVkdWNlciA9IHJlZHVjZXJzW2tleV07XG4gICAgdmFyIGluaXRpYWxTdGF0ZSA9IHJlZHVjZXIodW5kZWZpbmVkLCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5JTklUXG4gICAgfSk7XG5cbiAgICBpZiAodHlwZW9mIGluaXRpYWxTdGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlZHVjZXIgXFxcIlwiICsga2V5ICsgXCJcXFwiIHJldHVybmVkIHVuZGVmaW5lZCBkdXJpbmcgaW5pdGlhbGl6YXRpb24uIFwiICsgXCJJZiB0aGUgc3RhdGUgcGFzc2VkIHRvIHRoZSByZWR1Y2VyIGlzIHVuZGVmaW5lZCwgeW91IG11c3QgXCIgKyBcImV4cGxpY2l0bHkgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLiBUaGUgaW5pdGlhbCBzdGF0ZSBtYXkgXCIgKyBcIm5vdCBiZSB1bmRlZmluZWQuIElmIHlvdSBkb24ndCB3YW50IHRvIHNldCBhIHZhbHVlIGZvciB0aGlzIHJlZHVjZXIsIFwiICsgXCJ5b3UgY2FuIHVzZSBudWxsIGluc3RlYWQgb2YgdW5kZWZpbmVkLlwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHJlZHVjZXIodW5kZWZpbmVkLCB7XG4gICAgICB0eXBlOiBBY3Rpb25UeXBlcy5QUk9CRV9VTktOT1dOX0FDVElPTigpXG4gICAgfSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSZWR1Y2VyIFxcXCJcIiArIGtleSArIFwiXFxcIiByZXR1cm5lZCB1bmRlZmluZWQgd2hlbiBwcm9iZWQgd2l0aCBhIHJhbmRvbSB0eXBlLiBcIiArIChcIkRvbid0IHRyeSB0byBoYW5kbGUgXCIgKyBBY3Rpb25UeXBlcy5JTklUICsgXCIgb3Igb3RoZXIgYWN0aW9ucyBpbiBcXFwicmVkdXgvKlxcXCIgXCIpICsgXCJuYW1lc3BhY2UuIFRoZXkgYXJlIGNvbnNpZGVyZWQgcHJpdmF0ZS4gSW5zdGVhZCwgeW91IG11c3QgcmV0dXJuIHRoZSBcIiArIFwiY3VycmVudCBzdGF0ZSBmb3IgYW55IHVua25vd24gYWN0aW9ucywgdW5sZXNzIGl0IGlzIHVuZGVmaW5lZCwgXCIgKyBcImluIHdoaWNoIGNhc2UgeW91IG11c3QgcmV0dXJuIHRoZSBpbml0aWFsIHN0YXRlLCByZWdhcmRsZXNzIG9mIHRoZSBcIiArIFwiYWN0aW9uIHR5cGUuIFRoZSBpbml0aWFsIHN0YXRlIG1heSBub3QgYmUgdW5kZWZpbmVkLCBidXQgY2FuIGJlIG51bGwuXCIpO1xuICAgIH1cbiAgfSk7XG59XG4vKipcbiAqIFR1cm5zIGFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGRpZmZlcmVudCByZWR1Y2VyIGZ1bmN0aW9ucywgaW50byBhIHNpbmdsZVxuICogcmVkdWNlciBmdW5jdGlvbi4gSXQgd2lsbCBjYWxsIGV2ZXJ5IGNoaWxkIHJlZHVjZXIsIGFuZCBnYXRoZXIgdGhlaXIgcmVzdWx0c1xuICogaW50byBhIHNpbmdsZSBzdGF0ZSBvYmplY3QsIHdob3NlIGtleXMgY29ycmVzcG9uZCB0byB0aGUga2V5cyBvZiB0aGUgcGFzc2VkXG4gKiByZWR1Y2VyIGZ1bmN0aW9ucy5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gcmVkdWNlcnMgQW4gb2JqZWN0IHdob3NlIHZhbHVlcyBjb3JyZXNwb25kIHRvIGRpZmZlcmVudFxuICogcmVkdWNlciBmdW5jdGlvbnMgdGhhdCBuZWVkIHRvIGJlIGNvbWJpbmVkIGludG8gb25lLiBPbmUgaGFuZHkgd2F5IHRvIG9idGFpblxuICogaXQgaXMgdG8gdXNlIEVTNiBgaW1wb3J0ICogYXMgcmVkdWNlcnNgIHN5bnRheC4gVGhlIHJlZHVjZXJzIG1heSBuZXZlciByZXR1cm5cbiAqIHVuZGVmaW5lZCBmb3IgYW55IGFjdGlvbi4gSW5zdGVhZCwgdGhleSBzaG91bGQgcmV0dXJuIHRoZWlyIGluaXRpYWwgc3RhdGVcbiAqIGlmIHRoZSBzdGF0ZSBwYXNzZWQgdG8gdGhlbSB3YXMgdW5kZWZpbmVkLCBhbmQgdGhlIGN1cnJlbnQgc3RhdGUgZm9yIGFueVxuICogdW5yZWNvZ25pemVkIGFjdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgcmVkdWNlciBmdW5jdGlvbiB0aGF0IGludm9rZXMgZXZlcnkgcmVkdWNlciBpbnNpZGUgdGhlXG4gKiBwYXNzZWQgb2JqZWN0LCBhbmQgYnVpbGRzIGEgc3RhdGUgb2JqZWN0IHdpdGggdGhlIHNhbWUgc2hhcGUuXG4gKi9cblxuXG5mdW5jdGlvbiBjb21iaW5lUmVkdWNlcnMocmVkdWNlcnMpIHtcbiAgdmFyIHJlZHVjZXJLZXlzID0gT2JqZWN0LmtleXMocmVkdWNlcnMpO1xuICB2YXIgZmluYWxSZWR1Y2VycyA9IHt9O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVkdWNlcktleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcmVkdWNlcktleXNbaV07XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgaWYgKHR5cGVvZiByZWR1Y2Vyc1trZXldID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB3YXJuaW5nKFwiTm8gcmVkdWNlciBwcm92aWRlZCBmb3Iga2V5IFxcXCJcIiArIGtleSArIFwiXFxcIlwiKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHJlZHVjZXJzW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZpbmFsUmVkdWNlcnNba2V5XSA9IHJlZHVjZXJzW2tleV07XG4gICAgfVxuICB9XG5cbiAgdmFyIGZpbmFsUmVkdWNlcktleXMgPSBPYmplY3Qua2V5cyhmaW5hbFJlZHVjZXJzKTsgLy8gVGhpcyBpcyB1c2VkIHRvIG1ha2Ugc3VyZSB3ZSBkb24ndCB3YXJuIGFib3V0IHRoZSBzYW1lXG4gIC8vIGtleXMgbXVsdGlwbGUgdGltZXMuXG5cbiAgdmFyIHVuZXhwZWN0ZWRLZXlDYWNoZTtcblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIHVuZXhwZWN0ZWRLZXlDYWNoZSA9IHt9O1xuICB9XG5cbiAgdmFyIHNoYXBlQXNzZXJ0aW9uRXJyb3I7XG5cbiAgdHJ5IHtcbiAgICBhc3NlcnRSZWR1Y2VyU2hhcGUoZmluYWxSZWR1Y2Vycyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBzaGFwZUFzc2VydGlvbkVycm9yID0gZTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiBjb21iaW5hdGlvbihzdGF0ZSwgYWN0aW9uKSB7XG4gICAgaWYgKHN0YXRlID09PSB2b2lkIDApIHtcbiAgICAgIHN0YXRlID0ge307XG4gICAgfVxuXG4gICAgaWYgKHNoYXBlQXNzZXJ0aW9uRXJyb3IpIHtcbiAgICAgIHRocm93IHNoYXBlQXNzZXJ0aW9uRXJyb3I7XG4gICAgfVxuXG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciB3YXJuaW5nTWVzc2FnZSA9IGdldFVuZXhwZWN0ZWRTdGF0ZVNoYXBlV2FybmluZ01lc3NhZ2Uoc3RhdGUsIGZpbmFsUmVkdWNlcnMsIGFjdGlvbiwgdW5leHBlY3RlZEtleUNhY2hlKTtcblxuICAgICAgaWYgKHdhcm5pbmdNZXNzYWdlKSB7XG4gICAgICAgIHdhcm5pbmcod2FybmluZ01lc3NhZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgdmFyIG5leHRTdGF0ZSA9IHt9O1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGZpbmFsUmVkdWNlcktleXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2tleSA9IGZpbmFsUmVkdWNlcktleXNbX2ldO1xuICAgICAgdmFyIHJlZHVjZXIgPSBmaW5hbFJlZHVjZXJzW19rZXldO1xuICAgICAgdmFyIHByZXZpb3VzU3RhdGVGb3JLZXkgPSBzdGF0ZVtfa2V5XTtcbiAgICAgIHZhciBuZXh0U3RhdGVGb3JLZXkgPSByZWR1Y2VyKHByZXZpb3VzU3RhdGVGb3JLZXksIGFjdGlvbik7XG5cbiAgICAgIGlmICh0eXBlb2YgbmV4dFN0YXRlRm9yS2V5ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZ2V0VW5kZWZpbmVkU3RhdGVFcnJvck1lc3NhZ2UoX2tleSwgYWN0aW9uKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICB9XG5cbiAgICAgIG5leHRTdGF0ZVtfa2V5XSA9IG5leHRTdGF0ZUZvcktleTtcbiAgICAgIGhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkIHx8IG5leHRTdGF0ZUZvcktleSAhPT0gcHJldmlvdXNTdGF0ZUZvcktleTtcbiAgICB9XG5cbiAgICBoYXNDaGFuZ2VkID0gaGFzQ2hhbmdlZCB8fCBmaW5hbFJlZHVjZXJLZXlzLmxlbmd0aCAhPT0gT2JqZWN0LmtleXMoc3RhdGUpLmxlbmd0aDtcbiAgICByZXR1cm4gaGFzQ2hhbmdlZCA/IG5leHRTdGF0ZSA6IHN0YXRlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9yLCBkaXNwYXRjaCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBkaXNwYXRjaChhY3Rpb25DcmVhdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9O1xufVxuLyoqXG4gKiBUdXJucyBhbiBvYmplY3Qgd2hvc2UgdmFsdWVzIGFyZSBhY3Rpb24gY3JlYXRvcnMsIGludG8gYW4gb2JqZWN0IHdpdGggdGhlXG4gKiBzYW1lIGtleXMsIGJ1dCB3aXRoIGV2ZXJ5IGZ1bmN0aW9uIHdyYXBwZWQgaW50byBhIGBkaXNwYXRjaGAgY2FsbCBzbyB0aGV5XG4gKiBtYXkgYmUgaW52b2tlZCBkaXJlY3RseS4gVGhpcyBpcyBqdXN0IGEgY29udmVuaWVuY2UgbWV0aG9kLCBhcyB5b3UgY2FuIGNhbGxcbiAqIGBzdG9yZS5kaXNwYXRjaChNeUFjdGlvbkNyZWF0b3JzLmRvU29tZXRoaW5nKCkpYCB5b3Vyc2VsZiBqdXN0IGZpbmUuXG4gKlxuICogRm9yIGNvbnZlbmllbmNlLCB5b3UgY2FuIGFsc28gcGFzcyBhbiBhY3Rpb24gY3JlYXRvciBhcyB0aGUgZmlyc3QgYXJndW1lbnQsXG4gKiBhbmQgZ2V0IGEgZGlzcGF0Y2ggd3JhcHBlZCBmdW5jdGlvbiBpbiByZXR1cm4uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbnxPYmplY3R9IGFjdGlvbkNyZWF0b3JzIEFuIG9iamVjdCB3aG9zZSB2YWx1ZXMgYXJlIGFjdGlvblxuICogY3JlYXRvciBmdW5jdGlvbnMuIE9uZSBoYW5keSB3YXkgdG8gb2J0YWluIGl0IGlzIHRvIHVzZSBFUzYgYGltcG9ydCAqIGFzYFxuICogc3ludGF4LiBZb3UgbWF5IGFsc28gcGFzcyBhIHNpbmdsZSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXNwYXRjaCBUaGUgYGRpc3BhdGNoYCBmdW5jdGlvbiBhdmFpbGFibGUgb24geW91ciBSZWR1eFxuICogc3RvcmUuXG4gKlxuICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gVGhlIG9iamVjdCBtaW1pY2tpbmcgdGhlIG9yaWdpbmFsIG9iamVjdCwgYnV0IHdpdGhcbiAqIGV2ZXJ5IGFjdGlvbiBjcmVhdG9yIHdyYXBwZWQgaW50byB0aGUgYGRpc3BhdGNoYCBjYWxsLiBJZiB5b3UgcGFzc2VkIGFcbiAqIGZ1bmN0aW9uIGFzIGBhY3Rpb25DcmVhdG9yc2AsIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBhbHNvIGJlIGEgc2luZ2xlXG4gKiBmdW5jdGlvbi5cbiAqL1xuXG5cbmZ1bmN0aW9uIGJpbmRBY3Rpb25DcmVhdG9ycyhhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpIHtcbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBiaW5kQWN0aW9uQ3JlYXRvcihhY3Rpb25DcmVhdG9ycywgZGlzcGF0Y2gpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBhY3Rpb25DcmVhdG9ycyAhPT0gJ29iamVjdCcgfHwgYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJiaW5kQWN0aW9uQ3JlYXRvcnMgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24sIGluc3RlYWQgcmVjZWl2ZWQgXCIgKyAoYWN0aW9uQ3JlYXRvcnMgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgYWN0aW9uQ3JlYXRvcnMpICsgXCIuIFwiICsgXCJEaWQgeW91IHdyaXRlIFxcXCJpbXBvcnQgQWN0aW9uQ3JlYXRvcnMgZnJvbVxcXCIgaW5zdGVhZCBvZiBcXFwiaW1wb3J0ICogYXMgQWN0aW9uQ3JlYXRvcnMgZnJvbVxcXCI/XCIpO1xuICB9XG5cbiAgdmFyIGJvdW5kQWN0aW9uQ3JlYXRvcnMgPSB7fTtcblxuICBmb3IgKHZhciBrZXkgaW4gYWN0aW9uQ3JlYXRvcnMpIHtcbiAgICB2YXIgYWN0aW9uQ3JlYXRvciA9IGFjdGlvbkNyZWF0b3JzW2tleV07XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbkNyZWF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGJvdW5kQWN0aW9uQ3JlYXRvcnNba2V5XSA9IGJpbmRBY3Rpb25DcmVhdG9yKGFjdGlvbkNyZWF0b3IsIGRpc3BhdGNoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYm91bmRBY3Rpb25DcmVhdG9ycztcbn1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICBrZXlzLnB1c2guYXBwbHkoa2V5cywgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpKTtcbiAgfVxuXG4gIGlmIChlbnVtZXJhYmxlT25seSkga2V5cyA9IGtleXMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTtcbiAgfSk7XG4gIHJldHVybiBrZXlzO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkMih0YXJnZXQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTtcblxuICAgIGlmIChpICUgMikge1xuICAgICAgb3duS2V5cyhzb3VyY2UsIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG93bktleXMoc291cmNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vKipcbiAqIENvbXBvc2VzIHNpbmdsZS1hcmd1bWVudCBmdW5jdGlvbnMgZnJvbSByaWdodCB0byBsZWZ0LiBUaGUgcmlnaHRtb3N0XG4gKiBmdW5jdGlvbiBjYW4gdGFrZSBtdWx0aXBsZSBhcmd1bWVudHMgYXMgaXQgcHJvdmlkZXMgdGhlIHNpZ25hdHVyZSBmb3JcbiAqIHRoZSByZXN1bHRpbmcgY29tcG9zaXRlIGZ1bmN0aW9uLlxuICpcbiAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IGZ1bmNzIFRoZSBmdW5jdGlvbnMgdG8gY29tcG9zZS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBmdW5jdGlvbiBvYnRhaW5lZCBieSBjb21wb3NpbmcgdGhlIGFyZ3VtZW50IGZ1bmN0aW9uc1xuICogZnJvbSByaWdodCB0byBsZWZ0LiBGb3IgZXhhbXBsZSwgY29tcG9zZShmLCBnLCBoKSBpcyBpZGVudGljYWwgdG8gZG9pbmdcbiAqICguLi5hcmdzKSA9PiBmKGcoaCguLi5hcmdzKSkpLlxuICovXG5mdW5jdGlvbiBjb21wb3NlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZnVuY3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgZnVuY3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICBpZiAoZnVuY3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgIHJldHVybiBhcmc7XG4gICAgfTtcbiAgfVxuXG4gIGlmIChmdW5jcy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gZnVuY3NbMF07XG4gIH1cblxuICByZXR1cm4gZnVuY3MucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhKGIuYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9KTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc3RvcmUgZW5oYW5jZXIgdGhhdCBhcHBsaWVzIG1pZGRsZXdhcmUgdG8gdGhlIGRpc3BhdGNoIG1ldGhvZFxuICogb2YgdGhlIFJlZHV4IHN0b3JlLiBUaGlzIGlzIGhhbmR5IGZvciBhIHZhcmlldHkgb2YgdGFza3MsIHN1Y2ggYXMgZXhwcmVzc2luZ1xuICogYXN5bmNocm9ub3VzIGFjdGlvbnMgaW4gYSBjb25jaXNlIG1hbm5lciwgb3IgbG9nZ2luZyBldmVyeSBhY3Rpb24gcGF5bG9hZC5cbiAqXG4gKiBTZWUgYHJlZHV4LXRodW5rYCBwYWNrYWdlIGFzIGFuIGV4YW1wbGUgb2YgdGhlIFJlZHV4IG1pZGRsZXdhcmUuXG4gKlxuICogQmVjYXVzZSBtaWRkbGV3YXJlIGlzIHBvdGVudGlhbGx5IGFzeW5jaHJvbm91cywgdGhpcyBzaG91bGQgYmUgdGhlIGZpcnN0XG4gKiBzdG9yZSBlbmhhbmNlciBpbiB0aGUgY29tcG9zaXRpb24gY2hhaW4uXG4gKlxuICogTm90ZSB0aGF0IGVhY2ggbWlkZGxld2FyZSB3aWxsIGJlIGdpdmVuIHRoZSBgZGlzcGF0Y2hgIGFuZCBgZ2V0U3RhdGVgIGZ1bmN0aW9uc1xuICogYXMgbmFtZWQgYXJndW1lbnRzLlxuICpcbiAqIEBwYXJhbSB7Li4uRnVuY3Rpb259IG1pZGRsZXdhcmVzIFRoZSBtaWRkbGV3YXJlIGNoYWluIHRvIGJlIGFwcGxpZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgc3RvcmUgZW5oYW5jZXIgYXBwbHlpbmcgdGhlIG1pZGRsZXdhcmUuXG4gKi9cblxuZnVuY3Rpb24gYXBwbHlNaWRkbGV3YXJlKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZXMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWlkZGxld2FyZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGNyZWF0ZVN0b3JlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdG9yZSA9IGNyZWF0ZVN0b3JlLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcblxuICAgICAgdmFyIF9kaXNwYXRjaCA9IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Rpc3BhdGNoaW5nIHdoaWxlIGNvbnN0cnVjdGluZyB5b3VyIG1pZGRsZXdhcmUgaXMgbm90IGFsbG93ZWQuICcgKyAnT3RoZXIgbWlkZGxld2FyZSB3b3VsZCBub3QgYmUgYXBwbGllZCB0byB0aGlzIGRpc3BhdGNoLicpO1xuICAgICAgfTtcblxuICAgICAgdmFyIG1pZGRsZXdhcmVBUEkgPSB7XG4gICAgICAgIGdldFN0YXRlOiBzdG9yZS5nZXRTdGF0ZSxcbiAgICAgICAgZGlzcGF0Y2g6IGZ1bmN0aW9uIGRpc3BhdGNoKCkge1xuICAgICAgICAgIHJldHVybiBfZGlzcGF0Y2guYXBwbHkodm9pZCAwLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIGNoYWluID0gbWlkZGxld2FyZXMubWFwKGZ1bmN0aW9uIChtaWRkbGV3YXJlKSB7XG4gICAgICAgIHJldHVybiBtaWRkbGV3YXJlKG1pZGRsZXdhcmVBUEkpO1xuICAgICAgfSk7XG4gICAgICBfZGlzcGF0Y2ggPSBjb21wb3NlLmFwcGx5KHZvaWQgMCwgY2hhaW4pKHN0b3JlLmRpc3BhdGNoKTtcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkMih7fSwgc3RvcmUsIHtcbiAgICAgICAgZGlzcGF0Y2g6IF9kaXNwYXRjaFxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcbn1cblxuLypcbiAqIFRoaXMgaXMgYSBkdW1teSBmdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgZnVuY3Rpb24gbmFtZSBoYXMgYmVlbiBhbHRlcmVkIGJ5IG1pbmlmaWNhdGlvbi5cbiAqIElmIHRoZSBmdW5jdGlvbiBoYXMgYmVlbiBtaW5pZmllZCBhbmQgTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJywgd2FybiB0aGUgdXNlci5cbiAqL1xuXG5mdW5jdGlvbiBpc0NydXNoZWQoKSB7fVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgaXNDcnVzaGVkLm5hbWUgPT09ICdzdHJpbmcnICYmIGlzQ3J1c2hlZC5uYW1lICE9PSAnaXNDcnVzaGVkJykge1xuICB3YXJuaW5nKCdZb3UgYXJlIGN1cnJlbnRseSB1c2luZyBtaW5pZmllZCBjb2RlIG91dHNpZGUgb2YgTk9ERV9FTlYgPT09IFwicHJvZHVjdGlvblwiLiAnICsgJ1RoaXMgbWVhbnMgdGhhdCB5b3UgYXJlIHJ1bm5pbmcgYSBzbG93ZXIgZGV2ZWxvcG1lbnQgYnVpbGQgb2YgUmVkdXguICcgKyAnWW91IGNhbiB1c2UgbG9vc2UtZW52aWZ5IChodHRwczovL2dpdGh1Yi5jb20vemVydG9zaC9sb29zZS1lbnZpZnkpIGZvciBicm93c2VyaWZ5ICcgKyAnb3Igc2V0dGluZyBtb2RlIHRvIHByb2R1Y3Rpb24gaW4gd2VicGFjayAoaHR0cHM6Ly93ZWJwYWNrLmpzLm9yZy9jb25jZXB0cy9tb2RlLykgJyArICd0byBlbnN1cmUgeW91IGhhdmUgdGhlIGNvcnJlY3QgY29kZSBmb3IgeW91ciBwcm9kdWN0aW9uIGJ1aWxkLicpO1xufVxuXG5leHBvcnQgeyBBY3Rpb25UeXBlcyBhcyBfX0RPX05PVF9VU0VfX0FjdGlvblR5cGVzLCBhcHBseU1pZGRsZXdhcmUsIGJpbmRBY3Rpb25DcmVhdG9ycywgY29tYmluZVJlZHVjZXJzLCBjb21wb3NlLCBjcmVhdGVTdG9yZSB9O1xuIiwiZnVuY3Rpb24gZGVmYXVsdEVxdWFsaXR5Q2hlY2soYSwgYikge1xuICByZXR1cm4gYSA9PT0gYjtcbn1cblxuZnVuY3Rpb24gYXJlQXJndW1lbnRzU2hhbGxvd2x5RXF1YWwoZXF1YWxpdHlDaGVjaywgcHJldiwgbmV4dCkge1xuICBpZiAocHJldiA9PT0gbnVsbCB8fCBuZXh0ID09PSBudWxsIHx8IHByZXYubGVuZ3RoICE9PSBuZXh0Lmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIERvIHRoaXMgaW4gYSBmb3IgbG9vcCAoYW5kIG5vdCBhIGBmb3JFYWNoYCBvciBhbiBgZXZlcnlgKSBzbyB3ZSBjYW4gZGV0ZXJtaW5lIGVxdWFsaXR5IGFzIGZhc3QgYXMgcG9zc2libGUuXG4gIHZhciBsZW5ndGggPSBwcmV2Lmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmICghZXF1YWxpdHlDaGVjayhwcmV2W2ldLCBuZXh0W2ldKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdE1lbW9pemUoZnVuYykge1xuICB2YXIgZXF1YWxpdHlDaGVjayA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZGVmYXVsdEVxdWFsaXR5Q2hlY2s7XG5cbiAgdmFyIGxhc3RBcmdzID0gbnVsbDtcbiAgdmFyIGxhc3RSZXN1bHQgPSBudWxsO1xuICAvLyB3ZSByZWZlcmVuY2UgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIHRoZW0gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWFyZUFyZ3VtZW50c1NoYWxsb3dseUVxdWFsKGVxdWFsaXR5Q2hlY2ssIGxhc3RBcmdzLCBhcmd1bWVudHMpKSB7XG4gICAgICAvLyBhcHBseSBhcmd1bWVudHMgaW5zdGVhZCBvZiBzcHJlYWRpbmcgZm9yIHBlcmZvcm1hbmNlLlxuICAgICAgbGFzdFJlc3VsdCA9IGZ1bmMuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0RGVwZW5kZW5jaWVzKGZ1bmNzKSB7XG4gIHZhciBkZXBlbmRlbmNpZXMgPSBBcnJheS5pc0FycmF5KGZ1bmNzWzBdKSA/IGZ1bmNzWzBdIDogZnVuY3M7XG5cbiAgaWYgKCFkZXBlbmRlbmNpZXMuZXZlcnkoZnVuY3Rpb24gKGRlcCkge1xuICAgIHJldHVybiB0eXBlb2YgZGVwID09PSAnZnVuY3Rpb24nO1xuICB9KSkge1xuICAgIHZhciBkZXBlbmRlbmN5VHlwZXMgPSBkZXBlbmRlbmNpZXMubWFwKGZ1bmN0aW9uIChkZXApIHtcbiAgICAgIHJldHVybiB0eXBlb2YgZGVwO1xuICAgIH0pLmpvaW4oJywgJyk7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZWxlY3RvciBjcmVhdG9ycyBleHBlY3QgYWxsIGlucHV0LXNlbGVjdG9ycyB0byBiZSBmdW5jdGlvbnMsICcgKyAoJ2luc3RlYWQgcmVjZWl2ZWQgdGhlIGZvbGxvd2luZyB0eXBlczogWycgKyBkZXBlbmRlbmN5VHlwZXMgKyAnXScpKTtcbiAgfVxuXG4gIHJldHVybiBkZXBlbmRlbmNpZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZWxlY3RvckNyZWF0b3IobWVtb2l6ZSkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWVtb2l6ZU9wdGlvbnMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWVtb2l6ZU9wdGlvbnNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGZ1bmNzID0gQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgIGZ1bmNzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuXG4gICAgdmFyIHJlY29tcHV0YXRpb25zID0gMDtcbiAgICB2YXIgcmVzdWx0RnVuYyA9IGZ1bmNzLnBvcCgpO1xuICAgIHZhciBkZXBlbmRlbmNpZXMgPSBnZXREZXBlbmRlbmNpZXMoZnVuY3MpO1xuXG4gICAgdmFyIG1lbW9pemVkUmVzdWx0RnVuYyA9IG1lbW9pemUuYXBwbHkodW5kZWZpbmVkLCBbZnVuY3Rpb24gKCkge1xuICAgICAgcmVjb21wdXRhdGlvbnMrKztcbiAgICAgIC8vIGFwcGx5IGFyZ3VtZW50cyBpbnN0ZWFkIG9mIHNwcmVhZGluZyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICByZXR1cm4gcmVzdWx0RnVuYy5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICAgIH1dLmNvbmNhdChtZW1vaXplT3B0aW9ucykpO1xuXG4gICAgLy8gSWYgYSBzZWxlY3RvciBpcyBjYWxsZWQgd2l0aCB0aGUgZXhhY3Qgc2FtZSBhcmd1bWVudHMgd2UgZG9uJ3QgbmVlZCB0byB0cmF2ZXJzZSBvdXIgZGVwZW5kZW5jaWVzIGFnYWluLlxuICAgIHZhciBzZWxlY3RvciA9IG1lbW9pemUoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgICAgdmFyIGxlbmd0aCA9IGRlcGVuZGVuY2llcy5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGFuZCBtdXRhdGUgYSBsb2NhbCBsaXN0IG9mIHBhcmFtcyBmb3IgcGVyZm9ybWFuY2UuXG4gICAgICAgIHBhcmFtcy5wdXNoKGRlcGVuZGVuY2llc1tpXS5hcHBseShudWxsLCBhcmd1bWVudHMpKTtcbiAgICAgIH1cblxuICAgICAgLy8gYXBwbHkgYXJndW1lbnRzIGluc3RlYWQgb2Ygc3ByZWFkaW5nIGZvciBwZXJmb3JtYW5jZS5cbiAgICAgIHJldHVybiBtZW1vaXplZFJlc3VsdEZ1bmMuYXBwbHkobnVsbCwgcGFyYW1zKTtcbiAgICB9KTtcblxuICAgIHNlbGVjdG9yLnJlc3VsdEZ1bmMgPSByZXN1bHRGdW5jO1xuICAgIHNlbGVjdG9yLmRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llcztcbiAgICBzZWxlY3Rvci5yZWNvbXB1dGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZWNvbXB1dGF0aW9ucztcbiAgICB9O1xuICAgIHNlbGVjdG9yLnJlc2V0UmVjb21wdXRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVjb21wdXRhdGlvbnMgPSAwO1xuICAgIH07XG4gICAgcmV0dXJuIHNlbGVjdG9yO1xuICB9O1xufVxuXG5leHBvcnQgdmFyIGNyZWF0ZVNlbGVjdG9yID0gY3JlYXRlU2VsZWN0b3JDcmVhdG9yKGRlZmF1bHRNZW1vaXplKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3RvcihzZWxlY3RvcnMpIHtcbiAgdmFyIHNlbGVjdG9yQ3JlYXRvciA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogY3JlYXRlU2VsZWN0b3I7XG5cbiAgaWYgKHR5cGVvZiBzZWxlY3RvcnMgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgZXhwZWN0cyBmaXJzdCBhcmd1bWVudCB0byBiZSBhbiBvYmplY3QgJyArICgnd2hlcmUgZWFjaCBwcm9wZXJ0eSBpcyBhIHNlbGVjdG9yLCBpbnN0ZWFkIHJlY2VpdmVkIGEgJyArIHR5cGVvZiBzZWxlY3RvcnMpKTtcbiAgfVxuICB2YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzKHNlbGVjdG9ycyk7XG4gIHJldHVybiBzZWxlY3RvckNyZWF0b3Iob2JqZWN0S2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBzZWxlY3RvcnNba2V5XTtcbiAgfSksIGZ1bmN0aW9uICgpIHtcbiAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIHZhbHVlcyA9IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICB2YWx1ZXNbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzLnJlZHVjZShmdW5jdGlvbiAoY29tcG9zaXRpb24sIHZhbHVlLCBpbmRleCkge1xuICAgICAgY29tcG9zaXRpb25bb2JqZWN0S2V5c1tpbmRleF1dID0gdmFsdWU7XG4gICAgICByZXR1cm4gY29tcG9zaXRpb247XG4gICAgfSwge30pO1xuICB9KTtcbn0iLCJmdW5jdGlvbiBjcmVhdGVUaHVua01pZGRsZXdhcmUoZXh0cmFBcmd1bWVudCkge1xuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoLFxuICAgICAgICBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGU7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBhY3Rpb24oZGlzcGF0Y2gsIGdldFN0YXRlLCBleHRyYUFyZ3VtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXh0KGFjdGlvbik7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59XG5cbnZhciB0aHVuayA9IGNyZWF0ZVRodW5rTWlkZGxld2FyZSgpO1xudGh1bmsud2l0aEV4dHJhQXJndW1lbnQgPSBjcmVhdGVUaHVua01pZGRsZXdhcmU7XG5cbmV4cG9ydCBkZWZhdWx0IHRodW5rOyIsImltcG9ydCBjcmVhdGVOZXh0U3RhdGUsIHsgaXNEcmFmdCwgY3VycmVudCwgaXNEcmFmdGFibGUsIGVuYWJsZUVTNSB9IGZyb20gJ2ltbWVyJztcbmV4cG9ydCB7IGRlZmF1bHQgYXMgY3JlYXRlTmV4dFN0YXRlLCBjdXJyZW50LCBmcmVlemUgfSBmcm9tICdpbW1lcic7XG5pbXBvcnQgeyBjb21wb3NlLCBjb21iaW5lUmVkdWNlcnMsIGFwcGx5TWlkZGxld2FyZSwgY3JlYXRlU3RvcmUgfSBmcm9tICdyZWR1eCc7XG5leHBvcnQgKiBmcm9tICdyZWR1eCc7XG5pbXBvcnQgeyBjcmVhdGVTZWxlY3RvciB9IGZyb20gJ3Jlc2VsZWN0JztcbmV4cG9ydCB7IGNyZWF0ZVNlbGVjdG9yIH0gZnJvbSAncmVzZWxlY3QnO1xuaW1wb3J0IHRodW5rTWlkZGxld2FyZSBmcm9tICdyZWR1eC10aHVuayc7XG5cbi8qKlxyXG4gKiBcIkRyYWZ0LVNhZmVcIiB2ZXJzaW9uIG9mIGByZXNlbGVjdGAncyBgY3JlYXRlU2VsZWN0b3JgOlxyXG4gKiBJZiBhbiBgaW1tZXJgLWRyYWZ0ZWQgb2JqZWN0IGlzIHBhc3NlZCBpbnRvIHRoZSByZXN1bHRpbmcgc2VsZWN0b3IncyBmaXJzdCBhcmd1bWVudCxcclxuICogdGhlIHNlbGVjdG9yIHdpbGwgYWN0IG9uIHRoZSBjdXJyZW50IGRyYWZ0IHZhbHVlLCBpbnN0ZWFkIG9mIHJldHVybmluZyBhIGNhY2hlZCB2YWx1ZVxyXG4gKiB0aGF0IG1pZ2h0IGJlIHBvc3NpYmx5IG91dGRhdGVkIGlmIHRoZSBkcmFmdCBoYXMgYmVlbiBtb2RpZmllZCBzaW5jZS5cclxuICogQHB1YmxpY1xyXG4gKi9cblxudmFyIGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yID0gZnVuY3Rpb24gY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3IoKSB7XG4gIHZhciBzZWxlY3RvciA9IGNyZWF0ZVNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcblxuICB2YXIgd3JhcHBlZFNlbGVjdG9yID0gZnVuY3Rpb24gd3JhcHBlZFNlbGVjdG9yKHZhbHVlKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHJlc3QgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgcmVzdFtfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgW2lzRHJhZnQodmFsdWUpID8gY3VycmVudCh2YWx1ZSkgOiB2YWx1ZV0uY29uY2F0KHJlc3QpKTtcbiAgfTtcblxuICByZXR1cm4gd3JhcHBlZFNlbGVjdG9yO1xufTtcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzO1xufVxuXG5mdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YgOiBmdW5jdGlvbiBfZ2V0UHJvdG90eXBlT2Yobykge1xuICAgIHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7XG4gIH07XG4gIHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7XG59XG5cbmZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7XG4gIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICAgIG8uX19wcm90b19fID0gcDtcbiAgICByZXR1cm4gbztcbiAgfTtcblxuICByZXR1cm4gX3NldFByb3RvdHlwZU9mKG8sIHApO1xufVxuXG5mdW5jdGlvbiBpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJ1bmRlZmluZWRcIiB8fCAhUmVmbGVjdC5jb25zdHJ1Y3QpIHJldHVybiBmYWxzZTtcbiAgaWYgKFJlZmxlY3QuY29uc3RydWN0LnNoYW0pIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiBQcm94eSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gdHJ1ZTtcblxuICB0cnkge1xuICAgIERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoRGF0ZSwgW10sIGZ1bmN0aW9uICgpIHt9KSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gIGlmIChpc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSkge1xuICAgIF9jb25zdHJ1Y3QgPSBSZWZsZWN0LmNvbnN0cnVjdDtcbiAgfSBlbHNlIHtcbiAgICBfY29uc3RydWN0ID0gZnVuY3Rpb24gX2NvbnN0cnVjdChQYXJlbnQsIGFyZ3MsIENsYXNzKSB7XG4gICAgICB2YXIgYSA9IFtudWxsXTtcbiAgICAgIGEucHVzaC5hcHBseShhLCBhcmdzKTtcbiAgICAgIHZhciBDb25zdHJ1Y3RvciA9IEZ1bmN0aW9uLmJpbmQuYXBwbHkoUGFyZW50LCBhKTtcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgICAgaWYgKENsYXNzKSBfc2V0UHJvdG90eXBlT2YoaW5zdGFuY2UsIENsYXNzLnByb3RvdHlwZSk7XG4gICAgICByZXR1cm4gaW5zdGFuY2U7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfY29uc3RydWN0LmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9pc05hdGl2ZUZ1bmN0aW9uKGZuKSB7XG4gIHJldHVybiBGdW5jdGlvbi50b1N0cmluZy5jYWxsKGZuKS5pbmRleE9mKFwiW25hdGl2ZSBjb2RlXVwiKSAhPT0gLTE7XG59XG5cbmZ1bmN0aW9uIF93cmFwTmF0aXZlU3VwZXIoQ2xhc3MpIHtcbiAgdmFyIF9jYWNoZSA9IHR5cGVvZiBNYXAgPT09IFwiZnVuY3Rpb25cIiA/IG5ldyBNYXAoKSA6IHVuZGVmaW5lZDtcblxuICBfd3JhcE5hdGl2ZVN1cGVyID0gZnVuY3Rpb24gX3dyYXBOYXRpdmVTdXBlcihDbGFzcykge1xuICAgIGlmIChDbGFzcyA9PT0gbnVsbCB8fCAhX2lzTmF0aXZlRnVuY3Rpb24oQ2xhc3MpKSByZXR1cm4gQ2xhc3M7XG5cbiAgICBpZiAodHlwZW9mIENsYXNzICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIF9jYWNoZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgaWYgKF9jYWNoZS5oYXMoQ2xhc3MpKSByZXR1cm4gX2NhY2hlLmdldChDbGFzcyk7XG5cbiAgICAgIF9jYWNoZS5zZXQoQ2xhc3MsIFdyYXBwZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFdyYXBwZXIoKSB7XG4gICAgICByZXR1cm4gX2NvbnN0cnVjdChDbGFzcywgYXJndW1lbnRzLCBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3IpO1xuICAgIH1cblxuICAgIFdyYXBwZXIucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShDbGFzcy5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBXcmFwcGVyLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfc2V0UHJvdG90eXBlT2YoV3JhcHBlciwgQ2xhc3MpO1xuICB9O1xuXG4gIHJldHVybiBfd3JhcE5hdGl2ZVN1cGVyKENsYXNzKTtcbn1cblxuLyoqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cbnZhciBjb21wb3NlV2l0aERldlRvb2xzID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Ll9fUkVEVVhfREVWVE9PTFNfRVhURU5TSU9OX0NPTVBPU0VfXyA/IHdpbmRvdy5fX1JFRFVYX0RFVlRPT0xTX0VYVEVOU0lPTl9DT01QT1NFX18gOiBmdW5jdGlvbiAoKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSByZXR1cm4gdW5kZWZpbmVkO1xuICBpZiAodHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ29iamVjdCcpIHJldHVybiBjb21wb3NlO1xuICByZXR1cm4gY29tcG9zZS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xufTtcblxuLyoqXHJcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcGFzc2VkIHZhbHVlIGlzIFwicGxhaW5cIiBvYmplY3QsIGkuZS4gYW4gb2JqZWN0IHdob3NlXHJcbiAqIHByb3RveXBlIGlzIHRoZSByb290IGBPYmplY3QucHJvdG90eXBlYC4gVGhpcyBpbmNsdWRlcyBvYmplY3RzIGNyZWF0ZWRcclxuICogdXNpbmcgb2JqZWN0IGxpdGVyYWxzLCBidXQgbm90IGZvciBpbnN0YW5jZSBmb3IgY2xhc3MgaW5zdGFuY2VzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2FueX0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBhcmd1bWVudCBhcHBlYXJzIHRvIGJlIGEgcGxhaW4gb2JqZWN0LlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICB2YXIgcHJvdG8gPSB2YWx1ZTtcblxuICB3aGlsZSAoT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKSAhPT0gbnVsbCkge1xuICAgIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHByb3RvKTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpID09PSBwcm90bztcbn1cblxuZnVuY3Rpb24gZ2V0VGltZU1lYXN1cmVVdGlscyhtYXhEZWxheSwgZm5OYW1lKSB7XG4gIHZhciBlbGFwc2VkID0gMDtcbiAgcmV0dXJuIHtcbiAgICBtZWFzdXJlVGltZTogZnVuY3Rpb24gbWVhc3VyZVRpbWUoZm4pIHtcbiAgICAgIHZhciBzdGFydGVkID0gRGF0ZS5ub3coKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGZuKCk7XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICB2YXIgZmluaXNoZWQgPSBEYXRlLm5vdygpO1xuICAgICAgICBlbGFwc2VkICs9IGZpbmlzaGVkIC0gc3RhcnRlZDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHdhcm5JZkV4Y2VlZGVkOiBmdW5jdGlvbiB3YXJuSWZFeGNlZWRlZCgpIHtcbiAgICAgIGlmIChlbGFwc2VkID4gbWF4RGVsYXkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKGZuTmFtZSArIFwiIHRvb2sgXCIgKyBlbGFwc2VkICsgXCJtcywgd2hpY2ggaXMgbW9yZSB0aGFuIHRoZSB3YXJuaW5nIHRocmVzaG9sZCBvZiBcIiArIG1heERlbGF5ICsgXCJtcy4gXFxuSWYgeW91ciBzdGF0ZSBvciBhY3Rpb25zIGFyZSB2ZXJ5IGxhcmdlLCB5b3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGUgbWlkZGxld2FyZSBhcyBpdCBtaWdodCBjYXVzZSB0b28gbXVjaCBvZiBhIHNsb3dkb3duIGluIGRldmVsb3BtZW50IG1vZGUuIFNlZSBodHRwczovL3JlZHV4LXRvb2xraXQuanMub3JnL2FwaS9nZXREZWZhdWx0TWlkZGxld2FyZSBmb3IgaW5zdHJ1Y3Rpb25zLlxcbkl0IGlzIGRpc2FibGVkIGluIHByb2R1Y3Rpb24gYnVpbGRzLCBzbyB5b3UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGF0LlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG4vKipcclxuICogQHB1YmxpY1xyXG4gKi9cblxudmFyIE1pZGRsZXdhcmVBcnJheSA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX0FycmF5KSB7XG4gIF9pbmhlcml0c0xvb3NlKE1pZGRsZXdhcmVBcnJheSwgX0FycmF5KTtcblxuICBmdW5jdGlvbiBNaWRkbGV3YXJlQXJyYXkoKSB7XG4gICAgcmV0dXJuIF9BcnJheS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gTWlkZGxld2FyZUFycmF5LnByb3RvdHlwZTtcblxuICBfcHJvdG8uY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0KCkge1xuICAgIHZhciBfQXJyYXkkcHJvdG90eXBlJGNvbmM7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJyID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJyW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfY29uc3RydWN0KE1pZGRsZXdhcmVBcnJheSwgKF9BcnJheSRwcm90b3R5cGUkY29uYyA9IF9BcnJheS5wcm90b3R5cGUuY29uY2F0KS5jYWxsLmFwcGx5KF9BcnJheSRwcm90b3R5cGUkY29uYywgW3RoaXNdLmNvbmNhdChhcnIpKSk7XG4gIH07XG5cbiAgX3Byb3RvLnByZXBlbmQgPSBmdW5jdGlvbiBwcmVwZW5kKCkge1xuICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJyID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcnJbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG5cbiAgICBpZiAoYXJyLmxlbmd0aCA9PT0gMSAmJiBBcnJheS5pc0FycmF5KGFyclswXSkpIHtcbiAgICAgIHJldHVybiBfY29uc3RydWN0KE1pZGRsZXdhcmVBcnJheSwgYXJyWzBdLmNvbmNhdCh0aGlzKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9jb25zdHJ1Y3QoTWlkZGxld2FyZUFycmF5LCBhcnIuY29uY2F0KHRoaXMpKTtcbiAgfTtcblxuICByZXR1cm4gTWlkZGxld2FyZUFycmF5O1xufShcbi8qI19fUFVSRV9fKi9cbl93cmFwTmF0aXZlU3VwZXIoQXJyYXkpKTtcblxudmFyIGlzUHJvZHVjdGlvbiA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbic7XG52YXIgcHJlZml4ID0gJ0ludmFyaWFudCBmYWlsZWQnOyAvLyBUaHJvdyBhbiBlcnJvciBpZiB0aGUgY29uZGl0aW9uIGZhaWxzXG4vLyBTdHJpcCBvdXQgZXJyb3IgbWVzc2FnZXMgZm9yIHByb2R1Y3Rpb25cbi8vID4gTm90IHByb3ZpZGluZyBhbiBpbmxpbmUgZGVmYXVsdCBhcmd1bWVudCBmb3IgbWVzc2FnZSBhcyB0aGUgcmVzdWx0IGlzIHNtYWxsZXJcblxuZnVuY3Rpb24gaW52YXJpYW50KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICBpZiAoY29uZGl0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9IC8vIENvbmRpdGlvbiBub3QgcGFzc2VkXG4gIC8vIEluIHByb2R1Y3Rpb24gd2Ugc3RyaXAgdGhlIG1lc3NhZ2UgYnV0IHN0aWxsIHRocm93XG5cblxuICBpZiAoaXNQcm9kdWN0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHByZWZpeCk7XG4gIH0gLy8gV2hlbiBub3QgaW4gcHJvZHVjdGlvbiB3ZSBhbGxvdyB0aGUgbWVzc2FnZSB0byBwYXNzIHRocm91Z2hcbiAgLy8gKlRoaXMgYmxvY2sgd2lsbCBiZSByZW1vdmVkIGluIHByb2R1Y3Rpb24gYnVpbGRzKlxuXG5cbiAgdGhyb3cgbmV3IEVycm9yKHByZWZpeCArIFwiOiBcIiArIChtZXNzYWdlIHx8ICcnKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShvYmosIHNlcmlhbGl6ZXIsIGluZGVudCwgZGVjeWNsZXIpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaiwgZ2V0U2VyaWFsaXplKHNlcmlhbGl6ZXIsIGRlY3ljbGVyKSwgaW5kZW50KTtcbn1cblxuZnVuY3Rpb24gZ2V0U2VyaWFsaXplKHNlcmlhbGl6ZXIsIGRlY3ljbGVyKSB7XG4gIHZhciBzdGFjayA9IFtdLFxuICAgICAga2V5cyA9IFtdO1xuICBpZiAoIWRlY3ljbGVyKSBkZWN5Y2xlciA9IGZ1bmN0aW9uIGRlY3ljbGVyKF8sIHZhbHVlKSB7XG4gICAgaWYgKHN0YWNrWzBdID09PSB2YWx1ZSkgcmV0dXJuICdbQ2lyY3VsYXIgfl0nO1xuICAgIHJldHVybiAnW0NpcmN1bGFyIH4uJyArIGtleXMuc2xpY2UoMCwgc3RhY2suaW5kZXhPZih2YWx1ZSkpLmpvaW4oJy4nKSArICddJztcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgaWYgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgIHZhciB0aGlzUG9zID0gc3RhY2suaW5kZXhPZih0aGlzKTtcbiAgICAgIH50aGlzUG9zID8gc3RhY2suc3BsaWNlKHRoaXNQb3MgKyAxKSA6IHN0YWNrLnB1c2godGhpcyk7XG4gICAgICB+dGhpc1BvcyA/IGtleXMuc3BsaWNlKHRoaXNQb3MsIEluZmluaXR5LCBrZXkpIDoga2V5cy5wdXNoKGtleSk7XG4gICAgICBpZiAofnN0YWNrLmluZGV4T2YodmFsdWUpKSB2YWx1ZSA9IGRlY3ljbGVyLmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgfSBlbHNlIHN0YWNrLnB1c2godmFsdWUpO1xuXG4gICAgcmV0dXJuIHNlcmlhbGl6ZXIgPT0gbnVsbCA/IHZhbHVlIDogc2VyaWFsaXplci5jYWxsKHRoaXMsIGtleSwgdmFsdWUpO1xuICB9O1xufVxuLyoqXHJcbiAqIFRoZSBkZWZhdWx0IGBpc0ltbXV0YWJsZWAgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cblxuZnVuY3Rpb24gaXNJbW11dGFibGVEZWZhdWx0KHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCc7XG59XG5mdW5jdGlvbiB0cmFja0Zvck11dGF0aW9ucyhpc0ltbXV0YWJsZSwgaWdub3JlUGF0aHMsIG9iaikge1xuICB2YXIgdHJhY2tlZFByb3BlcnRpZXMgPSB0cmFja1Byb3BlcnRpZXMoaXNJbW11dGFibGUsIGlnbm9yZVBhdGhzLCBvYmopO1xuICByZXR1cm4ge1xuICAgIGRldGVjdE11dGF0aW9uczogZnVuY3Rpb24gZGV0ZWN0TXV0YXRpb25zKCkge1xuICAgICAgcmV0dXJuIF9kZXRlY3RNdXRhdGlvbnMoaXNJbW11dGFibGUsIGlnbm9yZVBhdGhzLCB0cmFja2VkUHJvcGVydGllcywgb2JqKTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRyYWNrUHJvcGVydGllcyhpc0ltbXV0YWJsZSwgaWdub3JlUGF0aHMsIG9iaiwgcGF0aCkge1xuICBpZiAoaWdub3JlUGF0aHMgPT09IHZvaWQgMCkge1xuICAgIGlnbm9yZVBhdGhzID0gW107XG4gIH1cblxuICBpZiAocGF0aCA9PT0gdm9pZCAwKSB7XG4gICAgcGF0aCA9IFtdO1xuICB9XG5cbiAgdmFyIHRyYWNrZWQgPSB7XG4gICAgdmFsdWU6IG9ialxuICB9O1xuXG4gIGlmICghaXNJbW11dGFibGUob2JqKSkge1xuICAgIHRyYWNrZWQuY2hpbGRyZW4gPSB7fTtcblxuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIHZhciBjaGlsZFBhdGggPSBwYXRoLmNvbmNhdChrZXkpO1xuXG4gICAgICBpZiAoaWdub3JlUGF0aHMubGVuZ3RoICYmIGlnbm9yZVBhdGhzLmluZGV4T2YoY2hpbGRQYXRoLmpvaW4oJy4nKSkgIT09IC0xKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB0cmFja2VkLmNoaWxkcmVuW2tleV0gPSB0cmFja1Byb3BlcnRpZXMoaXNJbW11dGFibGUsIGlnbm9yZVBhdGhzLCBvYmpba2V5XSwgY2hpbGRQYXRoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJhY2tlZDtcbn1cblxuZnVuY3Rpb24gX2RldGVjdE11dGF0aW9ucyhpc0ltbXV0YWJsZSwgaWdub3JlUGF0aHMsIHRyYWNrZWRQcm9wZXJ0eSwgb2JqLCBzYW1lUGFyZW50UmVmLCBwYXRoKSB7XG4gIGlmIChpZ25vcmVQYXRocyA9PT0gdm9pZCAwKSB7XG4gICAgaWdub3JlUGF0aHMgPSBbXTtcbiAgfVxuXG4gIGlmIChzYW1lUGFyZW50UmVmID09PSB2b2lkIDApIHtcbiAgICBzYW1lUGFyZW50UmVmID0gZmFsc2U7XG4gIH1cblxuICBpZiAocGF0aCA9PT0gdm9pZCAwKSB7XG4gICAgcGF0aCA9IFtdO1xuICB9XG5cbiAgdmFyIHByZXZPYmogPSB0cmFja2VkUHJvcGVydHkgPyB0cmFja2VkUHJvcGVydHkudmFsdWUgOiB1bmRlZmluZWQ7XG4gIHZhciBzYW1lUmVmID0gcHJldk9iaiA9PT0gb2JqO1xuXG4gIGlmIChzYW1lUGFyZW50UmVmICYmICFzYW1lUmVmICYmICFOdW1iZXIuaXNOYU4ob2JqKSkge1xuICAgIHJldHVybiB7XG4gICAgICB3YXNNdXRhdGVkOiB0cnVlLFxuICAgICAgcGF0aDogcGF0aFxuICAgIH07XG4gIH1cblxuICBpZiAoaXNJbW11dGFibGUocHJldk9iaikgfHwgaXNJbW11dGFibGUob2JqKSkge1xuICAgIHJldHVybiB7XG4gICAgICB3YXNNdXRhdGVkOiBmYWxzZVxuICAgIH07XG4gIH0gLy8gR2F0aGVyIGFsbCBrZXlzIGZyb20gcHJldiAodHJhY2tlZCkgYW5kIGFmdGVyIG9ianNcblxuXG4gIHZhciBrZXlzVG9EZXRlY3QgPSB7fTtcbiAgT2JqZWN0LmtleXModHJhY2tlZFByb3BlcnR5LmNoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBrZXlzVG9EZXRlY3Rba2V5XSA9IHRydWU7XG4gIH0pO1xuICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGtleXNUb0RldGVjdFtrZXldID0gdHJ1ZTtcbiAgfSk7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoa2V5c1RvRGV0ZWN0KTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgY2hpbGRQYXRoID0gcGF0aC5jb25jYXQoa2V5KTtcblxuICAgIGlmIChpZ25vcmVQYXRocy5sZW5ndGggJiYgaWdub3JlUGF0aHMuaW5kZXhPZihjaGlsZFBhdGguam9pbignLicpKSAhPT0gLTEpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSBfZGV0ZWN0TXV0YXRpb25zKGlzSW1tdXRhYmxlLCBpZ25vcmVQYXRocywgdHJhY2tlZFByb3BlcnR5LmNoaWxkcmVuW2tleV0sIG9ialtrZXldLCBzYW1lUmVmLCBjaGlsZFBhdGgpO1xuXG4gICAgaWYgKHJlc3VsdC53YXNNdXRhdGVkKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgd2FzTXV0YXRlZDogZmFsc2VcbiAgfTtcbn1cbi8qKlxyXG4gKiBDcmVhdGVzIGEgbWlkZGxld2FyZSB0aGF0IGNoZWNrcyB3aGV0aGVyIGFueSBzdGF0ZSB3YXMgbXV0YXRlZCBpbiBiZXR3ZWVuXHJcbiAqIGRpc3BhdGNoZXMgb3IgZHVyaW5nIGEgZGlzcGF0Y2guIElmIGFueSBtdXRhdGlvbnMgYXJlIGRldGVjdGVkLCBhbiBlcnJvciBpc1xyXG4gKiB0aHJvd24uXHJcbiAqXHJcbiAqIEBwYXJhbSBvcHRpb25zIE1pZGRsZXdhcmUgb3B0aW9ucy5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVJbW11dGFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChuZXh0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgICAgcmV0dXJuIG5leHQoYWN0aW9uKTtcbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIHZhciBfb3B0aW9ucyA9IG9wdGlvbnMsXG4gICAgICBfb3B0aW9ucyRpc0ltbXV0YWJsZSA9IF9vcHRpb25zLmlzSW1tdXRhYmxlLFxuICAgICAgaXNJbW11dGFibGUgPSBfb3B0aW9ucyRpc0ltbXV0YWJsZSA9PT0gdm9pZCAwID8gaXNJbW11dGFibGVEZWZhdWx0IDogX29wdGlvbnMkaXNJbW11dGFibGUsXG4gICAgICBpZ25vcmVkUGF0aHMgPSBfb3B0aW9ucy5pZ25vcmVkUGF0aHMsXG4gICAgICBfb3B0aW9ucyR3YXJuQWZ0ZXIgPSBfb3B0aW9ucy53YXJuQWZ0ZXIsXG4gICAgICB3YXJuQWZ0ZXIgPSBfb3B0aW9ucyR3YXJuQWZ0ZXIgPT09IHZvaWQgMCA/IDMyIDogX29wdGlvbnMkd2FybkFmdGVyLFxuICAgICAgaWdub3JlID0gX29wdGlvbnMuaWdub3JlOyAvLyBBbGlhcyBpZ25vcmUtPmlnbm9yZWRQYXRocywgYnV0IHByZWZlciBpZ25vcmVkUGF0aHMgaWYgcHJlc2VudFxuXG4gIGlnbm9yZWRQYXRocyA9IGlnbm9yZWRQYXRocyB8fCBpZ25vcmU7XG4gIHZhciB0cmFjayA9IHRyYWNrRm9yTXV0YXRpb25zLmJpbmQobnVsbCwgaXNJbW11dGFibGUsIGlnbm9yZWRQYXRocyk7XG4gIHJldHVybiBmdW5jdGlvbiAoX3JlZikge1xuICAgIHZhciBnZXRTdGF0ZSA9IF9yZWYuZ2V0U3RhdGU7XG4gICAgdmFyIHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICB2YXIgdHJhY2tlciA9IHRyYWNrKHN0YXRlKTtcbiAgICB2YXIgcmVzdWx0O1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgdmFyIG1lYXN1cmVVdGlscyA9IGdldFRpbWVNZWFzdXJlVXRpbHMod2FybkFmdGVyLCAnSW1tdXRhYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlJyk7XG4gICAgICAgIG1lYXN1cmVVdGlscy5tZWFzdXJlVGltZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc3RhdGUgPSBnZXRTdGF0ZSgpO1xuICAgICAgICAgIHJlc3VsdCA9IHRyYWNrZXIuZGV0ZWN0TXV0YXRpb25zKCk7IC8vIFRyYWNrIGJlZm9yZSBwb3RlbnRpYWxseSBub3QgbWVldGluZyB0aGUgaW52YXJpYW50XG5cbiAgICAgICAgICB0cmFja2VyID0gdHJhY2soc3RhdGUpO1xuICAgICAgICAgICEhcmVzdWx0Lndhc011dGF0ZWQgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBpbnZhcmlhbnQoZmFsc2UsIFwiQSBzdGF0ZSBtdXRhdGlvbiB3YXMgZGV0ZWN0ZWQgYmV0d2VlbiBkaXNwYXRjaGVzLCBpbiB0aGUgcGF0aCAnXCIgKyAocmVzdWx0LnBhdGggfHwgW10pLmpvaW4oJy4nKSArIFwiJy4gIFRoaXMgbWF5IGNhdXNlIGluY29ycmVjdCBiZWhhdmlvci4gKGh0dHBzOi8vcmVkdXguanMub3JnL3Ryb3VibGVzaG9vdGluZyNuZXZlci1tdXRhdGUtcmVkdWNlci1hcmd1bWVudHMpXCIpIDogaW52YXJpYW50KGZhbHNlKSA6IHZvaWQgMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBkaXNwYXRjaGVkQWN0aW9uID0gbmV4dChhY3Rpb24pO1xuICAgICAgICBtZWFzdXJlVXRpbHMubWVhc3VyZVRpbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN0YXRlID0gZ2V0U3RhdGUoKTtcbiAgICAgICAgICByZXN1bHQgPSB0cmFja2VyLmRldGVjdE11dGF0aW9ucygpOyAvLyBUcmFjayBiZWZvcmUgcG90ZW50aWFsbHkgbm90IG1lZXRpbmcgdGhlIGludmFyaWFudFxuXG4gICAgICAgICAgdHJhY2tlciA9IHRyYWNrKHN0YXRlKTtcbiAgICAgICAgICByZXN1bHQud2FzTXV0YXRlZCAmJiAoISFyZXN1bHQud2FzTXV0YXRlZCA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IGludmFyaWFudChmYWxzZSwgXCJBIHN0YXRlIG11dGF0aW9uIHdhcyBkZXRlY3RlZCBpbnNpZGUgYSBkaXNwYXRjaCwgaW4gdGhlIHBhdGg6IFwiICsgKHJlc3VsdC5wYXRoIHx8IFtdKS5qb2luKCcuJykgKyBcIi4gVGFrZSBhIGxvb2sgYXQgdGhlIHJlZHVjZXIocykgaGFuZGxpbmcgdGhlIGFjdGlvbiBcIiArIHN0cmluZ2lmeShhY3Rpb24pICsgXCIuIChodHRwczovL3JlZHV4LmpzLm9yZy90cm91Ymxlc2hvb3RpbmcjbmV2ZXItbXV0YXRlLXJlZHVjZXItYXJndW1lbnRzKVwiKSA6IGludmFyaWFudChmYWxzZSkgOiB2b2lkIDApO1xuICAgICAgICB9KTtcbiAgICAgICAgbWVhc3VyZVV0aWxzLndhcm5JZkV4Y2VlZGVkKCk7XG4gICAgICAgIHJldHVybiBkaXNwYXRjaGVkQWN0aW9uO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xufVxuXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwYXNzZWQgdmFsdWUgaXMgXCJwbGFpblwiLCBpLmUuIGEgdmFsdWUgdGhhdCBpcyBlaXRoZXJcclxuICogZGlyZWN0bHkgSlNPTi1zZXJpYWxpemFibGUgKGJvb2xlYW4sIG51bWJlciwgc3RyaW5nLCBhcnJheSwgcGxhaW4gb2JqZWN0KVxyXG4gKiBvciBgdW5kZWZpbmVkYC5cclxuICpcclxuICogQHBhcmFtIHZhbCBUaGUgdmFsdWUgdG8gY2hlY2suXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cbmZ1bmN0aW9uIGlzUGxhaW4odmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJyB8fCB2YWwgPT09IG51bGwgfHwgdHlwZW9mIHZhbCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nIHx8IHR5cGVvZiB2YWwgPT09ICdudW1iZXInIHx8IEFycmF5LmlzQXJyYXkodmFsKSB8fCBpc1BsYWluT2JqZWN0KHZhbCk7XG59XG4vKipcclxuICogQHB1YmxpY1xyXG4gKi9cblxuZnVuY3Rpb24gZmluZE5vblNlcmlhbGl6YWJsZVZhbHVlKHZhbHVlLCBwYXRoLCBpc1NlcmlhbGl6YWJsZSwgZ2V0RW50cmllcywgaWdub3JlZFBhdGhzKSB7XG4gIGlmIChwYXRoID09PSB2b2lkIDApIHtcbiAgICBwYXRoID0gW107XG4gIH1cblxuICBpZiAoaXNTZXJpYWxpemFibGUgPT09IHZvaWQgMCkge1xuICAgIGlzU2VyaWFsaXphYmxlID0gaXNQbGFpbjtcbiAgfVxuXG4gIGlmIChpZ25vcmVkUGF0aHMgPT09IHZvaWQgMCkge1xuICAgIGlnbm9yZWRQYXRocyA9IFtdO1xuICB9XG5cbiAgdmFyIGZvdW5kTmVzdGVkU2VyaWFsaXphYmxlO1xuXG4gIGlmICghaXNTZXJpYWxpemFibGUodmFsdWUpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleVBhdGg6IHBhdGguam9pbignLicpIHx8ICc8cm9vdD4nLFxuICAgICAgdmFsdWU6IHZhbHVlXG4gICAgfTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGVudHJpZXMgPSBnZXRFbnRyaWVzICE9IG51bGwgPyBnZXRFbnRyaWVzKHZhbHVlKSA6IE9iamVjdC5lbnRyaWVzKHZhbHVlKTtcbiAgdmFyIGhhc0lnbm9yZWRQYXRocyA9IGlnbm9yZWRQYXRocy5sZW5ndGggPiAwO1xuXG4gIGZvciAodmFyIF9pdGVyYXRvciA9IGVudHJpZXMsIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheShfaXRlcmF0b3IpLCBfaSA9IDAsIF9pdGVyYXRvciA9IF9pc0FycmF5ID8gX2l0ZXJhdG9yIDogX2l0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0oKTs7KSB7XG4gICAgdmFyIF9yZWY7XG5cbiAgICBpZiAoX2lzQXJyYXkpIHtcbiAgICAgIGlmIChfaSA+PSBfaXRlcmF0b3IubGVuZ3RoKSBicmVhaztcbiAgICAgIF9yZWYgPSBfaXRlcmF0b3JbX2krK107XG4gICAgfSBlbHNlIHtcbiAgICAgIF9pID0gX2l0ZXJhdG9yLm5leHQoKTtcbiAgICAgIGlmIChfaS5kb25lKSBicmVhaztcbiAgICAgIF9yZWYgPSBfaS52YWx1ZTtcbiAgICB9XG5cbiAgICB2YXIgX3JlZjIgPSBfcmVmLFxuICAgICAgICBwcm9wZXJ0eSA9IF9yZWYyWzBdLFxuICAgICAgICBuZXN0ZWRWYWx1ZSA9IF9yZWYyWzFdO1xuICAgIHZhciBuZXN0ZWRQYXRoID0gcGF0aC5jb25jYXQocHJvcGVydHkpO1xuXG4gICAgaWYgKGhhc0lnbm9yZWRQYXRocyAmJiBpZ25vcmVkUGF0aHMuaW5kZXhPZihuZXN0ZWRQYXRoLmpvaW4oJy4nKSkgPj0gMCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKCFpc1NlcmlhbGl6YWJsZShuZXN0ZWRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtleVBhdGg6IG5lc3RlZFBhdGguam9pbignLicpLFxuICAgICAgICB2YWx1ZTogbmVzdGVkVmFsdWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuZXN0ZWRWYWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvdW5kTmVzdGVkU2VyaWFsaXphYmxlID0gZmluZE5vblNlcmlhbGl6YWJsZVZhbHVlKG5lc3RlZFZhbHVlLCBuZXN0ZWRQYXRoLCBpc1NlcmlhbGl6YWJsZSwgZ2V0RW50cmllcywgaWdub3JlZFBhdGhzKTtcblxuICAgICAgaWYgKGZvdW5kTmVzdGVkU2VyaWFsaXphYmxlKSB7XG4gICAgICAgIHJldHVybiBmb3VuZE5lc3RlZFNlcmlhbGl6YWJsZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG4vKipcclxuICogQ3JlYXRlcyBhIG1pZGRsZXdhcmUgdGhhdCwgYWZ0ZXIgZXZlcnkgc3RhdGUgY2hhbmdlLCBjaGVja3MgaWYgdGhlIG5ld1xyXG4gKiBzdGF0ZSBpcyBzZXJpYWxpemFibGUuIElmIGEgbm9uLXNlcmlhbGl6YWJsZSB2YWx1ZSBpcyBmb3VuZCB3aXRoaW4gdGhlXHJcbiAqIHN0YXRlLCBhbiBlcnJvciBpcyBwcmludGVkIHRvIHRoZSBjb25zb2xlLlxyXG4gKlxyXG4gKiBAcGFyYW0gb3B0aW9ucyBNaWRkbGV3YXJlIG9wdGlvbnMuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZVNlcmlhbGl6YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZShvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zID09PSB2b2lkIDApIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKG5leHQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICB9O1xuICB9XG5cbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgIF9vcHRpb25zJGlzU2VyaWFsaXphYiA9IF9vcHRpb25zLmlzU2VyaWFsaXphYmxlLFxuICAgICAgaXNTZXJpYWxpemFibGUgPSBfb3B0aW9ucyRpc1NlcmlhbGl6YWIgPT09IHZvaWQgMCA/IGlzUGxhaW4gOiBfb3B0aW9ucyRpc1NlcmlhbGl6YWIsXG4gICAgICBnZXRFbnRyaWVzID0gX29wdGlvbnMuZ2V0RW50cmllcyxcbiAgICAgIF9vcHRpb25zJGlnbm9yZWRBY3RpbyA9IF9vcHRpb25zLmlnbm9yZWRBY3Rpb25zLFxuICAgICAgaWdub3JlZEFjdGlvbnMgPSBfb3B0aW9ucyRpZ25vcmVkQWN0aW8gPT09IHZvaWQgMCA/IFtdIDogX29wdGlvbnMkaWdub3JlZEFjdGlvLFxuICAgICAgX29wdGlvbnMkaWdub3JlZEFjdGlvMiA9IF9vcHRpb25zLmlnbm9yZWRBY3Rpb25QYXRocyxcbiAgICAgIGlnbm9yZWRBY3Rpb25QYXRocyA9IF9vcHRpb25zJGlnbm9yZWRBY3RpbzIgPT09IHZvaWQgMCA/IFsnbWV0YS5hcmcnXSA6IF9vcHRpb25zJGlnbm9yZWRBY3RpbzIsXG4gICAgICBfb3B0aW9ucyRpZ25vcmVkUGF0aHMgPSBfb3B0aW9ucy5pZ25vcmVkUGF0aHMsXG4gICAgICBpZ25vcmVkUGF0aHMgPSBfb3B0aW9ucyRpZ25vcmVkUGF0aHMgPT09IHZvaWQgMCA/IFtdIDogX29wdGlvbnMkaWdub3JlZFBhdGhzLFxuICAgICAgX29wdGlvbnMkd2FybkFmdGVyID0gX29wdGlvbnMud2FybkFmdGVyLFxuICAgICAgd2FybkFmdGVyID0gX29wdGlvbnMkd2FybkFmdGVyID09PSB2b2lkIDAgPyAzMiA6IF9vcHRpb25zJHdhcm5BZnRlcjtcbiAgcmV0dXJuIGZ1bmN0aW9uIChzdG9yZUFQSSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAobmV4dCkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgaWYgKGlnbm9yZWRBY3Rpb25zLmxlbmd0aCAmJiBpZ25vcmVkQWN0aW9ucy5pbmRleE9mKGFjdGlvbi50eXBlKSAhPT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gbmV4dChhY3Rpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1lYXN1cmVVdGlscyA9IGdldFRpbWVNZWFzdXJlVXRpbHMod2FybkFmdGVyLCAnU2VyaWFsaXphYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlJyk7XG4gICAgICAgIG1lYXN1cmVVdGlscy5tZWFzdXJlVGltZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGZvdW5kQWN0aW9uTm9uU2VyaWFsaXphYmxlVmFsdWUgPSBmaW5kTm9uU2VyaWFsaXphYmxlVmFsdWUoYWN0aW9uLCBbXSwgaXNTZXJpYWxpemFibGUsIGdldEVudHJpZXMsIGlnbm9yZWRBY3Rpb25QYXRocyk7XG5cbiAgICAgICAgICBpZiAoZm91bmRBY3Rpb25Ob25TZXJpYWxpemFibGVWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIGtleVBhdGggPSBmb3VuZEFjdGlvbk5vblNlcmlhbGl6YWJsZVZhbHVlLmtleVBhdGgsXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBmb3VuZEFjdGlvbk5vblNlcmlhbGl6YWJsZVZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkEgbm9uLXNlcmlhbGl6YWJsZSB2YWx1ZSB3YXMgZGV0ZWN0ZWQgaW4gYW4gYWN0aW9uLCBpbiB0aGUgcGF0aDogYFwiICsga2V5UGF0aCArIFwiYC4gVmFsdWU6XCIsIHZhbHVlLCAnXFxuVGFrZSBhIGxvb2sgYXQgdGhlIGxvZ2ljIHRoYXQgZGlzcGF0Y2hlZCB0aGlzIGFjdGlvbjogJywgYWN0aW9uLCAnXFxuKFNlZSBodHRwczovL3JlZHV4LmpzLm9yZy9mYXEvYWN0aW9ucyN3aHktc2hvdWxkLXR5cGUtYmUtYS1zdHJpbmctb3ItYXQtbGVhc3Qtc2VyaWFsaXphYmxlLXdoeS1zaG91bGQtbXktYWN0aW9uLXR5cGVzLWJlLWNvbnN0YW50cyknLCAnXFxuKFRvIGFsbG93IG5vbi1zZXJpYWxpemFibGUgdmFsdWVzIHNlZTogaHR0cHM6Ly9yZWR1eC10b29sa2l0LmpzLm9yZy91c2FnZS91c2FnZS1ndWlkZSN3b3JraW5nLXdpdGgtbm9uLXNlcmlhbGl6YWJsZS1kYXRhKScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXh0KGFjdGlvbik7XG4gICAgICAgIG1lYXN1cmVVdGlscy5tZWFzdXJlVGltZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHN0YXRlID0gc3RvcmVBUEkuZ2V0U3RhdGUoKTtcbiAgICAgICAgICB2YXIgZm91bmRTdGF0ZU5vblNlcmlhbGl6YWJsZVZhbHVlID0gZmluZE5vblNlcmlhbGl6YWJsZVZhbHVlKHN0YXRlLCBbXSwgaXNTZXJpYWxpemFibGUsIGdldEVudHJpZXMsIGlnbm9yZWRQYXRocyk7XG5cbiAgICAgICAgICBpZiAoZm91bmRTdGF0ZU5vblNlcmlhbGl6YWJsZVZhbHVlKSB7XG4gICAgICAgICAgICB2YXIga2V5UGF0aCA9IGZvdW5kU3RhdGVOb25TZXJpYWxpemFibGVWYWx1ZS5rZXlQYXRoLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gZm91bmRTdGF0ZU5vblNlcmlhbGl6YWJsZVZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkEgbm9uLXNlcmlhbGl6YWJsZSB2YWx1ZSB3YXMgZGV0ZWN0ZWQgaW4gdGhlIHN0YXRlLCBpbiB0aGUgcGF0aDogYFwiICsga2V5UGF0aCArIFwiYC4gVmFsdWU6XCIsIHZhbHVlLCBcIlxcblRha2UgYSBsb29rIGF0IHRoZSByZWR1Y2VyKHMpIGhhbmRsaW5nIHRoaXMgYWN0aW9uIHR5cGU6IFwiICsgYWN0aW9uLnR5cGUgKyBcIi5cXG4oU2VlIGh0dHBzOi8vcmVkdXguanMub3JnL2ZhcS9vcmdhbml6aW5nLXN0YXRlI2Nhbi1pLXB1dC1mdW5jdGlvbnMtcHJvbWlzZXMtb3Itb3RoZXItbm9uLXNlcmlhbGl6YWJsZS1pdGVtcy1pbi1teS1zdG9yZS1zdGF0ZSlcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbWVhc3VyZVV0aWxzLndhcm5JZkV4Y2VlZGVkKCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG59XG5cbmZ1bmN0aW9uIGlzQm9vbGVhbih4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gJ2Jvb2xlYW4nO1xufVxuXG5mdW5jdGlvbiBjdXJyeUdldERlZmF1bHRNaWRkbGV3YXJlKCkge1xuICByZXR1cm4gZnVuY3Rpb24gY3VycmllZEdldERlZmF1bHRNaWRkbGV3YXJlKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZ2V0RGVmYXVsdE1pZGRsZXdhcmUob3B0aW9ucyk7XG4gIH07XG59XG4vKipcclxuICogUmV0dXJucyBhbnkgYXJyYXkgY29udGFpbmluZyB0aGUgZGVmYXVsdCBtaWRkbGV3YXJlIGluc3RhbGxlZCBieVxyXG4gKiBgY29uZmlndXJlU3RvcmUoKWAuIFVzZWZ1bCBpZiB5b3Ugd2FudCB0byBjb25maWd1cmUgeW91ciBzdG9yZSB3aXRoIGEgY3VzdG9tXHJcbiAqIGBtaWRkbGV3YXJlYCBhcnJheSBidXQgc3RpbGwga2VlcCB0aGUgZGVmYXVsdCBzZXQuXHJcbiAqXHJcbiAqIEByZXR1cm4gVGhlIGRlZmF1bHQgbWlkZGxld2FyZSB1c2VkIGJ5IGBjb25maWd1cmVTdG9yZSgpYC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdE1pZGRsZXdhcmUob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IHt9O1xuICB9XG5cbiAgdmFyIF9vcHRpb25zID0gb3B0aW9ucyxcbiAgICAgIF9vcHRpb25zJHRodW5rID0gX29wdGlvbnMudGh1bmssXG4gICAgICB0aHVuayA9IF9vcHRpb25zJHRodW5rID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkdGh1bmssXG4gICAgICBfb3B0aW9ucyRpbW11dGFibGVDaGUgPSBfb3B0aW9ucy5pbW11dGFibGVDaGVjayxcbiAgICAgIGltbXV0YWJsZUNoZWNrID0gX29wdGlvbnMkaW1tdXRhYmxlQ2hlID09PSB2b2lkIDAgPyB0cnVlIDogX29wdGlvbnMkaW1tdXRhYmxlQ2hlLFxuICAgICAgX29wdGlvbnMkc2VyaWFsaXphYmxlID0gX29wdGlvbnMuc2VyaWFsaXphYmxlQ2hlY2ssXG4gICAgICBzZXJpYWxpemFibGVDaGVjayA9IF9vcHRpb25zJHNlcmlhbGl6YWJsZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9vcHRpb25zJHNlcmlhbGl6YWJsZTtcbiAgdmFyIG1pZGRsZXdhcmVBcnJheSA9IG5ldyBNaWRkbGV3YXJlQXJyYXkoKTtcblxuICBpZiAodGh1bmspIHtcbiAgICBpZiAoaXNCb29sZWFuKHRodW5rKSkge1xuICAgICAgbWlkZGxld2FyZUFycmF5LnB1c2godGh1bmtNaWRkbGV3YXJlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWlkZGxld2FyZUFycmF5LnB1c2godGh1bmtNaWRkbGV3YXJlLndpdGhFeHRyYUFyZ3VtZW50KHRodW5rLmV4dHJhQXJndW1lbnQpKTtcbiAgICB9XG4gIH1cblxuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChpbW11dGFibGVDaGVjaykge1xuICAgICAgLyogUFJPRF9TVEFSVF9SRU1PVkVfVU1EICovXG4gICAgICB2YXIgaW1tdXRhYmxlT3B0aW9ucyA9IHt9O1xuXG4gICAgICBpZiAoIWlzQm9vbGVhbihpbW11dGFibGVDaGVjaykpIHtcbiAgICAgICAgaW1tdXRhYmxlT3B0aW9ucyA9IGltbXV0YWJsZUNoZWNrO1xuICAgICAgfVxuXG4gICAgICBtaWRkbGV3YXJlQXJyYXkudW5zaGlmdChjcmVhdGVJbW11dGFibGVTdGF0ZUludmFyaWFudE1pZGRsZXdhcmUoaW1tdXRhYmxlT3B0aW9ucykpO1xuICAgICAgLyogUFJPRF9TVE9QX1JFTU9WRV9VTUQgKi9cbiAgICB9XG5cbiAgICBpZiAoc2VyaWFsaXphYmxlQ2hlY2spIHtcbiAgICAgIHZhciBzZXJpYWxpemFibGVPcHRpb25zID0ge307XG5cbiAgICAgIGlmICghaXNCb29sZWFuKHNlcmlhbGl6YWJsZUNoZWNrKSkge1xuICAgICAgICBzZXJpYWxpemFibGVPcHRpb25zID0gc2VyaWFsaXphYmxlQ2hlY2s7XG4gICAgICB9XG5cbiAgICAgIG1pZGRsZXdhcmVBcnJheS5wdXNoKGNyZWF0ZVNlcmlhbGl6YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZShzZXJpYWxpemFibGVPcHRpb25zKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1pZGRsZXdhcmVBcnJheTtcbn1cblxudmFyIElTX1BST0RVQ1RJT04gPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nO1xuLyoqXHJcbiAqIEEgZnJpZW5kbHkgYWJzdHJhY3Rpb24gb3ZlciB0aGUgc3RhbmRhcmQgUmVkdXggYGNyZWF0ZVN0b3JlKClgIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0gY29uZmlnIFRoZSBzdG9yZSBjb25maWd1cmF0aW9uLlxyXG4gKiBAcmV0dXJucyBBIGNvbmZpZ3VyZWQgUmVkdXggc3RvcmUuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZVN0b3JlKG9wdGlvbnMpIHtcbiAgdmFyIGN1cnJpZWRHZXREZWZhdWx0TWlkZGxld2FyZSA9IGN1cnJ5R2V0RGVmYXVsdE1pZGRsZXdhcmUoKTtcblxuICB2YXIgX3JlZiA9IG9wdGlvbnMgfHwge30sXG4gICAgICBfcmVmJHJlZHVjZXIgPSBfcmVmLnJlZHVjZXIsXG4gICAgICByZWR1Y2VyID0gX3JlZiRyZWR1Y2VyID09PSB2b2lkIDAgPyB1bmRlZmluZWQgOiBfcmVmJHJlZHVjZXIsXG4gICAgICBfcmVmJG1pZGRsZXdhcmUgPSBfcmVmLm1pZGRsZXdhcmUsXG4gICAgICBtaWRkbGV3YXJlID0gX3JlZiRtaWRkbGV3YXJlID09PSB2b2lkIDAgPyBjdXJyaWVkR2V0RGVmYXVsdE1pZGRsZXdhcmUoKSA6IF9yZWYkbWlkZGxld2FyZSxcbiAgICAgIF9yZWYkZGV2VG9vbHMgPSBfcmVmLmRldlRvb2xzLFxuICAgICAgZGV2VG9vbHMgPSBfcmVmJGRldlRvb2xzID09PSB2b2lkIDAgPyB0cnVlIDogX3JlZiRkZXZUb29scyxcbiAgICAgIF9yZWYkcHJlbG9hZGVkU3RhdGUgPSBfcmVmLnByZWxvYWRlZFN0YXRlLFxuICAgICAgcHJlbG9hZGVkU3RhdGUgPSBfcmVmJHByZWxvYWRlZFN0YXRlID09PSB2b2lkIDAgPyB1bmRlZmluZWQgOiBfcmVmJHByZWxvYWRlZFN0YXRlLFxuICAgICAgX3JlZiRlbmhhbmNlcnMgPSBfcmVmLmVuaGFuY2VycyxcbiAgICAgIGVuaGFuY2VycyA9IF9yZWYkZW5oYW5jZXJzID09PSB2b2lkIDAgPyB1bmRlZmluZWQgOiBfcmVmJGVuaGFuY2VycztcblxuICB2YXIgcm9vdFJlZHVjZXI7XG5cbiAgaWYgKHR5cGVvZiByZWR1Y2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcm9vdFJlZHVjZXIgPSByZWR1Y2VyO1xuICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3QocmVkdWNlcikpIHtcbiAgICByb290UmVkdWNlciA9IGNvbWJpbmVSZWR1Y2VycyhyZWR1Y2VyKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1wicmVkdWNlclwiIGlzIGEgcmVxdWlyZWQgYXJndW1lbnQsIGFuZCBtdXN0IGJlIGEgZnVuY3Rpb24gb3IgYW4gb2JqZWN0IG9mIGZ1bmN0aW9ucyB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gY29tYmluZVJlZHVjZXJzJyk7XG4gIH1cblxuICB2YXIgbWlkZGxld2FyZUVuaGFuY2VyID0gYXBwbHlNaWRkbGV3YXJlLmFwcGx5KHZvaWQgMCwgdHlwZW9mIG1pZGRsZXdhcmUgPT09ICdmdW5jdGlvbicgPyBtaWRkbGV3YXJlKGN1cnJpZWRHZXREZWZhdWx0TWlkZGxld2FyZSkgOiBtaWRkbGV3YXJlKTtcbiAgdmFyIGZpbmFsQ29tcG9zZSA9IGNvbXBvc2U7XG5cbiAgaWYgKGRldlRvb2xzKSB7XG4gICAgZmluYWxDb21wb3NlID0gY29tcG9zZVdpdGhEZXZUb29scyhfZXh0ZW5kcyh7XG4gICAgICAvLyBFbmFibGUgY2FwdHVyZSBvZiBzdGFjayB0cmFjZXMgZm9yIGRpc3BhdGNoZWQgUmVkdXggYWN0aW9uc1xuICAgICAgdHJhY2U6ICFJU19QUk9EVUNUSU9OXG4gICAgfSwgdHlwZW9mIGRldlRvb2xzID09PSAnb2JqZWN0JyAmJiBkZXZUb29scykpO1xuICB9XG5cbiAgdmFyIHN0b3JlRW5oYW5jZXJzID0gW21pZGRsZXdhcmVFbmhhbmNlcl07XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoZW5oYW5jZXJzKSkge1xuICAgIHN0b3JlRW5oYW5jZXJzID0gW21pZGRsZXdhcmVFbmhhbmNlcl0uY29uY2F0KGVuaGFuY2Vycyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVuaGFuY2VycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHN0b3JlRW5oYW5jZXJzID0gZW5oYW5jZXJzKHN0b3JlRW5oYW5jZXJzKTtcbiAgfVxuXG4gIHZhciBjb21wb3NlZEVuaGFuY2VyID0gZmluYWxDb21wb3NlLmFwcGx5KHZvaWQgMCwgc3RvcmVFbmhhbmNlcnMpO1xuICByZXR1cm4gY3JlYXRlU3RvcmUocm9vdFJlZHVjZXIsIHByZWxvYWRlZFN0YXRlLCBjb21wb3NlZEVuaGFuY2VyKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQWN0aW9uKHR5cGUsIHByZXBhcmVBY3Rpb24pIHtcbiAgZnVuY3Rpb24gYWN0aW9uQ3JlYXRvcigpIHtcbiAgICBpZiAocHJlcGFyZUFjdGlvbikge1xuICAgICAgdmFyIHByZXBhcmVkID0gcHJlcGFyZUFjdGlvbi5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cyk7XG5cbiAgICAgIGlmICghcHJlcGFyZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdwcmVwYXJlQWN0aW9uIGRpZCBub3QgcmV0dXJuIGFuIG9iamVjdCcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICBwYXlsb2FkOiBwcmVwYXJlZC5wYXlsb2FkXG4gICAgICB9LCAnbWV0YScgaW4gcHJlcGFyZWQgJiYge1xuICAgICAgICBtZXRhOiBwcmVwYXJlZC5tZXRhXG4gICAgICB9LCB7fSwgJ2Vycm9yJyBpbiBwcmVwYXJlZCAmJiB7XG4gICAgICAgIGVycm9yOiBwcmVwYXJlZC5lcnJvclxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBwYXlsb2FkOiBhcmd1bWVudHMubGVuZ3RoIDw9IDAgPyB1bmRlZmluZWQgOiBhcmd1bWVudHNbMF1cbiAgICB9O1xuICB9XG5cbiAgYWN0aW9uQ3JlYXRvci50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gXCJcIiArIHR5cGU7XG4gIH07XG5cbiAgYWN0aW9uQ3JlYXRvci50eXBlID0gdHlwZTtcblxuICBhY3Rpb25DcmVhdG9yLm1hdGNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIHJldHVybiBhY3Rpb24udHlwZSA9PT0gdHlwZTtcbiAgfTtcblxuICByZXR1cm4gYWN0aW9uQ3JlYXRvcjtcbn1cbmZ1bmN0aW9uIGlzRlNBKGFjdGlvbikge1xuICByZXR1cm4gaXNQbGFpbk9iamVjdChhY3Rpb24pICYmIHR5cGVvZiBhY3Rpb24udHlwZSA9PT0gJ3N0cmluZycgJiYgT2JqZWN0LmtleXMoYWN0aW9uKS5ldmVyeShpc1ZhbGlkS2V5KTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZEtleShrZXkpIHtcbiAgcmV0dXJuIFsndHlwZScsICdwYXlsb2FkJywgJ2Vycm9yJywgJ21ldGEnXS5pbmRleE9mKGtleSkgPiAtMTtcbn1cbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBhY3Rpb24gdHlwZSBvZiB0aGUgYWN0aW9ucyBjcmVhdGVkIGJ5IHRoZSBwYXNzZWRcclxuICogYGNyZWF0ZUFjdGlvbigpYC1nZW5lcmF0ZWQgYWN0aW9uIGNyZWF0b3IgKGFyYml0cmFyeSBhY3Rpb24gY3JlYXRvcnNcclxuICogYXJlIG5vdCBzdXBwb3J0ZWQpLlxyXG4gKlxyXG4gKiBAcGFyYW0gYWN0aW9uIFRoZSBhY3Rpb24gY3JlYXRvciB3aG9zZSBhY3Rpb24gdHlwZSB0byBnZXQuXHJcbiAqIEByZXR1cm5zIFRoZSBhY3Rpb24gdHlwZSB1c2VkIGJ5IHRoZSBhY3Rpb24gY3JlYXRvci5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRUeXBlKGFjdGlvbkNyZWF0b3IpIHtcbiAgcmV0dXJuIFwiXCIgKyBhY3Rpb25DcmVhdG9yO1xufVxuXG5mdW5jdGlvbiBleGVjdXRlUmVkdWNlckJ1aWxkZXJDYWxsYmFjayhidWlsZGVyQ2FsbGJhY2spIHtcbiAgdmFyIGFjdGlvbnNNYXAgPSB7fTtcbiAgdmFyIGFjdGlvbk1hdGNoZXJzID0gW107XG4gIHZhciBkZWZhdWx0Q2FzZVJlZHVjZXI7XG4gIHZhciBidWlsZGVyID0ge1xuICAgIGFkZENhc2U6IGZ1bmN0aW9uIGFkZENhc2UodHlwZU9yQWN0aW9uQ3JlYXRvciwgcmVkdWNlcikge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgLypcclxuICAgICAgICAgdG8ga2VlcCB0aGUgZGVmaW5pdGlvbiBieSB0aGUgdXNlciBpbiBsaW5lIHdpdGggYWN0dWFsIGJlaGF2aW9yLFxyXG4gICAgICAgICB3ZSBlbmZvcmNlIGBhZGRDYXNlYCB0byBhbHdheXMgYmUgY2FsbGVkIGJlZm9yZSBjYWxsaW5nIGBhZGRNYXRjaGVyYFxyXG4gICAgICAgICBhcyBtYXRjaGluZyBjYXNlcyB0YWtlIHByZWNlZGVuY2Ugb3ZlciBtYXRjaGVyc1xyXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoYWN0aW9uTWF0Y2hlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYGJ1aWxkZXIuYWRkQ2FzZWAgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGJlZm9yZSBjYWxsaW5nIGBidWlsZGVyLmFkZE1hdGNoZXJgJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVmYXVsdENhc2VSZWR1Y2VyKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgYnVpbGRlci5hZGRDYXNlYCBzaG91bGQgb25seSBiZSBjYWxsZWQgYmVmb3JlIGNhbGxpbmcgYGJ1aWxkZXIuYWRkRGVmYXVsdENhc2VgJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdHlwZU9yQWN0aW9uQ3JlYXRvciA9PT0gJ3N0cmluZycgPyB0eXBlT3JBY3Rpb25DcmVhdG9yIDogdHlwZU9yQWN0aW9uQ3JlYXRvci50eXBlO1xuXG4gICAgICBpZiAodHlwZSBpbiBhY3Rpb25zTWFwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYWRkQ2FzZSBjYW5ub3QgYmUgY2FsbGVkIHdpdGggdHdvIHJlZHVjZXJzIGZvciB0aGUgc2FtZSBhY3Rpb24gdHlwZScpO1xuICAgICAgfVxuXG4gICAgICBhY3Rpb25zTWFwW3R5cGVdID0gcmVkdWNlcjtcbiAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH0sXG4gICAgYWRkTWF0Y2hlcjogZnVuY3Rpb24gYWRkTWF0Y2hlcihtYXRjaGVyLCByZWR1Y2VyKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBpZiAoZGVmYXVsdENhc2VSZWR1Y2VyKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdgYnVpbGRlci5hZGRNYXRjaGVyYCBzaG91bGQgb25seSBiZSBjYWxsZWQgYmVmb3JlIGNhbGxpbmcgYGJ1aWxkZXIuYWRkRGVmYXVsdENhc2VgJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgYWN0aW9uTWF0Y2hlcnMucHVzaCh7XG4gICAgICAgIG1hdGNoZXI6IG1hdGNoZXIsXG4gICAgICAgIHJlZHVjZXI6IHJlZHVjZXJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGJ1aWxkZXI7XG4gICAgfSxcbiAgICBhZGREZWZhdWx0Q2FzZTogZnVuY3Rpb24gYWRkRGVmYXVsdENhc2UocmVkdWNlcikge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRDYXNlUmVkdWNlcikge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYGJ1aWxkZXIuYWRkRGVmYXVsdENhc2VgIGNhbiBvbmx5IGJlIGNhbGxlZCBvbmNlJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGVmYXVsdENhc2VSZWR1Y2VyID0gcmVkdWNlcjtcbiAgICAgIHJldHVybiBidWlsZGVyO1xuICAgIH1cbiAgfTtcbiAgYnVpbGRlckNhbGxiYWNrKGJ1aWxkZXIpO1xuICByZXR1cm4gW2FjdGlvbnNNYXAsIGFjdGlvbk1hdGNoZXJzLCBkZWZhdWx0Q2FzZVJlZHVjZXJdO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSZWR1Y2VyKGluaXRpYWxTdGF0ZSwgbWFwT3JCdWlsZGVyQ2FsbGJhY2ssIGFjdGlvbk1hdGNoZXJzLCBkZWZhdWx0Q2FzZVJlZHVjZXIpIHtcbiAgaWYgKGFjdGlvbk1hdGNoZXJzID09PSB2b2lkIDApIHtcbiAgICBhY3Rpb25NYXRjaGVycyA9IFtdO1xuICB9XG5cbiAgdmFyIF9yZWYgPSB0eXBlb2YgbWFwT3JCdWlsZGVyQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicgPyBleGVjdXRlUmVkdWNlckJ1aWxkZXJDYWxsYmFjayhtYXBPckJ1aWxkZXJDYWxsYmFjaykgOiBbbWFwT3JCdWlsZGVyQ2FsbGJhY2ssIGFjdGlvbk1hdGNoZXJzLCBkZWZhdWx0Q2FzZVJlZHVjZXJdLFxuICAgICAgYWN0aW9uc01hcCA9IF9yZWZbMF0sXG4gICAgICBmaW5hbEFjdGlvbk1hdGNoZXJzID0gX3JlZlsxXSxcbiAgICAgIGZpbmFsRGVmYXVsdENhc2VSZWR1Y2VyID0gX3JlZlsyXTtcblxuICByZXR1cm4gZnVuY3Rpb24gKHN0YXRlLCBhY3Rpb24pIHtcbiAgICBpZiAoc3RhdGUgPT09IHZvaWQgMCkge1xuICAgICAgc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgfVxuXG4gICAgdmFyIGNhc2VSZWR1Y2VycyA9IFthY3Rpb25zTWFwW2FjdGlvbi50eXBlXV0uY29uY2F0KGZpbmFsQWN0aW9uTWF0Y2hlcnMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgdmFyIG1hdGNoZXIgPSBfcmVmMi5tYXRjaGVyO1xuICAgICAgcmV0dXJuIG1hdGNoZXIoYWN0aW9uKTtcbiAgICB9KS5tYXAoZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICB2YXIgcmVkdWNlciA9IF9yZWYzLnJlZHVjZXI7XG4gICAgICByZXR1cm4gcmVkdWNlcjtcbiAgICB9KSk7XG5cbiAgICBpZiAoY2FzZVJlZHVjZXJzLmZpbHRlcihmdW5jdGlvbiAoY3IpIHtcbiAgICAgIHJldHVybiAhIWNyO1xuICAgIH0pLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2FzZVJlZHVjZXJzID0gW2ZpbmFsRGVmYXVsdENhc2VSZWR1Y2VyXTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2FzZVJlZHVjZXJzLnJlZHVjZShmdW5jdGlvbiAocHJldmlvdXNTdGF0ZSwgY2FzZVJlZHVjZXIpIHtcbiAgICAgIGlmIChjYXNlUmVkdWNlcikge1xuICAgICAgICBpZiAoaXNEcmFmdChwcmV2aW91c1N0YXRlKSkge1xuICAgICAgICAgIC8vIElmIGl0J3MgYWxyZWFkeSBhIGRyYWZ0LCB3ZSBtdXN0IGFscmVhZHkgYmUgaW5zaWRlIGEgYGNyZWF0ZU5leHRTdGF0ZWAgY2FsbCxcbiAgICAgICAgICAvLyBsaWtlbHkgYmVjYXVzZSB0aGlzIGlzIGJlaW5nIHdyYXBwZWQgaW4gYGNyZWF0ZVJlZHVjZXJgLCBgY3JlYXRlU2xpY2VgLCBvciBuZXN0ZWRcbiAgICAgICAgICAvLyBpbnNpZGUgYW4gZXhpc3RpbmcgZHJhZnQuIEl0J3Mgc2FmZSB0byBqdXN0IHBhc3MgdGhlIGRyYWZ0IHRvIHRoZSBtdXRhdG9yLlxuICAgICAgICAgIHZhciBkcmFmdCA9IHByZXZpb3VzU3RhdGU7IC8vIFdlIGNhbiBhc3N1bWUgdGhpcyBpcyBhbHJlYWR5IGEgZHJhZnRcblxuICAgICAgICAgIHZhciByZXN1bHQgPSBjYXNlUmVkdWNlcihkcmFmdCwgYWN0aW9uKTtcblxuICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzU3RhdGU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSBlbHNlIGlmICghaXNEcmFmdGFibGUocHJldmlvdXNTdGF0ZSkpIHtcbiAgICAgICAgICAvLyBJZiBzdGF0ZSBpcyBub3QgZHJhZnRhYmxlIChleDogYSBwcmltaXRpdmUsIHN1Y2ggYXMgMCksIHdlIHdhbnQgdG8gZGlyZWN0bHlcbiAgICAgICAgICAvLyByZXR1cm4gdGhlIGNhc2VSZWR1Y2VyIGZ1bmMgYW5kIG5vdCB3cmFwIGl0IHdpdGggcHJvZHVjZS5cbiAgICAgICAgICB2YXIgX3Jlc3VsdCA9IGNhc2VSZWR1Y2VyKHByZXZpb3VzU3RhdGUsIGFjdGlvbik7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIF9yZXN1bHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpZiAocHJldmlvdXNTdGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICByZXR1cm4gcHJldmlvdXNTdGF0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ0EgY2FzZSByZWR1Y2VyIG9uIGEgbm9uLWRyYWZ0YWJsZSB2YWx1ZSBtdXN0IG5vdCByZXR1cm4gdW5kZWZpbmVkJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIF9yZXN1bHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gQHRzLWlnbm9yZSBjcmVhdGVOZXh0U3RhdGUoKSBwcm9kdWNlcyBhbiBJbW11dGFibGU8RHJhZnQ8Uz4+IHJhdGhlclxuICAgICAgICAgIC8vIHRoYW4gYW4gSW1tdXRhYmxlPFM+LCBhbmQgVHlwZVNjcmlwdCBjYW5ub3QgZmluZCBvdXQgaG93IHRvIHJlY29uY2lsZVxuICAgICAgICAgIC8vIHRoZXNlIHR3byB0eXBlcy5cbiAgICAgICAgICByZXR1cm4gY3JlYXRlTmV4dFN0YXRlKHByZXZpb3VzU3RhdGUsIGZ1bmN0aW9uIChkcmFmdCkge1xuICAgICAgICAgICAgcmV0dXJuIGNhc2VSZWR1Y2VyKGRyYWZ0LCBhY3Rpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1N0YXRlO1xuICAgIH0sIHN0YXRlKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0VHlwZSQxKHNsaWNlLCBhY3Rpb25LZXkpIHtcbiAgcmV0dXJuIHNsaWNlICsgXCIvXCIgKyBhY3Rpb25LZXk7XG59XG4vKipcclxuICogQSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYW4gaW5pdGlhbCBzdGF0ZSwgYW4gb2JqZWN0IGZ1bGwgb2YgcmVkdWNlclxyXG4gKiBmdW5jdGlvbnMsIGFuZCBhIFwic2xpY2UgbmFtZVwiLCBhbmQgYXV0b21hdGljYWxseSBnZW5lcmF0ZXNcclxuICogYWN0aW9uIGNyZWF0b3JzIGFuZCBhY3Rpb24gdHlwZXMgdGhhdCBjb3JyZXNwb25kIHRvIHRoZVxyXG4gKiByZWR1Y2VycyBhbmQgc3RhdGUuXHJcbiAqXHJcbiAqIFRoZSBgcmVkdWNlcmAgYXJndW1lbnQgaXMgcGFzc2VkIHRvIGBjcmVhdGVSZWR1Y2VyKClgLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZVNsaWNlKG9wdGlvbnMpIHtcbiAgdmFyIG5hbWUgPSBvcHRpb25zLm5hbWUsXG4gICAgICBpbml0aWFsU3RhdGUgPSBvcHRpb25zLmluaXRpYWxTdGF0ZTtcblxuICBpZiAoIW5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2BuYW1lYCBpcyBhIHJlcXVpcmVkIG9wdGlvbiBmb3IgY3JlYXRlU2xpY2UnKTtcbiAgfVxuXG4gIHZhciByZWR1Y2VycyA9IG9wdGlvbnMucmVkdWNlcnMgfHwge307XG5cbiAgdmFyIF9yZWYgPSB0eXBlb2Ygb3B0aW9ucy5leHRyYVJlZHVjZXJzID09PSAndW5kZWZpbmVkJyA/IFtdIDogdHlwZW9mIG9wdGlvbnMuZXh0cmFSZWR1Y2VycyA9PT0gJ2Z1bmN0aW9uJyA/IGV4ZWN1dGVSZWR1Y2VyQnVpbGRlckNhbGxiYWNrKG9wdGlvbnMuZXh0cmFSZWR1Y2VycykgOiBbb3B0aW9ucy5leHRyYVJlZHVjZXJzXSxcbiAgICAgIF9yZWYkID0gX3JlZlswXSxcbiAgICAgIGV4dHJhUmVkdWNlcnMgPSBfcmVmJCA9PT0gdm9pZCAwID8ge30gOiBfcmVmJCxcbiAgICAgIF9yZWYkMiA9IF9yZWZbMV0sXG4gICAgICBhY3Rpb25NYXRjaGVycyA9IF9yZWYkMiA9PT0gdm9pZCAwID8gW10gOiBfcmVmJDIsXG4gICAgICBfcmVmJDMgPSBfcmVmWzJdLFxuICAgICAgZGVmYXVsdENhc2VSZWR1Y2VyID0gX3JlZiQzID09PSB2b2lkIDAgPyB1bmRlZmluZWQgOiBfcmVmJDM7XG5cbiAgdmFyIHJlZHVjZXJOYW1lcyA9IE9iamVjdC5rZXlzKHJlZHVjZXJzKTtcbiAgdmFyIHNsaWNlQ2FzZVJlZHVjZXJzQnlOYW1lID0ge307XG4gIHZhciBzbGljZUNhc2VSZWR1Y2Vyc0J5VHlwZSA9IHt9O1xuICB2YXIgYWN0aW9uQ3JlYXRvcnMgPSB7fTtcbiAgcmVkdWNlck5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHJlZHVjZXJOYW1lKSB7XG4gICAgdmFyIG1heWJlUmVkdWNlcldpdGhQcmVwYXJlID0gcmVkdWNlcnNbcmVkdWNlck5hbWVdO1xuICAgIHZhciB0eXBlID0gZ2V0VHlwZSQxKG5hbWUsIHJlZHVjZXJOYW1lKTtcbiAgICB2YXIgY2FzZVJlZHVjZXI7XG4gICAgdmFyIHByZXBhcmVDYWxsYmFjaztcblxuICAgIGlmICgncmVkdWNlcicgaW4gbWF5YmVSZWR1Y2VyV2l0aFByZXBhcmUpIHtcbiAgICAgIGNhc2VSZWR1Y2VyID0gbWF5YmVSZWR1Y2VyV2l0aFByZXBhcmUucmVkdWNlcjtcbiAgICAgIHByZXBhcmVDYWxsYmFjayA9IG1heWJlUmVkdWNlcldpdGhQcmVwYXJlLnByZXBhcmU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhc2VSZWR1Y2VyID0gbWF5YmVSZWR1Y2VyV2l0aFByZXBhcmU7XG4gICAgfVxuXG4gICAgc2xpY2VDYXNlUmVkdWNlcnNCeU5hbWVbcmVkdWNlck5hbWVdID0gY2FzZVJlZHVjZXI7XG4gICAgc2xpY2VDYXNlUmVkdWNlcnNCeVR5cGVbdHlwZV0gPSBjYXNlUmVkdWNlcjtcbiAgICBhY3Rpb25DcmVhdG9yc1tyZWR1Y2VyTmFtZV0gPSBwcmVwYXJlQ2FsbGJhY2sgPyBjcmVhdGVBY3Rpb24odHlwZSwgcHJlcGFyZUNhbGxiYWNrKSA6IGNyZWF0ZUFjdGlvbih0eXBlKTtcbiAgfSk7XG5cbiAgdmFyIGZpbmFsQ2FzZVJlZHVjZXJzID0gX2V4dGVuZHMoe30sIGV4dHJhUmVkdWNlcnMsIHt9LCBzbGljZUNhc2VSZWR1Y2Vyc0J5VHlwZSk7XG5cbiAgdmFyIHJlZHVjZXIgPSBjcmVhdGVSZWR1Y2VyKGluaXRpYWxTdGF0ZSwgZmluYWxDYXNlUmVkdWNlcnMsIGFjdGlvbk1hdGNoZXJzLCBkZWZhdWx0Q2FzZVJlZHVjZXIpO1xuICByZXR1cm4ge1xuICAgIG5hbWU6IG5hbWUsXG4gICAgcmVkdWNlcjogcmVkdWNlcixcbiAgICBhY3Rpb25zOiBhY3Rpb25DcmVhdG9ycyxcbiAgICBjYXNlUmVkdWNlcnM6IHNsaWNlQ2FzZVJlZHVjZXJzQnlOYW1lXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldEluaXRpYWxFbnRpdHlTdGF0ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICBpZHM6IFtdLFxuICAgIGVudGl0aWVzOiB7fVxuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlSW5pdGlhbFN0YXRlRmFjdG9yeSgpIHtcbiAgZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKGFkZGl0aW9uYWxTdGF0ZSkge1xuICAgIGlmIChhZGRpdGlvbmFsU3RhdGUgPT09IHZvaWQgMCkge1xuICAgICAgYWRkaXRpb25hbFN0YXRlID0ge307XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oZ2V0SW5pdGlhbEVudGl0eVN0YXRlKCksIGFkZGl0aW9uYWxTdGF0ZSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGdldEluaXRpYWxTdGF0ZTogZ2V0SW5pdGlhbFN0YXRlXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNlbGVjdG9yc0ZhY3RvcnkoKSB7XG4gIGZ1bmN0aW9uIGdldFNlbGVjdG9ycyhzZWxlY3RTdGF0ZSkge1xuICAgIHZhciBzZWxlY3RJZHMgPSBmdW5jdGlvbiBzZWxlY3RJZHMoc3RhdGUpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5pZHM7XG4gICAgfTtcblxuICAgIHZhciBzZWxlY3RFbnRpdGllcyA9IGZ1bmN0aW9uIHNlbGVjdEVudGl0aWVzKHN0YXRlKSB7XG4gICAgICByZXR1cm4gc3RhdGUuZW50aXRpZXM7XG4gICAgfTtcblxuICAgIHZhciBzZWxlY3RBbGwgPSBjcmVhdGVEcmFmdFNhZmVTZWxlY3RvcihzZWxlY3RJZHMsIHNlbGVjdEVudGl0aWVzLCBmdW5jdGlvbiAoaWRzLCBlbnRpdGllcykge1xuICAgICAgcmV0dXJuIGlkcy5tYXAoZnVuY3Rpb24gKGlkKSB7XG4gICAgICAgIHJldHVybiBlbnRpdGllc1tpZF07XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHZhciBzZWxlY3RJZCA9IGZ1bmN0aW9uIHNlbGVjdElkKF8sIGlkKSB7XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfTtcblxuICAgIHZhciBzZWxlY3RCeUlkID0gZnVuY3Rpb24gc2VsZWN0QnlJZChlbnRpdGllcywgaWQpIHtcbiAgICAgIHJldHVybiBlbnRpdGllc1tpZF07XG4gICAgfTtcblxuICAgIHZhciBzZWxlY3RUb3RhbCA9IGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yKHNlbGVjdElkcywgZnVuY3Rpb24gKGlkcykge1xuICAgICAgcmV0dXJuIGlkcy5sZW5ndGg7XG4gICAgfSk7XG5cbiAgICBpZiAoIXNlbGVjdFN0YXRlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZWxlY3RJZHM6IHNlbGVjdElkcyxcbiAgICAgICAgc2VsZWN0RW50aXRpZXM6IHNlbGVjdEVudGl0aWVzLFxuICAgICAgICBzZWxlY3RBbGw6IHNlbGVjdEFsbCxcbiAgICAgICAgc2VsZWN0VG90YWw6IHNlbGVjdFRvdGFsLFxuICAgICAgICBzZWxlY3RCeUlkOiBjcmVhdGVEcmFmdFNhZmVTZWxlY3RvcihzZWxlY3RFbnRpdGllcywgc2VsZWN0SWQsIHNlbGVjdEJ5SWQpXG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBzZWxlY3RHbG9iYWxpemVkRW50aXRpZXMgPSBjcmVhdGVEcmFmdFNhZmVTZWxlY3RvcihzZWxlY3RTdGF0ZSwgc2VsZWN0RW50aXRpZXMpO1xuICAgIHJldHVybiB7XG4gICAgICBzZWxlY3RJZHM6IGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yKHNlbGVjdFN0YXRlLCBzZWxlY3RJZHMpLFxuICAgICAgc2VsZWN0RW50aXRpZXM6IHNlbGVjdEdsb2JhbGl6ZWRFbnRpdGllcyxcbiAgICAgIHNlbGVjdEFsbDogY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3Ioc2VsZWN0U3RhdGUsIHNlbGVjdEFsbCksXG4gICAgICBzZWxlY3RUb3RhbDogY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3Ioc2VsZWN0U3RhdGUsIHNlbGVjdFRvdGFsKSxcbiAgICAgIHNlbGVjdEJ5SWQ6IGNyZWF0ZURyYWZ0U2FmZVNlbGVjdG9yKHNlbGVjdEdsb2JhbGl6ZWRFbnRpdGllcywgc2VsZWN0SWQsIHNlbGVjdEJ5SWQpXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgZ2V0U2VsZWN0b3JzOiBnZXRTZWxlY3RvcnNcbiAgfTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2luZ2xlQXJndW1lbnRTdGF0ZU9wZXJhdG9yKG11dGF0b3IpIHtcbiAgdmFyIG9wZXJhdG9yID0gY3JlYXRlU3RhdGVPcGVyYXRvcihmdW5jdGlvbiAoXywgc3RhdGUpIHtcbiAgICByZXR1cm4gbXV0YXRvcihzdGF0ZSk7XG4gIH0pO1xuICByZXR1cm4gZnVuY3Rpb24gb3BlcmF0aW9uKHN0YXRlKSB7XG4gICAgcmV0dXJuIG9wZXJhdG9yKHN0YXRlLCB1bmRlZmluZWQpO1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU3RhdGVPcGVyYXRvcihtdXRhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiBvcGVyYXRpb24oc3RhdGUsIGFyZykge1xuICAgIGZ1bmN0aW9uIGlzUGF5bG9hZEFjdGlvbkFyZ3VtZW50KGFyZykge1xuICAgICAgcmV0dXJuIGlzRlNBKGFyZyk7XG4gICAgfVxuXG4gICAgdmFyIHJ1bk11dGF0b3IgPSBmdW5jdGlvbiBydW5NdXRhdG9yKGRyYWZ0KSB7XG4gICAgICBpZiAoaXNQYXlsb2FkQWN0aW9uQXJndW1lbnQoYXJnKSkge1xuICAgICAgICBtdXRhdG9yKGFyZy5wYXlsb2FkLCBkcmFmdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtdXRhdG9yKGFyZywgZHJhZnQpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoaXNEcmFmdChzdGF0ZSkpIHtcbiAgICAgIC8vIHdlIG11c3QgYWxyZWFkeSBiZSBpbnNpZGUgYSBgY3JlYXRlTmV4dFN0YXRlYCBjYWxsLCBsaWtlbHkgYmVjYXVzZVxuICAgICAgLy8gdGhpcyBpcyBiZWluZyB3cmFwcGVkIGluIGBjcmVhdGVSZWR1Y2VyYCBvciBgY3JlYXRlU2xpY2VgLlxuICAgICAgLy8gSXQncyBzYWZlIHRvIGp1c3QgcGFzcyB0aGUgZHJhZnQgdG8gdGhlIG11dGF0b3IuXG4gICAgICBydW5NdXRhdG9yKHN0YXRlKTsgLy8gc2luY2UgaXQncyBhIGRyYWZ0LCB3ZSdsbCBqdXN0IHJldHVybiBpdFxuXG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEB0cy1pZ25vcmUgY3JlYXRlTmV4dFN0YXRlKCkgcHJvZHVjZXMgYW4gSW1tdXRhYmxlPERyYWZ0PFM+PiByYXRoZXJcbiAgICAgIC8vIHRoYW4gYW4gSW1tdXRhYmxlPFM+LCBhbmQgVHlwZVNjcmlwdCBjYW5ub3QgZmluZCBvdXQgaG93IHRvIHJlY29uY2lsZVxuICAgICAgLy8gdGhlc2UgdHdvIHR5cGVzLlxuICAgICAgcmV0dXJuIGNyZWF0ZU5leHRTdGF0ZShzdGF0ZSwgcnVuTXV0YXRvcik7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBzZWxlY3RJZFZhbHVlKGVudGl0eSwgc2VsZWN0SWQpIHtcbiAgdmFyIGtleSA9IHNlbGVjdElkKGVudGl0eSk7XG5cbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYga2V5ID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zb2xlLndhcm4oJ1RoZSBlbnRpdHkgcGFzc2VkIHRvIHRoZSBgc2VsZWN0SWRgIGltcGxlbWVudGF0aW9uIHJldHVybmVkIHVuZGVmaW5lZC4nLCAnWW91IHNob3VsZCBwcm9iYWJseSBwcm92aWRlIHlvdXIgb3duIGBzZWxlY3RJZGAgaW1wbGVtZW50YXRpb24uJywgJ1RoZSBlbnRpdHkgdGhhdCB3YXMgcGFzc2VkOicsIGVudGl0eSwgJ1RoZSBgc2VsZWN0SWRgIGltcGxlbWVudGF0aW9uOicsIHNlbGVjdElkLnRvU3RyaW5nKCkpO1xuICB9XG5cbiAgcmV0dXJuIGtleTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlVW5zb3J0ZWRTdGF0ZUFkYXB0ZXIoc2VsZWN0SWQpIHtcbiAgZnVuY3Rpb24gYWRkT25lTXV0YWJseShlbnRpdHksIHN0YXRlKSB7XG4gICAgdmFyIGtleSA9IHNlbGVjdElkVmFsdWUoZW50aXR5LCBzZWxlY3RJZCk7XG5cbiAgICBpZiAoa2V5IGluIHN0YXRlLmVudGl0aWVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc3RhdGUuaWRzLnB1c2goa2V5KTtcbiAgICBzdGF0ZS5lbnRpdGllc1trZXldID0gZW50aXR5O1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkTWFueU11dGFibHkoZW50aXRpZXMsIHN0YXRlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGVudGl0aWVzKSkge1xuICAgICAgZW50aXRpZXMgPSBPYmplY3QudmFsdWVzKGVudGl0aWVzKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBlbnRpdGllcywgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5KF9pdGVyYXRvciksIF9pID0gMCwgX2l0ZXJhdG9yID0gX2lzQXJyYXkgPyBfaXRlcmF0b3IgOiBfaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSgpOzspIHtcbiAgICAgIHZhciBfcmVmO1xuXG4gICAgICBpZiAoX2lzQXJyYXkpIHtcbiAgICAgICAgaWYgKF9pID49IF9pdGVyYXRvci5sZW5ndGgpIGJyZWFrO1xuICAgICAgICBfcmVmID0gX2l0ZXJhdG9yW19pKytdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2kgPSBfaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoX2kuZG9uZSkgYnJlYWs7XG4gICAgICAgIF9yZWYgPSBfaS52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudGl0eSA9IF9yZWY7XG4gICAgICBhZGRPbmVNdXRhYmx5KGVudGl0eSwgc3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEFsbE11dGFibHkoZW50aXRpZXMsIHN0YXRlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGVudGl0aWVzKSkge1xuICAgICAgZW50aXRpZXMgPSBPYmplY3QudmFsdWVzKGVudGl0aWVzKTtcbiAgICB9XG5cbiAgICBzdGF0ZS5pZHMgPSBbXTtcbiAgICBzdGF0ZS5lbnRpdGllcyA9IHt9O1xuICAgIGFkZE1hbnlNdXRhYmx5KGVudGl0aWVzLCBzdGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVPbmVNdXRhYmx5KGtleSwgc3RhdGUpIHtcbiAgICByZXR1cm4gcmVtb3ZlTWFueU11dGFibHkoW2tleV0sIHN0YXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZU1hbnlNdXRhYmx5KGtleXMsIHN0YXRlKSB7XG4gICAgdmFyIGRpZE11dGF0ZSA9IGZhbHNlO1xuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoa2V5IGluIHN0YXRlLmVudGl0aWVzKSB7XG4gICAgICAgIGRlbGV0ZSBzdGF0ZS5lbnRpdGllc1trZXldO1xuICAgICAgICBkaWRNdXRhdGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGRpZE11dGF0ZSkge1xuICAgICAgc3RhdGUuaWRzID0gc3RhdGUuaWRzLmZpbHRlcihmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIGlkIGluIHN0YXRlLmVudGl0aWVzO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQWxsTXV0YWJseShzdGF0ZSkge1xuICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIHtcbiAgICAgIGlkczogW10sXG4gICAgICBlbnRpdGllczoge31cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRha2VOZXdLZXkoa2V5cywgdXBkYXRlLCBzdGF0ZSkge1xuICAgIHZhciBvcmlnaW5hbCA9IHN0YXRlLmVudGl0aWVzW3VwZGF0ZS5pZF07XG4gICAgdmFyIHVwZGF0ZWQgPSBPYmplY3QuYXNzaWduKHt9LCBvcmlnaW5hbCwgdXBkYXRlLmNoYW5nZXMpO1xuICAgIHZhciBuZXdLZXkgPSBzZWxlY3RJZFZhbHVlKHVwZGF0ZWQsIHNlbGVjdElkKTtcbiAgICB2YXIgaGFzTmV3S2V5ID0gbmV3S2V5ICE9PSB1cGRhdGUuaWQ7XG5cbiAgICBpZiAoaGFzTmV3S2V5KSB7XG4gICAgICBrZXlzW3VwZGF0ZS5pZF0gPSBuZXdLZXk7XG4gICAgICBkZWxldGUgc3RhdGUuZW50aXRpZXNbdXBkYXRlLmlkXTtcbiAgICB9XG5cbiAgICBzdGF0ZS5lbnRpdGllc1tuZXdLZXldID0gdXBkYXRlZDtcbiAgICByZXR1cm4gaGFzTmV3S2V5O1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlT25lTXV0YWJseSh1cGRhdGUsIHN0YXRlKSB7XG4gICAgcmV0dXJuIHVwZGF0ZU1hbnlNdXRhYmx5KFt1cGRhdGVdLCBzdGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVNYW55TXV0YWJseSh1cGRhdGVzLCBzdGF0ZSkge1xuICAgIHZhciBuZXdLZXlzID0ge307XG4gICAgdmFyIHVwZGF0ZXNQZXJFbnRpdHkgPSB7fTtcbiAgICB1cGRhdGVzLmZvckVhY2goZnVuY3Rpb24gKHVwZGF0ZSkge1xuICAgICAgLy8gT25seSBhcHBseSB1cGRhdGVzIHRvIGVudGl0aWVzIHRoYXQgY3VycmVudGx5IGV4aXN0XG4gICAgICBpZiAodXBkYXRlLmlkIGluIHN0YXRlLmVudGl0aWVzKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBtdWx0aXBsZSB1cGRhdGVzIHRvIG9uZSBlbnRpdHksIG1lcmdlIHRoZW0gdG9nZXRoZXJcbiAgICAgICAgdXBkYXRlc1BlckVudGl0eVt1cGRhdGUuaWRdID0ge1xuICAgICAgICAgIGlkOiB1cGRhdGUuaWQsXG4gICAgICAgICAgLy8gU3ByZWFkcyBpZ25vcmUgZmFsc3kgdmFsdWVzLCBzbyB0aGlzIHdvcmtzIGV2ZW4gaWYgdGhlcmUgaXNuJ3RcbiAgICAgICAgICAvLyBhbiBleGlzdGluZyB1cGRhdGUgYWxyZWFkeSBhdCB0aGlzIGtleVxuICAgICAgICAgIGNoYW5nZXM6IF9leHRlbmRzKHt9LCB1cGRhdGVzUGVyRW50aXR5W3VwZGF0ZS5pZF0gPyB1cGRhdGVzUGVyRW50aXR5W3VwZGF0ZS5pZF0uY2hhbmdlcyA6IG51bGwsIHt9LCB1cGRhdGUuY2hhbmdlcylcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1cGRhdGVzID0gT2JqZWN0LnZhbHVlcyh1cGRhdGVzUGVyRW50aXR5KTtcbiAgICB2YXIgZGlkTXV0YXRlRW50aXRpZXMgPSB1cGRhdGVzLmxlbmd0aCA+IDA7XG5cbiAgICBpZiAoZGlkTXV0YXRlRW50aXRpZXMpIHtcbiAgICAgIHZhciBkaWRNdXRhdGVJZHMgPSB1cGRhdGVzLmZpbHRlcihmdW5jdGlvbiAodXBkYXRlKSB7XG4gICAgICAgIHJldHVybiB0YWtlTmV3S2V5KG5ld0tleXMsIHVwZGF0ZSwgc3RhdGUpO1xuICAgICAgfSkubGVuZ3RoID4gMDtcblxuICAgICAgaWYgKGRpZE11dGF0ZUlkcykge1xuICAgICAgICBzdGF0ZS5pZHMgPSBzdGF0ZS5pZHMubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgICAgICAgIHJldHVybiBuZXdLZXlzW2lkXSB8fCBpZDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBzZXJ0T25lTXV0YWJseShlbnRpdHksIHN0YXRlKSB7XG4gICAgcmV0dXJuIHVwc2VydE1hbnlNdXRhYmx5KFtlbnRpdHldLCBzdGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cHNlcnRNYW55TXV0YWJseShlbnRpdGllcywgc3RhdGUpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZW50aXRpZXMpKSB7XG4gICAgICBlbnRpdGllcyA9IE9iamVjdC52YWx1ZXMoZW50aXRpZXMpO1xuICAgIH1cblxuICAgIHZhciBhZGRlZCA9IFtdO1xuICAgIHZhciB1cGRhdGVkID0gW107XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gZW50aXRpZXMsIF9pc0FycmF5MiA9IEFycmF5LmlzQXJyYXkoX2l0ZXJhdG9yMiksIF9pMiA9IDAsIF9pdGVyYXRvcjIgPSBfaXNBcnJheTIgPyBfaXRlcmF0b3IyIDogX2l0ZXJhdG9yMltTeW1ib2wuaXRlcmF0b3JdKCk7Oykge1xuICAgICAgdmFyIF9yZWYyO1xuXG4gICAgICBpZiAoX2lzQXJyYXkyKSB7XG4gICAgICAgIGlmIChfaTIgPj0gX2l0ZXJhdG9yMi5sZW5ndGgpIGJyZWFrO1xuICAgICAgICBfcmVmMiA9IF9pdGVyYXRvcjJbX2kyKytdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2kyID0gX2l0ZXJhdG9yMi5uZXh0KCk7XG4gICAgICAgIGlmIChfaTIuZG9uZSkgYnJlYWs7XG4gICAgICAgIF9yZWYyID0gX2kyLnZhbHVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgZW50aXR5ID0gX3JlZjI7XG4gICAgICB2YXIgaWQgPSBzZWxlY3RJZFZhbHVlKGVudGl0eSwgc2VsZWN0SWQpO1xuXG4gICAgICBpZiAoaWQgaW4gc3RhdGUuZW50aXRpZXMpIHtcbiAgICAgICAgdXBkYXRlZC5wdXNoKHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgY2hhbmdlczogZW50aXR5XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRkZWQucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZU1hbnlNdXRhYmx5KHVwZGF0ZWQsIHN0YXRlKTtcbiAgICBhZGRNYW55TXV0YWJseShhZGRlZCwgc3RhdGUpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZW1vdmVBbGw6IGNyZWF0ZVNpbmdsZUFyZ3VtZW50U3RhdGVPcGVyYXRvcihyZW1vdmVBbGxNdXRhYmx5KSxcbiAgICBhZGRPbmU6IGNyZWF0ZVN0YXRlT3BlcmF0b3IoYWRkT25lTXV0YWJseSksXG4gICAgYWRkTWFueTogY3JlYXRlU3RhdGVPcGVyYXRvcihhZGRNYW55TXV0YWJseSksXG4gICAgc2V0QWxsOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHNldEFsbE11dGFibHkpLFxuICAgIHVwZGF0ZU9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcih1cGRhdGVPbmVNdXRhYmx5KSxcbiAgICB1cGRhdGVNYW55OiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHVwZGF0ZU1hbnlNdXRhYmx5KSxcbiAgICB1cHNlcnRPbmU6IGNyZWF0ZVN0YXRlT3BlcmF0b3IodXBzZXJ0T25lTXV0YWJseSksXG4gICAgdXBzZXJ0TWFueTogY3JlYXRlU3RhdGVPcGVyYXRvcih1cHNlcnRNYW55TXV0YWJseSksXG4gICAgcmVtb3ZlT25lOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHJlbW92ZU9uZU11dGFibHkpLFxuICAgIHJlbW92ZU1hbnk6IGNyZWF0ZVN0YXRlT3BlcmF0b3IocmVtb3ZlTWFueU11dGFibHkpXG4gIH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVNvcnRlZFN0YXRlQWRhcHRlcihzZWxlY3RJZCwgc29ydCkge1xuICB2YXIgX2NyZWF0ZVVuc29ydGVkU3RhdGVBID0gY3JlYXRlVW5zb3J0ZWRTdGF0ZUFkYXB0ZXIoc2VsZWN0SWQpLFxuICAgICAgcmVtb3ZlT25lID0gX2NyZWF0ZVVuc29ydGVkU3RhdGVBLnJlbW92ZU9uZSxcbiAgICAgIHJlbW92ZU1hbnkgPSBfY3JlYXRlVW5zb3J0ZWRTdGF0ZUEucmVtb3ZlTWFueSxcbiAgICAgIHJlbW92ZUFsbCA9IF9jcmVhdGVVbnNvcnRlZFN0YXRlQS5yZW1vdmVBbGw7XG5cbiAgZnVuY3Rpb24gYWRkT25lTXV0YWJseShlbnRpdHksIHN0YXRlKSB7XG4gICAgcmV0dXJuIGFkZE1hbnlNdXRhYmx5KFtlbnRpdHldLCBzdGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRNYW55TXV0YWJseShuZXdNb2RlbHMsIHN0YXRlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG5ld01vZGVscykpIHtcbiAgICAgIG5ld01vZGVscyA9IE9iamVjdC52YWx1ZXMobmV3TW9kZWxzKTtcbiAgICB9XG5cbiAgICB2YXIgbW9kZWxzID0gbmV3TW9kZWxzLmZpbHRlcihmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgIHJldHVybiAhKHNlbGVjdElkVmFsdWUobW9kZWwsIHNlbGVjdElkKSBpbiBzdGF0ZS5lbnRpdGllcyk7XG4gICAgfSk7XG5cbiAgICBpZiAobW9kZWxzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgbWVyZ2UobW9kZWxzLCBzdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2V0QWxsTXV0YWJseShtb2RlbHMsIHN0YXRlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG1vZGVscykpIHtcbiAgICAgIG1vZGVscyA9IE9iamVjdC52YWx1ZXMobW9kZWxzKTtcbiAgICB9XG5cbiAgICBzdGF0ZS5lbnRpdGllcyA9IHt9O1xuICAgIHN0YXRlLmlkcyA9IFtdO1xuICAgIGFkZE1hbnlNdXRhYmx5KG1vZGVscywgc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlT25lTXV0YWJseSh1cGRhdGUsIHN0YXRlKSB7XG4gICAgcmV0dXJuIHVwZGF0ZU1hbnlNdXRhYmx5KFt1cGRhdGVdLCBzdGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiB0YWtlVXBkYXRlZE1vZGVsKG1vZGVscywgdXBkYXRlLCBzdGF0ZSkge1xuICAgIGlmICghKHVwZGF0ZS5pZCBpbiBzdGF0ZS5lbnRpdGllcykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgb3JpZ2luYWwgPSBzdGF0ZS5lbnRpdGllc1t1cGRhdGUuaWRdO1xuICAgIHZhciB1cGRhdGVkID0gT2JqZWN0LmFzc2lnbih7fSwgb3JpZ2luYWwsIHVwZGF0ZS5jaGFuZ2VzKTtcbiAgICB2YXIgbmV3S2V5ID0gc2VsZWN0SWRWYWx1ZSh1cGRhdGVkLCBzZWxlY3RJZCk7XG4gICAgZGVsZXRlIHN0YXRlLmVudGl0aWVzW3VwZGF0ZS5pZF07XG4gICAgbW9kZWxzLnB1c2godXBkYXRlZCk7XG4gICAgcmV0dXJuIG5ld0tleSAhPT0gdXBkYXRlLmlkO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTWFueU11dGFibHkodXBkYXRlcywgc3RhdGUpIHtcbiAgICB2YXIgbW9kZWxzID0gW107XG4gICAgdXBkYXRlcy5mb3JFYWNoKGZ1bmN0aW9uICh1cGRhdGUpIHtcbiAgICAgIHJldHVybiB0YWtlVXBkYXRlZE1vZGVsKG1vZGVscywgdXBkYXRlLCBzdGF0ZSk7XG4gICAgfSk7XG5cbiAgICBpZiAobW9kZWxzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgbWVyZ2UobW9kZWxzLCBzdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBzZXJ0T25lTXV0YWJseShlbnRpdHksIHN0YXRlKSB7XG4gICAgcmV0dXJuIHVwc2VydE1hbnlNdXRhYmx5KFtlbnRpdHldLCBzdGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cHNlcnRNYW55TXV0YWJseShlbnRpdGllcywgc3RhdGUpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZW50aXRpZXMpKSB7XG4gICAgICBlbnRpdGllcyA9IE9iamVjdC52YWx1ZXMoZW50aXRpZXMpO1xuICAgIH1cblxuICAgIHZhciBhZGRlZCA9IFtdO1xuICAgIHZhciB1cGRhdGVkID0gW107XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBlbnRpdGllcywgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5KF9pdGVyYXRvciksIF9pID0gMCwgX2l0ZXJhdG9yID0gX2lzQXJyYXkgPyBfaXRlcmF0b3IgOiBfaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSgpOzspIHtcbiAgICAgIHZhciBfcmVmO1xuXG4gICAgICBpZiAoX2lzQXJyYXkpIHtcbiAgICAgICAgaWYgKF9pID49IF9pdGVyYXRvci5sZW5ndGgpIGJyZWFrO1xuICAgICAgICBfcmVmID0gX2l0ZXJhdG9yW19pKytdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2kgPSBfaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoX2kuZG9uZSkgYnJlYWs7XG4gICAgICAgIF9yZWYgPSBfaS52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudGl0eSA9IF9yZWY7XG4gICAgICB2YXIgaWQgPSBzZWxlY3RJZFZhbHVlKGVudGl0eSwgc2VsZWN0SWQpO1xuXG4gICAgICBpZiAoaWQgaW4gc3RhdGUuZW50aXRpZXMpIHtcbiAgICAgICAgdXBkYXRlZC5wdXNoKHtcbiAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgY2hhbmdlczogZW50aXR5XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWRkZWQucHVzaChlbnRpdHkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZU1hbnlNdXRhYmx5KHVwZGF0ZWQsIHN0YXRlKTtcbiAgICBhZGRNYW55TXV0YWJseShhZGRlZCwgc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gYXJlQXJyYXlzRXF1YWwoYSwgYikge1xuICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoICYmIGkgPCBiLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYVtpXSA9PT0gYltpXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gbWVyZ2UobW9kZWxzLCBzdGF0ZSkge1xuICAgIG1vZGVscy5zb3J0KHNvcnQpOyAvLyBJbnNlcnQvb3ZlcndyaXRlIGFsbCBuZXcvdXBkYXRlZFxuXG4gICAgbW9kZWxzLmZvckVhY2goZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICBzdGF0ZS5lbnRpdGllc1tzZWxlY3RJZChtb2RlbCldID0gbW9kZWw7XG4gICAgfSk7XG4gICAgdmFyIGFsbEVudGl0aWVzID0gT2JqZWN0LnZhbHVlcyhzdGF0ZS5lbnRpdGllcyk7XG4gICAgYWxsRW50aXRpZXMuc29ydChzb3J0KTtcbiAgICB2YXIgbmV3U29ydGVkSWRzID0gYWxsRW50aXRpZXMubWFwKHNlbGVjdElkKTtcbiAgICB2YXIgaWRzID0gc3RhdGUuaWRzO1xuXG4gICAgaWYgKCFhcmVBcnJheXNFcXVhbChpZHMsIG5ld1NvcnRlZElkcykpIHtcbiAgICAgIHN0YXRlLmlkcyA9IG5ld1NvcnRlZElkcztcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlbW92ZU9uZTogcmVtb3ZlT25lLFxuICAgIHJlbW92ZU1hbnk6IHJlbW92ZU1hbnksXG4gICAgcmVtb3ZlQWxsOiByZW1vdmVBbGwsXG4gICAgYWRkT25lOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKGFkZE9uZU11dGFibHkpLFxuICAgIHVwZGF0ZU9uZTogY3JlYXRlU3RhdGVPcGVyYXRvcih1cGRhdGVPbmVNdXRhYmx5KSxcbiAgICB1cHNlcnRPbmU6IGNyZWF0ZVN0YXRlT3BlcmF0b3IodXBzZXJ0T25lTXV0YWJseSksXG4gICAgc2V0QWxsOiBjcmVhdGVTdGF0ZU9wZXJhdG9yKHNldEFsbE11dGFibHkpLFxuICAgIGFkZE1hbnk6IGNyZWF0ZVN0YXRlT3BlcmF0b3IoYWRkTWFueU11dGFibHkpLFxuICAgIHVwZGF0ZU1hbnk6IGNyZWF0ZVN0YXRlT3BlcmF0b3IodXBkYXRlTWFueU11dGFibHkpLFxuICAgIHVwc2VydE1hbnk6IGNyZWF0ZVN0YXRlT3BlcmF0b3IodXBzZXJ0TWFueU11dGFibHkpXG4gIH07XG59XG5cbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gb3B0aW9uc1xyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVFbnRpdHlBZGFwdGVyKG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuXG4gIHZhciBfc29ydENvbXBhcmVyJHNlbGVjdEkgPSBfZXh0ZW5kcyh7XG4gICAgc29ydENvbXBhcmVyOiBmYWxzZSxcbiAgICBzZWxlY3RJZDogZnVuY3Rpb24gc2VsZWN0SWQoaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZS5pZDtcbiAgICB9XG4gIH0sIG9wdGlvbnMpLFxuICAgICAgc2VsZWN0SWQgPSBfc29ydENvbXBhcmVyJHNlbGVjdEkuc2VsZWN0SWQsXG4gICAgICBzb3J0Q29tcGFyZXIgPSBfc29ydENvbXBhcmVyJHNlbGVjdEkuc29ydENvbXBhcmVyO1xuXG4gIHZhciBzdGF0ZUZhY3RvcnkgPSBjcmVhdGVJbml0aWFsU3RhdGVGYWN0b3J5KCk7XG4gIHZhciBzZWxlY3RvcnNGYWN0b3J5ID0gY3JlYXRlU2VsZWN0b3JzRmFjdG9yeSgpO1xuICB2YXIgc3RhdGVBZGFwdGVyID0gc29ydENvbXBhcmVyID8gY3JlYXRlU29ydGVkU3RhdGVBZGFwdGVyKHNlbGVjdElkLCBzb3J0Q29tcGFyZXIpIDogY3JlYXRlVW5zb3J0ZWRTdGF0ZUFkYXB0ZXIoc2VsZWN0SWQpO1xuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIHNlbGVjdElkOiBzZWxlY3RJZCxcbiAgICBzb3J0Q29tcGFyZXI6IHNvcnRDb21wYXJlclxuICB9LCBzdGF0ZUZhY3RvcnksIHt9LCBzZWxlY3RvcnNGYWN0b3J5LCB7fSwgc3RhdGVBZGFwdGVyKTtcbn1cblxuLy8gQSB0eXBlIG9mIHByb21pc2UtbGlrZSB0aGF0IHJlc29sdmVzIHN5bmNocm9ub3VzbHkgYW5kIHN1cHBvcnRzIG9ubHkgb25lIG9ic2VydmVyXG5cbmNvbnN0IF9pdGVyYXRvclN5bWJvbCA9IC8qI19fUFVSRV9fKi8gdHlwZW9mIFN5bWJvbCAhPT0gXCJ1bmRlZmluZWRcIiA/IChTeW1ib2wuaXRlcmF0b3IgfHwgKFN5bWJvbC5pdGVyYXRvciA9IFN5bWJvbChcIlN5bWJvbC5pdGVyYXRvclwiKSkpIDogXCJAQGl0ZXJhdG9yXCI7XG5cbmNvbnN0IF9hc3luY0l0ZXJhdG9yU3ltYm9sID0gLyojX19QVVJFX18qLyB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiID8gKFN5bWJvbC5hc3luY0l0ZXJhdG9yIHx8IChTeW1ib2wuYXN5bmNJdGVyYXRvciA9IFN5bWJvbChcIlN5bWJvbC5hc3luY0l0ZXJhdG9yXCIpKSkgOiBcIkBAYXN5bmNJdGVyYXRvclwiO1xuXG4vLyBBc3luY2hyb25vdXNseSBjYWxsIGEgZnVuY3Rpb24gYW5kIHNlbmQgZXJyb3JzIHRvIHJlY292ZXJ5IGNvbnRpbnVhdGlvblxuZnVuY3Rpb24gX2NhdGNoKGJvZHksIHJlY292ZXIpIHtcblx0dHJ5IHtcblx0XHR2YXIgcmVzdWx0ID0gYm9keSgpO1xuXHR9IGNhdGNoKGUpIHtcblx0XHRyZXR1cm4gcmVjb3ZlcihlKTtcblx0fVxuXHRpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuKSB7XG5cdFx0cmV0dXJuIHJlc3VsdC50aGVuKHZvaWQgMCwgcmVjb3Zlcik7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gQm9ycm93ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vYWkvbmFub2lkL2Jsb2IvMy4wLjIvbm9uLXNlY3VyZS9pbmRleC5qc1xuLy8gVGhpcyBhbHBoYWJldCB1c2VzIGBBLVphLXowLTlfLWAgc3ltYm9scy4gQSBnZW5ldGljIGFsZ29yaXRobSBoZWxwZWRcbi8vIG9wdGltaXplIHRoZSBnemlwIGNvbXByZXNzaW9uIGZvciB0aGlzIGFscGhhYmV0LlxudmFyIHVybEFscGhhYmV0ID0gJ01vZHVsZVN5bWJoYXNPd25Qci0wMTIzNDU2Nzg5QUJDREVGR0hOUlZmZ2N0aVV2el9LcVlUSmtMeHBaWElqUVcnO1xuLyoqXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cbnZhciBuYW5vaWQgPSBmdW5jdGlvbiBuYW5vaWQoc2l6ZSkge1xuICBpZiAoc2l6ZSA9PT0gdm9pZCAwKSB7XG4gICAgc2l6ZSA9IDIxO1xuICB9XG5cbiAgdmFyIGlkID0gJyc7IC8vIEEgY29tcGFjdCBhbHRlcm5hdGl2ZSBmb3IgYGZvciAodmFyIGkgPSAwOyBpIDwgc3RlcDsgaSsrKWAuXG5cbiAgdmFyIGkgPSBzaXplO1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICAvLyBgfCAwYCBpcyBtb3JlIGNvbXBhY3QgYW5kIGZhc3RlciB0aGFuIGBNYXRoLmZsb29yKClgLlxuICAgIGlkICs9IHVybEFscGhhYmV0W01hdGgucmFuZG9tKCkgKiA2NCB8IDBdO1xuICB9XG5cbiAgcmV0dXJuIGlkO1xufTtcblxudmFyIGNvbW1vblByb3BlcnRpZXMgPSBbJ25hbWUnLCAnbWVzc2FnZScsICdzdGFjaycsICdjb2RlJ107XG5cbnZhciBSZWplY3RXaXRoVmFsdWUgPSBmdW5jdGlvbiBSZWplY3RXaXRoVmFsdWUocGF5bG9hZCkge1xuICB0aGlzLnBheWxvYWQgPSBwYXlsb2FkO1xuICB0aGlzLm5hbWUgPSAnUmVqZWN0V2l0aFZhbHVlJztcbiAgdGhpcy5tZXNzYWdlID0gJ1JlamVjdGVkJztcbn07IC8vIFJld29ya2VkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3NpbmRyZXNvcmh1cy9zZXJpYWxpemUtZXJyb3JcblxuXG52YXIgbWluaVNlcmlhbGl6ZUVycm9yID0gZnVuY3Rpb24gbWluaVNlcmlhbGl6ZUVycm9yKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgdmFyIHNpbXBsZUVycm9yID0ge307XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBjb21tb25Qcm9wZXJ0aWVzLCBfaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoX2l0ZXJhdG9yKSwgX2kgPSAwLCBfaXRlcmF0b3IgPSBfaXNBcnJheSA/IF9pdGVyYXRvciA6IF9pdGVyYXRvcltTeW1ib2wuaXRlcmF0b3JdKCk7Oykge1xuICAgICAgdmFyIF9yZWY7XG5cbiAgICAgIGlmIChfaXNBcnJheSkge1xuICAgICAgICBpZiAoX2kgPj0gX2l0ZXJhdG9yLmxlbmd0aCkgYnJlYWs7XG4gICAgICAgIF9yZWYgPSBfaXRlcmF0b3JbX2krK107XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBfaSA9IF9pdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIGlmIChfaS5kb25lKSBicmVhaztcbiAgICAgICAgX3JlZiA9IF9pLnZhbHVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvcGVydHkgPSBfcmVmO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlW3Byb3BlcnR5XSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgc2ltcGxlRXJyb3JbcHJvcGVydHldID0gdmFsdWVbcHJvcGVydHldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBzaW1wbGVFcnJvcjtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbWVzc2FnZTogU3RyaW5nKHZhbHVlKVxuICB9O1xufTtcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gdHlwZVByZWZpeFxyXG4gKiBAcGFyYW0gcGF5bG9hZENyZWF0b3JcclxuICogQHBhcmFtIG9wdGlvbnNcclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlQXN5bmNUaHVuayh0eXBlUHJlZml4LCBwYXlsb2FkQ3JlYXRvciwgb3B0aW9ucykge1xuICB2YXIgZnVsZmlsbGVkID0gY3JlYXRlQWN0aW9uKHR5cGVQcmVmaXggKyAnL2Z1bGZpbGxlZCcsIGZ1bmN0aW9uIChyZXN1bHQsIHJlcXVlc3RJZCwgYXJnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBheWxvYWQ6IHJlc3VsdCxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgYXJnOiBhcmcsXG4gICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdElkLFxuICAgICAgICByZXF1ZXN0U3RhdHVzOiAnZnVsZmlsbGVkJ1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICB2YXIgcGVuZGluZyA9IGNyZWF0ZUFjdGlvbih0eXBlUHJlZml4ICsgJy9wZW5kaW5nJywgZnVuY3Rpb24gKHJlcXVlc3RJZCwgYXJnKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBheWxvYWQ6IHVuZGVmaW5lZCxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgYXJnOiBhcmcsXG4gICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdElkLFxuICAgICAgICByZXF1ZXN0U3RhdHVzOiAncGVuZGluZydcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgdmFyIHJlamVjdGVkID0gY3JlYXRlQWN0aW9uKHR5cGVQcmVmaXggKyAnL3JlamVjdGVkJywgZnVuY3Rpb24gKGVycm9yLCByZXF1ZXN0SWQsIGFyZykge1xuICAgIHZhciByZWplY3RlZFdpdGhWYWx1ZSA9IGVycm9yIGluc3RhbmNlb2YgUmVqZWN0V2l0aFZhbHVlO1xuICAgIHZhciBhYm9ydGVkID0gISFlcnJvciAmJiBlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcic7XG4gICAgdmFyIGNvbmRpdGlvbiA9ICEhZXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ0NvbmRpdGlvbkVycm9yJztcbiAgICByZXR1cm4ge1xuICAgICAgcGF5bG9hZDogZXJyb3IgaW5zdGFuY2VvZiBSZWplY3RXaXRoVmFsdWUgPyBlcnJvci5wYXlsb2FkIDogdW5kZWZpbmVkLFxuICAgICAgZXJyb3I6IChvcHRpb25zICYmIG9wdGlvbnMuc2VyaWFsaXplRXJyb3IgfHwgbWluaVNlcmlhbGl6ZUVycm9yKShlcnJvciB8fCAnUmVqZWN0ZWQnKSxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgYXJnOiBhcmcsXG4gICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdElkLFxuICAgICAgICByZWplY3RlZFdpdGhWYWx1ZTogcmVqZWN0ZWRXaXRoVmFsdWUsXG4gICAgICAgIHJlcXVlc3RTdGF0dXM6ICdyZWplY3RlZCcsXG4gICAgICAgIGFib3J0ZWQ6IGFib3J0ZWQsXG4gICAgICAgIGNvbmRpdGlvbjogY29uZGl0aW9uXG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHZhciBkaXNwbGF5ZWRXYXJuaW5nID0gZmFsc2U7XG4gIHZhciBBQyA9IHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgIT09ICd1bmRlZmluZWQnID8gQWJvcnRDb250cm9sbGVyIDpcbiAgLyojX19QVVJFX18qL1xuICBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gX2NsYXNzKCkge1xuICAgICAgdGhpcy5zaWduYWwgPSB7XG4gICAgICAgIGFib3J0ZWQ6IGZhbHNlLFxuICAgICAgICBhZGRFdmVudExpc3RlbmVyOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKCkge30sXG4gICAgICAgIGRpc3BhdGNoRXZlbnQ6IGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBvbmFib3J0OiBmdW5jdGlvbiBvbmFib3J0KCkge30sXG4gICAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7fVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgX3Byb3RvID0gX2NsYXNzLnByb3RvdHlwZTtcblxuICAgIF9wcm90by5hYm9ydCA9IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKCFkaXNwbGF5ZWRXYXJuaW5nKSB7XG4gICAgICAgICAgZGlzcGxheWVkV2FybmluZyA9IHRydWU7XG4gICAgICAgICAgY29uc29sZS5pbmZvKFwiVGhpcyBwbGF0Zm9ybSBkb2VzIG5vdCBpbXBsZW1lbnQgQWJvcnRDb250cm9sbGVyLiBcXG5JZiB5b3Ugd2FudCB0byB1c2UgdGhlIEFib3J0Q29udHJvbGxlciB0byByZWFjdCB0byBgYWJvcnRgIGV2ZW50cywgcGxlYXNlIGNvbnNpZGVyIGltcG9ydGluZyBhIHBvbHlmaWxsIGxpa2UgJ2Fib3J0Y29udHJvbGxlci1wb2x5ZmlsbC9kaXN0L2Fib3J0Y29udHJvbGxlci1wb2x5ZmlsbC1vbmx5Jy5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIF9jbGFzcztcbiAgfSgpO1xuXG4gIGZ1bmN0aW9uIGFjdGlvbkNyZWF0b3IoYXJnKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkaXNwYXRjaCwgZ2V0U3RhdGUsIGV4dHJhKSB7XG4gICAgICB2YXIgcmVxdWVzdElkID0gbmFub2lkKCk7XG4gICAgICB2YXIgYWJvcnRDb250cm9sbGVyID0gbmV3IEFDKCk7XG4gICAgICB2YXIgYWJvcnRSZWFzb247XG4gICAgICB2YXIgYWJvcnRlZFByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoXywgcmVqZWN0KSB7XG4gICAgICAgIHJldHVybiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiByZWplY3Qoe1xuICAgICAgICAgICAgbmFtZTogJ0Fib3J0RXJyb3InLFxuICAgICAgICAgICAgbWVzc2FnZTogYWJvcnRSZWFzb24gfHwgJ0Fib3J0ZWQnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICB2YXIgc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgICBmdW5jdGlvbiBhYm9ydChyZWFzb24pIHtcbiAgICAgICAgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgICAgICBhYm9ydFJlYXNvbiA9IHJlYXNvbjtcbiAgICAgICAgICBhYm9ydENvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgX3RlbXAzID0gZnVuY3Rpb24gX3RlbXAzKF9yZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChfZXhpdDIpIHJldHVybiBfcmVzdWx0O1xuICAgICAgICAgICAgLy8gV2UgZGlzcGF0Y2ggdGhlIHJlc3VsdCBhY3Rpb24gX2FmdGVyXyB0aGUgY2F0Y2gsIHRvIGF2b2lkIGhhdmluZyBhbnkgZXJyb3JzXG4gICAgICAgICAgICAvLyBoZXJlIGdldCBzd2FsbG93ZWQgYnkgdGhlIHRyeS9jYXRjaCBibG9jayxcbiAgICAgICAgICAgIC8vIHBlciBodHRwczovL3R3aXR0ZXIuY29tL2Rhbl9hYnJhbW92L3N0YXR1cy83NzA5MTQyMjE2Mzg5NDI3MjBcbiAgICAgICAgICAgIC8vIGFuZCBodHRwczovL3JlZHV4LXRvb2xraXQuanMub3JnL3R1dG9yaWFscy9hZHZhbmNlZC10dXRvcmlhbCNhc3luYy1lcnJvci1oYW5kbGluZy1sb2dpYy1pbi10aHVua3NcbiAgICAgICAgICAgIHZhciBza2lwRGlzcGF0Y2ggPSBvcHRpb25zICYmICFvcHRpb25zLmRpc3BhdGNoQ29uZGl0aW9uUmVqZWN0aW9uICYmIHJlamVjdGVkLm1hdGNoKGZpbmFsQWN0aW9uKSAmJiBmaW5hbEFjdGlvbi5tZXRhLmNvbmRpdGlvbjtcblxuICAgICAgICAgICAgaWYgKCFza2lwRGlzcGF0Y2gpIHtcbiAgICAgICAgICAgICAgZGlzcGF0Y2goZmluYWxBY3Rpb24pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmluYWxBY3Rpb247XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHZhciBfZXhpdDIgPSBmYWxzZTtcbiAgICAgICAgICB2YXIgZmluYWxBY3Rpb247XG5cbiAgICAgICAgICB2YXIgX3RlbXA0ID0gX2NhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuY29uZGl0aW9uICYmIG9wdGlvbnMuY29uZGl0aW9uKGFyZywge1xuICAgICAgICAgICAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG4gICAgICAgICAgICAgIGV4dHJhOiBleHRyYVxuICAgICAgICAgICAgfSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby10aHJvdy1saXRlcmFsXG4gICAgICAgICAgICAgIHRocm93IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnQ29uZGl0aW9uRXJyb3InLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdBYm9ydGVkIGR1ZSB0byBjb25kaXRpb24gY2FsbGJhY2sgcmV0dXJuaW5nIGZhbHNlLidcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBkaXNwYXRjaChwZW5kaW5nKHJlcXVlc3RJZCwgYXJnKSk7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFByb21pc2UucmFjZShbYWJvcnRlZFByb21pc2UsIFByb21pc2UucmVzb2x2ZShwYXlsb2FkQ3JlYXRvcihhcmcsIHtcbiAgICAgICAgICAgICAgZGlzcGF0Y2g6IGRpc3BhdGNoLFxuICAgICAgICAgICAgICBnZXRTdGF0ZTogZ2V0U3RhdGUsXG4gICAgICAgICAgICAgIGV4dHJhOiBleHRyYSxcbiAgICAgICAgICAgICAgcmVxdWVzdElkOiByZXF1ZXN0SWQsXG4gICAgICAgICAgICAgIHNpZ25hbDogYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgICAgICAgcmVqZWN0V2l0aFZhbHVlOiBmdW5jdGlvbiByZWplY3RXaXRoVmFsdWUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlamVjdFdpdGhWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFJlamVjdFdpdGhWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3RlZChyZXN1bHQsIHJlcXVlc3RJZCwgYXJnKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiBmdWxmaWxsZWQocmVzdWx0LCByZXF1ZXN0SWQsIGFyZyk7XG4gICAgICAgICAgICB9KV0pKS50aGVuKGZ1bmN0aW9uIChfUHJvbWlzZSRyYWNlKSB7XG4gICAgICAgICAgICAgIGZpbmFsQWN0aW9uID0gX1Byb21pc2UkcmFjZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGZpbmFsQWN0aW9uID0gcmVqZWN0ZWQoZXJyLCByZXF1ZXN0SWQsIGFyZyk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKF90ZW1wNCAmJiBfdGVtcDQudGhlbiA/IF90ZW1wNC50aGVuKF90ZW1wMykgOiBfdGVtcDMoX3RlbXA0KSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICAgIH0oKTtcblxuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24ocHJvbWlzZSwge1xuICAgICAgICBhYm9ydDogYWJvcnQsXG4gICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdElkLFxuICAgICAgICBhcmc6IGFyZ1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBPYmplY3QuYXNzaWduKGFjdGlvbkNyZWF0b3IsIHtcbiAgICBwZW5kaW5nOiBwZW5kaW5nLFxuICAgIHJlamVjdGVkOiByZWplY3RlZCxcbiAgICBmdWxmaWxsZWQ6IGZ1bGZpbGxlZCxcbiAgICB0eXBlUHJlZml4OiB0eXBlUHJlZml4XG4gIH0pO1xufVxuLyoqXHJcbiAqIEBwdWJsaWNcclxuICovXG5cbmZ1bmN0aW9uIHVud3JhcFJlc3VsdChhY3Rpb24pIHtcbiAgaWYgKGFjdGlvbi5tZXRhICYmIGFjdGlvbi5tZXRhLnJlamVjdGVkV2l0aFZhbHVlKSB7XG4gICAgdGhyb3cgYWN0aW9uLnBheWxvYWQ7XG4gIH1cblxuICBpZiAoYWN0aW9uLmVycm9yKSB7XG4gICAgdGhyb3cgYWN0aW9uLmVycm9yO1xuICB9XG5cbiAgcmV0dXJuIGFjdGlvbi5wYXlsb2FkO1xufVxuXG52YXIgaGFzTWF0Y2hGdW5jdGlvbiA9IGZ1bmN0aW9uIGhhc01hdGNoRnVuY3Rpb24odikge1xuICByZXR1cm4gdiAmJiB0eXBlb2Ygdi5tYXRjaCA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbnZhciBtYXRjaGVzID0gZnVuY3Rpb24gbWF0Y2hlcyhtYXRjaGVyLCBhY3Rpb24pIHtcbiAgaWYgKGhhc01hdGNoRnVuY3Rpb24obWF0Y2hlcikpIHtcbiAgICByZXR1cm4gbWF0Y2hlci5tYXRjaChhY3Rpb24pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBtYXRjaGVyKGFjdGlvbik7XG4gIH1cbn07XG4vKipcclxuICogQSBoaWdoZXItb3JkZXIgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBtYXkgYmUgdXNlZCB0byBjaGVja1xyXG4gKiB3aGV0aGVyIGFuIGFjdGlvbiBtYXRjaGVzIGFueSBvbmUgb2YgdGhlIHN1cHBsaWVkIHR5cGUgZ3VhcmRzIG9yIGFjdGlvblxyXG4gKiBjcmVhdG9ycy5cclxuICpcclxuICogQHBhcmFtIG1hdGNoZXJzIFRoZSB0eXBlIGd1YXJkcyBvciBhY3Rpb24gY3JlYXRvcnMgdG8gbWF0Y2ggYWdhaW5zdC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cblxuXG5mdW5jdGlvbiBpc0FueU9mKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWF0Y2hlcnMgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgbWF0Y2hlcnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIHJldHVybiBtYXRjaGVycy5zb21lKGZ1bmN0aW9uIChtYXRjaGVyKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlcyhtYXRjaGVyLCBhY3Rpb24pO1xuICAgIH0pO1xuICB9O1xufVxuLyoqXHJcbiAqIEEgaGlnaGVyLW9yZGVyIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgbWF5IGJlIHVzZWQgdG8gY2hlY2tcclxuICogd2hldGhlciBhbiBhY3Rpb24gbWF0Y2hlcyBhbGwgb2YgdGhlIHN1cHBsaWVkIHR5cGUgZ3VhcmRzIG9yIGFjdGlvblxyXG4gKiBjcmVhdG9ycy5cclxuICpcclxuICogQHBhcmFtIG1hdGNoZXJzIFRoZSB0eXBlIGd1YXJkcyBvciBhY3Rpb24gY3JlYXRvcnMgdG8gbWF0Y2ggYWdhaW5zdC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cblxuZnVuY3Rpb24gaXNBbGxPZigpIHtcbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBtYXRjaGVycyA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgIG1hdGNoZXJzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIHJldHVybiBtYXRjaGVycy5ldmVyeShmdW5jdGlvbiAobWF0Y2hlcikge1xuICAgICAgcmV0dXJuIG1hdGNoZXMobWF0Y2hlciwgYWN0aW9uKTtcbiAgICB9KTtcbiAgfTtcbn1cbi8qKlxyXG4gKiBAcGFyYW0gYWN0aW9uIEEgcmVkdXggYWN0aW9uXHJcbiAqIEBwYXJhbSB2YWxpZFN0YXR1cyBBbiBhcnJheSBvZiB2YWxpZCBtZXRhLnJlcXVlc3RTdGF0dXMgdmFsdWVzXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cblxuZnVuY3Rpb24gaGFzRXhwZWN0ZWRSZXF1ZXN0TWV0YWRhdGEoYWN0aW9uLCB2YWxpZFN0YXR1cykge1xuICBpZiAoIWFjdGlvbiB8fCAhYWN0aW9uLm1ldGEpIHJldHVybiBmYWxzZTtcbiAgdmFyIGhhc1ZhbGlkUmVxdWVzdElkID0gdHlwZW9mIGFjdGlvbi5tZXRhLnJlcXVlc3RJZCA9PT0gJ3N0cmluZyc7XG4gIHZhciBoYXNWYWxpZFJlcXVlc3RTdGF0dXMgPSB2YWxpZFN0YXR1cy5pbmRleE9mKGFjdGlvbi5tZXRhLnJlcXVlc3RTdGF0dXMpID4gLTE7XG4gIHJldHVybiBoYXNWYWxpZFJlcXVlc3RJZCAmJiBoYXNWYWxpZFJlcXVlc3RTdGF0dXM7XG59XG5cbmZ1bmN0aW9uIGlzQXN5bmNUaHVua0FycmF5KGEpIHtcbiAgcmV0dXJuIHR5cGVvZiBhWzBdID09PSAnZnVuY3Rpb24nICYmICdwZW5kaW5nJyBpbiBhWzBdICYmICdmdWxmaWxsZWQnIGluIGFbMF0gJiYgJ3JlamVjdGVkJyBpbiBhWzBdO1xufVxuXG5mdW5jdGlvbiBpc1BlbmRpbmcoKSB7XG4gIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXN5bmNUaHVua3MgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICBhc3luY1RodW5rc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICB9XG5cbiAgaWYgKGFzeW5jVGh1bmtzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICByZXR1cm4gaGFzRXhwZWN0ZWRSZXF1ZXN0TWV0YWRhdGEoYWN0aW9uLCBbJ3BlbmRpbmcnXSk7XG4gICAgfTtcbiAgfVxuXG4gIGlmICghaXNBc3luY1RodW5rQXJyYXkoYXN5bmNUaHVua3MpKSB7XG4gICAgcmV0dXJuIGlzUGVuZGluZygpKGFzeW5jVGh1bmtzWzBdKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgLy8gbm90ZTogdGhpcyB0eXBlIHdpbGwgYmUgY29ycmVjdCBiZWNhdXNlIHdlIGhhdmUgYXQgbGVhc3QgMSBhc3luY1RodW5rXG4gICAgdmFyIG1hdGNoZXJzID0gYXN5bmNUaHVua3MubWFwKGZ1bmN0aW9uIChhc3luY1RodW5rKSB7XG4gICAgICByZXR1cm4gYXN5bmNUaHVuay5wZW5kaW5nO1xuICAgIH0pO1xuICAgIHZhciBjb21iaW5lZE1hdGNoZXIgPSBpc0FueU9mLmFwcGx5KHZvaWQgMCwgbWF0Y2hlcnMpO1xuICAgIHJldHVybiBjb21iaW5lZE1hdGNoZXIoYWN0aW9uKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzUmVqZWN0ZWQoKSB7XG4gIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgYXN5bmNUaHVua3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICBhc3luY1RodW5rc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICB9XG5cbiAgaWYgKGFzeW5jVGh1bmtzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICByZXR1cm4gaGFzRXhwZWN0ZWRSZXF1ZXN0TWV0YWRhdGEoYWN0aW9uLCBbJ3JlamVjdGVkJ10pO1xuICAgIH07XG4gIH1cblxuICBpZiAoIWlzQXN5bmNUaHVua0FycmF5KGFzeW5jVGh1bmtzKSkge1xuICAgIHJldHVybiBpc1JlamVjdGVkKCkoYXN5bmNUaHVua3NbMF0pO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAvLyBub3RlOiB0aGlzIHR5cGUgd2lsbCBiZSBjb3JyZWN0IGJlY2F1c2Ugd2UgaGF2ZSBhdCBsZWFzdCAxIGFzeW5jVGh1bmtcbiAgICB2YXIgbWF0Y2hlcnMgPSBhc3luY1RodW5rcy5tYXAoZnVuY3Rpb24gKGFzeW5jVGh1bmspIHtcbiAgICAgIHJldHVybiBhc3luY1RodW5rLnJlamVjdGVkO1xuICAgIH0pO1xuICAgIHZhciBjb21iaW5lZE1hdGNoZXIgPSBpc0FueU9mLmFwcGx5KHZvaWQgMCwgbWF0Y2hlcnMpO1xuICAgIHJldHVybiBjb21iaW5lZE1hdGNoZXIoYWN0aW9uKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzUmVqZWN0ZWRXaXRoVmFsdWUoKSB7XG4gIGZvciAodmFyIF9sZW41ID0gYXJndW1lbnRzLmxlbmd0aCwgYXN5bmNUaHVua3MgPSBuZXcgQXJyYXkoX2xlbjUpLCBfa2V5NSA9IDA7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcbiAgICBhc3luY1RodW5rc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICB9XG5cbiAgdmFyIGhhc0ZsYWcgPSBmdW5jdGlvbiBoYXNGbGFnKGFjdGlvbikge1xuICAgIHJldHVybiBhY3Rpb24gJiYgYWN0aW9uLm1ldGEgJiYgYWN0aW9uLm1ldGEucmVqZWN0ZWRXaXRoVmFsdWU7XG4gIH07XG5cbiAgaWYgKGFzeW5jVGh1bmtzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICB2YXIgY29tYmluZWRNYXRjaGVyID0gaXNBbGxPZihpc1JlamVjdGVkLmFwcGx5KHZvaWQgMCwgYXN5bmNUaHVua3MpLCBoYXNGbGFnKTtcbiAgICAgIHJldHVybiBjb21iaW5lZE1hdGNoZXIoYWN0aW9uKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKCFpc0FzeW5jVGh1bmtBcnJheShhc3luY1RodW5rcykpIHtcbiAgICByZXR1cm4gaXNSZWplY3RlZFdpdGhWYWx1ZSgpKGFzeW5jVGh1bmtzWzBdKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgdmFyIGNvbWJpbmVkTWF0Y2hlciA9IGlzQWxsT2YoaXNSZWplY3RlZC5hcHBseSh2b2lkIDAsIGFzeW5jVGh1bmtzKSwgaGFzRmxhZyk7XG4gICAgcmV0dXJuIGNvbWJpbmVkTWF0Y2hlcihhY3Rpb24pO1xuICB9O1xufVxuZnVuY3Rpb24gaXNGdWxmaWxsZWQoKSB7XG4gIGZvciAodmFyIF9sZW42ID0gYXJndW1lbnRzLmxlbmd0aCwgYXN5bmNUaHVua3MgPSBuZXcgQXJyYXkoX2xlbjYpLCBfa2V5NiA9IDA7IF9rZXk2IDwgX2xlbjY7IF9rZXk2KyspIHtcbiAgICBhc3luY1RodW5rc1tfa2V5Nl0gPSBhcmd1bWVudHNbX2tleTZdO1xuICB9XG5cbiAgaWYgKGFzeW5jVGh1bmtzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICByZXR1cm4gaGFzRXhwZWN0ZWRSZXF1ZXN0TWV0YWRhdGEoYWN0aW9uLCBbJ2Z1bGZpbGxlZCddKTtcbiAgICB9O1xuICB9XG5cbiAgaWYgKCFpc0FzeW5jVGh1bmtBcnJheShhc3luY1RodW5rcykpIHtcbiAgICByZXR1cm4gaXNGdWxmaWxsZWQoKShhc3luY1RodW5rc1swXSk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgIC8vIG5vdGU6IHRoaXMgdHlwZSB3aWxsIGJlIGNvcnJlY3QgYmVjYXVzZSB3ZSBoYXZlIGF0IGxlYXN0IDEgYXN5bmNUaHVua1xuICAgIHZhciBtYXRjaGVycyA9IGFzeW5jVGh1bmtzLm1hcChmdW5jdGlvbiAoYXN5bmNUaHVuaykge1xuICAgICAgcmV0dXJuIGFzeW5jVGh1bmsuZnVsZmlsbGVkO1xuICAgIH0pO1xuICAgIHZhciBjb21iaW5lZE1hdGNoZXIgPSBpc0FueU9mLmFwcGx5KHZvaWQgMCwgbWF0Y2hlcnMpO1xuICAgIHJldHVybiBjb21iaW5lZE1hdGNoZXIoYWN0aW9uKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzQXN5bmNUaHVua0FjdGlvbigpIHtcbiAgZm9yICh2YXIgX2xlbjcgPSBhcmd1bWVudHMubGVuZ3RoLCBhc3luY1RodW5rcyA9IG5ldyBBcnJheShfbGVuNyksIF9rZXk3ID0gMDsgX2tleTcgPCBfbGVuNzsgX2tleTcrKykge1xuICAgIGFzeW5jVGh1bmtzW19rZXk3XSA9IGFyZ3VtZW50c1tfa2V5N107XG4gIH1cblxuICBpZiAoYXN5bmNUaHVua3MubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgIHJldHVybiBoYXNFeHBlY3RlZFJlcXVlc3RNZXRhZGF0YShhY3Rpb24sIFsncGVuZGluZycsICdmdWxmaWxsZWQnLCAncmVqZWN0ZWQnXSk7XG4gICAgfTtcbiAgfVxuXG4gIGlmICghaXNBc3luY1RodW5rQXJyYXkoYXN5bmNUaHVua3MpKSB7XG4gICAgcmV0dXJuIGlzQXN5bmNUaHVua0FjdGlvbigpKGFzeW5jVGh1bmtzWzBdKTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgLy8gbm90ZTogdGhpcyB0eXBlIHdpbGwgYmUgY29ycmVjdCBiZWNhdXNlIHdlIGhhdmUgYXQgbGVhc3QgMSBhc3luY1RodW5rXG4gICAgdmFyIG1hdGNoZXJzID0gW107XG5cbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBhc3luY1RodW5rcywgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5KF9pdGVyYXRvciksIF9pID0gMCwgX2l0ZXJhdG9yID0gX2lzQXJyYXkgPyBfaXRlcmF0b3IgOiBfaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSgpOzspIHtcbiAgICAgIHZhciBfcmVmO1xuXG4gICAgICBpZiAoX2lzQXJyYXkpIHtcbiAgICAgICAgaWYgKF9pID49IF9pdGVyYXRvci5sZW5ndGgpIGJyZWFrO1xuICAgICAgICBfcmVmID0gX2l0ZXJhdG9yW19pKytdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX2kgPSBfaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICBpZiAoX2kuZG9uZSkgYnJlYWs7XG4gICAgICAgIF9yZWYgPSBfaS52YWx1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGFzeW5jVGh1bmsgPSBfcmVmO1xuICAgICAgbWF0Y2hlcnMucHVzaChhc3luY1RodW5rLnBlbmRpbmcsIGFzeW5jVGh1bmsucmVqZWN0ZWQsIGFzeW5jVGh1bmsuZnVsZmlsbGVkKTtcbiAgICB9XG5cbiAgICB2YXIgY29tYmluZWRNYXRjaGVyID0gaXNBbnlPZi5hcHBseSh2b2lkIDAsIG1hdGNoZXJzKTtcbiAgICByZXR1cm4gY29tYmluZWRNYXRjaGVyKGFjdGlvbik7XG4gIH07XG59XG5cbi8vIHdlIGFzc3VtZSBSVEsgd2lsbCBiZSB1c2VkIHdpdGggUmVhY3QgTmF0aXZlIGFuZCBvdGhlciBQcm94eS1sZXNzXG4vLyBlbnZpcm9ubWVudHMuICBJbiBhZGRpdGlvbiwgdGhhdCdzIGhvdyBJbW1lciA0IGJlaGF2ZWQsIGFuZCBzaW5jZVxuLy8gd2Ugd2FudCB0byBzaGlwIHRoaXMgaW4gYW4gUlRLIG1pbm9yLCB3ZSBzaG91bGQga2VlcCB0aGUgc2FtZSBiZWhhdmlvci5cblxuZW5hYmxlRVM1KCk7XG5cbmV4cG9ydCB7IE1pZGRsZXdhcmVBcnJheSwgY29uZmlndXJlU3RvcmUsIGNyZWF0ZUFjdGlvbiwgY3JlYXRlQXN5bmNUaHVuaywgY3JlYXRlRHJhZnRTYWZlU2VsZWN0b3IsIGNyZWF0ZUVudGl0eUFkYXB0ZXIsIGNyZWF0ZUltbXV0YWJsZVN0YXRlSW52YXJpYW50TWlkZGxld2FyZSwgY3JlYXRlUmVkdWNlciwgY3JlYXRlU2VyaWFsaXphYmxlU3RhdGVJbnZhcmlhbnRNaWRkbGV3YXJlLCBjcmVhdGVTbGljZSwgZmluZE5vblNlcmlhbGl6YWJsZVZhbHVlLCBnZXREZWZhdWx0TWlkZGxld2FyZSwgZ2V0VHlwZSwgaXNBbGxPZiwgaXNBbnlPZiwgaXNBc3luY1RodW5rQWN0aW9uLCBpc0Z1bGZpbGxlZCwgaXNJbW11dGFibGVEZWZhdWx0LCBpc1BlbmRpbmcsIGlzUGxhaW4sIGlzUGxhaW5PYmplY3QsIGlzUmVqZWN0ZWQsIGlzUmVqZWN0ZWRXaXRoVmFsdWUsIG5hbm9pZCwgdW53cmFwUmVzdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWR1eC10b29sa2l0LmVzbS5qcy5tYXBcbiIsImltcG9ydCB7XHJcbiAgY3JlYXRlQWN0aW9uLFxyXG4gIGNyZWF0ZVJlZHVjZXIsXHJcbiAgY29uZmlndXJlU3RvcmUsXHJcbn0gZnJvbSAnQHJlZHV4anMvdG9vbGtpdCc7XHJcbmltcG9ydCB7XHJcbiAgaW5pdGlhbFN0YXRlLFxyXG4gIGVycm9yLFxyXG4gIGxvYWRpbmcsXHJcbiAgcmVnaXN0ZXJlZCxcclxuICByZW1vdmVkLFxyXG4gIHdvcmtlcnNMb2FkZWQsXHJcbiAgY2xlYXJFcnJvcixcclxuICBXb3JrZXIsXHJcbn0gZnJvbSAnLi9yZWR1Y2VyJztcclxuaW1wb3J0IHRodW5rTWlkZGxld2FyZSBmcm9tICdyZWR1eC10aHVuayc7XHJcblxyXG5lbnVtIEFjdGlvblR5cGUge1xyXG4gIEVSUk9SID0gJ2Vycm9yJyxcclxuICBMT0FESU5HID0gJ2xvYWRpbmcnLFxyXG4gIFJFR0lTVEVSRUQgPSAncmVnaXN0ZXJlZCcsXHJcbiAgUkVNT1ZFRCA9ICdyZW1vdmVkJyxcclxuICBXT1JLRVJTX0xPQURFRCA9ICd3b3JrZXJzTG9hZGVkJyxcclxuICBDTEVBUl9FUlJPUiA9ICdjbGVhckVycm9yJyxcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IGVycm9yQWN0aW9uID0gY3JlYXRlQWN0aW9uPHN0cmluZz4oQWN0aW9uVHlwZS5FUlJPUik7XHJcbmV4cG9ydCBjb25zdCBsb2FkaW5nQWN0aW9uID0gY3JlYXRlQWN0aW9uKEFjdGlvblR5cGUuTE9BRElORyk7XHJcbmV4cG9ydCBjb25zdCByZWdpc3RlcmVkQWN0aW9uID0gY3JlYXRlQWN0aW9uPFdvcmtlcj4oQWN0aW9uVHlwZS5SRUdJU1RFUkVEKTtcclxuZXhwb3J0IGNvbnN0IHJlbW92ZWRBY3Rpb24gPSBjcmVhdGVBY3Rpb248bnVtYmVyPihBY3Rpb25UeXBlLlJFTU9WRUQpO1xyXG5leHBvcnQgY29uc3Qgd29ya2Vyc0xvYWRlZEFjdGlvbiA9IGNyZWF0ZUFjdGlvbjxXb3JrZXJbXT4oQWN0aW9uVHlwZS5XT1JLRVJTX0xPQURFRCk7XHJcbmV4cG9ydCBjb25zdCBjbGVhckVycm9yQWN0aW9uID0gY3JlYXRlQWN0aW9uKEFjdGlvblR5cGUuQ0xFQVJfRVJST1IpO1xyXG5cclxuY29uc3QgcmVkdWNlciA9IGNyZWF0ZVJlZHVjZXIoaW5pdGlhbFN0YXRlLCB7XHJcbiAgW0FjdGlvblR5cGUuRVJST1JdOiBlcnJvcixcclxuICBbQWN0aW9uVHlwZS5MT0FESU5HXTogbG9hZGluZyxcclxuICBbQWN0aW9uVHlwZS5SRUdJU1RFUkVEXTogcmVnaXN0ZXJlZCxcclxuICBbQWN0aW9uVHlwZS5SRU1PVkVEXTogcmVtb3ZlZCxcclxuICBbQWN0aW9uVHlwZS5XT1JLRVJTX0xPQURFRF06IHdvcmtlcnNMb2FkZWQsXHJcbiAgW0FjdGlvblR5cGUuQ0xFQVJfRVJST1JdOiBjbGVhckVycm9yLFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBzdG9yZSQgPSBjb25maWd1cmVTdG9yZSh7XHJcbiAgcmVkdWNlcixcclxuICBtaWRkbGV3YXJlOiBbdGh1bmtNaWRkbGV3YXJlXSxcclxufSk7XHJcbiIsImltcG9ydCB7IFNFUlZJQ0VfQkFTRVVSTCB9IGZyb20gJy4vY29uZmlnJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgV29ya2VyIHtcclxuICBpZDogbnVtYmVyO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBwaG90bzogc3RyaW5nO1xyXG4gIGJpbzogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQWN0aW9uT2JqZWN0IHtcclxuICB0eXBlOiBzdHJpbmc7XHJcbn1cclxuXHJcbmludGVyZmFjZSBBY3Rpb25PYmplY3RFcnJvciBleHRlbmRzIEFjdGlvbk9iamVjdCB7XHJcbiAgcGF5bG9hZDogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQWN0aW9uT2JqZWN0UmVnIGV4dGVuZHMgQWN0aW9uT2JqZWN0IHtcclxuICBwYXlsb2FkOiBXb3JrZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBBY3Rpb25PYmplY3REZWwgZXh0ZW5kcyBBY3Rpb25PYmplY3Qge1xyXG4gIHBheWxvYWQ6IG51bWJlcjtcclxufVxyXG5cclxuaW50ZXJmYWNlIEFjdGlvbk9iamVjdExvYWRlZCBleHRlbmRzIEFjdGlvbk9iamVjdCB7XHJcbiAgcGF5bG9hZDogV29ya2VyW107XHJcbn1cclxuXHJcbi8vIHNldHVwIHN0YXRlXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsU3RhdGUgPSB7XHJcbiAgbG9hZGluZzogZmFsc2UsXHJcbiAgZXJyb3I6IG51bGwsXHJcbiAgd29ya2VyczogW10sXHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9hZGluZyhzdGF0ZTogYW55KSB7XHJcbiAgc3RhdGUubG9hZGluZyA9IHRydWU7XHJcbiAgc3RhdGUuZXJyb3IgPSBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXJyb3Ioc3RhdGU6IGFueSwgYWN0aW9uOkFjdGlvbk9iamVjdEVycm9yKSB7XHJcbiAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xyXG4gIHN0YXRlLmVycm9yID0gYWN0aW9uLnBheWxvYWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhckVycm9yKHN0YXRlOiBhbnkpIHtcclxuICBzdGF0ZS5lcnJvciA9IG51bGw7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcmVkKHN0YXRlOiBhbnksIGFjdGlvbjogQWN0aW9uT2JqZWN0UmVnKSB7XHJcbiAgY29uc3Qgd29ya2VyID0gYWN0aW9uLnBheWxvYWQ7XHJcbiAgc3RhdGUud29ya2Vycy5wdXNoKHtcclxuICAgIGlkOiB3b3JrZXIuaWQsXHJcbiAgICBuYW1lOiB3b3JrZXIubmFtZSxcclxuICAgIHBob3RvOiBgJHtTRVJWSUNFX0JBU0VVUkx9L3Bob3RvLyR7d29ya2VyLnBob3RvfWAsXHJcbiAgICBiaW86IHdvcmtlci5iaW8sXHJcbiAgfSk7XHJcbiAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xyXG4gIHN0YXRlLmVycm9yID0gbnVsbDtcclxuICByZXR1cm4gc3RhdGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVkKHN0YXRlOiBhbnksIGFjdGlvbjogQWN0aW9uT2JqZWN0RGVsKSB7XHJcbiAgY29uc3QgaWR4ID0gc3RhdGUud29ya2Vycy5maW5kSW5kZXgoKHQpID0+IHQuaWQgPT09IGFjdGlvbi5wYXlsb2FkKTtcclxuICBzdGF0ZS53b3JrZXJzLnNwbGljZShpZHgsIDEpO1xyXG4gIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTtcclxuICBzdGF0ZS5lcnJvciA9IG51bGw7XHJcbiAgcmV0dXJuIHN0YXRlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gd29ya2Vyc0xvYWRlZChzdGF0ZTogYW55LCBhY3Rpb246IEFjdGlvbk9iamVjdExvYWRlZCkge1xyXG4gIHN0YXRlLndvcmtlcnMgPSBhY3Rpb24/LnBheWxvYWQ/Lm1hcCgod29ya2VyKSA9PiAoe1xyXG4gICAgaWQ6IHdvcmtlci5pZCxcclxuICAgIG5hbWU6IHdvcmtlci5uYW1lLFxyXG4gICAgcGhvdG86IGAke1NFUlZJQ0VfQkFTRVVSTH0vcGhvdG8vJHt3b3JrZXIucGhvdG99YCxcclxuICAgIGJpbzogd29ya2VyLmJpbyxcclxuICB9KSk7XHJcbiAgc3RhdGUubG9hZGluZyA9IGZhbHNlO1xyXG4gIHN0YXRlLmVycm9yID0gbnVsbDtcclxuICByZXR1cm4gc3RhdGU7XHJcbn1cclxuIiwiZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0T3B0aW9uIHtcclxuICBtZXRob2Q6ICdHRVQnIHwgJ1BPU1QnIHwgJ1BVVCcgfCAnREVMRVRFJyB8ICdPUFRJT04nO1xyXG4gIGJvZHk/OiBhbnk7XHJcbiAgY3VzdG9tQ29uZj86IGFueTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gY2xpZW50KGVuZHBvaW50OiBzdHJpbmcsIGpzb246IGFueSwgb3B0aW9uczogUmVxdWVzdE9wdGlvbik6IFByb21pc2U8YW55PiB7XHJcbiAgbGV0IGhlYWRlcnM6YW55O1xyXG4gIGlmIChqc29uKSB7XHJcbiAgICBoZWFkZXJzID0geyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH07XHJcbiAgfVxyXG5cclxuICBjb25zdCBjb25maWcgPSB7XHJcbiAgICBtZXRob2Q6IG9wdGlvbnM/Lm1ldGhvZCA/PyAnR0VUJyxcclxuICAgIC4uLm9wdGlvbnM/LmN1c3RvbUNvbmYsXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgIC4uLmhlYWRlcnMsXHJcbiAgICAgIC4uLm9wdGlvbnM/LmN1c3RvbUNvbmY/LmhlYWRlcnMsXHJcbiAgICB9LFxyXG4gIH07XHJcblxyXG4gIGlmIChvcHRpb25zPy5ib2R5KSB7XHJcbiAgICBpZiAoanNvbikge1xyXG4gICAgICBjb25maWcuYm9keSA9IEpTT04uc3RyaW5naWZ5KG9wdGlvbnM/LmJvZHkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgZm9yIChjb25zdCBuYW1lIGluIG9wdGlvbnM/LmJvZHkpIHtcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQobmFtZSwgb3B0aW9ucz8uYm9keVtuYW1lXSk7XHJcbiAgICAgIH1cclxuICAgICAgY29uZmlnLmJvZHkgPSBmb3JtRGF0YTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGxldCBkYXRhOmFueTtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB3aW5kb3cuZmV0Y2goZW5kcG9pbnQsIGNvbmZpZyk7XHJcbiAgICBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YT8uc3RhdHVzVGV4dCA/PyAnR2FnYWwgcmVxdWVzdCBrZSBhcGknKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIubWVzc2FnZSB8fCBkYXRhKTtcclxuICB9XHJcbn1cclxuXHJcbmNsaWVudC5nZXQgPSAoZW5kcG9pbnQ6IHN0cmluZywgY3VzdG9tQ29uZjphbnkgPSB7fSk6IFByb21pc2U8YW55PiA9PiB7XHJcbiAgcmV0dXJuIGNsaWVudChlbmRwb2ludCwgdHJ1ZSwgeyBtZXRob2Q6ICdHRVQnLCAuLi5jdXN0b21Db25mIH0pO1xyXG59O1xyXG5cclxuY2xpZW50LnBvc3QgPSAoZW5kcG9pbnQ6IHN0cmluZywgYm9keTogYW55LCBqc29uOmFueSA9IG51bGwsIGN1c3RvbUNvbmY6IGFueSA9IHt9KTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICByZXR1cm4gY2xpZW50KGVuZHBvaW50LCBqc29uLCB7IG1ldGhvZDogJ1BPU1QnLCBib2R5LCAuLi5jdXN0b21Db25mIH0pO1xyXG59O1xyXG5cclxuY2xpZW50LnB1dCA9IChlbmRwb2ludDogc3RyaW5nLCBib2R5OiBhbnkgPSBudWxsLCBqc29uOmFueSA9IG51bGwsIGN1c3RvbUNvbmY6IGFueSA9IHt9KTogUHJvbWlzZTxhbnk+ID0+IHtcclxuICByZXR1cm4gY2xpZW50KGVuZHBvaW50LCBqc29uLCB7IG1ldGhvZDogJ1BVVCcsIGJvZHksIC4uLmN1c3RvbUNvbmYgfSk7XHJcbn07XHJcblxyXG5jbGllbnQuZGVsID0gKGVuZHBvaW50OiBzdHJpbmcsIGJvZHk6IGFueSA9IG51bGwsIGpzb246YW55ID0gbnVsbCwgY3VzdG9tQ29uZjogYW55ID0ge30pOiBQcm9taXNlPGFueT4gPT4ge1xyXG4gIHJldHVybiBjbGllbnQoZW5kcG9pbnQsIGpzb24sIHsgbWV0aG9kOiAnREVMRVRFJywgYm9keSwgLi4uY3VzdG9tQ29uZiB9KTtcclxufTtcclxuXHJcbmV4cG9ydCB7IGNsaWVudCBhcyBodHRwQ2xpZW50IH07XHJcbiIsImltcG9ydCB7XHJcbiAgbG9hZGluZ0FjdGlvbixcclxuICBlcnJvckFjdGlvbixcclxuICByZWdpc3RlcmVkQWN0aW9uLFxyXG4gIHJlbW92ZWRBY3Rpb24sXHJcbiAgd29ya2Vyc0xvYWRlZEFjdGlvbixcclxufSBmcm9tICcuL3N0b3JlJztcclxuaW1wb3J0ICogYXMgd29ya2VyU3ZjIGZyb20gJy4vd29ya2VyLmNsaWVudCc7XHJcbmltcG9ydCAqIGFzIFNlbnRyeSBmcm9tICdAc2VudHJ5L3Z1ZSc7XHJcblxyXG5leHBvcnQgY29uc3QgcmVnaXN0ZXIgPSAoZGF0YTogYW55KSA9PiBhc3luYyAoZGlzcGF0Y2g6IGFueSkgPT4ge1xyXG4gIGRpc3BhdGNoKGxvYWRpbmdBY3Rpb24oKSk7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHdvcmtlciA9IGF3YWl0IHdvcmtlclN2Yy5yZWdpc3RlcihkYXRhKTtcclxuICAgIGRpc3BhdGNoKHJlZ2lzdGVyZWRBY3Rpb24od29ya2VyKSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBTZW50cnkuY2FwdHVyZUV4Y2VwdGlvbihuZXcgRXJyb3IoZXJyKSk7XHJcbiAgICBkaXNwYXRjaChlcnJvckFjdGlvbihgZ2FnYWwgbWVuZGFmdGFya2FuICR7ZGF0YS5uYW1lfWApKTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVtb3ZlID0gKGlkOiBudW1iZXIpID0+IGFzeW5jIChkaXNwYXRjaDogYW55KSA9PiB7XHJcbiAgZGlzcGF0Y2gobG9hZGluZ0FjdGlvbigpKTtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgd29ya2VyU3ZjLnJlbW92ZShpZCk7XHJcbiAgICBkaXNwYXRjaChyZW1vdmVkQWN0aW9uKGlkKSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBTZW50cnkuY2FwdHVyZUV4Y2VwdGlvbihuZXcgRXJyb3IoZXJyKSk7XHJcbiAgICBkaXNwYXRjaChlcnJvckFjdGlvbignZ2FnYWwgbWVuZ2hhcHVzIHBla2VyamEnKSk7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldExpc3QgPSBhc3luYyAoZGlzcGF0Y2g6IGFueSkgPT4ge1xyXG4gIGRpc3BhdGNoKGxvYWRpbmdBY3Rpb24oKSk7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHdvcmtlcnMgPSBhd2FpdCB3b3JrZXJTdmMubGlzdCgpO1xyXG4gICAgZGlzcGF0Y2god29ya2Vyc0xvYWRlZEFjdGlvbih3b3JrZXJzKSk7XHJcbiAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICBTZW50cnkuY2FwdHVyZUV4Y2VwdGlvbihuZXcgRXJyb3IoZXJyKSk7XHJcbiAgICBkaXNwYXRjaChlcnJvckFjdGlvbignZ2FnYWwgbWVtdWF0IGRhZnRhciBwZWtlcmphJykpO1xyXG4gIH1cclxufTtcclxuIiwiaW1wb3J0IHsgaHR0cENsaWVudCBhcyBjbGllbnQgfSBmcm9tICcuLi9saWIvaHR0cC1jbGllbnQnO1xyXG5pbXBvcnQgeyBTRVJWSUNFX0JBU0VVUkwgfSBmcm9tICcuL2NvbmZpZyc7XHJcbmltcG9ydCB7IFdvcmtlciB9IGZyb20gJy4vcmVkdWNlcidcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlcihkYXRhOiBhbnkpOlByb21pc2U8V29ya2VyPiB7XHJcbiAgcmV0dXJuIGNsaWVudC5wb3N0KGAke1NFUlZJQ0VfQkFTRVVSTH0vcmVnaXN0ZXJgLCBkYXRhKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxpc3QoKTpQcm9taXNlPFdvcmtlcltdPiB7XHJcbiAgcmV0dXJuIGNsaWVudC5nZXQoYCR7U0VSVklDRV9CQVNFVVJMfS9saXN0YCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmUoaWQ6IG51bWJlcik6UHJvbWlzZTxXb3JrZXI+IHtcclxuICByZXR1cm4gY2xpZW50LmRlbChgJHtTRVJWSUNFX0JBU0VVUkx9L3JlbW92ZT9pZD0ke2lkfWApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5mbyhpZDogbnVtYmVyKTpQcm9taXNlPFdvcmtlcj4ge1xyXG4gIHJldHVybiBjbGllbnQuZ2V0KGAke1NFUlZJQ0VfQkFTRVVSTH0vaW5mbz9pZD0ke2lkfWApO1xyXG59XHJcbiIsImltcG9ydCBWdWUsIHsgQ3JlYXRlRWxlbWVudCwgVk5vZGUgfSBmcm9tICd2dWUnO1xyXG5cclxuY29uc3QgTmF2aWdhdGlvbiA9IFZ1ZS5leHRlbmQoe1xyXG4gIHJlbmRlcihjcmVhdGVFbGVtZW50OiBDcmVhdGVFbGVtZW50KTogVk5vZGUge1xyXG4gICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoJ2RpdicsIFtcclxuICAgICAgY3JlYXRlRWxlbWVudCgndWwnLCBbXHJcbiAgICAgICAgY3JlYXRlRWxlbWVudCgnbGknLCBbXHJcbiAgICAgICAgICBjcmVhdGVFbGVtZW50KCdhJywgeyBkb21Qcm9wczogeyBocmVmOiAnd29ya2VyLmh0bWwnIH0gfSwgJ3Bla2VyamEnKSxcclxuICAgICAgICBdKSxcclxuICAgICAgICBjcmVhdGVFbGVtZW50KCdsaScsIFtcclxuICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2EnLCB7IGRvbVByb3BzOiB7IGhyZWY6ICd0YXNrcy5odG1sJyB9IH0sICdwZWtlcmphYW4nKSxcclxuICAgICAgICBdKSxcclxuICAgICAgICBjcmVhdGVFbGVtZW50KCdsaScsIFtcclxuICAgICAgICAgIGNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICAgICdhJyxcclxuICAgICAgICAgICAgeyBkb21Qcm9wczogeyBocmVmOiAncGVyZm9ybWFuY2UuaHRtbCcgfSB9LFxyXG4gICAgICAgICAgICAna2luZXJqYSdcclxuICAgICAgICAgICksXHJcbiAgICAgICAgXSksXHJcbiAgICAgIF0pLFxyXG4gICAgICBjcmVhdGVFbGVtZW50KCdocicpLFxyXG4gICAgXSk7XHJcbiAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBOYXZpZ2F0aW9uO1xyXG4iLCJpbXBvcnQgVnVlLCB7IENyZWF0ZUVsZW1lbnQsIFZOb2RlIH0gZnJvbSAndnVlJztcclxuaW1wb3J0IHsgcmVnaXN0ZXIgfSBmcm9tICcuLi9hc3luYy1hY3Rpb24nO1xyXG5pbXBvcnQgeyBjbGVhckVycm9yQWN0aW9uLCBlcnJvckFjdGlvbiwgc3RvcmUkIH0gZnJvbSAnLi4vc3RvcmUnO1xyXG5pbXBvcnQgeyBjYXB0dXJlTWVzc2FnZSB9IGZyb20gJ0BzZW50cnkvdnVlJztcclxuXHJcbmNvbnN0IEZvcm0gPSBWdWUuZXh0ZW5kKHtcclxuICByZW5kZXIoY3JlYXRlRWxlbWVudDogQ3JlYXRlRWxlbWVudCk6IFZOb2RlIHtcclxuICAgIHJldHVybiBjcmVhdGVFbGVtZW50KFxyXG4gICAgICAnZm9ybScsXHJcbiAgICAgIHtcclxuICAgICAgICBvbjoge1xyXG4gICAgICAgICAgc3VibWl0OiB0aGlzLnN1Ym1pdE5ld1Rhc2ssXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgW1xyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2xhYmVsJywgeyBkb21Qcm9wczogeyBmb3I6ICduYW1lJyB9IH0sICdOYW1hOicpLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2JyJyksXHJcbiAgICAgICAgY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XHJcbiAgICAgICAgICBkb21Qcm9wczogeyBuYW1lOiAnbmFtZScsIHBsYWNlaG9sZGVyOiAnbWlzYWwgYnVkaW1hbicgfSxcclxuICAgICAgICAgIG9uOiB7XHJcbiAgICAgICAgICAgIGlucHV0OiAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLm5hbWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2JyJyksXHJcbiAgICAgICAgY3JlYXRlRWxlbWVudCgnbGFiZWwnLCB7IGRvbVByb3BzOiB7IGZvcjogJ2FnZScgfSB9LCAnVW11cjonKSxcclxuICAgICAgICBjcmVhdGVFbGVtZW50KCdicicpLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2lucHV0Jywge1xyXG4gICAgICAgICAgZG9tUHJvcHM6IHtcclxuICAgICAgICAgICAgbmFtZTogJ2FnZScsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnbWlzYWwgYnVkaW1hbicsXHJcbiAgICAgICAgICAgIHR5cGU6ICdudW1iZXInLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG9uOiB7XHJcbiAgICAgICAgICAgIGlucHV0OiAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICB0aGlzLmFnZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgY3JlYXRlRWxlbWVudCgnYnInKSxcclxuICAgICAgICBjcmVhdGVFbGVtZW50KCdsYWJlbCcsIHsgZG9tUHJvcHM6IHsgZm9yOiAncGhvdG8nIH0gfSwgJ0ZvdG86JyksXHJcbiAgICAgICAgY3JlYXRlRWxlbWVudCgnYnInKSxcclxuICAgICAgICBjcmVhdGVFbGVtZW50KCdpbnB1dCcsIHtcclxuICAgICAgICAgIGRvbVByb3BzOiB7XHJcbiAgICAgICAgICAgIG5hbWU6ICdwaG90bycsXHJcbiAgICAgICAgICAgIHR5cGU6ICdmaWxlJyxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBvbjoge1xyXG4gICAgICAgICAgICBjaGFuZ2U6IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMucGhvdG8gPSBldmVudC50YXJnZXQuZmlsZXNbMF07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2JyJyksXHJcbiAgICAgICAgY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICdsYWJlbCcsXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGRvbVByb3BzOiB7IGZvcjogJ2JpbycgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAnQmlvZGF0YSBzaW5na2F0OidcclxuICAgICAgICApLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2JyJyksXHJcbiAgICAgICAgY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICd0ZXh0YXJlYScsXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGRvbVByb3BzOiB7XHJcbiAgICAgICAgICAgICAgbmFtZTogJ2JpbycsXHJcbiAgICAgICAgICAgICAgY29sczogJzMwJyxcclxuICAgICAgICAgICAgICByb3dzOiAnMycsXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdiaW9kYXRhIHNpbmdrYXQgcGVrZXJqYScsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uOiB7XHJcbiAgICAgICAgICAgICAgaW5wdXQ6IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iaW8gPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAnJ1xyXG4gICAgICAgICksXHJcbiAgICAgICAgY3JlYXRlRWxlbWVudCgnYnInKSxcclxuICAgICAgICBjcmVhdGVFbGVtZW50KFxyXG4gICAgICAgICAgJ2xhYmVsJyxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgZG9tUHJvcHM6IHsgZm9yOiAnYWRkcmVzcycgfSxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAnQWxhbWF0OidcclxuICAgICAgICApLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2JyJyksXHJcbiAgICAgICAgY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICd0ZXh0YXJlYScsXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGRvbVByb3BzOiB7XHJcbiAgICAgICAgICAgICAgbmFtZTogJ2FkZHJlc3MnLFxyXG4gICAgICAgICAgICAgIGNvbHM6ICczMCcsXHJcbiAgICAgICAgICAgICAgcm93czogJzMnLFxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnYWxhbWF0IHBla2VyamEnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbjoge1xyXG4gICAgICAgICAgICAgIGlucHV0OiAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkcmVzcyA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgICcnXHJcbiAgICAgICAgKSxcclxuICAgICAgICBjcmVhdGVFbGVtZW50KCdicicpLFxyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsICdraXJpbScpLFxyXG4gICAgICBdXHJcbiAgICApO1xyXG4gIH0sXHJcbiAgZGF0YToge1xyXG4gICAgbmFtZTogJycsXHJcbiAgICBwaG90bzogbnVsbCxcclxuICAgIGFnZTogMCxcclxuICAgIGJpbzogJycsXHJcbiAgICBhZGRyZXNzOiAnJyxcclxuICB9LFxyXG4gIG1ldGhvZHM6IHtcclxuICAgIHN1Ym1pdE5ld1Rhc2soZXZlbnQpIHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgc3RvcmUkLmRpc3BhdGNoPGFueT4oY2xlYXJFcnJvckFjdGlvbigpKTtcclxuICAgICAgaWYgKFxyXG4gICAgICAgICF0aGlzLm5hbWUgfHxcclxuICAgICAgICAhdGhpcy5hZ2UgfHxcclxuICAgICAgICAhdGhpcy5waG90byB8fFxyXG4gICAgICAgICF0aGlzLmJpbyB8fFxyXG4gICAgICAgICF0aGlzLmFkZHJlc3NcclxuICAgICAgKSB7XHJcbiAgICAgICAgc3RvcmUkLmRpc3BhdGNoPGFueT4oZXJyb3JBY3Rpb24oJ2Zvcm0gaXNpYW4gdGlkYWsgbGVuZ2thcCEnKSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyByZWdpc3RlciB1c2VyXHJcbiAgICAgIHN0b3JlJC5kaXNwYXRjaDxhbnk+KFxyXG4gICAgICAgIHJlZ2lzdGVyKHtcclxuICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcclxuICAgICAgICAgIHBob3RvOiB0aGlzLnBob3RvLFxyXG4gICAgICAgICAgYWdlOiB0aGlzLmFnZSxcclxuICAgICAgICAgIGJpbzogdGhpcy5iaW8sXHJcbiAgICAgICAgICBhZGRyZXNzOiB0aGlzLmFkZHJlc3MsXHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuICAgICAgY2FwdHVyZU1lc3NhZ2UoJ1dvcmtlciBhZGRlZCcpO1xyXG5cclxuICAgICAgdGhpcy5uYW1lID0gJyc7XHJcbiAgICAgIHRoaXMucGhvdG8gPSBudWxsO1xyXG4gICAgICB0aGlzLmFnZSA9IDA7XHJcbiAgICAgIHRoaXMuYmlvID0gJyc7XHJcbiAgICAgIHRoaXMuYWRkcmVzcyA9ICcnO1xyXG4gICAgICBldmVudC50YXJnZXQucmVzZXQoKTtcclxuICAgIH0sXHJcbiAgfSxcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBGb3JtO1xyXG4iLCJpbXBvcnQgVnVlLCB7IENyZWF0ZUVsZW1lbnQsIFZOb2RlIH0gZnJvbSAndnVlJztcclxuaW1wb3J0IHsgcmVtb3ZlIH0gZnJvbSAnLi4vYXN5bmMtYWN0aW9uJztcclxuaW1wb3J0IHsgV29ya2VyIH0gZnJvbSAnLi4vcmVkdWNlcic7XHJcbmltcG9ydCB7IHN0b3JlJCB9IGZyb20gJy4uL3N0b3JlJztcclxuXHJcbmNvbnN0IFdvcmtlckxpc3QgPSBWdWUuZXh0ZW5kKHtcclxuICBwcm9wczogWyd3b3JrZXJzJ10sXHJcbiAgcmVuZGVyKGNyZWF0ZUVsZW1lbnQ6IENyZWF0ZUVsZW1lbnQpOiBWTm9kZSB7XHJcbiAgICBjb25zdCB3b3JrZXJMaXN0ID0gdGhpcy4kcHJvcHMud29ya2Vycy5tYXAoKHc6IFdvcmtlcikgPT4ge1xyXG4gICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCgnZGl2JywgW1xyXG4gICAgICAgIGNyZWF0ZUVsZW1lbnQoJ2ltZycsIHtcclxuICAgICAgICAgIGRvbVByb3BzOiB7IHNyYzogdy5waG90bywgYWx0OiAnJywgd2lkdGg6ICc1MCcsIGhlaWdodDogJzUwJyB9LFxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgICcgJyxcclxuICAgICAgICBjcmVhdGVFbGVtZW50KCdzcGFuJywgdy5uYW1lKSxcclxuICAgICAgICAnICcsXHJcbiAgICAgICAgY3JlYXRlRWxlbWVudChcclxuICAgICAgICAgICdidXR0b24nLFxyXG4gICAgICAgICAgeyBvbjogeyBjbGljazogKCkgPT4gdGhpcy5kZWxldGVXb3JrZXIody5pZCkgfSB9LFxyXG4gICAgICAgICAgJ2hhcHVzJ1xyXG4gICAgICAgICksXHJcbiAgICAgIF0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudCgnZGl2Jywgd29ya2VyTGlzdCk7XHJcbiAgfSxcclxuICBtZXRob2RzOiB7XHJcbiAgICBkZWxldGVXb3JrZXIoaWQpIHtcclxuICAgICAgc3RvcmUkLmRpc3BhdGNoPGFueT4ocmVtb3ZlKGlkKSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgV29ya2VyTGlzdDtcclxuIiwiaW1wb3J0ICcuL21haW4uY3NzJztcclxuaW1wb3J0ICcuLi9saWIvc2VudHJ5JztcclxuaW1wb3J0IFZ1ZSwgeyBDcmVhdGVFbGVtZW50LCBWTm9kZSB9IGZyb20gJ3Z1ZSc7XHJcbmltcG9ydCB7IGdldExpc3QgfSBmcm9tICcuL2FzeW5jLWFjdGlvbic7XHJcbmltcG9ydCB7IHN0b3JlJCB9IGZyb20gJy4vc3RvcmUnO1xyXG5pbXBvcnQgTmF2aWdhdGlvbiBmcm9tICcuL2NvbXBvbmVudHMvbmF2aWdhdGlvbic7XHJcbmltcG9ydCBGb3JtIGZyb20gJy4vY29tcG9uZW50cy9mb3JtJztcclxuaW1wb3J0IFdvcmtlckxpc3QgZnJvbSAnLi9jb21wb25lbnRzL3dvcmtlci1saXN0JztcclxuXHJcbm5ldyBWdWUoe1xyXG4gIGVsOiAnI3dvcmtlcicsXHJcbiAgY29tcG9uZW50czoge1xyXG4gICAgbmF2aWdhdGlvbjogTmF2aWdhdGlvbixcclxuICAgICd3b3JrZXItbGlzdCc6IFdvcmtlckxpc3QsXHJcbiAgICAnZm9ybS13b3JrZXInOiBGb3JtLFxyXG4gIH0sXHJcbiAgcmVuZGVyKGNyZWF0ZUVsZW1lbnQ6IENyZWF0ZUVsZW1lbnQpOiBWTm9kZSB7XHJcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudCgnZGl2JywgW1xyXG4gICAgICBjcmVhdGVFbGVtZW50KCduYXZpZ2F0aW9uJyksXHJcbiAgICAgIGNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgJ3AnLFxyXG4gICAgICAgIHsgZG9tUHJvcHM6IHsgaWQ6ICdlcnJvci10ZXh0JyB9LCBjbGFzczogeyBlcnJvcjogdHJ1ZSB9IH0sXHJcbiAgICAgICAgdGhpcy5lcnJvclxyXG4gICAgICApLFxyXG4gICAgICB0aGlzLmxvYWRpbmdcclxuICAgICAgICA/IGNyZWF0ZUVsZW1lbnQoXHJcbiAgICAgICAgICAgICdwJyxcclxuICAgICAgICAgICAgeyBkb21Qcm9wczogeyBpZDogJ2xvYWRpbmctdGV4dCcgfSwgY2xhc3M6IHsgcHJpbWFyeTogdHJ1ZSB9IH0sXHJcbiAgICAgICAgICAgICdtZW11YXQuLi4nXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgOiBudWxsLFxyXG4gICAgICBjcmVhdGVFbGVtZW50KCdoNCcsICdEYWZ0YXJrYW4gcGVrZXJqYWFuIGJhcnUnKSxcclxuICAgICAgY3JlYXRlRWxlbWVudCgnZm9ybS13b3JrZXInKSxcclxuICAgICAgY3JlYXRlRWxlbWVudCgnaHInKSxcclxuICAgICAgY3JlYXRlRWxlbWVudCgnaDQnLCAnRGFmdGFyIHBla2VyamEnKSxcclxuICAgICAgY3JlYXRlRWxlbWVudCgnd29ya2VyLWxpc3QnLCB7IHByb3BzOiB7IHdvcmtlcnM6IHRoaXMud29ya2VyIH0gfSksXHJcbiAgICBdKTtcclxuICB9LFxyXG4gIGRhdGE6IHtcclxuICAgIHdvcmtlcjogW10sXHJcbiAgICBlcnJvcjogJycsXHJcbiAgICBsb2FkaW5nOiBmYWxzZSxcclxuICB9LFxyXG4gIG1vdW50ZWQoKSB7XHJcbiAgICBjb25zdCBzdGF0ZSA9IHN0b3JlJC5nZXRTdGF0ZSgpO1xyXG4gICAgdGhpcy53b3JrZXIgPSBzdGF0ZS53b3JrZXJzO1xyXG4gICAgdGhpcy5sb2FkaW5nID0gc3RhdGUubG9hZGluZztcclxuICAgIHRoaXMuZXJyb3IgPSBzdGF0ZS5lcnJvcjtcclxuICAgIHN0b3JlJC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICBjb25zdCBzdGF0ZSA9IHN0b3JlJC5nZXRTdGF0ZSgpO1xyXG4gICAgICB0aGlzLndvcmtlciA9IHN0YXRlLndvcmtlcnM7XHJcbiAgICAgIHRoaXMubG9hZGluZyA9IHN0YXRlLmxvYWRpbmc7XHJcbiAgICAgIHRoaXMuZXJyb3IgPSBzdGF0ZS5lcnJvcjtcclxuICAgIH0pO1xyXG4gICAgc3RvcmUkLmRpc3BhdGNoPGFueT4oZ2V0TGlzdCk7XHJcbiAgfSxcclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=